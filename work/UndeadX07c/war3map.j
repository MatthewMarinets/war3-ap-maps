//===========================================================================
// 
// UndeadX07c
// 
//   Warcraft III map script
//   Generated by the Warcraft III World Editor
//   Date: Mon May 12 19:16:18 2003
//   Map Author: Blizzard Entertainment
// 
//===========================================================================

//***************************************************************************
//*
//*  Global Variables
//*
//***************************************************************************

globals
    // User-defined
    player                  udg_AP1_Player             = null
    player                  udg_AP2_UnbrokenOnes       = null
    group                   udg_RescuableGroup         = null
    unit                    udg_Arthas                 = null
    unit                    udg_Anubarak               = null
    force                   udg_APG1_Player            = null
    boolean                 udg_IntroSkipped           = false
    group                   udg_HiddenUnits            = null
    player                  udg_AP3_Nerubians          = null
    group                   udg_StartingUnits          = null
    boolean                 udg_ExpDisabledForAnuburak = false
    boolean                 udg_GameOver               = false
    group                   udg_HiddenUnitsCreep       = null
    group                   udg_SelectedUnits          = null
    location                udg_CameraReturnPoint      = null
    boolean                 udg_VictorySkipped         = false
    quest                   udg_QuestEscape            = null
    questitem               udg_QuestEscapeReq         = null
    quest                   udg_QuestGold              = null
    boolean                 udg_InCinematic            = false
    questitem               udg_QuestGold0Req          = null
    unit                    udg_Crypt01                = null
    unit                    udg_Crypt02                = null
    unit                    udg_Crypt03                = null
    fogmodifier             udg_VisibilityBlackMaskIntroCin = null
    timer                   udg_CaveCollapseTimer      = null
    questitem               udg_QuestArthasSurviveReq  = null
    sound                   udg_SoundPlates            = null
    sound                   udg_SoundEarthquake        = null
    sound                   udg_SoundCollapse          = null
    timer                   udg_TimingTrap01Timer      = null
    timer                   udg_TimingTrap02Timer      = null
    timer                   udg_TimingTrap03Timer      = null
    group                   udg_SideFlameRevealerGroup = null
    fogmodifier             udg_VisibilitySideFlame    = null
    unit                    udg_BlizzardStriker        = null
    boolean                 udg_MidCinRejoinSkipped    = false
    sound                   udg_ElevatorsSound         = null
    timer                   udg_EleTimer               = null
    boolean                 udg_SideFlame01            = false
    boolean                 udg_SideFlame02            = false
    boolean                 udg_SideFlame03            = false
    real                    udg_SideFlame01TimeDelay   = 0
    real                    udg_SideFlame02TimeDelay   = 0
    real                    udg_SideFlame03TimeDelay   = 0
    fogmodifier             udg_VisibilityGeyserFlame  = null
    group                   udg_GeyserFlameRevealerGroup = null
    boolean                 udg_Plate01FlameOn         = false
    boolean                 udg_Plate02FlameOn         = false
    boolean                 udg_Plate03FlameOn         = false
    boolean                 udg_Plate04FlameOn         = false
    timer                   udg_TimerPlate01Death      = null
    timer                   udg_TimerPlate02Death      = null
    timer                   udg_TimerPlate03Death      = null
    timer                   udg_TimerPlate04Death      = null
    timer                   udg_TimerPlate01Stand      = null
    timer                   udg_TimerPlate02Stand      = null
    timer                   udg_TimerPlate03Stand      = null
    timer                   udg_TimerPlate04Stand      = null
    boolean                 udg_Plate01SustainedArea   = false
    real                    udg_GeyserFlameDamage      = 0
    boolean                 udg_Plate02SustainedArea   = false
    boolean                 udg_Plate03SustainedArea   = false
    boolean                 udg_Plate04SustainedArea   = false
    sound                   udg_SoundDoorOpening       = null
    unit                    udg_Crypt04                = null
    unit                    udg_Crypt05                = null
    destructable            udg_WhichElevatorA         = null
    destructable            udg_WhichElevatorB         = null
    integer                 udg_WhichHeightA           = 0
    integer                 udg_WhichHeightB           = 0
    destructable array      udg_zElevatorsA
    destructable array      udg_zElevatorsB
    destructable array      udg_zElevatorsC
    destructable array      udg_zElevatorsD
    integer array           udg_zOldHeightsA
    integer array           udg_zOldHeightsB
    integer array           udg_zOldHeightsC
    integer array           udg_zOldHeightsD
    integer array           udg_zNewHeightsA
    integer array           udg_zNewHeightsB
    integer array           udg_zNewHeightsC
    integer array           udg_zNewHeightsD
    integer                 udg_WhichNewDiff           = 0
    integer                 udg_WhichOldDiff           = 0
    integer array           udg_zHeightTop
    integer array           udg_zHeightBottom
    fogmodifier             udg_VisibilityBigElevator  = null
    group                   udg_BigElevatorRevealerGroup = null
    boolean                 udg_TwoPlate01Down         = false
    boolean                 udg_TwoPlate02Down         = false
    fogmodifier             udg_VisibilityTwoPlates    = null
    group                   udg_TwoPlatesRevealerGroup = null
    boolean                 udg_TwoPlateSolved         = false
    questitem               udg_QuestAnubarakSurviveReq = null
    real                    udg_BlueSideFlameDamage    = 0
    fogmodifier             udg_VisibilityMage         = null
    group                   udg_MageRevealerGroup      = null
    timer                   udg_TimerYellow            = null
    timer                   udg_TimerRed               = null
    integer                 udg_GoldCoinsFound         = 0
    location                udg_TempPointA             = null
    location                udg_TempPointB             = null
    group                   udg_ElevatorBaddies        = null
    unit                    udg_EndCineFiendA          = null
    unit                    udg_EndCineFiendB          = null
    unit                    udg_EndCineFiendC          = null
    boolean                 udg_ElevatorDisarmed       = false
    sound                   udg_RollingGateSound       = null
    sound                   udg_FlameSideSound01       = null
    sound                   udg_FlameSideSound02       = null
    sound                   udg_FlameSideSound03       = null
    sound                   udg_FlameGeyserSound01     = null
    sound                   udg_FlameGeyserSound02     = null
    sound                   udg_FlameGeyserSound03     = null
    sound                   udg_FlameGeyserSound04     = null
    boolean                 udg_SideFlameDeactivated   = false
    sound                   udg_FlameSustained         = null
    boolean                 udg_SustainedFlamesSoundOn = false
    real                    udg_FlameVolume            = 0
    real                    udg_FlameVolumeSustained   = 0
    fogmodifier             udg_SecrectElevatorVisibility = null
    texttag                 udg_TempFloaty             = null
    unit                    udg_FakeAnubarak           = null
    sound                   udg_SpectralBridgeSound    = null
    boolean                 udg_EasyOn                 = false
    group                   udg_FinalGuardians         = null
    location                udg_PointFlameSide01       = null
    location                udg_PointFlameSide02       = null
    location                udg_PointFlameSide03       = null
    location                udg_TempPoint              = null
    timer                   udg_CaveCollapseTimer02    = null
    group                   udg_TempUnitGroup          = null
    integer                 udg_TempInteger            = 0

    // Generated
    rect                    gg_rct_AggroBigElevatorArea = null
    rect                    gg_rct_AnubarakFinal_End_trev = null
    rect                    gg_rct_AnubarakFinal_trev  = null
    rect                    gg_rct_AnubarakMoveDest    = null
    rect                    gg_rct_AnubarakSpawn       = null
    rect                    gg_rct_ArthasFinal_End_trev = null
    rect                    gg_rct_ArthasFinal_trev    = null
    rect                    gg_rct_ArthasIntroDest01   = null
    rect                    gg_rct_ArthasIntroDest02   = null
    rect                    gg_rct_ArthasIntroFinal    = null
    rect                    gg_rct_ArthasSpawn         = null
    rect                    gg_rct_AttackMoveGroupNearEnd = null
    rect                    gg_rct_Black_Mask_Area     = null
    rect                    gg_rct_Breaking_Through_Init_Area = null
    rect                    gg_rct_Cripple_Area_01     = null
    rect                    gg_rct_Cripple_Area_02     = null
    rect                    gg_rct_Crypt01IntroDest01  = null
    rect                    gg_rct_Crypt01IntroDest02  = null
    rect                    gg_rct_Crypt02IntroDest01  = null
    rect                    gg_rct_Crypt03IntroDest01  = null
    rect                    gg_rct_Crypt03IntroDest02  = null
    rect                    gg_rct_Crypt04IntroDest01  = null
    rect                    gg_rct_Crypt04IntroDest02  = null
    rect                    gg_rct_Crypt05IntroDest01  = null
    rect                    gg_rct_Crypt05IntroDest02  = null
    rect                    gg_rct_Curse_Area          = null
    rect                    gg_rct_CursorAttackMoveDest = null
    rect                    gg_rct_D1                  = null
    rect                    gg_rct_Dialogue_Singed_Area = null
    rect                    gg_rct_DialogueBlockingWayArea = null
    rect                    gg_rct_Dust_Effect_Area_01 = null
    rect                    gg_rct_Dust_Effect_Area_02 = null
    rect                    gg_rct_Dust_Fountain_Area  = null
    rect                    gg_rct_Earthquake_Final_Area = null
    rect                    gg_rct_Earthquake01Area    = null
    rect                    gg_rct_Earthquake02Area    = null
    rect                    gg_rct_Elevator_Orb        = null
    rect                    gg_rct_Elevator_Power_Generator = null
    rect                    gg_rct_Ensnare_Area        = null
    rect                    gg_rct_Exit_to_Snow        = null
    rect                    gg_rct_Flame_A1            = null
    rect                    gg_rct_Flame_A2            = null
    rect                    gg_rct_Flame_A3            = null
    rect                    gg_rct_Flame_A4            = null
    rect                    gg_rct_Flame_A5            = null
    rect                    gg_rct_Flame_B1            = null
    rect                    gg_rct_Flame_B2            = null
    rect                    gg_rct_Flame_B4            = null
    rect                    gg_rct_Flame_B5            = null
    rect                    gg_rct_Flame_C1            = null
    rect                    gg_rct_Flame_C2            = null
    rect                    gg_rct_Flame_C3            = null
    rect                    gg_rct_Flame_C4            = null
    rect                    gg_rct_Flame_C5            = null
    rect                    gg_rct_Flame_D2            = null
    rect                    gg_rct_Flame_D3            = null
    rect                    gg_rct_Flame_D4            = null
    rect                    gg_rct_Flame_E1            = null
    rect                    gg_rct_Flame_E2            = null
    rect                    gg_rct_Flame_E3            = null
    rect                    gg_rct_Flame_E4            = null
    rect                    gg_rct_Flame_E5            = null
    rect                    gg_rct_Flame_F1            = null
    rect                    gg_rct_Flame_F2            = null
    rect                    gg_rct_Flame_F3            = null
    rect                    gg_rct_Flame_F4            = null
    rect                    gg_rct_Flame_G1            = null
    rect                    gg_rct_Flame_G2            = null
    rect                    gg_rct_Flame_G3            = null
    rect                    gg_rct_Flame_G4            = null
    rect                    gg_rct_Flame_G5            = null
    rect                    gg_rct_Flame_Geyser_Puzzle_Area = null
    rect                    gg_rct_Flame_H1            = null
    rect                    gg_rct_Flame_H2            = null
    rect                    gg_rct_Flame_H3            = null
    rect                    gg_rct_Flame_H5            = null
    rect                    gg_rct_Flame_I1            = null
    rect                    gg_rct_Flame_I2            = null
    rect                    gg_rct_Flame_I3            = null
    rect                    gg_rct_Flame_I4            = null
    rect                    gg_rct_Flame_I5            = null
    rect                    gg_rct_Flame_Strike_01_Area = null
    rect                    gg_rct_Flame_Strike_02_Area = null
    rect                    gg_rct_Flame_Strike_03_Area = null
    rect                    gg_rct_Flame_Strike_04_Area = null
    rect                    gg_rct_Flame_Strike_Arch_Mage_Area = null
    rect                    gg_rct_FlameSide01         = null
    rect                    gg_rct_FlameSide02         = null
    rect                    gg_rct_FlameSide03         = null
    rect                    gg_rct_FlameSide04         = null
    rect                    gg_rct_FlameSide05         = null
    rect                    gg_rct_FlameSide06         = null
    rect                    gg_rct_FlameSideSet01      = null
    rect                    gg_rct_FlameSideSet02      = null
    rect                    gg_rct_FlameSideSet03      = null
    rect                    gg_rct_Force_Bridge_Create = null
    rect                    gg_rct_Home_Stretch        = null
    rect                    gg_rct_Mid_Game_Cin_Init   = null
    rect                    gg_rct_Plate_01            = null
    rect                    gg_rct_Plate_01_Drop_Area  = null
    rect                    gg_rct_Plate_01_Orb        = null
    rect                    gg_rct_Plate_01_Pulsating_Area = null
    rect                    gg_rct_Plate_02            = null
    rect                    gg_rct_Plate_02_Drop_Area  = null
    rect                    gg_rct_Plate_02_Orb        = null
    rect                    gg_rct_Plate_02_Pulsating_Area = null
    rect                    gg_rct_Plate_03            = null
    rect                    gg_rct_Plate_03_Drop_Area  = null
    rect                    gg_rct_Plate_03_Pulsating_Area = null
    rect                    gg_rct_Plate_04            = null
    rect                    gg_rct_Plate_04_Pulsating_Area = null
    rect                    gg_rct_Region_116          = null
    rect                    gg_rct_RejoinAnuDest       = null
    rect                    gg_rct_RejoinAreaSpawn     = null
    rect                    gg_rct_RejoinCrypt01Dest   = null
    rect                    gg_rct_RejoinCrypt02Dest   = null
    rect                    gg_rct_RejoinCrypt03Dest   = null
    rect                    gg_rct_RejoinCrypt04Dest   = null
    rect                    gg_rct_RejoinCrypt05Dest   = null
    rect                    gg_rct_Rock_Break_Attack_Group = null
    rect                    gg_rct_Rock_Break_Attack_Rocks = null
    rect                    gg_rct_Rocks_Destroy_Area  = null
    rect                    gg_rct_Run_from_Faceless_Horde = null
    rect                    gg_rct_VisibilityBigElevatorArea = null
    rect                    gg_rct_VisibilityMageAreaActivate = null
    rect                    gg_rct_VisibilityMageAreaReveal = null
    rect                    gg_rct_VisibilitySideFlameArea = null
    rect                    gg_rct_VisibilitySideFlameReveal = null
    rect                    gg_rct_VisibilityTwoPlatesArea = null
    rect                    gg_rct_ArthasFinal_EndB_trev = null
    rect                    gg_rct_AnubarakFinal_EndB_trev = null
    rect                    gg_rct_Fiends_End_Cine_01_Spawn = null
    rect                    gg_rct_Fiends_End_Cine_Crypt_03_Dest = null
    rect                    gg_rct_Fiends_End_Cine3    = null
    rect                    gg_rct_Fiends_End_Cine_Crypt_02_Dest = null
    rect                    gg_rct_Fiends_End_Cine_Crypt_01_Dest = null
    rect                    gg_rct_Fiends_End_Cine_02_Spawn = null
    rect                    gg_rct_Fiends_End_Cine_03_Spawn = null
    rect                    gg_rct_WaterSound1         = null
    rect                    gg_rct_WaterSound2         = null
    rect                    gg_rct_WaterSound3         = null
    rect                    gg_rct_WaterSound4         = null
    rect                    gg_rct_WaterSound5         = null
    rect                    gg_rct_WaterSound6         = null
    rect                    gg_rct_WaterSound7         = null
    rect                    gg_rct_WaterSound8         = null
    rect                    gg_rct_WaterSound9         = null
    rect                    gg_rct_WaterSound10        = null
    rect                    gg_rct_WaterSound11        = null
    rect                    gg_rct_PlateBlueSideFlameOff = null
    rect                    gg_rct_Hidden_Area_Pan     = null
    rect                    gg_rct_HardDifficulty01    = null
    rect                    gg_rct_HardDifficulty02    = null
    rect                    gg_rct_HardDifficulty03    = null
    rect                    gg_rct_HardDifficulty04    = null
    rect                    gg_rct_HardDifficulty05    = null
    rect                    gg_rct_HardDifficulty06    = null
    rect                    gg_rct_HardDifficulty07    = null
    rect                    gg_rct_HardDifficulty08    = null
    rect                    gg_rct_HardDifficulty09    = null
    rect                    gg_rct_HardDifficulty10    = null
    rect                    gg_rct_HardDifficulty11    = null
    rect                    gg_rct_HardDifficulty12    = null
    rect                    gg_rct_PathingBlockerKillArea = null
    rect                    gg_rct_Coin03              = null
    camerasetup             gg_cam_Victory_Cam_01      = null
    camerasetup             gg_cam_Victory_Cam_02      = null
    camerasetup             gg_cam_Debug_Victory       = null
    camerasetup             gg_cam_Intro_Cam_01        = null
    camerasetup             gg_cam_Intro_Cam_02        = null
    camerasetup             gg_cam_Intro_Cam_03        = null
    camerasetup             gg_cam_Intro_Cam_04        = null
    camerasetup             gg_cam_Intro_Cam_03_trev   = null
    camerasetup             gg_cam_Intro_cam_01_trev   = null
    camerasetup             gg_cam_Intro_Cam_02_trev   = null
    camerasetup             gg_cam_Intro_Cam_01a_trev  = null
    camerasetup             gg_cam_Intro_Cam_04a_trev  = null
    camerasetup             gg_cam_Rejoin_Cam_01       = null
    camerasetup             gg_cam_Rejoin_Cam_02       = null
    camerasetup             gg_cam_Debug_Cam           = null
    sound                   gg_snd_L07CAnubarak03      = null
    sound                   gg_snd_L07CAnubarak20      = null
    sound                   gg_snd_L07CAnubarak35      = null
    sound                   gg_snd_L07CAnubarak37      = null
    sound                   gg_snd_L07CAnubarak38      = null
    sound                   gg_snd_L07CAnubarak40      = null
    sound                   gg_snd_L07CArthas02        = null
    sound                   gg_snd_L07CArthas05        = null
    sound                   gg_snd_L07CArthas06        = null
    sound                   gg_snd_L07CArthas11        = null
    sound                   gg_snd_L07CArthas14        = null
    sound                   gg_snd_L07CArthas22        = null
    sound                   gg_snd_L07CArthas25        = null
    sound                   gg_snd_L07CArthas27        = null
    sound                   gg_snd_L07CArthas28        = null
    sound                   gg_snd_L07CArthas30        = null
    sound                   gg_snd_L07CArthas31        = null
    sound                   gg_snd_L07CArthas34        = null
    sound                   gg_snd_L07CArthas36        = null
    sound                   gg_snd_L07CArthas39        = null
    sound                   gg_snd_L07CAnubarak07      = null
    sound                   gg_snd_L07CAnubarak26      = null
    sound                   gg_snd_BridgeDeath         = null
    sound                   gg_snd_Earthquake          = null
    sound                   gg_snd_BattlenetBirth1     = null
    sound                   gg_snd_LargeCityGateOpen1  = null
    sound                   gg_snd_Switch              = null
    sound                   gg_snd_Elevator            = null
    sound                   gg_snd_NightElfBuildingDeathSmall1 = null
    sound                   gg_snd_ReviveOrc           = null
    sound                   gg_snd_HorseLoop3          = null
    sound                   gg_snd_HorseLoop2          = null
    sound                   gg_snd_HorseLoop1          = null
    sound                   gg_snd_WaterLakeLoop1      = null
    sound                   gg_snd_HorseLoop201        = null
    sound                   gg_snd_BlueFireBurst       = null
    sound                   gg_snd_BlueFireBurstLoop   = null
    sound                   gg_snd_BlueFireBurst01     = null
    trigger                 gg_trg_Initialization      = null
    trigger                 gg_trg_Init_01_Players     = null
    trigger                 gg_trg_Init_02_Units       = null
    trigger                 gg_trg_Init_03_Destructibles = null
    trigger                 gg_trg_Init_04_Music_and_Sounds = null
    trigger                 gg_trg_Init_05_Environment = null
    trigger                 gg_trg_Init_06_Quests      = null
    trigger                 gg_trg_Init_07a_Hard       = null
    trigger                 gg_trg_Init_07b_Normal     = null
    trigger                 gg_trg_Init_07c_Easy       = null
    trigger                 gg_trg_Init_08_Form_Unit_Groups = null
    trigger                 gg_trg_Init_09_Regions_to_Points = null
    trigger                 gg_trg_Load_Heroes         = null
    trigger                 gg_trg_Load_Arthas         = null
    trigger                 gg_trg_Load_Anubarak       = null
    trigger                 gg_trg_Load_Gold           = null
    trigger                 gg_trg_Experience_Cap_Anubarak = null
    trigger                 gg_trg_Next_Level_Prep     = null
    trigger                 gg_trg_Next_Level_Run      = null
    trigger                 gg_trg_Victory_Cheat       = null
    trigger                 gg_trg_Defeat_Cheat        = null
    trigger                 gg_trg_DEBUG_A             = null
    trigger                 gg_trg_DEBUG_B             = null
    trigger                 gg_trg_DEBUG_C             = null
    trigger                 gg_trg_Intro_Cinematic_Q   = null
    trigger                 gg_trg_Crypt_01_Facing     = null
    trigger                 gg_trg_Crypt_02_Facing     = null
    trigger                 gg_trg_Crypt_03_Facing     = null
    trigger                 gg_trg_Crypt_04_Facing     = null
    trigger                 gg_trg_Anubarak_Facing     = null
    trigger                 gg_trg_Intro_Skipped       = null
    trigger                 gg_trg_Intro_Setup         = null
    trigger                 gg_trg_Intro_Cleanup       = null
    trigger                 gg_trg_Gameplay            = null
    trigger                 gg_trg_Rejoin_Init         = null
    trigger                 gg_trg_Rejoin_Cinematic_Q  = null
    trigger                 gg_trg_Rejoin_Skipped      = null
    trigger                 gg_trg_Rejoin_Setup        = null
    trigger                 gg_trg_Rejoin_Cleanup      = null
    trigger                 gg_trg_Victory_Cinematic_Q = null
    trigger                 gg_trg_Victory_Skipped     = null
    trigger                 gg_trg_Victory_Setup       = null
    trigger                 gg_trg_Voiceover_Damned_Exit_Q = null
    trigger                 gg_trg_Voiceover_Whole_Place_Crumbling_Q = null
    trigger                 gg_trg_Voiceover_Another_Quake_Q = null
    trigger                 gg_trg_Voiceover_More_Blasted_Mechanisms = null
    trigger                 gg_trg_Voiceover_More_Blasted_Mechanisms_Q = null
    trigger                 gg_trg_Voiceover_Strange_Obstacle = null
    trigger                 gg_trg_Voiceover_Strange_Obstacle_Q = null
    trigger                 gg_trg_Voiceover_Blocking_the_Way = null
    trigger                 gg_trg_Voiceover_Blocking_the_Way_Q = null
    trigger                 gg_trg_Voiceover_Running_Out_of_Time_Q = null
    trigger                 gg_trg_Voiceover_Another_Quake_Hurry_Q = null
    trigger                 gg_trg_Voiceover_Breaking_Through_Q = null
    trigger                 gg_trg_Voiceover_Singed    = null
    trigger                 gg_trg_Voiceover_Singed_Q  = null
    trigger                 gg_trg_Start_Timers        = null
    trigger                 gg_trg_Damage_Line_01      = null
    trigger                 gg_trg_Damage_Line_02      = null
    trigger                 gg_trg_Damage_Line_03      = null
    trigger                 gg_trg_Timing_Trap_Line_01 = null
    trigger                 gg_trg_Timing_Trap_Line_02 = null
    trigger                 gg_trg_Timing_Trap_Line_03 = null
    trigger                 gg_trg_Blue_Side_Flame_Damage = null
    trigger                 gg_trg_Blue_Side_Flame_Floaty_Normal = null
    trigger                 gg_trg_Blue_Side_Flame_Floaty_Easy = null
    trigger                 gg_trg_Blue_Side_Flame_Plate_Off = null
    trigger                 gg_trg_Blue_Flame_Geyser_Setup = null
    trigger                 gg_trg_Plate_01_Area_Death_Animation = null
    trigger                 gg_trg_Plate_01_Area_Stand_Animation = null
    trigger                 gg_trg_Plate_02_Area_Death_Animation = null
    trigger                 gg_trg_Plate_02_Area_Stand_Animation = null
    trigger                 gg_trg_Plate_03_Area_Death_Animation = null
    trigger                 gg_trg_Plate_03_Area_Stand_Animation = null
    trigger                 gg_trg_Plate_04_Area_Death_Animation = null
    trigger                 gg_trg_Plate_04_Area_Stand_Animation = null
    trigger                 gg_trg_Damage_Plate_01_Pulsating_Area = null
    trigger                 gg_trg_Damage_Plate_01_Sustained_Area = null
    trigger                 gg_trg_Damage_Plate_02_Pulsating_Area = null
    trigger                 gg_trg_Damage_Plate_02_Sustained_Area = null
    trigger                 gg_trg_Damage_Plate_03_Pulsating_Area = null
    trigger                 gg_trg_Damage_Plate_03_Sustained_Area = null
    trigger                 gg_trg_Damage_Plate_04_Pulsating_Area = null
    trigger                 gg_trg_Damage_Flame_Sustained = null
    trigger                 gg_trg_Sustained_Sound     = null
    trigger                 gg_trg_Blue_Flame_Geyser_Damage = null
    trigger                 gg_trg_Blue_Flame_Geyser_Floaty_Normal = null
    trigger                 gg_trg_Blue_Flame_Geyser_Floaty_Easy = null
    trigger                 gg_trg_Plate_01            = null
    trigger                 gg_trg_Plate_02            = null
    trigger                 gg_trg_Plate_03            = null
    trigger                 gg_trg_Plate_04            = null
    trigger                 gg_trg_Turn_Off_Geyser_Trap_and_Open_Door = null
    trigger                 gg_trg_Blizzard_Strike_Setup = null
    trigger                 gg_trg_Area_01_Wall_Down   = null
    trigger                 gg_trg_Area_02_Wall_Down   = null
    trigger                 gg_trg_Area_Arch_Mage      = null
    trigger                 gg_trg_Blizzard_01_Area    = null
    trigger                 gg_trg_Blizzard_02_Area    = null
    trigger                 gg_trg_Blizzard_03_Area    = null
    trigger                 gg_trg_Activate_04         = null
    trigger                 gg_trg_Blizzard_04_Area    = null
    trigger                 gg_trg_Last_Power_Generator_Dies = null
    trigger                 gg_trg_Elevators_Init      = null
    trigger                 gg_trg_Elevators_Update    = null
    trigger                 gg_trg_Elevator_Sound      = null
    trigger                 gg_trg_Ele_AI_help_for_units = null
    trigger                 gg_trg_Elevator_Baddie_Dies = null
    trigger                 gg_trg_Elevator_Secret_off_Lever = null
    trigger                 gg_trg_Elevator_Secret_off_Lever_Q = null
    trigger                 gg_trg_Elevators_Update_Heights = null
    trigger                 gg_trg_Elevator_Walls_Begin_Vertical = null
    trigger                 gg_trg_Elevator_Walls_Begin_Vertical_One = null
    trigger                 gg_trg_Elevator_Walls_Begin_Horizontal = null
    trigger                 gg_trg_Elevator_Walls_Begin_Horizontal_One = null
    trigger                 gg_trg_Elevator_Walls_Finish_Vertical = null
    trigger                 gg_trg_Elevator_Walls_Finish_Vertical_One = null
    trigger                 gg_trg_Elevator_Walls_Finish_Horizontal = null
    trigger                 gg_trg_Elevator_Walls_Finish_Horizontal_One = null
    trigger                 gg_trg_Cripple_01          = null
    trigger                 gg_trg_Cripple_02          = null
    trigger                 gg_trg_Two_Plate_Setup     = null
    trigger                 gg_trg_Plate_01_Unit_Enters = null
    trigger                 gg_trg_Plate_01_Unit_Leaves = null
    trigger                 gg_trg_Plate_02_Unit_Enters = null
    trigger                 gg_trg_Plate_02_Unit_Leaves = null
    trigger                 gg_trg_Two_Plate_Check     = null
    trigger                 gg_trg_Plate_01_Pushed     = null
    trigger                 gg_trg_Plate_01_Released   = null
    trigger                 gg_trg_Plate_02_Pushed     = null
    trigger                 gg_trg_Plate_02_Released   = null
    trigger                 gg_trg_Two_Plate_Solution_Check = null
    trigger                 gg_trg_Ensnare             = null
    trigger                 gg_trg_Break_Through_Attack = null
    trigger                 gg_trg_Curse_Attack        = null
    trigger                 gg_trg_Curse_Attacker_Dies = null
    trigger                 gg_trg_Final_Area_Earthquake_Start = null
    trigger                 gg_trg_Kill_Final_Guardians_To_Open_Gate = null
    trigger                 gg_trg_RevealerSideFlame   = null
    trigger                 gg_trg_RevealerGroupAddSideFlame = null
    trigger                 gg_trg_RevealerGroupSubtractSideFlame = null
    trigger                 gg_trg_RevealerCheckSideFlame = null
    trigger                 gg_trg_RevealerSideFlameSafety = null
    trigger                 gg_trg_RevealerSideGeyserFlame = null
    trigger                 gg_trg_RevealerGroupAddGeyserFlame = null
    trigger                 gg_trg_RevealerGroupSubtractGeyserFlame = null
    trigger                 gg_trg_RevealerCheckGeyserFlame = null
    trigger                 gg_trg_RevealerSideGeyserFlameSafety = null
    trigger                 gg_trg_RevealerBigElevator = null
    trigger                 gg_trg_RevealerGroupAddBigElevator = null
    trigger                 gg_trg_RevealerGroupSubtractBigElevator = null
    trigger                 gg_trg_RevealerCheckBigElevator = null
    trigger                 gg_trg_RevealerSideBigElevatorSafety = null
    trigger                 gg_trg_RevealerTwoPlates   = null
    trigger                 gg_trg_RevealerGroupAddTwoPlates = null
    trigger                 gg_trg_RevealerGroupSubtractTwoPlates = null
    trigger                 gg_trg_RevealerCheckTwoPlates = null
    trigger                 gg_trg_RevealerSideTwoPlatesSafty = null
    trigger                 gg_trg_RevealerMage        = null
    trigger                 gg_trg_RevealerGroupAddMage = null
    trigger                 gg_trg_RevealerGroupSubtractMage = null
    trigger                 gg_trg_RevealerCheckMage   = null
    trigger                 gg_trg_RevealerSideMageSafety = null
    trigger                 gg_trg_Dust_FX_Intro       = null
    trigger                 gg_trg_Dust_FX_Fountain_of_Health = null
    trigger                 gg_trg_Dust_FX_Cave_Exit   = null
    trigger                 gg_trg_Dust_FX_Curse       = null
    trigger                 gg_trg_Dust_FX_Final_Area  = null
    trigger                 gg_trg_Lever_Flame_Trap_Enter = null
    trigger                 gg_trg_Lever_Flame_Trap_Monster = null
    trigger                 gg_trg_Lever_Flame_Strike  = null
    trigger                 gg_trg_Quake_Shake         = null
    trigger                 gg_trg_Quake_01_Fountain   = null
    trigger                 gg_trg_Quake_02_Cave_Exit  = null
    trigger                 gg_trg_Quake_03_Curse      = null
    trigger                 gg_trg_Quake_04_Final_Area = null
    trigger                 gg_trg_Gold_Coin_Found     = null
    trigger                 gg_trg_First_Coin_Found_Q  = null
    trigger                 gg_trg_Second_Coin_Found_Q = null
    trigger                 gg_trg_Third_Coin_Found_Q  = null
    trigger                 gg_trg_Quest_Escape_Create = null
    trigger                 gg_trg_Quest_Escape_Discover = null
    trigger                 gg_trg_Quest_Escape_Completed = null
    trigger                 gg_trg_Quest_Escape_Update = null
    trigger                 gg_trg_Quest_Gold_Create   = null
    trigger                 gg_trg_Quest_Gold_Discover = null
    trigger                 gg_trg_Quest_Gold_Completed = null
    trigger                 gg_trg_Gold_02_Found       = null
    trigger                 gg_trg_Gold_03_Found       = null
    trigger                 gg_trg_Gold_04_Found       = null
    trigger                 gg_trg_Mission_Failed_Anubarak_Dead = null
    trigger                 gg_trg_Mission_Failed_Arthas_Dead = null
    trigger                 gg_trg_Mission_Failed_Timer_Expired = null
    trigger                 gg_trg_Five_Minute_Warning = null
    trigger                 gg_trg_Two_Minute_Warning  = null
    trigger                 gg_trg_Coins_01_and_02     = null
    trigger                 gg_trg_Coins_03            = null
    trigger                 gg_trg_Timer_Main_Quest    = null
    trigger                 gg_trg_Timer_Yellow        = null
    trigger                 gg_trg_Timer_Red           = null
    trigger                 gg_trg_Victory_Exit        = null
    trigger                 gg_trg_Defeat_Timer_Expires = null
    trigger                 gg_trg_Defeat_Arthas_Dead  = null
    trigger                 gg_trg_Defeat_Anubarak_Dead = null
    unit                    gg_unit_ucry_0000          = null
    unit                    gg_unit_ucry_0001          = null
    unit                    gg_unit_ucry_0002          = null
    unit                    gg_unit_nubr_0057          = null
    unit                    gg_unit_ucry_0031          = null
    unit                    gg_unit_n000_0017          = null
    unit                    gg_unit_n000_0016          = null
    item                    gg_item_gold_0003          = null
    unit                    gg_unit_ucry_0032          = null
    unit                    gg_unit_n001_0046          = null
    unit                    gg_unit_n000_0018          = null
    item                    gg_item_gold_0013          = null
    unit                    gg_unit_nanc_0063          = null
    unit                    gg_unit_nfot_0040          = null
    unit                    gg_unit_nubr_0015          = null
    unit                    gg_unit_nubr_0036          = null
    unit                    gg_unit_nscb_0060          = null
    unit                    gg_unit_n002_0020          = null
    unit                    gg_unit_n002_0056          = null
    unit                    gg_unit_nscb_0059          = null
    destructable            gg_dest_DTfp_0016          = null
    destructable            gg_dest_DTfp_0015          = null
    destructable            gg_dest_DTrf_0004          = null
    destructable            gg_dest_DTrf_0006          = null
    destructable            gg_dest_DTrf_0011          = null
    destructable            gg_dest_DTfp_0014          = null
    destructable            gg_dest_DTrf_0190          = null
    destructable            gg_dest_DTfp_0012          = null
    destructable            gg_dest_ITg3_0265          = null
    destructable            gg_dest_ZTd3_0025          = null
    destructable            gg_dest_ZTd3_0026          = null
    destructable            gg_dest_DTlv_0218          = null
    destructable            gg_dest_ITg4_0233          = null
    destructable            gg_dest_ITg3_0322          = null
    destructable            gg_dest_DTrf_0003          = null
    destructable            gg_dest_DTrf_0007          = null
    destructable            gg_dest_DTrf_0008          = null
    destructable            gg_dest_DTrf_0009          = null
    destructable            gg_dest_DTrf_0010          = null
    destructable            gg_dest_DTrf_0154          = null
    destructable            gg_dest_DTrf_0155          = null
    destructable            gg_dest_DTrf_0164          = null
    destructable            gg_dest_DTrf_0165          = null
    destructable            gg_dest_DTrf_0168          = null
    destructable            gg_dest_DTrf_0171          = null
    destructable            gg_dest_DTrf_0186          = null
    destructable            gg_dest_DTrf_0187          = null
    destructable            gg_dest_DTlv_0094          = null
    destructable            gg_dest_DTrf_0220          = null
    destructable            gg_dest_DTrf_0206          = null
    destructable            gg_dest_Dofw_0081          = null
    destructable            gg_dest_DTlv_0369          = null
    destructable            gg_dest_DTrf_0029          = null
    destructable            gg_dest_DTrf_0031          = null
    destructable            gg_dest_DTfp_0242          = null
    destructable            gg_dest_DTrf_0243          = null
    destructable            gg_dest_DTfp_0005          = null
    destructable            gg_dest_DTrf_0166          = null
    destructable            gg_dest_Dofw_0305          = null
    destructable            gg_dest_ITg3_0002          = null
    destructable            gg_dest_ZTd3_0192          = null
    destructable            gg_dest_DTep_0063          = null
    destructable            gg_dest_DTep_0061          = null
    destructable            gg_dest_LTcr_0507          = null
    destructable            gg_dest_DTrc_0519          = null
    destructable            gg_dest_DTrc_0520          = null
    destructable            gg_dest_DTrc_0521          = null
    destructable            gg_dest_DTrc_0522          = null
    destructable            gg_dest_DTlv_0676          = null
    destructable            gg_dest_DTfp_0678          = null
    destructable            gg_dest_DTrf_0679          = null
    destructable            gg_dest_LTs3_0039          = null
    destructable            gg_dest_YTfb_0219          = null
    destructable            gg_dest_YTfb_0226          = null
    destructable            gg_dest_YTfb_0712          = null
    destructable            gg_dest_YTfb_0713          = null
    destructable            gg_dest_YTfb_0716          = null
    destructable            gg_dest_YTfb_0715          = null
endglobals

function InitGlobals takes nothing returns nothing
    local integer i = 0
    set udg_AP1_Player = Player(0)
    set udg_AP2_UnbrokenOnes = Player(1)
    set udg_RescuableGroup = CreateGroup()
    set udg_APG1_Player = bj_FORCE_PLAYER[0]
    set udg_IntroSkipped = false
    set udg_HiddenUnits = CreateGroup()
    set udg_StartingUnits = CreateGroup()
    set udg_ExpDisabledForAnuburak = false
    set udg_GameOver = false
    set udg_HiddenUnitsCreep = CreateGroup()
    set udg_SelectedUnits = CreateGroup()
    set udg_VictorySkipped = false
    set udg_InCinematic = false
    set udg_CaveCollapseTimer = CreateTimer()
    set udg_TimingTrap01Timer = CreateTimer()
    set udg_TimingTrap02Timer = CreateTimer()
    set udg_TimingTrap03Timer = CreateTimer()
    set udg_SideFlameRevealerGroup = CreateGroup()
    set udg_MidCinRejoinSkipped = false
    set udg_EleTimer = CreateTimer()
    set udg_SideFlame01 = false
    set udg_SideFlame02 = false
    set udg_SideFlame03 = false
    set udg_SideFlame01TimeDelay = 0
    set udg_SideFlame02TimeDelay = 0
    set udg_SideFlame03TimeDelay = 0
    set udg_GeyserFlameRevealerGroup = CreateGroup()
    set udg_Plate01FlameOn = false
    set udg_Plate02FlameOn = false
    set udg_Plate03FlameOn = false
    set udg_Plate04FlameOn = false
    set udg_TimerPlate01Death = CreateTimer()
    set udg_TimerPlate02Death = CreateTimer()
    set udg_TimerPlate03Death = CreateTimer()
    set udg_TimerPlate04Death = CreateTimer()
    set udg_TimerPlate01Stand = CreateTimer()
    set udg_TimerPlate02Stand = CreateTimer()
    set udg_TimerPlate03Stand = CreateTimer()
    set udg_TimerPlate04Stand = CreateTimer()
    set udg_Plate01SustainedArea = true
    set udg_GeyserFlameDamage = 0
    set udg_Plate02SustainedArea = true
    set udg_Plate03SustainedArea = true
    set udg_Plate04SustainedArea = true
    set udg_WhichHeightA = 0
    set udg_WhichHeightB = 0
    set i = 0
    loop
        exitwhen (i > 8)
        set udg_zElevatorsA[i] = null
        set i = i + 1
    endloop

    set i = 0
    loop
        exitwhen (i > 8)
        set udg_zElevatorsB[i] = null
        set i = i + 1
    endloop

    set i = 0
    loop
        exitwhen (i > 8)
        set udg_zElevatorsC[i] = null
        set i = i + 1
    endloop

    set i = 0
    loop
        exitwhen (i > 8)
        set udg_zElevatorsD[i] = null
        set i = i + 1
    endloop

    set i = 0
    loop
        exitwhen (i > 8)
        set udg_zOldHeightsA[i] = 0
        set i = i + 1
    endloop

    set i = 0
    loop
        exitwhen (i > 8)
        set udg_zOldHeightsB[i] = 0
        set i = i + 1
    endloop

    set i = 0
    loop
        exitwhen (i > 8)
        set udg_zOldHeightsC[i] = 0
        set i = i + 1
    endloop

    set i = 0
    loop
        exitwhen (i > 8)
        set udg_zOldHeightsD[i] = 0
        set i = i + 1
    endloop

    set i = 0
    loop
        exitwhen (i > 8)
        set udg_zNewHeightsA[i] = 0
        set i = i + 1
    endloop

    set i = 0
    loop
        exitwhen (i > 8)
        set udg_zNewHeightsB[i] = 0
        set i = i + 1
    endloop

    set i = 0
    loop
        exitwhen (i > 8)
        set udg_zNewHeightsC[i] = 0
        set i = i + 1
    endloop

    set i = 0
    loop
        exitwhen (i > 8)
        set udg_zNewHeightsD[i] = 0
        set i = i + 1
    endloop

    set udg_WhichNewDiff = 0
    set udg_WhichOldDiff = 0
    set i = 0
    loop
        exitwhen (i > 8)
        set udg_zHeightTop[i] = 0
        set i = i + 1
    endloop

    set i = 0
    loop
        exitwhen (i > 8)
        set udg_zHeightBottom[i] = 0
        set i = i + 1
    endloop

    set udg_BigElevatorRevealerGroup = CreateGroup()
    set udg_TwoPlate01Down = false
    set udg_TwoPlate02Down = false
    set udg_TwoPlatesRevealerGroup = CreateGroup()
    set udg_TwoPlateSolved = false
    set udg_BlueSideFlameDamage = 0
    set udg_MageRevealerGroup = CreateGroup()
    set udg_TimerYellow = CreateTimer()
    set udg_TimerRed = CreateTimer()
    set udg_GoldCoinsFound = 0
    set udg_ElevatorBaddies = CreateGroup()
    set udg_ElevatorDisarmed = false
    set udg_SideFlameDeactivated = false
    set udg_SustainedFlamesSoundOn = true
    set udg_FlameVolume = 0
    set udg_FlameVolumeSustained = 0
    set udg_EasyOn = false
    set udg_FinalGuardians = CreateGroup()
    set udg_CaveCollapseTimer02 = CreateTimer()
    set udg_TempUnitGroup = CreateGroup()
    set udg_TempInteger = 0
endfunction

//***************************************************************************
//*
//*  Unit Item Tables
//*
//***************************************************************************

function Unit000005_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'phea', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000007_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rman', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000009_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rhe1', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000016_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'ckng', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000017_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'tin2', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

        // Item set 1
        call RandomDistReset(  )
        call RandomDistAddItem( 'rhe3', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000029_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rman', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000032_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'ratf', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000035_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rej3', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000036_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rman', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

        // Item set 1
        call RandomDistReset(  )
        call RandomDistAddItem( 'tst2', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000037_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'hlst', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000045_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rhe2', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000046_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rhe1', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000059_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rman', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction


//***************************************************************************
//*
//*  Destructible Item Tables
//*
//***************************************************************************

function Doodad000024_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'pghe', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad000476_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rdis', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad000523_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rhe3', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad000524_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rma2', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad000565_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rhe2', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction


//***************************************************************************
//*
//*  Sounds
//*
//***************************************************************************

function InitSounds takes nothing returns nothing
    set gg_snd_L07CAnubarak03 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Cx\\L07CAnubarak03.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07CAnubarak03, "L07CAnubarak03" )
    call SetSoundDuration( gg_snd_L07CAnubarak03, 14394 )
    set gg_snd_L07CAnubarak20 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Cx\\L07CAnubarak20.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07CAnubarak20, "L07CAnubarak20" )
    call SetSoundDuration( gg_snd_L07CAnubarak20, 4676 )
    set gg_snd_L07CAnubarak35 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Cx\\L07CAnubarak35.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07CAnubarak35, "L07CAnubarak35" )
    call SetSoundDuration( gg_snd_L07CAnubarak35, 10031 )
    set gg_snd_L07CAnubarak37 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Cx\\L07CAnubarak37.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07CAnubarak37, "L07CAnubarak37" )
    call SetSoundDuration( gg_snd_L07CAnubarak37, 6139 )
    set gg_snd_L07CAnubarak38 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Cx\\L07CAnubarak38.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07CAnubarak38, "L07CAnubarak38" )
    call SetSoundDuration( gg_snd_L07CAnubarak38, 6557 )
    set gg_snd_L07CAnubarak40 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Cx\\L07CAnubarak40.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07CAnubarak40, "L07CAnubarak40" )
    call SetSoundDuration( gg_snd_L07CAnubarak40, 10736 )
    set gg_snd_L07CArthas02 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Cx\\L07CArthas02.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07CArthas02, "L07CArthas02" )
    call SetSoundDuration( gg_snd_L07CArthas02, 3344 )
    set gg_snd_L07CArthas05 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Cx\\L07CArthas05.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07CArthas05, "L07CArthas05" )
    call SetSoundDuration( gg_snd_L07CArthas05, 2874 )
    set gg_snd_L07CArthas06 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Cx\\L07CArthas06.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07CArthas06, "L07CArthas06" )
    call SetSoundDuration( gg_snd_L07CArthas06, 2795 )
    set gg_snd_L07CArthas11 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Cx\\L07CArthas11.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07CArthas11, "L07CArthas11" )
    call SetSoundDuration( gg_snd_L07CArthas11, 2900 )
    set gg_snd_L07CArthas14 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Cx\\L07CArthas14.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07CArthas14, "L07CArthas14" )
    call SetSoundDuration( gg_snd_L07CArthas14, 2325 )
    set gg_snd_L07CArthas22 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Cx\\L07CArthas22.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07CArthas22, "L07CArthas22" )
    call SetSoundDuration( gg_snd_L07CArthas22, 1045 )
    set gg_snd_L07CArthas25 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Cx\\L07CArthas25.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07CArthas25, "L07CArthas25" )
    call SetSoundDuration( gg_snd_L07CArthas25, 810 )
    set gg_snd_L07CArthas27 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Cx\\L07CArthas27.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07CArthas27, "L07CArthas27" )
    call SetSoundDuration( gg_snd_L07CArthas27, 9404 )
    set gg_snd_L07CArthas28 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Cx\\L07CArthas28.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07CArthas28, "L07CArthas28" )
    call SetSoundDuration( gg_snd_L07CArthas28, 4650 )
    set gg_snd_L07CArthas30 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Cx\\L07CArthas30.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07CArthas30, "L07CArthas30" )
    call SetSoundDuration( gg_snd_L07CArthas30, 2664 )
    set gg_snd_L07CArthas31 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Cx\\L07CArthas31.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07CArthas31, "L07CArthas31" )
    call SetSoundDuration( gg_snd_L07CArthas31, 2560 )
    set gg_snd_L07CArthas34 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Cx\\L07CArthas34.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07CArthas34, "L07CArthas34" )
    call SetSoundDuration( gg_snd_L07CArthas34, 1985 )
    set gg_snd_L07CArthas36 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Cx\\L07CArthas36.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07CArthas36, "L07CArthas36" )
    call SetSoundDuration( gg_snd_L07CArthas36, 3265 )
    set gg_snd_L07CArthas39 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Cx\\L07CArthas39.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07CArthas39, "L07CArthas39" )
    call SetSoundDuration( gg_snd_L07CArthas39, 1776 )
    set gg_snd_L07CAnubarak07 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Cx\\L07CAnubarak07.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07CAnubarak07, "L07CAnubarak07" )
    call SetSoundDuration( gg_snd_L07CAnubarak07, 4336 )
    set gg_snd_L07CAnubarak26 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Cx\\L07CAnubarak26.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07CAnubarak26, "L07CAnubarak26" )
    call SetSoundDuration( gg_snd_L07CAnubarak26, 1019 )
    set gg_snd_BridgeDeath = CreateSound( "Sound\\Ambient\\DoodadEffects\\BridgeDeath.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_BridgeDeath, "BridgeDeath" )
    call SetSoundDuration( gg_snd_BridgeDeath, 9081 )
    set gg_snd_Earthquake = CreateSound( "Sound\\Ambient\\DoodadEffects\\Earthquake.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_Earthquake, "EarthquakeWithRocksLoop" )
    call SetSoundDuration( gg_snd_Earthquake, 6000 )
    set gg_snd_BattlenetBirth1 = CreateSound( "Sound\\Interface\\BattlenetBirth1.wav", false, false, false, 10, 10, "SpellsEAX" )
    call SetSoundParamsFromLabel( gg_snd_BattlenetBirth1, "GlueScreenBNetClose" )
    call SetSoundDuration( gg_snd_BattlenetBirth1, 2000 )
    set gg_snd_LargeCityGateOpen1 = CreateSound( "Sound\\Ambient\\DoodadEffects\\LargeCityGateOpen1.wav", false, false, false, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_LargeCityGateOpen1, "GateOpenSound" )
    call SetSoundDuration( gg_snd_LargeCityGateOpen1, 1445 )
    set gg_snd_Switch = CreateSound( "Sound\\Ambient\\DoodadEffects\\Switch.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_Switch, "Switch" )
    call SetSoundDuration( gg_snd_Switch, 2606 )
    set gg_snd_Elevator = CreateSound( "Sound\\Ambient\\DoodadEffects\\Elevator.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_Elevator, "Elevator" )
    call SetSoundDuration( gg_snd_Elevator, 2276 )
    set gg_snd_NightElfBuildingDeathSmall1 = CreateSound( "Sound\\Buildings\\Death\\NightElfBuildingDeathSmall1.wav", false, false, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_NightElfBuildingDeathSmall1, "DeathNightElfBuildingCancel" )
    call SetSoundDuration( gg_snd_NightElfBuildingDeathSmall1, 3675 )
    set gg_snd_ReviveOrc = CreateSound( "Abilities\\Spells\\Orc\\ReviveOrc\\ReviveOrc.wav", false, true, true, 10, 10, "SpellsEAX" )
    call SetSoundParamsFromLabel( gg_snd_ReviveOrc, "ReviveOrc" )
    call SetSoundDuration( gg_snd_ReviveOrc, 3013 )
    set gg_snd_HorseLoop3 = CreateSound( "Units\\Human\\Knight\\HorseLoop3.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_HorseLoop3, "HumanKnightMovement" )
    call SetSoundDuration( gg_snd_HorseLoop3, 5317 )
    set gg_snd_HorseLoop2 = CreateSound( "Units\\Human\\Knight\\HorseLoop2.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_HorseLoop2, "HumanKnightMovement" )
    call SetSoundDuration( gg_snd_HorseLoop2, 3228 )
    set gg_snd_HorseLoop1 = CreateSound( "Units\\Human\\Knight\\HorseLoop1.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_HorseLoop1, "HumanKnightMovement" )
    call SetSoundDuration( gg_snd_HorseLoop1, 2101 )
    set gg_snd_WaterLakeLoop1 = CreateSound( "Sound\\Ambient\\DoodadEffects\\WaterLakeLoop1.wav", true, true, true, 10, 10, "DoodadsEAX" )
    call SetSoundParamsFromLabel( gg_snd_WaterLakeLoop1, "LakeLoop" )
    call SetSoundDuration( gg_snd_WaterLakeLoop1, 3297 )
    set gg_snd_HorseLoop201 = CreateSound( "Units\\Human\\Knight\\HorseLoop2.wav", false, false, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_HorseLoop201, "HumanKnightMovement" )
    call SetSoundDuration( gg_snd_HorseLoop201, 3228 )
    set gg_snd_BlueFireBurst = CreateSound( "Sound\\Ambient\\DoodadEffects\\BlueFireBurst.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_BlueFireBurst, "BlueFireBurst" )
    call SetSoundDuration( gg_snd_BlueFireBurst, 1916 )
    call SetSoundDistanceCutoff( gg_snd_BlueFireBurst, 2000.0 )
    set gg_snd_BlueFireBurstLoop = CreateSound( "Sound\\Ambient\\DoodadEffects\\BlueFireBurstLoop.wav", true, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_BlueFireBurstLoop, "BlueFireLoop" )
    call SetSoundDuration( gg_snd_BlueFireBurstLoop, 4000 )
    set gg_snd_BlueFireBurst01 = CreateSound( "Sound\\Ambient\\DoodadEffects\\BlueFireBurst.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_BlueFireBurst01, "BlueFireBurst" )
    call SetSoundDuration( gg_snd_BlueFireBurst01, 1916 )
    call SetSoundDistanceCutoff( gg_snd_BlueFireBurst01, 2000.0 )
endfunction

//***************************************************************************
//*
//*  Destructable Objects
//*
//***************************************************************************

function CreateAllDestructables takes nothing returns nothing
    local destructable d
    local trigger t
    local real life
    set gg_dest_DTep_0063 = CreateDeadDestructable( 'DTep', -1664.0, 448.0, 90.000, 1.000, 0 )
    set gg_dest_DTep_0061 = CreateDeadDestructable( 'DTep', -1664.0, 1088.0, 270.000, 1.000, 0 )
    set gg_dest_DTfp_0015 = CreateDestructable( 'DTfp', -2560.0, -3008.0, 270.000, 1.000, 0 )
    set gg_dest_DTfp_0012 = CreateDestructable( 'DTfp', -2048.0, -2880.0, 270.000, 1.000, 0 )
    set gg_dest_DTfp_0005 = CreateDestructable( 'DTfp', -1600.0, 2112.0, 270.000, 1.000, 0 )
    set gg_dest_DTfp_0014 = CreateDestructable( 'DTfp', -2304.0, -2496.0, 270.000, 1.000, 0 )
    set gg_dest_DTfp_0242 = CreateDestructable( 'DTfp', -960.0, 2112.0, 270.000, 1.000, 0 )
    set gg_dest_DTfp_0016 = CreateDestructable( 'DTfp', -2816.0, -2752.0, 270.000, 1.000, 0 )
    set gg_dest_DTfp_0678 = CreateDestructable( 'DTfp', -3968.0, -2560.0, 270.000, 1.000, 0 )
    set gg_dest_DTlv_0676 = CreateDestructable( 'DTlv', 3488.0, 1952.0, 47.048, 0.947, 0 )
    set gg_dest_DTlv_0094 = CreateDestructable( 'DTlv', -3552.0, -2976.0, 47.048, 0.947, 0 )
    set gg_dest_DTlv_0218 = CreateDestructable( 'DTlv', -992.0, -1696.0, 135.966, 0.947, 0 )
    set gg_dest_DTlv_0369 = CreateDestructable( 'DTlv', -2208.0, -2208.0, 132.507, 0.947, 0 )
    set gg_dest_DTrc_0521 = CreateDestructable( 'DTrc', 2304.0, -384.0, 229.000, 1.000, 1 )
    set gg_dest_DTrc_0522 = CreateDestructable( 'DTrc', 2304.0, -192.0, 154.000, 1.000, 5 )
    set gg_dest_DTrc_0520 = CreateDestructable( 'DTrc', 2240.0, 128.0, 230.000, 1.000, 3 )
    set gg_dest_DTrc_0519 = CreateDestructable( 'DTrc', 2176.0, -64.0, 243.000, 1.000, 1 )
    set gg_dest_DTrf_0011 = CreateDestructable( 'DTrf', 640.0, 2176.0, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0006 = CreateDestructable( 'DTrf', 640.0, 1024.0, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0190 = CreateDestructable( 'DTrf', 2176.0, 2176.0, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0164 = CreateDestructable( 'DTrf', 1792.0, 1792.0, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0004 = CreateDestructable( 'DTrf', 640.0, 1792.0, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0679 = CreateDestructableZ( 'DTrf', 256.0, 2560.0, -20.4, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0165 = CreateDestructable( 'DTrf', 1792.0, 1408.0, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0168 = CreateDestructable( 'DTrf', 1792.0, 2176.0, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0171 = CreateDestructable( 'DTrf', 2176.0, 1792.0, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0186 = CreateDestructable( 'DTrf', 2176.0, 1408.0, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0187 = CreateDestructable( 'DTrf', 2176.0, 1024.0, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0003 = CreateDestructable( 'DTrf', 1024.0, 1792.0, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0220 = CreateDestructable( 'DTrf', 256.0, 2176.0, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0206 = CreateDestructable( 'DTrf', 256.0, 1024.0, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0007 = CreateDestructable( 'DTrf', 1024.0, 1408.0, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0008 = CreateDestructable( 'DTrf', 1024.0, 1024.0, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0029 = CreateDestructable( 'DTrf', 256.0, 1792.0, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0031 = CreateDestructable( 'DTrf', 256.0, 1408.0, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0009 = CreateDestructable( 'DTrf', 1024.0, 2176.0, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0243 = CreateDestructable( 'DTrf', -1280.0, 2496.0, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0010 = CreateDestructable( 'DTrf', 1408.0, 1792.0, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0166 = CreateDestructable( 'DTrf', 1408.0, 2176.0, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0154 = CreateDestructable( 'DTrf', 1408.0, 1408.0, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0155 = CreateDestructable( 'DTrf', 1408.0, 1024.0, 270.000, 1.000, 0 )
    set gg_dest_Dofw_0305 = CreateDestructable( 'Dofw', -2496.0, -704.0, 90.000, 1.000, 0 )
    set gg_dest_Dofw_0081 = CreateDestructable( 'Dofw', -1920.0, 768.0, 0.000, 1.000, 0 )
    set gg_dest_ITg3_0002 = CreateDestructable( 'ITg3', -1728.0, -2752.0, 0.000, 0.900, 0 )
    set gg_dest_ITg3_0322 = CreateDestructable( 'ITg3', -3328.0, -2752.0, 0.000, 0.900, 0 )
    set gg_dest_ITg3_0265 = CreateDestructable( 'ITg3', 3584.0, -1856.0, 0.000, 0.900, 0 )
    set gg_dest_ITg4_0233 = CreateDestructable( 'ITg4', 4832.0, 864.0, 180.000, 1.000, 0 )
    set gg_dest_LTcr_0507 = CreateDestructable( 'LTcr', 704.0, -3136.0, 126.000, 1.032, 0 )
    set d = CreateDestructable( 'LTcr', -128.0, -3136.0, 205.000, 1.092, 1 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, d )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad000476_DropItems )
    set d = CreateDestructable( 'LTcr', 640.0, -3008.0, 205.000, 1.092, 1 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, d )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad000565_DropItems )
    set d = CreateDestructable( 'LTcr', 1984.0, -2880.0, 126.000, 1.032, 0 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, d )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad000523_DropItems )
    set d = CreateDestructable( 'LTcr', 2688.0, -1152.0, 126.000, 1.032, 0 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, d )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad000524_DropItems )
    set d = CreateDestructable( 'LTcr', -3520.0, -1472.0, 113.000, 1.030, 0 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, d )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad000024_DropItems )
    set gg_dest_LTs3_0039 = CreateDestructableZ( 'LTs3', -1728.0, -832.0, -19.2, 225.000, 1.330, 0 )
    set gg_dest_YTfb_0219 = CreateDestructable( 'YTfb', -1632.0, -672.0, 270.000, 1.000, 0 )
    set gg_dest_YTfb_0713 = CreateDestructable( 'YTfb', -1824.0, -672.0, 270.000, 1.000, 0 )
    set gg_dest_YTfb_0715 = CreateDestructable( 'YTfb', -1888.0, -672.0, 270.000, 1.000, 0 )
    set gg_dest_YTfb_0226 = CreateDestructable( 'YTfb', -1696.0, -672.0, 270.000, 1.000, 0 )
    set gg_dest_YTfb_0712 = CreateDestructable( 'YTfb', -1760.0, -672.0, 270.000, 1.000, 0 )
    set gg_dest_YTfb_0716 = CreateDestructable( 'YTfb', -1568.0, -672.0, 270.000, 1.000, 0 )
    set gg_dest_ZTd3_0192 = CreateDestructable( 'ZTd3', -2368.0, -2048.0, 90.000, 0.900, 0 )
    set gg_dest_ZTd3_0026 = CreateDestructable( 'ZTd3', -1152.0, -1472.0, 90.000, 0.900, 0 )
    set gg_dest_ZTd3_0025 = CreateDestructable( 'ZTd3', -1600.0, 1344.0, 90.000, 0.900, 0 )
endfunction

//***************************************************************************
//*
//*  Items
//*
//***************************************************************************

function CreateAllItems takes nothing returns nothing
    local integer itemID

    set gg_item_gold_0013 = CreateItem( 'gold', -2306.5, -1705.1 )
    set gg_item_gold_0003 = CreateItem( 'gold', -4994.4, -2573.3 )
    call CreateItem( 'hcun', -1280.9, 2494.4 )
    call CreateItem( 'odef', 2651.6, -1332.7 )
    call CreateItem( 'rde4', 278.3, 2919.5 )
    call CreateItem( 'rhe3', 1043.3, 1017.7 )
    call CreateItem( 'rhe3', 1050.7, 2599.2 )
    call CreateItem( 'rma2', 1817.0, 1792.0 )
endfunction

//***************************************************************************
//*
//*  Unit Creation
//*
//***************************************************************************

//===========================================================================
function CreateUnitsForPlayer0 takes nothing returns nothing
    local player p = Player(0)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_ucry_0000 = CreateUnit( p, 'ucry', -5114.3, 2245.0, 293.961 )
    set gg_unit_ucry_0001 = CreateUnit( p, 'ucry', -5121.6, 2038.1, 306.413 )
    set gg_unit_ucry_0002 = CreateUnit( p, 'ucry', -5131.2, 1875.8, 333.531 )
    set gg_unit_ucry_0031 = CreateUnit( p, 'ucry', -5297.5, 2158.5, 333.531 )
    set gg_unit_ucry_0032 = CreateUnit( p, 'ucry', -5258.2, 1957.6, 333.531 )
endfunction

//===========================================================================
function CreateUnitsForPlayer1 takes nothing returns nothing
    local player p = Player(1)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'nubw', 3144.4, -1560.4, 193.818 )
    set u = CreateUnit( p, 'nubw', 3207.0, -2216.3, 206.912 )
    set u = CreateUnit( p, 'nubk', 2053.3, -2183.2, 202.924 )
    set u = CreateUnit( p, 'n002', -2175.6, -1091.6, 5.710 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000007_DropItems )
    set u = CreateUnit( p, 'n002', -1472.2, -918.0, 313.970 )
    set u = CreateUnit( p, 'n002', -2470.9, 925.1, 313.970 )
    set u = CreateUnit( p, 'nubk', 2263.4, -1458.6, 202.924 )
    set gg_unit_nubr_0015 = CreateUnit( p, 'nubr', 1790.9, 993.9, 91.470 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, gg_unit_nubr_0015, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, gg_unit_nubr_0015, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000035_DropItems )
    set gg_unit_n002_0020 = CreateUnit( p, 'n002', -1782.3, 2404.5, 308.570 )
    set u = CreateUnit( p, 'nfot', 1983.5, -1968.2, 168.746 )
    set u = CreateUnit( p, 'nubk', 2212.2, -2501.3, 202.924 )
    set u = CreateUnit( p, 'nubk', 2080.3, -1690.1, 202.924 )
    set u = CreateUnit( p, 'nubw', 1708.5, 165.7, 299.925 )
    set u = CreateUnit( p, 'nubw', 1736.8, -381.7, 82.660 )
    set u = CreateUnit( p, 'nubw', 1645.3, -106.7, 4.570 )
    set u = CreateUnit( p, 'nubk', 1416.2, 1790.1, 233.429 )
    set u = CreateUnit( p, 'nubk', 637.4, 1407.9, 138.080 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000036_DropItems )
    set gg_unit_nubr_0036 = CreateUnit( p, 'nubr', 1819.3, 2602.5, 233.320 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, gg_unit_nubr_0036, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, gg_unit_nubr_0036, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000037_DropItems )
    set u = CreateUnit( p, 'nubk', -54.8, -1161.9, 6.560 )
    set gg_unit_nfot_0040 = CreateUnit( p, 'nfot', -6.0, -1464.9, 41.930 )
    set u = CreateUnit( p, 'nubk', 137.7, -315.6, 346.033 )
    set u = CreateUnit( p, 'nubk', 197.2, -1452.5, 68.422 )
    set u = CreateUnit( p, 'n002', -833.0, 841.1, 171.110 )
    set u = CreateUnit( p, 'n002', -702.5, 612.8, 216.350 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000046_DropItems )
    set gg_unit_n001_0046 = CreateUnit( p, 'n001', -1710.2, 52.4, 0.000 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, gg_unit_n001_0046, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, gg_unit_n001_0046, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000017_DropItems )
    set u = CreateUnit( p, 'n002', -1302.9, 842.0, 227.011 )
    set u = CreateUnit( p, 'n002', -2313.1, 843.1, 0.000 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000009_DropItems )
    set u = CreateUnit( p, 'n002', -2315.8, 156.0, 313.970 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000045_DropItems )
    set u = CreateUnit( p, 'n002', -561.5, -100.1, 115.660 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000029_DropItems )
    set u = CreateUnit( p, 'n002', -2391.6, -550.0, 227.011 )
    set u = CreateUnit( p, 'n002', -717.3, -129.1, 50.095 )
    set u = CreateUnit( p, 'n002', -2456.3, -465.5, 297.664 )
    set u = CreateUnit( p, 'n002', -911.4, -991.3, 239.048 )
    set u = CreateUnit( p, 'nubk', 348.0, -1281.7, 120.724 )
    set gg_unit_n002_0056 = CreateUnit( p, 'n002', -915.2, 1895.7, 219.500 )
    set gg_unit_nubr_0057 = CreateUnit( p, 'nubr', -768.7, 1830.1, 217.100 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, gg_unit_nubr_0057, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, gg_unit_nubr_0057, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000005_DropItems )
    set u = CreateUnit( p, 'nubk', 2170.9, 1791.0, 201.259 )
    set u = CreateUnit( p, 'nubk', -121.8, -1323.3, 33.515 )
    set u = CreateUnit( p, 'n003', -2174.6, 1003.9, 274.744 )
    set u = CreateUnit( p, 'n003', -1183.2, -878.7, 274.744 )
    set u = CreateUnit( p, 'n003', -637.4, -274.8, 89.160 )
    set u = CreateUnit( p, 'n003', -1197.2, 1943.3, 204.148 )
    set u = CreateUnit( p, 'n003', -1801.6, 2111.9, 255.740 )
    set u = CreateUnit( p, 'n003', 992.2, 2573.0, 251.777 )
    set u = CreateUnit( p, 'nubr', 1600.8, -255.2, 34.343 )
    set u = CreateUnit( p, 'nfod', 158.4, -1607.5, 86.793 )
    set u = CreateUnit( p, 'nfor', 203.1, -126.3, 4.516 )
    set u = CreateUnit( p, 'nfor', 2947.8, -1600.1, 207.004 )
    set u = CreateUnit( p, 'nfor', 3075.2, -2386.6, 164.161 )
    set u = CreateUnit( p, 'n004', 3121.9, -1917.9, 203.655 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000016_DropItems )
endfunction

//===========================================================================
function CreateBuildingsForPlayer2 takes nothing returns nothing
    local player p = Player(2)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_n000_0016 = CreateUnit( p, 'n000', -2112.0, 768.0, 270.000 )
    set gg_unit_n000_0017 = CreateUnit( p, 'n000', -2368.0, -896.0, 270.000 )
    set gg_unit_n000_0018 = CreateUnit( p, 'n000', -1728.0, -192.0, 270.000 )
endfunction

//===========================================================================
function CreateNeutralHostile takes nothing returns nothing
    local player p = Player(PLAYER_NEUTRAL_AGGRESSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'nscb', -1018.9, -1906.9, 323.755 )
    set u = CreateUnit( p, 'nsc2', -1235.7, -1874.2, 11.151 )
    set gg_unit_nscb_0059 = CreateUnit( p, 'nscb', 692.7, 2572.1, 323.760 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, gg_unit_nscb_0059, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, gg_unit_nscb_0059, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000059_DropItems )
    set gg_unit_nscb_0060 = CreateUnit( p, 'nscb', 314.2, 2529.7, 28.470 )
    set gg_unit_nanc_0063 = CreateUnit( p, 'nanc', -2505.6, -1780.4, 283.260 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, gg_unit_nanc_0063, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, gg_unit_nanc_0063, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000032_DropItems )
endfunction

//===========================================================================
function CreateNeutralPassiveBuildings takes nothing returns nothing
    local player p = Player(PLAYER_NEUTRAL_PASSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'nfoh', -1088.0, -2944.0, 270.000 )
endfunction

//===========================================================================
function CreatePlayerBuildings takes nothing returns nothing
    call CreateBuildingsForPlayer2(  )
endfunction

//===========================================================================
function CreatePlayerUnits takes nothing returns nothing
    call CreateUnitsForPlayer0(  )
    call CreateUnitsForPlayer1(  )
endfunction

//===========================================================================
function CreateAllUnits takes nothing returns nothing
    call CreateNeutralPassiveBuildings(  )
    call CreatePlayerBuildings(  )
    call CreateNeutralHostile(  )
    call CreatePlayerUnits(  )
endfunction

//***************************************************************************
//*
//*  Regions
//*
//***************************************************************************

function CreateRegions takes nothing returns nothing
    local weathereffect we

    set gg_rct_AggroBigElevatorArea = Rect( -160.0, 640.0, 2496.0, 2976.0 )
    set gg_rct_AnubarakFinal_End_trev = Rect( 4384.0, 544.0, 4576.0, 736.0 )
    set gg_rct_AnubarakFinal_trev = Rect( 4224.0, -1792.0, 4416.0, -1600.0 )
    set gg_rct_AnubarakMoveDest = Rect( -3936.0, 1664.0, -3712.0, 1888.0 )
    set gg_rct_AnubarakSpawn = Rect( -4928.0, 2016.0, -4704.0, 2240.0 )
    set gg_rct_ArthasFinal_End_trev = Rect( 4640.0, 448.0, 4832.0, 640.0 )
    set gg_rct_ArthasFinal_trev = Rect( 4480.0, -1760.0, 4704.0, -1536.0 )
    set gg_rct_ArthasIntroDest01 = Rect( -4256.0, 1376.0, -4032.0, 1600.0 )
    set gg_rct_ArthasIntroDest02 = Rect( -4192.0, 512.0, -3968.0, 736.0 )
    set gg_rct_ArthasIntroFinal = Rect( -4192.0, -992.0, -3968.0, -768.0 )
    set gg_rct_ArthasSpawn = Rect( -4992.0, 1824.0, -4768.0, 2048.0 )
    set gg_rct_AttackMoveGroupNearEnd = Rect( -192.0, -1696.0, 448.0, -1056.0 )
    set gg_rct_Black_Mask_Area = Rect( -4896.0, -256.0, -3296.0, 800.0 )
    set gg_rct_Breaking_Through_Init_Area = Rect( 2176.0, -608.0, 3200.0, 224.0 )
    set gg_rct_Cripple_Area_01 = Rect( 1216.0, 1600.0, 2336.0, 2880.0 )
    set gg_rct_Cripple_Area_02 = Rect( 1216.0, 704.0, 2336.0, 1984.0 )
    set gg_rct_Crypt01IntroDest01 = Rect( -3712.0, 2016.0, -3584.0, 2144.0 )
    set gg_rct_Crypt01IntroDest02 = Rect( -2752.0, 1984.0, -2624.0, 2112.0 )
    set gg_rct_Crypt02IntroDest01 = Rect( -4064.0, 1920.0, -3936.0, 2048.0 )
    set gg_rct_Crypt03IntroDest01 = Rect( -4256.0, 1728.0, -4128.0, 1856.0 )
    set gg_rct_Crypt03IntroDest02 = Rect( -4448.0, 1632.0, -4320.0, 1760.0 )
    set gg_rct_Crypt04IntroDest01 = Rect( -4288.0, 2080.0, -4160.0, 2208.0 )
    set gg_rct_Crypt04IntroDest02 = Rect( -4224.0, 2368.0, -4096.0, 2496.0 )
    set gg_rct_Crypt05IntroDest01 = Rect( -4512.0, 1920.0, -4384.0, 2048.0 )
    set gg_rct_Crypt05IntroDest02 = Rect( -5088.0, 1920.0, -4960.0, 2048.0 )
    set gg_rct_Curse_Area = Rect( -288.0, -1568.0, 1056.0, 256.0 )
    set gg_rct_CursorAttackMoveDest = Rect( 352.0, -384.0, 544.0, -160.0 )
    set gg_rct_D1 = Rect( -2624.0, -2560.0, -2496.0, -2432.0 )
    set gg_rct_Dialogue_Singed_Area = Rect( -4480.0, -2048.0, -3456.0, -1504.0 )
    set gg_rct_DialogueBlockingWayArea = Rect( 736.0, -2336.0, 1504.0, -1792.0 )
    set gg_rct_Dust_Effect_Area_01 = Rect( -4704.0, 800.0, -3424.0, 2336.0 )
    set gg_rct_Dust_Effect_Area_02 = Rect( -4864.0, -1472.0, -3264.0, 224.0 )
    set gg_rct_Dust_Fountain_Area = Rect( -1632.0, -3456.0, -544.0, -1792.0 )
    set gg_rct_Earthquake_Final_Area = Rect( 1216.0, -3232.0, 5376.0, -672.0 )
    set gg_rct_Earthquake01Area = Rect( -1472.0, -3264.0, -736.0, -1600.0 )
    set gg_rct_Earthquake02Area = Rect( 2176.0, 448.0, 3936.0, 3072.0 )
    set gg_rct_Elevator_Orb = Rect( -1504.0, 2272.0, -1056.0, 2688.0 )
    set gg_rct_Elevator_Power_Generator = Rect( -1856.0, 352.0, -1440.0, 1248.0 )
    set gg_rct_Ensnare_Area = Rect( -2112.0, 1536.0, -640.0, 2784.0 )
    set gg_rct_Exit_to_Snow = Rect( 3648.0, -2368.0, 4640.0, -1440.0 )
    set gg_rct_Flame_A1 = Rect( -3008.0, -2560.0, -2880.0, -2432.0 )
    set gg_rct_Flame_A2 = Rect( -3008.0, -2688.0, -2880.0, -2560.0 )
    set gg_rct_Flame_A3 = Rect( -3008.0, -2816.0, -2880.0, -2688.0 )
    set gg_rct_Flame_A4 = Rect( -3008.0, -2944.0, -2880.0, -2816.0 )
    set gg_rct_Flame_A5 = Rect( -3008.0, -3072.0, -2880.0, -2944.0 )
    set gg_rct_Flame_B1 = Rect( -2880.0, -2560.0, -2752.0, -2432.0 )
    set gg_rct_Flame_B2 = Rect( -2880.0, -2688.0, -2752.0, -2560.0 )
    set gg_rct_Flame_B4 = Rect( -2880.0, -2944.0, -2752.0, -2816.0 )
    set gg_rct_Flame_B5 = Rect( -2880.0, -3072.0, -2752.0, -2944.0 )
    set gg_rct_Flame_C1 = Rect( -2752.0, -2560.0, -2624.0, -2432.0 )
    set gg_rct_Flame_C2 = Rect( -2752.0, -2688.0, -2624.0, -2560.0 )
    set gg_rct_Flame_C3 = Rect( -2752.0, -2816.0, -2624.0, -2688.0 )
    set gg_rct_Flame_C4 = Rect( -2752.0, -2944.0, -2624.0, -2816.0 )
    set gg_rct_Flame_C5 = Rect( -2752.0, -3072.0, -2624.0, -2944.0 )
    set gg_rct_Flame_D2 = Rect( -2624.0, -2688.0, -2496.0, -2560.0 )
    set gg_rct_Flame_D3 = Rect( -2624.0, -2816.0, -2496.0, -2688.0 )
    set gg_rct_Flame_D4 = Rect( -2624.0, -2944.0, -2496.0, -2816.0 )
    set gg_rct_Flame_E1 = Rect( -2496.0, -2560.0, -2368.0, -2432.0 )
    set gg_rct_Flame_E2 = Rect( -2496.0, -2688.0, -2368.0, -2560.0 )
    set gg_rct_Flame_E3 = Rect( -2496.0, -2816.0, -2368.0, -2688.0 )
    set gg_rct_Flame_E4 = Rect( -2496.0, -2944.0, -2368.0, -2816.0 )
    set gg_rct_Flame_E5 = Rect( -2496.0, -3072.0, -2368.0, -2944.0 )
    set gg_rct_Flame_F1 = Rect( -2368.0, -3072.0, -2240.0, -2944.0 )
    set gg_rct_Flame_F2 = Rect( -2368.0, -2688.0, -2240.0, -2560.0 )
    set gg_rct_Flame_F3 = Rect( -2368.0, -2816.0, -2240.0, -2688.0 )
    set gg_rct_Flame_F4 = Rect( -2368.0, -2944.0, -2240.0, -2784.0 )
    set gg_rct_Flame_G1 = Rect( -2240.0, -2560.0, -2112.0, -2432.0 )
    set gg_rct_Flame_G2 = Rect( -2240.0, -2688.0, -2112.0, -2560.0 )
    set gg_rct_Flame_G3 = Rect( -2240.0, -2816.0, -2112.0, -2688.0 )
    set gg_rct_Flame_G4 = Rect( -2240.0, -2944.0, -2112.0, -2816.0 )
    set gg_rct_Flame_G5 = Rect( -2240.0, -3072.0, -2112.0, -2944.0 )
    set gg_rct_Flame_Geyser_Puzzle_Area = Rect( -3328.0, -3232.0, -1792.0, -2304.0 )
    set gg_rct_Flame_H1 = Rect( -2112.0, -2560.0, -1984.0, -2432.0 )
    set gg_rct_Flame_H2 = Rect( -2112.0, -2688.0, -1984.0, -2560.0 )
    set gg_rct_Flame_H3 = Rect( -2112.0, -2816.0, -1984.0, -2688.0 )
    set gg_rct_Flame_H5 = Rect( -2112.0, -3072.0, -1984.0, -2944.0 )
    set gg_rct_Flame_I1 = Rect( -1984.0, -2560.0, -1856.0, -2432.0 )
    set gg_rct_Flame_I2 = Rect( -1984.0, -2688.0, -1856.0, -2560.0 )
    set gg_rct_Flame_I3 = Rect( -1984.0, -2816.0, -1856.0, -2688.0 )
    set gg_rct_Flame_I4 = Rect( -1984.0, -2944.0, -1856.0, -2816.0 )
    set gg_rct_Flame_I5 = Rect( -1984.0, -3072.0, -1856.0, -2944.0 )
    set gg_rct_Flame_Strike_01_Area = Rect( -2656.0, -1312.0, -768.0, -768.0 )
    set gg_rct_Flame_Strike_02_Area = Rect( -2688.0, -768.0, -2144.0, 1024.0 )
    set gg_rct_Flame_Strike_03_Area = Rect( -1888.0, 512.0, -544.0, 1088.0 )
    set gg_rct_Flame_Strike_04_Area = Rect( -1024.0, -416.0, -544.0, 512.0 )
    set gg_rct_Flame_Strike_Arch_Mage_Area = Rect( -1952.0, -416.0, -1024.0, 64.0 )
    set gg_rct_FlameSide01 = Rect( -4288.0, -2176.0, -3968.0, -2048.0 )
    set gg_rct_FlameSide02 = Rect( -4288.0, -2304.0, -3968.0, -2176.0 )
    set gg_rct_FlameSide03 = Rect( -4288.0, -2432.0, -3968.0, -2304.0 )
    set gg_rct_FlameSide04 = Rect( -3968.0, -2176.0, -3648.0, -2048.0 )
    set gg_rct_FlameSide05 = Rect( -3968.0, -2304.0, -3648.0, -2176.0 )
    set gg_rct_FlameSide06 = Rect( -3968.0, -2432.0, -3648.0, -2304.0 )
    set gg_rct_FlameSideSet01 = Rect( -4416.0, -2208.0, -3488.0, -2048.0 )
    set gg_rct_FlameSideSet02 = Rect( -4416.0, -2336.0, -3488.0, -2176.0 )
    set gg_rct_FlameSideSet03 = Rect( -4416.0, -2432.0, -3488.0, -2304.0 )
    set gg_rct_Force_Bridge_Create = Rect( -1760.0, 768.0, -1568.0, 832.0 )
    set gg_rct_Home_Stretch = Rect( 4000.0, -2304.0, 4768.0, 1792.0 )
    set gg_rct_Mid_Game_Cin_Init = Rect( 2368.0, 736.0, 2848.0, 2528.0 )
    set gg_rct_Plate_01 = Rect( -2880.0, -2816.0, -2752.0, -2688.0 )
    set gg_rct_Plate_01_Drop_Area = Rect( -3008.0, -2688.0, -2624.0, -2272.0 )
    set gg_rct_Plate_01_Orb = Rect( -1696.0, 2016.0, -1504.0, 2208.0 )
    set gg_rct_Plate_01_Pulsating_Area = Rect( -3008.0, -3232.0, -2752.0, -2816.0 )
    set gg_rct_Plate_02 = Rect( -2624.0, -3072.0, -2496.0, -2944.0 )
    set gg_rct_Plate_02_Drop_Area = Rect( -2496.0, -3360.0, -2240.0, -2816.0 )
    set gg_rct_Plate_02_Orb = Rect( -1056.0, 2016.0, -864.0, 2208.0 )
    set gg_rct_Plate_02_Pulsating_Area = Rect( -2624.0, -2944.0, -2496.0, -2272.0 )
    set gg_rct_Plate_03 = Rect( -2368.0, -2560.0, -2240.0, -2432.0 )
    set gg_rct_Plate_03_Drop_Area = Rect( -2112.0, -2816.0, -1984.0, -2336.0 )
    set gg_rct_Plate_03_Pulsating_Area = Rect( -2368.0, -2816.0, -2240.0, -2560.0 )
    set gg_rct_Plate_04 = Rect( -2112.0, -2944.0, -1984.0, -2816.0 )
    set gg_rct_Plate_04_Pulsating_Area = Rect( -2240.0, -2688.0, -2112.0, -2240.0 )
    set gg_rct_Region_116 = Rect( 3648.0, -512.0, 3680.0, -480.0 )
    set gg_rct_RejoinAnuDest = Rect( 2976.0, 2016.0, 3136.0, 2208.0 )
    set gg_rct_RejoinAreaSpawn = Rect( 2848.0, 2816.0, 3072.0, 3040.0 )
    set gg_rct_RejoinCrypt01Dest = Rect( 3232.0, 2048.0, 3360.0, 2176.0 )
    set gg_rct_RejoinCrypt02Dest = Rect( 3168.0, 2176.0, 3296.0, 2304.0 )
    set gg_rct_RejoinCrypt03Dest = Rect( 3104.0, 2304.0, 3232.0, 2432.0 )
    set gg_rct_RejoinCrypt04Dest = Rect( 3008.0, 2400.0, 3136.0, 2528.0 )
    set gg_rct_RejoinCrypt05Dest = Rect( 2912.0, 2496.0, 3040.0, 2624.0 )
    set gg_rct_Rock_Break_Attack_Group = Rect( 1408.0, -448.0, 1856.0, 256.0 )
    set gg_rct_Rock_Break_Attack_Rocks = Rect( 1792.0, -640.0, 2272.0, 320.0 )
    set gg_rct_Rocks_Destroy_Area = Rect( 2816.0, 2496.0, 3296.0, 2912.0 )
    set gg_rct_Run_from_Faceless_Horde = Rect( 1600.0, -2976.0, 3360.0, -736.0 )
    set gg_rct_VisibilityBigElevatorArea = Rect( -288.0, 640.0, 2400.0, 2976.0 )
    set gg_rct_VisibilityMageAreaActivate = Rect( -2880.0, -1504.0, -480.0, 1184.0 )
    set gg_rct_VisibilityMageAreaReveal = Rect( -2176.0, -704.0, -1216.0, 576.0 )
    set gg_rct_VisibilitySideFlameArea = Rect( -4672.0, -1984.0, -3264.0, -352.0 )
    set gg_rct_VisibilitySideFlameReveal = Rect( -4384.0, -2464.0, -3552.0, -1600.0 )
    set gg_rct_VisibilityTwoPlatesArea = Rect( -1856.0, 1568.0, -704.0, 2848.0 )
    set gg_rct_ArthasFinal_EndB_trev = Rect( 5280.0, 1056.0, 5472.0, 1248.0 )
    set gg_rct_AnubarakFinal_EndB_trev = Rect( 5056.0, 1248.0, 5280.0, 1440.0 )
    set gg_rct_Fiends_End_Cine_01_Spawn = Rect( 3680.0, -2048.0, 3808.0, -1920.0 )
    set gg_rct_Fiends_End_Cine_Crypt_03_Dest = Rect( 4576.0, 128.0, 4736.0, 288.0 )
    set gg_rct_Fiends_End_Cine3 = Rect( 4960.0, 960.0, 5440.0, 1472.0 )
    set gg_rct_Fiends_End_Cine_Crypt_02_Dest = Rect( 4416.0, 160.0, 4576.0, 320.0 )
    set gg_rct_Fiends_End_Cine_Crypt_01_Dest = Rect( 4256.0, 256.0, 4416.0, 416.0 )
    set gg_rct_Fiends_End_Cine_02_Spawn = Rect( 3776.0, -2176.0, 3904.0, -2048.0 )
    set gg_rct_Fiends_End_Cine_03_Spawn = Rect( 3936.0, -2176.0, 4064.0, -2048.0 )
    set gg_rct_WaterSound1 = Rect( -5344.0, -32.0, -4928.0, 512.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -5136.0, 240.0, 0.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 416.0, 544.0 )
    set gg_rct_WaterSound2 = Rect( -5344.0, -2816.0, -5120.0, -2368.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -5232.0, -2592.0, -112.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 224.0, 448.0 )
    set gg_rct_WaterSound3 = Rect( -4896.0, -3040.0, -4672.0, -2848.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -4784.0, -2944.0, -128.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 224.0, 192.0 )
    set gg_rct_WaterSound4 = Rect( -4864.0, -2528.0, -4640.0, -2272.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -4752.0, -2400.0, -116.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 224.0, 256.0 )
    set gg_rct_WaterSound5 = Rect( -2880.0, -1376.0, -2656.0, 1120.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -2768.0, -128.0, -80.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 224.0, 2496.0 )
    set gg_rct_WaterSound6 = Rect( -2656.0, -1504.0, -1504.0, -1344.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -2080.0, -1424.0, -96.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 1152.0, 160.0 )
    set gg_rct_WaterSound7 = Rect( -1376.0, -3296.0, -800.0, -1792.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -1088.0, -2544.0, 9.2 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 576.0, 1504.0 )
    set gg_rct_WaterSound8 = Rect( 96.0, 640.0, 2336.0, 2720.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, 1216.0, 1680.0, 0.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 2240.0, 2080.0 )
    set gg_rct_WaterSound9 = Rect( 1088.0, -3104.0, 1472.0, -2624.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, 1280.0, -2864.0, 0.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 384.0, 480.0 )
    set gg_rct_WaterSound10 = Rect( 1056.0, -1472.0, 1440.0, -832.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, 1248.0, -1152.0, -128.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 384.0, 640.0 )
    set gg_rct_WaterSound11 = Rect( 5600.0, -2976.0, 7264.0, -1504.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, 6432.0, -2240.0, -128.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 1664.0, 1472.0 )
    set gg_rct_PlateBlueSideFlameOff = Rect( -4064.0, -2656.0, -3872.0, -2464.0 )
    set gg_rct_Hidden_Area_Pan = Rect( 192.0, 2688.0, 384.0, 2816.0 )
    set gg_rct_HardDifficulty01 = Rect( -1312.0, -1952.0, -1152.0, -1792.0 )
    set gg_rct_HardDifficulty02 = Rect( -1568.0, -992.0, -1408.0, -832.0 )
    set gg_rct_HardDifficulty03 = Rect( -2560.0, 864.0, -2400.0, 1024.0 )
    set gg_rct_HardDifficulty04 = Rect( -2272.0, 928.0, -2112.0, 1088.0 )
    set gg_rct_HardDifficulty05 = Rect( -768.0, -192.0, -640.0, -32.0 )
    set gg_rct_HardDifficulty06 = Rect( -1728.0, 2336.0, -1568.0, 2496.0 )
    set gg_rct_HardDifficulty07 = Rect( 928.0, 2496.0, 1088.0, 2656.0 )
    set gg_rct_HardDifficulty08 = Rect( 1504.0, -352.0, 1664.0, -192.0 )
    set gg_rct_HardDifficulty09 = Rect( 64.0, -1696.0, 224.0, -1536.0 )
    set gg_rct_HardDifficulty10 = Rect( 128.0, -224.0, 288.0, -64.0 )
    set gg_rct_HardDifficulty11 = Rect( 2976.0, -2464.0, 3136.0, -2304.0 )
    set gg_rct_HardDifficulty12 = Rect( 2848.0, -1664.0, 3008.0, -1504.0 )
    set gg_rct_PathingBlockerKillArea = Rect( -1984.0, -768.0, -1472.0, -576.0 )
    set gg_rct_Coin03 = Rect( 608.0, -3232.0, 800.0, -3040.0 )
endfunction

//***************************************************************************
//*
//*  Cameras
//*
//***************************************************************************

function CreateCameras takes nothing returns nothing

    set gg_cam_Victory_Cam_01 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Victory_Cam_01, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_Cam_01, CAMERA_FIELD_ROTATION, 65.7, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_Cam_01, CAMERA_FIELD_ANGLE_OF_ATTACK, 318.2, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_Cam_01, CAMERA_FIELD_TARGET_DISTANCE, 1891.5, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_Cam_01, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_Cam_01, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_Cam_01, CAMERA_FIELD_FARZ, 8403.8, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Victory_Cam_01, 4715.3, -865.2, 0.0 )

    set gg_cam_Victory_Cam_02 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Victory_Cam_02, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_Cam_02, CAMERA_FIELD_ROTATION, 42.8, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_Cam_02, CAMERA_FIELD_ANGLE_OF_ATTACK, 333.7, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_Cam_02, CAMERA_FIELD_TARGET_DISTANCE, 2080.6, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_Cam_02, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_Cam_02, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_Cam_02, CAMERA_FIELD_FARZ, 8403.8, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Victory_Cam_02, 4866.0, 661.2, 0.0 )

    set gg_cam_Debug_Victory = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Debug_Victory, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Debug_Victory, CAMERA_FIELD_ROTATION, 73.7, 0.0 )
    call CameraSetupSetField( gg_cam_Debug_Victory, CAMERA_FIELD_ANGLE_OF_ATTACK, 316.9, 0.0 )
    call CameraSetupSetField( gg_cam_Debug_Victory, CAMERA_FIELD_TARGET_DISTANCE, 2438.8, 0.0 )
    call CameraSetupSetField( gg_cam_Debug_Victory, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Debug_Victory, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Debug_Victory, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Debug_Victory, 3746.9, -1385.6, 0.0 )

    set gg_cam_Intro_Cam_01 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_Cam_01, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_01, CAMERA_FIELD_ROTATION, 318.1, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_01, CAMERA_FIELD_ANGLE_OF_ATTACK, 323.2, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_01, CAMERA_FIELD_TARGET_DISTANCE, 1685.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_01, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_01, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_01, CAMERA_FIELD_FARZ, 6542.7, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_Cam_01, -4372.4, 1982.1, 0.0 )

    set gg_cam_Intro_Cam_02 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_Cam_02, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_02, CAMERA_FIELD_ROTATION, 318.1, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_02, CAMERA_FIELD_ANGLE_OF_ATTACK, 323.2, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_02, CAMERA_FIELD_TARGET_DISTANCE, 1685.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_02, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_02, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_02, CAMERA_FIELD_FARZ, 6542.7, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_Cam_02, -3997.1, 1818.2, 0.0 )

    set gg_cam_Intro_Cam_03 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_Cam_03, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_03, CAMERA_FIELD_ROTATION, 64.3, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_03, CAMERA_FIELD_ANGLE_OF_ATTACK, 326.8, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_03, CAMERA_FIELD_TARGET_DISTANCE, 1685.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_03, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_03, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_03, CAMERA_FIELD_FARZ, 6542.7, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_Cam_03, -3908.3, 1779.8, 0.0 )

    set gg_cam_Intro_Cam_04 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_Cam_04, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_04, CAMERA_FIELD_ROTATION, 54.4, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_04, CAMERA_FIELD_ANGLE_OF_ATTACK, 314.5, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_04, CAMERA_FIELD_TARGET_DISTANCE, 1685.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_04, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_04, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_04, CAMERA_FIELD_FARZ, 6542.7, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_Cam_04, -4071.1, -805.4, 0.0 )

    set gg_cam_Intro_Cam_03_trev = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_Cam_03_trev, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_03_trev, CAMERA_FIELD_ROTATION, 64.8, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_03_trev, CAMERA_FIELD_ANGLE_OF_ATTACK, 328.3, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_03_trev, CAMERA_FIELD_TARGET_DISTANCE, 1531.8, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_03_trev, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_03_trev, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_03_trev, CAMERA_FIELD_FARZ, 6542.7, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_Cam_03_trev, -3774.6, 1756.8, 0.0 )

    set gg_cam_Intro_cam_01_trev = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_cam_01_trev, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_cam_01_trev, CAMERA_FIELD_ROTATION, 317.9, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_cam_01_trev, CAMERA_FIELD_ANGLE_OF_ATTACK, 321.8, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_cam_01_trev, CAMERA_FIELD_TARGET_DISTANCE, 1685.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_cam_01_trev, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_cam_01_trev, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_cam_01_trev, CAMERA_FIELD_FARZ, 6542.7, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_cam_01_trev, -4454.9, 2061.6, 0.0 )

    set gg_cam_Intro_Cam_02_trev = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_Cam_02_trev, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_02_trev, CAMERA_FIELD_ROTATION, 64.8, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_02_trev, CAMERA_FIELD_ANGLE_OF_ATTACK, 328.3, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_02_trev, CAMERA_FIELD_TARGET_DISTANCE, 1531.8, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_02_trev, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_02_trev, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_02_trev, CAMERA_FIELD_FARZ, 6542.7, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_Cam_02_trev, -3864.2, 1784.4, 0.0 )

    set gg_cam_Intro_Cam_01a_trev = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_Cam_01a_trev, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_01a_trev, CAMERA_FIELD_ROTATION, 317.9, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_01a_trev, CAMERA_FIELD_ANGLE_OF_ATTACK, 321.8, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_01a_trev, CAMERA_FIELD_TARGET_DISTANCE, 1685.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_01a_trev, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_01a_trev, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_01a_trev, CAMERA_FIELD_FARZ, 6542.7, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_Cam_01a_trev, -4365.8, 2031.5, 0.0 )

    set gg_cam_Intro_Cam_04a_trev = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_Cam_04a_trev, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_04a_trev, CAMERA_FIELD_ROTATION, 54.4, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_04a_trev, CAMERA_FIELD_ANGLE_OF_ATTACK, 314.5, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_04a_trev, CAMERA_FIELD_TARGET_DISTANCE, 1392.6, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_04a_trev, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_04a_trev, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Cam_04a_trev, CAMERA_FIELD_FARZ, 6542.7, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_Cam_04a_trev, -4071.1, -805.4, 0.0 )

    set gg_cam_Rejoin_Cam_01 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Rejoin_Cam_01, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Rejoin_Cam_01, CAMERA_FIELD_ROTATION, 68.9, 0.0 )
    call CameraSetupSetField( gg_cam_Rejoin_Cam_01, CAMERA_FIELD_ANGLE_OF_ATTACK, 309.4, 0.0 )
    call CameraSetupSetField( gg_cam_Rejoin_Cam_01, CAMERA_FIELD_TARGET_DISTANCE, 1196.5, 0.0 )
    call CameraSetupSetField( gg_cam_Rejoin_Cam_01, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Rejoin_Cam_01, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Rejoin_Cam_01, CAMERA_FIELD_FARZ, 9855.5, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Rejoin_Cam_01, 3029.4, 2466.2, 0.0 )

    set gg_cam_Rejoin_Cam_02 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Rejoin_Cam_02, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Rejoin_Cam_02, CAMERA_FIELD_ROTATION, 41.1, 0.0 )
    call CameraSetupSetField( gg_cam_Rejoin_Cam_02, CAMERA_FIELD_ANGLE_OF_ATTACK, 314.5, 0.0 )
    call CameraSetupSetField( gg_cam_Rejoin_Cam_02, CAMERA_FIELD_TARGET_DISTANCE, 1447.8, 0.0 )
    call CameraSetupSetField( gg_cam_Rejoin_Cam_02, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Rejoin_Cam_02, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Rejoin_Cam_02, CAMERA_FIELD_FARZ, 9855.5, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Rejoin_Cam_02, 3021.6, 2318.7, 0.0 )

    set gg_cam_Debug_Cam = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Debug_Cam, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Debug_Cam, CAMERA_FIELD_ROTATION, 70.9, 0.0 )
    call CameraSetupSetField( gg_cam_Debug_Cam, CAMERA_FIELD_ANGLE_OF_ATTACK, 320.7, 0.0 )
    call CameraSetupSetField( gg_cam_Debug_Cam, CAMERA_FIELD_TARGET_DISTANCE, 2153.7, 0.0 )
    call CameraSetupSetField( gg_cam_Debug_Cam, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Debug_Cam, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Debug_Cam, CAMERA_FIELD_FARZ, 5402.4, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Debug_Cam, 4111.1, -1353.8, 0.0 )

endfunction

//***************************************************************************
//*
//*  Triggers
//*
//***************************************************************************

//===========================================================================
// Trigger: Initialization
//
// Template version 1.03
//===========================================================================
function Trig_Initialization_Actions takes nothing returns nothing
    call SetCampaignMenuRaceBJ( bj_CAMPAIGN_INDEX_XU )
    call SetAllyColorFilterState( 0 )
    // ************
    call SetTimeOfDay( 15.00 )
    // ************
    call ConditionalTriggerExecute( gg_trg_Init_01_Players )
    call ConditionalTriggerExecute( gg_trg_Init_02_Units )
    call ConditionalTriggerExecute( gg_trg_Init_03_Destructibles )
    call ConditionalTriggerExecute( gg_trg_Init_04_Music_and_Sounds )
    call ConditionalTriggerExecute( gg_trg_Init_05_Environment )
    call ConditionalTriggerExecute( gg_trg_Init_06_Quests )
    call ConditionalTriggerExecute( gg_trg_Init_07a_Hard )
    call ConditionalTriggerExecute( gg_trg_Init_07b_Normal )
    call ConditionalTriggerExecute( gg_trg_Init_07c_Easy )
    call ConditionalTriggerExecute( gg_trg_Init_08_Form_Unit_Groups )
    call ConditionalTriggerExecute( gg_trg_Init_09_Regions_to_Points )
    // Start Intro Cinematic
    call QueuedTriggerAddBJ( gg_trg_Intro_Cinematic_Q, true )
endfunction

//===========================================================================
function InitTrig_Initialization takes nothing returns nothing
    set gg_trg_Initialization = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Initialization, function Trig_Initialization_Actions )
endfunction

//===========================================================================
// Trigger: Init 01 Players
//===========================================================================
function Trig_Init_01_Players_Func009002 takes nothing returns nothing
    call GroupAddUnitSimple( GetEnumUnit(), udg_RescuableGroup )
endfunction

function Trig_Init_01_Players_Actions takes nothing returns nothing
    // Alliance Settings
    // Initial Resources
    // Player Colors
    call SetPlayerColorBJ( udg_AP1_Player, GetPlayerColor(Player(3)), true )
    // Hide Excess Players
    call SetPlayerOnScoreScreenBJ( false, Player(2) )
    call SetPlayerOnScoreScreenBJ( false, Player(3) )
    // Setup Rescuables
    call ForGroupBJ( GetUnitsOfPlayerAll(udg_AP2_UnbrokenOnes), function Trig_Init_01_Players_Func009002 )
endfunction

//===========================================================================
function InitTrig_Init_01_Players takes nothing returns nothing
    set gg_trg_Init_01_Players = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_01_Players, function Trig_Init_01_Players_Actions )
endfunction

//===========================================================================
// Trigger: Init 02 Units
//===========================================================================
function Trig_Init_02_Units_Func016A takes nothing returns nothing
    call RemoveGuardPosition( GetEnumUnit() )
endfunction

function Trig_Init_02_Units_Actions takes nothing returns nothing
    // Heroes
    call ConditionalTriggerExecute( gg_trg_Load_Heroes )
    call SuspendHeroXPBJ( false, udg_Arthas )
    set udg_BlizzardStriker = gg_unit_n001_0046
    // NPCs
    call UnitRemoveAbilityBJ( 'ACen', gg_unit_nubr_0036 )
    call UnitRemoveAbilityBJ( 'ACen', gg_unit_nubr_0015 )
    call UnitAddAbilityBJ( 'ACcr', gg_unit_nubr_0036 )
    call UnitAddAbilityBJ( 'ACcr', gg_unit_nubr_0015 )
    call UnitAddAbilityBJ( 'ACcs', gg_unit_nfot_0040 )
    set udg_ElevatorBaddies = GetUnitsInRectOfPlayer(gg_rct_AggroBigElevatorArea, udg_AP2_UnbrokenOnes)
    call GroupAddUnitSimple( gg_unit_nscb_0060, udg_ElevatorBaddies )
    call GroupAddUnitSimple( gg_unit_nscb_0059, udg_ElevatorBaddies )
    call GroupRemoveUnitSimple( gg_unit_nubr_0036, udg_ElevatorBaddies )
    call GroupRemoveUnitSimple( gg_unit_nubr_0015, udg_ElevatorBaddies )
    call ForGroupBJ( udg_ElevatorBaddies, function Trig_Init_02_Units_Func016A )
    // Creeps
    call EnableCreepSleepBJ( false )
    call SetPlayerFlagBJ( PLAYER_STATE_GIVES_BOUNTY, false, Player(PLAYER_NEUTRAL_AGGRESSIVE) )
    call ShowUnitHide( gg_unit_nanc_0063 )
    // Cryptfiends
    set udg_Crypt01 = gg_unit_ucry_0000
    set udg_Crypt02 = gg_unit_ucry_0001
    set udg_Crypt03 = gg_unit_ucry_0002
    set udg_Crypt04 = gg_unit_ucry_0031
    set udg_Crypt05 = gg_unit_ucry_0032
    // Side Flame
    set udg_SideFlame01TimeDelay = 2.75
    set udg_SideFlame02TimeDelay = 2.75
    set udg_SideFlame03TimeDelay = 2.75
endfunction

//===========================================================================
function InitTrig_Init_02_Units takes nothing returns nothing
    set gg_trg_Init_02_Units = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_02_Units, function Trig_Init_02_Units_Actions )
endfunction

//===========================================================================
// Trigger: Init 03 Destructibles
//===========================================================================
function Trig_Init_03_Destructibles_Actions takes nothing returns nothing
    // Geyser Flame Doors
    call SetDestructableInvulnerableBJ( gg_dest_ITg3_0002, true )
    call SetDestructableInvulnerableBJ( gg_dest_ZTd3_0192, true )
    // Flame Side Damage
    set udg_BlueSideFlameDamage = 150.00
    // Flame Geyser Damage
    set udg_GeyserFlameDamage = 200.00
    // Force Bridge
    // Dust
    call SetDoodadAnimationRectBJ( "death", 'ZZcd', gg_rct_Dust_Fountain_Area )
    call SetDoodadAnimationRectBJ( "death", 'ZZcd', gg_rct_Earthquake02Area )
    call SetDoodadAnimationRectBJ( "death", 'ZZcd', gg_rct_Curse_Area )
    call SetDoodadAnimationRectBJ( "death", 'ZZcd', gg_rct_Earthquake_Final_Area )
    // Ramp
    call KillDestructable( gg_dest_LTs3_0039 )
    // Victory Door
    call ModifyGateBJ( bj_GATEOPERATION_OPEN, gg_dest_ITg4_0233 )
    // Make Doors Indestructible
    call SetDestructableInvulnerableBJ( gg_dest_ITg3_0322, true )
    call SetDestructableInvulnerableBJ( gg_dest_ZTd3_0026, true )
    // Secret Elevator
    call ChangeElevatorWalls( false, bj_ELEVATOR_WALL_TYPE_ALL, gg_dest_DTrf_0679 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_EAST, gg_dest_DTrf_0679 )
    // Elevators
    // A
    set udg_zElevatorsA[1] = gg_dest_DTrf_0220
    set udg_zElevatorsA[2] = gg_dest_DTrf_0011
    set udg_zElevatorsA[3] = gg_dest_DTrf_0009
    set udg_zElevatorsA[4] = gg_dest_DTrf_0166
    set udg_zElevatorsA[5] = gg_dest_DTrf_0168
    set udg_zElevatorsA[6] = gg_dest_DTrf_0190
    // B
    set udg_zElevatorsB[1] = gg_dest_DTrf_0029
    set udg_zElevatorsB[2] = gg_dest_DTrf_0004
    set udg_zElevatorsB[3] = gg_dest_DTrf_0003
    set udg_zElevatorsB[4] = gg_dest_DTrf_0010
    set udg_zElevatorsB[5] = gg_dest_DTrf_0164
    set udg_zElevatorsB[6] = gg_dest_DTrf_0171
    // C
    set udg_zElevatorsC[1] = gg_dest_DTrf_0031
    set udg_zElevatorsC[2] = null
    set udg_zElevatorsC[3] = gg_dest_DTrf_0007
    set udg_zElevatorsC[4] = gg_dest_DTrf_0154
    set udg_zElevatorsC[5] = gg_dest_DTrf_0165
    set udg_zElevatorsC[6] = gg_dest_DTrf_0186
    // D
    set udg_zElevatorsD[1] = gg_dest_DTrf_0206
    set udg_zElevatorsD[2] = gg_dest_DTrf_0006
    set udg_zElevatorsD[3] = gg_dest_DTrf_0008
    set udg_zElevatorsD[4] = gg_dest_DTrf_0155
    set udg_zElevatorsD[5] = null
    set udg_zElevatorsD[6] = gg_dest_DTrf_0187
endfunction

//===========================================================================
function InitTrig_Init_03_Destructibles takes nothing returns nothing
    set gg_trg_Init_03_Destructibles = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_03_Destructibles, function Trig_Init_03_Destructibles_Actions )
endfunction

//===========================================================================
// Trigger: Init 04 Music and Sounds
//===========================================================================
function Trig_Init_04_Music_and_Sounds_Actions takes nothing returns nothing
    call ClearMapMusicBJ(  )
    call TriggerSleepAction( 0.01 )
    call PlayThematicMusicExBJ( "Sound\\Music\\mp3Music\\ArthasTheme.mp3", 6.00 )
    call SetMapMusicIndexedBJ( "music", 3 )
    // Sounds
    set udg_SoundEarthquake = gg_snd_Earthquake
    set udg_SoundPlates = gg_snd_Switch
    set udg_SoundCollapse = gg_snd_BridgeDeath
    set udg_SoundDoorOpening = gg_snd_LargeCityGateOpen1
    set udg_ElevatorsSound = gg_snd_Elevator
    set udg_RollingGateSound = gg_snd_Elevator
    set udg_SpectralBridgeSound = gg_snd_ReviveOrc
    // Flame Side Sounds
    set udg_FlameSideSound01 = gg_snd_BlueFireBurst
    set udg_FlameSideSound02 = gg_snd_BlueFireBurst01
    set udg_FlameSideSound03 = gg_snd_BlueFireBurst
    // Flame Geyser Pulsating Sounds
    set udg_FlameGeyserSound01 = gg_snd_BlueFireBurst
    set udg_FlameGeyserSound02 = gg_snd_BlueFireBurst01
    set udg_FlameGeyserSound03 = gg_snd_BlueFireBurst
    set udg_FlameGeyserSound04 = gg_snd_BlueFireBurst01
    // Flame Geyser Sustained Sound
    set udg_FlameSustained = gg_snd_BlueFireBurstLoop
    // Flame Sound Volume Percentage
    set udg_FlameVolume = 70.00
    set udg_FlameVolumeSustained = 70.00
endfunction

//===========================================================================
function InitTrig_Init_04_Music_and_Sounds takes nothing returns nothing
    set gg_trg_Init_04_Music_and_Sounds = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_04_Music_and_Sounds, function Trig_Init_04_Music_and_Sounds_Actions )
endfunction

//===========================================================================
// Trigger: Init 05 Environment
//===========================================================================
function Trig_Init_05_Environment_Actions takes nothing returns nothing
    // Initial Time Of Day
    call SetTimeOfDay( 19.00 )
    // Weather Effects
    // Fog
    // Initial Visibility
    // Bridges, Gates, etc.
    // Final Gate is Invulnerable Until Final Guardians Are Slain
    call SetDestructableInvulnerableBJ( gg_dest_ITg3_0265, true )
endfunction

//===========================================================================
function InitTrig_Init_05_Environment takes nothing returns nothing
    set gg_trg_Init_05_Environment = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_05_Environment, function Trig_Init_05_Environment_Actions )
endfunction

//===========================================================================
// Trigger: Init 06 Quests
//===========================================================================
function Trig_Init_06_Quests_Actions takes nothing returns nothing
    // Create Quests
    call ConditionalTriggerExecute( gg_trg_Quest_Escape_Create )
    call ConditionalTriggerExecute( gg_trg_Quest_Gold_Create )
endfunction

//===========================================================================
function InitTrig_Init_06_Quests takes nothing returns nothing
    set gg_trg_Init_06_Quests = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_06_Quests, function Trig_Init_06_Quests_Actions )
endfunction

//===========================================================================
// Trigger: Init 07a Hard
//===========================================================================
function Trig_Init_07a_Hard_Conditions takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_HARD ) ) then
        return false
    endif
    return true
endfunction

function Trig_Init_07a_Hard_Actions takes nothing returns nothing
endfunction

//===========================================================================
function InitTrig_Init_07a_Hard takes nothing returns nothing
    set gg_trg_Init_07a_Hard = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Init_07a_Hard, Condition( function Trig_Init_07a_Hard_Conditions ) )
    call TriggerAddAction( gg_trg_Init_07a_Hard, function Trig_Init_07a_Hard_Actions )
endfunction

//===========================================================================
// Trigger: Init 07b Normal
//===========================================================================
function Trig_Init_07b_Normal_Conditions takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_NORMAL ) ) then
        return false
    endif
    return true
endfunction

function Trig_Init_07b_Normal_Actions takes nothing returns nothing
    // Remove Hard Difficulty Units
    call RemoveUnit( GroupPickRandomUnit(GetUnitsInRectAll(gg_rct_HardDifficulty01)) )
    call RemoveUnit( GroupPickRandomUnit(GetUnitsInRectAll(gg_rct_HardDifficulty02)) )
    call RemoveUnit( GroupPickRandomUnit(GetUnitsInRectAll(gg_rct_HardDifficulty03)) )
    call RemoveUnit( GroupPickRandomUnit(GetUnitsInRectAll(gg_rct_HardDifficulty04)) )
    call RemoveUnit( GroupPickRandomUnit(GetUnitsInRectAll(gg_rct_HardDifficulty05)) )
    call RemoveUnit( GroupPickRandomUnit(GetUnitsInRectAll(gg_rct_HardDifficulty06)) )
    call RemoveUnit( GroupPickRandomUnit(GetUnitsInRectAll(gg_rct_HardDifficulty07)) )
    call RemoveUnit( GroupPickRandomUnit(GetUnitsInRectAll(gg_rct_HardDifficulty08)) )
    call RemoveUnit( GroupPickRandomUnit(GetUnitsInRectAll(gg_rct_HardDifficulty09)) )
    call RemoveUnit( GroupPickRandomUnit(GetUnitsInRectAll(gg_rct_HardDifficulty10)) )
    call RemoveUnit( GroupPickRandomUnit(GetUnitsInRectAll(gg_rct_HardDifficulty11)) )
    call RemoveUnit( GroupPickRandomUnit(GetUnitsInRectAll(gg_rct_HardDifficulty12)) )
endfunction

//===========================================================================
function InitTrig_Init_07b_Normal takes nothing returns nothing
    set gg_trg_Init_07b_Normal = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Init_07b_Normal, Condition( function Trig_Init_07b_Normal_Conditions ) )
    call TriggerAddAction( gg_trg_Init_07b_Normal, function Trig_Init_07b_Normal_Actions )
endfunction

//===========================================================================
// Trigger: Init 07c Easy
//===========================================================================
function Trig_Init_07c_Easy_Conditions takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_EASY ) ) then
        return false
    endif
    return true
endfunction

function Trig_Init_07c_Easy_Actions takes nothing returns nothing
    // Handicap All Opponents
    call SetPlayerHandicapBJ( Player(PLAYER_NEUTRAL_AGGRESSIVE), bj_HANDICAP_EASY )
    call SetPlayerHandicapBJ( udg_AP2_UnbrokenOnes, bj_HANDICAP_EASY )
    // Flame Boolean
    set udg_EasyOn = true
    // Flame Side Damage
    set udg_BlueSideFlameDamage = 50.00
    // Flame Geyser Damage
    set udg_GeyserFlameDamage = 75.00
    // Remove Hard Difficulty Units
    call RemoveUnit( GroupPickRandomUnit(GetUnitsInRectAll(gg_rct_HardDifficulty01)) )
    call RemoveUnit( GroupPickRandomUnit(GetUnitsInRectAll(gg_rct_HardDifficulty02)) )
    call RemoveUnit( GroupPickRandomUnit(GetUnitsInRectAll(gg_rct_HardDifficulty03)) )
    call RemoveUnit( GroupPickRandomUnit(GetUnitsInRectAll(gg_rct_HardDifficulty04)) )
    call RemoveUnit( GroupPickRandomUnit(GetUnitsInRectAll(gg_rct_HardDifficulty05)) )
    call RemoveUnit( GroupPickRandomUnit(GetUnitsInRectAll(gg_rct_HardDifficulty06)) )
    call RemoveUnit( GroupPickRandomUnit(GetUnitsInRectAll(gg_rct_HardDifficulty07)) )
    call RemoveUnit( GroupPickRandomUnit(GetUnitsInRectAll(gg_rct_HardDifficulty08)) )
    call RemoveUnit( GroupPickRandomUnit(GetUnitsInRectAll(gg_rct_HardDifficulty09)) )
    call RemoveUnit( GroupPickRandomUnit(GetUnitsInRectAll(gg_rct_HardDifficulty10)) )
    call RemoveUnit( GroupPickRandomUnit(GetUnitsInRectAll(gg_rct_HardDifficulty11)) )
    call RemoveUnit( GroupPickRandomUnit(GetUnitsInRectAll(gg_rct_HardDifficulty12)) )
endfunction

//===========================================================================
function InitTrig_Init_07c_Easy takes nothing returns nothing
    set gg_trg_Init_07c_Easy = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Init_07c_Easy, Condition( function Trig_Init_07c_Easy_Conditions ) )
    call TriggerAddAction( gg_trg_Init_07c_Easy, function Trig_Init_07c_Easy_Actions )
endfunction

//===========================================================================
// Trigger: Init 08 Form Unit Groups
//===========================================================================
function Trig_Init_08_Form_Unit_Groups_Actions takes nothing returns nothing
    set udg_FinalGuardians = GetUnitsInRectOfPlayer(gg_rct_Run_from_Faceless_Horde, udg_AP2_UnbrokenOnes)
endfunction

//===========================================================================
function InitTrig_Init_08_Form_Unit_Groups takes nothing returns nothing
    set gg_trg_Init_08_Form_Unit_Groups = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_08_Form_Unit_Groups, function Trig_Init_08_Form_Unit_Groups_Actions )
endfunction

//===========================================================================
// Trigger: Init 09 Regions to Points
//===========================================================================
function Trig_Init_09_Regions_to_Points_Actions takes nothing returns nothing
    set udg_PointFlameSide01 = GetRectCenter(gg_rct_FlameSide01)
    set udg_PointFlameSide02 = GetRectCenter(gg_rct_FlameSide02)
    set udg_PointFlameSide03 = GetRectCenter(gg_rct_FlameSide03)
endfunction

//===========================================================================
function InitTrig_Init_09_Regions_to_Points takes nothing returns nothing
    set gg_trg_Init_09_Regions_to_Points = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_09_Regions_to_Points, function Trig_Init_09_Regions_to_Points_Actions )
endfunction

//===========================================================================
// Trigger: Load Heroes
//===========================================================================
function Trig_Load_Heroes_Actions takes nothing returns nothing
    // Create The Game Cache
    call InitGameCacheBJ( "Campaigns.w3v" )
    // Load Each Hero
    call ConditionalTriggerExecute( gg_trg_Load_Arthas )
    call ConditionalTriggerExecute( gg_trg_Load_Anubarak )
    call ConditionalTriggerExecute( gg_trg_Load_Gold )
    // Disable Arthas Experience
    call SuspendHeroXPBJ( false, udg_Arthas )
endfunction

//===========================================================================
function InitTrig_Load_Heroes takes nothing returns nothing
    set gg_trg_Load_Heroes = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Load_Heroes, function Trig_Load_Heroes_Actions )
endfunction

//===========================================================================
// Trigger: Load Arthas
//===========================================================================
function Trig_Load_Arthas_Func004C takes nothing returns boolean
    if ( not ( udg_Arthas != null ) ) then
        return false
    endif
    return true
endfunction

function Trig_Load_Arthas_Actions takes nothing returns nothing
    // Load Hero From Cache
    call RestoreUnitLocFacingAngleBJ( "Arthas", "UndeadX07c", GetLastCreatedGameCacheBJ(), udg_AP1_Player, GetRectCenter(gg_rct_ArthasSpawn), 180.00 )
    set udg_Arthas = GetLastRestoredUnitBJ()
    if ( Trig_Load_Arthas_Func004C() ) then
        // De-level Hero
        call SetHeroLevelBJ( udg_Arthas, 1, false )
        call SetHeroLevelBJ( udg_Arthas, 3, false )
        call SelectHeroSkill( udg_Arthas, 'AUdc' )
        call SelectHeroSkill( udg_Arthas, 'AUdc' )
    else
        // Create Default Hero
        call CreateNUnitsAtLoc( 1, 'Uear', udg_AP1_Player, GetRectCenter(gg_rct_ArthasSpawn), 180.00 )
        call SetHeroLevelBJ( GetLastCreatedUnit(), 3, false )
        call SelectHeroSkill( GetLastCreatedUnit(), 'AUdc' )
        call SelectHeroSkill( GetLastCreatedUnit(), 'AUdc' )
        call SelectHeroSkill( GetLastCreatedUnit(), 'AUau' )
        set udg_Arthas = GetLastCreatedUnit()
    endif
endfunction

//===========================================================================
function InitTrig_Load_Arthas takes nothing returns nothing
    set gg_trg_Load_Arthas = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Load_Arthas, function Trig_Load_Arthas_Actions )
endfunction

//===========================================================================
// Trigger: Load Anubarak
//===========================================================================
function Trig_Load_Anubarak_Func004001 takes nothing returns boolean
    return ( udg_Anubarak != null )
endfunction

function Trig_Load_Anubarak_Actions takes nothing returns nothing
    // Load Hero From Cache
    call RestoreUnitLocFacingAngleBJ( "Anub", "UndeadX07c", GetLastCreatedGameCacheBJ(), udg_AP1_Player, GetRectCenter(gg_rct_AnubarakSpawn), 180.00 )
    set udg_Anubarak = GetLastRestoredUnitBJ()
    if ( Trig_Load_Anubarak_Func004001() ) then
        return
    else
        call DoNothing(  )
    endif
    // Create Default Hero
    call CreateNUnitsAtLoc( 1, 'Uanb', udg_AP1_Player, GetRectCenter(gg_rct_AnubarakSpawn), 180.00 )
    call SetHeroLevelBJ( GetLastCreatedUnit(), 7, false )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AUim' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AUim' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AUts' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AUts' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AUcb' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AUcb' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AUls' )
    set udg_Anubarak = GetLastCreatedUnit()
endfunction

//===========================================================================
function InitTrig_Load_Anubarak takes nothing returns nothing
    set gg_trg_Load_Anubarak = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Load_Anubarak, function Trig_Load_Anubarak_Actions )
endfunction

//===========================================================================
// Trigger: Load Gold
//===========================================================================
function Trig_Load_Gold_Actions takes nothing returns nothing
    // Load Gold from Cache
    call SetPlayerStateBJ( udg_AP1_Player, PLAYER_STATE_RESOURCE_GOLD, GetStoredIntegerBJ("Gold", "UndeadX07c", GetLastCreatedGameCacheBJ()) )
endfunction

//===========================================================================
function InitTrig_Load_Gold takes nothing returns nothing
    set gg_trg_Load_Gold = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Load_Gold, function Trig_Load_Gold_Actions )
endfunction

//===========================================================================
// Trigger: Experience Cap Anubarak
//===========================================================================
function Trig_Experience_Cap_Anubarak_Conditions takes nothing returns boolean
    if ( not ( GetLevelingUnit() == udg_Anubarak ) ) then
        return false
    endif
    if ( not ( GetHeroLevel(GetLevelingUnit()) >= 8 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Experience_Cap_Anubarak_Actions takes nothing returns nothing
    call SuspendHeroXPBJ( false, udg_Anubarak )
    set udg_ExpDisabledForAnuburak = true
endfunction

//===========================================================================
function InitTrig_Experience_Cap_Anubarak takes nothing returns nothing
    set gg_trg_Experience_Cap_Anubarak = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Experience_Cap_Anubarak, Player(0), EVENT_PLAYER_HERO_LEVEL )
    call TriggerAddCondition( gg_trg_Experience_Cap_Anubarak, Condition( function Trig_Experience_Cap_Anubarak_Conditions ) )
    call TriggerAddAction( gg_trg_Experience_Cap_Anubarak, function Trig_Experience_Cap_Anubarak_Actions )
endfunction

//===========================================================================
// Trigger: Next Level Prep
//===========================================================================
function Trig_Next_Level_Prep_Actions takes nothing returns nothing
    // Remove Quest Items
    // Save Heroes
    call InitGameCacheBJ( "Campaigns.w3v" )
    call StoreUnitBJ( udg_Arthas, "Arthas", "UndeadX08", GetLastCreatedGameCacheBJ() )
    call StoreUnitBJ( udg_Anubarak, "Anub", "UndeadX08", GetLastCreatedGameCacheBJ() )
    // Save Gold
    call StoreIntegerBJ( GetPlayerState(udg_AP1_Player, PLAYER_STATE_RESOURCE_GOLD), "Gold", "UndeadX08", GetLastCreatedGameCacheBJ() )
    // Save Cache
    call SaveGameCacheBJ( GetLastCreatedGameCacheBJ() )
    // Enable Missions, Campaigns, Cinematics
    call SetMissionAvailableBJ( true, bj_MISSION_INDEX_XU11 )
    call SetMissionAvailableBJ( true, bj_MISSION_INDEX_XU12 )
endfunction

//===========================================================================
function InitTrig_Next_Level_Prep takes nothing returns nothing
    set gg_trg_Next_Level_Prep = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Next_Level_Prep, function Trig_Next_Level_Prep_Actions )
endfunction

//===========================================================================
// Trigger: Next Level Run
//===========================================================================
function Trig_Next_Level_Run_Actions takes nothing returns nothing
    // Set Next Level and Victory
    call SetNextLevelBJ( "Maps\\FrozenThrone\\Campaign\\UndeadX07Interlude.w3x" )
    call CustomVictoryBJ( udg_AP1_Player, true, true )
endfunction

//===========================================================================
function InitTrig_Next_Level_Run takes nothing returns nothing
    set gg_trg_Next_Level_Run = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Next_Level_Run, function Trig_Next_Level_Run_Actions )
endfunction

//===========================================================================
// Trigger: Victory Cheat
//===========================================================================
function Trig_Victory_Cheat_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Victory_Cheat_Actions takes nothing returns nothing
    set udg_GameOver = true
    call ConditionalTriggerExecute( gg_trg_Next_Level_Prep )
    call ConditionalTriggerExecute( gg_trg_Next_Level_Run )
endfunction

//===========================================================================
function InitTrig_Victory_Cheat takes nothing returns nothing
    set gg_trg_Victory_Cheat = CreateTrigger(  )
    call TriggerRegisterPlayerEventVictory( gg_trg_Victory_Cheat, Player(0) )
    call TriggerAddCondition( gg_trg_Victory_Cheat, Condition( function Trig_Victory_Cheat_Conditions ) )
    call TriggerAddAction( gg_trg_Victory_Cheat, function Trig_Victory_Cheat_Actions )
endfunction

//===========================================================================
// Trigger: Defeat Cheat
//===========================================================================
function Trig_Defeat_Cheat_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Defeat_Cheat_Actions takes nothing returns nothing
    set udg_GameOver = true
    call CustomDefeatBJ( udg_AP1_Player, "TRIGSTR_051" )
endfunction

//===========================================================================
function InitTrig_Defeat_Cheat takes nothing returns nothing
    set gg_trg_Defeat_Cheat = CreateTrigger(  )
    call TriggerRegisterPlayerEventDefeat( gg_trg_Defeat_Cheat, Player(0) )
    call TriggerAddCondition( gg_trg_Defeat_Cheat, Condition( function Trig_Defeat_Cheat_Conditions ) )
    call TriggerAddAction( gg_trg_Defeat_Cheat, function Trig_Defeat_Cheat_Actions )
endfunction

//===========================================================================
// Trigger: Intro Cinematic Q
//===========================================================================
function Trig_Intro_Cinematic_Q_Func030001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func033001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func038001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func046001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func052001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func057001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func066001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Actions takes nothing returns nothing
    call Preloader( "Scripts\\UndeadX07c.pld" )
    set udg_InCinematic = true
    // Fade Out
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 0.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    // Set Up Scene
    call CinematicModeBJ( true, udg_APG1_Player )
    call ConditionalTriggerExecute( gg_trg_Intro_Setup )
    call CameraSetupApplyForPlayer( true, gg_cam_Intro_Cam_01, udg_AP1_Player, 0 )
    call CameraSetupApplyForPlayer( true, gg_cam_Intro_Cam_02, udg_AP1_Player, 10.00 )
    // Fade In
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 2.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call IssuePointOrderLocBJ( udg_Arthas, "move", GetRectCenter(gg_rct_ArthasIntroDest01) )
    call IssuePointOrderLocBJ( udg_Anubarak, "move", GetRectCenter(gg_rct_AnubarakMoveDest) )
    call TriggerSleepAction( 1.00 )
    call PlaySoundOnUnitBJ( gg_snd_HorseLoop1, 70.00, udg_Arthas )
    call IssuePointOrderLocBJ( gg_unit_ucry_0000, "move", GetRectCenter(gg_rct_Crypt01IntroDest01) )
    call IssuePointOrderLocBJ( gg_unit_ucry_0001, "move", GetRectCenter(gg_rct_Crypt02IntroDest01) )
    call IssuePointOrderLocBJ( gg_unit_ucry_0002, "move", GetRectCenter(gg_rct_Crypt03IntroDest01) )
    call IssuePointOrderLocBJ( gg_unit_ucry_0032, "move", GetRectCenter(gg_rct_Crypt04IntroDest01) )
    call IssuePointOrderLocBJ( gg_unit_ucry_0031, "move", GetRectCenter(gg_rct_Crypt05IntroDest01) )
    call TriggerSleepAction( 1.00 )
    call EnableTrigger( gg_trg_Intro_Skipped )
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    // CINEMATIC BEGINS - Cinematic Can Now Be Skipped
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    call CameraSetupApplyForPlayer( true, gg_cam_Intro_Cam_02_trev, udg_AP1_Player, 0 )
    call CameraSetupApplyForPlayer( true, gg_cam_Intro_Cam_03_trev, udg_AP1_Player, 20.00 )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Arthas, "TRIGSTR_143", gg_snd_L07CArthas02, "TRIGSTR_144", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_L07CArthas02, 0 )
    if ( Trig_Intro_Cinematic_Q_Func030001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Anubarak, "TRIGSTR_147", gg_snd_L07CAnubarak03, "TRIGSTR_148", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_L07CAnubarak03, 0 )
    if ( Trig_Intro_Cinematic_Q_Func033001() ) then
        return
    else
        call DoNothing(  )
    endif
    // Start Earthquake Sequence
    call ConditionalTriggerExecute( gg_trg_Quake_Shake )
    call ConditionalTriggerExecute( gg_trg_Dust_FX_Intro )
    call TriggerSleepAction( 1.00 )
    if ( Trig_Intro_Cinematic_Q_Func038001() ) then
        return
    else
        call DoNothing(  )
    endif
    call PlaySoundAtPointBJ( gg_snd_BridgeDeath, 80.00, GetCameraTargetPositionLoc(), 0 )
    call IssuePointOrderLocBJ( gg_unit_ucry_0000, "move", GetRectCenter(gg_rct_Crypt01IntroDest02) )
    call IssuePointOrderLocBJ( gg_unit_ucry_0031, "move", GetRectCenter(gg_rct_Crypt05IntroDest02) )
    call SetUnitFacingToFaceUnitTimed( udg_Crypt02, udg_Arthas, 0 )
    call IssuePointOrderLocBJ( udg_Arthas, "move", GetRectCenter(gg_rct_ArthasIntroDest02) )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Arthas, "TRIGSTR_168", gg_snd_L07CArthas25, "TRIGSTR_169", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_L07CArthas25, 0 )
    if ( Trig_Intro_Cinematic_Q_Func046001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( gg_unit_ucry_0002, "move", GetRectCenter(gg_rct_Crypt03IntroDest02) )
    call IssuePointOrderLocBJ( gg_unit_ucry_0032, "move", GetRectCenter(gg_rct_Crypt04IntroDest02) )
    call SetUnitFacingToFaceUnitTimed( udg_Anubarak, udg_Arthas, 0 )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Anubarak, "TRIGSTR_170", gg_snd_L07CAnubarak26, "TRIGSTR_171", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_L07CAnubarak26, 0 )
    if ( Trig_Intro_Cinematic_Q_Func052001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 2.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call StopSoundBJ( gg_snd_BridgeDeath, true )
    call StopSoundBJ( gg_snd_Earthquake, true )
    call TriggerSleepAction( 2.00 )
    if ( Trig_Intro_Cinematic_Q_Func057001() ) then
        return
    else
        call DoNothing(  )
    endif
    call ConditionalTriggerExecute( gg_trg_Dust_FX_Intro )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 0.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    // Arthas Alone
    call SetUnitPositionLocFacingBJ( udg_Arthas, GetRectCenter(gg_rct_ArthasIntroFinal), 90.00 )
    call CameraSetupApplyForPlayer( true, gg_cam_Intro_Cam_04a_trev, udg_AP1_Player, 0 )
    call CameraSetupApplyForPlayer( true, gg_cam_Intro_Cam_04, udg_AP1_Player, ( GetSoundDurationBJ(gg_snd_L07CArthas27) + 2.00 ) )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Arthas, "TRIGSTR_172", gg_snd_L07CArthas27, "TRIGSTR_173", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_L07CArthas27, 0 )
    if ( Trig_Intro_Cinematic_Q_Func066001() ) then
        return
    else
        call DoNothing(  )
    endif
    call ConditionalTriggerExecute( gg_trg_Dust_FX_Intro )
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    // CINEMATIC ENDS - Cinematic Can No Longer Be Skipped
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    call DisableTrigger( gg_trg_Intro_Skipped )
    // Fade Out
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    // Cleanup
    call ConditionalTriggerExecute( gg_trg_Intro_Cleanup )
    call TriggerSleepAction( 1.00 )
    call CinematicModeBJ( false, udg_APG1_Player )
    // Fade In
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    // Start Game
    set udg_InCinematic = false
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
    call ConditionalTriggerExecute( gg_trg_Gameplay )
endfunction

//===========================================================================
function InitTrig_Intro_Cinematic_Q takes nothing returns nothing
    set gg_trg_Intro_Cinematic_Q = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Intro_Cinematic_Q, function Trig_Intro_Cinematic_Q_Actions )
endfunction

//===========================================================================
// Trigger: Crypt 01 Facing
//===========================================================================
function Trig_Crypt_01_Facing_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Crypt01 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Crypt_01_Facing_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 0.50 )
    call SetUnitFacingTimed( udg_Crypt01, 290.00, 0 )
endfunction

//===========================================================================
function InitTrig_Crypt_01_Facing takes nothing returns nothing
    set gg_trg_Crypt_01_Facing = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Crypt_01_Facing, gg_rct_Crypt01IntroDest01 )
    call TriggerAddCondition( gg_trg_Crypt_01_Facing, Condition( function Trig_Crypt_01_Facing_Conditions ) )
    call TriggerAddAction( gg_trg_Crypt_01_Facing, function Trig_Crypt_01_Facing_Actions )
endfunction

//===========================================================================
// Trigger: Crypt 02 Facing
//===========================================================================
function Trig_Crypt_02_Facing_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Crypt04 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Crypt_02_Facing_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 0.50 )
    call SetUnitFacingTimed( udg_Crypt04, 290.00, 0 )
endfunction

//===========================================================================
function InitTrig_Crypt_02_Facing takes nothing returns nothing
    set gg_trg_Crypt_02_Facing = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Crypt_02_Facing, gg_rct_Crypt04IntroDest01 )
    call TriggerAddCondition( gg_trg_Crypt_02_Facing, Condition( function Trig_Crypt_02_Facing_Conditions ) )
    call TriggerAddAction( gg_trg_Crypt_02_Facing, function Trig_Crypt_02_Facing_Actions )
endfunction

//===========================================================================
// Trigger: Crypt 03 Facing
//===========================================================================
function Trig_Crypt_03_Facing_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Crypt03 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Crypt_03_Facing_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 0.50 )
    call SetUnitFacingTimed( udg_Crypt03, 280.00, 0 )
endfunction

//===========================================================================
function InitTrig_Crypt_03_Facing takes nothing returns nothing
    set gg_trg_Crypt_03_Facing = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Crypt_03_Facing, gg_rct_Crypt03IntroDest01 )
    call TriggerAddCondition( gg_trg_Crypt_03_Facing, Condition( function Trig_Crypt_03_Facing_Conditions ) )
    call TriggerAddAction( gg_trg_Crypt_03_Facing, function Trig_Crypt_03_Facing_Actions )
endfunction

//===========================================================================
// Trigger: Crypt 04 Facing
//===========================================================================
function Trig_Crypt_04_Facing_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Crypt04 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Crypt_04_Facing_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 0.50 )
    call SetUnitFacingTimed( udg_Crypt04, 280.00, 0 )
endfunction

//===========================================================================
function InitTrig_Crypt_04_Facing takes nothing returns nothing
    set gg_trg_Crypt_04_Facing = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Crypt_04_Facing, gg_rct_Crypt04IntroDest01 )
    call TriggerAddCondition( gg_trg_Crypt_04_Facing, Condition( function Trig_Crypt_04_Facing_Conditions ) )
    call TriggerAddAction( gg_trg_Crypt_04_Facing, function Trig_Crypt_04_Facing_Actions )
endfunction

//===========================================================================
// Trigger: Anubarak Facing
//===========================================================================
function Trig_Anubarak_Facing_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Anubarak ) ) then
        return false
    endif
    return true
endfunction

function Trig_Anubarak_Facing_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 0.50 )
    call SetUnitFacingTimed( udg_Anubarak, 240.00, 0 )
endfunction

//===========================================================================
function InitTrig_Anubarak_Facing takes nothing returns nothing
    set gg_trg_Anubarak_Facing = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Anubarak_Facing, gg_rct_AnubarakMoveDest )
    call TriggerAddCondition( gg_trg_Anubarak_Facing, Condition( function Trig_Anubarak_Facing_Conditions ) )
    call TriggerAddAction( gg_trg_Anubarak_Facing, function Trig_Anubarak_Facing_Actions )
endfunction

//===========================================================================
// Trigger: Intro Skipped
//===========================================================================
function Trig_Intro_Skipped_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_IntroSkipped = true
    call StopSoundBJ( gg_snd_HorseLoop201, true )
    // Fade Out
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 0.50, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 0.50 )
    // Cleanup
    call ConditionalTriggerExecute( gg_trg_Intro_Cleanup )
    call TriggerSleepAction( 1.00 )
    call CinematicModeBJ( false, udg_APG1_Player )
    // Fade In
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 0.50, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 0.50 )
    // Start Game
    set udg_InCinematic = false
    call QueuedTriggerRemoveBJ( gg_trg_Intro_Cinematic_Q )
    call ConditionalTriggerExecute( gg_trg_Gameplay )
endfunction

//===========================================================================
function InitTrig_Intro_Skipped takes nothing returns nothing
    set gg_trg_Intro_Skipped = CreateTrigger(  )
    call DisableTrigger( gg_trg_Intro_Skipped )
    call TriggerRegisterPlayerEventEndCinematic( gg_trg_Intro_Skipped, Player(0) )
    call TriggerAddAction( gg_trg_Intro_Skipped, function Trig_Intro_Skipped_Actions )
endfunction

//===========================================================================
// Trigger: Intro Setup
//===========================================================================
function Trig_Intro_Setup_Func011002 takes nothing returns nothing
    call ShowUnitHide( GetEnumUnit() )
endfunction

function Trig_Intro_Setup_Func013002 takes nothing returns nothing
    call SetItemVisibleBJ( false, GetEnumItem() )
endfunction

function Trig_Intro_Setup_Actions takes nothing returns nothing
    // Set Sky
    // Disable XP Gain
    call SuspendHeroXPBJ( false, udg_Arthas )
    call SuspendHeroXPBJ( false, udg_Anubarak )
    // Pause Time Of Day
    call UseTimeOfDayBJ( false )
    // Pause Units
    // Hide Units
    call GroupRemoveUnitSimple( udg_Arthas, udg_HiddenUnits )
    call GroupRemoveUnitSimple( udg_Anubarak, udg_HiddenUnits )
    call ForGroupBJ( udg_HiddenUnits, function Trig_Intro_Setup_Func011002 )
    // Hide Items
    call EnumItemsInRectBJ( GetPlayableMapRect(), function Trig_Intro_Setup_Func013002 )
    // Disable Abilities
    call SetPlayerAbilityAvailableBJ( false, 'AUau', udg_AP1_Player )
    // Open Door
    // Visibility
    call FogMaskEnableOn(  )
    call CreateFogModifierRectBJ( true, udg_AP1_Player, FOG_OF_WAR_MASKED, gg_rct_Black_Mask_Area )
    set udg_VisibilityBlackMaskIntroCin = GetLastCreatedFogModifier()
    // Alliances
    call SetPlayerAllianceStateBJ( udg_AP1_Player, udg_AP3_Nerubians, bj_ALLIANCE_ALLIED )
    call SetPlayerAllianceStateBJ( udg_AP3_Nerubians, udg_AP1_Player, bj_ALLIANCE_ALLIED )
    // Dust
    call SetDoodadAnimationRectBJ( "death", 'ZZcd', gg_rct_Dust_Effect_Area_01 )
    call SetDoodadAnimationRectBJ( "death", 'ZZcd', gg_rct_Dust_Effect_Area_02 )
endfunction

//===========================================================================
function InitTrig_Intro_Setup takes nothing returns nothing
    set gg_trg_Intro_Setup = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Intro_Setup, function Trig_Intro_Setup_Actions )
endfunction

//===========================================================================
// Trigger: Intro Cleanup
//===========================================================================
function Trig_Intro_Cleanup_Func004002 takes nothing returns nothing
    call SetUnitMoveSpeed( GetEnumUnit(), GetUnitDefaultMoveSpeed(GetEnumUnit()) )
endfunction

function Trig_Intro_Cleanup_Func010002 takes nothing returns nothing
    call SetItemVisibleBJ( true, GetEnumItem() )
endfunction

function Trig_Intro_Cleanup_Func012002 takes nothing returns nothing
    call ShowUnitShow( GetEnumUnit() )
endfunction

function Trig_Intro_Cleanup_Func025001 takes nothing returns boolean
    return ( udg_ExpDisabledForAnuburak == false )
endfunction

function Trig_Intro_Cleanup_Actions takes nothing returns nothing
    // Restore Abilities
    call SetPlayerAbilityAvailableBJ( true, 'AUau', udg_AP1_Player )
    // Reset Walk Speed
    call ForGroupBJ( udg_StartingUnits, function Trig_Intro_Cleanup_Func004002 )
    // Move Units
    call SetUnitMoveSpeed( udg_Arthas, GetUnitDefaultMoveSpeed(udg_Arthas) )
    call SetUnitMoveSpeed( udg_Anubarak, GetUnitDefaultMoveSpeed(udg_Anubarak) )
    call SetUnitPositionLocFacingBJ( udg_Arthas, GetRectCenter(gg_rct_ArthasIntroFinal), 90.00 )
    // Unhide Items
    call EnumItemsInRectBJ( GetPlayableMapRect(), function Trig_Intro_Cleanup_Func010002 )
    // Unhide Units
    call ForGroupBJ( udg_HiddenUnits, function Trig_Intro_Cleanup_Func012002 )
    call ShowUnitHide( udg_Anubarak )
    call SetUnitOwner( udg_Anubarak, Player(PLAYER_NEUTRAL_PASSIVE), false )
    call ShowUnitHide( udg_Crypt01 )
    call ShowUnitHide( udg_Crypt02 )
    call ShowUnitHide( udg_Crypt03 )
    call ShowUnitHide( udg_Crypt04 )
    call ShowUnitHide( udg_Crypt05 )
    // Stop Sound
    call StopSoundBJ( gg_snd_HorseLoop201, true )
    // Unpause Units
    // Pause Time Of Day
    // Re-enable XP Gain
    if ( Trig_Intro_Cleanup_Func025001() ) then
        call SuspendHeroXPBJ( true, udg_Anubarak )
    else
        call DoNothing(  )
    endif
    // Restore Selection
    call SelectUnitSingle( udg_Arthas )
    // Reset Sky
    call SetSkyModel( null )
    call ResetTerrainFogBJ(  )
    // Reset Camera
    call CameraResetSmoothingFactorBJ(  )
    call ResetToGameCameraForPlayer( udg_AP1_Player, 0 )
    call PanCameraToTimedLocForPlayer( udg_AP1_Player, GetRectCenter(gg_rct_ArthasIntroFinal), 0 )
    // Initial Harvesting
    // Alliances
    call SetPlayerAllianceStateBJ( udg_AP1_Player, udg_AP3_Nerubians, bj_ALLIANCE_UNALLIED )
    call SetPlayerAllianceStateBJ( udg_AP3_Nerubians, udg_AP1_Player, bj_ALLIANCE_UNALLIED )
    // Wipe Visibility
    call CreateFogModifierRectBJ( true, udg_AP1_Player, FOG_OF_WAR_MASKED, GetPlayableMapRect() )
    call DestroyFogModifier( GetLastCreatedFogModifier() )
    // Flame Timers
    call ConditionalTriggerExecute( gg_trg_Start_Timers )
endfunction

//===========================================================================
function InitTrig_Intro_Cleanup takes nothing returns nothing
    set gg_trg_Intro_Cleanup = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Intro_Cleanup, function Trig_Intro_Cleanup_Actions )
endfunction

//===========================================================================
// Trigger: Gameplay
//===========================================================================
function Trig_Gameplay_Actions takes nothing returns nothing
    // Do initial gameplay stuff, like quest messages and hints
    call TriggerSleepAction( 2.00 )
    // Quake
    call ConditionalTriggerExecute( gg_trg_Quake_Shake )
    call ConditionalTriggerExecute( gg_trg_Dust_FX_Intro )
    call TriggerSleepAction( 3.00 )
    call ConditionalTriggerExecute( gg_trg_Quest_Escape_Discover )
    // Timer
    call ConditionalTriggerExecute( gg_trg_Timer_Main_Quest )
endfunction

//===========================================================================
function InitTrig_Gameplay takes nothing returns nothing
    set gg_trg_Gameplay = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Gameplay, function Trig_Gameplay_Actions )
endfunction

//===========================================================================
// Trigger: Rejoin Init
//===========================================================================
function Trig_Rejoin_Init_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    return true
endfunction

function Trig_Rejoin_Init_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Rejoin_Cinematic_Q, true )
endfunction

//===========================================================================
function InitTrig_Rejoin_Init takes nothing returns nothing
    set gg_trg_Rejoin_Init = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Rejoin_Init, gg_rct_Mid_Game_Cin_Init )
    call TriggerAddCondition( gg_trg_Rejoin_Init, Condition( function Trig_Rejoin_Init_Conditions ) )
    call TriggerAddAction( gg_trg_Rejoin_Init, function Trig_Rejoin_Init_Actions )
endfunction

//===========================================================================
// Trigger: Rejoin Cinematic Q
//===========================================================================
function Trig_Rejoin_Cinematic_Q_Func022001 takes nothing returns boolean
    return ( udg_MidCinRejoinSkipped == true )
endfunction

function Trig_Rejoin_Cinematic_Q_Func023002 takes nothing returns nothing
    call KillDestructable( GetEnumDestructable() )
endfunction

function Trig_Rejoin_Cinematic_Q_Func026001 takes nothing returns boolean
    return ( udg_MidCinRejoinSkipped == true )
endfunction

function Trig_Rejoin_Cinematic_Q_Func031001 takes nothing returns boolean
    return ( udg_MidCinRejoinSkipped == true )
endfunction

function Trig_Rejoin_Cinematic_Q_Func036001 takes nothing returns boolean
    return ( udg_MidCinRejoinSkipped == true )
endfunction

function Trig_Rejoin_Cinematic_Q_Func040001 takes nothing returns boolean
    return ( udg_MidCinRejoinSkipped == true )
endfunction

function Trig_Rejoin_Cinematic_Q_Func044001 takes nothing returns boolean
    return ( udg_MidCinRejoinSkipped == true )
endfunction

function Trig_Rejoin_Cinematic_Q_Func050001 takes nothing returns boolean
    return ( udg_MidCinRejoinSkipped == true )
endfunction

function Trig_Rejoin_Cinematic_Q_Func054001 takes nothing returns boolean
    return ( udg_MidCinRejoinSkipped == true )
endfunction

function Trig_Rejoin_Cinematic_Q_Func056001 takes nothing returns boolean
    return ( udg_MidCinRejoinSkipped == true )
endfunction

function Trig_Rejoin_Cinematic_Q_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_InCinematic = true
    // Fade Out
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    // Set Up Scene
    call CinematicModeBJ( true, udg_APG1_Player )
    call TriggerSleepAction( 0.25 )
    call ConditionalTriggerExecute( gg_trg_Rejoin_Setup )
    call TriggerSleepAction( 0.25 )
    call CameraSetupApplyForPlayer( true, gg_cam_Rejoin_Cam_01, udg_AP1_Player, 0 )
    call CameraSetupApplyForPlayer( true, gg_cam_Rejoin_Cam_02, udg_AP1_Player, 20.00 )
    // Units
    // Fade In
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    call EnableTrigger( gg_trg_Rejoin_Skipped )
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    // CINEMATIC BEGINS - Cinematic Can Now Be Skipped
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    call TriggerSleepAction( 1.00 )
    if ( Trig_Rejoin_Cinematic_Q_Func022001() ) then
        return
    else
        call DoNothing(  )
    endif
    call EnumDestructablesInRectAll( gg_rct_Rocks_Destroy_Area, function Trig_Rejoin_Cinematic_Q_Func023002 )
    call PlaySoundAtPointBJ( gg_snd_BridgeDeath, 90.00, GetRectCenter(gg_rct_Rocks_Destroy_Area), 0 )
    call TriggerSleepAction( 1.00 )
    if ( Trig_Rejoin_Cinematic_Q_Func026001() ) then
        return
    else
        call DoNothing(  )
    endif
    call StopSoundBJ( gg_snd_BridgeDeath, true )
    call SetUnitPositionLocFacingBJ( udg_Anubarak, GetRectCenter(gg_rct_RejoinAreaSpawn), 350.00 )
    call IssuePointOrderLocBJ( udg_Anubarak, "move", GetRectCenter(gg_rct_RejoinAnuDest) )
    call TriggerSleepAction( 0.75 )
    if ( Trig_Rejoin_Cinematic_Q_Func031001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Arthas, "TRIGSTR_223", gg_snd_L07CArthas34, "TRIGSTR_224", bj_TIMETYPE_ADD, 0, false )
    call SetUnitPositionLocFacingBJ( udg_Crypt01, GetRectCenter(gg_rct_RejoinAreaSpawn), 280.00 )
    call IssuePointOrderLocBJ( udg_Crypt01, "move", GetRectCenter(gg_rct_RejoinCrypt01Dest) )
    call TriggerSleepAction( 0.75 )
    if ( Trig_Rejoin_Cinematic_Q_Func036001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitPositionLocFacingBJ( udg_Crypt02, GetRectCenter(gg_rct_RejoinAreaSpawn), 280.00 )
    call IssuePointOrderLocBJ( udg_Crypt02, "move", GetRectCenter(gg_rct_RejoinCrypt02Dest) )
    call TriggerSleepAction( 0.75 )
    if ( Trig_Rejoin_Cinematic_Q_Func040001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitPositionLocFacingBJ( udg_Crypt03, GetRectCenter(gg_rct_RejoinAreaSpawn), 280.00 )
    call IssuePointOrderLocBJ( udg_Crypt03, "move", GetRectCenter(gg_rct_RejoinCrypt03Dest) )
    call TriggerSleepAction( 0.75 )
    if ( Trig_Rejoin_Cinematic_Q_Func044001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitFacingToFaceUnitTimed( udg_Anubarak, udg_Arthas, 0 )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Anubarak, "TRIGSTR_225", gg_snd_L07CAnubarak35, "TRIGSTR_226", bj_TIMETYPE_ADD, 0, false )
    call SetUnitPositionLocFacingBJ( udg_Crypt04, GetRectCenter(gg_rct_RejoinAreaSpawn), 280.00 )
    call IssuePointOrderLocBJ( udg_Crypt04, "move", GetRectCenter(gg_rct_RejoinCrypt04Dest) )
    call TriggerSleepAction( 0.75 )
    if ( Trig_Rejoin_Cinematic_Q_Func050001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitPositionLocFacingBJ( udg_Crypt05, GetRectCenter(gg_rct_RejoinAreaSpawn), 280.00 )
    call IssuePointOrderLocBJ( udg_Crypt05, "move", GetRectCenter(gg_rct_RejoinCrypt05Dest) )
    call TriggerSleepAction( 0.75 )
    if ( Trig_Rejoin_Cinematic_Q_Func054001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TriggerSleepAction( 7.50 )
    if ( Trig_Rejoin_Cinematic_Q_Func056001() ) then
        return
    else
        call DoNothing(  )
    endif
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    // CINEMATIC ENDS - Cinematic Can No Longer Be Skipped
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    call DisableTrigger( gg_trg_Rejoin_Skipped )
    // Fade Out
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    // Cleanup
    call ConditionalTriggerExecute( gg_trg_Rejoin_Cleanup )
    call CinematicModeBJ( false, udg_APG1_Player )
    // Fade In
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    // Quest update
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    set udg_InCinematic = false
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Rejoin_Cinematic_Q takes nothing returns nothing
    set gg_trg_Rejoin_Cinematic_Q = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Rejoin_Cinematic_Q, function Trig_Rejoin_Cinematic_Q_Actions )
endfunction

//===========================================================================
// Trigger: Rejoin Skipped
//===========================================================================
function Trig_Rejoin_Skipped_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_MidCinRejoinSkipped = true
    // Fade Out
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 0.50, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 0.50 )
    // Cleanup
    call ConditionalTriggerExecute( gg_trg_Rejoin_Cleanup )
    call CinematicModeBJ( false, udg_APG1_Player )
    // Fade In
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 0.50, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 0.50 )
    // Quest Update
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    set udg_InCinematic = false
    call QueuedTriggerRemoveBJ( gg_trg_Rejoin_Cinematic_Q )
endfunction

//===========================================================================
function InitTrig_Rejoin_Skipped takes nothing returns nothing
    set gg_trg_Rejoin_Skipped = CreateTrigger(  )
    call DisableTrigger( gg_trg_Rejoin_Skipped )
    call TriggerRegisterPlayerEventEndCinematic( gg_trg_Rejoin_Skipped, Player(0) )
    call TriggerAddAction( gg_trg_Rejoin_Skipped, function Trig_Rejoin_Skipped_Actions )
endfunction

//===========================================================================
// Trigger: Rejoin Setup
//===========================================================================
function Trig_Rejoin_Setup_Func033002 takes nothing returns nothing
    call GroupAddUnitSimple( GetEnumUnit(), udg_HiddenUnits )
endfunction

function Trig_Rejoin_Setup_Func034002 takes nothing returns nothing
    call ShowUnitHide( GetEnumUnit() )
endfunction

function Trig_Rejoin_Setup_Func044002 takes nothing returns nothing
    call UnitRemoveBuffsBJ( bj_REMOVEBUFFS_NONTLIFE, GetEnumUnit() )
endfunction

function Trig_Rejoin_Setup_Actions takes nothing returns nothing
    // Save Camera Position
    set udg_CameraReturnPoint = GetCameraTargetPositionLoc()
    // Set Sky
    call SetSkyModel( "Environment\\Sky\\LordaeronWinterSkyRed\\LordaeronWinterSkyRed.mdl" )
    // Disable Abilities
    call SetPlayerAbilityAvailableBJ( false, 'AUau', udg_AP1_Player )
    // Save Selection
    set udg_SelectedUnits = GetUnitsSelectedAll(udg_AP1_Player)
    call ClearSelection(  )
    // Revive Hero
    call SetUnitFacingTimed( udg_Arthas, 0.00, 0.00 )
    call SetUnitFacingTimed( udg_Anubarak, 0.00, 0.00 )
    // Disable XP Gain
    call SuspendHeroXPBJ( false, udg_Anubarak )
    // Setup Units
    // Setup Doodads
    // Disable Abilities
    call SetPlayerAbilityAvailableBJ( false, 'AUau', udg_AP1_Player )
    // Pause Units
    call PauseAllUnitsBJ( true )
    call PauseUnitBJ( false, udg_Anubarak )
    call PauseUnitBJ( false, udg_Crypt01 )
    call PauseUnitBJ( false, udg_Crypt02 )
    call PauseUnitBJ( false, udg_Crypt03 )
    call PauseUnitBJ( false, udg_Crypt04 )
    call PauseUnitBJ( false, udg_Crypt05 )
    // Countdown Timer
    call PauseTimerBJ( true, udg_TimerYellow )
    call PauseTimerBJ( true, udg_TimerRed )
    call PauseTimerBJ( true, udg_CaveCollapseTimer )
    call TimerDialogDisplayForPlayerBJ( false, GetLastCreatedTimerDialogBJ(), Player(0) )
    // Hide Units
    call ForGroupBJ( GetUnitsInRectOfPlayer(GetPlayableMapRect(), udg_AP2_UnbrokenOnes), function Trig_Rejoin_Setup_Func033002 )
    call ForGroupBJ( udg_HiddenUnits, function Trig_Rejoin_Setup_Func034002 )
    // Unhide Units
    call ShowUnitShow( udg_Anubarak )
    call ShowUnitShow( udg_Crypt01 )
    call ShowUnitShow( udg_Crypt02 )
    call ShowUnitShow( udg_Crypt03 )
    call ShowUnitShow( udg_Crypt04 )
    call ShowUnitShow( udg_Crypt05 )
    call SetUnitOwner( udg_Anubarak, udg_AP1_Player, false )
    // Remove Buffs
    call ForGroupBJ( GetUnitsOfPlayerAll(udg_AP1_Player), function Trig_Rejoin_Setup_Func044002 )
    // Music Theme
    call PlayThematicMusicExBJ( "Sound\\Music\\mp3Music\\ArthasTheme.mp3", 15.70 )
    // Alliances
endfunction

//===========================================================================
function InitTrig_Rejoin_Setup takes nothing returns nothing
    set gg_trg_Rejoin_Setup = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Rejoin_Setup, function Trig_Rejoin_Setup_Actions )
endfunction

//===========================================================================
// Trigger: Rejoin Cleanup
//===========================================================================
function Trig_Rejoin_Cleanup_Func002002 takes nothing returns nothing
    call ShowUnitShow( GetEnumUnit() )
endfunction

function Trig_Rejoin_Cleanup_Func003002 takes nothing returns nothing
    call ShowUnitShow( GetEnumUnit() )
endfunction

function Trig_Rejoin_Cleanup_Func019001 takes nothing returns boolean
    return ( udg_ExpDisabledForAnuburak == false )
endfunction

function Trig_Rejoin_Cleanup_Func031002 takes nothing returns nothing
    call KillDestructable( GetEnumDestructable() )
endfunction

function Trig_Rejoin_Cleanup_Func033C takes nothing returns boolean
    if ( not ( TimerGetRemaining(udg_TimerYellow) > 0.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Rejoin_Cleanup_Func034C takes nothing returns boolean
    if ( not ( TimerGetRemaining(udg_TimerRed) > 0.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Rejoin_Cleanup_Actions takes nothing returns nothing
    // Unhide Units
    call ForGroupBJ( udg_HiddenUnits, function Trig_Rejoin_Cleanup_Func002002 )
    call ForGroupBJ( udg_HiddenUnitsCreep, function Trig_Rejoin_Cleanup_Func003002 )
    // Unpause Units
    call PauseAllUnitsBJ( false )
    // Enable Abilities
    call SetPlayerAbilityAvailableBJ( true, 'AUau', udg_AP1_Player )
    // Repause Arachnathids if necessary
    // Move units
    call SetUnitPositionLocFacingBJ( udg_Anubarak, GetRectCenter(gg_rct_RejoinAnuDest), 220.00 )
    call SetUnitFacingToFaceUnitTimed( udg_Anubarak, udg_Arthas, 0 )
    call SetUnitPositionLocFacingBJ( udg_Crypt01, GetRectCenter(gg_rct_RejoinCrypt01Dest), 250.00 )
    call SetUnitPositionLocFacingBJ( udg_Crypt02, GetRectCenter(gg_rct_RejoinCrypt02Dest), 250.00 )
    call SetUnitPositionLocFacingBJ( udg_Crypt03, GetRectCenter(gg_rct_RejoinCrypt03Dest), 250.00 )
    call SetUnitPositionLocFacingBJ( udg_Crypt04, GetRectCenter(gg_rct_RejoinCrypt04Dest), 250.00 )
    call SetUnitPositionLocFacingBJ( udg_Crypt05, GetRectCenter(gg_rct_RejoinCrypt05Dest), 250.00 )
    // Pause Time Of Day
    // Re-enable XP Gain
    if ( Trig_Rejoin_Cleanup_Func019001() ) then
        call SuspendHeroXPBJ( true, udg_Anubarak )
    else
        call DoNothing(  )
    endif
    // Return Heroes
    // Restore Selection
    call SelectGroupBJ( udg_SelectedUnits )
    // Reset Sky
    call SetSkyModel( null )
    // Replace Building
    // Reset Camera
    call CameraResetSmoothingFactorBJ(  )
    call ResetToGameCameraForPlayer( udg_AP1_Player, 0 )
    call CameraClearNoiseForPlayer( udg_AP1_Player )
    // Rocks
    call EnumDestructablesInRectAll( gg_rct_Rocks_Destroy_Area, function Trig_Rejoin_Cleanup_Func031002 )
    // Countdown Timer
    if ( Trig_Rejoin_Cleanup_Func033C() ) then
        call PauseTimerBJ( false, udg_TimerYellow )
    else
    endif
    if ( Trig_Rejoin_Cleanup_Func034C() ) then
        call PauseTimerBJ( false, udg_TimerRed )
    else
    endif
    call PauseTimerBJ( false, udg_CaveCollapseTimer )
    call TimerDialogDisplayForPlayerBJ( true, GetLastCreatedTimerDialogBJ(), Player(0) )
    call TriggerSleepAction( 1.00 )
    // Quest Update
    call ConditionalTriggerExecute( gg_trg_Quest_Escape_Update )
    // Quake
    call TriggerSleepAction( 2 )
    call ConditionalTriggerExecute( gg_trg_Quake_02_Cave_Exit )
    // Alliances
endfunction

//===========================================================================
function InitTrig_Rejoin_Cleanup takes nothing returns nothing
    set gg_trg_Rejoin_Cleanup = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Rejoin_Cleanup, function Trig_Rejoin_Cleanup_Actions )
endfunction

//===========================================================================
// Trigger: Victory Cinematic Q
//===========================================================================
function Trig_Victory_Cinematic_Q_Func028001 takes nothing returns boolean
    return ( udg_VictorySkipped == true )
endfunction

function Trig_Victory_Cinematic_Q_Func031001 takes nothing returns boolean
    return ( udg_VictorySkipped == true )
endfunction

function Trig_Victory_Cinematic_Q_Func034001 takes nothing returns boolean
    return ( udg_VictorySkipped == true )
endfunction

function Trig_Victory_Cinematic_Q_Func040001 takes nothing returns boolean
    return ( udg_VictorySkipped == true )
endfunction

function Trig_Victory_Cinematic_Q_Actions takes nothing returns nothing
    set udg_InCinematic = true
    // Fade Out
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    call CinematicModeBJ( true, udg_APG1_Player )
    call TriggerSleepAction( 0.25 )
    call ConditionalTriggerExecute( gg_trg_Next_Level_Prep )
    call ConditionalTriggerExecute( gg_trg_Victory_Setup )
    call TriggerSleepAction( 0.25 )
    call SetSoundVolumeBJ( gg_snd_Earthquake, 90.00 )
    call IssuePointOrderLocBJ( udg_FakeAnubarak, "move", GetRectCenter(gg_rct_AnubarakFinal_End_trev) )
    call IssuePointOrderLocBJ( udg_Arthas, "move", GetRectCenter(gg_rct_ArthasFinal_End_trev) )
    call IssuePointOrderLocBJ( udg_EndCineFiendA, "move", GetRectCenter(gg_rct_Fiends_End_Cine_Crypt_01_Dest) )
    call IssuePointOrderLocBJ( udg_EndCineFiendB, "move", GetRectCenter(gg_rct_Fiends_End_Cine_Crypt_02_Dest) )
    call IssuePointOrderLocBJ( udg_EndCineFiendC, "move", GetRectCenter(gg_rct_Fiends_End_Cine_Crypt_03_Dest) )
    call CameraSetupApplyForPlayer( true, gg_cam_Victory_Cam_01, udg_AP1_Player, 0 )
    call CameraSetupApplyForPlayer( true, gg_cam_Victory_Cam_02, udg_AP1_Player, 25.00 )
    // Fade In
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call PlaySoundOnUnitBJ( gg_snd_HorseLoop3, 70.00, udg_Arthas )
    call TriggerSleepAction( 1.00 )
    call EnableTrigger( gg_trg_Victory_Skipped )
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    // CINEMATIC BEGINS - Cinematic Can Now Be Skipped
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_FakeAnubarak, "TRIGSTR_150", gg_snd_L07CAnubarak38, "TRIGSTR_151", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_L07CAnubarak38, 3.25 )
    if ( Trig_Victory_Cinematic_Q_Func028001() ) then
        return
    else
        call DoNothing(  )
    endif
    call PlaySoundOnUnitBJ( gg_snd_HorseLoop2, 70.00, udg_Arthas )
    call WaitForSoundBJ( gg_snd_L07CAnubarak38, 0 )
    if ( Trig_Victory_Cinematic_Q_Func031001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Arthas, "TRIGSTR_154", gg_snd_L07CArthas39, "TRIGSTR_155", bj_TIMETYPE_ADD, 0, true )
    call WaitForSoundBJ( gg_snd_L07CArthas39, 0 )
    if ( Trig_Victory_Cinematic_Q_Func034001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitFacingToFaceLocTimed( udg_Arthas, GetRectCenter(gg_rct_AnubarakFinal_End_trev), 0.20 )
    call SetUnitLookAt( udg_Arthas, "bone_head", udg_Anubarak, 0, 0, 90 )
    call SetUnitFacingToFaceLocTimed( udg_FakeAnubarak, GetRectCenter(gg_rct_ArthasFinal_End_trev), 0.20 )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_FakeAnubarak, "TRIGSTR_152", gg_snd_L07CAnubarak40, "TRIGSTR_153", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_L07CAnubarak40, 0 )
    if ( Trig_Victory_Cinematic_Q_Func040001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( udg_FakeAnubarak, "move", GetRectCenter(gg_rct_AnubarakFinal_EndB_trev) )
    call IssuePointOrderLocBJ( udg_Arthas, "move", GetRectCenter(gg_rct_ArthasFinal_EndB_trev) )
    call PlaySoundOnUnitBJ( gg_snd_HorseLoop1, 70.00, udg_Arthas )
    call IssuePointOrderLocBJ( udg_EndCineFiendA, "move", GetRectCenter(gg_rct_Fiends_End_Cine3) )
    call IssuePointOrderLocBJ( udg_EndCineFiendB, "move", GetRectCenter(gg_rct_Fiends_End_Cine3) )
    call IssuePointOrderLocBJ( udg_EndCineFiendC, "move", GetRectCenter(gg_rct_Fiends_End_Cine3) )
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    // CINEMATIC ENDS - Cinematic Can No Longer Be Skipped
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    call DisableTrigger( gg_trg_Victory_Skipped )
    // Fade Out
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 2.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call StopSoundBJ( gg_snd_Earthquake, true )
    call TriggerSleepAction( 2.00 )
    call RemoveUnit( udg_FakeAnubarak )
    call ConditionalTriggerExecute( gg_trg_Next_Level_Run )
endfunction

//===========================================================================
function InitTrig_Victory_Cinematic_Q takes nothing returns nothing
    set gg_trg_Victory_Cinematic_Q = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Victory_Cinematic_Q, function Trig_Victory_Cinematic_Q_Actions )
endfunction

//===========================================================================
// Trigger: Victory Skipped
//===========================================================================
function Trig_Victory_Skipped_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_VictorySkipped = true
    // Fade Out
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 2.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call StopSoundBJ( gg_snd_HorseLoop1, true )
    call TriggerSleepAction( 2.00 )
    call RemoveUnit( udg_FakeAnubarak )
    call ConditionalTriggerExecute( gg_trg_Next_Level_Run )
endfunction

//===========================================================================
function InitTrig_Victory_Skipped takes nothing returns nothing
    set gg_trg_Victory_Skipped = CreateTrigger(  )
    call DisableTrigger( gg_trg_Victory_Skipped )
    call TriggerRegisterPlayerEventEndCinematic( gg_trg_Victory_Skipped, Player(0) )
    call TriggerAddAction( gg_trg_Victory_Skipped, function Trig_Victory_Skipped_Actions )
endfunction

//===========================================================================
// Trigger: Victory Setup
//===========================================================================
function Trig_Victory_Setup_Func013002 takes nothing returns nothing
    call GroupAddUnitSimple( GetEnumUnit(), udg_HiddenUnits )
endfunction

function Trig_Victory_Setup_Func014002 takes nothing returns nothing
    call GroupAddUnitSimple( GetEnumUnit(), udg_HiddenUnits )
endfunction

function Trig_Victory_Setup_Func015002 takes nothing returns nothing
    call GroupAddUnitSimple( GetEnumUnit(), udg_HiddenUnits )
endfunction

function Trig_Victory_Setup_Func016002 takes nothing returns nothing
    call GroupAddUnitSimple( GetEnumUnit(), udg_HiddenUnits )
endfunction

function Trig_Victory_Setup_Func019002 takes nothing returns nothing
    call ShowUnitHide( GetEnumUnit() )
endfunction

function Trig_Victory_Setup_Func021002 takes nothing returns nothing
    call RemoveUnit( GetEnumUnit() )
endfunction

function Trig_Victory_Setup_Func047002 takes nothing returns nothing
    call SetItemVisibleBJ( false, GetEnumItem() )
endfunction

function Trig_Victory_Setup_Func049002 takes nothing returns nothing
    call UnitRemoveBuffsBJ( bj_REMOVEBUFFS_ALL, GetEnumUnit() )
endfunction

function Trig_Victory_Setup_Actions takes nothing returns nothing
    // Set Sky
    call SetSkyModel( "Environment\\Sky\\BlizzardSky\\BlizzardSky.mdl" )
    call SetTerrainFogExBJ( 0, 600.00, 3500.00, 500.00, 15.00, 50.00, 75.00 )
    // Clear Selection
    call ClearSelection(  )
    // Set Up Scene
    call CreateNUnitsAtLoc( 1, 'Uanb', Player(3), GetRectCenter(gg_rct_AnubarakFinal_trev), 90.00 )
    set udg_FakeAnubarak = GetLastCreatedUnit()
    call SelectHeroSkill( udg_FakeAnubarak, 'AUts' )
    call SetUnitPositionLoc( udg_Arthas, GetRectCenter(gg_rct_ArthasFinal_trev) )
    // Hide Units
    call GroupClear( udg_HiddenUnits )
    call ForGroupBJ( GetUnitsInRectOfPlayer(GetPlayableMapRect(), udg_AP1_Player), function Trig_Victory_Setup_Func013002 )
    call ForGroupBJ( GetUnitsInRectOfPlayer(GetPlayableMapRect(), udg_AP2_UnbrokenOnes), function Trig_Victory_Setup_Func014002 )
    call ForGroupBJ( GetUnitsInRectOfPlayer(GetPlayableMapRect(), udg_AP3_Nerubians), function Trig_Victory_Setup_Func015002 )
    call ForGroupBJ( GetUnitsInRectOfPlayer(GetPlayableMapRect(), Player(PLAYER_NEUTRAL_AGGRESSIVE)), function Trig_Victory_Setup_Func016002 )
    call GroupRemoveUnitSimple( udg_FakeAnubarak, udg_HiddenUnits )
    call GroupRemoveUnitSimple( udg_Arthas, udg_HiddenUnits )
    call ForGroupBJ( udg_HiddenUnits, function Trig_Victory_Setup_Func019002 )
    // Move Anubarak along with his flys
    call ForGroupBJ( GetUnitsOfTypeIdAll('uloc'), function Trig_Victory_Setup_Func021002 )
    call SetUnitPositionLoc( udg_Anubarak, GetRectCenter(gg_rct_DialogueBlockingWayArea) )
    // Disable XP Gain
    call SuspendHeroXPBJ( false, udg_Anubarak )
    // Pause Time Of Day
    call UseTimeOfDayBJ( false )
    // Pause Timer
    call TimerDialogDisplayForPlayerBJ( false, GetLastCreatedTimerDialogBJ(), Player(0) )
    // Pause Units
    call PauseAllUnitsBJ( true )
    call PauseUnitBJ( false, udg_Arthas )
    call PauseUnitBJ( false, udg_EndCineFiendA )
    call PauseUnitBJ( false, udg_EndCineFiendB )
    call PauseUnitBJ( false, udg_EndCineFiendC )
    call PauseUnitBJ( false, udg_FakeAnubarak )
    // Create Crypts
    call CreateNUnitsAtLoc( 1, 'ucry', Player(0), GetRectCenter(gg_rct_Fiends_End_Cine_01_Spawn), bj_UNIT_FACING )
    set udg_EndCineFiendA = GetLastCreatedUnit()
    call CreateNUnitsAtLoc( 1, 'ucry', Player(0), GetRectCenter(gg_rct_Fiends_End_Cine_02_Spawn), bj_UNIT_FACING )
    set udg_EndCineFiendB = GetLastCreatedUnit()
    call CreateNUnitsAtLoc( 1, 'ucry', Player(0), GetRectCenter(gg_rct_Fiends_End_Cine_03_Spawn), bj_UNIT_FACING )
    set udg_EndCineFiendC = GetLastCreatedUnit()
    call ShowUnitShow( udg_EndCineFiendA )
    call ShowUnitShow( udg_EndCineFiendB )
    call ShowUnitShow( udg_EndCineFiendC )
    // Hide Items
    call EnumItemsInRectBJ( GetPlayableMapRect(), function Trig_Victory_Setup_Func047002 )
    // Remove Buffs
    call ForGroupBJ( GetUnitsOfPlayerAll(udg_AP1_Player), function Trig_Victory_Setup_Func049002 )
    // Disable Abilities
    call SetPlayerAbilityAvailableBJ( false, 'AUau', udg_AP1_Player )
    // Music Theme
    call PlayThematicMusicBJ( "Sound\\Music\\mp3Music\\HeroicVictory.mp3" )
endfunction

//===========================================================================
function InitTrig_Victory_Setup takes nothing returns nothing
    set gg_trg_Victory_Setup = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Victory_Setup, function Trig_Victory_Setup_Actions )
endfunction

//===========================================================================
// Trigger: Voiceover Damned Exit Q
//===========================================================================
function Trig_Voiceover_Damned_Exit_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Damned_Exit_Q_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 1.50 )
    call SetSpeechVolumeGroupsBJ(  )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Arthas, "TRIGSTR_199", gg_snd_L07CArthas05, "TRIGSTR_200", bj_TIMETYPE_ADD, 0, true )
    call WaitForSoundBJ( gg_snd_L07CArthas05, 0 )
    call VolumeGroupResetBJ(  )
    // -----------
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Voiceover_Damned_Exit_Q takes nothing returns nothing
    set gg_trg_Voiceover_Damned_Exit_Q = CreateTrigger(  )
    call DisableTrigger( gg_trg_Voiceover_Damned_Exit_Q )
    call TriggerAddCondition( gg_trg_Voiceover_Damned_Exit_Q, Condition( function Trig_Voiceover_Damned_Exit_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Voiceover_Damned_Exit_Q, function Trig_Voiceover_Damned_Exit_Q_Actions )
endfunction

//===========================================================================
// Trigger: Voiceover Whole Place Crumbling Q
//===========================================================================
function Trig_Voiceover_Whole_Place_Crumbling_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Whole_Place_Crumbling_Q_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 1.50 )
    call SetSpeechVolumeGroupsBJ(  )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Arthas, "TRIGSTR_211", gg_snd_L07CArthas06, "TRIGSTR_212", bj_TIMETYPE_ADD, 0, true )
    call WaitForSoundBJ( gg_snd_L07CArthas06, 0 )
    call VolumeGroupResetBJ(  )
    // -----------
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Voiceover_Whole_Place_Crumbling_Q takes nothing returns nothing
    set gg_trg_Voiceover_Whole_Place_Crumbling_Q = CreateTrigger(  )
    call DisableTrigger( gg_trg_Voiceover_Whole_Place_Crumbling_Q )
    call TriggerAddCondition( gg_trg_Voiceover_Whole_Place_Crumbling_Q, Condition( function Trig_Voiceover_Whole_Place_Crumbling_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Voiceover_Whole_Place_Crumbling_Q, function Trig_Voiceover_Whole_Place_Crumbling_Q_Actions )
endfunction

//===========================================================================
// Trigger: Voiceover Another Quake Q
//===========================================================================
function Trig_Voiceover_Another_Quake_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Another_Quake_Q_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 1.50 )
    call SetSpeechVolumeGroupsBJ(  )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Arthas, "TRIGSTR_203", gg_snd_L07CArthas22, "TRIGSTR_204", bj_TIMETYPE_ADD, 0, true )
    call WaitForSoundBJ( gg_snd_L07CArthas22, 0 )
    call VolumeGroupResetBJ(  )
    // -----------
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Voiceover_Another_Quake_Q takes nothing returns nothing
    set gg_trg_Voiceover_Another_Quake_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Voiceover_Another_Quake_Q, Condition( function Trig_Voiceover_Another_Quake_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Voiceover_Another_Quake_Q, function Trig_Voiceover_Another_Quake_Q_Actions )
endfunction

//===========================================================================
// Trigger: Voiceover More Blasted Mechanisms
//===========================================================================
function Trig_Voiceover_More_Blasted_Mechanisms_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_More_Blasted_Mechanisms_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Voiceover_More_Blasted_Mechanisms_Q, true )
endfunction

//===========================================================================
function InitTrig_Voiceover_More_Blasted_Mechanisms takes nothing returns nothing
    set gg_trg_Voiceover_More_Blasted_Mechanisms = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Voiceover_More_Blasted_Mechanisms, gg_rct_Flame_Geyser_Puzzle_Area )
    call TriggerAddCondition( gg_trg_Voiceover_More_Blasted_Mechanisms, Condition( function Trig_Voiceover_More_Blasted_Mechanisms_Conditions ) )
    call TriggerAddAction( gg_trg_Voiceover_More_Blasted_Mechanisms, function Trig_Voiceover_More_Blasted_Mechanisms_Actions )
endfunction

//===========================================================================
// Trigger: Voiceover More Blasted Mechanisms Q
//===========================================================================
function Trig_Voiceover_More_Blasted_Mechanisms_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_More_Blasted_Mechanisms_Q_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 1.50 )
    call SetSpeechVolumeGroupsBJ(  )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Arthas, "TRIGSTR_207", gg_snd_L07CArthas28, "TRIGSTR_208", bj_TIMETYPE_ADD, 0, true )
    call WaitForSoundBJ( gg_snd_L07CArthas28, 0 )
    call VolumeGroupResetBJ(  )
    // -----------
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Voiceover_More_Blasted_Mechanisms_Q takes nothing returns nothing
    set gg_trg_Voiceover_More_Blasted_Mechanisms_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Voiceover_More_Blasted_Mechanisms_Q, Condition( function Trig_Voiceover_More_Blasted_Mechanisms_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Voiceover_More_Blasted_Mechanisms_Q, function Trig_Voiceover_More_Blasted_Mechanisms_Q_Actions )
endfunction

//===========================================================================
// Trigger: Voiceover Strange Obstacle
//===========================================================================
function Trig_Voiceover_Strange_Obstacle_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Strange_Obstacle_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Voiceover_Strange_Obstacle_Q, true )
endfunction

//===========================================================================
function InitTrig_Voiceover_Strange_Obstacle takes nothing returns nothing
    set gg_trg_Voiceover_Strange_Obstacle = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Voiceover_Strange_Obstacle, gg_rct_VisibilityBigElevatorArea )
    call TriggerAddCondition( gg_trg_Voiceover_Strange_Obstacle, Condition( function Trig_Voiceover_Strange_Obstacle_Conditions ) )
    call TriggerAddAction( gg_trg_Voiceover_Strange_Obstacle, function Trig_Voiceover_Strange_Obstacle_Actions )
endfunction

//===========================================================================
// Trigger: Voiceover Strange Obstacle Q
//===========================================================================
function Trig_Voiceover_Strange_Obstacle_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Strange_Obstacle_Q_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 1.50 )
    call SetSpeechVolumeGroupsBJ(  )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Arthas, "TRIGSTR_221", gg_snd_L07CArthas31, "TRIGSTR_222", bj_TIMETYPE_ADD, 0, true )
    call WaitForSoundBJ( gg_snd_L07CArthas31, 0 )
    call VolumeGroupResetBJ(  )
    // -----------
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Voiceover_Strange_Obstacle_Q takes nothing returns nothing
    set gg_trg_Voiceover_Strange_Obstacle_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Voiceover_Strange_Obstacle_Q, Condition( function Trig_Voiceover_Strange_Obstacle_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Voiceover_Strange_Obstacle_Q, function Trig_Voiceover_Strange_Obstacle_Q_Actions )
endfunction

//===========================================================================
// Trigger: Voiceover Blocking the Way
//===========================================================================
function Trig_Voiceover_Blocking_the_Way_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'uloc' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Blocking_the_Way_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Voiceover_Blocking_the_Way_Q, true )
endfunction

//===========================================================================
function InitTrig_Voiceover_Blocking_the_Way takes nothing returns nothing
    set gg_trg_Voiceover_Blocking_the_Way = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Voiceover_Blocking_the_Way, gg_rct_DialogueBlockingWayArea )
    call TriggerAddCondition( gg_trg_Voiceover_Blocking_the_Way, Condition( function Trig_Voiceover_Blocking_the_Way_Conditions ) )
    call TriggerAddAction( gg_trg_Voiceover_Blocking_the_Way, function Trig_Voiceover_Blocking_the_Way_Actions )
endfunction

//===========================================================================
// Trigger: Voiceover Blocking the Way Q
//===========================================================================
function Trig_Voiceover_Blocking_the_Way_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Blocking_the_Way_Q_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 1.50 )
    call SetSpeechVolumeGroupsBJ(  )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Anubarak, "TRIGSTR_229", gg_snd_L07CAnubarak37, "TRIGSTR_230", bj_TIMETYPE_ADD, 0, true )
    call WaitForSoundBJ( gg_snd_L07CAnubarak37, 0 )
    call VolumeGroupResetBJ(  )
    // -----------
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Voiceover_Blocking_the_Way_Q takes nothing returns nothing
    set gg_trg_Voiceover_Blocking_the_Way_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Voiceover_Blocking_the_Way_Q, Condition( function Trig_Voiceover_Blocking_the_Way_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Voiceover_Blocking_the_Way_Q, function Trig_Voiceover_Blocking_the_Way_Q_Actions )
endfunction

//===========================================================================
// Trigger: Voiceover Running Out of Time Q
//===========================================================================
function Trig_Voiceover_Running_Out_of_Time_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Running_Out_of_Time_Q_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 1.50 )
    call SetSpeechVolumeGroupsBJ(  )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Anubarak, "TRIGSTR_252", gg_snd_L07CAnubarak07, "TRIGSTR_253", bj_TIMETYPE_ADD, 0, true )
    call WaitForSoundBJ( gg_snd_L07CAnubarak07, 0 )
    call VolumeGroupResetBJ(  )
    // -----------
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Voiceover_Running_Out_of_Time_Q takes nothing returns nothing
    set gg_trg_Voiceover_Running_Out_of_Time_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Voiceover_Running_Out_of_Time_Q, Condition( function Trig_Voiceover_Running_Out_of_Time_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Voiceover_Running_Out_of_Time_Q, function Trig_Voiceover_Running_Out_of_Time_Q_Actions )
endfunction

//===========================================================================
// Trigger: Voiceover Another Quake Hurry Q
//===========================================================================
function Trig_Voiceover_Another_Quake_Hurry_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Another_Quake_Hurry_Q_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 1.50 )
    call SetSpeechVolumeGroupsBJ(  )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Anubarak, "TRIGSTR_238", gg_snd_L07CAnubarak20, "TRIGSTR_239", bj_TIMETYPE_ADD, 0, true )
    call WaitForSoundBJ( gg_snd_L07CAnubarak20, 0 )
    call VolumeGroupResetBJ(  )
    // -----------
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Voiceover_Another_Quake_Hurry_Q takes nothing returns nothing
    set gg_trg_Voiceover_Another_Quake_Hurry_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Voiceover_Another_Quake_Hurry_Q, Condition( function Trig_Voiceover_Another_Quake_Hurry_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Voiceover_Another_Quake_Hurry_Q, function Trig_Voiceover_Another_Quake_Hurry_Q_Actions )
endfunction

//===========================================================================
// Trigger: Voiceover Breaking Through Q
//===========================================================================
function Trig_Voiceover_Breaking_Through_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Breaking_Through_Q_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 1.50 )
    call SetSpeechVolumeGroupsBJ(  )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Arthas, "TRIGSTR_233", gg_snd_L07CArthas36, "TRIGSTR_234", bj_TIMETYPE_ADD, 0, true )
    call WaitForSoundBJ( gg_snd_L07CArthas36, 0 )
    call VolumeGroupResetBJ(  )
    // -----------
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Voiceover_Breaking_Through_Q takes nothing returns nothing
    set gg_trg_Voiceover_Breaking_Through_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Voiceover_Breaking_Through_Q, Condition( function Trig_Voiceover_Breaking_Through_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Voiceover_Breaking_Through_Q, function Trig_Voiceover_Breaking_Through_Q_Actions )
endfunction

//===========================================================================
// Trigger: Voiceover Singed
//===========================================================================
function Trig_Voiceover_Singed_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Singed_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Voiceover_Singed_Q, true )
endfunction

//===========================================================================
function InitTrig_Voiceover_Singed takes nothing returns nothing
    set gg_trg_Voiceover_Singed = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Voiceover_Singed, gg_rct_Dialogue_Singed_Area )
    call TriggerAddCondition( gg_trg_Voiceover_Singed, Condition( function Trig_Voiceover_Singed_Conditions ) )
    call TriggerAddAction( gg_trg_Voiceover_Singed, function Trig_Voiceover_Singed_Actions )
endfunction

//===========================================================================
// Trigger: Voiceover Singed Q
//===========================================================================
function Trig_Voiceover_Singed_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Singed_Q_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 1.50 )
    call SetCameraQuickPositionLocForPlayer( udg_AP1_Player, GetRectCenter(gg_rct_Dialogue_Singed_Area) )
    call SetSpeechVolumeGroupsBJ(  )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Arthas, "TRIGSTR_187", gg_snd_L07CArthas30, "TRIGSTR_188", bj_TIMETYPE_ADD, 0, true )
    call WaitForSoundBJ( gg_snd_L07CArthas30, 0 )
    call VolumeGroupResetBJ(  )
    // -----------
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Voiceover_Singed_Q takes nothing returns nothing
    set gg_trg_Voiceover_Singed_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Voiceover_Singed_Q, Condition( function Trig_Voiceover_Singed_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Voiceover_Singed_Q, function Trig_Voiceover_Singed_Q_Actions )
endfunction

//===========================================================================
// Trigger: Start Timers
//===========================================================================
function Trig_Start_Timers_Actions takes nothing returns nothing
    call StartTimerBJ( udg_TimingTrap01Timer, false, udg_SideFlame01TimeDelay )
    call TriggerSleepAction( 1.00 )
    call StartTimerBJ( udg_TimingTrap02Timer, false, udg_SideFlame02TimeDelay )
    call TriggerSleepAction( 1.00 )
    call StartTimerBJ( udg_TimingTrap03Timer, false, udg_SideFlame03TimeDelay )
endfunction

//===========================================================================
function InitTrig_Start_Timers takes nothing returns nothing
    set gg_trg_Start_Timers = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Start_Timers, function Trig_Start_Timers_Actions )
endfunction

//===========================================================================
// Trigger: Damage Line 01
//===========================================================================
function Trig_Damage_Line_01_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( udg_SideFlame01 == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Damage_Line_01_Func004A takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Blue_Side_Flame_Damage )
endfunction

function Trig_Damage_Line_01_Actions takes nothing returns nothing
    // Plate Effect
    set bj_wantDestroyGroup = true
    call ForGroupBJ( GetUnitsInRectAll(gg_rct_FlameSideSet01), function Trig_Damage_Line_01_Func004A )
endfunction

//===========================================================================
function InitTrig_Damage_Line_01 takes nothing returns nothing
    set gg_trg_Damage_Line_01 = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Damage_Line_01, 0.40 )
    call TriggerAddCondition( gg_trg_Damage_Line_01, Condition( function Trig_Damage_Line_01_Conditions ) )
    call TriggerAddAction( gg_trg_Damage_Line_01, function Trig_Damage_Line_01_Actions )
endfunction

//===========================================================================
// Trigger: Damage Line 02
//===========================================================================
function Trig_Damage_Line_02_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( udg_SideFlame02 == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Damage_Line_02_Func004A takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Blue_Side_Flame_Damage )
endfunction

function Trig_Damage_Line_02_Actions takes nothing returns nothing
    // Plate Effect
    set bj_wantDestroyGroup = true
    call ForGroupBJ( GetUnitsInRectAll(gg_rct_FlameSideSet02), function Trig_Damage_Line_02_Func004A )
endfunction

//===========================================================================
function InitTrig_Damage_Line_02 takes nothing returns nothing
    set gg_trg_Damage_Line_02 = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Damage_Line_02, 0.40 )
    call TriggerAddCondition( gg_trg_Damage_Line_02, Condition( function Trig_Damage_Line_02_Conditions ) )
    call TriggerAddAction( gg_trg_Damage_Line_02, function Trig_Damage_Line_02_Actions )
endfunction

//===========================================================================
// Trigger: Damage Line 03
//===========================================================================
function Trig_Damage_Line_03_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( udg_SideFlame03 == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Damage_Line_03_Func004A takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Blue_Side_Flame_Damage )
endfunction

function Trig_Damage_Line_03_Actions takes nothing returns nothing
    // Plate Effect
    set bj_wantDestroyGroup = true
    call ForGroupBJ( GetUnitsInRectAll(gg_rct_FlameSideSet03), function Trig_Damage_Line_03_Func004A )
endfunction

//===========================================================================
function InitTrig_Damage_Line_03 takes nothing returns nothing
    set gg_trg_Damage_Line_03 = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Damage_Line_03, 0.40 )
    call TriggerAddCondition( gg_trg_Damage_Line_03, Condition( function Trig_Damage_Line_03_Conditions ) )
    call TriggerAddAction( gg_trg_Damage_Line_03, function Trig_Damage_Line_03_Actions )
endfunction

//===========================================================================
// Trigger: Timing Trap Line 01
//===========================================================================
function Trig_Timing_Trap_Line_01_Conditions takes nothing returns boolean
    if ( not ( udg_SideFlameDeactivated == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Timing_Trap_Line_01_Actions takes nothing returns nothing
    set udg_SideFlame01 = true
    call SetDoodadAnimationRectBJ( "stand second", 'YOr1', gg_rct_FlameSideSet01 )
    // Start Sound
    call PlaySoundAtPointBJ( udg_FlameSideSound01, udg_FlameVolume, udg_PointFlameSide01, 0 )
    set udg_FlameSideSound01 = GetLastPlayedSound()
    // ***********
    call TriggerSleepAction( 2.00 )
    call StartTimerBJ( udg_TimingTrap01Timer, false, udg_SideFlame01TimeDelay )
    call SetDoodadAnimationRectBJ( "death", 'YOr1', gg_rct_FlameSideSet01 )
    set udg_SideFlame01 = false
    // Stop Sound
    call StopSoundBJ( udg_FlameSideSound01, true )
endfunction

//===========================================================================
function InitTrig_Timing_Trap_Line_01 takes nothing returns nothing
    set gg_trg_Timing_Trap_Line_01 = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Timing_Trap_Line_01, udg_TimingTrap01Timer )
    call TriggerAddCondition( gg_trg_Timing_Trap_Line_01, Condition( function Trig_Timing_Trap_Line_01_Conditions ) )
    call TriggerAddAction( gg_trg_Timing_Trap_Line_01, function Trig_Timing_Trap_Line_01_Actions )
endfunction

//===========================================================================
// Trigger: Timing Trap Line 02
//===========================================================================
function Trig_Timing_Trap_Line_02_Conditions takes nothing returns boolean
    if ( not ( udg_SideFlameDeactivated == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Timing_Trap_Line_02_Actions takes nothing returns nothing
    set udg_SideFlame02 = true
    call SetDoodadAnimationRectBJ( "stand second", 'YOr1', gg_rct_FlameSideSet02 )
    // Start Sound
    call PlaySoundAtPointBJ( udg_FlameSideSound02, udg_FlameVolume, udg_PointFlameSide02, 0 )
    set udg_FlameSideSound02 = GetLastPlayedSound()
    call TriggerSleepAction( 2.00 )
    call StartTimerBJ( udg_TimingTrap02Timer, false, udg_SideFlame02TimeDelay )
    call SetDoodadAnimationRectBJ( "death", 'YOr1', gg_rct_FlameSideSet02 )
    set udg_SideFlame02 = false
    // Stop Sound
    call StopSoundBJ( udg_FlameSideSound02, true )
endfunction

//===========================================================================
function InitTrig_Timing_Trap_Line_02 takes nothing returns nothing
    set gg_trg_Timing_Trap_Line_02 = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Timing_Trap_Line_02, udg_TimingTrap02Timer )
    call TriggerAddCondition( gg_trg_Timing_Trap_Line_02, Condition( function Trig_Timing_Trap_Line_02_Conditions ) )
    call TriggerAddAction( gg_trg_Timing_Trap_Line_02, function Trig_Timing_Trap_Line_02_Actions )
endfunction

//===========================================================================
// Trigger: Timing Trap Line 03
//===========================================================================
function Trig_Timing_Trap_Line_03_Conditions takes nothing returns boolean
    if ( not ( udg_SideFlameDeactivated == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Timing_Trap_Line_03_Actions takes nothing returns nothing
    set udg_SideFlame03 = true
    call SetDoodadAnimationRectBJ( "stand second", 'YOr1', gg_rct_FlameSideSet03 )
    // Start Sound
    call PlaySoundAtPointBJ( udg_FlameSideSound03, udg_FlameVolume, udg_PointFlameSide03, 0 )
    set udg_FlameSideSound03 = GetLastPlayedSound()
    call TriggerSleepAction( 2.00 )
    call StartTimerBJ( udg_TimingTrap03Timer, false, udg_SideFlame03TimeDelay )
    call SetDoodadAnimationRectBJ( "death", 'YOr1', gg_rct_FlameSideSet03 )
    set udg_SideFlame03 = false
    // Stop Sound
    call StopSoundBJ( udg_FlameSideSound03, true )
endfunction

//===========================================================================
function InitTrig_Timing_Trap_Line_03 takes nothing returns nothing
    set gg_trg_Timing_Trap_Line_03 = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Timing_Trap_Line_03, udg_TimingTrap03Timer )
    call TriggerAddCondition( gg_trg_Timing_Trap_Line_03, Condition( function Trig_Timing_Trap_Line_03_Conditions ) )
    call TriggerAddAction( gg_trg_Timing_Trap_Line_03, function Trig_Timing_Trap_Line_03_Actions )
endfunction

//===========================================================================
// Trigger: Blue Side Flame Damage
//===========================================================================
function Trig_Blue_Side_Flame_Damage_Conditions takes nothing returns boolean
    if ( not ( IsUnitAliveBJ(GetEnumUnit()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Blue_Side_Flame_Damage_Func003001 takes nothing returns boolean
    return ( udg_EasyOn == true )
endfunction

function Trig_Blue_Side_Flame_Damage_Actions takes nothing returns nothing
    call SetUnitLifeBJ( GetEnumUnit(), ( GetUnitStateSwap(UNIT_STATE_LIFE, GetEnumUnit()) - udg_BlueSideFlameDamage ) )
    if ( Trig_Blue_Side_Flame_Damage_Func003001() ) then
        call ConditionalTriggerExecute( gg_trg_Blue_Side_Flame_Floaty_Easy )
    else
        call ConditionalTriggerExecute( gg_trg_Blue_Side_Flame_Floaty_Normal )
    endif
    call AddSpecialEffectTargetUnitBJ( "origin", udg_Arthas, "Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl" )
endfunction

//===========================================================================
function InitTrig_Blue_Side_Flame_Damage takes nothing returns nothing
    set gg_trg_Blue_Side_Flame_Damage = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Blue_Side_Flame_Damage, Condition( function Trig_Blue_Side_Flame_Damage_Conditions ) )
    call TriggerAddAction( gg_trg_Blue_Side_Flame_Damage, function Trig_Blue_Side_Flame_Damage_Actions )
endfunction

//===========================================================================
// Trigger: Blue Side Flame Floaty Normal
//===========================================================================
function Trig_Blue_Side_Flame_Floaty_Normal_Conditions takes nothing returns boolean
    if ( not ( udg_EasyOn == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Blue_Side_Flame_Floaty_Normal_Actions takes nothing returns nothing
    local texttag tt
    call CreateTextTagUnitBJ( "TRIGSTR_262", GetEnumUnit(), 0, 10, 100, 0.00, 0.00, 0 )
    call SetTextTagVelocityBJ( GetLastCreatedTextTag(), 32.00, 90.00 )
    set udg_TempFloaty = GetLastCreatedTextTag()
    set tt = udg_TempFloaty
    call TriggerSleepAction( 1.00 )
    // Fade
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 10.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 20.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 30.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 40.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 50.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 60.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 70.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 80.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 90.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call DestroyTextTagBJ( udg_TempFloaty )
endfunction

//===========================================================================
function InitTrig_Blue_Side_Flame_Floaty_Normal takes nothing returns nothing
    set gg_trg_Blue_Side_Flame_Floaty_Normal = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Blue_Side_Flame_Floaty_Normal, Condition( function Trig_Blue_Side_Flame_Floaty_Normal_Conditions ) )
    call TriggerAddAction( gg_trg_Blue_Side_Flame_Floaty_Normal, function Trig_Blue_Side_Flame_Floaty_Normal_Actions )
endfunction

//===========================================================================
// Trigger: Blue Side Flame Floaty Easy
//===========================================================================
function Trig_Blue_Side_Flame_Floaty_Easy_Conditions takes nothing returns boolean
    if ( not ( udg_EasyOn == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Blue_Side_Flame_Floaty_Easy_Actions takes nothing returns nothing
    local texttag tt
    call CreateTextTagUnitBJ( "TRIGSTR_268", GetEnumUnit(), 0, 10, 100, 0.00, 0.00, 0 )
    call SetTextTagVelocityBJ( GetLastCreatedTextTag(), 32.00, 90.00 )
    set udg_TempFloaty = GetLastCreatedTextTag()
    set tt = udg_TempFloaty
    call TriggerSleepAction( 1.00 )
    // Fade
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 10.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 20.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 30.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 40.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 50.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 60.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 70.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 80.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 90.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call DestroyTextTagBJ( udg_TempFloaty )
endfunction

//===========================================================================
function InitTrig_Blue_Side_Flame_Floaty_Easy takes nothing returns nothing
    set gg_trg_Blue_Side_Flame_Floaty_Easy = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Blue_Side_Flame_Floaty_Easy, Condition( function Trig_Blue_Side_Flame_Floaty_Easy_Conditions ) )
    call TriggerAddAction( gg_trg_Blue_Side_Flame_Floaty_Easy, function Trig_Blue_Side_Flame_Floaty_Easy_Actions )
endfunction

//===========================================================================
// Trigger: Blue Side Flame Plate Off
//===========================================================================
function Trig_Blue_Side_Flame_Plate_Off_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.05 )
    set udg_SideFlameDeactivated = true
    // Activate Plate
    call KillDestructable( gg_dest_DTfp_0678 )
    set udg_TempPoint = GetDestructableLoc(gg_dest_DTfp_0678)
    call PlaySoundAtPointBJ( udg_SoundPlates, 100, udg_TempPoint, 0 )
    call RemoveLocation( udg_TempPoint )
    call PauseTimerBJ( true, udg_TimingTrap01Timer )
    call PauseTimerBJ( true, udg_TimingTrap02Timer )
    call PauseTimerBJ( true, udg_TimingTrap03Timer )
    call TriggerSleepAction( 0.10 )
    call SetDoodadAnimationRectBJ( "death", 'YOr1', gg_rct_FlameSideSet01 )
    call SetDoodadAnimationRectBJ( "death", 'YOr1', gg_rct_FlameSideSet02 )
    call SetDoodadAnimationRectBJ( "death", 'YOr1', gg_rct_FlameSideSet03 )
    call StopSoundBJ( gg_snd_BlueFireBurstLoop, true )
endfunction

//===========================================================================
function InitTrig_Blue_Side_Flame_Plate_Off takes nothing returns nothing
    set gg_trg_Blue_Side_Flame_Plate_Off = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Blue_Side_Flame_Plate_Off, gg_rct_PlateBlueSideFlameOff )
    call TriggerAddAction( gg_trg_Blue_Side_Flame_Plate_Off, function Trig_Blue_Side_Flame_Plate_Off_Actions )
endfunction

//===========================================================================
// Trigger: Blue Flame Geyser Setup
//===========================================================================
function Trig_Blue_Flame_Geyser_Setup_Actions takes nothing returns nothing
    call SetDoodadAnimationRectBJ( "stand second", 'YOr2', gg_rct_Flame_Geyser_Puzzle_Area )
    call StartTimerBJ( udg_TimerPlate01Death, false, 6.00 )
    call StartTimerBJ( udg_TimerPlate02Death, false, 5.00 )
    call StartTimerBJ( udg_TimerPlate03Death, false, 3.00 )
    call StartTimerBJ( udg_TimerPlate04Death, false, 2.00 )
endfunction

//===========================================================================
function InitTrig_Blue_Flame_Geyser_Setup takes nothing returns nothing
    set gg_trg_Blue_Flame_Geyser_Setup = CreateTrigger(  )
    call TriggerRegisterTimerEventSingle( gg_trg_Blue_Flame_Geyser_Setup, 1.00 )
    call TriggerAddAction( gg_trg_Blue_Flame_Geyser_Setup, function Trig_Blue_Flame_Geyser_Setup_Actions )
endfunction

//===========================================================================
// Trigger: Plate 01 Area Death Animation
//===========================================================================
function Trig_Plate_01_Area_Death_Animation_Actions takes nothing returns nothing
    set udg_Plate01FlameOn = false
    call SetDoodadAnimationRectBJ( "death", 'YOr2', gg_rct_Plate_01_Pulsating_Area )
    call StartTimerBJ( udg_TimerPlate01Stand, false, 3.00 )
    // Stop Sound
    call StopSoundBJ( udg_FlameGeyserSound01, true )
endfunction

//===========================================================================
function InitTrig_Plate_01_Area_Death_Animation takes nothing returns nothing
    set gg_trg_Plate_01_Area_Death_Animation = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Plate_01_Area_Death_Animation, udg_TimerPlate01Death )
    call TriggerAddAction( gg_trg_Plate_01_Area_Death_Animation, function Trig_Plate_01_Area_Death_Animation_Actions )
endfunction

//===========================================================================
// Trigger: Plate 01 Area Stand Animation
//===========================================================================
function Trig_Plate_01_Area_Stand_Animation_Actions takes nothing returns nothing
    set udg_Plate01FlameOn = true
    call SetDoodadAnimationRectBJ( "stand second", 'YOr2', gg_rct_Plate_01_Pulsating_Area )
    call StartTimerBJ( udg_TimerPlate01Death, false, 6.00 )
    // Start Sound
    set udg_TempPoint = GetRectCenter(gg_rct_Plate_01_Pulsating_Area)
    call PlaySoundAtPointBJ( udg_FlameGeyserSound01, udg_FlameVolume, udg_TempPoint, 0 )
    call RemoveLocation( udg_TempPoint )
    set udg_FlameGeyserSound01 = GetLastPlayedSound()
endfunction

//===========================================================================
function InitTrig_Plate_01_Area_Stand_Animation takes nothing returns nothing
    set gg_trg_Plate_01_Area_Stand_Animation = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Plate_01_Area_Stand_Animation, udg_TimerPlate01Stand )
    call TriggerAddAction( gg_trg_Plate_01_Area_Stand_Animation, function Trig_Plate_01_Area_Stand_Animation_Actions )
endfunction

//===========================================================================
// Trigger: Plate 02 Area Death Animation
//===========================================================================
function Trig_Plate_02_Area_Death_Animation_Actions takes nothing returns nothing
    set udg_Plate02FlameOn = false
    call SetDoodadAnimationRectBJ( "death", 'YOr2', gg_rct_Plate_02_Pulsating_Area )
    call StartTimerBJ( udg_TimerPlate02Stand, false, 2.50 )
    // Stop Sound
    call StopSoundBJ( udg_FlameGeyserSound02, true )
endfunction

//===========================================================================
function InitTrig_Plate_02_Area_Death_Animation takes nothing returns nothing
    set gg_trg_Plate_02_Area_Death_Animation = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Plate_02_Area_Death_Animation, udg_TimerPlate02Death )
    call TriggerAddAction( gg_trg_Plate_02_Area_Death_Animation, function Trig_Plate_02_Area_Death_Animation_Actions )
endfunction

//===========================================================================
// Trigger: Plate 02 Area Stand Animation
//===========================================================================
function Trig_Plate_02_Area_Stand_Animation_Actions takes nothing returns nothing
    set udg_Plate02FlameOn = true
    call SetDoodadAnimationRectBJ( "stand second", 'YOr2', gg_rct_Plate_02_Pulsating_Area )
    call StartTimerBJ( udg_TimerPlate02Death, false, 5.00 )
    // Start Sound
    set udg_TempPoint = GetRectCenter(gg_rct_Plate_02_Pulsating_Area)
    call PlaySoundAtPointBJ( udg_FlameGeyserSound02, udg_FlameVolume, udg_TempPoint, 0 )
    call RemoveLocation( udg_TempPoint )
    set udg_FlameGeyserSound02 = GetLastPlayedSound()
endfunction

//===========================================================================
function InitTrig_Plate_02_Area_Stand_Animation takes nothing returns nothing
    set gg_trg_Plate_02_Area_Stand_Animation = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Plate_02_Area_Stand_Animation, udg_TimerPlate02Stand )
    call TriggerAddAction( gg_trg_Plate_02_Area_Stand_Animation, function Trig_Plate_02_Area_Stand_Animation_Actions )
endfunction

//===========================================================================
// Trigger: Plate 03 Area Death Animation
//===========================================================================
function Trig_Plate_03_Area_Death_Animation_Actions takes nothing returns nothing
    set udg_Plate03FlameOn = false
    call SetDoodadAnimationRectBJ( "death", 'YOr2', gg_rct_Plate_03_Pulsating_Area )
    call StartTimerBJ( udg_TimerPlate03Stand, false, 1.50 )
    // Stop Sound
    call StopSoundBJ( udg_FlameGeyserSound03, true )
endfunction

//===========================================================================
function InitTrig_Plate_03_Area_Death_Animation takes nothing returns nothing
    set gg_trg_Plate_03_Area_Death_Animation = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Plate_03_Area_Death_Animation, udg_TimerPlate03Death )
    call TriggerAddAction( gg_trg_Plate_03_Area_Death_Animation, function Trig_Plate_03_Area_Death_Animation_Actions )
endfunction

//===========================================================================
// Trigger: Plate 03 Area Stand Animation
//===========================================================================
function Trig_Plate_03_Area_Stand_Animation_Actions takes nothing returns nothing
    set udg_Plate03FlameOn = true
    call SetDoodadAnimationRectBJ( "stand second", 'YOr2', gg_rct_Plate_03_Pulsating_Area )
    call StartTimerBJ( udg_TimerPlate03Death, false, 3.00 )
    // Start Sound
    set udg_TempPoint = GetRectCenter(gg_rct_Plate_03_Pulsating_Area)
    call PlaySoundAtPointBJ( udg_FlameGeyserSound03, udg_FlameVolume, udg_TempPoint, 0 )
    call RemoveLocation( udg_TempPoint )
    set udg_FlameGeyserSound03 = GetLastPlayedSound()
endfunction

//===========================================================================
function InitTrig_Plate_03_Area_Stand_Animation takes nothing returns nothing
    set gg_trg_Plate_03_Area_Stand_Animation = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Plate_03_Area_Stand_Animation, udg_TimerPlate03Stand )
    call TriggerAddAction( gg_trg_Plate_03_Area_Stand_Animation, function Trig_Plate_03_Area_Stand_Animation_Actions )
endfunction

//===========================================================================
// Trigger: Plate 04 Area Death Animation
//===========================================================================
function Trig_Plate_04_Area_Death_Animation_Actions takes nothing returns nothing
    set udg_Plate04FlameOn = false
    call SetDoodadAnimationRectBJ( "death", 'YOr2', gg_rct_Plate_04_Pulsating_Area )
    call StartTimerBJ( udg_TimerPlate04Stand, false, 1.00 )
    // Stop Sound
    call StopSoundBJ( udg_FlameGeyserSound04, true )
endfunction

//===========================================================================
function InitTrig_Plate_04_Area_Death_Animation takes nothing returns nothing
    set gg_trg_Plate_04_Area_Death_Animation = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Plate_04_Area_Death_Animation, udg_TimerPlate04Death )
    call TriggerAddAction( gg_trg_Plate_04_Area_Death_Animation, function Trig_Plate_04_Area_Death_Animation_Actions )
endfunction

//===========================================================================
// Trigger: Plate 04 Area Stand Animation
//===========================================================================
function Trig_Plate_04_Area_Stand_Animation_Actions takes nothing returns nothing
    set udg_Plate04FlameOn = true
    call SetDoodadAnimationRectBJ( "stand second", 'YOr2', gg_rct_Plate_04_Pulsating_Area )
    call StartTimerBJ( udg_TimerPlate04Death, false, 2.00 )
    // Start Sound
    set udg_TempPoint = GetRectCenter(gg_rct_Plate_04_Pulsating_Area)
    call PlaySoundAtPointBJ( udg_FlameGeyserSound04, udg_FlameVolume, udg_TempPoint, 0 )
    call RemoveLocation( udg_TempPoint )
    set udg_FlameGeyserSound04 = GetLastPlayedSound()
endfunction

//===========================================================================
function InitTrig_Plate_04_Area_Stand_Animation takes nothing returns nothing
    set gg_trg_Plate_04_Area_Stand_Animation = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Plate_04_Area_Stand_Animation, udg_TimerPlate04Stand )
    call TriggerAddAction( gg_trg_Plate_04_Area_Stand_Animation, function Trig_Plate_04_Area_Stand_Animation_Actions )
endfunction

//===========================================================================
// Trigger: Damage Plate 01 Pulsating Area
//===========================================================================
function Trig_Damage_Plate_01_Pulsating_Area_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( udg_Plate01FlameOn == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Damage_Plate_01_Pulsating_Area_Func004A takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Blue_Flame_Geyser_Damage )
endfunction

function Trig_Damage_Plate_01_Pulsating_Area_Actions takes nothing returns nothing
    // Plate Effect
    set bj_wantDestroyGroup = true
    call ForGroupBJ( GetUnitsInRectAll(gg_rct_Plate_01_Pulsating_Area), function Trig_Damage_Plate_01_Pulsating_Area_Func004A )
endfunction

//===========================================================================
function InitTrig_Damage_Plate_01_Pulsating_Area takes nothing returns nothing
    set gg_trg_Damage_Plate_01_Pulsating_Area = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Damage_Plate_01_Pulsating_Area, 0.40 )
    call TriggerAddCondition( gg_trg_Damage_Plate_01_Pulsating_Area, Condition( function Trig_Damage_Plate_01_Pulsating_Area_Conditions ) )
    call TriggerAddAction( gg_trg_Damage_Plate_01_Pulsating_Area, function Trig_Damage_Plate_01_Pulsating_Area_Actions )
endfunction

//===========================================================================
// Trigger: Damage Plate 01 Sustained Area
//===========================================================================
function Trig_Damage_Plate_01_Sustained_Area_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( udg_Plate01SustainedArea == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Damage_Plate_01_Sustained_Area_Func004A takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Blue_Flame_Geyser_Damage )
endfunction

function Trig_Damage_Plate_01_Sustained_Area_Actions takes nothing returns nothing
    // Plate Effect
    set bj_wantDestroyGroup = true
    call ForGroupBJ( GetUnitsInRectAll(gg_rct_Plate_01_Drop_Area), function Trig_Damage_Plate_01_Sustained_Area_Func004A )
endfunction

//===========================================================================
function InitTrig_Damage_Plate_01_Sustained_Area takes nothing returns nothing
    set gg_trg_Damage_Plate_01_Sustained_Area = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Damage_Plate_01_Sustained_Area, 0.40 )
    call TriggerAddCondition( gg_trg_Damage_Plate_01_Sustained_Area, Condition( function Trig_Damage_Plate_01_Sustained_Area_Conditions ) )
    call TriggerAddAction( gg_trg_Damage_Plate_01_Sustained_Area, function Trig_Damage_Plate_01_Sustained_Area_Actions )
endfunction

//===========================================================================
// Trigger: Damage Plate 02 Pulsating Area
//===========================================================================
function Trig_Damage_Plate_02_Pulsating_Area_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( udg_Plate02FlameOn == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Damage_Plate_02_Pulsating_Area_Func004A takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Blue_Flame_Geyser_Damage )
endfunction

function Trig_Damage_Plate_02_Pulsating_Area_Actions takes nothing returns nothing
    // Plate Effect
    set bj_wantDestroyGroup = true
    call ForGroupBJ( GetUnitsInRectAll(gg_rct_Plate_02_Pulsating_Area), function Trig_Damage_Plate_02_Pulsating_Area_Func004A )
endfunction

//===========================================================================
function InitTrig_Damage_Plate_02_Pulsating_Area takes nothing returns nothing
    set gg_trg_Damage_Plate_02_Pulsating_Area = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Damage_Plate_02_Pulsating_Area, 0.40 )
    call TriggerAddCondition( gg_trg_Damage_Plate_02_Pulsating_Area, Condition( function Trig_Damage_Plate_02_Pulsating_Area_Conditions ) )
    call TriggerAddAction( gg_trg_Damage_Plate_02_Pulsating_Area, function Trig_Damage_Plate_02_Pulsating_Area_Actions )
endfunction

//===========================================================================
// Trigger: Damage Plate 02 Sustained Area
//===========================================================================
function Trig_Damage_Plate_02_Sustained_Area_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( udg_Plate02SustainedArea == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Damage_Plate_02_Sustained_Area_Func004A takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Blue_Flame_Geyser_Damage )
endfunction

function Trig_Damage_Plate_02_Sustained_Area_Actions takes nothing returns nothing
    // Plate Effect
    set bj_wantDestroyGroup = true
    call ForGroupBJ( GetUnitsInRectAll(gg_rct_Plate_02_Drop_Area), function Trig_Damage_Plate_02_Sustained_Area_Func004A )
endfunction

//===========================================================================
function InitTrig_Damage_Plate_02_Sustained_Area takes nothing returns nothing
    set gg_trg_Damage_Plate_02_Sustained_Area = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Damage_Plate_02_Sustained_Area, 0.40 )
    call TriggerAddCondition( gg_trg_Damage_Plate_02_Sustained_Area, Condition( function Trig_Damage_Plate_02_Sustained_Area_Conditions ) )
    call TriggerAddAction( gg_trg_Damage_Plate_02_Sustained_Area, function Trig_Damage_Plate_02_Sustained_Area_Actions )
endfunction

//===========================================================================
// Trigger: Damage Plate 03 Pulsating Area
//===========================================================================
function Trig_Damage_Plate_03_Pulsating_Area_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( udg_Plate03FlameOn == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Damage_Plate_03_Pulsating_Area_Func004A takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Blue_Flame_Geyser_Damage )
endfunction

function Trig_Damage_Plate_03_Pulsating_Area_Actions takes nothing returns nothing
    // Plate Effect
    set bj_wantDestroyGroup = true
    call ForGroupBJ( GetUnitsInRectAll(gg_rct_Plate_03_Pulsating_Area), function Trig_Damage_Plate_03_Pulsating_Area_Func004A )
endfunction

//===========================================================================
function InitTrig_Damage_Plate_03_Pulsating_Area takes nothing returns nothing
    set gg_trg_Damage_Plate_03_Pulsating_Area = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Damage_Plate_03_Pulsating_Area, 0.40 )
    call TriggerAddCondition( gg_trg_Damage_Plate_03_Pulsating_Area, Condition( function Trig_Damage_Plate_03_Pulsating_Area_Conditions ) )
    call TriggerAddAction( gg_trg_Damage_Plate_03_Pulsating_Area, function Trig_Damage_Plate_03_Pulsating_Area_Actions )
endfunction

//===========================================================================
// Trigger: Damage Plate 03 Sustained Area
//===========================================================================
function Trig_Damage_Plate_03_Sustained_Area_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( udg_Plate03SustainedArea == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Damage_Plate_03_Sustained_Area_Func004A takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Blue_Flame_Geyser_Damage )
endfunction

function Trig_Damage_Plate_03_Sustained_Area_Actions takes nothing returns nothing
    // Plate Effect
    set bj_wantDestroyGroup = true
    call ForGroupBJ( GetUnitsInRectAll(gg_rct_Plate_03_Drop_Area), function Trig_Damage_Plate_03_Sustained_Area_Func004A )
endfunction

//===========================================================================
function InitTrig_Damage_Plate_03_Sustained_Area takes nothing returns nothing
    set gg_trg_Damage_Plate_03_Sustained_Area = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Damage_Plate_03_Sustained_Area, 0.40 )
    call TriggerAddCondition( gg_trg_Damage_Plate_03_Sustained_Area, Condition( function Trig_Damage_Plate_03_Sustained_Area_Conditions ) )
    call TriggerAddAction( gg_trg_Damage_Plate_03_Sustained_Area, function Trig_Damage_Plate_03_Sustained_Area_Actions )
endfunction

//===========================================================================
// Trigger: Damage Plate 04 Pulsating Area
//===========================================================================
function Trig_Damage_Plate_04_Pulsating_Area_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( udg_Plate04FlameOn == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Damage_Plate_04_Pulsating_Area_Func004A takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Blue_Flame_Geyser_Damage )
endfunction

function Trig_Damage_Plate_04_Pulsating_Area_Actions takes nothing returns nothing
    // Plate Effect
    set bj_wantDestroyGroup = true
    call ForGroupBJ( GetUnitsInRectAll(gg_rct_Plate_04_Pulsating_Area), function Trig_Damage_Plate_04_Pulsating_Area_Func004A )
endfunction

//===========================================================================
function InitTrig_Damage_Plate_04_Pulsating_Area takes nothing returns nothing
    set gg_trg_Damage_Plate_04_Pulsating_Area = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Damage_Plate_04_Pulsating_Area, 0.40 )
    call TriggerAddCondition( gg_trg_Damage_Plate_04_Pulsating_Area, Condition( function Trig_Damage_Plate_04_Pulsating_Area_Conditions ) )
    call TriggerAddAction( gg_trg_Damage_Plate_04_Pulsating_Area, function Trig_Damage_Plate_04_Pulsating_Area_Actions )
endfunction

//===========================================================================
// Trigger: Damage Flame Sustained
//===========================================================================
function Trig_Damage_Flame_Sustained_Func003A takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Blue_Flame_Geyser_Damage )
endfunction

function Trig_Damage_Flame_Sustained_Func005A takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Blue_Flame_Geyser_Damage )
endfunction

function Trig_Damage_Flame_Sustained_Func007A takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Blue_Flame_Geyser_Damage )
endfunction

function Trig_Damage_Flame_Sustained_Func009A takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Blue_Flame_Geyser_Damage )
endfunction

function Trig_Damage_Flame_Sustained_Func011A takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Blue_Flame_Geyser_Damage )
endfunction

function Trig_Damage_Flame_Sustained_Func013A takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Blue_Flame_Geyser_Damage )
endfunction

function Trig_Damage_Flame_Sustained_Func015A takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Blue_Flame_Geyser_Damage )
endfunction

function Trig_Damage_Flame_Sustained_Func017A takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Blue_Flame_Geyser_Damage )
endfunction

function Trig_Damage_Flame_Sustained_Func019A takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Blue_Flame_Geyser_Damage )
endfunction

function Trig_Damage_Flame_Sustained_Func021A takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Blue_Flame_Geyser_Damage )
endfunction

function Trig_Damage_Flame_Sustained_Func023A takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Blue_Flame_Geyser_Damage )
endfunction

function Trig_Damage_Flame_Sustained_Func025A takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Blue_Flame_Geyser_Damage )
endfunction

function Trig_Damage_Flame_Sustained_Func027A takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Blue_Flame_Geyser_Damage )
endfunction

function Trig_Damage_Flame_Sustained_Func029A takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Blue_Flame_Geyser_Damage )
endfunction

function Trig_Damage_Flame_Sustained_Func031A takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Blue_Flame_Geyser_Damage )
endfunction

function Trig_Damage_Flame_Sustained_Func033A takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Blue_Flame_Geyser_Damage )
endfunction

function Trig_Damage_Flame_Sustained_Func035A takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Blue_Flame_Geyser_Damage )
endfunction

function Trig_Damage_Flame_Sustained_Actions takes nothing returns nothing
    set bj_wantDestroyGroup = true
    call ForGroupBJ( GetUnitsInRectAll(gg_rct_Flame_A3), function Trig_Damage_Flame_Sustained_Func003A )
    set bj_wantDestroyGroup = true
    call ForGroupBJ( GetUnitsInRectAll(gg_rct_Flame_C3), function Trig_Damage_Flame_Sustained_Func005A )
    set bj_wantDestroyGroup = true
    call ForGroupBJ( GetUnitsInRectAll(gg_rct_Flame_C4), function Trig_Damage_Flame_Sustained_Func007A )
    set bj_wantDestroyGroup = true
    call ForGroupBJ( GetUnitsInRectAll(gg_rct_Flame_C5), function Trig_Damage_Flame_Sustained_Func009A )
    set bj_wantDestroyGroup = true
    call ForGroupBJ( GetUnitsInRectAll(gg_rct_Flame_E1), function Trig_Damage_Flame_Sustained_Func011A )
    set bj_wantDestroyGroup = true
    call ForGroupBJ( GetUnitsInRectAll(gg_rct_Flame_E2), function Trig_Damage_Flame_Sustained_Func013A )
    set bj_wantDestroyGroup = true
    call ForGroupBJ( GetUnitsInRectAll(gg_rct_Flame_E3), function Trig_Damage_Flame_Sustained_Func015A )
    set bj_wantDestroyGroup = true
    call ForGroupBJ( GetUnitsInRectAll(gg_rct_Flame_G3), function Trig_Damage_Flame_Sustained_Func017A )
    set bj_wantDestroyGroup = true
    call ForGroupBJ( GetUnitsInRectAll(gg_rct_Flame_G4), function Trig_Damage_Flame_Sustained_Func019A )
    set bj_wantDestroyGroup = true
    call ForGroupBJ( GetUnitsInRectAll(gg_rct_Flame_G5), function Trig_Damage_Flame_Sustained_Func021A )
    set bj_wantDestroyGroup = true
    call ForGroupBJ( GetUnitsInRectAll(gg_rct_Flame_H5), function Trig_Damage_Flame_Sustained_Func023A )
    set bj_wantDestroyGroup = true
    call ForGroupBJ( GetUnitsInRectAll(gg_rct_Flame_I1), function Trig_Damage_Flame_Sustained_Func025A )
    set bj_wantDestroyGroup = true
    call ForGroupBJ( GetUnitsInRectAll(gg_rct_Flame_I2), function Trig_Damage_Flame_Sustained_Func027A )
    set bj_wantDestroyGroup = true
    call ForGroupBJ( GetUnitsInRectAll(gg_rct_Flame_I3), function Trig_Damage_Flame_Sustained_Func029A )
    set bj_wantDestroyGroup = true
    call ForGroupBJ( GetUnitsInRectAll(gg_rct_Flame_I3), function Trig_Damage_Flame_Sustained_Func031A )
    set bj_wantDestroyGroup = true
    call ForGroupBJ( GetUnitsInRectAll(gg_rct_Flame_I4), function Trig_Damage_Flame_Sustained_Func033A )
    set bj_wantDestroyGroup = true
    call ForGroupBJ( GetUnitsInRectAll(gg_rct_Flame_I5), function Trig_Damage_Flame_Sustained_Func035A )
endfunction

//===========================================================================
function InitTrig_Damage_Flame_Sustained takes nothing returns nothing
    set gg_trg_Damage_Flame_Sustained = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Damage_Flame_Sustained, 0.40 )
    call TriggerAddAction( gg_trg_Damage_Flame_Sustained, function Trig_Damage_Flame_Sustained_Actions )
endfunction

//===========================================================================
// Trigger: Sustained Sound
//===========================================================================
function Trig_Sustained_Sound_Conditions takes nothing returns boolean
    if ( not ( udg_SustainedFlamesSoundOn == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Sustained_Sound_Actions takes nothing returns nothing
    // Geyser flames that are always on until trap is off
    set udg_TempPoint = GetRectCenter(gg_rct_Flame_E2)
    call PlaySoundAtPointBJ( udg_FlameSustained, udg_FlameVolumeSustained, udg_TempPoint, 0 )
    call RemoveLocation( udg_TempPoint )
endfunction

//===========================================================================
function InitTrig_Sustained_Sound takes nothing returns nothing
    set gg_trg_Sustained_Sound = CreateTrigger(  )
    call TriggerRegisterDeathEvent( gg_trg_Sustained_Sound, gg_dest_ITg3_0322 )
    call TriggerAddCondition( gg_trg_Sustained_Sound, Condition( function Trig_Sustained_Sound_Conditions ) )
    call TriggerAddAction( gg_trg_Sustained_Sound, function Trig_Sustained_Sound_Actions )
endfunction

//===========================================================================
// Trigger: Blue Flame Geyser Damage
//===========================================================================
function Trig_Blue_Flame_Geyser_Damage_Conditions takes nothing returns boolean
    if ( not ( IsUnitAliveBJ(GetEnumUnit()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Blue_Flame_Geyser_Damage_Func003001 takes nothing returns boolean
    return ( udg_EasyOn == true )
endfunction

function Trig_Blue_Flame_Geyser_Damage_Actions takes nothing returns nothing
    call SetUnitLifeBJ( GetEnumUnit(), ( GetUnitStateSwap(UNIT_STATE_LIFE, GetEnumUnit()) - udg_GeyserFlameDamage ) )
    if ( Trig_Blue_Flame_Geyser_Damage_Func003001() ) then
        call ConditionalTriggerExecute( gg_trg_Blue_Flame_Geyser_Floaty_Easy )
    else
        call ConditionalTriggerExecute( gg_trg_Blue_Flame_Geyser_Floaty_Normal )
    endif
    call AddSpecialEffectTargetUnitBJ( "origin", udg_Arthas, "Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl" )
endfunction

//===========================================================================
function InitTrig_Blue_Flame_Geyser_Damage takes nothing returns nothing
    set gg_trg_Blue_Flame_Geyser_Damage = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Blue_Flame_Geyser_Damage, Condition( function Trig_Blue_Flame_Geyser_Damage_Conditions ) )
    call TriggerAddAction( gg_trg_Blue_Flame_Geyser_Damage, function Trig_Blue_Flame_Geyser_Damage_Actions )
endfunction

//===========================================================================
// Trigger: Blue Flame Geyser Floaty Normal
//===========================================================================
function Trig_Blue_Flame_Geyser_Floaty_Normal_Actions takes nothing returns nothing
    local texttag tt
    call CreateTextTagUnitBJ( "TRIGSTR_267", GetEnumUnit(), 0, 10, 100, 0.00, 0.00, 0 )
    call SetTextTagVelocityBJ( GetLastCreatedTextTag(), 32.00, 90.00 )
    set udg_TempFloaty = GetLastCreatedTextTag()
    set tt = udg_TempFloaty
    call TriggerSleepAction( 1.00 )
    // Fade
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 10.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 20.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 30.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 40.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 50.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 60.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 70.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 80.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 90.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call DestroyTextTagBJ( udg_TempFloaty )
endfunction

//===========================================================================
function InitTrig_Blue_Flame_Geyser_Floaty_Normal takes nothing returns nothing
    set gg_trg_Blue_Flame_Geyser_Floaty_Normal = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Blue_Flame_Geyser_Floaty_Normal, function Trig_Blue_Flame_Geyser_Floaty_Normal_Actions )
endfunction

//===========================================================================
// Trigger: Blue Flame Geyser Floaty Easy
//===========================================================================
function Trig_Blue_Flame_Geyser_Floaty_Easy_Actions takes nothing returns nothing
    local texttag tt
    call CreateTextTagUnitBJ( "TRIGSTR_269", GetEnumUnit(), 0, 10, 100, 0.00, 0.00, 0 )
    call SetTextTagVelocityBJ( GetLastCreatedTextTag(), 32.00, 90.00 )
    set udg_TempFloaty = GetLastCreatedTextTag()
    set tt = udg_TempFloaty
    call TriggerSleepAction( 1.00 )
    // Fade
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 10.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 20.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 30.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 40.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 50.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 60.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 70.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 80.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call SetTextTagColorBJ( udg_TempFloaty, 100.00, 0.00, 0.00, 90.00 )
    call TriggerSleepAction( 0.05 )
    set udg_TempFloaty = tt
    call DestroyTextTagBJ( udg_TempFloaty )
endfunction

//===========================================================================
function InitTrig_Blue_Flame_Geyser_Floaty_Easy takes nothing returns nothing
    set gg_trg_Blue_Flame_Geyser_Floaty_Easy = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Blue_Flame_Geyser_Floaty_Easy, function Trig_Blue_Flame_Geyser_Floaty_Easy_Actions )
endfunction

//===========================================================================
// Trigger: Plate 01
//===========================================================================
function Trig_Plate_01_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    return true
endfunction

function Trig_Plate_01_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    // Activate Plate
    call KillDestructable( gg_dest_DTfp_0016 )
    call PlaySoundAtPointBJ( udg_SoundPlates, 100, GetDestructableLoc(gg_dest_DTfp_0016), 0 )
    set udg_Plate01FlameOn = false
    call TriggerSleepAction( 0.80 )
    // Plate Effect
    call SetDoodadAnimationRectBJ( "death", 'YOr2', gg_rct_Plate_01_Drop_Area )
    // Turn off Plate 01 Area
    set udg_Plate01SustainedArea = false
    call SetDoodadAnimationRectBJ( "death", 'D000', gg_rct_Plate_01_Drop_Area )
    call ConditionalTriggerExecute( gg_trg_Turn_Off_Geyser_Trap_and_Open_Door )
endfunction

//===========================================================================
function InitTrig_Plate_01 takes nothing returns nothing
    set gg_trg_Plate_01 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Plate_01, gg_rct_Plate_01 )
    call TriggerAddCondition( gg_trg_Plate_01, Condition( function Trig_Plate_01_Conditions ) )
    call TriggerAddAction( gg_trg_Plate_01, function Trig_Plate_01_Actions )
endfunction

//===========================================================================
// Trigger: Plate 02
//===========================================================================
function Trig_Plate_02_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    return true
endfunction

function Trig_Plate_02_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    // Activate Plate
    call KillDestructable( gg_dest_DTfp_0015 )
    call PlaySoundAtPointBJ( udg_SoundPlates, 100, GetDestructableLoc(gg_dest_DTfp_0015), 0 )
    set udg_Plate02FlameOn = false
    call TriggerSleepAction( 0.80 )
    // Plate Effect
    call SetDoodadAnimationRectBJ( "death", 'YOr2', gg_rct_Plate_02_Drop_Area )
    // Turn off Plate 02 Area
    set udg_Plate02SustainedArea = false
    call SetDoodadAnimationRectBJ( "death", 'D000', gg_rct_Plate_02_Drop_Area )
    call ConditionalTriggerExecute( gg_trg_Turn_Off_Geyser_Trap_and_Open_Door )
endfunction

//===========================================================================
function InitTrig_Plate_02 takes nothing returns nothing
    set gg_trg_Plate_02 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Plate_02, gg_rct_Plate_02 )
    call TriggerAddCondition( gg_trg_Plate_02, Condition( function Trig_Plate_02_Conditions ) )
    call TriggerAddAction( gg_trg_Plate_02, function Trig_Plate_02_Actions )
endfunction

//===========================================================================
// Trigger: Plate 03
//===========================================================================
function Trig_Plate_03_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    return true
endfunction

function Trig_Plate_03_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    // Activate Plate
    call KillDestructable( gg_dest_DTfp_0014 )
    call PlaySoundAtPointBJ( udg_SoundPlates, 100, GetDestructableLoc(gg_dest_DTfp_0014), 0 )
    set udg_Plate03FlameOn = false
    call TriggerSleepAction( 0.80 )
    // Plate Effect
    call SetDoodadAnimationRectBJ( "death", 'YOr2', gg_rct_Plate_03_Drop_Area )
    // Turn off Plate 03 Area
    set udg_Plate03SustainedArea = false
    call SetDoodadAnimationRectBJ( "death", 'D000', gg_rct_Plate_03_Drop_Area )
    call ConditionalTriggerExecute( gg_trg_Turn_Off_Geyser_Trap_and_Open_Door )
endfunction

//===========================================================================
function InitTrig_Plate_03 takes nothing returns nothing
    set gg_trg_Plate_03 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Plate_03, gg_rct_Plate_03 )
    call TriggerAddCondition( gg_trg_Plate_03, Condition( function Trig_Plate_03_Conditions ) )
    call TriggerAddAction( gg_trg_Plate_03, function Trig_Plate_03_Actions )
endfunction

//===========================================================================
// Trigger: Plate 04
//===========================================================================
function Trig_Plate_04_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    return true
endfunction

function Trig_Plate_04_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    // Activate Plate
    call KillDestructable( gg_dest_DTfp_0012 )
    call PlaySoundAtPointBJ( udg_SoundPlates, 100, GetDestructableLoc(gg_dest_DTfp_0012), 0 )
    set udg_Plate04FlameOn = false
    call TriggerSleepAction( 0.80 )
    // Plate Effect
    set udg_Plate04SustainedArea = false
    call ConditionalTriggerExecute( gg_trg_Turn_Off_Geyser_Trap_and_Open_Door )
endfunction

//===========================================================================
function InitTrig_Plate_04 takes nothing returns nothing
    set gg_trg_Plate_04 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Plate_04, gg_rct_Plate_04 )
    call TriggerAddCondition( gg_trg_Plate_04, Condition( function Trig_Plate_04_Conditions ) )
    call TriggerAddAction( gg_trg_Plate_04, function Trig_Plate_04_Actions )
endfunction

//===========================================================================
// Trigger: Turn Off Geyser Trap and Open Door
//===========================================================================
function Trig_Turn_Off_Geyser_Trap_and_Open_Door_Conditions takes nothing returns boolean
    if ( not ( udg_Plate01SustainedArea == false ) ) then
        return false
    endif
    if ( not ( udg_Plate02SustainedArea == false ) ) then
        return false
    endif
    if ( not ( udg_Plate03SustainedArea == false ) ) then
        return false
    endif
    if ( not ( udg_Plate04SustainedArea == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Turn_Off_Geyser_Trap_and_Open_Door_Actions takes nothing returns nothing
    // Animation
    call SetDoodadAnimationRectBJ( "death", 'YOr2', gg_rct_Flame_Geyser_Puzzle_Area )
    call SetDoodadAnimationRectBJ( "death", 'D000', gg_rct_Flame_Geyser_Puzzle_Area )
    // Pause Timers
    call PauseTimerBJ( true, udg_TimerPlate01Death )
    call PauseTimerBJ( true, udg_TimerPlate02Death )
    call PauseTimerBJ( true, udg_TimerPlate03Death )
    call PauseTimerBJ( true, udg_TimerPlate04Death )
    call PauseTimerBJ( true, udg_TimerPlate01Stand )
    call PauseTimerBJ( true, udg_TimerPlate02Stand )
    call PauseTimerBJ( true, udg_TimerPlate03Stand )
    call PauseTimerBJ( true, udg_TimerPlate04Stand )
    // Turn off All Flame Damage
    call DisableTrigger( gg_trg_Damage_Flame_Sustained )
    set udg_Plate01FlameOn = false
    set udg_Plate02FlameOn = false
    set udg_Plate03FlameOn = false
    set udg_Plate04FlameOn = false
    set udg_SustainedFlamesSoundOn = false
    // Turn off All Flame Sound
    call StopSoundBJ( udg_FlameSustained, true )
    call StopSoundBJ( udg_FlameGeyserSound01, true )
    call StopSoundBJ( udg_FlameGeyserSound02, true )
    call StopSoundBJ( udg_FlameGeyserSound03, true )
    call StopSoundBJ( udg_FlameGeyserSound04, true )
    // Door
    call TriggerSleepAction( 1.00 )
    set udg_TempPoint = GetDestructableLoc(gg_dest_ITg3_0002)
    call PlaySoundAtPointBJ( udg_SoundDoorOpening, 100, udg_TempPoint, 0 )
    call RemoveLocation( udg_TempPoint )
    call ModifyGateBJ( bj_GATEOPERATION_OPEN, gg_dest_ITg3_0002 )
endfunction

//===========================================================================
function InitTrig_Turn_Off_Geyser_Trap_and_Open_Door takes nothing returns nothing
    set gg_trg_Turn_Off_Geyser_Trap_and_Open_Door = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Turn_Off_Geyser_Trap_and_Open_Door, Condition( function Trig_Turn_Off_Geyser_Trap_and_Open_Door_Conditions ) )
    call TriggerAddAction( gg_trg_Turn_Off_Geyser_Trap_and_Open_Door, function Trig_Turn_Off_Geyser_Trap_and_Open_Door_Actions )
endfunction

//===========================================================================
// Trigger: Blizzard Strike Setup
//===========================================================================
function Trig_Blizzard_Strike_Setup_Actions takes nothing returns nothing
    call UnitAddAbilityBJ( 'A001', udg_BlizzardStriker )
    call UnitRemoveAbilityBJ( 'ACmf', udg_BlizzardStriker )
    call UnitRemoveAbilityBJ( 'ACsl', udg_BlizzardStriker )
    // Force Bridge
    call DestructableRestoreLife( gg_dest_DTep_0061, 10.00, false )
    call DestructableRestoreLife( gg_dest_DTep_0063, 10.00, false )
endfunction

//===========================================================================
function InitTrig_Blizzard_Strike_Setup takes nothing returns nothing
    set gg_trg_Blizzard_Strike_Setup = CreateTrigger(  )
    call TriggerRegisterDeathEvent( gg_trg_Blizzard_Strike_Setup, gg_dest_ZTd3_0026 )
    call TriggerAddAction( gg_trg_Blizzard_Strike_Setup, function Trig_Blizzard_Strike_Setup_Actions )
endfunction

//===========================================================================
// Trigger: Area 01 Wall Down
//===========================================================================
function Trig_Area_01_Wall_Down_Actions takes nothing returns nothing
    call KillDestructable( gg_dest_Dofw_0305 )
    call DisableTrigger( gg_trg_Blizzard_01_Area )
    call EnableTrigger( gg_trg_Blizzard_02_Area )
    // Play Death Sound
    call PlaySoundOnUnitBJ( gg_snd_NightElfBuildingDeathSmall1, 80.00, gg_unit_n000_0017 )
endfunction

//===========================================================================
function InitTrig_Area_01_Wall_Down takes nothing returns nothing
    set gg_trg_Area_01_Wall_Down = CreateTrigger(  )
    call TriggerRegisterUnitEvent( gg_trg_Area_01_Wall_Down, gg_unit_n000_0017, EVENT_UNIT_DEATH )
    call TriggerAddAction( gg_trg_Area_01_Wall_Down, function Trig_Area_01_Wall_Down_Actions )
endfunction

//===========================================================================
// Trigger: Area 02 Wall Down
//===========================================================================
function Trig_Area_02_Wall_Down_Actions takes nothing returns nothing
    call KillDestructable( gg_dest_Dofw_0081 )
    call DisableTrigger( gg_trg_Blizzard_02_Area )
    call EnableTrigger( gg_trg_Blizzard_03_Area )
    // Play Death Sound
    call PlaySoundOnUnitBJ( gg_snd_NightElfBuildingDeathSmall1, 80.00, gg_unit_n000_0016 )
endfunction

//===========================================================================
function InitTrig_Area_02_Wall_Down takes nothing returns nothing
    set gg_trg_Area_02_Wall_Down = CreateTrigger(  )
    call TriggerRegisterUnitEvent( gg_trg_Area_02_Wall_Down, gg_unit_n000_0016, EVENT_UNIT_DEATH )
    call TriggerAddAction( gg_trg_Area_02_Wall_Down, function Trig_Area_02_Wall_Down_Actions )
endfunction

//===========================================================================
// Trigger: Area Arch Mage
//===========================================================================
function Trig_Area_Arch_Mage_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    return true
endfunction

function Trig_Area_Arch_Mage_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_Blizzard_03_Area )
    call DisableTrigger( gg_trg_Blizzard_04_Area )
    set udg_TempPoint = GetRectCenter(gg_rct_Flame_Strike_Arch_Mage_Area)
    call IssuePointOrderLocBJ( udg_BlizzardStriker, "attack", udg_TempPoint )
    call RemoveLocation( udg_TempPoint )
endfunction

//===========================================================================
function InitTrig_Area_Arch_Mage takes nothing returns nothing
    set gg_trg_Area_Arch_Mage = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Area_Arch_Mage, gg_rct_Flame_Strike_Arch_Mage_Area )
    call TriggerAddCondition( gg_trg_Area_Arch_Mage, Condition( function Trig_Area_Arch_Mage_Conditions ) )
    call TriggerAddAction( gg_trg_Area_Arch_Mage, function Trig_Area_Arch_Mage_Actions )
endfunction

//===========================================================================
// Trigger: Blizzard 01 Area
//===========================================================================
function Trig_Blizzard_01_Area_Conditions takes nothing returns boolean
    if ( not ( IsUnitAliveBJ(udg_BlizzardStriker) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Blizzard_01_Area_Actions takes nothing returns nothing
    set udg_TempPoint = GetRandomLocInRect(gg_rct_Flame_Strike_01_Area)
    call IssuePointOrderLocBJ( udg_BlizzardStriker, "blizzard", udg_TempPoint )
    call RemoveLocation( udg_TempPoint )
endfunction

//===========================================================================
function InitTrig_Blizzard_01_Area takes nothing returns nothing
    set gg_trg_Blizzard_01_Area = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Blizzard_01_Area, 2.00 )
    call TriggerAddCondition( gg_trg_Blizzard_01_Area, Condition( function Trig_Blizzard_01_Area_Conditions ) )
    call TriggerAddAction( gg_trg_Blizzard_01_Area, function Trig_Blizzard_01_Area_Actions )
endfunction

//===========================================================================
// Trigger: Blizzard 02 Area
//===========================================================================
function Trig_Blizzard_02_Area_Conditions takes nothing returns boolean
    if ( not ( IsUnitAliveBJ(udg_BlizzardStriker) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Blizzard_02_Area_Actions takes nothing returns nothing
    set udg_TempPoint = GetRandomLocInRect(gg_rct_Flame_Strike_02_Area)
    call IssuePointOrderLocBJ( udg_BlizzardStriker, "blizzard", udg_TempPoint )
    call RemoveLocation( udg_TempPoint )
endfunction

//===========================================================================
function InitTrig_Blizzard_02_Area takes nothing returns nothing
    set gg_trg_Blizzard_02_Area = CreateTrigger(  )
    call DisableTrigger( gg_trg_Blizzard_02_Area )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Blizzard_02_Area, 2.00 )
    call TriggerAddCondition( gg_trg_Blizzard_02_Area, Condition( function Trig_Blizzard_02_Area_Conditions ) )
    call TriggerAddAction( gg_trg_Blizzard_02_Area, function Trig_Blizzard_02_Area_Actions )
endfunction

//===========================================================================
// Trigger: Blizzard 03 Area
//===========================================================================
function Trig_Blizzard_03_Area_Conditions takes nothing returns boolean
    if ( not ( IsUnitAliveBJ(udg_BlizzardStriker) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Blizzard_03_Area_Actions takes nothing returns nothing
    set udg_TempPoint = GetRandomLocInRect(gg_rct_Flame_Strike_03_Area)
    call IssuePointOrderLocBJ( udg_BlizzardStriker, "blizzard", udg_TempPoint )
    call RemoveLocation( udg_TempPoint )
endfunction

//===========================================================================
function InitTrig_Blizzard_03_Area takes nothing returns nothing
    set gg_trg_Blizzard_03_Area = CreateTrigger(  )
    call DisableTrigger( gg_trg_Blizzard_03_Area )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Blizzard_03_Area, 2.00 )
    call TriggerAddCondition( gg_trg_Blizzard_03_Area, Condition( function Trig_Blizzard_03_Area_Conditions ) )
    call TriggerAddAction( gg_trg_Blizzard_03_Area, function Trig_Blizzard_03_Area_Actions )
endfunction

//===========================================================================
// Trigger: Activate 04
//===========================================================================
function Trig_Activate_04_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    return true
endfunction

function Trig_Activate_04_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call EnableTrigger( gg_trg_Blizzard_04_Area )
endfunction

//===========================================================================
function InitTrig_Activate_04 takes nothing returns nothing
    set gg_trg_Activate_04 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Activate_04, gg_rct_Flame_Strike_04_Area )
    call TriggerAddCondition( gg_trg_Activate_04, Condition( function Trig_Activate_04_Conditions ) )
    call TriggerAddAction( gg_trg_Activate_04, function Trig_Activate_04_Actions )
endfunction

//===========================================================================
// Trigger: Blizzard 04 Area
//===========================================================================
function Trig_Blizzard_04_Area_Conditions takes nothing returns boolean
    if ( not ( IsUnitAliveBJ(udg_BlizzardStriker) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Blizzard_04_Area_Actions takes nothing returns nothing
    set udg_TempPoint = GetRandomLocInRect(gg_rct_Flame_Strike_04_Area)
    call IssuePointOrderLocBJ( udg_BlizzardStriker, "blizzard", udg_TempPoint )
    call RemoveLocation( udg_TempPoint )
endfunction

//===========================================================================
function InitTrig_Blizzard_04_Area takes nothing returns nothing
    set gg_trg_Blizzard_04_Area = CreateTrigger(  )
    call DisableTrigger( gg_trg_Blizzard_04_Area )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Blizzard_04_Area, 2.00 )
    call TriggerAddCondition( gg_trg_Blizzard_04_Area, Condition( function Trig_Blizzard_04_Area_Conditions ) )
    call TriggerAddAction( gg_trg_Blizzard_04_Area, function Trig_Blizzard_04_Area_Actions )
endfunction

//===========================================================================
// Trigger: Last Power Generator Dies
//===========================================================================
function Trig_Last_Power_Generator_Dies_Actions takes nothing returns nothing
    // Play Death Sound
    call PlaySoundOnUnitBJ( gg_snd_NightElfBuildingDeathSmall1, 80.00, gg_unit_n000_0018 )
    // Create Bridge
    call CreateDeadDestructableLocBJ( 'DTs2', GetRectCenter(gg_rct_Force_Bridge_Create), 0.00, 1.00, 0 )
    call DestructableRestoreLife( GetLastCreatedDestructable(), GetDestructableMaxLife(GetLastCreatedDestructable()), true )
    call KillDestructable( gg_dest_DTep_0061 )
    call KillDestructable( gg_dest_DTep_0063 )
    call TriggerSleepAction( 1.00 )
    // Play Bridge Sound
    call PlaySoundAtPointBJ( udg_SpectralBridgeSound, 100, GetCameraTargetPositionLoc(), 0 )
    call TriggerSleepAction( 1.00 )
    call ModifyGateBJ( bj_GATEOPERATION_OPEN, gg_dest_ZTd3_0025 )
    call PlaySoundAtPointBJ( udg_RollingGateSound, 100, GetCameraTargetPositionLoc(), 0 )
    call KillDestructable( gg_dest_YTfb_0715 )
    call KillDestructable( gg_dest_YTfb_0713 )
    call KillDestructable( gg_dest_YTfb_0712 )
    call KillDestructable( gg_dest_YTfb_0226 )
    call KillDestructable( gg_dest_YTfb_0219 )
    call KillDestructable( gg_dest_YTfb_0716 )
    // Emergency Backup Ramp
    call DestructableRestoreLife( gg_dest_LTs3_0039, GetDestructableMaxLife(GetLastCreatedDestructable()), true )
    call PlaySoundAtPointBJ( gg_snd_Earthquake, 100, GetCameraTargetPositionLoc(), 0 )
    call TriggerSleepAction( 6.00 )
    call StopSoundBJ( gg_snd_Earthquake, true )
endfunction

//===========================================================================
function InitTrig_Last_Power_Generator_Dies takes nothing returns nothing
    set gg_trg_Last_Power_Generator_Dies = CreateTrigger(  )
    call TriggerRegisterUnitEvent( gg_trg_Last_Power_Generator_Dies, gg_unit_n000_0018, EVENT_UNIT_DEATH )
    call TriggerAddAction( gg_trg_Last_Power_Generator_Dies, function Trig_Last_Power_Generator_Dies_Actions )
endfunction

//===========================================================================
// Trigger: Elevators Init
//===========================================================================
function Trig_Elevators_Init_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call StartTimerBJ( udg_EleTimer, true, 5.00 )
    // Close North and South Edges
    set bj_forLoopAIndex = 1
    set bj_forLoopAIndexEnd = 6
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call ChangeElevatorWalls( false, bj_ELEVATOR_WALL_TYPE_NORTH, udg_zElevatorsA[GetForLoopIndexA()] )
        call ChangeElevatorWalls( false, bj_ELEVATOR_WALL_TYPE_SOUTH, udg_zElevatorsD[GetForLoopIndexA()] )
        set bj_forLoopAIndex = bj_forLoopAIndex + 1
    endloop
    // Left Edge Height
    set udg_zNewHeightsA[0] = 2
    set udg_zNewHeightsB[0] = 2
    set udg_zNewHeightsC[0] = 2
    set udg_zNewHeightsD[0] = 2
    // Right Edge Height
    set udg_zNewHeightsA[7] = 2
    set udg_zNewHeightsB[7] = 2
    set udg_zNewHeightsC[7] = 2
    set udg_zNewHeightsD[7] = 2
    // Top Edge
    set udg_zHeightTop[1] = 1
    set udg_zHeightTop[2] = 1
    set udg_zHeightTop[3] = 2
    set udg_zHeightTop[4] = 1
    set udg_zHeightTop[5] = 3
    set udg_zHeightTop[6] = 1
    // Bottom Edge
    set udg_zHeightBottom[1] = 1
    set udg_zHeightBottom[2] = 1
    set udg_zHeightBottom[3] = 1
    set udg_zHeightBottom[4] = 1
    set udg_zHeightBottom[5] = 3
    set udg_zHeightBottom[6] = 1
endfunction

//===========================================================================
function InitTrig_Elevators_Init takes nothing returns nothing
    set gg_trg_Elevators_Init = CreateTrigger(  )
    call TriggerRegisterTimerEventSingle( gg_trg_Elevators_Init, 1.00 )
    call TriggerAddAction( gg_trg_Elevators_Init, function Trig_Elevators_Init_Actions )
endfunction

//===========================================================================
// Trigger: Elevators Update
//===========================================================================
function Trig_Elevators_Update_Actions takes nothing returns nothing
    // Update Elevator Heights
    call ConditionalTriggerExecute( gg_trg_Elevators_Update_Heights )
    // Update Walls For Movement
    call ConditionalTriggerExecute( gg_trg_Elevator_Walls_Begin_Vertical )
    call TriggerSleepAction( 0.10 )
    call ConditionalTriggerExecute( gg_trg_Elevator_Walls_Begin_Horizontal )
    call ConditionalTriggerExecute( gg_trg_Elevator_Sound )
    call TriggerSleepAction( 1.20 )
    // Update Walls For Waiting
    call ConditionalTriggerExecute( gg_trg_Elevator_Walls_Finish_Vertical )
    call TriggerSleepAction( 0.10 )
    call ConditionalTriggerExecute( gg_trg_Elevator_Walls_Finish_Horizontal )
endfunction

//===========================================================================
function InitTrig_Elevators_Update takes nothing returns nothing
    set gg_trg_Elevators_Update = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Elevators_Update, udg_EleTimer )
    call TriggerAddAction( gg_trg_Elevators_Update, function Trig_Elevators_Update_Actions )
endfunction

//===========================================================================
// Trigger: Elevator Sound
//===========================================================================
function Trig_Elevator_Sound_Conditions takes nothing returns boolean
    if ( not ( RectContainsUnit(gg_rct_VisibilityBigElevatorArea, udg_Arthas) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Elevator_Sound_Actions takes nothing returns nothing
    set udg_TempPoint = GetCameraTargetPositionLoc()
    call PlaySoundAtPointBJ( udg_ElevatorsSound, 100, udg_TempPoint, 0 )
    call RemoveLocation( udg_TempPoint )
endfunction

//===========================================================================
function InitTrig_Elevator_Sound takes nothing returns nothing
    set gg_trg_Elevator_Sound = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Elevator_Sound, Condition( function Trig_Elevator_Sound_Conditions ) )
    call TriggerAddAction( gg_trg_Elevator_Sound, function Trig_Elevator_Sound_Actions )
endfunction

//===========================================================================
// Trigger: Ele AI help for units
//===========================================================================
function Trig_Ele_AI_help_for_units_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Ele_AI_help_for_units_Func001Func003C takes nothing returns boolean
    if ( not ( DistanceBetweenPoints(udg_TempPointA, udg_TempPointB) <= 500.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Ele_AI_help_for_units_Func001A takes nothing returns nothing
    set udg_TempPointA = GetUnitLoc(GetEnumUnit())
    set udg_TempPointB = GetUnitLoc(udg_Arthas)
    if ( Trig_Ele_AI_help_for_units_Func001Func003C() ) then
        call IssueTargetOrderBJ( GetEnumUnit(), "attack", udg_Arthas )
    else
    endif
    call RemoveLocation( udg_TempPointA )
    call RemoveLocation( udg_TempPointB )
endfunction

function Trig_Ele_AI_help_for_units_Actions takes nothing returns nothing
    call ForGroupBJ( udg_ElevatorBaddies, function Trig_Ele_AI_help_for_units_Func001A )
endfunction

//===========================================================================
function InitTrig_Ele_AI_help_for_units takes nothing returns nothing
    set gg_trg_Ele_AI_help_for_units = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Ele_AI_help_for_units, 1.00 )
    call TriggerAddCondition( gg_trg_Ele_AI_help_for_units, Condition( function Trig_Ele_AI_help_for_units_Conditions ) )
    call TriggerAddAction( gg_trg_Ele_AI_help_for_units, function Trig_Ele_AI_help_for_units_Actions )
endfunction

//===========================================================================
// Trigger: Elevator Baddie Dies
//===========================================================================
function Trig_Elevator_Baddie_Dies_Actions takes nothing returns nothing
    call GroupRemoveUnitSimple( GetDyingUnit(), udg_ElevatorBaddies )
endfunction

//===========================================================================
function InitTrig_Elevator_Baddie_Dies takes nothing returns nothing
    set gg_trg_Elevator_Baddie_Dies = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Elevator_Baddie_Dies, Player(1), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddAction( gg_trg_Elevator_Baddie_Dies, function Trig_Elevator_Baddie_Dies_Actions )
endfunction

//===========================================================================
// Trigger: Elevator Secret off Lever
//===========================================================================
function Trig_Elevator_Secret_off_Lever_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Elevator_Secret_off_Lever_Q, true )
endfunction

//===========================================================================
function InitTrig_Elevator_Secret_off_Lever takes nothing returns nothing
    set gg_trg_Elevator_Secret_off_Lever = CreateTrigger(  )
    call TriggerRegisterDeathEvent( gg_trg_Elevator_Secret_off_Lever, gg_dest_DTlv_0676 )
    call TriggerAddAction( gg_trg_Elevator_Secret_off_Lever, function Trig_Elevator_Secret_off_Lever_Actions )
endfunction

//===========================================================================
// Trigger: Elevator Secret off Lever Q
//===========================================================================
function Trig_Elevator_Secret_off_Lever_Q_Func007C takes nothing returns boolean
    if ( not ( udg_zNewHeightsA[1] == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Elevator_Secret_off_Lever_Q_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_ElevatorDisarmed = true
    call ChangeElevatorHeight( gg_dest_DTrf_0679, 2 )
    call ChangeElevatorWalls( false, bj_ELEVATOR_WALL_TYPE_EAST, gg_dest_DTrf_0679 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_WEST, gg_dest_DTrf_0679 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_NORTH, gg_dest_DTrf_0679 )
    if ( Trig_Elevator_Secret_off_Lever_Q_Func007C() ) then
        call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_SOUTH, gg_dest_DTrf_0679 )
    else
        call ChangeElevatorWalls( false, bj_ELEVATOR_WALL_TYPE_SOUTH, gg_dest_DTrf_0679 )
    endif
    set udg_zHeightTop[1] = 2
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_UPDATED, "TRIGSTR_259" )
    call TriggerSleepAction( 2 )
    call PanCameraToTimedLocForPlayer( udg_AP1_Player, GetRectCenter(gg_rct_Hidden_Area_Pan), 0 )
    call CreateFogModifierRadiusLocBJ( true, udg_AP1_Player, FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_Hidden_Area_Pan), 512.00 )
    set udg_SecrectElevatorVisibility = GetLastCreatedFogModifier()
    call TriggerSleepAction( 5.00 )
    call DestroyFogModifier( udg_SecrectElevatorVisibility )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Elevator_Secret_off_Lever_Q takes nothing returns nothing
    set gg_trg_Elevator_Secret_off_Lever_Q = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Elevator_Secret_off_Lever_Q, function Trig_Elevator_Secret_off_Lever_Q_Actions )
endfunction

//===========================================================================
// Trigger: Elevators Update Heights
//===========================================================================
function Trig_Elevators_Update_Heights_Func004Func002C takes nothing returns boolean
    if ( not ( udg_ElevatorDisarmed == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Elevators_Update_Heights_Actions takes nothing returns nothing
    // Calc Old Heights
    set bj_forLoopAIndex = 1
    set bj_forLoopAIndexEnd = 6
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        set udg_zOldHeightsA[GetForLoopIndexA()] = udg_zNewHeightsA[GetForLoopIndexA()]
        set udg_zOldHeightsB[GetForLoopIndexA()] = udg_zNewHeightsB[GetForLoopIndexA()]
        set udg_zOldHeightsC[GetForLoopIndexA()] = udg_zNewHeightsC[GetForLoopIndexA()]
        set udg_zOldHeightsD[GetForLoopIndexA()] = udg_zNewHeightsD[GetForLoopIndexA()]
        set bj_forLoopAIndex = bj_forLoopAIndex + 1
    endloop
    // Set New Heights
    set bj_forLoopAIndex = 1
    set bj_forLoopAIndexEnd = 6
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call ChangeElevatorHeight( udg_zElevatorsA[GetForLoopIndexA()], GetRandomInt(1, 3) )
        if ( Trig_Elevators_Update_Heights_Func004Func002C() ) then
            call ChangeElevatorHeight( udg_zElevatorsB[GetForLoopIndexA()], 2 )
        else
            call ChangeElevatorHeight( udg_zElevatorsB[GetForLoopIndexA()], GetRandomInt(1, 3) )
        endif
        call ChangeElevatorHeight( udg_zElevatorsC[GetForLoopIndexA()], GetRandomInt(1, 3) )
        call ChangeElevatorHeight( udg_zElevatorsD[GetForLoopIndexA()], GetRandomInt(1, 3) )
        set bj_forLoopAIndex = bj_forLoopAIndex + 1
    endloop
    // Calc New Heights
    set bj_forLoopAIndex = 1
    set bj_forLoopAIndexEnd = 6
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        set udg_zNewHeightsA[GetForLoopIndexA()] = GetElevatorHeight(udg_zElevatorsA[GetForLoopIndexA()])
        set udg_zNewHeightsB[GetForLoopIndexA()] = GetElevatorHeight(udg_zElevatorsB[GetForLoopIndexA()])
        set udg_zNewHeightsC[GetForLoopIndexA()] = GetElevatorHeight(udg_zElevatorsC[GetForLoopIndexA()])
        set udg_zNewHeightsD[GetForLoopIndexA()] = GetElevatorHeight(udg_zElevatorsD[GetForLoopIndexA()])
        set bj_forLoopAIndex = bj_forLoopAIndex + 1
    endloop
    // Exceptions
    set udg_zNewHeightsC[2] = 3
    set udg_zNewHeightsD[5] = 3
endfunction

//===========================================================================
function InitTrig_Elevators_Update_Heights takes nothing returns nothing
    set gg_trg_Elevators_Update_Heights = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Elevators_Update_Heights, function Trig_Elevators_Update_Heights_Actions )
endfunction

//===========================================================================
// Trigger: Elevator Walls Begin Vertical
//===========================================================================
function Trig_Elevator_Walls_Begin_Vertical_Actions takes nothing returns nothing
    // Vertical Walls
    set bj_forLoopAIndex = 0
    set bj_forLoopAIndexEnd = 6
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        // A
        set udg_WhichElevatorA = udg_zElevatorsA[GetForLoopIndexA()]
        set udg_WhichElevatorB = udg_zElevatorsA[( GetForLoopIndexA() + 1 )]
        set udg_WhichNewDiff = ( udg_zNewHeightsA[GetForLoopIndexA()] - udg_zNewHeightsA[( GetForLoopIndexA() + 1 )] )
        set udg_WhichOldDiff = ( udg_zOldHeightsA[GetForLoopIndexA()] - udg_zOldHeightsA[( GetForLoopIndexA() + 1 )] )
        call ConditionalTriggerExecute( gg_trg_Elevator_Walls_Begin_Vertical_One )
        // B
        set udg_WhichElevatorA = udg_zElevatorsB[GetForLoopIndexA()]
        set udg_WhichElevatorB = udg_zElevatorsB[( GetForLoopIndexA() + 1 )]
        set udg_WhichNewDiff = ( udg_zNewHeightsB[GetForLoopIndexA()] - udg_zNewHeightsB[( GetForLoopIndexA() + 1 )] )
        set udg_WhichOldDiff = ( udg_zOldHeightsB[GetForLoopIndexA()] - udg_zOldHeightsB[( GetForLoopIndexA() + 1 )] )
        call ConditionalTriggerExecute( gg_trg_Elevator_Walls_Begin_Vertical_One )
        // C
        set udg_WhichElevatorA = udg_zElevatorsC[GetForLoopIndexA()]
        set udg_WhichElevatorB = udg_zElevatorsC[( GetForLoopIndexA() + 1 )]
        set udg_WhichNewDiff = ( udg_zNewHeightsC[GetForLoopIndexA()] - udg_zNewHeightsC[( GetForLoopIndexA() + 1 )] )
        set udg_WhichOldDiff = ( udg_zOldHeightsC[GetForLoopIndexA()] - udg_zOldHeightsC[( GetForLoopIndexA() + 1 )] )
        call ConditionalTriggerExecute( gg_trg_Elevator_Walls_Begin_Vertical_One )
        // D
        set udg_WhichElevatorA = udg_zElevatorsD[GetForLoopIndexA()]
        set udg_WhichElevatorB = udg_zElevatorsD[( GetForLoopIndexA() + 1 )]
        set udg_WhichNewDiff = ( udg_zNewHeightsD[GetForLoopIndexA()] - udg_zNewHeightsD[( GetForLoopIndexA() + 1 )] )
        set udg_WhichOldDiff = ( udg_zOldHeightsD[GetForLoopIndexA()] - udg_zOldHeightsD[( GetForLoopIndexA() + 1 )] )
        call ConditionalTriggerExecute( gg_trg_Elevator_Walls_Begin_Vertical_One )
        set bj_forLoopAIndex = bj_forLoopAIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_Elevator_Walls_Begin_Vertical takes nothing returns nothing
    set gg_trg_Elevator_Walls_Begin_Vertical = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Elevator_Walls_Begin_Vertical, function Trig_Elevator_Walls_Begin_Vertical_Actions )
endfunction

//===========================================================================
// Trigger: Elevator Walls Begin Vertical One
//===========================================================================
function Trig_Elevator_Walls_Begin_Vertical_One_Func002C takes nothing returns boolean
    if ( ( udg_WhichElevatorA != null ) ) then
        return true
    endif
    if ( ( udg_WhichElevatorB != null ) ) then
        return true
    endif
    return false
endfunction

function Trig_Elevator_Walls_Begin_Vertical_One_Conditions takes nothing returns boolean
    if ( not Trig_Elevator_Walls_Begin_Vertical_One_Func002C() ) then
        return false
    endif
    return true
endfunction

function Trig_Elevator_Walls_Begin_Vertical_One_Func001Func002C takes nothing returns boolean
    if ( not ( udg_WhichElevatorA != null ) ) then
        return false
    endif
    return true
endfunction

function Trig_Elevator_Walls_Begin_Vertical_One_Func001Func006C takes nothing returns boolean
    if ( not ( udg_WhichElevatorA != null ) ) then
        return false
    endif
    return true
endfunction

function Trig_Elevator_Walls_Begin_Vertical_One_Func001C takes nothing returns boolean
    if ( not ( udg_WhichNewDiff == 0 ) ) then
        return false
    endif
    if ( not ( udg_WhichOldDiff == 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Elevator_Walls_Begin_Vertical_One_Actions takes nothing returns nothing
    if ( Trig_Elevator_Walls_Begin_Vertical_One_Func001C() ) then
        // Open
        if ( Trig_Elevator_Walls_Begin_Vertical_One_Func001Func006C() ) then
            call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_EAST, udg_WhichElevatorA )
        else
            call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_WEST, udg_WhichElevatorB )
        endif
    else
        // Close
        if ( Trig_Elevator_Walls_Begin_Vertical_One_Func001Func002C() ) then
            call ChangeElevatorWalls( false, bj_ELEVATOR_WALL_TYPE_EAST, udg_WhichElevatorA )
        else
            call ChangeElevatorWalls( false, bj_ELEVATOR_WALL_TYPE_WEST, udg_WhichElevatorB )
        endif
    endif
endfunction

//===========================================================================
function InitTrig_Elevator_Walls_Begin_Vertical_One takes nothing returns nothing
    set gg_trg_Elevator_Walls_Begin_Vertical_One = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Elevator_Walls_Begin_Vertical_One, Condition( function Trig_Elevator_Walls_Begin_Vertical_One_Conditions ) )
    call TriggerAddAction( gg_trg_Elevator_Walls_Begin_Vertical_One, function Trig_Elevator_Walls_Begin_Vertical_One_Actions )
endfunction

//===========================================================================
// Trigger: Elevator Walls Begin Horizontal
//===========================================================================
function Trig_Elevator_Walls_Begin_Horizontal_Actions takes nothing returns nothing
    // Horizontal Walls
    set bj_forLoopAIndex = 1
    set bj_forLoopAIndexEnd = 6
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        // Top / A
        set udg_WhichElevatorA = null
        set udg_WhichElevatorB = udg_zElevatorsA[GetForLoopIndexA()]
        set udg_WhichNewDiff = ( udg_zHeightTop[GetForLoopIndexA()] - udg_zNewHeightsA[GetForLoopIndexA()] )
        set udg_WhichOldDiff = ( udg_zHeightTop[GetForLoopIndexA()] - udg_zOldHeightsA[GetForLoopIndexA()] )
        call ConditionalTriggerExecute( gg_trg_Elevator_Walls_Begin_Horizontal_One )
        // A / B
        set udg_WhichElevatorA = udg_zElevatorsA[GetForLoopIndexA()]
        set udg_WhichElevatorB = udg_zElevatorsB[GetForLoopIndexA()]
        set udg_WhichNewDiff = ( udg_zNewHeightsA[GetForLoopIndexA()] - udg_zNewHeightsB[GetForLoopIndexA()] )
        set udg_WhichOldDiff = ( udg_zOldHeightsA[GetForLoopIndexA()] - udg_zOldHeightsB[GetForLoopIndexA()] )
        call ConditionalTriggerExecute( gg_trg_Elevator_Walls_Begin_Horizontal_One )
        // B / C
        set udg_WhichElevatorA = udg_zElevatorsB[GetForLoopIndexA()]
        set udg_WhichElevatorB = udg_zElevatorsC[GetForLoopIndexA()]
        set udg_WhichNewDiff = ( udg_zNewHeightsB[GetForLoopIndexA()] - udg_zNewHeightsC[GetForLoopIndexA()] )
        set udg_WhichOldDiff = ( udg_zOldHeightsB[GetForLoopIndexA()] - udg_zOldHeightsC[GetForLoopIndexA()] )
        call ConditionalTriggerExecute( gg_trg_Elevator_Walls_Begin_Horizontal_One )
        // C / D
        set udg_WhichElevatorA = udg_zElevatorsC[GetForLoopIndexA()]
        set udg_WhichElevatorB = udg_zElevatorsD[GetForLoopIndexA()]
        set udg_WhichNewDiff = ( udg_zNewHeightsC[GetForLoopIndexA()] - udg_zNewHeightsD[GetForLoopIndexA()] )
        set udg_WhichOldDiff = ( udg_zOldHeightsC[GetForLoopIndexA()] - udg_zOldHeightsD[GetForLoopIndexA()] )
        call ConditionalTriggerExecute( gg_trg_Elevator_Walls_Begin_Horizontal_One )
        // D / Bottom
        set udg_WhichElevatorA = udg_zElevatorsD[GetForLoopIndexA()]
        set udg_WhichElevatorB = null
        set udg_WhichNewDiff = ( udg_zNewHeightsD[GetForLoopIndexA()] - udg_zHeightBottom[GetForLoopIndexA()] )
        set udg_WhichOldDiff = ( udg_zOldHeightsD[GetForLoopIndexA()] - udg_zHeightBottom[GetForLoopIndexA()] )
        call ConditionalTriggerExecute( gg_trg_Elevator_Walls_Begin_Horizontal_One )
        set bj_forLoopAIndex = bj_forLoopAIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_Elevator_Walls_Begin_Horizontal takes nothing returns nothing
    set gg_trg_Elevator_Walls_Begin_Horizontal = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Elevator_Walls_Begin_Horizontal, function Trig_Elevator_Walls_Begin_Horizontal_Actions )
endfunction

//===========================================================================
// Trigger: Elevator Walls Begin Horizontal One
//===========================================================================
function Trig_Elevator_Walls_Begin_Horizontal_One_Func002C takes nothing returns boolean
    if ( ( udg_WhichElevatorA != null ) ) then
        return true
    endif
    if ( ( udg_WhichElevatorB != null ) ) then
        return true
    endif
    return false
endfunction

function Trig_Elevator_Walls_Begin_Horizontal_One_Conditions takes nothing returns boolean
    if ( not Trig_Elevator_Walls_Begin_Horizontal_One_Func002C() ) then
        return false
    endif
    return true
endfunction

function Trig_Elevator_Walls_Begin_Horizontal_One_Func001Func002C takes nothing returns boolean
    if ( not ( udg_WhichElevatorA != null ) ) then
        return false
    endif
    return true
endfunction

function Trig_Elevator_Walls_Begin_Horizontal_One_Func001Func006C takes nothing returns boolean
    if ( not ( udg_WhichElevatorA != null ) ) then
        return false
    endif
    return true
endfunction

function Trig_Elevator_Walls_Begin_Horizontal_One_Func001C takes nothing returns boolean
    if ( not ( udg_WhichNewDiff == 0 ) ) then
        return false
    endif
    if ( not ( udg_WhichOldDiff == 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Elevator_Walls_Begin_Horizontal_One_Actions takes nothing returns nothing
    if ( Trig_Elevator_Walls_Begin_Horizontal_One_Func001C() ) then
        // Open
        if ( Trig_Elevator_Walls_Begin_Horizontal_One_Func001Func006C() ) then
            call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_SOUTH, udg_WhichElevatorA )
        else
            call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_NORTH, udg_WhichElevatorB )
        endif
    else
        // Close
        if ( Trig_Elevator_Walls_Begin_Horizontal_One_Func001Func002C() ) then
            call ChangeElevatorWalls( false, bj_ELEVATOR_WALL_TYPE_SOUTH, udg_WhichElevatorA )
        else
            call ChangeElevatorWalls( false, bj_ELEVATOR_WALL_TYPE_NORTH, udg_WhichElevatorB )
        endif
    endif
endfunction

//===========================================================================
function InitTrig_Elevator_Walls_Begin_Horizontal_One takes nothing returns nothing
    set gg_trg_Elevator_Walls_Begin_Horizontal_One = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Elevator_Walls_Begin_Horizontal_One, Condition( function Trig_Elevator_Walls_Begin_Horizontal_One_Conditions ) )
    call TriggerAddAction( gg_trg_Elevator_Walls_Begin_Horizontal_One, function Trig_Elevator_Walls_Begin_Horizontal_One_Actions )
endfunction

//===========================================================================
// Trigger: Elevator Walls Finish Vertical
//===========================================================================
function Trig_Elevator_Walls_Finish_Vertical_Actions takes nothing returns nothing
    set bj_forLoopAIndex = 0
    set bj_forLoopAIndexEnd = 6
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        // A
        set udg_WhichElevatorA = udg_zElevatorsA[GetForLoopIndexA()]
        set udg_WhichElevatorB = udg_zElevatorsA[( GetForLoopIndexA() + 1 )]
        set udg_WhichHeightA = udg_zNewHeightsA[GetForLoopIndexA()]
        set udg_WhichHeightB = udg_zNewHeightsA[( GetForLoopIndexA() + 1 )]
        call ConditionalTriggerExecute( gg_trg_Elevator_Walls_Finish_Vertical_One )
        // B
        set udg_WhichElevatorA = udg_zElevatorsB[GetForLoopIndexA()]
        set udg_WhichElevatorB = udg_zElevatorsB[( GetForLoopIndexA() + 1 )]
        set udg_WhichHeightA = udg_zNewHeightsB[GetForLoopIndexA()]
        set udg_WhichHeightB = udg_zNewHeightsB[( GetForLoopIndexA() + 1 )]
        call ConditionalTriggerExecute( gg_trg_Elevator_Walls_Finish_Vertical_One )
        // C
        set udg_WhichElevatorA = udg_zElevatorsC[GetForLoopIndexA()]
        set udg_WhichElevatorB = udg_zElevatorsC[( GetForLoopIndexA() + 1 )]
        set udg_WhichHeightA = udg_zNewHeightsC[GetForLoopIndexA()]
        set udg_WhichHeightB = udg_zNewHeightsC[( GetForLoopIndexA() + 1 )]
        call ConditionalTriggerExecute( gg_trg_Elevator_Walls_Finish_Vertical_One )
        // D
        set udg_WhichElevatorA = udg_zElevatorsD[GetForLoopIndexA()]
        set udg_WhichElevatorB = udg_zElevatorsD[( GetForLoopIndexA() + 1 )]
        set udg_WhichHeightA = udg_zNewHeightsD[GetForLoopIndexA()]
        set udg_WhichHeightB = udg_zNewHeightsD[( GetForLoopIndexA() + 1 )]
        call ConditionalTriggerExecute( gg_trg_Elevator_Walls_Finish_Vertical_One )
        set bj_forLoopAIndex = bj_forLoopAIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_Elevator_Walls_Finish_Vertical takes nothing returns nothing
    set gg_trg_Elevator_Walls_Finish_Vertical = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Elevator_Walls_Finish_Vertical, function Trig_Elevator_Walls_Finish_Vertical_Actions )
endfunction

//===========================================================================
// Trigger: Elevator Walls Finish Vertical One
//===========================================================================
function Trig_Elevator_Walls_Finish_Vertical_One_Func001C takes nothing returns boolean
    if ( ( udg_WhichElevatorA != null ) ) then
        return true
    endif
    if ( ( udg_WhichElevatorB != null ) ) then
        return true
    endif
    return false
endfunction

function Trig_Elevator_Walls_Finish_Vertical_One_Conditions takes nothing returns boolean
    if ( not Trig_Elevator_Walls_Finish_Vertical_One_Func001C() ) then
        return false
    endif
    return true
endfunction

function Trig_Elevator_Walls_Finish_Vertical_One_Func002Func003C takes nothing returns boolean
    if ( not ( udg_WhichElevatorA != null ) ) then
        return false
    endif
    return true
endfunction

function Trig_Elevator_Walls_Finish_Vertical_One_Func002Func004C takes nothing returns boolean
    if ( not ( udg_WhichElevatorA != null ) ) then
        return false
    endif
    return true
endfunction

function Trig_Elevator_Walls_Finish_Vertical_One_Func002C takes nothing returns boolean
    if ( not ( udg_WhichHeightA == udg_WhichHeightB ) ) then
        return false
    endif
    return true
endfunction

function Trig_Elevator_Walls_Finish_Vertical_One_Actions takes nothing returns nothing
    if ( Trig_Elevator_Walls_Finish_Vertical_One_Func002C() ) then
        // Open
        if ( Trig_Elevator_Walls_Finish_Vertical_One_Func002Func004C() ) then
            call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_EAST, udg_WhichElevatorA )
        else
            call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_WEST, udg_WhichElevatorB )
        endif
    else
        // Close
        if ( Trig_Elevator_Walls_Finish_Vertical_One_Func002Func003C() ) then
            call ChangeElevatorWalls( false, bj_ELEVATOR_WALL_TYPE_EAST, udg_WhichElevatorA )
        else
            call ChangeElevatorWalls( false, bj_ELEVATOR_WALL_TYPE_WEST, udg_WhichElevatorB )
        endif
    endif
endfunction

//===========================================================================
function InitTrig_Elevator_Walls_Finish_Vertical_One takes nothing returns nothing
    set gg_trg_Elevator_Walls_Finish_Vertical_One = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Elevator_Walls_Finish_Vertical_One, Condition( function Trig_Elevator_Walls_Finish_Vertical_One_Conditions ) )
    call TriggerAddAction( gg_trg_Elevator_Walls_Finish_Vertical_One, function Trig_Elevator_Walls_Finish_Vertical_One_Actions )
endfunction

//===========================================================================
// Trigger: Elevator Walls Finish Horizontal
//===========================================================================
function Trig_Elevator_Walls_Finish_Horizontal_Actions takes nothing returns nothing
    set bj_forLoopAIndex = 1
    set bj_forLoopAIndexEnd = 6
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        // Top / A
        set udg_WhichElevatorA = null
        set udg_WhichElevatorB = udg_zElevatorsA[GetForLoopIndexA()]
        set udg_WhichHeightA = udg_zHeightTop[GetForLoopIndexA()]
        set udg_WhichHeightB = udg_zNewHeightsA[GetForLoopIndexA()]
        call ConditionalTriggerExecute( gg_trg_Elevator_Walls_Finish_Horizontal_One )
        // A / B
        set udg_WhichElevatorA = udg_zElevatorsA[GetForLoopIndexA()]
        set udg_WhichElevatorB = udg_zElevatorsB[GetForLoopIndexA()]
        set udg_WhichHeightA = udg_zNewHeightsA[GetForLoopIndexA()]
        set udg_WhichHeightB = udg_zNewHeightsB[GetForLoopIndexA()]
        call ConditionalTriggerExecute( gg_trg_Elevator_Walls_Finish_Horizontal_One )
        // B / C
        set udg_WhichElevatorA = udg_zElevatorsB[GetForLoopIndexA()]
        set udg_WhichElevatorB = udg_zElevatorsC[GetForLoopIndexA()]
        set udg_WhichHeightA = udg_zNewHeightsB[GetForLoopIndexA()]
        set udg_WhichHeightB = udg_zNewHeightsC[GetForLoopIndexA()]
        call ConditionalTriggerExecute( gg_trg_Elevator_Walls_Finish_Horizontal_One )
        // C / D
        set udg_WhichElevatorA = udg_zElevatorsC[GetForLoopIndexA()]
        set udg_WhichElevatorB = udg_zElevatorsD[GetForLoopIndexA()]
        set udg_WhichHeightA = udg_zNewHeightsC[GetForLoopIndexA()]
        set udg_WhichHeightB = udg_zNewHeightsD[GetForLoopIndexA()]
        call ConditionalTriggerExecute( gg_trg_Elevator_Walls_Finish_Horizontal_One )
        // D / Bottom
        set udg_WhichElevatorA = udg_zElevatorsD[GetForLoopIndexA()]
        set udg_WhichElevatorB = null
        set udg_WhichHeightA = udg_zNewHeightsD[GetForLoopIndexA()]
        set udg_WhichHeightB = udg_zHeightBottom[GetForLoopIndexA()]
        call ConditionalTriggerExecute( gg_trg_Elevator_Walls_Finish_Horizontal_One )
        set bj_forLoopAIndex = bj_forLoopAIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_Elevator_Walls_Finish_Horizontal takes nothing returns nothing
    set gg_trg_Elevator_Walls_Finish_Horizontal = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Elevator_Walls_Finish_Horizontal, function Trig_Elevator_Walls_Finish_Horizontal_Actions )
endfunction

//===========================================================================
// Trigger: Elevator Walls Finish Horizontal One
//===========================================================================
function Trig_Elevator_Walls_Finish_Horizontal_One_Func001C takes nothing returns boolean
    if ( ( udg_WhichElevatorA != null ) ) then
        return true
    endif
    if ( ( udg_WhichElevatorB != null ) ) then
        return true
    endif
    return false
endfunction

function Trig_Elevator_Walls_Finish_Horizontal_One_Conditions takes nothing returns boolean
    if ( not Trig_Elevator_Walls_Finish_Horizontal_One_Func001C() ) then
        return false
    endif
    return true
endfunction

function Trig_Elevator_Walls_Finish_Horizontal_One_Func002Func003C takes nothing returns boolean
    if ( not ( udg_WhichElevatorA != null ) ) then
        return false
    endif
    return true
endfunction

function Trig_Elevator_Walls_Finish_Horizontal_One_Func002Func004C takes nothing returns boolean
    if ( not ( udg_WhichElevatorA != null ) ) then
        return false
    endif
    return true
endfunction

function Trig_Elevator_Walls_Finish_Horizontal_One_Func002C takes nothing returns boolean
    if ( not ( udg_WhichHeightA == udg_WhichHeightB ) ) then
        return false
    endif
    return true
endfunction

function Trig_Elevator_Walls_Finish_Horizontal_One_Actions takes nothing returns nothing
    if ( Trig_Elevator_Walls_Finish_Horizontal_One_Func002C() ) then
        // Open
        if ( Trig_Elevator_Walls_Finish_Horizontal_One_Func002Func004C() ) then
            call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_SOUTH, udg_WhichElevatorA )
        else
            call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_NORTH, udg_WhichElevatorB )
        endif
    else
        // Close
        if ( Trig_Elevator_Walls_Finish_Horizontal_One_Func002Func003C() ) then
            call ChangeElevatorWalls( false, bj_ELEVATOR_WALL_TYPE_SOUTH, udg_WhichElevatorA )
        else
            call ChangeElevatorWalls( false, bj_ELEVATOR_WALL_TYPE_NORTH, udg_WhichElevatorB )
        endif
    endif
endfunction

//===========================================================================
function InitTrig_Elevator_Walls_Finish_Horizontal_One takes nothing returns nothing
    set gg_trg_Elevator_Walls_Finish_Horizontal_One = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Elevator_Walls_Finish_Horizontal_One, Condition( function Trig_Elevator_Walls_Finish_Horizontal_One_Conditions ) )
    call TriggerAddAction( gg_trg_Elevator_Walls_Finish_Horizontal_One, function Trig_Elevator_Walls_Finish_Horizontal_One_Actions )
endfunction

//===========================================================================
// Trigger: Cripple 01
//===========================================================================
function Trig_Cripple_01_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Arthas ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cripple_01_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call RemoveGuardPosition( gg_unit_nubr_0036 )
    call IssueTargetOrderBJ( gg_unit_nubr_0036, "cripple", udg_Arthas )
    call GroupAddUnitSimple( gg_unit_nubr_0036, udg_ElevatorBaddies )
endfunction

//===========================================================================
function InitTrig_Cripple_01 takes nothing returns nothing
    set gg_trg_Cripple_01 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Cripple_01, gg_rct_Cripple_Area_01 )
    call TriggerAddCondition( gg_trg_Cripple_01, Condition( function Trig_Cripple_01_Conditions ) )
    call TriggerAddAction( gg_trg_Cripple_01, function Trig_Cripple_01_Actions )
endfunction

//===========================================================================
// Trigger: Cripple 02
//===========================================================================
function Trig_Cripple_02_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Arthas ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cripple_02_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call RemoveGuardPosition( gg_unit_nubr_0015 )
    call IssueTargetOrderBJ( gg_unit_nubr_0015, "cripple", udg_Arthas )
    call GroupAddUnitSimple( gg_unit_nubr_0015, udg_ElevatorBaddies )
endfunction

//===========================================================================
function InitTrig_Cripple_02 takes nothing returns nothing
    set gg_trg_Cripple_02 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Cripple_02, gg_rct_Cripple_Area_02 )
    call TriggerAddCondition( gg_trg_Cripple_02, Condition( function Trig_Cripple_02_Conditions ) )
    call TriggerAddAction( gg_trg_Cripple_02, function Trig_Cripple_02_Actions )
endfunction

//===========================================================================
// Trigger: Two Plate Setup
//===========================================================================
function Trig_Two_Plate_Setup_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call ChangeElevatorWalls( false, bj_ELEVATOR_WALL_TYPE_SOUTH, gg_dest_DTrf_0243 )
    call ChangeElevatorHeight( gg_dest_DTrf_0243, 2 )
endfunction

//===========================================================================
function InitTrig_Two_Plate_Setup takes nothing returns nothing
    set gg_trg_Two_Plate_Setup = CreateTrigger(  )
    call TriggerRegisterTimerEventSingle( gg_trg_Two_Plate_Setup, 1.00 )
    call TriggerAddAction( gg_trg_Two_Plate_Setup, function Trig_Two_Plate_Setup_Actions )
endfunction

//===========================================================================
// Trigger: Plate 01 Unit Enters
//===========================================================================
function Trig_Plate_01_Unit_Enters_Conditions takes nothing returns boolean
    if ( not ( udg_TwoPlateSolved == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Plate_01_Unit_Enters_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.05 )
    call ConditionalTriggerExecute( gg_trg_Plate_01_Pushed )
    call ConditionalTriggerExecute( gg_trg_Two_Plate_Solution_Check )
endfunction

//===========================================================================
function InitTrig_Plate_01_Unit_Enters takes nothing returns nothing
    set gg_trg_Plate_01_Unit_Enters = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Plate_01_Unit_Enters, gg_rct_Plate_01_Orb )
    call TriggerAddCondition( gg_trg_Plate_01_Unit_Enters, Condition( function Trig_Plate_01_Unit_Enters_Conditions ) )
    call TriggerAddAction( gg_trg_Plate_01_Unit_Enters, function Trig_Plate_01_Unit_Enters_Actions )
endfunction

//===========================================================================
// Trigger: Plate 01 Unit Leaves
//===========================================================================
function Trig_Plate_01_Unit_Leaves_Conditions takes nothing returns boolean
    if ( not ( udg_TwoPlateSolved == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Plate_01_Unit_Leaves_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.05 )
    call ConditionalTriggerExecute( gg_trg_Plate_01_Released )
    call ConditionalTriggerExecute( gg_trg_Two_Plate_Solution_Check )
endfunction

//===========================================================================
function InitTrig_Plate_01_Unit_Leaves takes nothing returns nothing
    set gg_trg_Plate_01_Unit_Leaves = CreateTrigger(  )
    call TriggerRegisterLeaveRectSimple( gg_trg_Plate_01_Unit_Leaves, gg_rct_Plate_01_Orb )
    call TriggerAddCondition( gg_trg_Plate_01_Unit_Leaves, Condition( function Trig_Plate_01_Unit_Leaves_Conditions ) )
    call TriggerAddAction( gg_trg_Plate_01_Unit_Leaves, function Trig_Plate_01_Unit_Leaves_Actions )
endfunction

//===========================================================================
// Trigger: Plate 02 Unit Enters
//===========================================================================
function Trig_Plate_02_Unit_Enters_Conditions takes nothing returns boolean
    if ( not ( udg_TwoPlateSolved == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Plate_02_Unit_Enters_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.05 )
    call ConditionalTriggerExecute( gg_trg_Plate_02_Pushed )
    call ConditionalTriggerExecute( gg_trg_Two_Plate_Solution_Check )
endfunction

//===========================================================================
function InitTrig_Plate_02_Unit_Enters takes nothing returns nothing
    set gg_trg_Plate_02_Unit_Enters = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Plate_02_Unit_Enters, gg_rct_Plate_02_Orb )
    call TriggerAddCondition( gg_trg_Plate_02_Unit_Enters, Condition( function Trig_Plate_02_Unit_Enters_Conditions ) )
    call TriggerAddAction( gg_trg_Plate_02_Unit_Enters, function Trig_Plate_02_Unit_Enters_Actions )
endfunction

//===========================================================================
// Trigger: Plate 02 Unit Leaves
//===========================================================================
function Trig_Plate_02_Unit_Leaves_Conditions takes nothing returns boolean
    if ( not ( udg_TwoPlateSolved == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Plate_02_Unit_Leaves_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.05 )
    call ConditionalTriggerExecute( gg_trg_Plate_02_Released )
    call ConditionalTriggerExecute( gg_trg_Two_Plate_Solution_Check )
endfunction

//===========================================================================
function InitTrig_Plate_02_Unit_Leaves takes nothing returns nothing
    set gg_trg_Plate_02_Unit_Leaves = CreateTrigger(  )
    call TriggerRegisterLeaveRectSimple( gg_trg_Plate_02_Unit_Leaves, gg_rct_Plate_02_Orb )
    call TriggerAddCondition( gg_trg_Plate_02_Unit_Leaves, Condition( function Trig_Plate_02_Unit_Leaves_Conditions ) )
    call TriggerAddAction( gg_trg_Plate_02_Unit_Leaves, function Trig_Plate_02_Unit_Leaves_Actions )
endfunction

//===========================================================================
// Trigger: Two Plate Check
//===========================================================================
function Trig_Two_Plate_Check_Conditions takes nothing returns boolean
    if ( not ( udg_TwoPlateSolved == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Two_Plate_Check_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Plate_01_Pushed )
    call ConditionalTriggerExecute( gg_trg_Plate_01_Released )
    call ConditionalTriggerExecute( gg_trg_Plate_02_Pushed )
    call ConditionalTriggerExecute( gg_trg_Plate_02_Released )
    call ConditionalTriggerExecute( gg_trg_Two_Plate_Solution_Check )
endfunction

//===========================================================================
function InitTrig_Two_Plate_Check takes nothing returns nothing
    set gg_trg_Two_Plate_Check = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Two_Plate_Check, 0.50 )
    call TriggerAddCondition( gg_trg_Two_Plate_Check, Condition( function Trig_Two_Plate_Check_Conditions ) )
    call TriggerAddAction( gg_trg_Two_Plate_Check, function Trig_Two_Plate_Check_Actions )
endfunction

//===========================================================================
// Trigger: Plate 01 Pushed
//===========================================================================
function Trig_Plate_01_Pushed_Conditions takes nothing returns boolean
    if ( not ( udg_TwoPlateSolved == false ) ) then
        return false
    endif
    if ( not ( udg_TwoPlate01Down == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Plate_01_Pushed_Func004Func007C takes nothing returns boolean
    if ( ( udg_TempInteger >= 1 ) ) then
        return true
    endif
    if ( ( RandomItemInRectSimpleBJ(gg_rct_Plate_01_Orb) != null ) ) then
        return true
    endif
    return false
endfunction

function Trig_Plate_01_Pushed_Func004C takes nothing returns boolean
    if ( not Trig_Plate_01_Pushed_Func004Func007C() ) then
        return false
    endif
    return true
endfunction

function Trig_Plate_01_Pushed_Actions takes nothing returns nothing
    set udg_TempUnitGroup = GetUnitsInRectAll(gg_rct_Plate_01_Orb)
    set udg_TempInteger = CountUnitsInGroup(udg_TempUnitGroup)
    call DestroyGroup( udg_TempUnitGroup )
    if ( Trig_Plate_01_Pushed_Func004C() ) then
        set udg_TwoPlate01Down = true
        // Activate Plate
        call KillDestructable( gg_dest_DTfp_0005 )
        set udg_TempPoint = GetDestructableLoc(gg_dest_DTfp_0005)
        call PlaySoundAtPointBJ( udg_SoundPlates, 100, udg_TempPoint, 0 )
        call RemoveLocation( udg_TempPoint )
    else
    endif
endfunction

//===========================================================================
function InitTrig_Plate_01_Pushed takes nothing returns nothing
    set gg_trg_Plate_01_Pushed = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Plate_01_Pushed, Condition( function Trig_Plate_01_Pushed_Conditions ) )
    call TriggerAddAction( gg_trg_Plate_01_Pushed, function Trig_Plate_01_Pushed_Actions )
endfunction

//===========================================================================
// Trigger: Plate 01 Released
//===========================================================================
function Trig_Plate_01_Released_Conditions takes nothing returns boolean
    if ( not ( udg_TwoPlateSolved == false ) ) then
        return false
    endif
    if ( not ( udg_TwoPlate01Down == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Plate_01_Released_Func004C takes nothing returns boolean
    if ( not ( udg_TempInteger == 0 ) ) then
        return false
    endif
    if ( not ( RandomItemInRectSimpleBJ(gg_rct_Plate_01_Orb) == null ) ) then
        return false
    endif
    return true
endfunction

function Trig_Plate_01_Released_Actions takes nothing returns nothing
    set udg_TempUnitGroup = GetUnitsInRectAll(gg_rct_Plate_01_Orb)
    set udg_TempInteger = CountUnitsInGroup(udg_TempUnitGroup)
    call DestroyGroup( udg_TempUnitGroup )
    if ( Trig_Plate_01_Released_Func004C() ) then
        set udg_TwoPlate01Down = false
        // Activate Plate
        call DestructableRestoreLife( gg_dest_DTfp_0005, GetDestructableMaxLife(GetLastCreatedDestructable()), true )
        set udg_TempPoint = GetDestructableLoc(gg_dest_DTfp_0005)
        call PlaySoundAtPointBJ( udg_SoundPlates, 100, udg_TempPoint, 0 )
        call RemoveLocation( udg_TempPoint )
    else
    endif
endfunction

//===========================================================================
function InitTrig_Plate_01_Released takes nothing returns nothing
    set gg_trg_Plate_01_Released = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Plate_01_Released, Condition( function Trig_Plate_01_Released_Conditions ) )
    call TriggerAddAction( gg_trg_Plate_01_Released, function Trig_Plate_01_Released_Actions )
endfunction

//===========================================================================
// Trigger: Plate 02 Pushed
//===========================================================================
function Trig_Plate_02_Pushed_Conditions takes nothing returns boolean
    if ( not ( udg_TwoPlateSolved == false ) ) then
        return false
    endif
    if ( not ( udg_TwoPlate02Down == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Plate_02_Pushed_Func004Func007C takes nothing returns boolean
    if ( ( udg_TempInteger >= 1 ) ) then
        return true
    endif
    if ( ( RandomItemInRectSimpleBJ(gg_rct_Plate_02_Orb) != null ) ) then
        return true
    endif
    return false
endfunction

function Trig_Plate_02_Pushed_Func004C takes nothing returns boolean
    if ( not Trig_Plate_02_Pushed_Func004Func007C() ) then
        return false
    endif
    return true
endfunction

function Trig_Plate_02_Pushed_Actions takes nothing returns nothing
    set udg_TempUnitGroup = GetUnitsInRectAll(gg_rct_Plate_02_Orb)
    set udg_TempInteger = CountUnitsInGroup(udg_TempUnitGroup)
    call DestroyGroup( udg_TempUnitGroup )
    if ( Trig_Plate_02_Pushed_Func004C() ) then
        set udg_TwoPlate02Down = true
        // Activate Plate
        call KillDestructable( gg_dest_DTfp_0242 )
        set udg_TempPoint = GetDestructableLoc(gg_dest_DTfp_0242)
        call PlaySoundAtPointBJ( udg_SoundPlates, 100, udg_TempPoint, 0 )
        call RemoveLocation( udg_TempPoint )
    else
    endif
endfunction

//===========================================================================
function InitTrig_Plate_02_Pushed takes nothing returns nothing
    set gg_trg_Plate_02_Pushed = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Plate_02_Pushed, Condition( function Trig_Plate_02_Pushed_Conditions ) )
    call TriggerAddAction( gg_trg_Plate_02_Pushed, function Trig_Plate_02_Pushed_Actions )
endfunction

//===========================================================================
// Trigger: Plate 02 Released
//===========================================================================
function Trig_Plate_02_Released_Conditions takes nothing returns boolean
    if ( not ( udg_TwoPlateSolved == false ) ) then
        return false
    endif
    if ( not ( udg_TwoPlate02Down == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Plate_02_Released_Func004C takes nothing returns boolean
    if ( not ( udg_TempInteger == 0 ) ) then
        return false
    endif
    if ( not ( RandomItemInRectSimpleBJ(gg_rct_Plate_02_Orb) == null ) ) then
        return false
    endif
    return true
endfunction

function Trig_Plate_02_Released_Actions takes nothing returns nothing
    set udg_TempUnitGroup = GetUnitsInRectAll(gg_rct_Plate_02_Orb)
    set udg_TempInteger = CountUnitsInGroup(udg_TempUnitGroup)
    call DestroyGroup( udg_TempUnitGroup )
    if ( Trig_Plate_02_Released_Func004C() ) then
        set udg_TwoPlate02Down = false
        // Activate Plate
        call DestructableRestoreLife( gg_dest_DTfp_0242, GetDestructableMaxLife(GetLastCreatedDestructable()), true )
        set udg_TempPoint = GetDestructableLoc(gg_dest_DTfp_0242)
        call PlaySoundAtPointBJ( udg_SoundPlates, 100, udg_TempPoint, 0 )
        call RemoveLocation( udg_TempPoint )
    else
    endif
endfunction

//===========================================================================
function InitTrig_Plate_02_Released takes nothing returns nothing
    set gg_trg_Plate_02_Released = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Plate_02_Released, Condition( function Trig_Plate_02_Released_Conditions ) )
    call TriggerAddAction( gg_trg_Plate_02_Released, function Trig_Plate_02_Released_Actions )
endfunction

//===========================================================================
// Trigger: Two Plate Solution Check
//===========================================================================
function Trig_Two_Plate_Solution_Check_Conditions takes nothing returns boolean
    if ( not ( udg_TwoPlateSolved == false ) ) then
        return false
    endif
    if ( not ( udg_TwoPlate01Down == true ) ) then
        return false
    endif
    if ( not ( udg_TwoPlate02Down == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Two_Plate_Solution_Check_Actions takes nothing returns nothing
    set udg_TwoPlateSolved = true
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_SOUTH, gg_dest_DTrf_0243 )
    call ChangeElevatorHeight( gg_dest_DTrf_0243, 1 )
    call PlaySoundAtPointBJ( gg_snd_BattlenetBirth1, 100, GetDestructableLoc(gg_dest_DTrf_0243), 0 )
endfunction

//===========================================================================
function InitTrig_Two_Plate_Solution_Check takes nothing returns nothing
    set gg_trg_Two_Plate_Solution_Check = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Two_Plate_Solution_Check, Condition( function Trig_Two_Plate_Solution_Check_Conditions ) )
    call TriggerAddAction( gg_trg_Two_Plate_Solution_Check, function Trig_Two_Plate_Solution_Check_Actions )
endfunction

//===========================================================================
// Trigger: Ensnare
//===========================================================================
function Trig_Ensnare_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Arthas ) ) then
        return false
    endif
    return true
endfunction

function Trig_Ensnare_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call IssueTargetOrderBJ( gg_unit_nubr_0057, "ensnare", udg_Arthas )
    call TriggerSleepAction( 1.00 )
    set udg_TempPoint = GetRectCenter(gg_rct_VisibilityTwoPlatesArea)
    call IssuePointOrderLocBJ( gg_unit_n002_0020, "attack", udg_TempPoint )
    call IssuePointOrderLocBJ( gg_unit_n002_0056, "attack", udg_TempPoint )
    call RemoveLocation( udg_TempPoint )
endfunction

//===========================================================================
function InitTrig_Ensnare takes nothing returns nothing
    set gg_trg_Ensnare = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Ensnare, gg_rct_VisibilityTwoPlatesArea )
    call TriggerAddCondition( gg_trg_Ensnare, Condition( function Trig_Ensnare_Conditions ) )
    call TriggerAddAction( gg_trg_Ensnare, function Trig_Ensnare_Actions )
endfunction

//===========================================================================
// Trigger: Break Through Attack
//===========================================================================
function Trig_Break_Through_Attack_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'uloc' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Break_Through_Attack_Func013002 takes nothing returns nothing
    call KillDestructable( GetEnumDestructable() )
endfunction

function Trig_Break_Through_Attack_Func016002 takes nothing returns nothing
    call IssuePointOrderLocBJ( GetEnumUnit(), "attack", udg_TempPoint )
endfunction

function Trig_Break_Through_Attack_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Voiceover_Breaking_Through_Q, true )
    call KillDestructable( gg_dest_DTrc_0519 )
    call TriggerSleepAction( 0.75 )
    call KillDestructable( gg_dest_DTrc_0522 )
    call TriggerSleepAction( 0.75 )
    call KillDestructable( gg_dest_DTrc_0520 )
    call KillDestructable( gg_dest_DTrc_0521 )
    call TriggerSleepAction( 1.00 )
    call EnumDestructablesInRectAll( gg_rct_Rock_Break_Attack_Rocks, function Trig_Break_Through_Attack_Func013002 )
    set udg_TempPoint = GetRectCenter(gg_rct_Breaking_Through_Init_Area)
    set bj_wantDestroyGroup = true
    call ForGroupBJ( GetUnitsInRectAll(gg_rct_Rock_Break_Attack_Group), function Trig_Break_Through_Attack_Func016002 )
    call RemoveLocation( udg_TempPoint )
endfunction

//===========================================================================
function InitTrig_Break_Through_Attack takes nothing returns nothing
    set gg_trg_Break_Through_Attack = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Break_Through_Attack, gg_rct_Breaking_Through_Init_Area )
    call TriggerAddCondition( gg_trg_Break_Through_Attack, Condition( function Trig_Break_Through_Attack_Conditions ) )
    call TriggerAddAction( gg_trg_Break_Through_Attack, function Trig_Break_Through_Attack_Actions )
endfunction

//===========================================================================
// Trigger: Curse Attack
//===========================================================================
function Trig_Curse_Attack_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'uloc' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Curse_Attack_Func018002 takes nothing returns nothing
    call IssuePointOrderLocBJ( GetEnumUnit(), "attack", udg_TempPoint )
endfunction

function Trig_Curse_Attack_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 1.00 )
    call IssueTargetOrderBJ( gg_unit_nfot_0040, "curse", GroupPickRandomUnit(GetUnitsInRectOfPlayer(gg_rct_Curse_Area, udg_AP1_Player)) )
    call TriggerSleepAction( 0.10 )
    call IssueTargetOrderBJ( gg_unit_nfot_0040, "curse", GroupPickRandomUnit(GetUnitsInRectOfPlayer(gg_rct_Curse_Area, udg_AP1_Player)) )
    call TriggerSleepAction( 0.10 )
    call IssueTargetOrderBJ( gg_unit_nfot_0040, "curse", GroupPickRandomUnit(GetUnitsInRectOfPlayer(gg_rct_Curse_Area, udg_AP1_Player)) )
    call TriggerSleepAction( 1.00 )
    call IssueTargetOrderBJ( gg_unit_nfot_0040, "curse", GroupPickRandomUnit(GetUnitsInRectOfPlayer(gg_rct_Curse_Area, udg_AP1_Player)) )
    call TriggerSleepAction( 0.10 )
    call IssueTargetOrderBJ( gg_unit_nfot_0040, "curse", GroupPickRandomUnit(GetUnitsInRectOfPlayer(gg_rct_Curse_Area, udg_AP1_Player)) )
    call TriggerSleepAction( 0.10 )
    set udg_TempPoint = GetRectCenter(gg_rct_Curse_Area)
    set bj_wantDestroyGroup = true
    call ForGroupBJ( GetUnitsInRectOfPlayer(gg_rct_AttackMoveGroupNearEnd, udg_AP2_UnbrokenOnes), function Trig_Curse_Attack_Func018002 )
    call RemoveLocation( udg_TempPoint )
endfunction

//===========================================================================
function InitTrig_Curse_Attack takes nothing returns nothing
    set gg_trg_Curse_Attack = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Curse_Attack, gg_rct_Curse_Area )
    call TriggerAddCondition( gg_trg_Curse_Attack, Condition( function Trig_Curse_Attack_Conditions ) )
    call TriggerAddAction( gg_trg_Curse_Attack, function Trig_Curse_Attack_Actions )
endfunction

//===========================================================================
// Trigger: Curse Attacker Dies
//===========================================================================
function Trig_Curse_Attacker_Dies_Actions takes nothing returns nothing
    call TriggerSleepAction( 1.00 )
    call ConditionalTriggerExecute( gg_trg_Quake_03_Curse )
    call TriggerSleepAction( 2 )
    call QueuedTriggerAddBJ( gg_trg_Voiceover_Running_Out_of_Time_Q, true )
endfunction

//===========================================================================
function InitTrig_Curse_Attacker_Dies takes nothing returns nothing
    set gg_trg_Curse_Attacker_Dies = CreateTrigger(  )
    call TriggerRegisterUnitEvent( gg_trg_Curse_Attacker_Dies, gg_unit_nfot_0040, EVENT_UNIT_DEATH )
    call TriggerAddAction( gg_trg_Curse_Attacker_Dies, function Trig_Curse_Attacker_Dies_Actions )
endfunction

//===========================================================================
// Trigger: Final Area Earthquake Start
//===========================================================================
function Trig_Final_Area_Earthquake_Start_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'uloc' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Final_Area_Earthquake_Start_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call EnableTrigger( gg_trg_Quake_04_Final_Area )
endfunction

//===========================================================================
function InitTrig_Final_Area_Earthquake_Start takes nothing returns nothing
    set gg_trg_Final_Area_Earthquake_Start = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Final_Area_Earthquake_Start, gg_rct_Earthquake_Final_Area )
    call TriggerAddCondition( gg_trg_Final_Area_Earthquake_Start, Condition( function Trig_Final_Area_Earthquake_Start_Conditions ) )
    call TriggerAddAction( gg_trg_Final_Area_Earthquake_Start, function Trig_Final_Area_Earthquake_Start_Actions )
endfunction

//===========================================================================
// Trigger: Kill Final Guardians To Open Gate
//===========================================================================
function Trig_Kill_Final_Guardians_To_Open_Gate_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetDyingUnit(), udg_FinalGuardians) == true ) ) then
        return false
    endif
    if ( not ( IsUnitGroupDeadBJ(udg_FinalGuardians) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Kill_Final_Guardians_To_Open_Gate_Actions takes nothing returns nothing
    call ModifyGateBJ( bj_GATEOPERATION_OPEN, gg_dest_ITg3_0265 )
endfunction

//===========================================================================
function InitTrig_Kill_Final_Guardians_To_Open_Gate takes nothing returns nothing
    set gg_trg_Kill_Final_Guardians_To_Open_Gate = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Kill_Final_Guardians_To_Open_Gate, Player(1), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Kill_Final_Guardians_To_Open_Gate, Condition( function Trig_Kill_Final_Guardians_To_Open_Gate_Conditions ) )
    call TriggerAddAction( gg_trg_Kill_Final_Guardians_To_Open_Gate, function Trig_Kill_Final_Guardians_To_Open_Gate_Actions )
endfunction

//===========================================================================
// Trigger: RevealerSideFlame
//===========================================================================
function Trig_RevealerSideFlame_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == Player(0) ) ) then
        return false
    endif
    return true
endfunction

function Trig_RevealerSideFlame_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CreateFogModifierRectBJ( true, udg_AP1_Player, FOG_OF_WAR_VISIBLE, gg_rct_VisibilitySideFlameReveal )
    set udg_VisibilitySideFlame = GetLastCreatedFogModifier()
endfunction

//===========================================================================
function InitTrig_RevealerSideFlame takes nothing returns nothing
    set gg_trg_RevealerSideFlame = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_RevealerSideFlame, gg_rct_VisibilitySideFlameArea )
    call TriggerAddCondition( gg_trg_RevealerSideFlame, Condition( function Trig_RevealerSideFlame_Conditions ) )
    call TriggerAddAction( gg_trg_RevealerSideFlame, function Trig_RevealerSideFlame_Actions )
endfunction

//===========================================================================
// Trigger: RevealerGroupAddSideFlame
//===========================================================================
function Trig_RevealerGroupAddSideFlame_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == Player(0) ) ) then
        return false
    endif
    return true
endfunction

function Trig_RevealerGroupAddSideFlame_Actions takes nothing returns nothing
    call GroupAddUnitSimple( GetEnteringUnit(), udg_SideFlameRevealerGroup )
    call ConditionalTriggerExecute( gg_trg_RevealerCheckSideFlame )
endfunction

//===========================================================================
function InitTrig_RevealerGroupAddSideFlame takes nothing returns nothing
    set gg_trg_RevealerGroupAddSideFlame = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_RevealerGroupAddSideFlame, gg_rct_VisibilitySideFlameArea )
    call TriggerAddCondition( gg_trg_RevealerGroupAddSideFlame, Condition( function Trig_RevealerGroupAddSideFlame_Conditions ) )
    call TriggerAddAction( gg_trg_RevealerGroupAddSideFlame, function Trig_RevealerGroupAddSideFlame_Actions )
endfunction

//===========================================================================
// Trigger: RevealerGroupSubtractSideFlame
//===========================================================================
function Trig_RevealerGroupSubtractSideFlame_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetLeavingUnit()) == Player(0) ) ) then
        return false
    endif
    return true
endfunction

function Trig_RevealerGroupSubtractSideFlame_Actions takes nothing returns nothing
    call GroupRemoveUnitSimple( GetLeavingUnit(), udg_SideFlameRevealerGroup )
    call ConditionalTriggerExecute( gg_trg_RevealerCheckSideFlame )
endfunction

//===========================================================================
function InitTrig_RevealerGroupSubtractSideFlame takes nothing returns nothing
    set gg_trg_RevealerGroupSubtractSideFlame = CreateTrigger(  )
    call TriggerRegisterLeaveRectSimple( gg_trg_RevealerGroupSubtractSideFlame, gg_rct_VisibilitySideFlameArea )
    call TriggerAddCondition( gg_trg_RevealerGroupSubtractSideFlame, Condition( function Trig_RevealerGroupSubtractSideFlame_Conditions ) )
    call TriggerAddAction( gg_trg_RevealerGroupSubtractSideFlame, function Trig_RevealerGroupSubtractSideFlame_Actions )
endfunction

//===========================================================================
// Trigger: RevealerCheckSideFlame
//===========================================================================
function Trig_RevealerCheckSideFlame_Func001001 takes nothing returns boolean
    return ( CountUnitsInGroup(udg_SideFlameRevealerGroup) >= 1 )
endfunction

function Trig_RevealerCheckSideFlame_Actions takes nothing returns nothing
    if ( Trig_RevealerCheckSideFlame_Func001001() ) then
        call FogModifierStart( udg_VisibilitySideFlame )
    else
        call FogModifierStop( udg_VisibilitySideFlame )
    endif
endfunction

//===========================================================================
function InitTrig_RevealerCheckSideFlame takes nothing returns nothing
    set gg_trg_RevealerCheckSideFlame = CreateTrigger(  )
    call TriggerAddAction( gg_trg_RevealerCheckSideFlame, function Trig_RevealerCheckSideFlame_Actions )
endfunction

//===========================================================================
// Trigger: RevealerSideFlameSafety
//===========================================================================
function Trig_RevealerSideFlameSafety_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetDyingUnit(), udg_SideFlameRevealerGroup) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_RevealerSideFlameSafety_Actions takes nothing returns nothing
    call GroupRemoveUnitSimple( GetDyingUnit(), udg_SideFlameRevealerGroup )
    call ConditionalTriggerExecute( gg_trg_RevealerCheckSideFlame )
endfunction

//===========================================================================
function InitTrig_RevealerSideFlameSafety takes nothing returns nothing
    set gg_trg_RevealerSideFlameSafety = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_RevealerSideFlameSafety, Player(0), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_RevealerSideFlameSafety, Condition( function Trig_RevealerSideFlameSafety_Conditions ) )
    call TriggerAddAction( gg_trg_RevealerSideFlameSafety, function Trig_RevealerSideFlameSafety_Actions )
endfunction

//===========================================================================
// Trigger: RevealerSideGeyserFlame
//===========================================================================
function Trig_RevealerSideGeyserFlame_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == Player(0) ) ) then
        return false
    endif
    return true
endfunction

function Trig_RevealerSideGeyserFlame_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CreateFogModifierRectBJ( true, udg_AP1_Player, FOG_OF_WAR_VISIBLE, gg_rct_Flame_Geyser_Puzzle_Area )
    set udg_VisibilitySideFlame = GetLastCreatedFogModifier()
endfunction

//===========================================================================
function InitTrig_RevealerSideGeyserFlame takes nothing returns nothing
    set gg_trg_RevealerSideGeyserFlame = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_RevealerSideGeyserFlame, gg_rct_Flame_Geyser_Puzzle_Area )
    call TriggerAddCondition( gg_trg_RevealerSideGeyserFlame, Condition( function Trig_RevealerSideGeyserFlame_Conditions ) )
    call TriggerAddAction( gg_trg_RevealerSideGeyserFlame, function Trig_RevealerSideGeyserFlame_Actions )
endfunction

//===========================================================================
// Trigger: RevealerGroupAddGeyserFlame
//===========================================================================
function Trig_RevealerGroupAddGeyserFlame_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == Player(0) ) ) then
        return false
    endif
    return true
endfunction

function Trig_RevealerGroupAddGeyserFlame_Actions takes nothing returns nothing
    call GroupAddUnitSimple( GetEnteringUnit(), udg_GeyserFlameRevealerGroup )
    call ConditionalTriggerExecute( gg_trg_RevealerCheckGeyserFlame )
endfunction

//===========================================================================
function InitTrig_RevealerGroupAddGeyserFlame takes nothing returns nothing
    set gg_trg_RevealerGroupAddGeyserFlame = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_RevealerGroupAddGeyserFlame, gg_rct_Flame_Geyser_Puzzle_Area )
    call TriggerAddCondition( gg_trg_RevealerGroupAddGeyserFlame, Condition( function Trig_RevealerGroupAddGeyserFlame_Conditions ) )
    call TriggerAddAction( gg_trg_RevealerGroupAddGeyserFlame, function Trig_RevealerGroupAddGeyserFlame_Actions )
endfunction

//===========================================================================
// Trigger: RevealerGroupSubtractGeyserFlame
//===========================================================================
function Trig_RevealerGroupSubtractGeyserFlame_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetLeavingUnit()) == Player(0) ) ) then
        return false
    endif
    return true
endfunction

function Trig_RevealerGroupSubtractGeyserFlame_Actions takes nothing returns nothing
    call GroupRemoveUnitSimple( GetLeavingUnit(), udg_GeyserFlameRevealerGroup )
    call ConditionalTriggerExecute( gg_trg_RevealerCheckGeyserFlame )
endfunction

//===========================================================================
function InitTrig_RevealerGroupSubtractGeyserFlame takes nothing returns nothing
    set gg_trg_RevealerGroupSubtractGeyserFlame = CreateTrigger(  )
    call TriggerRegisterLeaveRectSimple( gg_trg_RevealerGroupSubtractGeyserFlame, gg_rct_Flame_Geyser_Puzzle_Area )
    call TriggerAddCondition( gg_trg_RevealerGroupSubtractGeyserFlame, Condition( function Trig_RevealerGroupSubtractGeyserFlame_Conditions ) )
    call TriggerAddAction( gg_trg_RevealerGroupSubtractGeyserFlame, function Trig_RevealerGroupSubtractGeyserFlame_Actions )
endfunction

//===========================================================================
// Trigger: RevealerCheckGeyserFlame
//===========================================================================
function Trig_RevealerCheckGeyserFlame_Func001001 takes nothing returns boolean
    return ( CountUnitsInGroup(udg_GeyserFlameRevealerGroup) >= 1 )
endfunction

function Trig_RevealerCheckGeyserFlame_Actions takes nothing returns nothing
    if ( Trig_RevealerCheckGeyserFlame_Func001001() ) then
        call FogModifierStart( udg_VisibilityGeyserFlame )
    else
        call FogModifierStop( udg_VisibilityGeyserFlame )
    endif
endfunction

//===========================================================================
function InitTrig_RevealerCheckGeyserFlame takes nothing returns nothing
    set gg_trg_RevealerCheckGeyserFlame = CreateTrigger(  )
    call TriggerAddAction( gg_trg_RevealerCheckGeyserFlame, function Trig_RevealerCheckGeyserFlame_Actions )
endfunction

//===========================================================================
// Trigger: RevealerSideGeyserFlameSafety
//===========================================================================
function Trig_RevealerSideGeyserFlameSafety_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetDyingUnit(), udg_GeyserFlameRevealerGroup) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_RevealerSideGeyserFlameSafety_Actions takes nothing returns nothing
    call GroupRemoveUnitSimple( GetDyingUnit(), udg_GeyserFlameRevealerGroup )
    call ConditionalTriggerExecute( gg_trg_RevealerCheckGeyserFlame )
endfunction

//===========================================================================
function InitTrig_RevealerSideGeyserFlameSafety takes nothing returns nothing
    set gg_trg_RevealerSideGeyserFlameSafety = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_RevealerSideGeyserFlameSafety, Player(0), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_RevealerSideGeyserFlameSafety, Condition( function Trig_RevealerSideGeyserFlameSafety_Conditions ) )
    call TriggerAddAction( gg_trg_RevealerSideGeyserFlameSafety, function Trig_RevealerSideGeyserFlameSafety_Actions )
endfunction

//===========================================================================
// Trigger: RevealerBigElevator
//===========================================================================
function Trig_RevealerBigElevator_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == Player(0) ) ) then
        return false
    endif
    return true
endfunction

function Trig_RevealerBigElevator_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CreateFogModifierRectBJ( true, udg_AP1_Player, FOG_OF_WAR_VISIBLE, gg_rct_VisibilityBigElevatorArea )
    set udg_VisibilityBigElevator = GetLastCreatedFogModifier()
endfunction

//===========================================================================
function InitTrig_RevealerBigElevator takes nothing returns nothing
    set gg_trg_RevealerBigElevator = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_RevealerBigElevator, gg_rct_VisibilityBigElevatorArea )
    call TriggerAddCondition( gg_trg_RevealerBigElevator, Condition( function Trig_RevealerBigElevator_Conditions ) )
    call TriggerAddAction( gg_trg_RevealerBigElevator, function Trig_RevealerBigElevator_Actions )
endfunction

//===========================================================================
// Trigger: RevealerGroupAddBigElevator
//===========================================================================
function Trig_RevealerGroupAddBigElevator_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == Player(0) ) ) then
        return false
    endif
    return true
endfunction

function Trig_RevealerGroupAddBigElevator_Actions takes nothing returns nothing
    call GroupAddUnitSimple( GetEnteringUnit(), udg_BigElevatorRevealerGroup )
    call ConditionalTriggerExecute( gg_trg_RevealerCheckBigElevator )
endfunction

//===========================================================================
function InitTrig_RevealerGroupAddBigElevator takes nothing returns nothing
    set gg_trg_RevealerGroupAddBigElevator = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_RevealerGroupAddBigElevator, gg_rct_VisibilityBigElevatorArea )
    call TriggerAddCondition( gg_trg_RevealerGroupAddBigElevator, Condition( function Trig_RevealerGroupAddBigElevator_Conditions ) )
    call TriggerAddAction( gg_trg_RevealerGroupAddBigElevator, function Trig_RevealerGroupAddBigElevator_Actions )
endfunction

//===========================================================================
// Trigger: RevealerGroupSubtractBigElevator
//===========================================================================
function Trig_RevealerGroupSubtractBigElevator_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetLeavingUnit()) == Player(0) ) ) then
        return false
    endif
    return true
endfunction

function Trig_RevealerGroupSubtractBigElevator_Actions takes nothing returns nothing
    call GroupRemoveUnitSimple( GetLeavingUnit(), udg_BigElevatorRevealerGroup )
    call ConditionalTriggerExecute( gg_trg_RevealerCheckBigElevator )
endfunction

//===========================================================================
function InitTrig_RevealerGroupSubtractBigElevator takes nothing returns nothing
    set gg_trg_RevealerGroupSubtractBigElevator = CreateTrigger(  )
    call TriggerRegisterLeaveRectSimple( gg_trg_RevealerGroupSubtractBigElevator, gg_rct_VisibilityBigElevatorArea )
    call TriggerAddCondition( gg_trg_RevealerGroupSubtractBigElevator, Condition( function Trig_RevealerGroupSubtractBigElevator_Conditions ) )
    call TriggerAddAction( gg_trg_RevealerGroupSubtractBigElevator, function Trig_RevealerGroupSubtractBigElevator_Actions )
endfunction

//===========================================================================
// Trigger: RevealerCheckBigElevator
//===========================================================================
function Trig_RevealerCheckBigElevator_Func001001 takes nothing returns boolean
    return ( CountUnitsInGroup(udg_BigElevatorRevealerGroup) >= 1 )
endfunction

function Trig_RevealerCheckBigElevator_Actions takes nothing returns nothing
    if ( Trig_RevealerCheckBigElevator_Func001001() ) then
        call FogModifierStart( udg_VisibilityBigElevator )
    else
        call FogModifierStop( udg_VisibilityBigElevator )
    endif
endfunction

//===========================================================================
function InitTrig_RevealerCheckBigElevator takes nothing returns nothing
    set gg_trg_RevealerCheckBigElevator = CreateTrigger(  )
    call TriggerAddAction( gg_trg_RevealerCheckBigElevator, function Trig_RevealerCheckBigElevator_Actions )
endfunction

//===========================================================================
// Trigger: RevealerSideBigElevatorSafety
//===========================================================================
function Trig_RevealerSideBigElevatorSafety_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetDyingUnit(), udg_BigElevatorRevealerGroup) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_RevealerSideBigElevatorSafety_Actions takes nothing returns nothing
    call GroupRemoveUnitSimple( GetDyingUnit(), udg_BigElevatorRevealerGroup )
    call ConditionalTriggerExecute( gg_trg_RevealerCheckBigElevator )
endfunction

//===========================================================================
function InitTrig_RevealerSideBigElevatorSafety takes nothing returns nothing
    set gg_trg_RevealerSideBigElevatorSafety = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_RevealerSideBigElevatorSafety, Player(0), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_RevealerSideBigElevatorSafety, Condition( function Trig_RevealerSideBigElevatorSafety_Conditions ) )
    call TriggerAddAction( gg_trg_RevealerSideBigElevatorSafety, function Trig_RevealerSideBigElevatorSafety_Actions )
endfunction

//===========================================================================
// Trigger: RevealerTwoPlates
//===========================================================================
function Trig_RevealerTwoPlates_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == Player(0) ) ) then
        return false
    endif
    return true
endfunction

function Trig_RevealerTwoPlates_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CreateFogModifierRectBJ( true, udg_AP1_Player, FOG_OF_WAR_VISIBLE, gg_rct_VisibilityTwoPlatesArea )
    set udg_VisibilityTwoPlates = GetLastCreatedFogModifier()
endfunction

//===========================================================================
function InitTrig_RevealerTwoPlates takes nothing returns nothing
    set gg_trg_RevealerTwoPlates = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_RevealerTwoPlates, gg_rct_VisibilityTwoPlatesArea )
    call TriggerAddCondition( gg_trg_RevealerTwoPlates, Condition( function Trig_RevealerTwoPlates_Conditions ) )
    call TriggerAddAction( gg_trg_RevealerTwoPlates, function Trig_RevealerTwoPlates_Actions )
endfunction

//===========================================================================
// Trigger: RevealerGroupAddTwoPlates
//===========================================================================
function Trig_RevealerGroupAddTwoPlates_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == Player(0) ) ) then
        return false
    endif
    return true
endfunction

function Trig_RevealerGroupAddTwoPlates_Actions takes nothing returns nothing
    call GroupAddUnitSimple( GetEnteringUnit(), udg_TwoPlatesRevealerGroup )
    call ConditionalTriggerExecute( gg_trg_RevealerCheckTwoPlates )
endfunction

//===========================================================================
function InitTrig_RevealerGroupAddTwoPlates takes nothing returns nothing
    set gg_trg_RevealerGroupAddTwoPlates = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_RevealerGroupAddTwoPlates, gg_rct_VisibilityTwoPlatesArea )
    call TriggerAddCondition( gg_trg_RevealerGroupAddTwoPlates, Condition( function Trig_RevealerGroupAddTwoPlates_Conditions ) )
    call TriggerAddAction( gg_trg_RevealerGroupAddTwoPlates, function Trig_RevealerGroupAddTwoPlates_Actions )
endfunction

//===========================================================================
// Trigger: RevealerGroupSubtractTwoPlates
//===========================================================================
function Trig_RevealerGroupSubtractTwoPlates_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetLeavingUnit()) == Player(0) ) ) then
        return false
    endif
    return true
endfunction

function Trig_RevealerGroupSubtractTwoPlates_Actions takes nothing returns nothing
    call GroupRemoveUnitSimple( GetLeavingUnit(), udg_TwoPlatesRevealerGroup )
    call ConditionalTriggerExecute( gg_trg_RevealerCheckTwoPlates )
endfunction

//===========================================================================
function InitTrig_RevealerGroupSubtractTwoPlates takes nothing returns nothing
    set gg_trg_RevealerGroupSubtractTwoPlates = CreateTrigger(  )
    call TriggerRegisterLeaveRectSimple( gg_trg_RevealerGroupSubtractTwoPlates, gg_rct_VisibilityTwoPlatesArea )
    call TriggerAddCondition( gg_trg_RevealerGroupSubtractTwoPlates, Condition( function Trig_RevealerGroupSubtractTwoPlates_Conditions ) )
    call TriggerAddAction( gg_trg_RevealerGroupSubtractTwoPlates, function Trig_RevealerGroupSubtractTwoPlates_Actions )
endfunction

//===========================================================================
// Trigger: RevealerCheckTwoPlates
//===========================================================================
function Trig_RevealerCheckTwoPlates_Func001001 takes nothing returns boolean
    return ( CountUnitsInGroup(udg_TwoPlatesRevealerGroup) >= 1 )
endfunction

function Trig_RevealerCheckTwoPlates_Actions takes nothing returns nothing
    if ( Trig_RevealerCheckTwoPlates_Func001001() ) then
        call FogModifierStart( udg_VisibilityTwoPlates )
    else
        call FogModifierStop( udg_VisibilityTwoPlates )
    endif
endfunction

//===========================================================================
function InitTrig_RevealerCheckTwoPlates takes nothing returns nothing
    set gg_trg_RevealerCheckTwoPlates = CreateTrigger(  )
    call TriggerAddAction( gg_trg_RevealerCheckTwoPlates, function Trig_RevealerCheckTwoPlates_Actions )
endfunction

//===========================================================================
// Trigger: RevealerSideTwoPlatesSafty
//===========================================================================
function Trig_RevealerSideTwoPlatesSafty_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetDyingUnit(), udg_TwoPlatesRevealerGroup) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_RevealerSideTwoPlatesSafty_Actions takes nothing returns nothing
    call GroupRemoveUnitSimple( GetDyingUnit(), udg_TwoPlatesRevealerGroup )
    call ConditionalTriggerExecute( gg_trg_RevealerCheckTwoPlates )
endfunction

//===========================================================================
function InitTrig_RevealerSideTwoPlatesSafty takes nothing returns nothing
    set gg_trg_RevealerSideTwoPlatesSafty = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_RevealerSideTwoPlatesSafty, Player(0), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_RevealerSideTwoPlatesSafty, Condition( function Trig_RevealerSideTwoPlatesSafty_Conditions ) )
    call TriggerAddAction( gg_trg_RevealerSideTwoPlatesSafty, function Trig_RevealerSideTwoPlatesSafty_Actions )
endfunction

//===========================================================================
// Trigger: RevealerMage
//===========================================================================
function Trig_RevealerMage_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == Player(0) ) ) then
        return false
    endif
    return true
endfunction

function Trig_RevealerMage_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CreateFogModifierRectBJ( true, udg_AP1_Player, FOG_OF_WAR_VISIBLE, gg_rct_VisibilityMageAreaReveal )
    set udg_VisibilityMage = GetLastCreatedFogModifier()
endfunction

//===========================================================================
function InitTrig_RevealerMage takes nothing returns nothing
    set gg_trg_RevealerMage = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_RevealerMage, gg_rct_VisibilityMageAreaActivate )
    call TriggerAddCondition( gg_trg_RevealerMage, Condition( function Trig_RevealerMage_Conditions ) )
    call TriggerAddAction( gg_trg_RevealerMage, function Trig_RevealerMage_Actions )
endfunction

//===========================================================================
// Trigger: RevealerGroupAddMage
//===========================================================================
function Trig_RevealerGroupAddMage_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == Player(0) ) ) then
        return false
    endif
    return true
endfunction

function Trig_RevealerGroupAddMage_Actions takes nothing returns nothing
    call GroupAddUnitSimple( GetEnteringUnit(), udg_MageRevealerGroup )
    call ConditionalTriggerExecute( gg_trg_RevealerCheckMage )
endfunction

//===========================================================================
function InitTrig_RevealerGroupAddMage takes nothing returns nothing
    set gg_trg_RevealerGroupAddMage = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_RevealerGroupAddMage, gg_rct_VisibilityMageAreaActivate )
    call TriggerAddCondition( gg_trg_RevealerGroupAddMage, Condition( function Trig_RevealerGroupAddMage_Conditions ) )
    call TriggerAddAction( gg_trg_RevealerGroupAddMage, function Trig_RevealerGroupAddMage_Actions )
endfunction

//===========================================================================
// Trigger: RevealerGroupSubtractMage
//===========================================================================
function Trig_RevealerGroupSubtractMage_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetLeavingUnit()) == Player(0) ) ) then
        return false
    endif
    return true
endfunction

function Trig_RevealerGroupSubtractMage_Actions takes nothing returns nothing
    call GroupRemoveUnitSimple( GetLeavingUnit(), udg_MageRevealerGroup )
    call ConditionalTriggerExecute( gg_trg_RevealerCheckMage )
endfunction

//===========================================================================
function InitTrig_RevealerGroupSubtractMage takes nothing returns nothing
    set gg_trg_RevealerGroupSubtractMage = CreateTrigger(  )
    call TriggerRegisterLeaveRectSimple( gg_trg_RevealerGroupSubtractMage, gg_rct_VisibilityMageAreaActivate )
    call TriggerAddCondition( gg_trg_RevealerGroupSubtractMage, Condition( function Trig_RevealerGroupSubtractMage_Conditions ) )
    call TriggerAddAction( gg_trg_RevealerGroupSubtractMage, function Trig_RevealerGroupSubtractMage_Actions )
endfunction

//===========================================================================
// Trigger: RevealerCheckMage
//===========================================================================
function Trig_RevealerCheckMage_Func001001 takes nothing returns boolean
    return ( CountUnitsInGroup(udg_MageRevealerGroup) >= 1 )
endfunction

function Trig_RevealerCheckMage_Actions takes nothing returns nothing
    if ( Trig_RevealerCheckMage_Func001001() ) then
        call FogModifierStart( udg_VisibilityMage )
    else
        call FogModifierStop( udg_VisibilityMage )
    endif
endfunction

//===========================================================================
function InitTrig_RevealerCheckMage takes nothing returns nothing
    set gg_trg_RevealerCheckMage = CreateTrigger(  )
    call TriggerAddAction( gg_trg_RevealerCheckMage, function Trig_RevealerCheckMage_Actions )
endfunction

//===========================================================================
// Trigger: RevealerSideMageSafety
//===========================================================================
function Trig_RevealerSideMageSafety_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetDyingUnit(), udg_MageRevealerGroup) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_RevealerSideMageSafety_Actions takes nothing returns nothing
    call GroupRemoveUnitSimple( GetDyingUnit(), udg_MageRevealerGroup )
    call ConditionalTriggerExecute( gg_trg_RevealerCheckMage )
endfunction

//===========================================================================
function InitTrig_RevealerSideMageSafety takes nothing returns nothing
    set gg_trg_RevealerSideMageSafety = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_RevealerSideMageSafety, Player(0), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_RevealerSideMageSafety, Condition( function Trig_RevealerSideMageSafety_Conditions ) )
    call TriggerAddAction( gg_trg_RevealerSideMageSafety, function Trig_RevealerSideMageSafety_Actions )
endfunction

//===========================================================================
// Trigger: Dust FX Intro
//
// Note that this does not contain conditionals because we continue to use this trigger after the cinematic finishes.
//===========================================================================
function Trig_Dust_FX_Intro_Actions takes nothing returns nothing
    call SetDoodadAnimationRectBJ( "stand 2", 'ZZcd', gg_rct_Dust_Effect_Area_01 )
    call SetDoodadAnimationRectBJ( "stand 2", 'ZZcd', gg_rct_Dust_Effect_Area_02 )
    call TriggerSleepAction( 0.20 )
    call SetDoodadAnimationRectBJ( "stand 2", 'ZZcd', gg_rct_Dust_Effect_Area_01 )
    call SetDoodadAnimationRectBJ( "stand 2", 'ZZcd', gg_rct_Dust_Effect_Area_02 )
    call TriggerSleepAction( 0.20 )
    call SetDoodadAnimationRectBJ( "stand 2", 'ZZcd', gg_rct_Dust_Effect_Area_01 )
    call SetDoodadAnimationRectBJ( "stand 2", 'ZZcd', gg_rct_Dust_Effect_Area_02 )
    call TriggerSleepAction( 0.20 )
    call SetDoodadAnimationRectBJ( "stand 2", 'ZZcd', gg_rct_Dust_Effect_Area_01 )
    call SetDoodadAnimationRectBJ( "stand 2", 'ZZcd', gg_rct_Dust_Effect_Area_02 )
    call TriggerSleepAction( 0.20 )
    call SetDoodadAnimationRectBJ( "death", 'ZZcd', gg_rct_Dust_Effect_Area_01 )
    call SetDoodadAnimationRectBJ( "death", 'ZZcd', gg_rct_Dust_Effect_Area_02 )
endfunction

//===========================================================================
function InitTrig_Dust_FX_Intro takes nothing returns nothing
    set gg_trg_Dust_FX_Intro = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Dust_FX_Intro, function Trig_Dust_FX_Intro_Actions )
endfunction

//===========================================================================
// Trigger: Dust FX Fountain of Health
//
// Note that this does not contain conditionals because we continue to use this trigger after the cinematic finishes.
//===========================================================================
function Trig_Dust_FX_Fountain_of_Health_Actions takes nothing returns nothing
    call SetDoodadAnimationRectBJ( "stand 2", 'ZZcd', gg_rct_Dust_Fountain_Area )
    call TriggerSleepAction( 0.20 )
    call SetDoodadAnimationRectBJ( "stand 2", 'ZZcd', gg_rct_Dust_Fountain_Area )
    call TriggerSleepAction( 0.20 )
    call SetDoodadAnimationRectBJ( "stand 2", 'ZZcd', gg_rct_Dust_Fountain_Area )
endfunction

//===========================================================================
function InitTrig_Dust_FX_Fountain_of_Health takes nothing returns nothing
    set gg_trg_Dust_FX_Fountain_of_Health = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Dust_FX_Fountain_of_Health, function Trig_Dust_FX_Fountain_of_Health_Actions )
endfunction

//===========================================================================
// Trigger: Dust FX Cave Exit
//
// Note that this does not contain conditionals because we continue to use this trigger after the cinematic finishes.
//===========================================================================
function Trig_Dust_FX_Cave_Exit_Actions takes nothing returns nothing
    call SetDoodadAnimationRectBJ( "stand 2", 'ZZcd', gg_rct_Earthquake02Area )
    call TriggerSleepAction( 0.20 )
    call SetDoodadAnimationRectBJ( "stand 2", 'ZZcd', gg_rct_Earthquake02Area )
    call TriggerSleepAction( 0.20 )
    call SetDoodadAnimationRectBJ( "stand 2", 'ZZcd', gg_rct_Earthquake02Area )
endfunction

//===========================================================================
function InitTrig_Dust_FX_Cave_Exit takes nothing returns nothing
    set gg_trg_Dust_FX_Cave_Exit = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Dust_FX_Cave_Exit, function Trig_Dust_FX_Cave_Exit_Actions )
endfunction

//===========================================================================
// Trigger: Dust FX Curse
//
// Note that this does not contain conditionals because we continue to use this trigger after the cinematic finishes.
//===========================================================================
function Trig_Dust_FX_Curse_Actions takes nothing returns nothing
    call SetDoodadAnimationRectBJ( "stand 2", 'ZZcd', gg_rct_Curse_Area )
    call TriggerSleepAction( 0.20 )
    call SetDoodadAnimationRectBJ( "stand 2", 'ZZcd', gg_rct_Curse_Area )
    call TriggerSleepAction( 0.20 )
    call SetDoodadAnimationRectBJ( "stand 2", 'ZZcd', gg_rct_Curse_Area )
endfunction

//===========================================================================
function InitTrig_Dust_FX_Curse takes nothing returns nothing
    set gg_trg_Dust_FX_Curse = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Dust_FX_Curse, function Trig_Dust_FX_Curse_Actions )
endfunction

//===========================================================================
// Trigger: Dust FX Final Area
//
// Note that this does not contain conditionals because we continue to use this trigger after the cinematic finishes.
//===========================================================================
function Trig_Dust_FX_Final_Area_Actions takes nothing returns nothing
    call SetDoodadAnimationRectBJ( "stand 2", 'ZZcd', gg_rct_Earthquake_Final_Area )
    call TriggerSleepAction( 0.20 )
    call SetDoodadAnimationRectBJ( "stand 2", 'ZZcd', gg_rct_Earthquake_Final_Area )
    call TriggerSleepAction( 0.20 )
    call SetDoodadAnimationRectBJ( "stand 2", 'ZZcd', gg_rct_Earthquake_Final_Area )
    call TriggerSleepAction( 0.20 )
    call SetDoodadAnimationRectBJ( "stand 2", 'ZZcd', gg_rct_Earthquake_Final_Area )
endfunction

//===========================================================================
function InitTrig_Dust_FX_Final_Area takes nothing returns nothing
    set gg_trg_Dust_FX_Final_Area = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Dust_FX_Final_Area, function Trig_Dust_FX_Final_Area_Actions )
endfunction

//===========================================================================
// Trigger: Lever Flame Trap Enter
//===========================================================================
function Trig_Lever_Flame_Trap_Enter_Actions takes nothing returns nothing
    call ModifyGateBJ( bj_GATEOPERATION_OPEN, gg_dest_ITg3_0322 )
    set udg_TempPoint = GetDestructableLoc(gg_dest_ITg3_0002)
    call PlaySoundAtPointBJ( udg_SoundDoorOpening, 100, udg_TempPoint, 0 )
    call RemoveLocation( udg_TempPoint )
endfunction

//===========================================================================
function InitTrig_Lever_Flame_Trap_Enter takes nothing returns nothing
    set gg_trg_Lever_Flame_Trap_Enter = CreateTrigger(  )
    call TriggerRegisterDeathEvent( gg_trg_Lever_Flame_Trap_Enter, gg_dest_DTlv_0094 )
    call TriggerAddAction( gg_trg_Lever_Flame_Trap_Enter, function Trig_Lever_Flame_Trap_Enter_Actions )
endfunction

//===========================================================================
// Trigger: Lever Flame Trap Monster
//===========================================================================
function Trig_Lever_Flame_Trap_Monster_Actions takes nothing returns nothing
    call ModifyGateBJ( bj_GATEOPERATION_OPEN, gg_dest_ZTd3_0192 )
    call ShowUnitShow( gg_unit_nanc_0063 )
    call TriggerSleepAction( 0.20 )
    set udg_TempPoint = GetCameraTargetPositionLoc()
    call PlaySoundAtPointBJ( udg_ElevatorsSound, 100, udg_TempPoint, 0 )
    call RemoveLocation( udg_TempPoint )
endfunction

//===========================================================================
function InitTrig_Lever_Flame_Trap_Monster takes nothing returns nothing
    set gg_trg_Lever_Flame_Trap_Monster = CreateTrigger(  )
    call TriggerRegisterDeathEvent( gg_trg_Lever_Flame_Trap_Monster, gg_dest_DTlv_0369 )
    call TriggerAddAction( gg_trg_Lever_Flame_Trap_Monster, function Trig_Lever_Flame_Trap_Monster_Actions )
endfunction

//===========================================================================
// Trigger: Lever Flame Strike
//===========================================================================
function Trig_Lever_Flame_Strike_Actions takes nothing returns nothing
    call ModifyGateBJ( bj_GATEOPERATION_OPEN, gg_dest_ZTd3_0026 )
    set udg_TempPoint = GetDestructableLoc(gg_dest_ZTd3_0026)
    call PlaySoundAtPointBJ( udg_RollingGateSound, 100, udg_TempPoint, 0 )
    call RemoveLocation( udg_TempPoint )
endfunction

//===========================================================================
function InitTrig_Lever_Flame_Strike takes nothing returns nothing
    set gg_trg_Lever_Flame_Strike = CreateTrigger(  )
    call TriggerRegisterDeathEvent( gg_trg_Lever_Flame_Strike, gg_dest_DTlv_0218 )
    call TriggerAddAction( gg_trg_Lever_Flame_Strike, function Trig_Lever_Flame_Strike_Actions )
endfunction

//===========================================================================
// Trigger: Quake Shake
//===========================================================================
function Trig_Quake_Shake_Actions takes nothing returns nothing
    call PlaySoundAtPointBJ( gg_snd_Earthquake, 100.00, GetCameraTargetPositionLoc(), 0 )
    call CameraSetSourceNoiseForPlayer( udg_AP1_Player, ( 20.00 * GetRandomReal(0.60, 1.40) ), ( 1000.00 * GetRandomReal(0.60, 1.40) ) )
    call TriggerSleepAction( ( 2.00 * GetRandomReal(0.75, 1.25) ) )
    call CameraClearNoiseForPlayer( udg_AP1_Player )
    call StopSoundBJ( gg_snd_Earthquake, true )
endfunction

//===========================================================================
function InitTrig_Quake_Shake takes nothing returns nothing
    set gg_trg_Quake_Shake = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Quake_Shake, function Trig_Quake_Shake_Actions )
endfunction

//===========================================================================
// Trigger: Quake 01 Fountain
//===========================================================================
function Trig_Quake_01_Fountain_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    return true
endfunction

function Trig_Quake_01_Fountain_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call ConditionalTriggerExecute( gg_trg_Quake_Shake )
    call ConditionalTriggerExecute( gg_trg_Dust_FX_Fountain_of_Health )
    call TriggerSleepAction( 2 )
    call QueuedTriggerAddBJ( gg_trg_Voiceover_Another_Quake_Q, true )
endfunction

//===========================================================================
function InitTrig_Quake_01_Fountain takes nothing returns nothing
    set gg_trg_Quake_01_Fountain = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Quake_01_Fountain, gg_rct_Earthquake01Area )
    call TriggerAddCondition( gg_trg_Quake_01_Fountain, Condition( function Trig_Quake_01_Fountain_Conditions ) )
    call TriggerAddAction( gg_trg_Quake_01_Fountain, function Trig_Quake_01_Fountain_Actions )
endfunction

//===========================================================================
// Trigger: Quake 02 Cave Exit
//===========================================================================
function Trig_Quake_02_Cave_Exit_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call ConditionalTriggerExecute( gg_trg_Quake_Shake )
    call ConditionalTriggerExecute( gg_trg_Dust_FX_Cave_Exit )
    call TriggerSleepAction( 1.00 )
    call QueuedTriggerAddBJ( gg_trg_Voiceover_Another_Quake_Hurry_Q, true )
endfunction

//===========================================================================
function InitTrig_Quake_02_Cave_Exit takes nothing returns nothing
    set gg_trg_Quake_02_Cave_Exit = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Quake_02_Cave_Exit, function Trig_Quake_02_Cave_Exit_Actions )
endfunction

//===========================================================================
// Trigger: Quake 03 Curse
//===========================================================================
function Trig_Quake_03_Curse_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call ConditionalTriggerExecute( gg_trg_Quake_Shake )
    call ConditionalTriggerExecute( gg_trg_Dust_FX_Curse )
endfunction

//===========================================================================
function InitTrig_Quake_03_Curse takes nothing returns nothing
    set gg_trg_Quake_03_Curse = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Quake_03_Curse, function Trig_Quake_03_Curse_Actions )
endfunction

//===========================================================================
// Trigger: Quake 04 Final Area
//===========================================================================
function Trig_Quake_04_Final_Area_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Quake_Shake )
    call ConditionalTriggerExecute( gg_trg_Dust_FX_Final_Area )
endfunction

//===========================================================================
function InitTrig_Quake_04_Final_Area takes nothing returns nothing
    set gg_trg_Quake_04_Final_Area = CreateTrigger(  )
    call DisableTrigger( gg_trg_Quake_04_Final_Area )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Quake_04_Final_Area, GetRandomReal(10.00, 20.00) )
    call TriggerAddAction( gg_trg_Quake_04_Final_Area, function Trig_Quake_04_Final_Area_Actions )
endfunction

//===========================================================================
// Trigger: Gold Coin Found
//===========================================================================
function Trig_Gold_Coin_Found_Conditions takes nothing returns boolean
    if ( not ( GetItemTypeId(GetManipulatedItem()) == 'gold' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Gold_Coin_Found_Func002001 takes nothing returns boolean
    return ( udg_GoldCoinsFound == 1 )
endfunction

function Trig_Gold_Coin_Found_Func003001 takes nothing returns boolean
    return ( udg_GoldCoinsFound == 2 )
endfunction

function Trig_Gold_Coin_Found_Func004001 takes nothing returns boolean
    return ( udg_GoldCoinsFound == 3 )
endfunction

function Trig_Gold_Coin_Found_Actions takes nothing returns nothing
    set udg_GoldCoinsFound = ( udg_GoldCoinsFound + 1 )
    if ( Trig_Gold_Coin_Found_Func002001() ) then
        call QueuedTriggerAddBJ( gg_trg_First_Coin_Found_Q, true )
    else
        call DoNothing(  )
    endif
    if ( Trig_Gold_Coin_Found_Func003001() ) then
        call QueuedTriggerAddBJ( gg_trg_Second_Coin_Found_Q, true )
    else
        call DoNothing(  )
    endif
    if ( Trig_Gold_Coin_Found_Func004001() ) then
        call QueuedTriggerAddBJ( gg_trg_Third_Coin_Found_Q, true )
    else
        call DoNothing(  )
    endif
endfunction

//===========================================================================
function InitTrig_Gold_Coin_Found takes nothing returns nothing
    set gg_trg_Gold_Coin_Found = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Gold_Coin_Found, Player(0), EVENT_PLAYER_UNIT_PICKUP_ITEM )
    call TriggerAddCondition( gg_trg_Gold_Coin_Found, Condition( function Trig_Gold_Coin_Found_Conditions ) )
    call TriggerAddAction( gg_trg_Gold_Coin_Found, function Trig_Gold_Coin_Found_Actions )
endfunction

//===========================================================================
// Trigger: First Coin Found Q
//===========================================================================
function Trig_First_Coin_Found_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_First_Coin_Found_Q_Actions takes nothing returns nothing
    call SetSpeechVolumeGroupsBJ(  )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Arthas, "TRIGSTR_254", gg_snd_L07CArthas14, "TRIGSTR_255", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_L07CArthas14, 0 )
    call VolumeGroupResetBJ(  )
    // Quest Update
    call ConditionalTriggerExecute( gg_trg_Quest_Gold_Discover )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_First_Coin_Found_Q takes nothing returns nothing
    set gg_trg_First_Coin_Found_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_First_Coin_Found_Q, Condition( function Trig_First_Coin_Found_Q_Conditions ) )
    call TriggerAddAction( gg_trg_First_Coin_Found_Q, function Trig_First_Coin_Found_Q_Actions )
endfunction

//===========================================================================
// Trigger: Second Coin Found Q
//===========================================================================
function Trig_Second_Coin_Found_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Second_Coin_Found_Q_Actions takes nothing returns nothing
    call SetSpeechVolumeGroupsBJ(  )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Arthas, "TRIGSTR_256", gg_snd_L07CArthas11, "TRIGSTR_257", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_L07CArthas11, 0 )
    call VolumeGroupResetBJ(  )
    // Quest Update
    call ConditionalTriggerExecute( gg_trg_Gold_02_Found )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Second_Coin_Found_Q takes nothing returns nothing
    set gg_trg_Second_Coin_Found_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Second_Coin_Found_Q, Condition( function Trig_Second_Coin_Found_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Second_Coin_Found_Q, function Trig_Second_Coin_Found_Q_Actions )
endfunction

//===========================================================================
// Trigger: Third Coin Found Q
//===========================================================================
function Trig_Third_Coin_Found_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Third_Coin_Found_Q_Actions takes nothing returns nothing
    // Quest Update
    call ConditionalTriggerExecute( gg_trg_Quest_Gold_Completed )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Third_Coin_Found_Q takes nothing returns nothing
    set gg_trg_Third_Coin_Found_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Third_Coin_Found_Q, Condition( function Trig_Third_Coin_Found_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Third_Coin_Found_Q, function Trig_Third_Coin_Found_Q_Actions )
endfunction

//===========================================================================
// Trigger: Quest Escape Create
//===========================================================================
function Trig_Quest_Escape_Create_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Quest_Escape_Create_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    // Create the quest objects
    call CreateQuestBJ( bj_QUESTTYPE_REQ_UNDISCOVERED, "TRIGSTR_019", "TRIGSTR_020", "ReplaceableTextures\\CommandButtons\\BTNAnimateDead.tga" )
    set udg_QuestEscape = GetLastCreatedQuestBJ()
    call CreateQuestItemBJ( udg_QuestEscape, "TRIGSTR_021" )
    set udg_QuestEscapeReq = GetLastCreatedQuestItemBJ()
    call CreateQuestItemBJ( udg_QuestEscape, "TRIGSTR_022" )
    set udg_QuestArthasSurviveReq = GetLastCreatedQuestItemBJ()
endfunction

//===========================================================================
function InitTrig_Quest_Escape_Create takes nothing returns nothing
    set gg_trg_Quest_Escape_Create = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Quest_Escape_Create, Condition( function Trig_Quest_Escape_Create_Conditions ) )
    call TriggerAddAction( gg_trg_Quest_Escape_Create, function Trig_Quest_Escape_Create_Actions )
endfunction

//===========================================================================
// Trigger: Quest Escape Discover
//===========================================================================
function Trig_Quest_Escape_Discover_Actions takes nothing returns nothing
    // Ensure that the quest exists
    call ConditionalTriggerExecute( gg_trg_Quest_Escape_Create )
    // Update the quest
    call QuestSetDiscoveredBJ( udg_QuestEscape, true )
    // Display a quest message.
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_023" )
endfunction

//===========================================================================
function InitTrig_Quest_Escape_Discover takes nothing returns nothing
    set gg_trg_Quest_Escape_Discover = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Quest_Escape_Discover, function Trig_Quest_Escape_Discover_Actions )
endfunction

//===========================================================================
// Trigger: Quest Escape Completed
//===========================================================================
function Trig_Quest_Escape_Completed_Actions takes nothing returns nothing
    // Ensure that the quest exists
    call ConditionalTriggerExecute( gg_trg_Quest_Escape_Create )
    // Update the quest
    call QuestSetDiscoveredBJ( udg_QuestEscape, true )
    call QuestItemSetCompletedBJ( udg_QuestEscapeReq, true )
    call QuestItemSetCompletedBJ( udg_QuestAnubarakSurviveReq, true )
    call QuestItemSetCompletedBJ( udg_QuestArthasSurviveReq, true )
    call QuestSetCompletedBJ( udg_QuestEscape, true )
    // Display a quest message.
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_COMPLETED, "TRIGSTR_024" )
endfunction

//===========================================================================
function InitTrig_Quest_Escape_Completed takes nothing returns nothing
    set gg_trg_Quest_Escape_Completed = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Quest_Escape_Completed, function Trig_Quest_Escape_Completed_Actions )
endfunction

//===========================================================================
// Trigger: Quest Escape Update
//===========================================================================
function Trig_Quest_Escape_Update_Actions takes nothing returns nothing
    // Ensure that the quest exists
    call ConditionalTriggerExecute( gg_trg_Quest_Escape_Create )
    // Update the quest
    call CreateQuestItemBJ( udg_QuestEscape, "TRIGSTR_246" )
    set udg_QuestAnubarakSurviveReq = GetLastCreatedQuestItemBJ()
    // Display update
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_247" )
endfunction

//===========================================================================
function InitTrig_Quest_Escape_Update takes nothing returns nothing
    set gg_trg_Quest_Escape_Update = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Quest_Escape_Update, function Trig_Quest_Escape_Update_Actions )
endfunction

//===========================================================================
// Trigger: Quest Gold Create
//===========================================================================
function Trig_Quest_Gold_Create_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Quest_Gold_Create_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    // Create the quest objects
    call CreateQuestBJ( bj_QUESTTYPE_OPT_UNDISCOVERED, "TRIGSTR_156", "TRIGSTR_157", "ReplaceableTextures\\CommandButtons\\BTNChestOfGold.tga" )
    set udg_QuestGold = GetLastCreatedQuestBJ()
    call CreateQuestItemBJ( udg_QuestGold, "TRIGSTR_158" )
    set udg_QuestGold0Req = GetLastCreatedQuestItemBJ()
endfunction

//===========================================================================
function InitTrig_Quest_Gold_Create takes nothing returns nothing
    set gg_trg_Quest_Gold_Create = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Quest_Gold_Create, Condition( function Trig_Quest_Gold_Create_Conditions ) )
    call TriggerAddAction( gg_trg_Quest_Gold_Create, function Trig_Quest_Gold_Create_Actions )
endfunction

//===========================================================================
// Trigger: Quest Gold Discover
//===========================================================================
function Trig_Quest_Gold_Discover_Actions takes nothing returns nothing
    // Ensure that the quest exists
    call ConditionalTriggerExecute( gg_trg_Quest_Gold_Create )
    // Update the quest
    call QuestSetDiscoveredBJ( udg_QuestGold, true )
    // Display a quest message.
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_159" )
endfunction

//===========================================================================
function InitTrig_Quest_Gold_Discover takes nothing returns nothing
    set gg_trg_Quest_Gold_Discover = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Quest_Gold_Discover, function Trig_Quest_Gold_Discover_Actions )
endfunction

//===========================================================================
// Trigger: Quest Gold Completed
//===========================================================================
function Trig_Quest_Gold_Completed_Actions takes nothing returns nothing
    // Ensure that the quest exists
    call ConditionalTriggerExecute( gg_trg_Quest_Gold_Create )
    // Update the quest
    call QuestItemSetDescriptionBJ( udg_QuestGold0Req, "TRIGSTR_160" )
    call QuestSetDiscoveredBJ( udg_QuestGold, true )
    call QuestItemSetCompletedBJ( udg_QuestGold0Req, true )
    call QuestSetCompletedBJ( udg_QuestGold, true )
    // Display a quest message.
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_COMPLETED, "TRIGSTR_161" )
endfunction

//===========================================================================
function InitTrig_Quest_Gold_Completed takes nothing returns nothing
    set gg_trg_Quest_Gold_Completed = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Quest_Gold_Completed, function Trig_Quest_Gold_Completed_Actions )
endfunction

//===========================================================================
// Trigger: Gold 02 Found
//===========================================================================
function Trig_Gold_02_Found_Actions takes nothing returns nothing
    // Ensure that the quest exists
    call ConditionalTriggerExecute( gg_trg_Quest_Gold_Create )
    // Update the quest
    call QuestItemSetDescriptionBJ( udg_QuestGold0Req, "TRIGSTR_162" )
    // Display update
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_163" )
endfunction

//===========================================================================
function InitTrig_Gold_02_Found takes nothing returns nothing
    set gg_trg_Gold_02_Found = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Gold_02_Found, function Trig_Gold_02_Found_Actions )
endfunction

//===========================================================================
// Trigger: Gold 03 Found
//===========================================================================
function Trig_Gold_03_Found_Actions takes nothing returns nothing
    // Ensure that the quest exists
    call ConditionalTriggerExecute( gg_trg_Quest_Gold_Create )
    // Update the quest
    call QuestItemSetDescriptionBJ( udg_QuestGold0Req, "TRIGSTR_164" )
    // Display update
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_165" )
endfunction

//===========================================================================
function InitTrig_Gold_03_Found takes nothing returns nothing
    set gg_trg_Gold_03_Found = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Gold_03_Found, function Trig_Gold_03_Found_Actions )
endfunction

//===========================================================================
// Trigger: Gold 04 Found
//===========================================================================
function Trig_Gold_04_Found_Actions takes nothing returns nothing
    // Ensure that the quest exists
    call ConditionalTriggerExecute( gg_trg_Quest_Gold_Create )
    // Update the quest
    call QuestItemSetDescriptionBJ( udg_QuestGold0Req, "TRIGSTR_175" )
    // Display update
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_176" )
endfunction

//===========================================================================
function InitTrig_Gold_04_Found takes nothing returns nothing
    set gg_trg_Gold_04_Found = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Gold_04_Found, function Trig_Gold_04_Found_Actions )
endfunction

//===========================================================================
// Trigger: Mission Failed Anubarak Dead
//===========================================================================
function Trig_Mission_Failed_Anubarak_Dead_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_MISSIONFAILED, "TRIGSTR_038" )
endfunction

//===========================================================================
function InitTrig_Mission_Failed_Anubarak_Dead takes nothing returns nothing
    set gg_trg_Mission_Failed_Anubarak_Dead = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Mission_Failed_Anubarak_Dead, function Trig_Mission_Failed_Anubarak_Dead_Actions )
endfunction

//===========================================================================
// Trigger: Mission Failed Arthas Dead
//===========================================================================
function Trig_Mission_Failed_Arthas_Dead_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_MISSIONFAILED, "TRIGSTR_037" )
endfunction

//===========================================================================
function InitTrig_Mission_Failed_Arthas_Dead takes nothing returns nothing
    set gg_trg_Mission_Failed_Arthas_Dead = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Mission_Failed_Arthas_Dead, function Trig_Mission_Failed_Arthas_Dead_Actions )
endfunction

//===========================================================================
// Trigger: Mission Failed Timer Expired
//===========================================================================
function Trig_Mission_Failed_Timer_Expired_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_MISSIONFAILED, "TRIGSTR_242" )
endfunction

//===========================================================================
function InitTrig_Mission_Failed_Timer_Expired takes nothing returns nothing
    set gg_trg_Mission_Failed_Timer_Expired = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Mission_Failed_Timer_Expired, function Trig_Mission_Failed_Timer_Expired_Actions )
endfunction

//===========================================================================
// Trigger: Five Minute Warning
//===========================================================================
function Trig_Five_Minute_Warning_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_WARNING, "TRIGSTR_272" )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Five_Minute_Warning takes nothing returns nothing
    set gg_trg_Five_Minute_Warning = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Five_Minute_Warning, function Trig_Five_Minute_Warning_Actions )
endfunction

//===========================================================================
// Trigger: Two Minute Warning
//===========================================================================
function Trig_Two_Minute_Warning_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_WARNING, "TRIGSTR_274" )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Two_Minute_Warning takes nothing returns nothing
    set gg_trg_Two_Minute_Warning = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Two_Minute_Warning, function Trig_Two_Minute_Warning_Actions )
endfunction

//===========================================================================
// Trigger: Coins 01 and 02
//===========================================================================
function Trig_Coins_01_and_02_Actions takes nothing returns nothing
    call SetItemInvulnerableBJ( gg_item_gold_0003, true )
    call SetItemInvulnerableBJ( gg_item_gold_0013, true )
endfunction

//===========================================================================
function InitTrig_Coins_01_and_02 takes nothing returns nothing
    set gg_trg_Coins_01_and_02 = CreateTrigger(  )
    call TriggerRegisterTimerEventSingle( gg_trg_Coins_01_and_02, 1.00 )
    call TriggerAddAction( gg_trg_Coins_01_and_02, function Trig_Coins_01_and_02_Actions )
endfunction

//===========================================================================
// Trigger: Coins 03
//===========================================================================
function Trig_Coins_03_Actions takes nothing returns nothing
    call CreateItemLoc( 'gold', GetRectCenter(gg_rct_Coin03) )
    call SetItemInvulnerableBJ( GetLastCreatedItem(), true )
endfunction

//===========================================================================
function InitTrig_Coins_03 takes nothing returns nothing
    set gg_trg_Coins_03 = CreateTrigger(  )
    call TriggerRegisterDeathEvent( gg_trg_Coins_03, gg_dest_LTcr_0507 )
    call TriggerAddAction( gg_trg_Coins_03, function Trig_Coins_03_Actions )
endfunction

//===========================================================================
// Trigger: Timer Main Quest
//===========================================================================
function Trig_Timer_Main_Quest_Actions takes nothing returns nothing
    call StartTimerBJ( udg_CaveCollapseTimer, false, 600.00 )
    call CreateTimerDialogBJ( udg_CaveCollapseTimer, "TRIGSTR_174" )
    call StartTimerBJ( udg_TimerYellow, false, 299.00 )
    call StartTimerBJ( udg_TimerRed, false, 479.00 )
    call TimerDialogSetTimeColorBJ( GetLastCreatedTimerDialogBJ(), 100, 100.00, 100.00, 0 )
endfunction

//===========================================================================
function InitTrig_Timer_Main_Quest takes nothing returns nothing
    set gg_trg_Timer_Main_Quest = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Timer_Main_Quest, function Trig_Timer_Main_Quest_Actions )
endfunction

//===========================================================================
// Trigger: Timer Yellow
//===========================================================================
function Trig_Timer_Yellow_Actions takes nothing returns nothing
    call TimerDialogSetTimeColorBJ( GetLastCreatedTimerDialogBJ(), 100, 80.00, 20.00, 0 )
    call QueuedTriggerAddBJ( gg_trg_Five_Minute_Warning, true )
endfunction

//===========================================================================
function InitTrig_Timer_Yellow takes nothing returns nothing
    set gg_trg_Timer_Yellow = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Timer_Yellow, udg_TimerYellow )
    call TriggerAddAction( gg_trg_Timer_Yellow, function Trig_Timer_Yellow_Actions )
endfunction

//===========================================================================
// Trigger: Timer Red
//===========================================================================
function Trig_Timer_Red_Actions takes nothing returns nothing
    call TimerDialogSetTimeColorBJ( GetLastCreatedTimerDialogBJ(), 100, 0.00, 0.00, 0 )
    call QueuedTriggerAddBJ( gg_trg_Two_Minute_Warning, true )
endfunction

//===========================================================================
function InitTrig_Timer_Red takes nothing returns nothing
    set gg_trg_Timer_Red = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Timer_Red, udg_TimerRed )
    call TriggerAddAction( gg_trg_Timer_Red, function Trig_Timer_Red_Actions )
endfunction

//===========================================================================
// Trigger: Victory Exit
//===========================================================================
function Trig_Victory_Exit_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'uloc' ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Victory_Exit_Actions takes nothing returns nothing
    set udg_GameOver = true
    call PauseTimerBJ( true, udg_CaveCollapseTimer )
    // Quest update
    call ConditionalTriggerExecute( gg_trg_Quest_Escape_Completed )
    call SetUnitInvulnerable( udg_Arthas, true )
    call SetUnitInvulnerable( udg_Anubarak, true )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerAddBJ( gg_trg_Victory_Cinematic_Q, true )
endfunction

//===========================================================================
function InitTrig_Victory_Exit takes nothing returns nothing
    set gg_trg_Victory_Exit = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Victory_Exit, gg_rct_Exit_to_Snow )
    call TriggerAddCondition( gg_trg_Victory_Exit, Condition( function Trig_Victory_Exit_Conditions ) )
    call TriggerAddAction( gg_trg_Victory_Exit, function Trig_Victory_Exit_Actions )
endfunction

//===========================================================================
// Trigger: Defeat Timer Expires
//===========================================================================
function Trig_Defeat_Timer_Expires_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Defeat_Timer_Expires_Actions takes nothing returns nothing
    set udg_GameOver = true
    call StartTimerBJ( udg_CaveCollapseTimer, false, 0.00 )
    call PauseTimerBJ( true, udg_CaveCollapseTimer )
    call TriggerSleepAction( 2 )
    call ConditionalTriggerExecute( gg_trg_Mission_Failed_Timer_Expired )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call CustomDefeatBJ( udg_AP1_Player, "TRIGSTR_241" )
endfunction

//===========================================================================
function InitTrig_Defeat_Timer_Expires takes nothing returns nothing
    set gg_trg_Defeat_Timer_Expires = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Defeat_Timer_Expires, udg_CaveCollapseTimer )
    call TriggerAddCondition( gg_trg_Defeat_Timer_Expires, Condition( function Trig_Defeat_Timer_Expires_Conditions ) )
    call TriggerAddAction( gg_trg_Defeat_Timer_Expires, function Trig_Defeat_Timer_Expires_Actions )
endfunction

//===========================================================================
// Trigger: Defeat Arthas Dead
//===========================================================================
function Trig_Defeat_Arthas_Dead_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( GetDyingUnit() == udg_Arthas ) ) then
        return false
    endif
    return true
endfunction

function Trig_Defeat_Arthas_Dead_Actions takes nothing returns nothing
    set udg_GameOver = true
    call PauseTimerBJ( true, udg_CaveCollapseTimer )
    call TriggerSleepAction( 2 )
    call ConditionalTriggerExecute( gg_trg_Mission_Failed_Arthas_Dead )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call CustomDefeatBJ( udg_AP1_Player, "TRIGSTR_055" )
endfunction

//===========================================================================
function InitTrig_Defeat_Arthas_Dead takes nothing returns nothing
    set gg_trg_Defeat_Arthas_Dead = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Defeat_Arthas_Dead, Player(0), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Defeat_Arthas_Dead, Condition( function Trig_Defeat_Arthas_Dead_Conditions ) )
    call TriggerAddAction( gg_trg_Defeat_Arthas_Dead, function Trig_Defeat_Arthas_Dead_Actions )
endfunction

//===========================================================================
// Trigger: Defeat Anubarak Dead
//===========================================================================
function Trig_Defeat_Anubarak_Dead_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( GetDyingUnit() == udg_Anubarak ) ) then
        return false
    endif
    return true
endfunction

function Trig_Defeat_Anubarak_Dead_Actions takes nothing returns nothing
    set udg_GameOver = true
    call PauseTimerBJ( true, udg_CaveCollapseTimer )
    call TriggerSleepAction( 2 )
    call ConditionalTriggerExecute( gg_trg_Mission_Failed_Anubarak_Dead )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call CustomDefeatBJ( udg_AP1_Player, "TRIGSTR_276" )
endfunction

//===========================================================================
function InitTrig_Defeat_Anubarak_Dead takes nothing returns nothing
    set gg_trg_Defeat_Anubarak_Dead = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Defeat_Anubarak_Dead, Player(0), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Defeat_Anubarak_Dead, Condition( function Trig_Defeat_Anubarak_Dead_Conditions ) )
    call TriggerAddAction( gg_trg_Defeat_Anubarak_Dead, function Trig_Defeat_Anubarak_Dead_Actions )
endfunction

//===========================================================================
function InitCustomTriggers takes nothing returns nothing
    call InitTrig_Initialization(  )
    call InitTrig_Init_01_Players(  )
    call InitTrig_Init_02_Units(  )
    call InitTrig_Init_03_Destructibles(  )
    call InitTrig_Init_04_Music_and_Sounds(  )
    call InitTrig_Init_05_Environment(  )
    call InitTrig_Init_06_Quests(  )
    call InitTrig_Init_07a_Hard(  )
    call InitTrig_Init_07b_Normal(  )
    call InitTrig_Init_07c_Easy(  )
    call InitTrig_Init_08_Form_Unit_Groups(  )
    call InitTrig_Init_09_Regions_to_Points(  )
    call InitTrig_Load_Heroes(  )
    call InitTrig_Load_Arthas(  )
    call InitTrig_Load_Anubarak(  )
    call InitTrig_Load_Gold(  )
    call InitTrig_Experience_Cap_Anubarak(  )
    call InitTrig_Next_Level_Prep(  )
    call InitTrig_Next_Level_Run(  )
    call InitTrig_Victory_Cheat(  )
    call InitTrig_Defeat_Cheat(  )
    call InitTrig_Intro_Cinematic_Q(  )
    call InitTrig_Crypt_01_Facing(  )
    call InitTrig_Crypt_02_Facing(  )
    call InitTrig_Crypt_03_Facing(  )
    call InitTrig_Crypt_04_Facing(  )
    call InitTrig_Anubarak_Facing(  )
    call InitTrig_Intro_Skipped(  )
    call InitTrig_Intro_Setup(  )
    call InitTrig_Intro_Cleanup(  )
    call InitTrig_Gameplay(  )
    call InitTrig_Rejoin_Init(  )
    call InitTrig_Rejoin_Cinematic_Q(  )
    call InitTrig_Rejoin_Skipped(  )
    call InitTrig_Rejoin_Setup(  )
    call InitTrig_Rejoin_Cleanup(  )
    call InitTrig_Victory_Cinematic_Q(  )
    call InitTrig_Victory_Skipped(  )
    call InitTrig_Victory_Setup(  )
    call InitTrig_Voiceover_Damned_Exit_Q(  )
    call InitTrig_Voiceover_Whole_Place_Crumbling_Q(  )
    call InitTrig_Voiceover_Another_Quake_Q(  )
    call InitTrig_Voiceover_More_Blasted_Mechanisms(  )
    call InitTrig_Voiceover_More_Blasted_Mechanisms_Q(  )
    call InitTrig_Voiceover_Strange_Obstacle(  )
    call InitTrig_Voiceover_Strange_Obstacle_Q(  )
    call InitTrig_Voiceover_Blocking_the_Way(  )
    call InitTrig_Voiceover_Blocking_the_Way_Q(  )
    call InitTrig_Voiceover_Running_Out_of_Time_Q(  )
    call InitTrig_Voiceover_Another_Quake_Hurry_Q(  )
    call InitTrig_Voiceover_Breaking_Through_Q(  )
    call InitTrig_Voiceover_Singed(  )
    call InitTrig_Voiceover_Singed_Q(  )
    call InitTrig_Start_Timers(  )
    call InitTrig_Damage_Line_01(  )
    call InitTrig_Damage_Line_02(  )
    call InitTrig_Damage_Line_03(  )
    call InitTrig_Timing_Trap_Line_01(  )
    call InitTrig_Timing_Trap_Line_02(  )
    call InitTrig_Timing_Trap_Line_03(  )
    call InitTrig_Blue_Side_Flame_Damage(  )
    call InitTrig_Blue_Side_Flame_Floaty_Normal(  )
    call InitTrig_Blue_Side_Flame_Floaty_Easy(  )
    call InitTrig_Blue_Side_Flame_Plate_Off(  )
    call InitTrig_Blue_Flame_Geyser_Setup(  )
    call InitTrig_Plate_01_Area_Death_Animation(  )
    call InitTrig_Plate_01_Area_Stand_Animation(  )
    call InitTrig_Plate_02_Area_Death_Animation(  )
    call InitTrig_Plate_02_Area_Stand_Animation(  )
    call InitTrig_Plate_03_Area_Death_Animation(  )
    call InitTrig_Plate_03_Area_Stand_Animation(  )
    call InitTrig_Plate_04_Area_Death_Animation(  )
    call InitTrig_Plate_04_Area_Stand_Animation(  )
    call InitTrig_Damage_Plate_01_Pulsating_Area(  )
    call InitTrig_Damage_Plate_01_Sustained_Area(  )
    call InitTrig_Damage_Plate_02_Pulsating_Area(  )
    call InitTrig_Damage_Plate_02_Sustained_Area(  )
    call InitTrig_Damage_Plate_03_Pulsating_Area(  )
    call InitTrig_Damage_Plate_03_Sustained_Area(  )
    call InitTrig_Damage_Plate_04_Pulsating_Area(  )
    call InitTrig_Damage_Flame_Sustained(  )
    call InitTrig_Sustained_Sound(  )
    call InitTrig_Blue_Flame_Geyser_Damage(  )
    call InitTrig_Blue_Flame_Geyser_Floaty_Normal(  )
    call InitTrig_Blue_Flame_Geyser_Floaty_Easy(  )
    call InitTrig_Plate_01(  )
    call InitTrig_Plate_02(  )
    call InitTrig_Plate_03(  )
    call InitTrig_Plate_04(  )
    call InitTrig_Turn_Off_Geyser_Trap_and_Open_Door(  )
    call InitTrig_Blizzard_Strike_Setup(  )
    call InitTrig_Area_01_Wall_Down(  )
    call InitTrig_Area_02_Wall_Down(  )
    call InitTrig_Area_Arch_Mage(  )
    call InitTrig_Blizzard_01_Area(  )
    call InitTrig_Blizzard_02_Area(  )
    call InitTrig_Blizzard_03_Area(  )
    call InitTrig_Activate_04(  )
    call InitTrig_Blizzard_04_Area(  )
    call InitTrig_Last_Power_Generator_Dies(  )
    call InitTrig_Elevators_Init(  )
    call InitTrig_Elevators_Update(  )
    call InitTrig_Elevator_Sound(  )
    call InitTrig_Ele_AI_help_for_units(  )
    call InitTrig_Elevator_Baddie_Dies(  )
    call InitTrig_Elevator_Secret_off_Lever(  )
    call InitTrig_Elevator_Secret_off_Lever_Q(  )
    call InitTrig_Elevators_Update_Heights(  )
    call InitTrig_Elevator_Walls_Begin_Vertical(  )
    call InitTrig_Elevator_Walls_Begin_Vertical_One(  )
    call InitTrig_Elevator_Walls_Begin_Horizontal(  )
    call InitTrig_Elevator_Walls_Begin_Horizontal_One(  )
    call InitTrig_Elevator_Walls_Finish_Vertical(  )
    call InitTrig_Elevator_Walls_Finish_Vertical_One(  )
    call InitTrig_Elevator_Walls_Finish_Horizontal(  )
    call InitTrig_Elevator_Walls_Finish_Horizontal_One(  )
    call InitTrig_Cripple_01(  )
    call InitTrig_Cripple_02(  )
    call InitTrig_Two_Plate_Setup(  )
    call InitTrig_Plate_01_Unit_Enters(  )
    call InitTrig_Plate_01_Unit_Leaves(  )
    call InitTrig_Plate_02_Unit_Enters(  )
    call InitTrig_Plate_02_Unit_Leaves(  )
    call InitTrig_Two_Plate_Check(  )
    call InitTrig_Plate_01_Pushed(  )
    call InitTrig_Plate_01_Released(  )
    call InitTrig_Plate_02_Pushed(  )
    call InitTrig_Plate_02_Released(  )
    call InitTrig_Two_Plate_Solution_Check(  )
    call InitTrig_Ensnare(  )
    call InitTrig_Break_Through_Attack(  )
    call InitTrig_Curse_Attack(  )
    call InitTrig_Curse_Attacker_Dies(  )
    call InitTrig_Final_Area_Earthquake_Start(  )
    call InitTrig_Kill_Final_Guardians_To_Open_Gate(  )
    call InitTrig_RevealerSideFlame(  )
    call InitTrig_RevealerGroupAddSideFlame(  )
    call InitTrig_RevealerGroupSubtractSideFlame(  )
    call InitTrig_RevealerCheckSideFlame(  )
    call InitTrig_RevealerSideFlameSafety(  )
    call InitTrig_RevealerSideGeyserFlame(  )
    call InitTrig_RevealerGroupAddGeyserFlame(  )
    call InitTrig_RevealerGroupSubtractGeyserFlame(  )
    call InitTrig_RevealerCheckGeyserFlame(  )
    call InitTrig_RevealerSideGeyserFlameSafety(  )
    call InitTrig_RevealerBigElevator(  )
    call InitTrig_RevealerGroupAddBigElevator(  )
    call InitTrig_RevealerGroupSubtractBigElevator(  )
    call InitTrig_RevealerCheckBigElevator(  )
    call InitTrig_RevealerSideBigElevatorSafety(  )
    call InitTrig_RevealerTwoPlates(  )
    call InitTrig_RevealerGroupAddTwoPlates(  )
    call InitTrig_RevealerGroupSubtractTwoPlates(  )
    call InitTrig_RevealerCheckTwoPlates(  )
    call InitTrig_RevealerSideTwoPlatesSafty(  )
    call InitTrig_RevealerMage(  )
    call InitTrig_RevealerGroupAddMage(  )
    call InitTrig_RevealerGroupSubtractMage(  )
    call InitTrig_RevealerCheckMage(  )
    call InitTrig_RevealerSideMageSafety(  )
    call InitTrig_Dust_FX_Intro(  )
    call InitTrig_Dust_FX_Fountain_of_Health(  )
    call InitTrig_Dust_FX_Cave_Exit(  )
    call InitTrig_Dust_FX_Curse(  )
    call InitTrig_Dust_FX_Final_Area(  )
    call InitTrig_Lever_Flame_Trap_Enter(  )
    call InitTrig_Lever_Flame_Trap_Monster(  )
    call InitTrig_Lever_Flame_Strike(  )
    call InitTrig_Quake_Shake(  )
    call InitTrig_Quake_01_Fountain(  )
    call InitTrig_Quake_02_Cave_Exit(  )
    call InitTrig_Quake_03_Curse(  )
    call InitTrig_Quake_04_Final_Area(  )
    call InitTrig_Gold_Coin_Found(  )
    call InitTrig_First_Coin_Found_Q(  )
    call InitTrig_Second_Coin_Found_Q(  )
    call InitTrig_Third_Coin_Found_Q(  )
    call InitTrig_Quest_Escape_Create(  )
    call InitTrig_Quest_Escape_Discover(  )
    call InitTrig_Quest_Escape_Completed(  )
    call InitTrig_Quest_Escape_Update(  )
    call InitTrig_Quest_Gold_Create(  )
    call InitTrig_Quest_Gold_Discover(  )
    call InitTrig_Quest_Gold_Completed(  )
    call InitTrig_Gold_02_Found(  )
    call InitTrig_Gold_03_Found(  )
    call InitTrig_Gold_04_Found(  )
    call InitTrig_Mission_Failed_Anubarak_Dead(  )
    call InitTrig_Mission_Failed_Arthas_Dead(  )
    call InitTrig_Mission_Failed_Timer_Expired(  )
    call InitTrig_Five_Minute_Warning(  )
    call InitTrig_Two_Minute_Warning(  )
    call InitTrig_Coins_01_and_02(  )
    call InitTrig_Coins_03(  )
    call InitTrig_Timer_Main_Quest(  )
    call InitTrig_Timer_Yellow(  )
    call InitTrig_Timer_Red(  )
    call InitTrig_Victory_Exit(  )
    call InitTrig_Defeat_Timer_Expires(  )
    call InitTrig_Defeat_Arthas_Dead(  )
    call InitTrig_Defeat_Anubarak_Dead(  )
endfunction

//===========================================================================
function RunInitializationTriggers takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Initialization )
endfunction

//***************************************************************************
//*
//*  Upgrades
//*
//***************************************************************************

function InitUpgrades_Player0 takes nothing returns nothing
    call SetPlayerTechResearched( Player(0), 'Rura', 2 )
    call SetPlayerTechResearched( Player(0), 'Ruar', 2 )
    call SetPlayerTechResearched( Player(0), 'Rume', 2 )
    call SetPlayerTechResearched( Player(0), 'Rucr', 2 )
    call SetPlayerTechMaxAllowed( Player(0), 'Ruwb', 0 )
    call SetPlayerTechResearched( Player(0), 'Rubu', 1 )
endfunction

function InitUpgrades_Player1 takes nothing returns nothing
    call SetPlayerTechResearched( Player(1), 'Roen', 1 )
endfunction

function InitUpgrades takes nothing returns nothing
    call InitUpgrades_Player0(  )
    call InitUpgrades_Player1(  )
endfunction

//***************************************************************************
//*
//*  Players
//*
//***************************************************************************

function InitCustomPlayerSlots takes nothing returns nothing

    // Player 0
    call SetPlayerStartLocation( Player(0), 0 )
    call ForcePlayerStartLocation( Player(0), 0 )
    call SetPlayerColor( Player(0), ConvertPlayerColor(0) )
    call SetPlayerRacePreference( Player(0), RACE_PREF_UNDEAD )
    call SetPlayerRaceSelectable( Player(0), false )
    call SetPlayerController( Player(0), MAP_CONTROL_USER )

    // Player 1
    call SetPlayerStartLocation( Player(1), 1 )
    call ForcePlayerStartLocation( Player(1), 1 )
    call SetPlayerColor( Player(1), ConvertPlayerColor(1) )
    call SetPlayerRacePreference( Player(1), RACE_PREF_UNDEAD )
    call SetPlayerRaceSelectable( Player(1), false )
    call SetPlayerController( Player(1), MAP_CONTROL_COMPUTER )

    // Player 2
    call SetPlayerStartLocation( Player(2), 2 )
    call ForcePlayerStartLocation( Player(2), 2 )
    call SetPlayerColor( Player(2), ConvertPlayerColor(2) )
    call SetPlayerRacePreference( Player(2), RACE_PREF_UNDEAD )
    call SetPlayerRaceSelectable( Player(2), false )
    call SetPlayerController( Player(2), MAP_CONTROL_COMPUTER )

    // Player 3
    call SetPlayerStartLocation( Player(3), 3 )
    call ForcePlayerStartLocation( Player(3), 3 )
    call SetPlayerColor( Player(3), ConvertPlayerColor(3) )
    call SetPlayerRacePreference( Player(3), RACE_PREF_UNDEAD )
    call SetPlayerRaceSelectable( Player(3), false )
    call SetPlayerController( Player(3), MAP_CONTROL_NEUTRAL )

endfunction

function InitCustomTeams takes nothing returns nothing
    // Force: TRIGSTR_002
    call SetPlayerTeam( Player(0), 0 )
    call SetPlayerTeam( Player(3), 0 )

    //   Allied
    call SetPlayerAllianceStateAllyBJ( Player(0), Player(3), true )
    call SetPlayerAllianceStateAllyBJ( Player(3), Player(0), true )

    // Force: TRIGSTR_142
    call SetPlayerTeam( Player(1), 1 )
    call SetPlayerTeam( Player(2), 1 )

    //   Allied
    call SetPlayerAllianceStateAllyBJ( Player(1), Player(2), true )
    call SetPlayerAllianceStateAllyBJ( Player(2), Player(1), true )

endfunction

function InitAllyPriorities takes nothing returns nothing

    call SetStartLocPrioCount( 1, 3 )
    call SetStartLocPrio( 1, 0, 2, MAP_LOC_PRIO_LOW )
    call SetStartLocPrio( 1, 1, 3, MAP_LOC_PRIO_LOW )

    call SetStartLocPrioCount( 2, 3 )
    call SetStartLocPrio( 2, 0, 1, MAP_LOC_PRIO_LOW )
    call SetStartLocPrio( 2, 1, 3, MAP_LOC_PRIO_LOW )

    call SetStartLocPrioCount( 3, 3 )
    call SetStartLocPrio( 3, 0, 1, MAP_LOC_PRIO_LOW )
    call SetStartLocPrio( 3, 1, 2, MAP_LOC_PRIO_LOW )
endfunction

//***************************************************************************
//*
//*  Main Initialization
//*
//***************************************************************************

//===========================================================================
function main takes nothing returns nothing
    call SetCameraBounds( -5376.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), -3584.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM), 7296.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), 3200.0 - GetCameraMargin(CAMERA_MARGIN_TOP), -5376.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), 3200.0 - GetCameraMargin(CAMERA_MARGIN_TOP), 7296.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), -3584.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM) )
    call SetDayNightModels( "Environment\\DNC\\DNCLordaeron\\DNCLordaeronTerrain\\DNCLordaeronTerrain.mdl", "Environment\\DNC\\DNCLordaeron\\DNCLordaeronUnit\\DNCLordaeronUnit.mdl" )
    call NewSoundEnvironment( "Dungeon" )
    call SetAmbientDaySound( "IceCrownDay" )
    call SetAmbientNightSound( "IceCrownNight" )
    call SetMapMusic( "Music", true, 0 )
    call InitSounds(  )
    call CreateRegions(  )
    call CreateCameras(  )
    call InitUpgrades(  )
    call CreateAllDestructables(  )
    call CreateAllItems(  )
    call CreateAllUnits(  )
    call InitBlizzard(  )
    call InitGlobals(  )
    call InitCustomTriggers(  )
    call RunInitializationTriggers(  )

endfunction

//***************************************************************************
//*
//*  Map Configuration
//*
//***************************************************************************

function config takes nothing returns nothing
    call SetMapName( "TRIGSTR_003" )
    call SetMapDescription( "TRIGSTR_005" )
    call SetPlayers( 4 )
    call SetTeams( 4 )
    call SetGamePlacement( MAP_PLACEMENT_USE_MAP_SETTINGS )

    call DefineStartLocation( 0, -4096.0, -832.0 )
    call DefineStartLocation( 1, -3968.0, 2624.0 )
    call DefineStartLocation( 2, -5056.0, 896.0 )
    call DefineStartLocation( 3, 4352.0, -832.0 )

    // Player setup
    call InitCustomPlayerSlots(  )
    call InitCustomTeams(  )
    call InitAllyPriorities(  )
endfunction

