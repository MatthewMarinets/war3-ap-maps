//===========================================================================
// 
// HumanX01
// 
//   Warcraft III map script
//   Generated by the Warcraft III World Editor
//   Date: Sun May 11 21:02:32 2003
//   Map Author: Blizzard Entertainment
// 
//===========================================================================

//***************************************************************************
//*
//*  Global Variables
//*
//***************************************************************************

globals
    // User-defined
    boolean                 udg_GameOver               = false
    player                  udg_AP1_Player             = null
    force                   udg_APG1_Player            = null
    unit                    udg_Kael                   = null
    group                   udg_HiddenUnits            = null
    group                   udg_SelectedUnits          = null
    boolean                 udg_IntroSkipped           = false
    boolean                 udg_NagaSkipped            = false
    location                udg_CameraReturnPoint      = null
    quest                   udg_QuestNagaBoats         = null
    questitem               udg_QuestNagaBoatsUse      = null
    questitem               udg_QuestTowerReqReturn    = null
    unit                    udg_LadyVashj              = null
    location                udg_RevivalSpot            = null
    unit                    udg_RevivalHero            = null
    location                udg_RevivalReturnSpot      = null
    unit                    udg_RevivalAltar           = null
    location                udg_KaelReturnSpot         = null
    unit                    udg_LordGarithos           = null
    quest                   udg_QuestObservatory       = null
    boolean                 udg_InCinematic            = false
    boolean                 udg_VictorySkipped         = false
    boolean                 udg_ExpDisabledForKael     = false
    timer                   udg_CombatCheckTimer       = null
    boolean                 udg_InCombat               = false
    quest                   udg_QuestUndead            = null
    quest                   udg_QuestHiddenCaches      = null
    questitem               udg_QuestHiddenCachesReq   = null
    unit                    udg_MagicalVault01         = null
    unit                    udg_MagicalVault02         = null
    unit                    udg_MagicalVault03         = null
    real                    udg_GoldNeeded             = 0
    unit                    udg_Observatory01          = null
    real                    udg_LumberNeeded           = 0
    unit                    udg_Observatory02          = null
    unit                    udg_Observatory03          = null
    fogmodifier             udg_VisMod01               = null
    fogmodifier             udg_VisMod02               = null
    fogmodifier             udg_VisMod03               = null
    real                    udg_GoldCost               = 0
    real                    udg_LumberCost             = 0
    boolean                 udg_Observatory01Repaired  = false
    boolean                 udg_Observatory02Repaired  = false
    boolean                 udg_Observatory03Repaired  = false
    unit                    udg_IntroKnight01          = null
    unit                    udg_IntroFootman01         = null
    unit                    udg_IntroFootman02         = null
    unit                    udg_IntroRifleman01        = null
    unit                    udg_IntroRifleman02        = null
    unit                    udg_Priest01               = null
    unit                    udg_Priest02               = null
    unit                    udg_Critter                = null
    integer                 udg_BoxesKilled            = 0
    unit                    udg_NagaBoat01             = null
    unit                    udg_NagaBoat02             = null
    player                  udg_P5_Undead              = null
    player                  udg_P2_Vashj               = null
    integer                 udg_ObservatoriesRepaired  = 0
    unit                    udg_NagaShipyard           = null
    unit                    udg_SpellBreaker01         = null
    unit                    udg_SpellBreaker02         = null
    timer                   udg_AnimTimer              = null
    real                    udg_AnimInterval           = 0
    real                    udg_AnimTimePercent1       = 0
    real                    udg_AnimSpeedPrev1         = 0
    real                    udg_AnimLifePercent1       = 0
    real                    udg_AnimSpeed1             = 0
    real                    udg_AnimTimeTotal          = 0
    real                    udg_AnimTimePercent2       = 0
    real                    udg_AnimSpeedPrev2         = 0
    real                    udg_AnimLifePercent2       = 0
    real                    udg_AnimSpeed2             = 0
    real                    udg_AnimTimePercent3       = 0
    real                    udg_AnimSpeedPrev3         = 0
    real                    udg_AnimLifePercent3       = 0
    real                    udg_AnimSpeed3             = 0
    location                udg_WhichPoint             = null
    unit                    udg_Naga01                 = null
    unit                    udg_Naga02                 = null
    questitem               udg_QuestHiddenCachesAmountFound = null
    questitem               udg_QuestOrbFind           = null
    integer                 udg_MagicalVaultsFound     = 0
    unit                    udg_MagicalVault04         = null
    sound                   udg_PlateActivationSound   = null
    sound                   udg_PlateResetSound        = null
    sound                   udg_ElevatorSound          = null
    unit                    udg_KaelCinematic          = null
    effect                  udg_Farsight01             = null
    effect                  udg_Farsight02             = null
    effect                  udg_Farsight03             = null
    effect                  udg_Farsight04             = null
    effect                  udg_Farsight05             = null
    effect                  udg_Farsight06             = null
    effect                  udg_Farsight07             = null
    effect                  udg_Farsight08             = null
    questitem               udg_QuestObservatoryReq01  = null
    fogmodifier             udg_BoxSight01             = null
    fogmodifier             udg_BoxSight02             = null
    fogmodifier             udg_BoxSight03             = null
    fogmodifier             udg_BoxSight04             = null
    rect                    udg_FirstDoneRegion        = null
    rect                    udg_WhichRegion            = null
    camerasetup             udg_WhichCamera            = null
    location                udg_PingPoint              = null
    unit                    udg_NagaGuard01            = null
    unit                    udg_NagaGuard02            = null
    unit                    udg_VictoryKnight01        = null
    unit                    udg_VictoryKnight02        = null
    unit                    udg_VictoryKnight03        = null
    unit                    udg_VictoryKnight04        = null
    unit                    udg_VictoryKnight05        = null
    unit                    udg_VictoryKnight06        = null
    unit                    udg_VictoryRifleman01      = null
    unit                    udg_VictoryRifleman02      = null
    unit                    udg_VictoryRifleman03      = null
    unit                    udg_VictoryRifleman04      = null
    unit                    udg_VictoryPriest01        = null
    unit                    udg_VictoryPriest02        = null
    group                   udg_RoamingDemons01        = null
    group                   udg_RoamingDemons02        = null
    group                   udg_RoamingDemons03        = null
    group                   udg_RoamingCrabs01         = null
    group                   udg_RoamingCrabs02         = null
    group                   udg_RoamingZombies01       = null
    location                udg_TempPoint              = null
    location                udg_zPointNewPeasantWalkTo = null
    location                udg_zPointNewPeasant       = null

    // Generated
    rect                    gg_rct_Attacking_to        = null
    rect                    gg_rct_Box_One_Vision_01   = null
    rect                    gg_rct_Box_One_Vision_02   = null
    rect                    gg_rct_Box_One_Vision_03   = null
    rect                    gg_rct_Box_One_Vision_04   = null
    rect                    gg_rct_Box01a              = null
    rect                    gg_rct_Box02a              = null
    rect                    gg_rct_Box02b              = null
    rect                    gg_rct_Box03a              = null
    rect                    gg_rct_Box04a              = null
    rect                    gg_rct_Burning_Shipyard    = null
    rect                    gg_rct_Cache_01            = null
    rect                    gg_rct_Cache_02            = null
    rect                    gg_rct_Cache_03            = null
    rect                    gg_rct_Cache_04            = null
    rect                    gg_rct_Cage_01             = null
    rect                    gg_rct_Cage_02             = null
    rect                    gg_rct_Cast_Water_Elemental_01 = null
    rect                    gg_rct_CreatePriest01      = null
    rect                    gg_rct_CreatePriest02      = null
    rect                    gg_rct_CreateSpellBreaker01 = null
    rect                    gg_rct_CreateSpellBreaker02 = null
    rect                    gg_rct_Gameplay_Furion_Start = null
    rect                    gg_rct_Gameplay_Kael_Start = null
    rect                    gg_rct_Gameplay_Priest_01  = null
    rect                    gg_rct_Gameplay_Priest_02  = null
    rect                    gg_rct_Gameplay_SpellBreaker_01 = null
    rect                    gg_rct_Gameplay_SpellBreaker_02 = null
    rect                    gg_rct_Garithos_Table      = null
    rect                    gg_rct_Group_Units         = null
    rect                    gg_rct_HARD_Assassin_01    = null
    rect                    gg_rct_HARD_Assassin_02    = null
    rect                    gg_rct_HARD_Crypt          = null
    rect                    gg_rct_HARD_Fel_Guards     = null
    rect                    gg_rct_HARD_Felbeast       = null
    rect                    gg_rct_Hard_Ghoul02        = null
    rect                    gg_rct_HARD_Gnoll_01       = null
    rect                    gg_rct_HARD_Gnoll_02       = null
    rect                    gg_rct_HARD_Gnoll_03       = null
    rect                    gg_rct_HARD_Gnoll_04       = null
    rect                    gg_rct_HARD_Gnoll_05       = null
    rect                    gg_rct_Hard_Necro01        = null
    rect                    gg_rct_Hard_Necro02        = null
    rect                    gg_rct_HARD_Temple         = null
    rect                    gg_rct_Intro_BloodElves_Move = null
    rect                    gg_rct_Intro_Furion_Start  = null
    rect                    gg_rct_Intro_Kael_Start    = null
    rect                    gg_rct_Kael                = null
    rect                    gg_rct_Keal_Naga_Cinematic = null
    rect                    gg_rct_Keal_Table          = null
    rect                    gg_rct_Keal_Walks_to_Garithos = null
    rect                    gg_rct_Map_Table           = null
    rect                    gg_rct_Naga_Cinematic      = null
    rect                    gg_rct_Naga_Unit           = null
    rect                    gg_rct_Naga_Unit_Move      = null
    rect                    gg_rct_NagaBoatEnd01       = null
    rect                    gg_rct_NagaBoatEnd02       = null
    rect                    gg_rct_NagaBoatMove01      = null
    rect                    gg_rct_NagaBoatMove02      = null
    rect                    gg_rct_NagaBoatStart01     = null
    rect                    gg_rct_NagaBoatStart02     = null
    rect                    gg_rct_NagaGuard_Create_01 = null
    rect                    gg_rct_NagaGuard_Create_02 = null
    rect                    gg_rct_NagaGuard_Move_01   = null
    rect                    gg_rct_NagaGuard_Move_02   = null
    rect                    gg_rct_NagaKaelMove        = null
    rect                    gg_rct_NagaMove01          = null
    rect                    gg_rct_NagaMove02          = null
    rect                    gg_rct_NagaStart01         = null
    rect                    gg_rct_NagaStart02         = null
    rect                    gg_rct_New_Peasant         = null
    rect                    gg_rct_New_Peasant_Walk_to = null
    rect                    gg_rct_OceanSound1         = null
    rect                    gg_rct_OceanSound10        = null
    rect                    gg_rct_OceanSound12        = null
    rect                    gg_rct_OceanSound14        = null
    rect                    gg_rct_OceanSound15        = null
    rect                    gg_rct_OceanSound17        = null
    rect                    gg_rct_OceanSound18        = null
    rect                    gg_rct_OceanSound2         = null
    rect                    gg_rct_OceanSound20        = null
    rect                    gg_rct_OceanSound21        = null
    rect                    gg_rct_OceanSound22        = null
    rect                    gg_rct_OceanSound23        = null
    rect                    gg_rct_OceanSound24        = null
    rect                    gg_rct_OceanSound25        = null
    rect                    gg_rct_OceanSound26        = null
    rect                    gg_rct_OceanSound27        = null
    rect                    gg_rct_OceanSound28        = null
    rect                    gg_rct_OceanSound29        = null
    rect                    gg_rct_OceanSound3         = null
    rect                    gg_rct_OceanSound30        = null
    rect                    gg_rct_OceanSound31        = null
    rect                    gg_rct_OceanSound32        = null
    rect                    gg_rct_OceanSound4         = null
    rect                    gg_rct_OceanSound5         = null
    rect                    gg_rct_OceanSound6         = null
    rect                    gg_rct_OceanSound7         = null
    rect                    gg_rct_OceanSound8         = null
    rect                    gg_rct_Peasant_01          = null
    rect                    gg_rct_Peasant_02          = null
    rect                    gg_rct_Player_1_Units_Attack = null
    rect                    gg_rct_Priest01            = null
    rect                    gg_rct_Priest01_Follow     = null
    rect                    gg_rct_Priest02            = null
    rect                    gg_rct_Priest02_Follow     = null
    rect                    gg_rct_Reblack_Mask        = null
    rect                    gg_rct_Region_056          = null
    rect                    gg_rct_Remove_Garithos_Units = null
    rect                    gg_rct_Roaming_Crabs_01    = null
    rect                    gg_rct_Roaming_Crabs_02    = null
    rect                    gg_rct_Roaming_Demons_01   = null
    rect                    gg_rct_Roaming_Demons_02   = null
    rect                    gg_rct_Roaming_Demons_03   = null
    rect                    gg_rct_Roaming_Zombies_01  = null
    rect                    gg_rct_Runes_on_Ground     = null
    rect                    gg_rct_Saving_Riflemen     = null
    rect                    gg_rct_Side_Quest_Intro    = null
    rect                    gg_rct_Spell_Steal         = null
    rect                    gg_rct_SpellBreaker_Follow_01 = null
    rect                    gg_rct_SpellBreaker_Follow_02 = null
    rect                    gg_rct_SpellBreaker01      = null
    rect                    gg_rct_SpellBreaker02      = null
    rect                    gg_rct_Start_Yellow_AI     = null
    rect                    gg_rct_StreamSound10       = null
    rect                    gg_rct_StreamSound11       = null
    rect                    gg_rct_StreamSound13       = null
    rect                    gg_rct_StreamSound15       = null
    rect                    gg_rct_StreamSound16       = null
    rect                    gg_rct_StreamSound2        = null
    rect                    gg_rct_StreamSound3        = null
    rect                    gg_rct_StreamSound4        = null
    rect                    gg_rct_StreamSound8        = null
    rect                    gg_rct_StreamSound9        = null
    rect                    gg_rct_Tower_01_Reveal     = null
    rect                    gg_rct_Tower_02_Reveal     = null
    rect                    gg_rct_Tower_03_Reveal     = null
    rect                    gg_rct_Tower_TripwireB     = null
    rect                    gg_rct_Tower_TripwireC     = null
    rect                    gg_rct_Tree_Wall_to_Box    = null
    rect                    gg_rct_Tree_Wall_to_Box_02 = null
    rect                    gg_rct_Undead_TripwireA    = null
    rect                    gg_rct_Victory_Garithos_Exit_01 = null
    rect                    gg_rct_Victory_Garithos_Exit_02 = null
    rect                    gg_rct_Victory_Garithos_Start = null
    rect                    gg_rct_Victory_Kael_Start  = null
    rect                    gg_rct_Victory_Knight_01   = null
    rect                    gg_rct_Victory_Knight_02   = null
    rect                    gg_rct_Victory_Knight_03   = null
    rect                    gg_rct_Victory_Knight_04   = null
    rect                    gg_rct_Victory_Knight_05   = null
    rect                    gg_rct_Victory_Knight_06   = null
    rect                    gg_rct_Victory_Priest_01   = null
    rect                    gg_rct_Victory_Priest_02   = null
    rect                    gg_rct_Victory_Rifleman_01 = null
    rect                    gg_rct_Victory_Rifleman_02 = null
    rect                    gg_rct_Victory_Rifleman_03 = null
    rect                    gg_rct_Victory_Rifleman_04 = null
    rect                    gg_rct_WaterLappingSound2  = null
    rect                    gg_rct_WaterLappingSound5  = null
    rect                    gg_rct_WaterLappingSound6  = null
    rect                    gg_rct_WaterLappingsound7  = null
    camerasetup             gg_cam_Elevator_Mini_Cinematic = null
    camerasetup             gg_cam_Intro_01            = null
    camerasetup             gg_cam_Intro_02            = null
    camerasetup             gg_cam_Intro_03            = null
    camerasetup             gg_cam_Intro_04            = null
    camerasetup             gg_cam_Intro_05            = null
    camerasetup             gg_cam_Intro_06            = null
    camerasetup             gg_cam_Intro_07            = null
    camerasetup             gg_cam_Intro_08            = null
    camerasetup             gg_cam_Intro_Skipped       = null
    camerasetup             gg_cam_Naga_01             = null
    camerasetup             gg_cam_Naga_02             = null
    camerasetup             gg_cam_Naga_03             = null
    camerasetup             gg_cam_Naga_04             = null
    camerasetup             gg_cam_Tower_Mini_Cinematic_01 = null
    camerasetup             gg_cam_Tower_Mini_Cinematic_02 = null
    camerasetup             gg_cam_Tower_Mini_Cinematic_03 = null
    camerasetup             gg_cam_Victory_01          = null
    camerasetup             gg_cam_Victory_02          = null
    sound                   gg_snd_A01Garithos01       = null
    sound                   gg_snd_A01Garithos03       = null
    sound                   gg_snd_A01Garithos05       = null
    sound                   gg_snd_A01Garithos07       = null
    sound                   gg_snd_A01Garithos09       = null
    sound                   gg_snd_A01Garithos31       = null
    sound                   gg_snd_A01Garithos33       = null
    sound                   gg_snd_A01Kael02           = null
    sound                   gg_snd_A01Kael04           = null
    sound                   gg_snd_A01Kael06           = null
    sound                   gg_snd_A01Kael08           = null
    sound                   gg_snd_A01Kael10           = null
    sound                   gg_snd_A01Kael11           = null
    sound                   gg_snd_A01Kael12           = null
    sound                   gg_snd_A01Kael13           = null
    sound                   gg_snd_A01Kael14           = null
    sound                   gg_snd_A01Kael15           = null
    sound                   gg_snd_A01Kael16           = null
    sound                   gg_snd_A01Kael17           = null
    sound                   gg_snd_A01Kael19           = null
    sound                   gg_snd_A01Kael21           = null
    sound                   gg_snd_A01Kael23           = null
    sound                   gg_snd_A01Kael26           = null
    sound                   gg_snd_A01Kael27           = null
    sound                   gg_snd_A01Kael30           = null
    sound                   gg_snd_A01Kael32           = null
    sound                   gg_snd_A01LadyVashj18      = null
    sound                   gg_snd_A01LadyVashj20      = null
    sound                   gg_snd_A01LadyVashj22      = null
    sound                   gg_snd_D06AFootman06       = null
    sound                   gg_snd_RiflemanReady1      = null
    sound                   gg_snd_HorseLoop1          = null
    sound                   gg_snd_HorseLoop2          = null
    sound                   gg_snd_HorseLoop3          = null
    sound                   gg_snd_KnightNoRiderWhat1  = null
    sound                   gg_snd_KnightNoRiderWhat3  = null
    sound                   gg_snd_KnightNoRiderWhat2  = null
    sound                   gg_snd_WaterStreamLoop1    = null
    sound                   gg_snd_WaterWavesLoop1     = null
    sound                   gg_snd_WaterLakeLoop1      = null
    trigger                 gg_trg_Initialization      = null
    trigger                 gg_trg_Init_01_Players     = null
    trigger                 gg_trg_Init_02_Units       = null
    trigger                 gg_trg_Init_03_Music       = null
    trigger                 gg_trg_Init_04_Environment = null
    trigger                 gg_trg_Init_05_Quests      = null
    trigger                 gg_trg_Init_06a_Hard       = null
    trigger                 gg_trg_Init_06b_Normal     = null
    trigger                 gg_trg_Init_06c_Easy       = null
    trigger                 gg_trg_Load_Heroes         = null
    trigger                 gg_trg_Load_Kael           = null
    trigger                 gg_trg_Experience_Cap_Kael = null
    trigger                 gg_trg_Cinematic_Revival   = null
    trigger                 gg_trg_DEBUG_MID           = null
    trigger                 gg_trg_DEBUG_END           = null
    trigger                 gg_trg_Intro_Cinematic_Q   = null
    trigger                 gg_trg_Intro_Skipped       = null
    trigger                 gg_trg_Intro_Setup         = null
    trigger                 gg_trg_Intro_Cleanup       = null
    trigger                 gg_trg_Gameplay            = null
    trigger                 gg_trg_Naga_Cinematic_Q    = null
    trigger                 gg_trg_Naga_Skipped        = null
    trigger                 gg_trg_Naga_Setup          = null
    trigger                 gg_trg_Naga_Cleanup        = null
    trigger                 gg_trg_New_Boats           = null
    trigger                 gg_trg_Make_Ghouls_Attack  = null
    trigger                 gg_trg_Tower_MiniCinematic_Q = null
    trigger                 gg_trg_Tower_Setup         = null
    trigger                 gg_trg_Tower_Cleanup       = null
    trigger                 gg_trg_Victory_Cinematic_Q = null
    trigger                 gg_trg_Victory_Skipped     = null
    trigger                 gg_trg_Victory_Setup       = null
    trigger                 gg_trg_Next_Level_Prep     = null
    trigger                 gg_trg_Next_Level_Run      = null
    trigger                 gg_trg_Victory_Cheat       = null
    trigger                 gg_trg_Defeat_Cheat        = null
    trigger                 gg_trg_Quest_Observatory_Create = null
    trigger                 gg_trg_Quest_Observatory_Discover = null
    trigger                 gg_trg_Quest_Observatory_Update_01 = null
    trigger                 gg_trg_Quest_Observatory_Update_02 = null
    trigger                 gg_trg_Quest_Observatory_Completed = null
    trigger                 gg_trg_Quest_Hidden_Caches_Create = null
    trigger                 gg_trg_Quest_Hidden_Caches_Discover = null
    trigger                 gg_trg_Quest_Hidden_Caches_Update_01 = null
    trigger                 gg_trg_Quest_Hidden_Caches_Update_02 = null
    trigger                 gg_trg_Quest_Hidden_Caches_Update_03 = null
    trigger                 gg_trg_Quest_Hidden_Caches_Completed = null
    trigger                 gg_trg_Mission_Failed_all_Units_Dead = null
    trigger                 gg_trg_Mission_Failed_Base_Dead = null
    trigger                 gg_trg_Mission_Failed_TowerDead = null
    trigger                 gg_trg_Hint_Spell_Breakers_Q = null
    trigger                 gg_trg_Hint_Spell_Steal    = null
    trigger                 gg_trg_Hint_Spell_Steal_Q  = null
    trigger                 gg_trg_Hint_Control_Magic  = null
    trigger                 gg_trg_Hint_Control_Magic_Q = null
    trigger                 gg_trg_Hint_Tiny_Castle    = null
    trigger                 gg_trg_Hint_Tiny_Castle_Q  = null
    trigger                 gg_trg_Hint_Runes_Flame_Stirke_01 = null
    trigger                 gg_trg_Hint_Runes_Flame_Stirke_01_Q = null
    trigger                 gg_trg_Hint_Runes_Flame_Stirke_02 = null
    trigger                 gg_trg_Hint_Runes_Flame_Stirke_02_Q = null
    trigger                 gg_trg_Hint_Island_Revealed_01_Q = null
    trigger                 gg_trg_Hint_Keep_Clean_Q   = null
    trigger                 gg_trg_Hint_Undead_Event   = null
    trigger                 gg_trg_Hint_Undead_Q       = null
    trigger                 gg_trg_Low_Goldmines_Q     = null
    trigger                 gg_trg_Start_AI            = null
    trigger                 gg_trg_Start_AI_After_Building_Built = null
    trigger                 gg_trg_AI_Resources_Yellow_Gold = null
    trigger                 gg_trg_AI_Resources_Yellow_Lumber = null
    trigger                 gg_trg_Combat_Detected     = null
    trigger                 gg_trg_Combat_Resolved     = null
    trigger                 gg_trg_Player_Builds_Town  = null
    trigger                 gg_trg_Defeat_Units_all_Dead = null
    trigger                 gg_trg_Defeat_Units_Dead   = null
    trigger                 gg_trg_Defeat_Tower_Dies   = null
    trigger                 gg_trg_Player_Find_Shore   = null
    trigger                 gg_trg_Observatory_Q       = null
    trigger                 gg_trg_Naga_Support        = null
    trigger                 gg_trg_Enlarge_Vision      = null
    trigger                 gg_trg_Leaderboards        = null
    trigger                 gg_trg_Observatory01_Repaired = null
    trigger                 gg_trg_Observatory02_Repaired = null
    trigger                 gg_trg_Observatory03_Repaired = null
    trigger                 gg_trg_Observatory_Repaired_Check = null
    trigger                 gg_trg_Observatory_Repaired_Lines_Q = null
    trigger                 gg_trg_Quest_Observatory_Update_01_Q = null
    trigger                 gg_trg_Hidden_Caches       = null
    trigger                 gg_trg_Hidden_Caches_Q     = null
    trigger                 gg_trg_Box_Lines           = null
    trigger                 gg_trg_Box_Line_01_Q       = null
    trigger                 gg_trg_Box_Line_02_Q       = null
    trigger                 gg_trg_Box_Line_03_Q       = null
    trigger                 gg_trg_Box_Line_04_Q       = null
    trigger                 gg_trg_StepOn_Cache_01     = null
    trigger                 gg_trg_Break_Box_Cache_01  = null
    trigger                 gg_trg_Cache_01            = null
    trigger                 gg_trg_StepOn_Cache_02     = null
    trigger                 gg_trg_Break_Box_Cache_02  = null
    trigger                 gg_trg_Cache_02            = null
    trigger                 gg_trg_StepOn_Cache_03     = null
    trigger                 gg_trg_Break_Box_Cache_03  = null
    trigger                 gg_trg_Cache_03            = null
    trigger                 gg_trg_StepOn_Cache_04     = null
    trigger                 gg_trg_Break_Box_Cache_04  = null
    trigger                 gg_trg_Cache_04            = null
    trigger                 gg_trg_Magical_Vaults_Acquired = null
    trigger                 gg_trg_Roaming_Craps_01    = null
    trigger                 gg_trg_Roaming_Craps_02    = null
    trigger                 gg_trg_Roaming_Demons_01   = null
    trigger                 gg_trg_Roaming_Demons_02   = null
    trigger                 gg_trg_Roaming_Demons_03   = null
    trigger                 gg_trg_Roaming_Zombies_01  = null
    trigger                 gg_trg_Saving_the_Riflemen_by_Orges = null
    trigger                 gg_trg_Trapped_Animal_01   = null
    trigger                 gg_trg_Trapped_Animal_02   = null
    trigger                 gg_trg_Cast_Water_Elemental_01 = null
    trigger                 gg_trg_Cast_Spell_Steal_Spell_01 = null
    trigger                 gg_trg_Runes_Remove_by_Box_02 = null
    trigger                 gg_trg_Runes_Remove_by_Box_04 = null
    trigger                 gg_trg_Island_Four_____Critter = null
    trigger                 gg_trg_Critter_Dies        = null
    trigger                 gg_trg_Init_Tower_Animations = null
    trigger                 gg_trg_Update_Tower1_Animation = null
    trigger                 gg_trg_Update_Tower2_Animation = null
    trigger                 gg_trg_Update_Tower3_Animation = null
    trigger                 gg_trg_Change_the_Icon     = null
    trigger                 gg_trg_Peasant_Dies        = null
    unit                    gg_unit_hfoo_0059          = null
    unit                    gg_unit_ugho_0091          = null
    unit                    gg_unit_haro_0009          = null
    unit                    gg_unit_ncop_0183          = null
    unit                    gg_unit_ncop_0079          = null
    unit                    gg_unit_hrif_0057          = null
    unit                    gg_unit_haro_0048          = null
    unit                    gg_unit_haro_0008          = null
    unit                    gg_unit_nban_0167          = null
    unit                    gg_unit_hfoo_0058          = null
    unit                    gg_unit_hrif_0112          = null
    unit                    gg_unit_Hlgr_0111          = null
    unit                    gg_unit_ugho_0090          = null
    unit                    gg_unit_hkni_0113          = null
    unit                    gg_unit_ugho_0092          = null
    unit                    gg_unit_nwiz_0178          = null
    unit                    gg_unit_hfoo_0025          = null
    unit                    gg_unit_ncop_0036          = null
    unit                    gg_unit_ngol_0026          = null
    unit                    gg_unit_nwiz_0030          = null
    unit                    gg_unit_nwiz_0031          = null
    unit                    gg_unit_nbrg_0033          = null
    unit                    gg_unit_nban_0034          = null
    unit                    gg_unit_nban_0035          = null
    unit                    gg_unit_nwiz_0181          = null
    unit                    gg_unit_nwzr_0172          = null
    unit                    gg_unit_nbrg_0045          = null
    unit                    gg_unit_hfoo_0047          = null
    unit                    gg_unit_hfoo_0050          = null
    unit                    gg_unit_nfgu_0020          = null
    unit                    gg_unit_nfgu_0135          = null
    unit                    gg_unit_nwzg_0149          = null
    unit                    gg_unit_ngnv_0187          = null
    unit                    gg_unit_nenf_0188          = null
    unit                    gg_unit_nwlt_0200          = null
    unit                    gg_unit_nfgu_0160          = null
    unit                    gg_unit_nwlt_0197          = null
    unit                    gg_unit_nftb_0195          = null
    unit                    gg_unit_nwzg_0186          = null
    unit                    gg_unit_nrog_0192          = null
    unit                    gg_unit_nwiz_0133          = null
    unit                    gg_unit_nwiz_0141          = null
    unit                    gg_unit_nwiz_0142          = null
    unit                    gg_unit_nwiz_0147          = null
    unit                    gg_unit_ncop_0114          = null
    unit                    gg_unit_nrat_0184          = null
    unit                    gg_unit_nrat_0185          = null
    unit                    gg_unit_ngnv_0158          = null
    unit                    gg_unit_nfgu_0039          = null
    unit                    gg_unit_nfgu_0189          = null
    unit                    gg_unit_nfgb_0190          = null
    unit                    gg_unit_nrog_0191          = null
    unit                    gg_unit_nfsh_0159          = null
    unit                    gg_unit_nftb_0193          = null
    unit                    gg_unit_nftb_0194          = null
    destructable            gg_dest_LTlt_0134          = null
    destructable            gg_dest_LOcg_1460          = null
    destructable            gg_dest_LTe3_0000          = null
    destructable            gg_dest_LOcg_3606          = null
    destructable            gg_dest_LTcr_4102          = null
    destructable            gg_dest_LTcr_4103          = null
    destructable            gg_dest_LTbs_4104          = null
    destructable            gg_dest_LTbs_4105          = null
    destructable            gg_dest_LTbx_4106          = null
    destructable            gg_dest_LTcr_4107          = null
    destructable            gg_dest_LTcr_4108          = null
    destructable            gg_dest_LTcr_4109          = null
    destructable            gg_dest_LTcr_4110          = null
    destructable            gg_dest_LTcr_4111          = null
    destructable            gg_dest_LTcr_4112          = null
    destructable            gg_dest_LTcr_4113          = null
    destructable            gg_dest_LTcr_4114          = null
    destructable            gg_dest_LTcr_4115          = null
    destructable            gg_dest_LTcr_4116          = null
    destructable            gg_dest_LTcr_4117          = null
    destructable            gg_dest_LTbx_4118          = null
    destructable            gg_dest_LTbr_4119          = null
    destructable            gg_dest_LTbs_4120          = null
    destructable            gg_dest_LTcr_4121          = null
endglobals

function InitGlobals takes nothing returns nothing
    set udg_GameOver = false
    set udg_AP1_Player = Player(0)
    set udg_APG1_Player = bj_FORCE_PLAYER[0]
    set udg_Kael = null
    set udg_HiddenUnits = CreateGroup()
    set udg_SelectedUnits = CreateGroup()
    set udg_IntroSkipped = false
    set udg_NagaSkipped = false
    set udg_LadyVashj = null
    set udg_RevivalHero = null
    set udg_RevivalAltar = null
    set udg_LordGarithos = null
    set udg_InCinematic = false
    set udg_VictorySkipped = false
    set udg_ExpDisabledForKael = false
    set udg_CombatCheckTimer = CreateTimer()
    set udg_InCombat = false
    set udg_GoldNeeded = 0
    set udg_LumberNeeded = 0
    set udg_GoldCost = 0
    set udg_LumberCost = 0
    set udg_Observatory01Repaired = false
    set udg_Observatory02Repaired = false
    set udg_Observatory03Repaired = false
    set udg_BoxesKilled = 0
    set udg_P5_Undead = Player(4)
    set udg_P2_Vashj = Player(1)
    set udg_ObservatoriesRepaired = 0
    set udg_AnimTimer = CreateTimer()
    set udg_AnimInterval = 0.00
    set udg_AnimTimePercent1 = 0
    set udg_AnimSpeedPrev1 = 0
    set udg_AnimLifePercent1 = 0
    set udg_AnimSpeed1 = 0
    set udg_AnimTimeTotal = 0
    set udg_AnimTimePercent2 = 0
    set udg_AnimSpeedPrev2 = 0
    set udg_AnimLifePercent2 = 0
    set udg_AnimSpeed2 = 0
    set udg_AnimTimePercent3 = 0
    set udg_AnimSpeedPrev3 = 0
    set udg_AnimLifePercent3 = 0
    set udg_AnimSpeed3 = 0
    set udg_MagicalVaultsFound = 0
    set udg_KaelCinematic = null
    set udg_RoamingDemons01 = CreateGroup()
    set udg_RoamingDemons02 = CreateGroup()
    set udg_RoamingDemons03 = CreateGroup()
    set udg_RoamingCrabs01 = CreateGroup()
    set udg_RoamingCrabs02 = CreateGroup()
    set udg_RoamingZombies01 = CreateGroup()
endfunction

//***************************************************************************
//*
//*  Unit Item Tables
//*
//***************************************************************************

function Unit000009_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rreb', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000025_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'manh', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000027_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rman', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000040_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'shea', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000075_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rat3', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

        // Item set 1
        call RandomDistReset(  )
        call RandomDistAddItem( 'rre2', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

        // Item set 2
        call RandomDistReset(  )
        call RandomDistAddItem( 'rhe1', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000078_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rman', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000080_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'lnrn', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000083_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'tstr', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000095_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rman', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000097_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rman', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000098_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rre2', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000104_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'pman', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000107_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'mlst', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000120_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rman', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

        // Item set 1
        call RandomDistReset(  )
        call RandomDistAddItem( 'rhe2', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000146_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rhe2', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000161_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'I000', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000166_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rre1', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000167_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rhe3', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000196_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'tint', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction


//***************************************************************************
//*
//*  Destructible Item Tables
//*
//***************************************************************************

function Doodad000302_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'sror', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad001128_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rman', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad001794_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rman', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad001802_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'spro', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad001839_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'tdex', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad003906_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'tsct', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad003909_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'tsct', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad003913_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'pman', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad004102_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rhe1', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad004103_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'gold', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad004104_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'lmbr', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad004106_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'tbar', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad004108_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'gold', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad004110_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'tbak', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad004111_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'tgrh', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad004112_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'shea', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad004113_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'tint', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad004116_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'prvt', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad004118_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'whwd', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad004119_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'shea', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad004120_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rde0', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction


//***************************************************************************
//*
//*  Sounds
//*
//***************************************************************************

function InitSounds takes nothing returns nothing
    set gg_snd_A01Garithos01 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human01x\\A01Garithos01.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A01Garithos01, "A01Garithos01" )
    call SetSoundDuration( gg_snd_A01Garithos01, 6949 )
    set gg_snd_A01Garithos03 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human01x\\A01Garithos03.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A01Garithos03, "A01Garithos03" )
    call SetSoundDuration( gg_snd_A01Garithos03, 12486 )
    set gg_snd_A01Garithos05 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human01x\\A01Garithos05.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A01Garithos05, "A01Garithos05" )
    call SetSoundDuration( gg_snd_A01Garithos05, 12251 )
    set gg_snd_A01Garithos07 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human01x\\A01Garithos07.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A01Garithos07, "A01Garithos07" )
    call SetSoundDuration( gg_snd_A01Garithos07, 17920 )
    set gg_snd_A01Garithos09 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human01x\\A01Garithos09.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A01Garithos09, "A01Garithos09" )
    call SetSoundDuration( gg_snd_A01Garithos09, 9064 )
    set gg_snd_A01Garithos31 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human01x\\A01Garithos31.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A01Garithos31, "A01Garithos31" )
    call SetSoundDuration( gg_snd_A01Garithos31, 9247 )
    set gg_snd_A01Garithos33 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human01x\\A01Garithos33.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A01Garithos33, "A01Garithos33" )
    call SetSoundDuration( gg_snd_A01Garithos33, 18547 )
    set gg_snd_A01Kael02 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human01x\\A01Kael02.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A01Kael02, "A01Kael02" )
    call SetSoundDuration( gg_snd_A01Kael02, 5747 )
    set gg_snd_A01Kael04 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human01x\\A01Kael04.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A01Kael04, "A01Kael04" )
    call SetSoundDuration( gg_snd_A01Kael04, 1646 )
    set gg_snd_A01Kael06 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human01x\\A01Kael06.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A01Kael06, "A01Kael06" )
    call SetSoundDuration( gg_snd_A01Kael06, 3553 )
    set gg_snd_A01Kael08 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human01x\\A01Kael08.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A01Kael08, "A01Kael08" )
    call SetSoundDuration( gg_snd_A01Kael08, 2664 )
    set gg_snd_A01Kael10 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human01x\\A01Kael10.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A01Kael10, "A01Kael10" )
    call SetSoundDuration( gg_snd_A01Kael10, 3474 )
    set gg_snd_A01Kael11 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human01x\\A01Kael11.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A01Kael11, "A01Kael11" )
    call SetSoundDuration( gg_snd_A01Kael11, 6426 )
    set gg_snd_A01Kael12 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human01x\\A01Kael12.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A01Kael12, "A01Kael12" )
    call SetSoundDuration( gg_snd_A01Kael12, 8673 )
    set gg_snd_A01Kael13 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human01x\\A01Kael13.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A01Kael13, "A01Kael13" )
    call SetSoundDuration( gg_snd_A01Kael13, 3657 )
    set gg_snd_A01Kael14 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human01x\\A01Kael14.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A01Kael14, "A01Kael14" )
    call SetSoundDuration( gg_snd_A01Kael14, 3448 )
    set gg_snd_A01Kael15 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human01x\\A01Kael15.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A01Kael15, "A01Kael15" )
    call SetSoundDuration( gg_snd_A01Kael15, 2064 )
    set gg_snd_A01Kael16 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human01x\\A01Kael16.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A01Kael16, "A01Kael16" )
    call SetSoundDuration( gg_snd_A01Kael16, 4598 )
    set gg_snd_A01Kael17 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human01x\\A01Kael17.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A01Kael17, "A01Kael17" )
    call SetSoundDuration( gg_snd_A01Kael17, 2900 )
    set gg_snd_A01Kael19 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human01x\\A01Kael19.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A01Kael19, "A01Kael19" )
    call SetSoundDuration( gg_snd_A01Kael19, 1985 )
    set gg_snd_A01Kael21 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human01x\\A01Kael21.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A01Kael21, "A01Kael21" )
    call SetSoundDuration( gg_snd_A01Kael21, 4180 )
    set gg_snd_A01Kael23 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human01x\\A01Kael23.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A01Kael23, "A01Kael23" )
    call SetSoundDuration( gg_snd_A01Kael23, 5277 )
    set gg_snd_A01Kael26 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human01x\\A01Kael26.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A01Kael26, "A01Kael26" )
    call SetSoundDuration( gg_snd_A01Kael26, 5538 )
    set gg_snd_A01Kael27 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human01x\\A01Kael27.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A01Kael27, "A01Kael27" )
    call SetSoundDuration( gg_snd_A01Kael27, 3840 )
    set gg_snd_A01Kael30 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human01x\\A01Kael30.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A01Kael30, "A01Kael30" )
    call SetSoundDuration( gg_snd_A01Kael30, 5512 )
    set gg_snd_A01Kael32 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human01x\\A01Kael32.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A01Kael32, "A01Kael32" )
    call SetSoundDuration( gg_snd_A01Kael32, 6374 )
    set gg_snd_A01LadyVashj18 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human01x\\A01LadyVashj18.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A01LadyVashj18, "A01LadyVashj18" )
    call SetSoundDuration( gg_snd_A01LadyVashj18, 10971 )
    set gg_snd_A01LadyVashj20 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human01x\\A01LadyVashj20.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A01LadyVashj20, "A01LadyVashj20" )
    call SetSoundDuration( gg_snd_A01LadyVashj20, 6922 )
    set gg_snd_A01LadyVashj22 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human01x\\A01LadyVashj22.mp3", false, false, false, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_A01LadyVashj22, "A01LadyVashj22" )
    call SetSoundDuration( gg_snd_A01LadyVashj22, 11729 )
    set gg_snd_D06AFootman06 = CreateSound( "Sound\\Dialogue\\OrcExpCamp\\OrcQuest06Ax\\D06AFootman06.mp3", false, false, false, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_D06AFootman06, "D06AFootman06" )
    call SetSoundDuration( gg_snd_D06AFootman06, 5016 )
    call SetSoundPitch( gg_snd_D06AFootman06, 1.0 )
    set gg_snd_RiflemanReady1 = CreateSound( "Units\\Human\\Rifleman\\RiflemanReady1.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_RiflemanReady1, "RiflemanReady" )
    call SetSoundDuration( gg_snd_RiflemanReady1, 1158 )
    set gg_snd_HorseLoop1 = CreateSound( "Units\\Human\\Knight\\HorseLoop1.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_HorseLoop1, "HumanKnightMovement" )
    call SetSoundDuration( gg_snd_HorseLoop1, 2101 )
    set gg_snd_HorseLoop2 = CreateSound( "Units\\Human\\Knight\\HorseLoop2.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_HorseLoop2, "HumanKnightMovement" )
    call SetSoundDuration( gg_snd_HorseLoop2, 3228 )
    set gg_snd_HorseLoop3 = CreateSound( "Units\\Human\\Knight\\HorseLoop3.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_HorseLoop3, "HumanKnightMovement" )
    call SetSoundDuration( gg_snd_HorseLoop3, 5317 )
    set gg_snd_KnightNoRiderWhat1 = CreateSound( "Units\\Human\\KnightNoRider\\KnightNoRiderWhat1.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_KnightNoRiderWhat1, "KnightNoRiderWhat" )
    call SetSoundDuration( gg_snd_KnightNoRiderWhat1, 969 )
    set gg_snd_KnightNoRiderWhat3 = CreateSound( "Units\\Human\\KnightNoRider\\KnightNoRiderWhat3.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_KnightNoRiderWhat3, "KnightNoRiderWhat" )
    call SetSoundDuration( gg_snd_KnightNoRiderWhat3, 1858 )
    set gg_snd_KnightNoRiderWhat2 = CreateSound( "Units\\Human\\KnightNoRider\\KnightNoRiderWhat2.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_KnightNoRiderWhat2, "KnightNoRiderWhat" )
    call SetSoundDuration( gg_snd_KnightNoRiderWhat2, 1974 )
    set gg_snd_WaterStreamLoop1 = CreateSound( "Sound\\Ambient\\DoodadEffects\\WaterStreamLoop1.wav", true, true, true, 10, 10, "DoodadsEAX" )
    call SetSoundParamsFromLabel( gg_snd_WaterStreamLoop1, "StreamLoop" )
    call SetSoundDuration( gg_snd_WaterStreamLoop1, 2009 )
    set gg_snd_WaterWavesLoop1 = CreateSound( "Sound\\Ambient\\DoodadEffects\\WaterWavesLoop1.wav", true, true, true, 10, 10, "DoodadsEAX" )
    call SetSoundParamsFromLabel( gg_snd_WaterWavesLoop1, "WavesLoop" )
    call SetSoundDuration( gg_snd_WaterWavesLoop1, 7445 )
    set gg_snd_WaterLakeLoop1 = CreateSound( "Sound\\Ambient\\DoodadEffects\\WaterLakeLoop1.wav", true, true, true, 10, 10, "DoodadsEAX" )
    call SetSoundParamsFromLabel( gg_snd_WaterLakeLoop1, "LakeLoop" )
    call SetSoundDuration( gg_snd_WaterLakeLoop1, 3297 )
endfunction

//***************************************************************************
//*
//*  Destructable Objects
//*
//***************************************************************************

function CreateAllDestructables takes nothing returns nothing
    local destructable d
    local trigger t
    local real life
    set gg_dest_LOcg_1460 = CreateDestructable( 'LOcg', -4096.0, -3328.0, 198.832, 1.141, 0 )
    set gg_dest_LOcg_3606 = CreateDestructable( 'LOcg', -3968.0, -3648.0, 202.237, 1.141, 0 )
    set d = CreateDestructable( 'LTbr', 8032.0, -5344.0, 186.000, 1.499, 0 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, d )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad001128_DropItems )
    set d = CreateDestructable( 'LTbr', -1440.0, -4256.0, 309.000, 1.416, 0 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, d )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad001794_DropItems )
    set d = CreateDestructable( 'LTbr', 160.0, 5152.0, 283.000, 1.155, 0 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, d )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad003913_DropItems )
    set gg_dest_LTbr_4119 = CreateDestructable( 'LTbr', -4896.0, 4320.0, 281.000, 1.483, 0 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, gg_dest_LTbr_4119 )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad004119_DropItems )
    set gg_dest_LTbs_4105 = CreateDestructable( 'LTbs', 5280.0, 1504.0, 350.000, 1.467, 0 )
    set d = CreateDestructable( 'LTbs', 7072.0, 3552.0, 101.000, 1.112, 0 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, d )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad000302_DropItems )
    set gg_dest_LTbs_4120 = CreateDestructable( 'LTbs', -4768.0, 4256.0, 257.000, 1.408, 0 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, gg_dest_LTbs_4120 )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad004120_DropItems )
    set gg_dest_LTbs_4104 = CreateDestructable( 'LTbs', 5280.0, 1696.0, 221.590, 1.100, 0 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, gg_dest_LTbs_4104 )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad004104_DropItems )
    set d = CreateDestructable( 'LTbx', -3552.0, 4512.0, 300.000, 1.335, 0 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, d )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad003906_DropItems )
    set gg_dest_LTbx_4106 = CreateDestructable( 'LTbx', 6496.0, -5280.0, 42.000, 1.360, 0 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, gg_dest_LTbx_4106 )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad004106_DropItems )
    set gg_dest_LTbx_4118 = CreateDestructable( 'LTbx', -4832.0, 4384.0, 312.000, 1.176, 0 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, gg_dest_LTbx_4118 )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad004118_DropItems )
    set d = CreateDestructable( 'LTcr', -3712.0, 4160.0, 184.000, 1.162, 1 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, d )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad003909_DropItems )
    set gg_dest_LTcr_4103 = CreateDestructable( 'LTcr', 5248.0, 1600.0, 257.000, 0.809, 0 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, gg_dest_LTcr_4103 )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad004103_DropItems )
    set gg_dest_LTcr_4112 = CreateDestructable( 'LTcr', -4992.0, -5376.0, 24.000, 0.835, 1 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, gg_dest_LTcr_4112 )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad004112_DropItems )
    set gg_dest_LTcr_4114 = CreateDestructable( 'LTcr', -4736.0, -5440.0, 37.000, 0.927, 0 )
    set gg_dest_LTcr_4107 = CreateDestructable( 'LTcr', 6464.0, -5440.0, 184.000, 0.951, 1 )
    set gg_dest_LTcr_4108 = CreateDestructable( 'LTcr', 6592.0, -5376.0, 317.000, 1.089, 1 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, gg_dest_LTcr_4108 )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad004108_DropItems )
    set gg_dest_LTcr_4109 = CreateDestructable( 'LTcr', 6656.0, -5184.0, 176.000, 0.854, 1 )
    set gg_dest_LTcr_4110 = CreateDestructable( 'LTcr', 6400.0, -5376.0, 205.000, 1.139, 1 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, gg_dest_LTcr_4110 )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad004110_DropItems )
    set gg_dest_LTcr_4111 = CreateDestructable( 'LTcr', 5376.0, 1536.0, 271.000, 1.093, 1 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, gg_dest_LTcr_4111 )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad004111_DropItems )
    set gg_dest_LTcr_4102 = CreateDestructable( 'LTcr', 5376.0, 1664.0, 95.000, 1.051, 1 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, gg_dest_LTcr_4102 )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad004102_DropItems )
    set gg_dest_LTcr_4113 = CreateDestructable( 'LTcr', -4864.0, -5440.0, 317.000, 0.967, 0 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, gg_dest_LTcr_4113 )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad004113_DropItems )
    set gg_dest_LTcr_4115 = CreateDestructable( 'LTcr', -4800.0, -5312.0, 271.000, 0.997, 0 )
    set gg_dest_LTcr_4116 = CreateDestructable( 'LTcr', -4928.0, -5312.0, 321.000, 0.996, 1 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, gg_dest_LTcr_4116 )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad004116_DropItems )
    set gg_dest_LTcr_4117 = CreateDestructable( 'LTcr', -4992.0, 4352.0, 357.000, 0.954, 1 )
    set d = CreateDestructable( 'LTcr', -4800.0, -2048.0, 265.000, 1.119, 1 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, d )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad001802_DropItems )
    set d = CreateDestructable( 'LTcr', -3904.0, -5312.0, 73.000, 0.936, 0 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, d )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad001839_DropItems )
    set gg_dest_LTcr_4121 = CreateDestructable( 'LTcr', -4736.0, 4352.0, 228.000, 0.811, 0 )
    set gg_dest_LTe3_0000 = CreateDestructable( 'LTe3', 9408.0, 3136.0, 0.000, 1.200, 0 )
    set gg_dest_LTlt_0134 = CreateDestructable( 'LTlt', 8960.0, 5312.0, 270.000, 0.988, 0 )
endfunction

//***************************************************************************
//*
//*  Items
//*
//***************************************************************************

function CreateAllItems takes nothing returns nothing
    local integer itemID

    call CreateItem( 'lmbr', 9245.8, -5215.9 )
endfunction

//***************************************************************************
//*
//*  Unit Creation
//*
//***************************************************************************

//===========================================================================
function CreateUnitsForPlayer0 takes nothing returns nothing
    local player p = Player(0)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_hfoo_0025 = CreateUnit( p, 'hfoo', 8481.5, 3112.3, 332.962 )
    set gg_unit_hfoo_0047 = CreateUnit( p, 'hfoo', 8322.3, 3127.2, 332.962 )
    set gg_unit_hfoo_0050 = CreateUnit( p, 'hfoo', 8611.2, 3158.4, 332.962 )
endfunction

//===========================================================================
function CreateUnitsForPlayer3 takes nothing returns nothing
    local player p = Player(3)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_ugho_0090 = CreateUnit( p, 'ugho', 2877.4, -2657.0, 39.444 )
    set gg_unit_ugho_0091 = CreateUnit( p, 'ugho', 2845.0, -2532.3, 6.894 )
    set gg_unit_ugho_0092 = CreateUnit( p, 'ugho', 2974.2, -2702.1, 66.179 )
endfunction

//===========================================================================
function CreateBuildingsForPlayer4 takes nothing returns nothing
    local player p = Player(4)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'uzig', -3488.0, 736.0, 270.000 )
    set u = CreateUnit( p, 'uzig', -3616.0, -480.0, 270.000 )
    set u = CreateUnit( p, 'uzig', -1952.0, -32.0, 270.000 )
    set u = CreateUnit( p, 'uzig', -2656.0, -1248.0, 270.000 )
    set u = CreateUnit( p, 'unp1', -3264.0, 64.0, 270.000 )
    set u = CreateBlightedGoldmine( p, -2752.0, 512.0, 270.000 )
    call SetResourceAmount( u, 12500 )
    set u = CreateUnit( p, 'uaod', -3808.0, 480.0, 270.000 )
    set u = CreateUnit( p, 'uslh', -2176.0, -1024.0, 270.000 )
    set u = CreateUnit( p, 'usep', -2432.0, 0.0, 270.000 )
    set u = CreateUnit( p, 'ugrv', -3328.0, -640.0, 270.000 )
    set u = CreateUnit( p, 'uzg1', -1696.0, -736.0, 270.000 )
    set u = CreateUnit( p, 'utod', -2816.0, -832.0, 270.000 )
endfunction

//===========================================================================
function CreateUnitsForPlayer4 takes nothing returns nothing
    local player p = Player(4)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'ugho', -3282.0, -176.3, 307.890 )
    set u = CreateUnit( p, 'uaco', -2919.5, 313.8, 94.991 )
    set u = CreateUnit( p, 'uaco', -2793.7, 276.2, 284.060 )
    set u = CreateUnit( p, 'uaco', -2677.1, 272.4, 122.897 )
    set u = CreateUnit( p, 'uaco', -2562.3, 285.6, 81.334 )
    set u = CreateUnit( p, 'uaco', -2500.9, 372.5, 301.342 )
    set u = CreateUnit( p, 'ugho', -3580.8, -140.5, 194.321 )
    set u = CreateUnit( p, 'unec', -3136.3, 510.2, 85.685 )
    set u = CreateUnit( p, 'unec', -2931.5, 28.5, 153.824 )
    set u = CreateUnit( p, 'uarb', -2601.9, -457.1, 114.228 )
    set u = CreateUnit( p, 'uarb', -3686.7, -132.4, 114.228 )
    set u = CreateUnit( p, 'uarb', -3121.3, 660.7, 114.228 )
    set u = CreateUnit( p, 'ucry', -2458.5, -366.3, 321.195 )
    set u = CreateUnit( p, 'ucry', -2863.3, -304.0, 175.798 )
endfunction

//===========================================================================
function CreateBuildingsForPlayer5 takes nothing returns nothing
    local player p = Player(5)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_ncop_0036 = CreateUnit( p, 'ncop', 5504.0, 1664.0, 270.000 )
    set gg_unit_ncop_0079 = CreateUnit( p, 'ncop', -4864.0, 4160.0, 270.000 )
    set gg_unit_ncop_0114 = CreateUnit( p, 'ncop', 6400.0, -5184.0, 270.000 )
    set gg_unit_ncop_0183 = CreateUnit( p, 'ncop', -4800.0, -5184.0, 270.000 )
endfunction

//===========================================================================
function CreateNeutralHostile takes nothing returns nothing
    local player p = Player(PLAYER_NEUTRAL_AGGRESSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'nmrm', 6614.8, 4819.9, 210.891 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'nmrm', 6678.6, 4640.2, 289.281 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'nmrm', 6789.4, 4861.4, 1.010 )
    call SetUnitAcquireRange( u, 200.0 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000107_DropItems )
    set u = CreateUnit( p, 'nmrl', 6746.6, 4749.7, 303.660 )
    call SetUnitAcquireRange( u, 200.0 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000097_DropItems )
    set u = CreateUnit( p, 'nwiz', 5743.5, -4987.7, 11.920 )
    call SetUnitAcquireRange( u, 200.0 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000027_DropItems )
    set u = CreateUnit( p, 'nwiz', 5774.4, -4824.3, 268.713 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'n004', -4633.3, 3887.4, 250.404 )
    call SetUnitState( u, UNIT_STATE_MANA, 0 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'npfl', 8361.3, 821.2, 356.905 )
    set gg_unit_nfgu_0020 = CreateUnit( p, 'nfgu', 8502.2, 2143.6, 253.451 )
    call SetUnitAcquireRange( gg_unit_nfgu_0020, 200.0 )
    set u = CreateUnit( p, 'ndmu', 7187.5, 1941.9, 142.618 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'ndmu', 7292.2, 1602.5, 312.340 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'ndmu', 7413.8, 1850.3, 294.650 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'ndmu', 7288.9, 2192.1, 9.472 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'nwzg', 7377.4, -5082.0, 9.130 )
    call SetUnitState( u, UNIT_STATE_MANA, 0 )
    call SetUnitAcquireRange( u, 200.0 )
    set gg_unit_nwiz_0030 = CreateUnit( p, 'nwiz', 7294.5, -4911.2, 33.070 )
    call SetUnitAcquireRange( gg_unit_nwiz_0030, 200.0 )
    set gg_unit_nwiz_0031 = CreateUnit( p, 'nwiz', 7324.6, -5195.6, 66.403 )
    call SetUnitAcquireRange( gg_unit_nwiz_0031, 200.0 )
    set u = CreateUnit( p, 'nenf', 8728.3, -5200.6, 152.176 )
    call SetUnitAcquireRange( u, 200.0 )
    set gg_unit_nbrg_0033 = CreateUnit( p, 'nbrg', 8358.0, -4829.6, 338.470 )
    call SetUnitAcquireRange( gg_unit_nbrg_0033, 200.0 )
    set gg_unit_nban_0034 = CreateUnit( p, 'nban', 8381.9, -3813.5, 226.149 )
    call SetUnitAcquireRange( gg_unit_nban_0034, 200.0 )
    set gg_unit_nban_0035 = CreateUnit( p, 'nban', 8753.1, -3749.9, 118.562 )
    call SetUnitAcquireRange( gg_unit_nban_0035, 200.0 )
    set gg_unit_nfgu_0039 = CreateUnit( p, 'nfgu', 8696.6, -1984.9, 240.236 )
    call SetUnitAcquireRange( gg_unit_nfgu_0039, 200.0 )
    set u = CreateUnit( p, 'nenf', 4203.9, -5015.6, 301.800 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'nogr', -1596.5, -4600.1, 0.000 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000104_DropItems )
    set u = CreateUnit( p, 'nrog', 4565.1, -4907.1, 319.866 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'nbrg', 4279.2, -4820.9, 93.266 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'nbrg', 4255.0, -5184.6, 329.490 )
    call SetUnitAcquireRange( u, 200.0 )
    set gg_unit_nbrg_0045 = CreateUnit( p, 'nbrg', 8801.2, -4853.2, 148.230 )
    call SetUnitAcquireRange( gg_unit_nbrg_0045, 200.0 )
    set u = CreateUnit( p, 'ngnw', -1156.0, 5829.7, 6.185 )
    call SetUnitState( u, UNIT_STATE_MANA, 0 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'nwlt', 1820.2, 2699.8, 285.032 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'nftt', 3154.6, 2544.4, 243.794 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'nftt', 3378.5, 2584.3, 261.054 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'n002', 937.7, -5376.5, 191.360 )
    call SetUnitAcquireRange( u, 200.0 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000075_DropItems )
    set u = CreateUnit( p, 'nenf', 2695.4, -5010.2, 164.960 )
    call SetUnitAcquireRange( u, 200.0 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000080_DropItems )
    set u = CreateUnit( p, 'nbrg', 2461.9, -5112.6, 128.280 )
    call SetUnitAcquireRange( u, 200.0 )
    set gg_unit_hrif_0057 = CreateUnit( p, 'hrif', 5817.9, 2875.8, 335.700 )
    set gg_unit_hfoo_0058 = CreateUnit( p, 'hfoo', 6017.6, 3210.0, 318.483 )
    set gg_unit_hfoo_0059 = CreateUnit( p, 'hfoo', 6037.4, 2896.5, 11.986 )
    set u = CreateUnit( p, 'ngns', -824.9, 5775.4, 85.586 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'nban', 2570.0, -4955.2, 219.415 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'nban', 2735.1, -4828.2, 291.509 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'nbrg', 6172.1, -1941.6, 272.447 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'ngno', -1184.1, 5647.5, 295.475 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'nogr', -1370.5, -4534.6, 178.830 )
    set u = CreateUnit( p, 'nbrg', 6225.8, -2128.0, 272.447 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'nbrg', 6396.7, -2270.4, 44.895 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'ngno', 374.0, 5503.6, 38.206 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'nass', 6412.2, -2039.1, 41.200 )
    call SetUnitAcquireRange( u, 200.0 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000083_DropItems )
    set u = CreateUnit( p, 'nogr', -1492.3, -4856.0, 111.130 )
    set u = CreateUnit( p, 'ngns', 334.1, 5607.6, 20.288 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'nogr', -3361.1, -3367.5, 324.789 )
    set u = CreateUnit( p, 'nogr', -3156.2, -3244.7, 278.623 )
    set u = CreateUnit( p, 'nomg', -3335.8, -3166.5, 313.110 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000040_DropItems )
    set u = CreateUnit( p, 'nogr', -4282.7, -2469.8, 303.120 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000095_DropItems )
    set u = CreateUnit( p, 'nogr', -4137.9, -2328.7, 303.120 )
    set u = CreateUnit( p, 'ngns', 178.8, 5532.0, 22.172 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'npfl', 8555.0, 655.6, 352.914 )
    set u = CreateUnit( p, 'ngnb', -1352.3, 4706.1, 334.456 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'ngnb', -1165.2, 4788.0, 220.832 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'ngnw', -3554.6, 3574.3, 242.344 )
    call SetUnitState( u, UNIT_STATE_MANA, 0 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'ngnv', -2441.2, 5129.8, 340.740 )
    call SetUnitAcquireRange( u, 200.0 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000146_DropItems )
    set u = CreateUnit( p, 'ngnw', -3449.4, 5559.9, 332.632 )
    call SetUnitState( u, UNIT_STATE_MANA, 0 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'ngnw', -3446.7, 5848.5, 344.071 )
    call SetUnitState( u, UNIT_STATE_MANA, 0 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'ngns', -2401.2, 3918.2, 120.139 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'ngns', -2570.6, 3830.9, 135.950 )
    call SetUnitAcquireRange( u, 200.0 )
    set gg_unit_Hlgr_0111 = CreateUnit( p, 'Hlgr', 6197.3, 3139.7, 253.414 )
    set gg_unit_hrif_0112 = CreateUnit( p, 'hrif', 5795.4, 3159.6, 41.647 )
    set gg_unit_hkni_0113 = CreateUnit( p, 'hkni', 5917.4, 3046.1, 2.214 )
    set u = CreateUnit( p, 'ngna', -3269.3, 3653.8, 326.601 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'ngno', -3408.8, 3410.6, 130.522 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'ngno', -3712.8, 3331.7, 116.975 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'ngno', -3788.6, 3547.2, 3.043 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'ngnb', -2244.2, 5126.2, 269.972 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'ngno', -2134.7, 5041.7, 330.642 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'ngno', -2386.1, 4952.9, 0.416 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'ngnb', -3202.4, 5861.4, 339.628 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'ngnb', -3216.0, 5486.4, 9.168 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'nwiz', 6363.6, 371.6, 346.900 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'nscb', 2921.7, -410.3, 103.593 )
    call SetUnitAcquireRange( u, 200.0 )
    set gg_unit_nfgu_0135 = CreateUnit( p, 'nfgu', 8621.8, 1980.0, 133.235 )
    call SetUnitAcquireRange( gg_unit_nfgu_0135, 200.0 )
    set u = CreateUnit( p, 'nfov', 8849.6, -1787.3, 179.900 )
    call SetUnitState( u, UNIT_STATE_MANA, 0 )
    call SetUnitAcquireRange( u, 200.0 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000166_DropItems )
    set u = CreateUnit( p, 'nftk', 2721.7, 3630.9, 298.400 )
    call SetUnitAcquireRange( u, 200.0 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000120_DropItems )
    set u = CreateUnit( p, 'nwlt', 3280.5, 2375.3, 280.603 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'nwiz', 6375.5, 71.2, 36.520 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'nftt', 2659.5, 3401.4, 301.251 )
    call SetUnitAcquireRange( u, 200.0 )
    set gg_unit_nwiz_0141 = CreateUnit( p, 'nwiz', 6524.2, 365.9, 336.505 )
    call SetUnitAcquireRange( gg_unit_nwiz_0141, 200.0 )
    set gg_unit_nwiz_0142 = CreateUnit( p, 'nwiz', 6539.7, 75.3, 57.507 )
    call SetUnitAcquireRange( gg_unit_nwiz_0142, 200.0 )
    set u = CreateUnit( p, 'nfgb', 8719.9, -1784.0, 173.120 )
    call SetUnitAcquireRange( u, 200.0 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000196_DropItems )
    set u = CreateUnit( p, 'nfgu', 8940.8, -508.9, 271.920 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'nfgu', 9103.1, -811.9, 240.236 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'nscb', 3159.8, -298.6, 298.112 )
    call SetUnitAcquireRange( u, 200.0 )
    set gg_unit_nwiz_0147 = CreateUnit( p, 'nwiz', 6211.8, 1529.1, 288.227 )
    call SetUnitAcquireRange( gg_unit_nwiz_0147, 200.0 )
    set u = CreateUnit( p, 'nscb', 3246.1, -584.9, 86.641 )
    call SetUnitAcquireRange( u, 200.0 )
    set gg_unit_nwzg_0149 = CreateUnit( p, 'nwzg', 8569.0, -3844.1, 87.033 )
    call SetUnitAcquireRange( gg_unit_nwzg_0149, 200.0 )
    set u = CreateUnit( p, 'nftt', 2084.3, 1607.9, 288.825 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'nftt', 1639.9, 2750.0, 275.386 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'nwlt', 2053.4, 1194.0, 332.838 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'nwlt', 2191.6, 1336.3, 285.741 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'nfsh', 3009.0, 3707.3, 214.946 )
    call SetUnitState( u, UNIT_STATE_MANA, 0 )
    call SetUnitAcquireRange( u, 200.0 )
    set gg_unit_ngnv_0158 = CreateUnit( p, 'ngnv', -1348.2, 4881.6, 10.141 )
    call SetUnitAcquireRange( gg_unit_ngnv_0158, 200.0 )
    set gg_unit_nfsh_0159 = CreateUnit( p, 'nfsh', 1902.5, 1483.9, 312.157 )
    call SetUnitState( gg_unit_nfsh_0159, UNIT_STATE_MANA, 0 )
    call SetUnitAcquireRange( gg_unit_nfsh_0159, 200.0 )
    set gg_unit_nfgu_0160 = CreateUnit( p, 'nfgu', 8695.3, -1596.1, 240.236 )
    call SetUnitAcquireRange( gg_unit_nfgu_0160, 200.0 )
    set u = CreateUnit( p, 'n005', -999.9, 5774.2, 300.720 )
    call SetUnitAcquireRange( u, 200.0 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000167_DropItems )
    set u = CreateUnit( p, 'nrog', 7924.8, -562.2, 182.750 )
    call SetUnitAcquireRange( u, 200.0 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000025_DropItems )
    set u = CreateUnit( p, 'nbrg', 7816.3, -470.2, 167.535 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'nbrg', 7754.1, -684.9, 148.879 )
    call SetUnitAcquireRange( u, 200.0 )
    set gg_unit_nban_0167 = CreateUnit( p, 'nban', 7684.8, -547.8, 163.948 )
    call SetUnitAcquireRange( gg_unit_nban_0167, 200.0 )
    set u = CreateUnit( p, 'noga', -4876.9, -4917.9, 45.070 )
    call SetUnitState( u, UNIT_STATE_MANA, 0 )
    call SetUnitAcquireRange( u, 200.0 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000009_DropItems )
    set u = CreateUnit( p, 'nogo', -4815.0, -4653.3, 351.085 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'nfsh', 2644.4, 3805.3, 267.743 )
    call SetUnitState( u, UNIT_STATE_MANA, 0 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'nomg', -4507.8, -5062.5, 73.962 )
    call SetUnitState( u, UNIT_STATE_MANA, 0 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'nwzr', 6242.3, 213.9, 36.170 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'n006', 6115.3, 1648.6, 298.176 )
    call SetUnitState( u, UNIT_STATE_MANA, 0 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'n006', 6428.4, 1653.5, 239.629 )
    call SetUnitState( u, UNIT_STATE_MANA, 0 )
    call SetUnitAcquireRange( u, 200.0 )
    set gg_unit_nwiz_0178 = CreateUnit( p, 'nwiz', 6353.5, 1520.4, 238.755 )
    call SetUnitAcquireRange( gg_unit_nwiz_0178, 200.0 )
    set gg_unit_nwiz_0181 = CreateUnit( p, 'nwiz', 6266.8, 1634.0, 269.285 )
    call SetUnitAcquireRange( gg_unit_nwiz_0181, 200.0 )
    set gg_unit_nwzg_0186 = CreateUnit( p, 'nwzg', 5856.9, -4963.2, 140.240 )
    call SetUnitAcquireRange( gg_unit_nwzg_0186, 200.0 )
    set gg_unit_ngnv_0187 = CreateUnit( p, 'ngnv', 240.0, 5408.7, 334.434 )
    call SetUnitAcquireRange( gg_unit_ngnv_0187, 200.0 )
    set gg_unit_nenf_0188 = CreateUnit( p, 'nenf', 6396.4, 224.1, 0.000 )
    call SetUnitAcquireRange( gg_unit_nenf_0188, 200.0 )
    set gg_unit_nfgu_0189 = CreateUnit( p, 'nfgu', 8551.3, -1795.2, 240.236 )
    call SetUnitAcquireRange( gg_unit_nfgu_0189, 200.0 )
    set gg_unit_nfgb_0190 = CreateUnit( p, 'nfgb', 9075.8, -447.0, 264.837 )
    call SetUnitAcquireRange( gg_unit_nfgb_0190, 200.0 )
    set gg_unit_nrog_0191 = CreateUnit( p, 'nrog', 8462.1, -3950.1, 88.744 )
    call SetUnitAcquireRange( gg_unit_nrog_0191, 200.0 )
    set gg_unit_nrog_0192 = CreateUnit( p, 'nrog', 8683.4, -3904.9, 94.361 )
    call SetUnitAcquireRange( gg_unit_nrog_0192, 200.0 )
    set gg_unit_nftb_0193 = CreateUnit( p, 'nftb', 2024.2, 1384.0, 308.669 )
    call SetUnitAcquireRange( gg_unit_nftb_0193, 200.0 )
    set gg_unit_nftb_0194 = CreateUnit( p, 'nftb', 1512.3, 2896.9, 300.000 )
    call SetUnitAcquireRange( gg_unit_nftb_0194, 200.0 )
    set gg_unit_nftb_0195 = CreateUnit( p, 'nftb', 1807.6, 2931.2, 267.418 )
    call SetUnitAcquireRange( gg_unit_nftb_0195, 200.0 )
    set u = CreateUnit( p, 'nftt', 1863.6, 1265.9, 335.824 )
    call SetUnitAcquireRange( u, 200.0 )
    set gg_unit_nwlt_0197 = CreateUnit( p, 'nwlt', 2551.2, 3580.3, 280.603 )
    call SetUnitAcquireRange( gg_unit_nwlt_0197, 200.0 )
    set u = CreateUnit( p, 'nwlt', 1514.9, 2674.2, 319.553 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'nfel', 8835.9, 692.3, 95.470 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000078_DropItems )
    set gg_unit_nwlt_0200 = CreateUnit( p, 'nwlt', 2869.4, 3484.0, 236.028 )
    call SetUnitAcquireRange( gg_unit_nwlt_0200, 200.0 )
    set u = CreateUnit( p, 'n007', -3313.2, 5703.2, 0.000 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'n003', -5033.3, 3758.7, 281.810 )
    call SetUnitState( u, UNIT_STATE_MANA, 0 )
    call SetUnitAcquireRange( u, 200.0 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000098_DropItems )
endfunction

//===========================================================================
function CreateNeutralPassiveBuildings takes nothing returns nothing
    local player p = Player(PLAYER_NEUTRAL_PASSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_haro_0008 = CreateUnit( p, 'haro', 1152.0, 1920.0, 270.000 )
    set life = GetUnitState( gg_unit_haro_0008, UNIT_STATE_LIFE )
    call SetUnitState( gg_unit_haro_0008, UNIT_STATE_LIFE, 0.01 * life )
    set gg_unit_haro_0009 = CreateUnit( p, 'haro', 5760.0, 3584.0, 270.000 )
    set life = GetUnitState( gg_unit_haro_0009, UNIT_STATE_LIFE )
    call SetUnitState( gg_unit_haro_0009, UNIT_STATE_LIFE, 0.01 * life )
    set u = CreateUnit( p, 'nshp', 832.0, 3200.0, 270.000 )
    set u = CreateUnit( p, 'nmoo', 8128.0, -512.0, 270.000 )
    set gg_unit_ngol_0026 = CreateUnit( p, 'ngol', 3584.0, 384.0, 270.000 )
    call SetResourceAmount( gg_unit_ngol_0026, 12500 )
    set u = CreateUnit( p, 'ngnh', -672.0, 6048.0, 270.000 )
    set u = CreateUnit( p, 'ngt2', -1120.0, 6112.0, 270.000 )
    set u = CreateUnit( p, 'ngt2', -1376.0, 5728.0, 270.000 )
    set gg_unit_haro_0048 = CreateUnit( p, 'haro', -4032.0, 5696.0, 270.000 )
    set life = GetUnitState( gg_unit_haro_0048, UNIT_STATE_LIFE )
    call SetUnitState( gg_unit_haro_0048, UNIT_STATE_LIFE, 0.01 * life )
    set u = CreateUnit( p, 'nfh0', 2496.0, 4288.0, 270.000 )
    set u = CreateUnit( p, 'ntn2', -3552.0, -3424.0, 270.000 )
    set u = CreateUnit( p, 'nten', -1568.0, -4192.0, 270.000 )
    set u = CreateUnit( p, 'nten', -1696.0, -5024.0, 270.000 )
    set u = CreateUnit( p, 'nten', -2784.0, -3168.0, 270.000 )
    set u = CreateUnit( p, 'nten', -4320.0, -2016.0, 270.000 )
    set u = CreateUnit( p, 'nten', -4640.0, -2208.0, 270.000 )
    set u = CreateUnit( p, 'ngt2', -3616.0, 3936.0, 270.000 )
    set u = CreateUnit( p, 'nfh1', 3360.0, 3552.0, 270.000 )
    set u = CreateUnit( p, 'nfh1', 3680.0, 2784.0, 270.000 )
    set u = CreateUnit( p, 'ngt2', -2272.0, 5920.0, 270.000 )
    set u = CreateUnit( p, 'ngnh', -2592.0, 5984.0, 270.000 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000161_DropItems )
    set u = CreateUnit( p, 'nfh1', 2080.0, 3232.0, 270.000 )
    set u = CreateUnit( p, 'ngol', -256.0, 6144.0, 270.000 )
    call SetResourceAmount( u, 12500 )
    set u = CreateUnit( p, 'ngme', 3072.0, 4096.0, 270.000 )
    set u = CreateUnit( p, 'ntn2', -5088.0, -4832.0, 270.000 )
    set u = CreateUnit( p, 'n001', -5152.0, -5280.0, 270.000 )
    set u = CreateUnit( p, 'ntn2', -4192.0, -5280.0, 270.000 )
    set u = CreateUnit( p, 'nmoo', 1472.0, 320.0, 270.000 )
endfunction

//===========================================================================
function CreateNeutralPassive takes nothing returns nothing
    local player p = Player(PLAYER_NEUTRAL_PASSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_nrat_0184 = CreateUnit( p, 'nrat', 7137.5, 2640.7, 310.263 )
    set gg_unit_nrat_0185 = CreateUnit( p, 'nrat', 7104.0, 3617.3, 79.291 )
endfunction

//===========================================================================
function CreatePlayerBuildings takes nothing returns nothing
    call CreateBuildingsForPlayer4(  )
    call CreateBuildingsForPlayer5(  )
endfunction

//===========================================================================
function CreatePlayerUnits takes nothing returns nothing
    call CreateUnitsForPlayer0(  )
    call CreateUnitsForPlayer3(  )
    call CreateUnitsForPlayer4(  )
endfunction

//===========================================================================
function CreateAllUnits takes nothing returns nothing
    call CreateNeutralPassiveBuildings(  )
    call CreatePlayerBuildings(  )
    call CreateNeutralHostile(  )
    call CreateNeutralPassive(  )
    call CreatePlayerUnits(  )
endfunction

//***************************************************************************
//*
//*  Regions
//*
//***************************************************************************

function CreateRegions takes nothing returns nothing
    local weathereffect we

    set gg_rct_Attacking_to = Rect( 2912.0, -3936.0, 3840.0, -2944.0 )
    set gg_rct_Box_One_Vision_01 = Rect( 5184.0, 1376.0, 5664.0, 1888.0 )
    set gg_rct_Box_One_Vision_02 = Rect( 6272.0, -5632.0, 6784.0, -5120.0 )
    set gg_rct_Box_One_Vision_03 = Rect( -5120.0, -5632.0, -4608.0, -5120.0 )
    set gg_rct_Box_One_Vision_04 = Rect( -5120.0, 3968.0, -4608.0, 4480.0 )
    set gg_rct_Box01a = Rect( 5184.0, 1376.0, 5568.0, 1888.0 )
    set gg_rct_Box02a = Rect( 6336.0, -5504.0, 6656.0, -5280.0 )
    set gg_rct_Box02b = Rect( 6560.0, -5248.0, 6752.0, -5120.0 )
    set gg_rct_Box03a = Rect( -5056.0, -5504.0, -4672.0, -5248.0 )
    set gg_rct_Box04a = Rect( -5056.0, 4192.0, -4672.0, 4448.0 )
    set gg_rct_Burning_Shipyard = Rect( 3104.0, -2496.0, 3232.0, -2368.0 )
    set gg_rct_Cache_01 = Rect( 5408.0, 1568.0, 5600.0, 1760.0 )
    set gg_rct_Cache_02 = Rect( 6304.0, -5280.0, 6496.0, -5088.0 )
    set gg_rct_Cache_03 = Rect( -4896.0, -5280.0, -4704.0, -5088.0 )
    set gg_rct_Cache_04 = Rect( -4960.0, 4064.0, -4768.0, 4256.0 )
    set gg_rct_Cage_01 = Rect( -4160.0, -3392.0, -4032.0, -3264.0 )
    set gg_rct_Cage_02 = Rect( -4032.0, -3744.0, -3904.0, -3616.0 )
    set gg_rct_Cast_Water_Elemental_01 = Rect( 8128.0, -3520.0, 8960.0, -3040.0 )
    set gg_rct_CreatePriest01 = Rect( 7936.0, 2944.0, 8000.0, 3008.0 )
    set gg_rct_CreatePriest02 = Rect( 7936.0, 3168.0, 8000.0, 3232.0 )
    set gg_rct_CreateSpellBreaker01 = Rect( 7776.0, 2944.0, 7840.0, 3008.0 )
    set gg_rct_CreateSpellBreaker02 = Rect( 7744.0, 3168.0, 7808.0, 3232.0 )
    set gg_rct_Gameplay_Furion_Start = Rect( -256.0, 7744.0, -128.0, 7872.0 )
    set gg_rct_Gameplay_Kael_Start = Rect( 8256.0, 3264.0, 8384.0, 3392.0 )
    set gg_rct_Gameplay_Priest_01 = Rect( 8352.0, 3488.0, 8448.0, 3584.0 )
    set gg_rct_Gameplay_Priest_02 = Rect( 8480.0, 3456.0, 8576.0, 3552.0 )
    set gg_rct_Gameplay_SpellBreaker_01 = Rect( 8448.0, 3328.0, 8544.0, 3424.0 )
    set gg_rct_Gameplay_SpellBreaker_02 = Rect( 8576.0, 3296.0, 8672.0, 3392.0 )
    set gg_rct_Garithos_Table = Rect( 6208.0, 2528.0, 6304.0, 2624.0 )
    set gg_rct_Group_Units = Rect( 1984.0, -4320.0, 3488.0, -2528.0 )
    set gg_rct_HARD_Assassin_01 = Rect( 7840.0, -416.0, 7968.0, -288.0 )
    set gg_rct_HARD_Assassin_02 = Rect( 7840.0, -768.0, 7968.0, -640.0 )
    set gg_rct_HARD_Crypt = Rect( -1696.0, -1440.0, -1376.0, -1120.0 )
    set gg_rct_HARD_Fel_Guards = Rect( 8672.0, 2080.0, 8800.0, 2208.0 )
    set gg_rct_HARD_Felbeast = Rect( 8608.0, 480.0, 8736.0, 608.0 )
    set gg_rct_Hard_Ghoul02 = Rect( -384.0, 7712.0, -256.0, 7840.0 )
    set gg_rct_HARD_Gnoll_01 = Rect( -1312.0, 5856.0, -1184.0, 5984.0 )
    set gg_rct_HARD_Gnoll_02 = Rect( -3392.0, 5952.0, -3264.0, 6080.0 )
    set gg_rct_HARD_Gnoll_03 = Rect( -3392.0, 5376.0, -3264.0, 5504.0 )
    set gg_rct_HARD_Gnoll_04 = Rect( -3616.0, 3296.0, -3488.0, 3424.0 )
    set gg_rct_HARD_Gnoll_05 = Rect( -3264.0, 3392.0, -3136.0, 3520.0 )
    set gg_rct_Hard_Necro01 = Rect( -704.0, 7392.0, -576.0, 7520.0 )
    set gg_rct_Hard_Necro02 = Rect( -224.0, 7872.0, -96.0, 8000.0 )
    set gg_rct_HARD_Temple = Rect( -2240.0, -640.0, -1920.0, -320.0 )
    set gg_rct_Intro_BloodElves_Move = Rect( 5344.0, 2656.0, 5664.0, 3008.0 )
    set gg_rct_Intro_Furion_Start = Rect( -576.0, 7168.0, -448.0, 7296.0 )
    set gg_rct_Intro_Kael_Start = Rect( 7808.0, 3040.0, 7936.0, 3168.0 )
    set gg_rct_Kael = Rect( 7072.0, 2976.0, 7200.0, 3104.0 )
    set gg_rct_Keal_Naga_Cinematic = Rect( 2912.0, -3968.0, 3040.0, -3840.0 )
    set gg_rct_Keal_Table = Rect( 6400.0, 2656.0, 6496.0, 2752.0 )
    set gg_rct_Keal_Walks_to_Garithos = Rect( 6400.0, 3072.0, 6496.0, 3168.0 )
    set gg_rct_Map_Table = Rect( 6368.0, 2560.0, 6432.0, 2624.0 )
    set gg_rct_Naga_Cinematic = Rect( 2560.0, -6016.0, 3840.0, -2208.0 )
    set gg_rct_Naga_Unit = Rect( 2752.0, -1344.0, 2880.0, -1216.0 )
    set gg_rct_Naga_Unit_Move = Rect( 2688.0, -2656.0, 2816.0, -2528.0 )
    set gg_rct_NagaBoatEnd01 = Rect( 2848.0, -2144.0, 2976.0, -2016.0 )
    set gg_rct_NagaBoatEnd02 = Rect( 3456.0, -2464.0, 3584.0, -2336.0 )
    set gg_rct_NagaBoatMove01 = Rect( 3104.0, -1632.0, 3232.0, -1504.0 )
    set gg_rct_NagaBoatMove02 = Rect( 2464.0, -1824.0, 2592.0, -1696.0 )
    set gg_rct_NagaBoatStart01 = Rect( 640.0, -1536.0, 768.0, -1408.0 )
    set gg_rct_NagaBoatStart02 = Rect( 768.0, -1120.0, 896.0, -992.0 )
    set gg_rct_NagaGuard_Create_01 = Rect( 2560.0, -1152.0, 2688.0, -1024.0 )
    set gg_rct_NagaGuard_Create_02 = Rect( 2880.0, -1056.0, 3008.0, -928.0 )
    set gg_rct_NagaGuard_Move_01 = Rect( 2528.0, -2496.0, 2624.0, -2400.0 )
    set gg_rct_NagaGuard_Move_02 = Rect( 2752.0, -2368.0, 2848.0, -2272.0 )
    set gg_rct_NagaKaelMove = Rect( 2976.0, -2912.0, 3104.0, -2752.0 )
    set gg_rct_NagaMove01 = Rect( 3136.0, -2080.0, 3264.0, -1920.0 )
    set gg_rct_NagaMove02 = Rect( 2784.0, -1760.0, 2912.0, -1632.0 )
    set gg_rct_NagaStart01 = Rect( 1024.0, -1536.0, 1152.0, -1408.0 )
    set gg_rct_NagaStart02 = Rect( 1280.0, -1248.0, 1408.0, -1120.0 )
    set gg_rct_New_Peasant = Rect( 9312.0, 3072.0, 9408.0, 3200.0 )
    set gg_rct_New_Peasant_Walk_to = Rect( 8992.0, 3072.0, 9088.0, 3200.0 )
    set gg_rct_OceanSound1 = Rect( 960.0, 5344.0, 9472.0, 6560.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, 5216.0, 5952.0, 0.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 8512.0, 1216.0 )
    set gg_rct_OceanSound10 = Rect( 1920.0, -2080.0, 2880.0, -512.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, 2400.0, -1296.0, -0.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 960.0, 1568.0 )
    set gg_rct_OceanSound12 = Rect( 288.0, -2144.0, 1952.0, -800.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, 1120.0, -1472.0, -0.1 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 1664.0, 1344.0 )
    set gg_rct_OceanSound14 = Rect( -1120.0, -3648.0, 64.0, -2592.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -528.0, -3120.0, 0.7 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 1184.0, 1056.0 )
    set gg_rct_OceanSound15 = Rect( 32.0, -4032.0, 896.0, -2112.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, 464.0, -3072.0, 6.1 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 864.0, 1920.0 )
    set gg_rct_OceanSound17 = Rect( -768.0, -5632.0, 416.0, -3616.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -176.0, -4624.0, 52.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 1184.0, 2016.0 )
    set gg_rct_OceanSound18 = Rect( 384.0, -5664.0, 992.0, -5184.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, 688.0, -5424.0, 132.6 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 608.0, 480.0 )
    set gg_rct_OceanSound2 = Rect( 7872.0, 4800.0, 8768.0, 5440.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, 8320.0, 5120.0, 74.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 896.0, 640.0 )
    set gg_rct_OceanSound20 = Rect( -4416.0, 1792.0, -2272.0, 2272.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -3344.0, 2032.0, 90.3 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 2144.0, 480.0 )
    set gg_rct_OceanSound21 = Rect( -4800.0, 1440.0, -2656.0, 1824.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -3728.0, 1632.0, -0.2 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 2144.0, 384.0 )
    set gg_rct_OceanSound22 = Rect( -5248.0, 1056.0, -3360.0, 1472.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -4304.0, 1264.0, 6.9 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 1888.0, 416.0 )
    set gg_rct_OceanSound23 = Rect( -5504.0, 320.0, -4384.0, 1088.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -4944.0, 704.0, 0.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 1120.0, 768.0 )
    set gg_rct_OceanSound24 = Rect( -5504.0, -416.0, -4096.0, 352.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -4800.0, -32.0, 71.1 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 1408.0, 768.0 )
    set gg_rct_OceanSound25 = Rect( -2752.0, 2144.0, -544.0, 2816.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -1648.0, 2480.0, -36.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 2208.0, 672.0 )
    set gg_rct_OceanSound26 = Rect( -2624.0, 2784.0, 864.0, 3392.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -880.0, 3088.0, -64.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 3488.0, 608.0 )
    set gg_rct_OceanSound27 = Rect( -1696.0, 3360.0, 960.0, 3968.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -368.0, 3664.0, -64.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 2656.0, 608.0 )
    set gg_rct_OceanSound28 = Rect( 480.0, 4512.0, 1888.0, 4896.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, 1184.0, 4704.0, -64.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 1408.0, 384.0 )
    set gg_rct_OceanSound29 = Rect( -1120.0, 3936.0, 1728.0, 4544.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, 304.0, 4240.0, -5.6 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 2848.0, 608.0 )
    set gg_rct_OceanSound3 = Rect( 608.0, 4832.0, 6560.0, 5376.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, 3584.0, 5104.0, 0.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 5952.0, 544.0 )
    set gg_rct_OceanSound30 = Rect( 3552.0, 4384.0, 5600.0, 4864.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, 4576.0, 4624.0, 0.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 2048.0, 480.0 )
    set gg_rct_OceanSound31 = Rect( -992.0, 320.0, 224.0, 992.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -384.0, 656.0, -22.8 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 1216.0, 672.0 )
    set gg_rct_OceanSound32 = Rect( -96.0, -992.0, 640.0, 448.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, 272.0, -272.0, 55.2 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 736.0, 1440.0 )
    set gg_rct_OceanSound4 = Rect( 3904.0, 576.0, 4896.0, 4416.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, 4400.0, 2496.0, 6.1 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 992.0, 3840.0 )
    set gg_rct_OceanSound5 = Rect( 4416.0, -2368.0, 5504.0, 928.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, 4960.0, -720.0, -29.5 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 1088.0, 3296.0 )
    set gg_rct_OceanSound6 = Rect( 5472.0, -1120.0, 5824.0, 288.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, 5648.0, -416.0, 17.8 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 352.0, 1408.0 )
    set gg_rct_OceanSound7 = Rect( 2848.0, -2752.0, 4448.0, -992.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, 3648.0, -1872.0, 10.3 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 1600.0, 1760.0 )
    set gg_rct_OceanSound8 = Rect( 4416.0, -3392.0, 5760.0, -2336.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, 5088.0, -2864.0, 124.9 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 1344.0, 1056.0 )
    set gg_rct_Peasant_01 = Rect( 5952.0, 3584.0, 6016.0, 3648.0 )
    set gg_rct_Peasant_02 = Rect( 5952.0, 3360.0, 6016.0, 3424.0 )
    set gg_rct_Player_1_Units_Attack = Rect( 3264.0, -5600.0, 7040.0, -2656.0 )
    set gg_rct_Priest01 = Rect( 7456.0, 3040.0, 7520.0, 3104.0 )
    set gg_rct_Priest01_Follow = Rect( 6720.0, 3072.0, 6784.0, 3136.0 )
    set gg_rct_Priest02 = Rect( 7392.0, 3264.0, 7456.0, 3328.0 )
    set gg_rct_Priest02_Follow = Rect( 6688.0, 3200.0, 6752.0, 3264.0 )
    set gg_rct_Reblack_Mask = Rect( 9440.0, 2272.0, 9984.0, 3968.0 )
    set gg_rct_Region_056 = Rect( -4672.0, 2496.0, -3616.0, 3424.0 )
    set gg_rct_Remove_Garithos_Units = Rect( 9088.0, 2976.0, 9312.0, 3328.0 )
    set gg_rct_Roaming_Crabs_01 = Rect( -2304.0, -2944.0, -1504.0, -2240.0 )
    set gg_rct_Roaming_Crabs_02 = Rect( 2464.0, -864.0, 3552.0, 128.0 )
    set gg_rct_Roaming_Demons_01 = Rect( 8128.0, 288.0, 9152.0, 1088.0 )
    set gg_rct_Roaming_Demons_02 = Rect( 8320.0, -2144.0, 9088.0, -1408.0 )
    set gg_rct_Roaming_Demons_03 = Rect( 8640.0, -1024.0, 9280.0, -224.0 )
    set gg_rct_Roaming_Zombies_01 = Rect( 7008.0, 1216.0, 7616.0, 2304.0 )
    set gg_rct_Runes_on_Ground = Rect( 5568.0, -5184.0, 6336.0, -4384.0 )
    set gg_rct_Saving_Riflemen = Rect( -4768.0, -3936.0, -3872.0, -3136.0 )
    set gg_rct_Side_Quest_Intro = Rect( 7744.0, 32.0, 8288.0, 1088.0 )
    set gg_rct_Spell_Steal = Rect( 6592.0, -320.0, 6912.0, 992.0 )
    set gg_rct_SpellBreaker_Follow_01 = Rect( 6592.0, 2976.0, 6656.0, 3040.0 )
    set gg_rct_SpellBreaker_Follow_02 = Rect( 6528.0, 3232.0, 6592.0, 3296.0 )
    set gg_rct_SpellBreaker01 = Rect( 7296.0, 2944.0, 7360.0, 3008.0 )
    set gg_rct_SpellBreaker02 = Rect( 7232.0, 3168.0, 7296.0, 3232.0 )
    set gg_rct_Start_Yellow_AI = Rect( 704.0, -992.0, 4224.0, 2464.0 )
    set gg_rct_StreamSound10 = Rect( -5504.0, -1664.0, -3648.0, -896.0 )
    call SetSoundPosition( gg_snd_WaterStreamLoop1, -4576.0, -1280.0, 28.8 )
    call RegisterStackedSound( gg_snd_WaterStreamLoop1, true, 1856.0, 768.0 )
    set gg_rct_StreamSound11 = Rect( -4800.0, -1056.0, -4000.0, -416.0 )
    call SetSoundPosition( gg_snd_WaterStreamLoop1, -4400.0, -736.0, 104.8 )
    call RegisterStackedSound( gg_snd_WaterStreamLoop1, true, 800.0, 640.0 )
    set gg_rct_StreamSound13 = Rect( -3712.0, -2336.0, -2720.0, -1472.0 )
    call SetSoundPosition( gg_snd_WaterStreamLoop1, -3216.0, -1904.0, 55.3 )
    call RegisterStackedSound( gg_snd_WaterStreamLoop1, true, 992.0, 864.0 )
    set gg_rct_StreamSound15 = Rect( -2752.0, -2976.0, -2144.0, -1856.0 )
    call SetSoundPosition( gg_snd_WaterStreamLoop1, -2448.0, -2416.0, 83.9 )
    call RegisterStackedSound( gg_snd_WaterStreamLoop1, true, 608.0, 1120.0 )
    set gg_rct_StreamSound16 = Rect( -2656.0, -3584.0, -1056.0, -2944.0 )
    call SetSoundPosition( gg_snd_WaterStreamLoop1, -1856.0, -3264.0, 3.9 )
    call RegisterStackedSound( gg_snd_WaterStreamLoop1, true, 1600.0, 640.0 )
    set gg_rct_StreamSound2 = Rect( -2496.0, -5632.0, -1120.0, -5152.0 )
    call SetSoundPosition( gg_snd_WaterStreamLoop1, -1808.0, -5392.0, 62.1 )
    call RegisterStackedSound( gg_snd_WaterStreamLoop1, true, 1376.0, 480.0 )
    set gg_rct_StreamSound3 = Rect( -2752.0, -5216.0, -2016.0, -4608.0 )
    call SetSoundPosition( gg_snd_WaterStreamLoop1, -2384.0, -4912.0, 38.5 )
    call RegisterStackedSound( gg_snd_WaterStreamLoop1, true, 736.0, 608.0 )
    set gg_rct_StreamSound4 = Rect( -3808.0, -4832.0, -2272.0, -4224.0 )
    call SetSoundPosition( gg_snd_WaterStreamLoop1, -3040.0, -4528.0, 16.4 )
    call RegisterStackedSound( gg_snd_WaterStreamLoop1, true, 1536.0, 608.0 )
    set gg_rct_StreamSound8 = Rect( -5344.0, -3840.0, -4640.0, -2464.0 )
    call SetSoundPosition( gg_snd_WaterStreamLoop1, -4992.0, -3152.0, 83.7 )
    call RegisterStackedSound( gg_snd_WaterStreamLoop1, true, 704.0, 1376.0 )
    set gg_rct_StreamSound9 = Rect( -5536.0, -2528.0, -4928.0, -1568.0 )
    call SetSoundPosition( gg_snd_WaterStreamLoop1, -5232.0, -2048.0, 62.2 )
    call RegisterStackedSound( gg_snd_WaterStreamLoop1, true, 608.0, 960.0 )
    set gg_rct_Tower_01_Reveal = Rect( 5056.0, 3168.0, 6208.0, 4512.0 )
    set gg_rct_Tower_02_Reveal = Rect( 576.0, 1248.0, 1728.0, 2592.0 )
    set gg_rct_Tower_03_Reveal = Rect( -4576.0, 4864.0, -3424.0, 6208.0 )
    set gg_rct_Tower_TripwireB = Rect( -736.0, 7648.0, 0.0, 8000.0 )
    set gg_rct_Tower_TripwireC = Rect( -864.0, 7168.0, 0.0, 8096.0 )
    set gg_rct_Tree_Wall_to_Box = Rect( 5920.0, -5344.0, 6560.0, -4704.0 )
    set gg_rct_Tree_Wall_to_Box_02 = Rect( -4608.0, 2656.0, -3968.0, 3296.0 )
    set gg_rct_Undead_TripwireA = Rect( -704.0, 7328.0, -448.0, 7712.0 )
    set gg_rct_Victory_Garithos_Exit_01 = Rect( -2688.0, 5248.0, -2432.0, 5504.0 )
    set gg_rct_Victory_Garithos_Exit_02 = Rect( -2016.0, 4576.0, -1600.0, 5024.0 )
    set gg_rct_Victory_Garithos_Start = Rect( -3232.0, 5696.0, -3104.0, 5824.0 )
    set gg_rct_Victory_Kael_Start = Rect( -3616.0, 5632.0, -3488.0, 5760.0 )
    set gg_rct_Victory_Knight_01 = Rect( -2880.0, 5760.0, -2752.0, 5888.0 )
    set gg_rct_Victory_Knight_02 = Rect( -3104.0, 5344.0, -2976.0, 5472.0 )
    set gg_rct_Victory_Knight_03 = Rect( -2624.0, 5696.0, -2496.0, 5824.0 )
    set gg_rct_Victory_Knight_04 = Rect( -2912.0, 5184.0, -2784.0, 5312.0 )
    set gg_rct_Victory_Knight_05 = Rect( -2400.0, 5568.0, -2240.0, 5696.0 )
    set gg_rct_Victory_Knight_06 = Rect( -2720.0, 4992.0, -2592.0, 5120.0 )
    set gg_rct_Victory_Priest_01 = Rect( -3776.0, 5760.0, -3680.0, 5856.0 )
    set gg_rct_Victory_Priest_02 = Rect( -3808.0, 5504.0, -3712.0, 5600.0 )
    set gg_rct_Victory_Rifleman_01 = Rect( -2848.0, 5920.0, -2752.0, 6016.0 )
    set gg_rct_Victory_Rifleman_02 = Rect( -3072.0, 5216.0, -2976.0, 5312.0 )
    set gg_rct_Victory_Rifleman_03 = Rect( -2464.0, 5728.0, -2368.0, 5824.0 )
    set gg_rct_Victory_Rifleman_04 = Rect( -2848.0, 5056.0, -2752.0, 5152.0 )
    set gg_rct_WaterLappingSound2 = Rect( -1120.0, 960.0, -352.0, 2176.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -736.0, 1568.0, 139.8 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 768.0, 1216.0 )
    set gg_rct_WaterLappingSound5 = Rect( -2976.0, -4256.0, -2176.0, -3552.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -2576.0, -3904.0, 118.4 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 800.0, 704.0 )
    set gg_rct_WaterLappingSound6 = Rect( -4384.0, -4704.0, -3776.0, -4224.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -4080.0, -4464.0, 117.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 608.0, 480.0 )
    set gg_rct_WaterLappingsound7 = Rect( -4768.0, -4288.0, -4160.0, -3904.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -4464.0, -4096.0, 117.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 608.0, 384.0 )
endfunction

//***************************************************************************
//*
//*  Cameras
//*
//***************************************************************************

function CreateCameras takes nothing returns nothing

    set gg_cam_Elevator_Mini_Cinematic = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Elevator_Mini_Cinematic, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Elevator_Mini_Cinematic, CAMERA_FIELD_ROTATION, 108.8, 0.0 )
    call CameraSetupSetField( gg_cam_Elevator_Mini_Cinematic, CAMERA_FIELD_ANGLE_OF_ATTACK, 317.0, 0.0 )
    call CameraSetupSetField( gg_cam_Elevator_Mini_Cinematic, CAMERA_FIELD_TARGET_DISTANCE, 1628.2, 0.0 )
    call CameraSetupSetField( gg_cam_Elevator_Mini_Cinematic, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Elevator_Mini_Cinematic, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Elevator_Mini_Cinematic, CAMERA_FIELD_FARZ, 6781.6, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Elevator_Mini_Cinematic, -4260.1, 3396.0, 0.0 )

    set gg_cam_Intro_01 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_01, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_01, CAMERA_FIELD_ROTATION, 49.9, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_01, CAMERA_FIELD_ANGLE_OF_ATTACK, 331.2, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_01, CAMERA_FIELD_TARGET_DISTANCE, 937.1, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_01, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_01, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_01, CAMERA_FIELD_FARZ, 5500.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_01, 5818.1, 2957.4, 0.0 )

    set gg_cam_Intro_02 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_02, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_02, CAMERA_FIELD_ROTATION, 44.5, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_02, CAMERA_FIELD_ANGLE_OF_ATTACK, 332.9, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_02, CAMERA_FIELD_TARGET_DISTANCE, 835.2, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_02, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_02, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_02, CAMERA_FIELD_FARZ, 5500.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_02, 6364.2, 3127.8, 0.0 )

    set gg_cam_Intro_03 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_03, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_03, CAMERA_FIELD_ROTATION, 231.2, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_03, CAMERA_FIELD_ANGLE_OF_ATTACK, 329.8, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_03, CAMERA_FIELD_TARGET_DISTANCE, 858.9, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_03, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_03, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_03, CAMERA_FIELD_FARZ, 5500.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_03, 6404.5, 3097.4, 0.0 )

    set gg_cam_Intro_04 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_04, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_04, CAMERA_FIELD_ROTATION, 222.9, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_04, CAMERA_FIELD_ANGLE_OF_ATTACK, 329.9, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_04, CAMERA_FIELD_TARGET_DISTANCE, 712.7, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_04, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_04, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_04, CAMERA_FIELD_FARZ, 5500.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_04, 6313.1, 3083.1, 0.0 )

    set gg_cam_Intro_05 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_05, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_05, CAMERA_FIELD_ROTATION, 65.7, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_05, CAMERA_FIELD_ANGLE_OF_ATTACK, 329.8, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_05, CAMERA_FIELD_TARGET_DISTANCE, 656.5, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_05, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_05, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_05, CAMERA_FIELD_FARZ, 5500.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_05, 6401.3, 2661.9, 0.0 )

    set gg_cam_Intro_06 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_06, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_06, CAMERA_FIELD_ROTATION, 101.2, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_06, CAMERA_FIELD_ANGLE_OF_ATTACK, 324.1, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_06, CAMERA_FIELD_TARGET_DISTANCE, 656.5, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_06, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_06, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_06, CAMERA_FIELD_FARZ, 5500.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_06, 6383.1, 2666.7, 0.0 )

    set gg_cam_Intro_07 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_07, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_07, CAMERA_FIELD_ROTATION, 221.9, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_07, CAMERA_FIELD_ANGLE_OF_ATTACK, 328.2, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_07, CAMERA_FIELD_TARGET_DISTANCE, 800.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_07, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_07, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_07, CAMERA_FIELD_FARZ, 5500.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_07, 6309.5, 2721.5, 0.0 )

    set gg_cam_Intro_08 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_08, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_08, CAMERA_FIELD_ROTATION, 212.8, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_08, CAMERA_FIELD_ANGLE_OF_ATTACK, 339.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_08, CAMERA_FIELD_TARGET_DISTANCE, 1083.2, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_08, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_08, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_08, CAMERA_FIELD_FARZ, 2120.5, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_08, 6309.5, 2721.5, 0.0 )

    set gg_cam_Intro_Skipped = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_Skipped, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Skipped, CAMERA_FIELD_ROTATION, 90.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Skipped, CAMERA_FIELD_ANGLE_OF_ATTACK, 304.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Skipped, CAMERA_FIELD_TARGET_DISTANCE, 1650.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Skipped, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Skipped, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Skipped, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_Skipped, 8405.4, 3320.1, 0.0 )

    set gg_cam_Naga_01 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Naga_01, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Naga_01, CAMERA_FIELD_ROTATION, 308.6, 0.0 )
    call CameraSetupSetField( gg_cam_Naga_01, CAMERA_FIELD_ANGLE_OF_ATTACK, 331.8, 0.0 )
    call CameraSetupSetField( gg_cam_Naga_01, CAMERA_FIELD_TARGET_DISTANCE, 1028.6, 0.0 )
    call CameraSetupSetField( gg_cam_Naga_01, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Naga_01, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Naga_01, CAMERA_FIELD_FARZ, 8331.4, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Naga_01, 3289.2, -3350.0, 0.0 )

    set gg_cam_Naga_02 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Naga_02, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Naga_02, CAMERA_FIELD_ROTATION, 294.7, 0.0 )
    call CameraSetupSetField( gg_cam_Naga_02, CAMERA_FIELD_ANGLE_OF_ATTACK, 337.0, 0.0 )
    call CameraSetupSetField( gg_cam_Naga_02, CAMERA_FIELD_TARGET_DISTANCE, 1028.6, 0.0 )
    call CameraSetupSetField( gg_cam_Naga_02, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Naga_02, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Naga_02, CAMERA_FIELD_FARZ, 8331.4, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Naga_02, 2915.3, -2704.5, 0.0 )

    set gg_cam_Naga_03 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Naga_03, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Naga_03, CAMERA_FIELD_ROTATION, 94.0, 0.0 )
    call CameraSetupSetField( gg_cam_Naga_03, CAMERA_FIELD_ANGLE_OF_ATTACK, 325.2, 0.0 )
    call CameraSetupSetField( gg_cam_Naga_03, CAMERA_FIELD_TARGET_DISTANCE, 1386.3, 0.0 )
    call CameraSetupSetField( gg_cam_Naga_03, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Naga_03, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Naga_03, CAMERA_FIELD_FARZ, 8331.4, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Naga_03, 2907.2, -2526.5, 0.0 )

    set gg_cam_Naga_04 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Naga_04, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Naga_04, CAMERA_FIELD_ROTATION, 119.4, 0.0 )
    call CameraSetupSetField( gg_cam_Naga_04, CAMERA_FIELD_ANGLE_OF_ATTACK, 329.7, 0.0 )
    call CameraSetupSetField( gg_cam_Naga_04, CAMERA_FIELD_TARGET_DISTANCE, 1170.3, 0.0 )
    call CameraSetupSetField( gg_cam_Naga_04, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Naga_04, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Naga_04, CAMERA_FIELD_FARZ, 8331.4, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Naga_04, 2813.6, -2490.5, 0.0 )

    set gg_cam_Tower_Mini_Cinematic_01 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Tower_Mini_Cinematic_01, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Tower_Mini_Cinematic_01, CAMERA_FIELD_ROTATION, 94.8, 0.0 )
    call CameraSetupSetField( gg_cam_Tower_Mini_Cinematic_01, CAMERA_FIELD_ANGLE_OF_ATTACK, 307.3, 0.0 )
    call CameraSetupSetField( gg_cam_Tower_Mini_Cinematic_01, CAMERA_FIELD_TARGET_DISTANCE, 2515.4, 0.0 )
    call CameraSetupSetField( gg_cam_Tower_Mini_Cinematic_01, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Tower_Mini_Cinematic_01, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Tower_Mini_Cinematic_01, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Tower_Mini_Cinematic_01, 5870.5, 3609.0, 0.0 )

    set gg_cam_Tower_Mini_Cinematic_02 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Tower_Mini_Cinematic_02, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Tower_Mini_Cinematic_02, CAMERA_FIELD_ROTATION, 94.8, 0.0 )
    call CameraSetupSetField( gg_cam_Tower_Mini_Cinematic_02, CAMERA_FIELD_ANGLE_OF_ATTACK, 307.3, 0.0 )
    call CameraSetupSetField( gg_cam_Tower_Mini_Cinematic_02, CAMERA_FIELD_TARGET_DISTANCE, 2515.4, 0.0 )
    call CameraSetupSetField( gg_cam_Tower_Mini_Cinematic_02, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Tower_Mini_Cinematic_02, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Tower_Mini_Cinematic_02, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Tower_Mini_Cinematic_02, 1168.2, 1792.3, 0.0 )

    set gg_cam_Tower_Mini_Cinematic_03 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Tower_Mini_Cinematic_03, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Tower_Mini_Cinematic_03, CAMERA_FIELD_ROTATION, 94.8, 0.0 )
    call CameraSetupSetField( gg_cam_Tower_Mini_Cinematic_03, CAMERA_FIELD_ANGLE_OF_ATTACK, 307.3, 0.0 )
    call CameraSetupSetField( gg_cam_Tower_Mini_Cinematic_03, CAMERA_FIELD_TARGET_DISTANCE, 2515.4, 0.0 )
    call CameraSetupSetField( gg_cam_Tower_Mini_Cinematic_03, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Tower_Mini_Cinematic_03, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Tower_Mini_Cinematic_03, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Tower_Mini_Cinematic_03, -4004.6, 5636.0, 0.0 )

    set gg_cam_Victory_01 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Victory_01, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_01, CAMERA_FIELD_ROTATION, 28.9, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_01, CAMERA_FIELD_ANGLE_OF_ATTACK, 327.1, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_01, CAMERA_FIELD_TARGET_DISTANCE, 1096.5, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_01, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_01, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_01, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Victory_01, -3384.7, 5731.3, 0.0 )

    set gg_cam_Victory_02 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Victory_02, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_02, CAMERA_FIELD_ROTATION, 7.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_02, CAMERA_FIELD_ANGLE_OF_ATTACK, 331.7, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_02, CAMERA_FIELD_TARGET_DISTANCE, 1016.7, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_02, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_02, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_02, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Victory_02, -3196.9, 5681.8, 0.0 )

endfunction

//***************************************************************************
//*
//*  Triggers
//*
//***************************************************************************

//===========================================================================
// Trigger: Initialization
//===========================================================================
function Trig_Initialization_Actions takes nothing returns nothing
    call SetCampaignMenuRaceBJ( bj_CAMPAIGN_INDEX_XH )
    call SetAllyColorFilterState( 0 )
    call ConditionalTriggerExecute( gg_trg_Init_01_Players )
    call ConditionalTriggerExecute( gg_trg_Init_02_Units )
    call ConditionalTriggerExecute( gg_trg_Init_03_Music )
    call ConditionalTriggerExecute( gg_trg_Init_04_Environment )
    call ConditionalTriggerExecute( gg_trg_Init_05_Quests )
    call ConditionalTriggerExecute( gg_trg_Init_06a_Hard )
    call ConditionalTriggerExecute( gg_trg_Init_06b_Normal )
    call ConditionalTriggerExecute( gg_trg_Init_06c_Easy )
    // Start Intro Cinematic
    call QueuedTriggerAddBJ( gg_trg_Intro_Cinematic_Q, true )
endfunction

//===========================================================================
function InitTrig_Initialization takes nothing returns nothing
    set gg_trg_Initialization = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Initialization, function Trig_Initialization_Actions )
endfunction

//===========================================================================
// Trigger: Init 01 Players
//===========================================================================
function Trig_Init_01_Players_Actions takes nothing returns nothing
    call CreateFogModifierRadiusLocBJ( true, udg_AP1_Player, FOG_OF_WAR_VISIBLE, GetUnitLoc(gg_unit_haro_0009), 768.00 )
    // Alliance Settings
    call SetPlayerAllianceStateBJ( udg_AP1_Player, Player(PLAYER_NEUTRAL_PASSIVE), bj_ALLIANCE_ALLIED )
    call SetPlayerAllianceStateBJ( udg_AP1_Player, Player(PLAYER_NEUTRAL_AGGRESSIVE), bj_ALLIANCE_ALLIED )
    call SetPlayerAllianceStateBJ( udg_AP1_Player, udg_P2_Vashj, bj_ALLIANCE_NEUTRAL )
    call SetPlayerAllianceStateBJ( Player(PLAYER_NEUTRAL_PASSIVE), udg_AP1_Player, bj_ALLIANCE_ALLIED )
    call SetPlayerAllianceStateBJ( udg_P2_Vashj, udg_AP1_Player, bj_ALLIANCE_NEUTRAL )
    call SetPlayerAllianceStateBJ( udg_P2_Vashj, Player(PLAYER_NEUTRAL_AGGRESSIVE), bj_ALLIANCE_NEUTRAL )
    call SetPlayerAllianceStateBJ( udg_P2_Vashj, udg_P5_Undead, bj_ALLIANCE_NEUTRAL )
    call SetPlayerAllianceStateBJ( udg_P5_Undead, Player(PLAYER_NEUTRAL_AGGRESSIVE), bj_ALLIANCE_NEUTRAL )
    call SetPlayerAllianceStateBJ( udg_P5_Undead, udg_P2_Vashj, bj_ALLIANCE_NEUTRAL )
    call SetPlayerAllianceStateBJ( udg_P5_Undead, Player(3), bj_ALLIANCE_NEUTRAL )
    call SetPlayerAllianceStateBJ( udg_P5_Undead, Player(5), bj_ALLIANCE_NEUTRAL )
    call SetPlayerAllianceStateBJ( Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_P5_Undead, bj_ALLIANCE_NEUTRAL )
    call SetPlayerAllianceStateBJ( Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_P2_Vashj, bj_ALLIANCE_NEUTRAL )
    call SetPlayerAllianceStateBJ( Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_AP1_Player, bj_ALLIANCE_NEUTRAL )
    call SetPlayerAllianceStateBJ( Player(PLAYER_NEUTRAL_AGGRESSIVE), Player(5), bj_ALLIANCE_NEUTRAL )
    call SetPlayerAllianceStateBJ( Player(3), Player(4), bj_ALLIANCE_NEUTRAL )
    // Initial Resources
    call SetPlayerStateBJ( udg_AP1_Player, PLAYER_STATE_RESOURCE_GOLD, 0 )
    call SetPlayerStateBJ( udg_AP1_Player, PLAYER_STATE_RESOURCE_LUMBER, 600 )
    call SetPlayerStateBJ( udg_P5_Undead, PLAYER_STATE_RESOURCE_GOLD, 5000 )
    call SetPlayerStateBJ( udg_P5_Undead, PLAYER_STATE_RESOURCE_LUMBER, 5000 )
    // Player Colors
    call SetPlayerColorBJ( udg_P5_Undead, PLAYER_COLOR_PURPLE, true )
    // Hide Excess Players
    call SetPlayerOnScoreScreenBJ( false, Player(5) )
endfunction

//===========================================================================
function InitTrig_Init_01_Players takes nothing returns nothing
    set gg_trg_Init_01_Players = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_01_Players, function Trig_Init_01_Players_Actions )
endfunction

//===========================================================================
// Trigger: Init 02 Units
//===========================================================================
function Trig_Init_02_Units_Func013002002 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'nscb' )
endfunction

function Trig_Init_02_Units_Func014002002 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'nscb' )
endfunction

function Trig_Init_02_Units_Func015002002 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'npfl' )
endfunction

function Trig_Init_02_Units_Func016002002 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'nfgb' )
endfunction

function Trig_Init_02_Units_Func017002002 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'nfgu' )
endfunction

function Trig_Init_02_Units_Func018002002 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'ndmu' )
endfunction

function Trig_Init_02_Units_Actions takes nothing returns nothing
    // Heroes
    call ConditionalTriggerExecute( gg_trg_Load_Heroes )
    call SetPlayerHandicapXPBJ( udg_AP1_Player, 15.00 )
    // Units
    // NPCs
    set udg_LordGarithos = gg_unit_Hlgr_0111
    set udg_IntroKnight01 = gg_unit_hkni_0113
    set udg_IntroFootman01 = gg_unit_hfoo_0058
    set udg_IntroFootman02 = gg_unit_hfoo_0059
    set udg_IntroRifleman01 = gg_unit_hrif_0112
    set udg_IntroRifleman02 = gg_unit_hrif_0057
    // Creeps
    set udg_RoamingCrabs01 = GetUnitsInRectMatching(gg_rct_Roaming_Crabs_01, Condition(function Trig_Init_02_Units_Func013002002))
    set udg_RoamingCrabs02 = GetUnitsInRectMatching(gg_rct_Roaming_Crabs_02, Condition(function Trig_Init_02_Units_Func014002002))
    set udg_RoamingDemons01 = GetUnitsInRectMatching(gg_rct_Roaming_Demons_01, Condition(function Trig_Init_02_Units_Func015002002))
    set udg_RoamingDemons02 = GetUnitsInRectMatching(gg_rct_Roaming_Demons_02, Condition(function Trig_Init_02_Units_Func016002002))
    set udg_RoamingDemons03 = GetUnitsInRectMatching(gg_rct_Roaming_Demons_03, Condition(function Trig_Init_02_Units_Func017002002))
    set udg_RoamingZombies01 = GetUnitsInRectMatching(gg_rct_Roaming_Zombies_01, Condition(function Trig_Init_02_Units_Func018002002))
    // Observatory
    set udg_Observatory01 = gg_unit_haro_0009
    set udg_Observatory02 = gg_unit_haro_0008
    set udg_Observatory03 = gg_unit_haro_0048
    set udg_GoldCost = ( 11535.36 * 0.35 )
    set udg_LumberCost = ( 28848.49 * 0.35 )
    call ConditionalTriggerExecute( gg_trg_Init_Tower_Animations )
    // Vaults
    call SetUnitColor( udg_MagicalVault01, PLAYER_COLOR_ORANGE )
    call SetUnitColor( udg_MagicalVault02, PLAYER_COLOR_ORANGE )
    call SetUnitColor( udg_MagicalVault03, PLAYER_COLOR_ORANGE )
    call SetUnitColor( udg_MagicalVault04, PLAYER_COLOR_ORANGE )
    call SetUnitColor( gg_unit_hkni_0113, PLAYER_COLOR_LIGHT_BLUE )
    call SetUnitColor( gg_unit_hfoo_0059, PLAYER_COLOR_LIGHT_BLUE )
    call SetUnitColor( gg_unit_hfoo_0058, PLAYER_COLOR_LIGHT_BLUE )
    call SetUnitColor( gg_unit_hrif_0057, PLAYER_COLOR_LIGHT_BLUE )
    call SetUnitColor( gg_unit_hrif_0112, PLAYER_COLOR_LIGHT_BLUE )
    call SetUnitColor( udg_LordGarithos, PLAYER_COLOR_LIGHT_GRAY )
endfunction

//===========================================================================
function InitTrig_Init_02_Units takes nothing returns nothing
    set gg_trg_Init_02_Units = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_02_Units, function Trig_Init_02_Units_Actions )
endfunction

//===========================================================================
// Trigger: Init 03 Music
//===========================================================================
function Trig_Init_03_Music_Actions takes nothing returns nothing
    call ClearMapMusicBJ(  )
    call TriggerSleepAction( 0.01 )
    call PlayThematicMusicExBJ( "Sound\\Music\\mp3Music\\BloodElfTheme.mp3", 9.58 )
    call SetMapMusicIndexedBJ( "music", 0 )
endfunction

//===========================================================================
function InitTrig_Init_03_Music takes nothing returns nothing
    set gg_trg_Init_03_Music = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_03_Music, function Trig_Init_03_Music_Actions )
endfunction

//===========================================================================
// Trigger: Init 04 Environment
//===========================================================================
function Trig_Init_04_Environment_Actions takes nothing returns nothing
    // Initial Time Of Day
    call SetTimeOfDay( 8.00 )
    // Weather Effects
    // Fog
    // Initial Visibility
    // Bridges, Gates, etc.
    call SetDestructableInvulnerableBJ( gg_dest_LTe3_0000, true )
    // Points
    set udg_zPointNewPeasant = GetRectCenter(gg_rct_New_Peasant)
    set udg_zPointNewPeasantWalkTo = GetRectCenter(gg_rct_New_Peasant_Walk_to)
endfunction

//===========================================================================
function InitTrig_Init_04_Environment takes nothing returns nothing
    set gg_trg_Init_04_Environment = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_04_Environment, function Trig_Init_04_Environment_Actions )
endfunction

//===========================================================================
// Trigger: Init 05 Quests
//===========================================================================
function Trig_Init_05_Quests_Actions takes nothing returns nothing
    // Create Quests
    call ConditionalTriggerExecute( gg_trg_Quest_Observatory_Create )
    call ConditionalTriggerExecute( gg_trg_Quest_Hidden_Caches_Create )
endfunction

//===========================================================================
function InitTrig_Init_05_Quests takes nothing returns nothing
    set gg_trg_Init_05_Quests = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_05_Quests, function Trig_Init_05_Quests_Actions )
endfunction

//===========================================================================
// Trigger: Init 06a Hard
//===========================================================================
function Trig_Init_06a_Hard_Conditions takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_HARD ) ) then
        return false
    endif
    return true
endfunction

function Trig_Init_06a_Hard_Actions takes nothing returns nothing
    call SetPlayerStateBJ( udg_AP1_Player, PLAYER_STATE_RESOURCE_LUMBER, 1000 )
    // Extra Creeps in city
    call CreateNUnitsAtLoc( 1, 'nfgb', Player(PLAYER_NEUTRAL_AGGRESSIVE), GetRectCenter(gg_rct_HARD_Fel_Guards), 180.00 )
    call ReplaceUnitBJ( gg_unit_nfgu_0135, 'nfgb', bj_UNIT_STATE_METHOD_RELATIVE )
    call ReplaceUnitBJ( gg_unit_nfgu_0020, 'nfgb', bj_UNIT_STATE_METHOD_RELATIVE )
    call CreateNUnitsAtLoc( 1, 'npfl', Player(PLAYER_NEUTRAL_AGGRESSIVE), GetRectCenter(gg_rct_HARD_Felbeast), 90.00 )
    call CreateNUnitsAtLoc( 1, 'nfel', Player(PLAYER_NEUTRAL_AGGRESSIVE), GetRectCenter(gg_rct_HARD_Felbeast), 90.00 )
    call ReplaceUnitBJ( gg_unit_nwiz_0141, 'nrog', bj_UNIT_STATE_METHOD_RELATIVE )
    call ReplaceUnitBJ( gg_unit_nwiz_0142, 'nrog', bj_UNIT_STATE_METHOD_RELATIVE )
    call ReplaceUnitBJ( gg_unit_nwiz_0181, 'nenf', bj_UNIT_STATE_METHOD_RELATIVE )
    call ReplaceUnitBJ( gg_unit_nwiz_0147, 'nbrg', bj_UNIT_STATE_METHOD_RELATIVE )
    call ReplaceUnitBJ( gg_unit_nwiz_0178, 'nbrg', bj_UNIT_STATE_METHOD_RELATIVE )
    call CreateNUnitsAtLoc( 1, 'nrog', Player(PLAYER_NEUTRAL_AGGRESSIVE), GetRectCenter(gg_rct_HARD_Assassin_01), 180.00 )
    call SetUnitAcquireRangeBJ( GetLastCreatedUnit(), 200.00 )
    call CreateNUnitsAtLoc( 1, 'nrog', Player(PLAYER_NEUTRAL_AGGRESSIVE), GetRectCenter(gg_rct_HARD_Assassin_02), 180.00 )
    call SetUnitAcquireRangeBJ( GetLastCreatedUnit(), 200.00 )
    call ReplaceUnitBJ( gg_unit_nban_0167, 'nrog', bj_UNIT_STATE_METHOD_RELATIVE )
    call ReplaceUnitBJ( gg_unit_nfgu_0160, 'nfgb', bj_UNIT_STATE_METHOD_RELATIVE )
    call ReplaceUnitBJ( gg_unit_nfgu_0039, 'nfgb', bj_UNIT_STATE_METHOD_RELATIVE )
    call ReplaceUnitBJ( gg_unit_nwiz_0031, 'nass', bj_UNIT_STATE_METHOD_RELATIVE )
    call ReplaceUnitBJ( gg_unit_nwiz_0030, 'nass', bj_UNIT_STATE_METHOD_RELATIVE )
    call ReplaceUnitBJ( gg_unit_nban_0034, 'nass', bj_UNIT_STATE_METHOD_RELATIVE )
    call ReplaceUnitBJ( gg_unit_nban_0035, 'nass', bj_UNIT_STATE_METHOD_RELATIVE )
    call ReplaceUnitBJ( gg_unit_nbrg_0033, 'nenf', bj_UNIT_STATE_METHOD_RELATIVE )
    call ReplaceUnitBJ( gg_unit_nbrg_0045, 'nenf', bj_UNIT_STATE_METHOD_RELATIVE )
    call CreateNUnitsAtLoc( 1, 'ngnv', Player(PLAYER_NEUTRAL_AGGRESSIVE), GetRectCenter(gg_rct_HARD_Gnoll_03), 0.00 )
    call CreateNUnitsAtLoc( 1, 'ngnv', Player(PLAYER_NEUTRAL_AGGRESSIVE), GetRectCenter(gg_rct_HARD_Gnoll_02), 0.00 )
    call CreateNUnitsAtLoc( 1, 'ngnv', Player(PLAYER_NEUTRAL_AGGRESSIVE), GetRectCenter(gg_rct_HARD_Gnoll_01), 270.00 )
    call CreateNUnitsAtLoc( 1, 'ngnb', Player(PLAYER_NEUTRAL_AGGRESSIVE), GetRectCenter(gg_rct_HARD_Gnoll_04), 270.00 )
    call CreateNUnitsAtLoc( 1, 'ngnb', Player(PLAYER_NEUTRAL_AGGRESSIVE), GetRectCenter(gg_rct_HARD_Gnoll_05), 270.00 )
    // Extra Undead
    call CreateNUnitsAtLoc( 1, 'usep', udg_P5_Undead, GetRectCenter(gg_rct_HARD_Crypt), bj_UNIT_FACING )
    call CreateNUnitsAtLoc( 1, 'utod', udg_P5_Undead, GetRectCenter(gg_rct_HARD_Temple), bj_UNIT_FACING )
endfunction

//===========================================================================
function InitTrig_Init_06a_Hard takes nothing returns nothing
    set gg_trg_Init_06a_Hard = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Init_06a_Hard, Condition( function Trig_Init_06a_Hard_Conditions ) )
    call TriggerAddAction( gg_trg_Init_06a_Hard, function Trig_Init_06a_Hard_Actions )
endfunction

//===========================================================================
// Trigger: Init 06b Normal
//===========================================================================
function Trig_Init_06b_Normal_Conditions takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_NORMAL ) ) then
        return false
    endif
    return true
endfunction

function Trig_Init_06b_Normal_Actions takes nothing returns nothing
    call SetUnitLifePercentBJ( udg_Observatory01, 45.00 )
    call SetUnitLifePercentBJ( udg_Observatory02, 45.00 )
    call SetUnitLifePercentBJ( udg_Observatory03, 45.00 )
    // Remove Hard Creeps
    call RemoveUnit( gg_unit_nenf_0188 )
    call RemoveUnit( gg_unit_nfgu_0189 )
    call RemoveUnit( gg_unit_nfgb_0190 )
    call RemoveUnit( gg_unit_nrog_0191 )
    call RemoveUnit( gg_unit_nrog_0192 )
    call RemoveUnit( gg_unit_nwzg_0186 )
    call RemoveUnit( gg_unit_ngnv_0158 )
    call RemoveUnit( gg_unit_ngnv_0187 )
    call RemoveUnit( gg_unit_nfsh_0159 )
    call RemoveUnit( gg_unit_nftb_0193 )
    call RemoveUnit( gg_unit_nftb_0195 )
    call RemoveUnit( gg_unit_nftb_0194 )
    call RemoveUnit( gg_unit_nwlt_0197 )
    call RemoveUnit( gg_unit_nwlt_0200 )
endfunction

//===========================================================================
function InitTrig_Init_06b_Normal takes nothing returns nothing
    set gg_trg_Init_06b_Normal = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Init_06b_Normal, Condition( function Trig_Init_06b_Normal_Conditions ) )
    call TriggerAddAction( gg_trg_Init_06b_Normal, function Trig_Init_06b_Normal_Actions )
endfunction

//===========================================================================
// Trigger: Init 06c Easy
//===========================================================================
function Trig_Init_06c_Easy_Conditions takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_EASY ) ) then
        return false
    endif
    return true
endfunction

function Trig_Init_06c_Easy_Actions takes nothing returns nothing
    call SetUnitLifePercentBJ( udg_Observatory01, 45.00 )
    call SetUnitLifePercentBJ( udg_Observatory02, 45.00 )
    call SetUnitLifePercentBJ( udg_Observatory03, 45.00 )
    // Handicap All Opponents
    call SetPlayerHandicapBJ( udg_P5_Undead, bj_HANDICAP_EASY )
    call SetPlayerHandicapBJ( Player(PLAYER_NEUTRAL_AGGRESSIVE), bj_HANDICAP_EASY )
    call RemoveUnit( gg_unit_nenf_0188 )
    call RemoveUnit( gg_unit_nfgu_0189 )
    call RemoveUnit( gg_unit_nfgb_0190 )
    call RemoveUnit( gg_unit_nrog_0191 )
    call RemoveUnit( gg_unit_nrog_0192 )
    call RemoveUnit( gg_unit_nwzg_0186 )
    call RemoveUnit( gg_unit_ngnv_0158 )
    call RemoveUnit( gg_unit_ngnv_0187 )
    call RemoveUnit( gg_unit_nfsh_0159 )
    call RemoveUnit( gg_unit_nftb_0193 )
    call RemoveUnit( gg_unit_nftb_0195 )
    call RemoveUnit( gg_unit_nftb_0194 )
    call RemoveUnit( gg_unit_nwlt_0197 )
    call RemoveUnit( gg_unit_nwlt_0200 )
endfunction

//===========================================================================
function InitTrig_Init_06c_Easy takes nothing returns nothing
    set gg_trg_Init_06c_Easy = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Init_06c_Easy, Condition( function Trig_Init_06c_Easy_Conditions ) )
    call TriggerAddAction( gg_trg_Init_06c_Easy, function Trig_Init_06c_Easy_Actions )
endfunction

//===========================================================================
// Trigger: Load Heroes
//===========================================================================
function Trig_Load_Heroes_Actions takes nothing returns nothing
    // Create The Game Cache
    call InitGameCacheBJ( "Campaigns.w3v" )
    // Load Each Hero
    call ConditionalTriggerExecute( gg_trg_Load_Kael )
endfunction

//===========================================================================
function InitTrig_Load_Heroes takes nothing returns nothing
    set gg_trg_Load_Heroes = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Load_Heroes, function Trig_Load_Heroes_Actions )
endfunction

//===========================================================================
// Trigger: Load Kael
//===========================================================================
function Trig_Load_Kael_Actions takes nothing returns nothing
    // Create Default Hero
    call CreateNUnitsAtLoc( 1, 'Hkal', udg_AP1_Player, GetRectCenter(gg_rct_Intro_Kael_Start), 350.00 )
    call SetHeroLevelBJ( GetLastCreatedUnit(), 2, false )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AHfs' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AHbn' )
    set udg_Kael = GetLastCreatedUnit()
    call SetUnitPositionLoc( udg_Kael, GetRectCenter(gg_rct_Kael) )
endfunction

//===========================================================================
function InitTrig_Load_Kael takes nothing returns nothing
    set gg_trg_Load_Kael = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Load_Kael, function Trig_Load_Kael_Actions )
endfunction

//===========================================================================
// Trigger: Experience Cap Kael
//===========================================================================
function Trig_Experience_Cap_Kael_Conditions takes nothing returns boolean
    if ( not ( GetLevelingUnit() == udg_Kael ) ) then
        return false
    endif
    if ( not ( GetHeroLevel(GetLevelingUnit()) >= 3 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Experience_Cap_Kael_Actions takes nothing returns nothing
    call SuspendHeroXPBJ( false, udg_Kael )
    set udg_ExpDisabledForKael = true
endfunction

//===========================================================================
function InitTrig_Experience_Cap_Kael takes nothing returns nothing
    set gg_trg_Experience_Cap_Kael = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Experience_Cap_Kael, Player(0), EVENT_PLAYER_HERO_LEVEL )
    call TriggerAddCondition( gg_trg_Experience_Cap_Kael, Condition( function Trig_Experience_Cap_Kael_Conditions ) )
    call TriggerAddAction( gg_trg_Experience_Cap_Kael, function Trig_Experience_Cap_Kael_Actions )
endfunction

//===========================================================================
// Trigger: Cinematic Revival
//
// Before running this in a cinematic, do the following:
//   - Set "RevivalHero" to the hero you wish to revive.
//   - Set "RevivalSpot" to the place at which you wish the hero to be revived.
// After running this, set the unit facing for the revived hero.
// After the cinematic, move the hero instantly to RevivalReturnSpot.
//===========================================================================
function Trig_Cinematic_Revival_Func003001 takes nothing returns boolean
    return ( IsUnitAliveBJ(udg_RevivalHero) == true )
endfunction

function Trig_Cinematic_Revival_Func006002001002001 takes nothing returns boolean
    return ( IsUnitAliveBJ(GetFilterUnit()) == true )
endfunction

function Trig_Cinematic_Revival_Func006002001002002001001 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'halt' )
endfunction

function Trig_Cinematic_Revival_Func006002001002002001002 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'oalt' )
endfunction

function Trig_Cinematic_Revival_Func006002001002002001 takes nothing returns boolean
    return GetBooleanOr( Trig_Cinematic_Revival_Func006002001002002001001(), Trig_Cinematic_Revival_Func006002001002002001002() )
endfunction

function Trig_Cinematic_Revival_Func006002001002002002001 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'uaod' )
endfunction

function Trig_Cinematic_Revival_Func006002001002002002002 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'eate' )
endfunction

function Trig_Cinematic_Revival_Func006002001002002002 takes nothing returns boolean
    return GetBooleanOr( Trig_Cinematic_Revival_Func006002001002002002001(), Trig_Cinematic_Revival_Func006002001002002002002() )
endfunction

function Trig_Cinematic_Revival_Func006002001002002 takes nothing returns boolean
    return GetBooleanOr( Trig_Cinematic_Revival_Func006002001002002001(), Trig_Cinematic_Revival_Func006002001002002002() )
endfunction

function Trig_Cinematic_Revival_Func006002001002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Cinematic_Revival_Func006002001002001(), Trig_Cinematic_Revival_Func006002001002002() )
endfunction

function Trig_Cinematic_Revival_Func007001 takes nothing returns boolean
    return ( udg_RevivalAltar != null )
endfunction

function Trig_Cinematic_Revival_Actions takes nothing returns nothing
    set udg_RevivalReturnSpot = GetUnitLoc(udg_RevivalHero)
    call SetUnitPositionLoc( udg_RevivalHero, udg_RevivalSpot )
    if ( Trig_Cinematic_Revival_Func003001() ) then
        return
    else
        call DoNothing(  )
    endif
    call ReviveHeroLoc( udg_RevivalHero, udg_RevivalSpot, false )
    set udg_RevivalReturnSpot = udg_RevivalSpot
    set udg_RevivalAltar = GroupPickRandomUnit(GetUnitsOfPlayerMatching(GetOwningPlayer(udg_RevivalHero), Condition(function Trig_Cinematic_Revival_Func006002001002)))
    if ( Trig_Cinematic_Revival_Func007001() ) then
        set udg_RevivalReturnSpot = OffsetLocation(GetUnitLoc(udg_RevivalAltar), 0, -128.00)
    else
        call DoNothing(  )
    endif
endfunction

//===========================================================================
function InitTrig_Cinematic_Revival takes nothing returns nothing
    set gg_trg_Cinematic_Revival = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Cinematic_Revival, function Trig_Cinematic_Revival_Actions )
endfunction

//===========================================================================
// Trigger: Intro Cinematic Q
//===========================================================================
function Trig_Intro_Cinematic_Q_Func023001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func029001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func032001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func035001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func038001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func041001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func047001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func051001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func054001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func057001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func067001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func073001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func077001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func083001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func086001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func091001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func095001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func099001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func102001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func106001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func109001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func112001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func115001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func119001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func122001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func127001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Actions takes nothing returns nothing
    call Preloader( "Scripts\\HumanX01.pld" )
    set udg_InCinematic = true
    // Fade Out
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 0.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    // Set Up Scene
    call CinematicModeBJ( true, udg_APG1_Player )
    call ConditionalTriggerExecute( gg_trg_Intro_Setup )
    call CameraSetupApplyForPlayer( true, gg_cam_Intro_01, Player(0), 0.00 )
    call CameraSetupApplyForPlayer( true, gg_cam_Intro_02, udg_AP1_Player, ( ( GetSoundDurationBJ(gg_snd_A01Garithos01) + GetSoundDurationBJ(gg_snd_A01Kael02) ) + 6.00 ) )
    // Fade In
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 2.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call EnableTrigger( gg_trg_Intro_Skipped )
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    // CINEMATIC BEGINS - Cinematic Can Now Be Skipped
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    call IssuePointOrderLocBJ( udg_Kael, "move", GetRectCenter(gg_rct_Keal_Walks_to_Garithos) )
    call SetUnitMoveSpeed( gg_unit_Hlgr_0111, 175.00 )
    call IssuePointOrderLocBJ( udg_SpellBreaker01, "move", GetRectCenter(gg_rct_SpellBreaker_Follow_01) )
    call SetUnitMoveSpeed( udg_SpellBreaker01, 175.00 )
    call IssuePointOrderLocBJ( udg_SpellBreaker02, "move", GetRectCenter(gg_rct_SpellBreaker_Follow_02) )
    call SetUnitMoveSpeed( udg_SpellBreaker02, 175.00 )
    call TriggerSleepAction( 0.20 )
    if ( Trig_Intro_Cinematic_Q_Func023001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( udg_Priest01, "move", GetRectCenter(gg_rct_Priest01_Follow) )
    call SetUnitMoveSpeed( udg_Priest01, 175.00 )
    call IssuePointOrderLocBJ( udg_Priest02, "move", GetRectCenter(gg_rct_Priest02_Follow) )
    call SetUnitMoveSpeed( udg_Priest02, 175.00 )
    call TriggerSleepAction( 2.00 )
    if ( Trig_Intro_Cinematic_Q_Func029001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitFacingToFaceUnitTimed( udg_LordGarithos, gg_unit_nrat_0184, 0.50 )
    call TriggerSleepAction( 0.50 )
    if ( Trig_Intro_Cinematic_Q_Func032001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitLookAt( gg_unit_Hlgr_0111, "bone_head", udg_Kael, 0, 0, 70.00 )
    call TriggerSleepAction( 1.00 )
    if ( Trig_Intro_Cinematic_Q_Func035001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_LordGarithos, "TRIGSTR_029", gg_snd_A01Garithos01, "TRIGSTR_030", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_A01Garithos01, 0 )
    if ( Trig_Intro_Cinematic_Q_Func038001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Kael, "TRIGSTR_068", gg_snd_A01Kael02, "TRIGSTR_069", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_A01Kael02, 0.50 )
    if ( Trig_Intro_Cinematic_Q_Func041001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CameraSetupApplyForPlayer( true, gg_cam_Intro_03, udg_AP1_Player, 0.00 )
    call CameraSetupApplyForPlayer( true, gg_cam_Intro_04, udg_AP1_Player, ( GetSoundDurationBJ(gg_snd_A01Garithos03) + ( GetSoundDurationBJ(gg_snd_A01Kael04) + 2.00 ) ) )
    call SetUnitAnimation( gg_unit_Hlgr_0111, "attack" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_LordGarithos, "TRIGSTR_070", gg_snd_A01Garithos03, "TRIGSTR_071", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_A01Garithos03, 11.25 )
    if ( Trig_Intro_Cinematic_Q_Func047001() ) then
        return
    else
        call DoNothing(  )
    endif
    call ResetUnitAnimation( gg_unit_Hlgr_0111 )
    call PlaySoundOnUnitBJ( gg_snd_KnightNoRiderWhat3, 70.00, udg_LordGarithos )
    call WaitForSoundBJ( gg_snd_A01Garithos03, 0.00 )
    if ( Trig_Intro_Cinematic_Q_Func051001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Kael, "TRIGSTR_072", gg_snd_A01Kael04, "TRIGSTR_073", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_A01Kael04, 0.00 )
    if ( Trig_Intro_Cinematic_Q_Func054001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 0.50, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 0.50 )
    if ( Trig_Intro_Cinematic_Q_Func057001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitPositionLocFacingLocBJ( udg_Kael, GetRectCenter(gg_rct_Keal_Table), GetRectCenter(gg_rct_Map_Table) )
    call SetUnitPositionLocFacingLocBJ( gg_unit_Hlgr_0111, GetRectCenter(gg_rct_Garithos_Table), GetRectCenter(gg_rct_Map_Table) )
    call SetUnitAnimationWithRarity( udg_Kael, "stand", RARITY_FREQUENT )
    call SetUnitLookAt( udg_Kael, "bone_head", gg_unit_Hlgr_0111, 0, 0, 40.00 )
    call SetUnitLookAt( gg_unit_Hlgr_0111, "bone_head", udg_Kael, 0, 0, 40.00 )
    call CameraSetupApplyForPlayer( true, gg_cam_Intro_05, udg_AP1_Player, 0.00 )
    call CameraSetupApplyForPlayer( true, gg_cam_Intro_06, udg_AP1_Player, ( ( GetSoundDurationBJ(gg_snd_A01Garithos05) + GetSoundDurationBJ(gg_snd_A01Kael06) ) + ( GetSoundDurationBJ(gg_snd_A01Garithos07) + ( GetSoundDurationBJ(gg_snd_A01Kael08) + 4.00 ) ) ) )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 0.50, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    if ( Trig_Intro_Cinematic_Q_Func067001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_LordGarithos, "TRIGSTR_076", gg_snd_A01Garithos05, "TRIGSTR_077", bj_TIMETYPE_ADD, 0, false )
    call SetUnitAnimation( gg_unit_Hlgr_0111, "stand - 2" )
    call WaitForSoundBJ( gg_snd_A01Garithos05, 3.00 )
    call PlaySoundOnUnitBJ( gg_snd_KnightNoRiderWhat1, 50.00, udg_LordGarithos )
    call WaitForSoundBJ( gg_snd_A01Garithos05, 0 )
    if ( Trig_Intro_Cinematic_Q_Func073001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitLookAt( udg_Kael, "bone_head", gg_unit_Hlgr_0111, 0, 0, 125.00 )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Kael, "TRIGSTR_078", gg_snd_A01Kael06, "TRIGSTR_079", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_A01Kael06, 0 )
    if ( Trig_Intro_Cinematic_Q_Func077001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitLookAt( gg_unit_Hlgr_0111, "bone_head", udg_Kael, 0, 0, 125.00 )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_LordGarithos, "TRIGSTR_080", gg_snd_A01Garithos07, "TRIGSTR_081", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_A01Garithos07, 6.00 )
    call PlaySoundOnUnitBJ( gg_snd_KnightNoRiderWhat3, 70.00, udg_LordGarithos )
    call WaitForSoundBJ( gg_snd_A01Garithos07, 0 )
    if ( Trig_Intro_Cinematic_Q_Func083001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Kael, "TRIGSTR_082", gg_snd_A01Kael08, "TRIGSTR_083", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_A01Kael08, 0.50 )
    if ( Trig_Intro_Cinematic_Q_Func086001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CameraSetupApplyForPlayer( true, gg_cam_Intro_07, udg_AP1_Player, 0.00 )
    call CameraSetupApplyForPlayer( true, gg_cam_Intro_08, udg_AP1_Player, ( GetSoundDurationBJ(gg_snd_A01Garithos09) + ( GetSoundDurationBJ(gg_snd_A01Kael10) + 10.00 ) ) )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_LordGarithos, "TRIGSTR_084", gg_snd_A01Garithos09, "TRIGSTR_085", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_A01Garithos09, 0 )
    if ( Trig_Intro_Cinematic_Q_Func091001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( udg_LordGarithos, "move", GetRectCenter(gg_rct_Remove_Garithos_Units) )
    call PlaySoundOnUnitBJ( gg_snd_HorseLoop3, 70.00, udg_LordGarithos )
    call TriggerSleepAction( 0.40 )
    if ( Trig_Intro_Cinematic_Q_Func095001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( udg_IntroKnight01, "move", GetRectCenter(gg_rct_Remove_Garithos_Units) )
    call PlaySoundOnUnitBJ( gg_snd_HorseLoop2, 70.00, udg_IntroKnight01 )
    call TriggerSleepAction( 0.40 )
    if ( Trig_Intro_Cinematic_Q_Func099001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( udg_IntroFootman01, "move", GetRectCenter(gg_rct_Remove_Garithos_Units) )
    call TriggerSleepAction( 0.40 )
    if ( Trig_Intro_Cinematic_Q_Func102001() ) then
        return
    else
        call DoNothing(  )
    endif
    call ResetUnitLookAt( gg_unit_Hlgr_0111 )
    call IssuePointOrderLocBJ( udg_IntroFootman02, "move", GetRectCenter(gg_rct_Remove_Garithos_Units) )
    call TriggerSleepAction( 0.40 )
    if ( Trig_Intro_Cinematic_Q_Func106001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( udg_IntroRifleman01, "move", GetRectCenter(gg_rct_Remove_Garithos_Units) )
    call TriggerSleepAction( 0.40 )
    if ( Trig_Intro_Cinematic_Q_Func109001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( udg_IntroRifleman02, "move", GetRectCenter(gg_rct_Remove_Garithos_Units) )
    call TriggerSleepAction( 2.00 )
    if ( Trig_Intro_Cinematic_Q_Func112001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitFacingToFaceUnitTimed( udg_Kael, udg_Priest01, 0 )
    call TriggerSleepAction( 0.50 )
    if ( Trig_Intro_Cinematic_Q_Func115001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitLookAt( udg_Kael, "bone_head", gg_unit_nrat_0185, 0, 0, 40.00 )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Kael, "TRIGSTR_086", gg_snd_A01Kael10, "TRIGSTR_087", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_A01Kael10, 3.00 )
    if ( Trig_Intro_Cinematic_Q_Func119001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitLookAt( udg_Kael, "bone_head", udg_Priest01, 0, 0, 100.00 )
    call TriggerSleepAction( 2.00 )
    if ( Trig_Intro_Cinematic_Q_Func122001() ) then
        return
    else
        call DoNothing(  )
    endif
    call ResetUnitAnimation( udg_Kael )
    call ResetUnitLookAt( udg_Kael )
    call IssuePointOrderLocBJ( udg_Kael, "move", GetRectCenter(gg_rct_Intro_BloodElves_Move) )
    call TriggerSleepAction( 1.00 )
    if ( Trig_Intro_Cinematic_Q_Func127001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( udg_SpellBreaker01, "move", GetRectCenter(gg_rct_Intro_BloodElves_Move) )
    call IssuePointOrderLocBJ( udg_SpellBreaker02, "move", GetRectCenter(gg_rct_Intro_BloodElves_Move) )
    call IssuePointOrderLocBJ( udg_Priest01, "move", GetRectCenter(gg_rct_Intro_BloodElves_Move) )
    call IssuePointOrderLocBJ( udg_Priest02, "move", GetRectCenter(gg_rct_Intro_BloodElves_Move) )
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    // CINEMATIC ENDS - Cinematic Can No Longer Be Skipped
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    call DisableTrigger( gg_trg_Intro_Skipped )
    // Fade Out
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    // Cleanup
    call ConditionalTriggerExecute( gg_trg_Intro_Cleanup )
    // Start AI, Let AI Settle Down
    call ConditionalTriggerExecute( gg_trg_Start_AI )
    call TriggerSleepAction( 1.00 )
    call CinematicModeBJ( false, udg_APG1_Player )
    // Fade In
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    // Start Game
    call ConditionalTriggerExecute( gg_trg_Gameplay )
    set udg_InCinematic = false
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Intro_Cinematic_Q takes nothing returns nothing
    set gg_trg_Intro_Cinematic_Q = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Intro_Cinematic_Q, function Trig_Intro_Cinematic_Q_Actions )
endfunction

//===========================================================================
// Trigger: Intro Skipped
//===========================================================================
function Trig_Intro_Skipped_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_IntroSkipped = true
    // Fade Out
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 0.50, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 0.50 )
    // Cleanup
    call ConditionalTriggerExecute( gg_trg_Intro_Cleanup )
    // Start AI, Let AI Settle Down
    call ConditionalTriggerExecute( gg_trg_Start_AI )
    call TriggerSleepAction( 1.00 )
    call CinematicModeBJ( false, udg_APG1_Player )
    // Fade In
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 0.50, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 0.50 )
    // Start Game
    call ConditionalTriggerExecute( gg_trg_Gameplay )
    set udg_InCinematic = false
    call QueuedTriggerRemoveBJ( gg_trg_Intro_Cinematic_Q )
endfunction

//===========================================================================
function InitTrig_Intro_Skipped takes nothing returns nothing
    set gg_trg_Intro_Skipped = CreateTrigger(  )
    call DisableTrigger( gg_trg_Intro_Skipped )
    call TriggerRegisterPlayerEventEndCinematic( gg_trg_Intro_Skipped, Player(0) )
    call TriggerAddAction( gg_trg_Intro_Skipped, function Trig_Intro_Skipped_Actions )
endfunction

//===========================================================================
// Trigger: Intro Setup
//===========================================================================
function Trig_Intro_Setup_Func011002 takes nothing returns nothing
    call ShowUnitHide( GetEnumUnit() )
endfunction

function Trig_Intro_Setup_Func012002 takes nothing returns nothing
    call ShowUnitHide( GetEnumUnit() )
endfunction

function Trig_Intro_Setup_Actions takes nothing returns nothing
    // Set Sky
    call SetSkyModel( "Environment\\Sky\\LordaeronSummerSky\\LordaeronSummerSky.mdl" )
    // Disable XP Gain
    call SuspendHeroXPBJ( false, udg_Kael )
    // Pause Time Of Day
    call UseTimeOfDayBJ( false )
    // Pause Units
    call PauseUnitBJ( false, udg_Kael )
    // Hide Units
    call GroupRemoveUnitSimple( udg_Kael, udg_HiddenUnits )
    call ForGroupBJ( udg_HiddenUnits, function Trig_Intro_Setup_Func011002 )
    call ForGroupBJ( GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_AGGRESSIVE)), function Trig_Intro_Setup_Func012002 )
    call ShowUnitShow( gg_unit_Hlgr_0111 )
    call ShowUnitShow( gg_unit_hkni_0113 )
    call ShowUnitShow( gg_unit_hfoo_0058 )
    call ShowUnitShow( gg_unit_hfoo_0059 )
    call ShowUnitShow( gg_unit_hrif_0057 )
    call ShowUnitShow( gg_unit_hrif_0112 )
    // Create starting units
    call CreateNUnitsAtLoc( 1, 'hspt', Player(0), GetRectCenter(gg_rct_CreateSpellBreaker01), bj_UNIT_FACING )
    set udg_SpellBreaker01 = GetLastCreatedUnit()
    call SetUnitPositionLoc( udg_SpellBreaker01, GetRectCenter(gg_rct_SpellBreaker01) )
    call CreateNUnitsAtLoc( 1, 'hspt', Player(0), GetRectCenter(gg_rct_CreateSpellBreaker02), bj_UNIT_FACING )
    set udg_SpellBreaker02 = GetLastCreatedUnit()
    call SetUnitPositionLoc( udg_SpellBreaker02, GetRectCenter(gg_rct_SpellBreaker02) )
    call CreateNUnitsAtLoc( 1, 'hmpr', Player(0), GetRectCenter(gg_rct_CreatePriest01), bj_UNIT_FACING )
    set udg_Priest01 = GetLastCreatedUnit()
    call SetUnitPositionLoc( udg_Priest01, GetRectCenter(gg_rct_Priest01) )
    call CreateNUnitsAtLoc( 1, 'hmpr', Player(0), GetRectCenter(gg_rct_CreatePriest02), bj_UNIT_FACING )
    set udg_Priest02 = GetLastCreatedUnit()
    call SetUnitPositionLoc( udg_Priest02, GetRectCenter(gg_rct_Priest02) )
endfunction

//===========================================================================
function InitTrig_Intro_Setup takes nothing returns nothing
    set gg_trg_Intro_Setup = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Intro_Setup, function Trig_Intro_Setup_Actions )
endfunction

//===========================================================================
// Trigger: Intro Cleanup
//===========================================================================
function Trig_Intro_Cleanup_Func027002 takes nothing returns nothing
    call ShowUnitShow( GetEnumUnit() )
endfunction

function Trig_Intro_Cleanup_Func028002 takes nothing returns nothing
    call ShowUnitShow( GetEnumUnit() )
endfunction

function Trig_Intro_Cleanup_Func036001 takes nothing returns boolean
    return ( udg_ExpDisabledForKael == false )
endfunction

function Trig_Intro_Cleanup_Actions takes nothing returns nothing
    call SetPlayerAllianceStateBJ( udg_AP1_Player, Player(PLAYER_NEUTRAL_AGGRESSIVE), bj_ALLIANCE_UNALLIED )
    call SetPlayerAllianceStateBJ( Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_AP1_Player, bj_ALLIANCE_UNALLIED )
    // Move Units
    call SetUnitPositionLocFacingBJ( udg_Kael, GetRectCenter(gg_rct_Gameplay_Kael_Start), 255.00 )
    call SetUnitManaPercentBJ( udg_Kael, 100 )
    call SetUnitMoveSpeed( udg_Kael, GetUnitDefaultMoveSpeed(udg_Kael) )
    call SetUnitPositionLocFacingBJ( udg_SpellBreaker01, GetRectCenter(gg_rct_Gameplay_SpellBreaker_01), 255.00 )
    call SetUnitManaPercentBJ( udg_SpellBreaker01, 100 )
    call SetUnitMoveSpeed( udg_SpellBreaker01, GetUnitDefaultMoveSpeed(udg_SpellBreaker01) )
    call SetUnitPositionLocFacingBJ( udg_SpellBreaker02, GetRectCenter(gg_rct_Gameplay_SpellBreaker_02), 255.00 )
    call SetUnitManaPercentBJ( udg_SpellBreaker02, 100 )
    call SetUnitMoveSpeed( udg_SpellBreaker02, GetUnitDefaultMoveSpeed(udg_SpellBreaker02) )
    call SetUnitPositionLocFacingBJ( udg_Priest01, GetRectCenter(gg_rct_Gameplay_Priest_01), 255.00 )
    call SetUnitManaPercentBJ( udg_Priest01, 100 )
    call SetUnitMoveSpeed( udg_Priest01, GetUnitDefaultMoveSpeed(udg_Priest01) )
    call SetUnitPositionLocFacingBJ( udg_Priest02, GetRectCenter(gg_rct_Gameplay_Priest_02), 255.00 )
    call SetUnitManaPercentBJ( udg_Priest02, 100 )
    call SetUnitMoveSpeed( udg_Priest02, GetUnitDefaultMoveSpeed(udg_Priest02) )
    // Remove Units
    call RemoveUnit( udg_LordGarithos )
    call RemoveUnit( udg_IntroKnight01 )
    call RemoveUnit( udg_IntroFootman01 )
    call RemoveUnit( udg_IntroFootman02 )
    call RemoveUnit( udg_IntroRifleman01 )
    call RemoveUnit( udg_IntroRifleman02 )
    // Unhide Units
    call ForGroupBJ( udg_HiddenUnits, function Trig_Intro_Cleanup_Func027002 )
    call ForGroupBJ( GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_AGGRESSIVE)), function Trig_Intro_Cleanup_Func028002 )
    // Unpause Units
    // Reset Animations
    call ResetUnitLookAt( udg_Kael )
    call ResetUnitAnimation( udg_Kael )
    // Pause Time Of Day
    call UseTimeOfDayBJ( true )
    // Re-enable XP Gain
    if ( Trig_Intro_Cleanup_Func036001() ) then
        call SuspendHeroXPBJ( true, udg_Kael )
    else
        call DoNothing(  )
    endif
    // Restore Selection
    call SelectUnitSingle( udg_Kael )
    // Reset Sky
    call SetSkyModel( null )
    // Reset Camera
    call CameraResetSmoothingFactorBJ(  )
    call ResetToGameCameraForPlayer( udg_AP1_Player, 0 )
    call PanCameraToTimedLocForPlayer( udg_AP1_Player, CameraSetupGetDestPositionLoc(gg_cam_Intro_Skipped), 0 )
    // Initial Harvesting
    // Wipe Visibility
    call CreateFogModifierRectBJ( true, udg_AP1_Player, FOG_OF_WAR_MASKED, GetPlayableMapRect() )
    call DestroyFogModifier( GetLastCreatedFogModifier() )
    // Create Repairing Peasants
    call CreateNUnitsAtLoc( 1, 'hpea', Player(0), GetRectCenter(gg_rct_Peasant_01), bj_UNIT_FACING )
    call IssueImmediateOrderBJ( GetLastCreatedUnit(), "repairon" )
endfunction

//===========================================================================
function InitTrig_Intro_Cleanup takes nothing returns nothing
    set gg_trg_Intro_Cleanup = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Intro_Cleanup, function Trig_Intro_Cleanup_Actions )
endfunction

//===========================================================================
// Trigger: Gameplay
//===========================================================================
function Trig_Gameplay_Actions takes nothing returns nothing
    // Do initial gameplay stuff, like quest messages and hints
    call TriggerSleepAction( 5.00 )
    call QueuedTriggerAddBJ( gg_trg_Observatory_Q, true )
    call TriggerSleepAction( 30.00 )
    call QueuedTriggerAddBJ( gg_trg_Hint_Spell_Breakers_Q, true )
endfunction

//===========================================================================
function InitTrig_Gameplay takes nothing returns nothing
    set gg_trg_Gameplay = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Gameplay, function Trig_Gameplay_Actions )
endfunction

//===========================================================================
// Trigger: Naga Cinematic Q
//===========================================================================
function Trig_Naga_Cinematic_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Naga_Cinematic_Q_Func009001 takes nothing returns boolean
    return ( udg_GameOver == true )
endfunction

function Trig_Naga_Cinematic_Q_Func030A takes nothing returns nothing
    call IssuePointOrderLocBJ( GetEnumUnit(), "attack", GetRectCenter(gg_rct_Attacking_to) )
endfunction

function Trig_Naga_Cinematic_Q_Func032001 takes nothing returns boolean
    return ( IsUnitDeadBJ(gg_unit_ugho_0090) == true )
endfunction

function Trig_Naga_Cinematic_Q_Func033001 takes nothing returns boolean
    return ( udg_NagaSkipped == true )
endfunction

function Trig_Naga_Cinematic_Q_Func034001 takes nothing returns boolean
    return ( IsUnitDeadBJ(gg_unit_ugho_0091) == true )
endfunction

function Trig_Naga_Cinematic_Q_Func035001 takes nothing returns boolean
    return ( udg_NagaSkipped == true )
endfunction

function Trig_Naga_Cinematic_Q_Func036001 takes nothing returns boolean
    return ( IsUnitDeadBJ(gg_unit_ugho_0092) == true )
endfunction

function Trig_Naga_Cinematic_Q_Func037001 takes nothing returns boolean
    return ( udg_NagaSkipped == true )
endfunction

function Trig_Naga_Cinematic_Q_Func038A takes nothing returns nothing
    call IssuePointOrderLocBJ( GetEnumUnit(), "move", GetRectCenter(gg_rct_Attacking_to) )
endfunction

function Trig_Naga_Cinematic_Q_Func040001 takes nothing returns boolean
    return ( udg_NagaSkipped == true )
endfunction

function Trig_Naga_Cinematic_Q_Func043001 takes nothing returns boolean
    return ( udg_NagaSkipped == true )
endfunction

function Trig_Naga_Cinematic_Q_Func045A takes nothing returns nothing
    call SetUnitFacingToFaceUnitTimed( GetEnumUnit(), udg_Kael, 1.00 )
endfunction

function Trig_Naga_Cinematic_Q_Func047001 takes nothing returns boolean
    return ( udg_NagaSkipped == true )
endfunction

function Trig_Naga_Cinematic_Q_Func050001 takes nothing returns boolean
    return ( udg_NagaSkipped == true )
endfunction

function Trig_Naga_Cinematic_Q_Func053001 takes nothing returns boolean
    return ( udg_NagaSkipped == true )
endfunction

function Trig_Naga_Cinematic_Q_Func056001 takes nothing returns boolean
    return ( udg_NagaSkipped == true )
endfunction

function Trig_Naga_Cinematic_Q_Func062001 takes nothing returns boolean
    return ( udg_NagaSkipped == true )
endfunction

function Trig_Naga_Cinematic_Q_Func065001 takes nothing returns boolean
    return ( udg_NagaSkipped == true )
endfunction

function Trig_Naga_Cinematic_Q_Func068001 takes nothing returns boolean
    return ( udg_NagaSkipped == true )
endfunction

function Trig_Naga_Cinematic_Q_Func071001 takes nothing returns boolean
    return ( udg_NagaSkipped == true )
endfunction

function Trig_Naga_Cinematic_Q_Func074001 takes nothing returns boolean
    return ( udg_NagaSkipped == true )
endfunction

function Trig_Naga_Cinematic_Q_Func078001 takes nothing returns boolean
    return ( udg_NagaSkipped == true )
endfunction

function Trig_Naga_Cinematic_Q_Func080001 takes nothing returns boolean
    return ( udg_NagaSkipped == true )
endfunction

function Trig_Naga_Cinematic_Q_Func090001 takes nothing returns boolean
    return ( udg_NagaSkipped == true )
endfunction

function Trig_Naga_Cinematic_Q_Func093001 takes nothing returns boolean
    return ( udg_NagaSkipped == true )
endfunction

function Trig_Naga_Cinematic_Q_Func096001 takes nothing returns boolean
    return ( udg_NagaSkipped == true )
endfunction

function Trig_Naga_Cinematic_Q_Func099001 takes nothing returns boolean
    return ( udg_NagaSkipped == true )
endfunction

function Trig_Naga_Cinematic_Q_Func102001 takes nothing returns boolean
    return ( udg_NagaSkipped == true )
endfunction

function Trig_Naga_Cinematic_Q_Func105001 takes nothing returns boolean
    return ( udg_NagaSkipped == true )
endfunction

function Trig_Naga_Cinematic_Q_Func108001 takes nothing returns boolean
    return ( udg_NagaSkipped == true )
endfunction

function Trig_Naga_Cinematic_Q_Func111001 takes nothing returns boolean
    return ( udg_NagaSkipped == true )
endfunction

function Trig_Naga_Cinematic_Q_Actions takes nothing returns nothing
    set udg_InCinematic = true
    // Fade Out
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    // Set Up Scene
    call CinematicModeBJ( true, udg_APG1_Player )
    call TriggerSleepAction( 0.25 )
    if ( Trig_Naga_Cinematic_Q_Func009001() ) then
        return
    else
        call DoNothing(  )
    endif
    call ConditionalTriggerExecute( gg_trg_Naga_Setup )
    call TriggerSleepAction( 0.25 )
    call IssuePointOrderLocBJ( udg_Kael, "attack", GetRectCenter(gg_rct_Attacking_to) )
    call CameraSetupApplyForPlayer( true, gg_cam_Naga_01, Player(0), 0 )
    call CameraSetupApplyForPlayer( true, gg_cam_Naga_02, udg_AP1_Player, ( GetSoundDurationBJ(gg_snd_A01Kael16) + 16.00 ) )
    // Fade In
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call VolumeGroupSetVolumeBJ( SOUND_VOLUMEGROUP_SPELLS, 100.00 )
    call VolumeGroupSetVolumeBJ( SOUND_VOLUMEGROUP_COMBAT, 100.00 )
    call TriggerSleepAction( 1.00 )
    call EnableTrigger( gg_trg_Naga_Skipped )
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    // CINEMATIC BEGINS - Cinematic Can Now Be Skipped
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    call IssuePointOrderLocBJ( gg_unit_ugho_0090, "attack", GetRectCenter(gg_rct_Naga_Cinematic) )
    call SetUnitLifePercentBJ( gg_unit_ugho_0090, 25.00 )
    call IssuePointOrderLocBJ( gg_unit_ugho_0091, "attack", GetRectCenter(gg_rct_Naga_Cinematic) )
    call SetUnitLifePercentBJ( gg_unit_ugho_0091, 25.00 )
    call IssuePointOrderLocBJ( gg_unit_ugho_0092, "attack", GetRectCenter(gg_rct_Naga_Cinematic) )
    call SetUnitLifePercentBJ( gg_unit_ugho_0092, 25.00 )
    call ForGroupBJ( GetUnitsInRectOfPlayer(gg_rct_Player_1_Units_Attack, udg_AP1_Player), function Trig_Naga_Cinematic_Q_Func030A )
    call IssuePointOrderLocBJ( udg_Kael, "move", GetRectCenter(gg_rct_NagaKaelMove) )
    loop
        exitwhen ( Trig_Naga_Cinematic_Q_Func032001() )
        call TriggerSleepAction(RMaxBJ(bj_WAIT_FOR_COND_MIN_INTERVAL, 0.50))
    endloop
    if ( Trig_Naga_Cinematic_Q_Func033001() ) then
        return
    else
        call DoNothing(  )
    endif
    loop
        exitwhen ( Trig_Naga_Cinematic_Q_Func034001() )
        call TriggerSleepAction(RMaxBJ(bj_WAIT_FOR_COND_MIN_INTERVAL, 0.50))
    endloop
    if ( Trig_Naga_Cinematic_Q_Func035001() ) then
        return
    else
        call DoNothing(  )
    endif
    loop
        exitwhen ( Trig_Naga_Cinematic_Q_Func036001() )
        call TriggerSleepAction(RMaxBJ(bj_WAIT_FOR_COND_MIN_INTERVAL, 0.50))
    endloop
    if ( Trig_Naga_Cinematic_Q_Func037001() ) then
        return
    else
        call DoNothing(  )
    endif
    call ForGroupBJ( GetUnitsInRectOfPlayer(gg_rct_Attacking_to, udg_AP1_Player), function Trig_Naga_Cinematic_Q_Func038A )
    call TriggerSleepAction( 2.00 )
    if ( Trig_Naga_Cinematic_Q_Func040001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitFacingToFaceLocTimed( udg_Kael, GetRectCenter(gg_rct_Burning_Shipyard), 1.00 )
    call TriggerSleepAction( 1.00 )
    if ( Trig_Naga_Cinematic_Q_Func043001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetSpeechVolumeGroupsBJ(  )
    call ForGroupBJ( GetUnitsInRectOfPlayer(gg_rct_Attacking_to, udg_AP1_Player), function Trig_Naga_Cinematic_Q_Func045A )
    call TriggerSleepAction( 1.00 )
    if ( Trig_Naga_Cinematic_Q_Func047001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Kael, "TRIGSTR_111", gg_snd_A01Kael16, "TRIGSTR_112", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_A01Kael16, 0 )
    if ( Trig_Naga_Cinematic_Q_Func050001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( udg_LadyVashj, "move", GetRectCenter(gg_rct_Naga_Unit_Move) )
    call TriggerSleepAction( 0.50 )
    if ( Trig_Naga_Cinematic_Q_Func053001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( udg_NagaGuard01, "move", GetRectCenter(gg_rct_NagaGuard_Move_01) )
    call TriggerSleepAction( 0.50 )
    if ( Trig_Naga_Cinematic_Q_Func056001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( udg_NagaGuard02, "move", GetRectCenter(gg_rct_NagaGuard_Move_02) )
    call CameraSetupApplyForPlayer( true, gg_cam_Naga_03, Player(0), 0 )
    call CameraSetupApplyForPlayer( true, gg_cam_Naga_04, udg_AP1_Player, ( ( GetSoundDurationBJ(gg_snd_A01Kael17) + GetSoundDurationBJ(gg_snd_A01LadyVashj18) ) + ( GetSoundDurationBJ(gg_snd_A01Kael19) + ( GetSoundDurationBJ(gg_snd_A01LadyVashj20) + ( ( GetSoundDurationBJ(gg_snd_A01Kael21) + GetSoundDurationBJ(gg_snd_A01LadyVashj22) ) + ( GetSoundDurationBJ(gg_snd_A01Kael23) + 2.00 ) ) ) ) ) )
    call SetUnitLookAt( udg_Kael, "bone_head", udg_LadyVashj, 0, 0, 90.00 )
    call TriggerSleepAction( 0.50 )
    if ( Trig_Naga_Cinematic_Q_Func062001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Kael, "TRIGSTR_113", gg_snd_A01Kael17, "TRIGSTR_114", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_A01Kael17, 1.00 )
    if ( Trig_Naga_Cinematic_Q_Func065001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitFacingToFaceUnitTimed( udg_Kael, udg_LadyVashj, 1.00 )
    call TriggerSleepAction( 1.00 )
    if ( Trig_Naga_Cinematic_Q_Func068001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitFacingToFaceUnitTimed( udg_LadyVashj, udg_Kael, 0.25 )
    call TriggerSleepAction( 0.50 )
    if ( Trig_Naga_Cinematic_Q_Func071001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitFacingToFaceUnitTimed( udg_NagaGuard01, udg_Kael, 0.25 )
    call TriggerSleepAction( 0.25 )
    if ( Trig_Naga_Cinematic_Q_Func074001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitFacingToFaceUnitTimed( udg_NagaGuard02, udg_Kael, 0.25 )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_LadyVashj, "TRIGSTR_060", gg_snd_A01LadyVashj18, "TRIGSTR_061", bj_TIMETYPE_ADD, 0, false )
    call TriggerSleepAction( 1.00 )
    if ( Trig_Naga_Cinematic_Q_Func078001() ) then
        return
    else
        call DoNothing(  )
    endif
    call WaitForSoundBJ( gg_snd_A01LadyVashj18, 1.00 )
    if ( Trig_Naga_Cinematic_Q_Func080001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitMoveSpeed( udg_Naga01, 225.00 )
    call SetUnitMoveSpeed( udg_Naga02, 200.00 )
    call SetUnitMoveSpeed( udg_NagaBoat01, 225.00 )
    call SetUnitMoveSpeed( udg_NagaBoat02, 200.00 )
    call IssuePointOrderLocBJ( udg_Naga01, "move", GetRectCenter(gg_rct_NagaMove01) )
    call IssuePointOrderLocBJ( udg_Naga02, "move", GetRectCenter(gg_rct_NagaMove02) )
    call IssuePointOrderLocBJ( udg_NagaBoat01, "move", GetRectCenter(gg_rct_NagaBoatMove01) )
    call IssuePointOrderLocBJ( udg_NagaBoat02, "move", GetRectCenter(gg_rct_NagaBoatMove02) )
    call TriggerSleepAction( 1.00 )
    if ( Trig_Naga_Cinematic_Q_Func090001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Kael, "TRIGSTR_115", gg_snd_A01Kael19, "TRIGSTR_116", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_A01Kael19, 0 )
    if ( Trig_Naga_Cinematic_Q_Func093001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_LadyVashj, "TRIGSTR_117", gg_snd_A01LadyVashj20, "TRIGSTR_118", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_A01LadyVashj20, 0 )
    if ( Trig_Naga_Cinematic_Q_Func096001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Kael, "TRIGSTR_119", gg_snd_A01Kael21, "TRIGSTR_120", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_A01Kael21, 4.00 )
    if ( Trig_Naga_Cinematic_Q_Func099001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitFacingToFaceUnitTimed( udg_Naga02, udg_LadyVashj, 1.00 )
    call TriggerSleepAction( 1.00 )
    if ( Trig_Naga_Cinematic_Q_Func102001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitFacingToFaceUnitTimed( udg_Naga01, udg_LadyVashj, 1.00 )
    call WaitForSoundBJ( gg_snd_A01Kael21, 0.00 )
    if ( Trig_Naga_Cinematic_Q_Func105001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_LadyVashj, "TRIGSTR_121", gg_snd_A01LadyVashj22, "TRIGSTR_122", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_A01LadyVashj22, 0 )
    if ( Trig_Naga_Cinematic_Q_Func108001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Kael, "TRIGSTR_123", gg_snd_A01Kael23, "TRIGSTR_124", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_A01Kael23, 0.00 )
    if ( Trig_Naga_Cinematic_Q_Func111001() ) then
        return
    else
        call DoNothing(  )
    endif
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    // CINEMATIC ENDS - Cinematic Can No Longer Be Skipped
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    call DisableTrigger( gg_trg_Naga_Skipped )
    // Fade Out
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    // Cleanup
    call ConditionalTriggerExecute( gg_trg_Naga_Cleanup )
    call CinematicModeBJ( false, udg_APG1_Player )
    // Fade In
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    // Quest update
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    set udg_InCinematic = false
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Naga_Cinematic_Q takes nothing returns nothing
    set gg_trg_Naga_Cinematic_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Naga_Cinematic_Q, Condition( function Trig_Naga_Cinematic_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Naga_Cinematic_Q, function Trig_Naga_Cinematic_Q_Actions )
endfunction

//===========================================================================
// Trigger: Naga Skipped
//===========================================================================
function Trig_Naga_Skipped_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_NagaSkipped = true
    // Fade Out
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 0.50, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 0.50 )
    // Cleanup
    call ConditionalTriggerExecute( gg_trg_Naga_Cleanup )
    call CinematicModeBJ( false, udg_APG1_Player )
    // Fade In
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 0.50, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 0.50 )
    // Quest Update
    set udg_InCinematic = false
    call QueuedTriggerRemoveBJ( gg_trg_Naga_Cinematic_Q )
endfunction

//===========================================================================
function InitTrig_Naga_Skipped takes nothing returns nothing
    set gg_trg_Naga_Skipped = CreateTrigger(  )
    call DisableTrigger( gg_trg_Naga_Skipped )
    call TriggerRegisterPlayerEventEndCinematic( gg_trg_Naga_Skipped, Player(0) )
    call TriggerAddAction( gg_trg_Naga_Skipped, function Trig_Naga_Skipped_Actions )
endfunction

//===========================================================================
// Trigger: Naga Setup
//===========================================================================
function Trig_Naga_Setup_Func014001002 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) != true )
endfunction

function Trig_Naga_Setup_Func014A takes nothing returns nothing
    call SetUnitLifePercentBJ( GetEnumUnit(), 100 )
endfunction

function Trig_Naga_Setup_Func020A takes nothing returns nothing
    call PauseUnitBJ( true, GetEnumUnit() )
    call ShowUnitHide( GetEnumUnit() )
endfunction

function Trig_Naga_Setup_Func034A takes nothing returns nothing
    call SetItemVisibleBJ( false, GetEnumItem() )
endfunction

function Trig_Naga_Setup_Func037001002 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) != true )
endfunction

function Trig_Naga_Setup_Func037A takes nothing returns nothing
    call GroupRemoveUnitSimple( GetEnumUnit(), udg_HiddenUnits )
    call GroupImmediateOrderBJ( GetUnitsInRectOfPlayer(gg_rct_Player_1_Units_Attack, udg_AP1_Player), "stop" )
endfunction

function Trig_Naga_Setup_Func038002 takes nothing returns nothing
    call ShowUnitHide( GetEnumUnit() )
endfunction

function Trig_Naga_Setup_Func039002 takes nothing returns nothing
    call ShowUnitHide( GetEnumUnit() )
endfunction

function Trig_Naga_Setup_Func041002 takes nothing returns nothing
    call UnitRemoveBuffsBJ( bj_REMOVEBUFFS_NONTLIFE, GetEnumUnit() )
endfunction

function Trig_Naga_Setup_Func042002 takes nothing returns nothing
    call UnitRemoveBuffsBJ( bj_REMOVEBUFFS_NONTLIFE, GetEnumUnit() )
endfunction

function Trig_Naga_Setup_Actions takes nothing returns nothing
    // Save Camera Position
    set udg_CameraReturnPoint = GetCameraTargetPositionLoc()
    // Set Sky
    call SetSkyModel( "Environment\\Sky\\LordaeronSummerSky\\LordaeronSummerSky.mdl" )
    // Save Selection
    set udg_SelectedUnits = GetUnitsSelectedAll(udg_AP1_Player)
    call ClearSelection(  )
    // Revive Hero
    set udg_RevivalHero = udg_Kael
    set udg_RevivalSpot = GetRectCenter(gg_rct_Keal_Naga_Cinematic)
    call ConditionalTriggerExecute( gg_trg_Cinematic_Revival )
    set udg_KaelReturnSpot = udg_RevivalReturnSpot
    call SetUnitPositionLoc( udg_Kael, GetRectCenter(gg_rct_Keal_Naga_Cinematic) )
    call ForGroupBJ( GetUnitsOfPlayerMatching(udg_AP1_Player, Condition(function Trig_Naga_Setup_Func014001002)), function Trig_Naga_Setup_Func014A )
    // Disable XP Gain
    call SuspendHeroXPBJ( false, udg_Kael )
    // Pause Time Of Day
    call UseTimeOfDayBJ( false )
    // Pause Units
    call ForGroupBJ( GetUnitsOfPlayerAll(udg_P5_Undead), function Trig_Naga_Setup_Func020A )
    call PauseAllUnitsBJ( true )
    call PauseUnitBJ( false, udg_Kael )
    call PauseUnitBJ( false, udg_Priest01 )
    call PauseUnitBJ( false, udg_Priest02 )
    call PauseUnitBJ( false, udg_SpellBreaker01 )
    call PauseUnitBJ( false, udg_SpellBreaker02 )
    call PauseUnitBJ( false, gg_unit_hfoo_0025 )
    call PauseUnitBJ( false, gg_unit_hfoo_0047 )
    call PauseUnitBJ( false, gg_unit_hfoo_0050 )
    call PauseUnitBJ( false, gg_unit_ugho_0091 )
    call PauseUnitBJ( false, gg_unit_ugho_0090 )
    call PauseUnitBJ( false, gg_unit_ugho_0092 )
    // Hide Units
    call EnumItemsInRectBJ( GetPlayableMapRect(), function Trig_Naga_Setup_Func034A )
    set udg_HiddenUnits = GetUnitsOfPlayerAll(udg_AP1_Player)
    call GroupRemoveUnitSimple( udg_Kael, udg_HiddenUnits )
    call ForGroupBJ( GetUnitsInRectMatching(gg_rct_Player_1_Units_Attack, Condition(function Trig_Naga_Setup_Func037001002)), function Trig_Naga_Setup_Func037A )
    call ForGroupBJ( udg_HiddenUnits, function Trig_Naga_Setup_Func038002 )
    call ForGroupBJ( GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_AGGRESSIVE)), function Trig_Naga_Setup_Func039002 )
    // Remove Buffs
    call ForGroupBJ( GetUnitsOfPlayerAll(udg_AP1_Player), function Trig_Naga_Setup_Func041002 )
    call ForGroupBJ( GetUnitsOfPlayerAll(udg_P5_Undead), function Trig_Naga_Setup_Func042002 )
    // Music Theme
    call PlayThematicMusicBJ( "Sound\\Music\\mp3Music\\NagaTheme.mp3" )
    // Create Boats and Naga Unit
    call CreateNUnitsAtLoc( 1, 'nbot', Player(0), GetRectCenter(gg_rct_NagaBoatStart01), bj_UNIT_FACING )
    set udg_NagaBoat01 = GetLastCreatedUnit()
    call CreateNUnitsAtLoc( 1, 'nmyr', Player(1), GetRectCenter(gg_rct_NagaStart01), bj_UNIT_FACING )
    set udg_Naga01 = GetLastCreatedUnit()
    call CreateNUnitsAtLoc( 1, 'nbot', Player(0), GetRectCenter(gg_rct_NagaBoatStart02), bj_UNIT_FACING )
    set udg_NagaBoat02 = GetLastCreatedUnit()
    call CreateNUnitsAtLoc( 1, 'nmyr', Player(1), GetRectCenter(gg_rct_NagaStart02), bj_UNIT_FACING )
    set udg_Naga02 = GetLastCreatedUnit()
    call CreateNUnitsAtLoc( 1, 'Hvsh', Player(1), GetRectCenter(gg_rct_Naga_Unit), 0.00 )
    set udg_LadyVashj = GetLastCreatedUnit()
    call CreateNUnitsAtLoc( 1, 'nnrg', Player(1), GetRectCenter(gg_rct_NagaGuard_Create_01), 0.00 )
    set udg_NagaGuard01 = GetLastCreatedUnit()
    call CreateNUnitsAtLoc( 1, 'nnrg', Player(1), GetRectCenter(gg_rct_NagaGuard_Create_02), 0.00 )
    set udg_NagaGuard02 = GetLastCreatedUnit()
    call DisableTrigger( gg_trg_Make_Ghouls_Attack )
endfunction

//===========================================================================
function InitTrig_Naga_Setup takes nothing returns nothing
    set gg_trg_Naga_Setup = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Naga_Setup, function Trig_Naga_Setup_Actions )
endfunction

//===========================================================================
// Trigger: Naga Cleanup
//===========================================================================
function Trig_Naga_Cleanup_Func002A takes nothing returns nothing
    call SetItemVisibleBJ( true, GetEnumItem() )
endfunction

function Trig_Naga_Cleanup_Func003002 takes nothing returns nothing
    call ShowUnitShow( GetEnumUnit() )
endfunction

function Trig_Naga_Cleanup_Func004002 takes nothing returns nothing
    call ShowUnitShow( GetEnumUnit() )
endfunction

function Trig_Naga_Cleanup_Func005002 takes nothing returns nothing
    call SetUnitPositionLoc( GetEnumUnit(), GetRectCenter(gg_rct_Attacking_to) )
endfunction

function Trig_Naga_Cleanup_Func008A takes nothing returns nothing
    call PauseUnitBJ( false, GetEnumUnit() )
    call ShowUnitShow( GetEnumUnit() )
endfunction

function Trig_Naga_Cleanup_Func013001 takes nothing returns boolean
    return ( udg_ExpDisabledForKael == false )
endfunction

function Trig_Naga_Cleanup_Actions takes nothing returns nothing
    // Unhide Units
    call EnumItemsInRectBJ( GetPlayableMapRect(), function Trig_Naga_Cleanup_Func002A )
    call ForGroupBJ( udg_HiddenUnits, function Trig_Naga_Cleanup_Func003002 )
    call ForGroupBJ( GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_AGGRESSIVE)), function Trig_Naga_Cleanup_Func004002 )
    call ForGroupBJ( GetUnitsInRectOfPlayer(gg_rct_Group_Units, udg_AP1_Player), function Trig_Naga_Cleanup_Func005002 )
    call SetUnitPositionLoc( udg_Kael, GetRectCenter(gg_rct_Attacking_to) )
    // Unpause Units
    call ForGroupBJ( GetUnitsOfPlayerAll(udg_P5_Undead), function Trig_Naga_Cleanup_Func008A )
    call PauseAllUnitsBJ( false )
    // Pause Time Of Day
    call UseTimeOfDayBJ( true )
    // Re-enable XP Gain
    if ( Trig_Naga_Cleanup_Func013001() ) then
        call SuspendHeroXPBJ( true, udg_Kael )
    else
        call DoNothing(  )
    endif
    // Return Heroes
    // Restore Selection
    call ResetUnitLookAt( udg_Kael )
    call SelectGroupBJ( udg_SelectedUnits )
    // Reset Sky
    call SetSkyModel( null )
    // Reset Camera
    call CameraResetSmoothingFactorBJ(  )
    call ResetToGameCameraForPlayer( udg_AP1_Player, 0 )
    call SmartCameraPanBJ( udg_AP1_Player, GetRectCenter(gg_rct_Burning_Shipyard), 0.00 )
    // Remove Naga Unit
    call RemoveUnit( udg_LadyVashj )
    call RemoveUnit( udg_Naga01 )
    call RemoveUnit( udg_Naga02 )
    call RemoveUnit( udg_NagaGuard01 )
    call RemoveUnit( udg_NagaGuard02 )
    // Create Naga Shipyard if it is not there.
    call SetUnitPositionLoc( udg_NagaBoat01, GetRectCenter(gg_rct_NagaBoatEnd01) )
    call SetUnitPositionLoc( udg_NagaBoat02, GetRectCenter(gg_rct_NagaBoatEnd02) )
    call ConditionalTriggerExecute( gg_trg_New_Boats )
    call KillUnit( gg_unit_ugho_0090 )
    call KillUnit( gg_unit_ugho_0091 )
    call KillUnit( gg_unit_ugho_0092 )
    // Reset Animations
    call ResetUnitAnimation( udg_Kael )
    call ResetUnitLookAt( udg_Kael )
endfunction

//===========================================================================
function InitTrig_Naga_Cleanup takes nothing returns nothing
    set gg_trg_Naga_Cleanup = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Naga_Cleanup, function Trig_Naga_Cleanup_Actions )
endfunction

//===========================================================================
// Trigger: New Boats
//===========================================================================
function Trig_New_Boats_Actions takes nothing returns nothing
    call PingMinimapLocForForceEx( GetPlayersAll(), GetUnitLoc(udg_NagaBoat01), 10.00, bj_MINIMAPPINGSTYLE_SIMPLE, 100, 100, 100 )
    call SetCameraQuickPositionLocForPlayer( Player(0), GetUnitLoc(udg_NagaBoat01) )
endfunction

//===========================================================================
function InitTrig_New_Boats takes nothing returns nothing
    set gg_trg_New_Boats = CreateTrigger(  )
    call TriggerAddAction( gg_trg_New_Boats, function Trig_New_Boats_Actions )
endfunction

//===========================================================================
// Trigger: Make Ghouls Attack
//===========================================================================
function Trig_Make_Ghouls_Attack_Actions takes nothing returns nothing
    call SetUnitAnimation( gg_unit_ugho_0090, "attack -1" )
    call SetUnitAnimation( gg_unit_ugho_0091, "attack -2" )
    call SetUnitAnimation( gg_unit_ugho_0092, "attack -1" )
endfunction

//===========================================================================
function InitTrig_Make_Ghouls_Attack takes nothing returns nothing
    set gg_trg_Make_Ghouls_Attack = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Make_Ghouls_Attack, 1.00 )
    call TriggerAddAction( gg_trg_Make_Ghouls_Attack, function Trig_Make_Ghouls_Attack_Actions )
endfunction

//===========================================================================
// Trigger: Tower MiniCinematic Q
//===========================================================================
function Trig_Tower_MiniCinematic_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Tower_MiniCinematic_Q_Func002001 takes nothing returns boolean
    return ( udg_InCombat == false )
endfunction

function Trig_Tower_MiniCinematic_Q_Func009001 takes nothing returns boolean
    return ( udg_GameOver == true )
endfunction

function Trig_Tower_MiniCinematic_Q_Actions takes nothing returns nothing
    set udg_InCinematic = true
    loop
        exitwhen ( Trig_Tower_MiniCinematic_Q_Func002001() )
        call TriggerSleepAction(RMaxBJ(bj_WAIT_FOR_COND_MIN_INTERVAL, 1))
    endloop
    // Fade Out
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 0.25, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 0.25 )
    // Set Up Scene
    call CinematicModeExBJ( true, GetPlayersAll(), 0.2 )
    if ( Trig_Tower_MiniCinematic_Q_Func009001() ) then
        return
    else
        call DoNothing(  )
    endif
    call ConditionalTriggerExecute( gg_trg_Tower_Setup )
    call TriggerSleepAction( 0.10 )
    call CameraSetupApplyForPlayer( true, udg_WhichCamera, udg_AP1_Player, 0 )
    // Fade In
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 0.25, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call VolumeGroupSetVolumeBJ( SOUND_VOLUMEGROUP_SPELLS, 80.00 )
    call TriggerSleepAction( 0.25 )
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    // MINI-CINEMATIC BEGINS - Mini-Cinematics Cannot Be Skipped
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    call AddSpecialEffectLocBJ( GetRandomLocInRect(udg_WhichRegion), "Abilities\\Spells\\Other\\Andt\\Andt.mdl" )
    set udg_Farsight01 = GetLastCreatedEffectBJ()
    call AddSpecialEffectLocBJ( GetRandomLocInRect(udg_WhichRegion), "Abilities\\Spells\\Other\\Andt\\Andt.mdl" )
    set udg_Farsight02 = GetLastCreatedEffectBJ()
    call AddSpecialEffectLocBJ( GetRandomLocInRect(udg_WhichRegion), "Abilities\\Spells\\Other\\Andt\\Andt.mdl" )
    set udg_Farsight03 = GetLastCreatedEffectBJ()
    call AddSpecialEffectLocBJ( GetRandomLocInRect(udg_WhichRegion), "Abilities\\Spells\\Other\\Andt\\Andt.mdl" )
    set udg_Farsight04 = GetLastCreatedEffectBJ()
    call AddSpecialEffectLocBJ( GetRandomLocInRect(udg_WhichRegion), "Abilities\\Spells\\Other\\Andt\\Andt.mdl" )
    set udg_Farsight05 = GetLastCreatedEffectBJ()
    call AddSpecialEffectLocBJ( GetRandomLocInRect(udg_WhichRegion), "Abilities\\Spells\\Other\\Andt\\Andt.mdl" )
    set udg_Farsight06 = GetLastCreatedEffectBJ()
    call AddSpecialEffectLocBJ( GetRandomLocInRect(udg_WhichRegion), "Abilities\\Spells\\Other\\Andt\\Andt.mdl" )
    set udg_Farsight07 = GetLastCreatedEffectBJ()
    call AddSpecialEffectLocBJ( GetRandomLocInRect(udg_WhichRegion), "Abilities\\Spells\\Other\\Andt\\Andt.mdl" )
    set udg_Farsight08 = GetLastCreatedEffectBJ()
    call CreateFogModifierRadiusLocBJ( true, udg_AP1_Player, FOG_OF_WAR_VISIBLE, udg_WhichPoint, 6600.00 )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Kael, "TRIGSTR_201", gg_snd_A01Kael26, "TRIGSTR_202", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_A01Kael26, 0 )
    call DestroyEffectBJ( udg_Farsight01 )
    call DestroyEffectBJ( udg_Farsight02 )
    call DestroyEffectBJ( udg_Farsight03 )
    call DestroyEffectBJ( udg_Farsight04 )
    call DestroyEffectBJ( udg_Farsight05 )
    call DestroyEffectBJ( udg_Farsight06 )
    call DestroyEffectBJ( udg_Farsight07 )
    call DestroyEffectBJ( udg_Farsight08 )
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    // MINI-CINEMATIC ENDS - Mini-Cinematics Cannot Be Skipped
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    // Fade Out
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 0.25, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 0.25 )
    // Cleanup
    call ConditionalTriggerExecute( gg_trg_Tower_Cleanup )
    call CinematicModeExBJ( false, GetPlayersAll(), 0.2 )
    call TriggerSleepAction( 0.10 )
    // Fade In
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 0.25, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 0.25 )
    set udg_InCinematic = false
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Tower_MiniCinematic_Q takes nothing returns nothing
    set gg_trg_Tower_MiniCinematic_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Tower_MiniCinematic_Q, Condition( function Trig_Tower_MiniCinematic_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Tower_MiniCinematic_Q, function Trig_Tower_MiniCinematic_Q_Actions )
endfunction

//===========================================================================
// Trigger: Tower Setup
//===========================================================================
function Trig_Tower_Setup_Func015002 takes nothing returns nothing
    call ShowUnitHide( GetEnumUnit() )
endfunction

function Trig_Tower_Setup_Func016002002 takes nothing returns boolean
    return ( IsUnitHiddenBJ(GetFilterUnit()) == false )
endfunction

function Trig_Tower_Setup_Func017002 takes nothing returns nothing
    call ShowUnitHide( GetEnumUnit() )
endfunction

function Trig_Tower_Setup_Func019002 takes nothing returns nothing
    call SetItemVisibleBJ( false, GetEnumItem() )
endfunction

function Trig_Tower_Setup_Actions takes nothing returns nothing
    // Save Camera Position
    set udg_CameraReturnPoint = GetCameraTargetPositionLoc()
    // Set Sky
    call SetSkyModel( "Environment\\Sky\\LordaeronSummerSky\\LordaeronSummerSky.mdl" )
    // Save Selection
    set udg_SelectedUnits = GetUnitsSelectedAll(udg_AP1_Player)
    call ClearSelection(  )
    // Disable XP Gain
    call SuspendHeroXPBJ( false, udg_Kael )
    // Pause Time Of Day
    call UseTimeOfDayBJ( false )
    // Pause Units
    call PauseAllUnitsBJ( true )
    // Hide Units
    call ForGroupBJ( GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_AGGRESSIVE)), function Trig_Tower_Setup_Func015002 )
    set udg_HiddenUnits = GetUnitsOfPlayerMatching(udg_AP1_Player, Condition(function Trig_Tower_Setup_Func016002002))
    call ForGroupBJ( udg_HiddenUnits, function Trig_Tower_Setup_Func017002 )
    // Hide Items
    call EnumItemsInRectBJ( GetPlayableMapRect(), function Trig_Tower_Setup_Func019002 )
    // Remove Buffs
    // Disable Abilities
    call SetPlayerAbilityAvailableBJ( false, 'Ashm', udg_AP1_Player )
    call SetPlayerAbilityAvailableBJ( false, 'AEah', udg_AP1_Player )
endfunction

//===========================================================================
function InitTrig_Tower_Setup takes nothing returns nothing
    set gg_trg_Tower_Setup = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Tower_Setup, function Trig_Tower_Setup_Actions )
endfunction

//===========================================================================
// Trigger: Tower Cleanup
//===========================================================================
function Trig_Tower_Cleanup_Func005002 takes nothing returns nothing
    call SetItemVisibleBJ( true, GetEnumItem() )
endfunction

function Trig_Tower_Cleanup_Func007002 takes nothing returns nothing
    call ShowUnitShow( GetEnumUnit() )
endfunction

function Trig_Tower_Cleanup_Func008002 takes nothing returns nothing
    call ShowUnitShow( GetEnumUnit() )
endfunction

function Trig_Tower_Cleanup_Func014001 takes nothing returns boolean
    return ( udg_ExpDisabledForKael == false )
endfunction

function Trig_Tower_Cleanup_Actions takes nothing returns nothing
    // Restore Abilities
    call SetPlayerAbilityAvailableBJ( true, 'Ashm', udg_AP1_Player )
    call SetPlayerAbilityAvailableBJ( true, 'AEah', udg_AP1_Player )
    // Unhide Items
    call EnumItemsInRectBJ( GetPlayableMapRect(), function Trig_Tower_Cleanup_Func005002 )
    // Unhide Units
    call ForGroupBJ( GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_AGGRESSIVE)), function Trig_Tower_Cleanup_Func007002 )
    call ForGroupBJ( udg_HiddenUnits, function Trig_Tower_Cleanup_Func008002 )
    // Unpause Units
    call PauseAllUnitsBJ( false )
    // Unpause Time Of Day
    call UseTimeOfDayBJ( true )
    // Re-enable XP Gain
    if ( Trig_Tower_Cleanup_Func014001() ) then
        call SuspendHeroXPBJ( true, udg_Kael )
    else
        call DoNothing(  )
    endif
    // Restore Selection
    call SelectGroupBJ( udg_SelectedUnits )
    // Reset Sky
    call SetSkyModel( null )
    // Reset Camera
    call CameraResetSmoothingFactorBJ(  )
    call ResetToGameCameraForPlayer( udg_AP1_Player, 0 )
    call PanCameraToTimedLocForPlayer( udg_AP1_Player, udg_CameraReturnPoint, 0 )
    call TriggerSleepAction( 5.00 )
    call QueuedTriggerAddBJ( gg_trg_Hint_Island_Revealed_01_Q, true )
endfunction

//===========================================================================
function InitTrig_Tower_Cleanup takes nothing returns nothing
    set gg_trg_Tower_Cleanup = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Tower_Cleanup, function Trig_Tower_Cleanup_Actions )
endfunction

//===========================================================================
// Trigger: Victory Cinematic Q
//===========================================================================
function Trig_Victory_Cinematic_Q_Func027001 takes nothing returns boolean
    return ( udg_VictorySkipped == true )
endfunction

function Trig_Victory_Cinematic_Q_Func030001 takes nothing returns boolean
    return ( udg_VictorySkipped == true )
endfunction

function Trig_Victory_Cinematic_Q_Func033001 takes nothing returns boolean
    return ( udg_VictorySkipped == true )
endfunction

function Trig_Victory_Cinematic_Q_Func037001 takes nothing returns boolean
    return ( udg_VictorySkipped == true )
endfunction

function Trig_Victory_Cinematic_Q_Func040001 takes nothing returns boolean
    return ( udg_VictorySkipped == true )
endfunction

function Trig_Victory_Cinematic_Q_Func045001 takes nothing returns boolean
    return ( udg_VictorySkipped == true )
endfunction

function Trig_Victory_Cinematic_Q_Func049001 takes nothing returns boolean
    return ( udg_VictorySkipped == true )
endfunction

function Trig_Victory_Cinematic_Q_Func054001 takes nothing returns boolean
    return ( udg_VictorySkipped == true )
endfunction

function Trig_Victory_Cinematic_Q_Actions takes nothing returns nothing
    set udg_InCinematic = true
    set udg_GameOver = true
    // Quest update
    call ConditionalTriggerExecute( gg_trg_Quest_Observatory_Completed )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    // Fade Out
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    // Set Up Scene
    call CinematicModeBJ( true, udg_APG1_Player )
    call TriggerSleepAction( 0.25 )
    call ConditionalTriggerExecute( gg_trg_Next_Level_Prep )
    call ConditionalTriggerExecute( gg_trg_Victory_Setup )
    call SetUnitLookAt( udg_LordGarithos, "bone_head", udg_KaelCinematic, 0, 0, 100.00 )
    call TriggerSleepAction( 0.25 )
    call CameraSetupApplyForPlayer( true, gg_cam_Victory_01, Player(0), 0 )
    call CameraSetupApplyForPlayer( true, gg_cam_Victory_02, Player(0), ( ( GetSoundDurationBJ(gg_snd_A01Kael30) + GetSoundDurationBJ(gg_snd_A01Garithos31) ) + ( GetSoundDurationBJ(gg_snd_A01Kael32) + ( GetSoundDurationBJ(gg_snd_A01Garithos33) + 8.00 ) ) ) )
    // Fade In
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    call EnableTrigger( gg_trg_Victory_Skipped )
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    // CINEMATIC BEGINS - Cinematic Can Now Be Skipped
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_KaelCinematic, "TRIGSTR_149", gg_snd_A01Kael30, "TRIGSTR_150", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_A01Kael30, 0.50 )
    if ( Trig_Victory_Cinematic_Q_Func027001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_LordGarithos, "TRIGSTR_153", gg_snd_A01Garithos31, "TRIGSTR_154", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_A01Garithos31, 0 )
    if ( Trig_Victory_Cinematic_Q_Func030001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_KaelCinematic, "TRIGSTR_155", gg_snd_A01Kael32, "TRIGSTR_156", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_A01Kael32, 0.50 )
    if ( Trig_Victory_Cinematic_Q_Func033001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_LordGarithos, "TRIGSTR_157", gg_snd_A01Garithos33, "TRIGSTR_158", bj_TIMETYPE_ADD, 0, false )
    call SetUnitAnimation( udg_LordGarithos, "attack" )
    call TriggerSleepAction( 1.10 )
    if ( Trig_Victory_Cinematic_Q_Func037001() ) then
        return
    else
        call DoNothing(  )
    endif
    call ResetUnitAnimation( udg_LordGarithos )
    call WaitForSoundBJ( gg_snd_A01Garithos33, 0 )
    if ( Trig_Victory_Cinematic_Q_Func040001() ) then
        return
    else
        call DoNothing(  )
    endif
    call ResetUnitLookAt( udg_LordGarithos )
    call IssuePointOrderLocBJ( udg_LordGarithos, "move", GetRectCenter(gg_rct_Victory_Garithos_Exit_02) )
    call PlaySoundOnUnitBJ( gg_snd_HorseLoop3, 70.00, udg_LordGarithos )
    call TriggerSleepAction( 2.00 )
    if ( Trig_Victory_Cinematic_Q_Func045001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( udg_VictoryKnight01, "move", GetRectCenter(gg_rct_Victory_Garithos_Exit_01) )
    call PlaySoundOnUnitBJ( gg_snd_HorseLoop2, 70.00, udg_VictoryKnight01 )
    call TriggerSleepAction( 1.00 )
    if ( Trig_Victory_Cinematic_Q_Func049001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( udg_VictoryKnight01, "move", GetRectCenter(gg_rct_Victory_Garithos_Exit_02) )
    call IssuePointOrderLocBJ( udg_VictoryKnight02, "move", GetRectCenter(gg_rct_Victory_Garithos_Exit_01) )
    call PlaySoundOnUnitBJ( gg_snd_HorseLoop1, 70.00, udg_VictoryKnight01 )
    call TriggerSleepAction( 1.00 )
    if ( Trig_Victory_Cinematic_Q_Func054001() ) then
        return
    else
        call DoNothing(  )
    endif
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    // CINEMATIC ENDS - Cinematic Can No Longer Be Skipped
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    call DisableTrigger( gg_trg_Victory_Skipped )
    // Fade Out
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 2.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call IssuePointOrderLocBJ( udg_VictoryKnight02, "move", GetRectCenter(gg_rct_Victory_Garithos_Exit_02) )
    call IssuePointOrderLocBJ( udg_VictoryRifleman01, "move", GetRectCenter(gg_rct_Victory_Garithos_Exit_01) )
    call TriggerSleepAction( 1.00 )
    call IssuePointOrderLocBJ( udg_VictoryRifleman01, "move", GetRectCenter(gg_rct_Victory_Garithos_Exit_02) )
    call IssuePointOrderLocBJ( udg_VictoryRifleman02, "move", GetRectCenter(gg_rct_Victory_Garithos_Exit_02) )
    call TriggerSleepAction( 1.00 )
    call RemoveUnit( udg_KaelCinematic )
    call RemoveUnit( udg_LordGarithos )
    call ConditionalTriggerExecute( gg_trg_Next_Level_Run )
endfunction

//===========================================================================
function InitTrig_Victory_Cinematic_Q takes nothing returns nothing
    set gg_trg_Victory_Cinematic_Q = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Victory_Cinematic_Q, function Trig_Victory_Cinematic_Q_Actions )
endfunction

//===========================================================================
// Trigger: Victory Skipped
//===========================================================================
function Trig_Victory_Skipped_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_VictorySkipped = true
    // Fade Out
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 2.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 2.00 )
    call ConditionalTriggerExecute( gg_trg_Next_Level_Run )
endfunction

//===========================================================================
function InitTrig_Victory_Skipped takes nothing returns nothing
    set gg_trg_Victory_Skipped = CreateTrigger(  )
    call DisableTrigger( gg_trg_Victory_Skipped )
    call TriggerRegisterPlayerEventEndCinematic( gg_trg_Victory_Skipped, Player(0) )
    call TriggerAddAction( gg_trg_Victory_Skipped, function Trig_Victory_Skipped_Actions )
endfunction

//===========================================================================
// Trigger: Victory Setup
//===========================================================================
function Trig_Victory_Setup_Func073A takes nothing returns nothing
    call SetItemVisibleBJ( false, GetEnumItem() )
endfunction

function Trig_Victory_Setup_Func089002 takes nothing returns nothing
    call ShowUnitHide( GetEnumUnit() )
endfunction

function Trig_Victory_Setup_Func090002 takes nothing returns nothing
    call ShowUnitHide( GetEnumUnit() )
endfunction

function Trig_Victory_Setup_Func093002 takes nothing returns nothing
    call UnitRemoveBuffsBJ( bj_REMOVEBUFFS_NONTLIFE, GetEnumUnit() )
endfunction

function Trig_Victory_Setup_Func094002 takes nothing returns nothing
    call UnitRemoveBuffsBJ( bj_REMOVEBUFFS_NONTLIFE, GetEnumUnit() )
endfunction

function Trig_Victory_Setup_Actions takes nothing returns nothing
    // Set Sky
    call SetSkyModel( "Environment\\Sky\\LordaeronSummerSky\\LordaeronSummerSky.mdl" )
    // Clear Selection
    call ClearSelection(  )
    // Create And Move Units
    call SetUnitLifePercentBJ( udg_Observatory01, 100 )
    call SetUnitLifePercentBJ( udg_Observatory02, 100 )
    call SetUnitLifePercentBJ( udg_Observatory03, 100 )
    call CreateNUnitsAtLoc( 1, 'Hlgr', Player(0), GetRectCenter(gg_rct_Victory_Garithos_Start), bj_UNIT_FACING )
    set udg_LordGarithos = GetLastCreatedUnit()
    call SetUnitColor( udg_LordGarithos, PLAYER_COLOR_LIGHT_GRAY )
    call CreateNUnitsAtLoc( 1, 'Hkal', Player(0), GetRectCenter(gg_rct_Victory_Kael_Start), bj_UNIT_FACING )
    set udg_KaelCinematic = GetLastCreatedUnit()
    call SetUnitPositionLoc( udg_KaelCinematic, GetRectCenter(gg_rct_Victory_Kael_Start) )
    call CreateNUnitsAtLocFacingLocBJ( 1, 'hkni', Player(0), GetRectCenter(gg_rct_Victory_Knight_01), GetUnitLoc(udg_LordGarithos) )
    set udg_VictoryKnight01 = GetLastCreatedUnit()
    call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_LIGHT_BLUE )
    call CreateNUnitsAtLocFacingLocBJ( 1, 'hkni', Player(0), GetRectCenter(gg_rct_Victory_Knight_02), GetUnitLoc(udg_LordGarithos) )
    set udg_VictoryKnight02 = GetLastCreatedUnit()
    call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_LIGHT_BLUE )
    call CreateNUnitsAtLocFacingLocBJ( 1, 'hkni', Player(0), GetRectCenter(gg_rct_Victory_Knight_03), GetUnitLoc(udg_LordGarithos) )
    set udg_VictoryKnight03 = GetLastCreatedUnit()
    call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_LIGHT_BLUE )
    call CreateNUnitsAtLocFacingLocBJ( 1, 'hkni', Player(0), GetRectCenter(gg_rct_Victory_Knight_04), GetUnitLoc(udg_LordGarithos) )
    set udg_VictoryKnight04 = GetLastCreatedUnit()
    call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_LIGHT_BLUE )
    call CreateNUnitsAtLocFacingLocBJ( 1, 'hkni', Player(0), GetRectCenter(gg_rct_Victory_Knight_05), GetUnitLoc(udg_LordGarithos) )
    set udg_VictoryKnight05 = GetLastCreatedUnit()
    call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_LIGHT_BLUE )
    call CreateNUnitsAtLocFacingLocBJ( 1, 'hkni', Player(0), GetRectCenter(gg_rct_Victory_Knight_06), GetUnitLoc(udg_LordGarithos) )
    set udg_VictoryKnight06 = GetLastCreatedUnit()
    call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_LIGHT_BLUE )
    call CreateNUnitsAtLocFacingLocBJ( 1, 'hrif', Player(0), GetRectCenter(gg_rct_Victory_Rifleman_01), GetUnitLoc(udg_LordGarithos) )
    set udg_VictoryRifleman01 = GetLastCreatedUnit()
    call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_LIGHT_BLUE )
    call CreateNUnitsAtLocFacingLocBJ( 1, 'hrif', Player(0), GetRectCenter(gg_rct_Victory_Rifleman_02), GetUnitLoc(udg_LordGarithos) )
    set udg_VictoryRifleman02 = GetLastCreatedUnit()
    call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_LIGHT_BLUE )
    call CreateNUnitsAtLocFacingLocBJ( 1, 'hrif', Player(0), GetRectCenter(gg_rct_Victory_Rifleman_03), GetUnitLoc(udg_LordGarithos) )
    set udg_VictoryRifleman03 = GetLastCreatedUnit()
    call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_LIGHT_BLUE )
    call CreateNUnitsAtLocFacingLocBJ( 1, 'hrif', Player(0), GetRectCenter(gg_rct_Victory_Rifleman_04), GetUnitLoc(udg_LordGarithos) )
    set udg_VictoryRifleman04 = GetLastCreatedUnit()
    call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_LIGHT_BLUE )
    call CreateNUnitsAtLocFacingLocBJ( 1, 'hmpr', Player(0), GetRectCenter(gg_rct_Victory_Priest_01), GetUnitLoc(udg_KaelCinematic) )
    set udg_VictoryPriest01 = GetLastCreatedUnit()
    call CreateNUnitsAtLocFacingLocBJ( 1, 'hmpr', Player(0), GetRectCenter(gg_rct_Victory_Priest_02), GetUnitLoc(udg_KaelCinematic) )
    set udg_VictoryPriest02 = GetLastCreatedUnit()
    // Revive Hero
    call SetUnitFacingToFaceUnitTimed( udg_KaelCinematic, udg_LordGarithos, 0 )
    call SetUnitFacingToFaceUnitTimed( udg_LordGarithos, udg_KaelCinematic, 0 )
    // Disable XP Gain
    call SuspendHeroXPBJ( false, udg_Kael )
    // Pause Time Of Day
    call UseTimeOfDayBJ( false )
    // Pause Units
    call PauseAllUnitsBJ( true )
    call PauseUnitBJ( false, udg_KaelCinematic )
    call PauseUnitBJ( false, udg_LordGarithos )
    call PauseUnitBJ( false, udg_VictoryKnight01 )
    call PauseUnitBJ( false, udg_VictoryKnight02 )
    call PauseUnitBJ( false, udg_VictoryKnight03 )
    call PauseUnitBJ( false, udg_VictoryKnight04 )
    call PauseUnitBJ( false, udg_VictoryKnight05 )
    call PauseUnitBJ( false, udg_VictoryKnight06 )
    call PauseUnitBJ( false, udg_VictoryRifleman01 )
    call PauseUnitBJ( false, udg_VictoryRifleman02 )
    call PauseUnitBJ( false, udg_VictoryRifleman03 )
    call PauseUnitBJ( false, udg_VictoryRifleman04 )
    call PauseUnitBJ( false, udg_VictoryPriest01 )
    call PauseUnitBJ( false, udg_VictoryPriest02 )
    // Hide Units
    call EnumItemsInRectBJ( GetPlayableMapRect(), function Trig_Victory_Setup_Func073A )
    set udg_HiddenUnits = GetUnitsOfPlayerAll(udg_AP1_Player)
    call GroupRemoveUnitSimple( udg_KaelCinematic, udg_HiddenUnits )
    call GroupRemoveUnitSimple( udg_LordGarithos, udg_HiddenUnits )
    call GroupRemoveUnitSimple( udg_VictoryKnight01, udg_HiddenUnits )
    call GroupRemoveUnitSimple( udg_VictoryKnight02, udg_HiddenUnits )
    call GroupRemoveUnitSimple( udg_VictoryKnight03, udg_HiddenUnits )
    call GroupRemoveUnitSimple( udg_VictoryKnight04, udg_HiddenUnits )
    call GroupRemoveUnitSimple( udg_VictoryKnight05, udg_HiddenUnits )
    call GroupRemoveUnitSimple( udg_VictoryKnight06, udg_HiddenUnits )
    call GroupRemoveUnitSimple( udg_VictoryRifleman01, udg_HiddenUnits )
    call GroupRemoveUnitSimple( udg_VictoryRifleman02, udg_HiddenUnits )
    call GroupRemoveUnitSimple( udg_VictoryRifleman03, udg_HiddenUnits )
    call GroupRemoveUnitSimple( udg_VictoryRifleman04, udg_HiddenUnits )
    call GroupRemoveUnitSimple( udg_VictoryPriest01, udg_HiddenUnits )
    call GroupRemoveUnitSimple( udg_VictoryPriest02, udg_HiddenUnits )
    call ForGroupBJ( udg_HiddenUnits, function Trig_Victory_Setup_Func089002 )
    call ForGroupBJ( GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_AGGRESSIVE)), function Trig_Victory_Setup_Func090002 )
    call ShowUnitShow( udg_LordGarithos )
    // Remove Buffs
    call ForGroupBJ( GetUnitsOfPlayerAll(udg_AP1_Player), function Trig_Victory_Setup_Func093002 )
    call ForGroupBJ( GetUnitsOfPlayerAll(udg_P5_Undead), function Trig_Victory_Setup_Func094002 )
    // Music Theme
    call PlayThematicMusicBJ( "Sound\\Music\\mp3Music\\BloodElfTheme.mp3" )
endfunction

//===========================================================================
function InitTrig_Victory_Setup takes nothing returns nothing
    set gg_trg_Victory_Setup = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Victory_Setup, function Trig_Victory_Setup_Actions )
endfunction

//===========================================================================
// Trigger: Next Level Prep
//===========================================================================
function Trig_Next_Level_Prep_Actions takes nothing returns nothing
    // Remove Quest Items
    call RemoveItem( GetItemOfTypeFromUnitBJ(udg_Kael, 'tgrh') )
    call RemoveItem( GetItemOfTypeFromUnitBJ(udg_Kael, 'tbak') )
    call RemoveItem( GetItemOfTypeFromUnitBJ(udg_Kael, 'tbar') )
    call RemoveItem( GetItemOfTypeFromUnitBJ(udg_Kael, 'stwp') )
    // Save Heroes
    call InitGameCacheBJ( "Campaigns.w3v" )
    call StoreUnitBJ( udg_Kael, "Kael", "HumanX02", GetLastCreatedGameCacheBJ() )
    call SaveGameCacheBJ( GetLastCreatedGameCacheBJ() )
    // Enable Missions, Campaigns, Cinematics
    call SetMissionAvailableBJ( true, bj_MISSION_INDEX_XH01 )
endfunction

//===========================================================================
function InitTrig_Next_Level_Prep takes nothing returns nothing
    set gg_trg_Next_Level_Prep = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Next_Level_Prep, function Trig_Next_Level_Prep_Actions )
endfunction

//===========================================================================
// Trigger: Next Level Run
//===========================================================================
function Trig_Next_Level_Run_Actions takes nothing returns nothing
    // Set Next Level and Victory
    call SetNextLevelBJ( "Maps\\FrozenThrone\\Campaign\\HumanX02.w3x" )
    call CustomVictoryBJ( udg_AP1_Player, true, true )
endfunction

//===========================================================================
function InitTrig_Next_Level_Run takes nothing returns nothing
    set gg_trg_Next_Level_Run = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Next_Level_Run, function Trig_Next_Level_Run_Actions )
endfunction

//===========================================================================
// Trigger: Victory Cheat
//===========================================================================
function Trig_Victory_Cheat_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Victory_Cheat_Actions takes nothing returns nothing
    set udg_GameOver = true
    call ConditionalTriggerExecute( gg_trg_Next_Level_Prep )
    call ConditionalTriggerExecute( gg_trg_Next_Level_Run )
endfunction

//===========================================================================
function InitTrig_Victory_Cheat takes nothing returns nothing
    set gg_trg_Victory_Cheat = CreateTrigger(  )
    call TriggerRegisterPlayerEventVictory( gg_trg_Victory_Cheat, Player(0) )
    call TriggerAddCondition( gg_trg_Victory_Cheat, Condition( function Trig_Victory_Cheat_Conditions ) )
    call TriggerAddAction( gg_trg_Victory_Cheat, function Trig_Victory_Cheat_Actions )
endfunction

//===========================================================================
// Trigger: Defeat Cheat
//===========================================================================
function Trig_Defeat_Cheat_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Defeat_Cheat_Actions takes nothing returns nothing
    set udg_GameOver = true
    call CustomDefeatBJ( udg_AP1_Player, "TRIGSTR_001" )
endfunction

//===========================================================================
function InitTrig_Defeat_Cheat takes nothing returns nothing
    set gg_trg_Defeat_Cheat = CreateTrigger(  )
    call TriggerRegisterPlayerEventDefeat( gg_trg_Defeat_Cheat, Player(0) )
    call TriggerAddCondition( gg_trg_Defeat_Cheat, Condition( function Trig_Defeat_Cheat_Conditions ) )
    call TriggerAddAction( gg_trg_Defeat_Cheat, function Trig_Defeat_Cheat_Actions )
endfunction

//===========================================================================
// Trigger: Quest Observatory Create
//===========================================================================
function Trig_Quest_Observatory_Create_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Quest_Observatory_Create_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    // Create the quest objects
    call CreateQuestBJ( bj_QUESTTYPE_REQ_UNDISCOVERED, "TRIGSTR_035", "TRIGSTR_036", "ReplaceableTextures\\CommandButtons\\BTNArcaneObservatory.tga" )
    set udg_QuestObservatory = GetLastCreatedQuestBJ()
    call CreateQuestItemBJ( udg_QuestObservatory, "TRIGSTR_212" )
    set udg_QuestObservatoryReq01 = GetLastCreatedQuestItemBJ()
endfunction

//===========================================================================
function InitTrig_Quest_Observatory_Create takes nothing returns nothing
    set gg_trg_Quest_Observatory_Create = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Quest_Observatory_Create, Condition( function Trig_Quest_Observatory_Create_Conditions ) )
    call TriggerAddAction( gg_trg_Quest_Observatory_Create, function Trig_Quest_Observatory_Create_Actions )
endfunction

//===========================================================================
// Trigger: Quest Observatory Discover
//===========================================================================
function Trig_Quest_Observatory_Discover_Actions takes nothing returns nothing
    // Ensure that the quest exists
    call ConditionalTriggerExecute( gg_trg_Quest_Observatory_Create )
    // Update the quest
    call QuestSetDiscoveredBJ( udg_QuestObservatory, true )
    // Display a quest message.
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_039" )
endfunction

//===========================================================================
function InitTrig_Quest_Observatory_Discover takes nothing returns nothing
    set gg_trg_Quest_Observatory_Discover = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Quest_Observatory_Discover, function Trig_Quest_Observatory_Discover_Actions )
endfunction

//===========================================================================
// Trigger: Quest Observatory Update 01
//===========================================================================
function Trig_Quest_Observatory_Update_01_Actions takes nothing returns nothing
    // Ensure that the quest exists
    call ConditionalTriggerExecute( gg_trg_Quest_Observatory_Create )
    // Update the quest
    call QuestItemSetDescriptionBJ( udg_QuestObservatoryReq01, "TRIGSTR_210" )
    // Display a quest message.
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_211" )
endfunction

//===========================================================================
function InitTrig_Quest_Observatory_Update_01 takes nothing returns nothing
    set gg_trg_Quest_Observatory_Update_01 = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Quest_Observatory_Update_01, function Trig_Quest_Observatory_Update_01_Actions )
endfunction

//===========================================================================
// Trigger: Quest Observatory Update 02
//===========================================================================
function Trig_Quest_Observatory_Update_02_Actions takes nothing returns nothing
    // Ensure that the quest exists
    call ConditionalTriggerExecute( gg_trg_Quest_Observatory_Create )
    // Update the quest
    call QuestItemSetDescriptionBJ( udg_QuestObservatoryReq01, "TRIGSTR_213" )
    // Display a quest message.
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_214" )
endfunction

//===========================================================================
function InitTrig_Quest_Observatory_Update_02 takes nothing returns nothing
    set gg_trg_Quest_Observatory_Update_02 = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Quest_Observatory_Update_02, function Trig_Quest_Observatory_Update_02_Actions )
endfunction

//===========================================================================
// Trigger: Quest Observatory Completed
//===========================================================================
function Trig_Quest_Observatory_Completed_Actions takes nothing returns nothing
    // Ensure that the quest exists
    call ConditionalTriggerExecute( gg_trg_Quest_Observatory_Create )
    // Update the quest
    call QuestItemSetDescriptionBJ( udg_QuestObservatoryReq01, "TRIGSTR_215" )
    call QuestSetDiscoveredBJ( udg_QuestObservatory, true )
    call QuestItemSetCompletedBJ( udg_QuestObservatoryReq01, true )
    call QuestSetCompletedBJ( udg_QuestObservatory, true )
    // Display a quest message.
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_COMPLETED, "TRIGSTR_040" )
endfunction

//===========================================================================
function InitTrig_Quest_Observatory_Completed takes nothing returns nothing
    set gg_trg_Quest_Observatory_Completed = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Quest_Observatory_Completed, function Trig_Quest_Observatory_Completed_Actions )
endfunction

//===========================================================================
// Trigger: Quest Hidden Caches Create
//===========================================================================
function Trig_Quest_Hidden_Caches_Create_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Quest_Hidden_Caches_Create_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    // Create the quest objects
    call CreateQuestBJ( bj_QUESTTYPE_OPT_UNDISCOVERED, "TRIGSTR_055", "TRIGSTR_056", "ReplaceableTextures\\CommandButtons\\BTNMagicVault.tga" )
    set udg_QuestHiddenCaches = GetLastCreatedQuestBJ()
    call CreateQuestItemBJ( udg_QuestHiddenCaches, "TRIGSTR_169" )
    set udg_QuestHiddenCachesAmountFound = GetLastCreatedQuestItemBJ()
endfunction

//===========================================================================
function InitTrig_Quest_Hidden_Caches_Create takes nothing returns nothing
    set gg_trg_Quest_Hidden_Caches_Create = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Quest_Hidden_Caches_Create, Condition( function Trig_Quest_Hidden_Caches_Create_Conditions ) )
    call TriggerAddAction( gg_trg_Quest_Hidden_Caches_Create, function Trig_Quest_Hidden_Caches_Create_Actions )
endfunction

//===========================================================================
// Trigger: Quest Hidden Caches Discover
//===========================================================================
function Trig_Quest_Hidden_Caches_Discover_Actions takes nothing returns nothing
    // Ensure that the quest exists
    call ConditionalTriggerExecute( gg_trg_Quest_Hidden_Caches_Create )
    // Update the quest
    call QuestSetDiscoveredBJ( udg_QuestHiddenCaches, true )
    // Display a quest message.
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_058" )
endfunction

//===========================================================================
function InitTrig_Quest_Hidden_Caches_Discover takes nothing returns nothing
    set gg_trg_Quest_Hidden_Caches_Discover = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Quest_Hidden_Caches_Discover, function Trig_Quest_Hidden_Caches_Discover_Actions )
endfunction

//===========================================================================
// Trigger: Quest Hidden Caches Update 01
//===========================================================================
function Trig_Quest_Hidden_Caches_Update_01_Actions takes nothing returns nothing
    // Ensure that the quest exists
    call ConditionalTriggerExecute( gg_trg_Quest_Hidden_Caches_Create )
    // Update the quest
    call QuestItemSetDescriptionBJ( udg_QuestHiddenCachesAmountFound, "TRIGSTR_170" )
    // Display a quest message.
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_171" )
endfunction

//===========================================================================
function InitTrig_Quest_Hidden_Caches_Update_01 takes nothing returns nothing
    set gg_trg_Quest_Hidden_Caches_Update_01 = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Quest_Hidden_Caches_Update_01, function Trig_Quest_Hidden_Caches_Update_01_Actions )
endfunction

//===========================================================================
// Trigger: Quest Hidden Caches Update 02
//===========================================================================
function Trig_Quest_Hidden_Caches_Update_02_Actions takes nothing returns nothing
    // Ensure that the quest exists
    call ConditionalTriggerExecute( gg_trg_Quest_Hidden_Caches_Create )
    // Update the quest
    call QuestItemSetDescriptionBJ( udg_QuestHiddenCachesAmountFound, "TRIGSTR_172" )
    // Display a quest message.
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_173" )
endfunction

//===========================================================================
function InitTrig_Quest_Hidden_Caches_Update_02 takes nothing returns nothing
    set gg_trg_Quest_Hidden_Caches_Update_02 = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Quest_Hidden_Caches_Update_02, function Trig_Quest_Hidden_Caches_Update_02_Actions )
endfunction

//===========================================================================
// Trigger: Quest Hidden Caches Update 03
//===========================================================================
function Trig_Quest_Hidden_Caches_Update_03_Actions takes nothing returns nothing
    // Ensure that the quest exists
    call ConditionalTriggerExecute( gg_trg_Quest_Hidden_Caches_Create )
    // Update the quest
    call QuestItemSetDescriptionBJ( udg_QuestHiddenCachesAmountFound, "TRIGSTR_174" )
    // Display a quest message.
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_175" )
endfunction

//===========================================================================
function InitTrig_Quest_Hidden_Caches_Update_03 takes nothing returns nothing
    set gg_trg_Quest_Hidden_Caches_Update_03 = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Quest_Hidden_Caches_Update_03, function Trig_Quest_Hidden_Caches_Update_03_Actions )
endfunction

//===========================================================================
// Trigger: Quest Hidden Caches Completed
//===========================================================================
function Trig_Quest_Hidden_Caches_Completed_Actions takes nothing returns nothing
    // Ensure that the quest exists
    call ConditionalTriggerExecute( gg_trg_Quest_Hidden_Caches_Create )
    // Update the quest
    call QuestItemSetDescriptionBJ( udg_QuestHiddenCachesAmountFound, "TRIGSTR_178" )
    call QuestSetDiscoveredBJ( udg_QuestHiddenCaches, true )
    call QuestItemSetCompletedBJ( udg_QuestHiddenCachesReq, true )
    call QuestItemSetCompletedBJ( udg_QuestHiddenCachesAmountFound, true )
    call QuestSetCompletedBJ( udg_QuestHiddenCaches, true )
    // Display a quest message.
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_COMPLETED, "TRIGSTR_059" )
endfunction

//===========================================================================
function InitTrig_Quest_Hidden_Caches_Completed takes nothing returns nothing
    set gg_trg_Quest_Hidden_Caches_Completed = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Quest_Hidden_Caches_Completed, function Trig_Quest_Hidden_Caches_Completed_Actions )
endfunction

//===========================================================================
// Trigger: Mission Failed all Units Dead
//===========================================================================
function Trig_Mission_Failed_all_Units_Dead_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_MISSIONFAILED, "TRIGSTR_190" )
endfunction

//===========================================================================
function InitTrig_Mission_Failed_all_Units_Dead takes nothing returns nothing
    set gg_trg_Mission_Failed_all_Units_Dead = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Mission_Failed_all_Units_Dead, function Trig_Mission_Failed_all_Units_Dead_Actions )
endfunction

//===========================================================================
// Trigger: Mission Failed Base Dead
//===========================================================================
function Trig_Mission_Failed_Base_Dead_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_MISSIONFAILED, "TRIGSTR_019" )
endfunction

//===========================================================================
function InitTrig_Mission_Failed_Base_Dead takes nothing returns nothing
    set gg_trg_Mission_Failed_Base_Dead = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Mission_Failed_Base_Dead, function Trig_Mission_Failed_Base_Dead_Actions )
endfunction

//===========================================================================
// Trigger: Mission Failed TowerDead
//===========================================================================
function Trig_Mission_Failed_TowerDead_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_MISSIONFAILED, "TRIGSTR_126" )
endfunction

//===========================================================================
function InitTrig_Mission_Failed_TowerDead takes nothing returns nothing
    set gg_trg_Mission_Failed_TowerDead = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Mission_Failed_TowerDead, function Trig_Mission_Failed_TowerDead_Actions )
endfunction

//===========================================================================
// Trigger: Hint Spell Breakers Q
//===========================================================================
function Trig_Hint_Spell_Breakers_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Hint_Spell_Breakers_Q_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_HINT, "TRIGSTR_204" )
    call TriggerSleepAction( bj_QUEUE_DELAY_HINT )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Hint_Spell_Breakers_Q takes nothing returns nothing
    set gg_trg_Hint_Spell_Breakers_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Hint_Spell_Breakers_Q, Condition( function Trig_Hint_Spell_Breakers_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Hint_Spell_Breakers_Q, function Trig_Hint_Spell_Breakers_Q_Actions )
endfunction

//===========================================================================
// Trigger: Hint Control Magic
//===========================================================================
function Trig_Hint_Control_Magic_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Hint_Control_Magic_Q, true )
endfunction

//===========================================================================
function InitTrig_Hint_Control_Magic takes nothing returns nothing
    set gg_trg_Hint_Control_Magic = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Hint_Control_Magic, Player(PLAYER_NEUTRAL_AGGRESSIVE), EVENT_PLAYER_UNIT_SUMMON )
    call TriggerAddAction( gg_trg_Hint_Control_Magic, function Trig_Hint_Control_Magic_Actions )
endfunction

//===========================================================================
// Trigger: Hint Control Magic Q
//===========================================================================
function Trig_Hint_Control_Magic_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Hint_Control_Magic_Q_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_195" )
    call TriggerSleepAction( bj_QUEUE_DELAY_HINT )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Hint_Control_Magic_Q takes nothing returns nothing
    set gg_trg_Hint_Control_Magic_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Hint_Control_Magic_Q, Condition( function Trig_Hint_Control_Magic_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Hint_Control_Magic_Q, function Trig_Hint_Control_Magic_Q_Actions )
endfunction

//===========================================================================
// Trigger: Hint Tiny Castle
//===========================================================================
function Trig_Hint_Tiny_Castle_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    if ( not ( UnitHasItemOfTypeBJ(udg_Kael, 'tgrh') == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Hint_Tiny_Castle_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Hint_Tiny_Castle_Q, true )
endfunction

//===========================================================================
function InitTrig_Hint_Tiny_Castle takes nothing returns nothing
    set gg_trg_Hint_Tiny_Castle = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Hint_Tiny_Castle, gg_rct_Start_Yellow_AI )
    call TriggerAddCondition( gg_trg_Hint_Tiny_Castle, Condition( function Trig_Hint_Tiny_Castle_Conditions ) )
    call TriggerAddAction( gg_trg_Hint_Tiny_Castle, function Trig_Hint_Tiny_Castle_Actions )
endfunction

//===========================================================================
// Trigger: Hint Tiny Castle Q
//===========================================================================
function Trig_Hint_Tiny_Castle_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Hint_Tiny_Castle_Q_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_219" )
    call TriggerSleepAction( bj_QUEUE_DELAY_HINT )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Hint_Tiny_Castle_Q takes nothing returns nothing
    set gg_trg_Hint_Tiny_Castle_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Hint_Tiny_Castle_Q, Condition( function Trig_Hint_Tiny_Castle_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Hint_Tiny_Castle_Q, function Trig_Hint_Tiny_Castle_Q_Actions )
endfunction

//===========================================================================
// Trigger: Hint Runes Flame Stirke 01
//===========================================================================
function Trig_Hint_Runes_Flame_Stirke_01_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    return true
endfunction

function Trig_Hint_Runes_Flame_Stirke_01_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Hint_Runes_Flame_Stirke_01_Q, true )
endfunction

//===========================================================================
function InitTrig_Hint_Runes_Flame_Stirke_01 takes nothing returns nothing
    set gg_trg_Hint_Runes_Flame_Stirke_01 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Hint_Runes_Flame_Stirke_01, gg_rct_Runes_on_Ground )
    call TriggerAddCondition( gg_trg_Hint_Runes_Flame_Stirke_01, Condition( function Trig_Hint_Runes_Flame_Stirke_01_Conditions ) )
    call TriggerAddAction( gg_trg_Hint_Runes_Flame_Stirke_01, function Trig_Hint_Runes_Flame_Stirke_01_Actions )
endfunction

//===========================================================================
// Trigger: Hint Runes Flame Stirke 01 Q
//===========================================================================
function Trig_Hint_Runes_Flame_Stirke_01_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Hint_Runes_Flame_Stirke_01_Q_Actions takes nothing returns nothing
    call SetCameraQuickPositionLocForPlayer( udg_AP1_Player, GetRectCenter(gg_rct_Tree_Wall_to_Box) )
    call PingMinimapLocForForce( GetPlayersAll(), GetRectCenter(gg_rct_Tree_Wall_to_Box), 5.00 )
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_220" )
    call TriggerSleepAction( bj_QUEUE_DELAY_HINT )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Hint_Runes_Flame_Stirke_01_Q takes nothing returns nothing
    set gg_trg_Hint_Runes_Flame_Stirke_01_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Hint_Runes_Flame_Stirke_01_Q, Condition( function Trig_Hint_Runes_Flame_Stirke_01_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Hint_Runes_Flame_Stirke_01_Q, function Trig_Hint_Runes_Flame_Stirke_01_Q_Actions )
endfunction

//===========================================================================
// Trigger: Hint Island Revealed 01 Q
//===========================================================================
function Trig_Hint_Island_Revealed_01_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Hint_Island_Revealed_01_Q_Actions takes nothing returns nothing
    call SetCameraQuickPositionLocForPlayer( udg_AP1_Player, GetUnitLoc(gg_unit_ngol_0026) )
    call PingMinimapLocForForce( GetPlayersAll(), GetUnitLoc(gg_unit_ngol_0026), 5.00 )
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_238" )
    call TriggerSleepAction( bj_QUEUE_DELAY_HINT )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Hint_Island_Revealed_01_Q takes nothing returns nothing
    set gg_trg_Hint_Island_Revealed_01_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Hint_Island_Revealed_01_Q, Condition( function Trig_Hint_Island_Revealed_01_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Hint_Island_Revealed_01_Q, function Trig_Hint_Island_Revealed_01_Q_Actions )
endfunction

//===========================================================================
// Trigger: Low Goldmines Q
//===========================================================================
function Trig_Low_Goldmines_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Low_Goldmines_Q_Actions takes nothing returns nothing
    call SetSpeechVolumeGroupsBJ(  )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Kael, "TRIGSTR_068", gg_snd_A01Kael11, "TRIGSTR_091", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_A01Kael11, 0 )
    call VolumeGroupResetBJ(  )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Low_Goldmines_Q takes nothing returns nothing
    set gg_trg_Low_Goldmines_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Low_Goldmines_Q, Condition( function Trig_Low_Goldmines_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Low_Goldmines_Q, function Trig_Low_Goldmines_Q_Actions )
endfunction

//===========================================================================
// Trigger: Start AI
//===========================================================================
function Trig_Start_AI_Actions takes nothing returns nothing
    // Start All AI Scripts
    call StartMeleeAI( Player(4), "H01X05.ai" )
    call RemoveGuardPosition( gg_unit_ugho_0091 )
    call RemoveGuardPosition( gg_unit_ugho_0090 )
    call RemoveGuardPosition( gg_unit_ugho_0092 )
endfunction

//===========================================================================
function InitTrig_Start_AI takes nothing returns nothing
    set gg_trg_Start_AI = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Start_AI, function Trig_Start_AI_Actions )
endfunction

//===========================================================================
// Trigger: Start AI After Building Built
//===========================================================================
function Trig_Start_AI_After_Building_Built_Actions takes nothing returns nothing
    call CommandAI( Player(4), 0, 0 )
endfunction

//===========================================================================
function InitTrig_Start_AI_After_Building_Built takes nothing returns nothing
    set gg_trg_Start_AI_After_Building_Built = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Start_AI_After_Building_Built, function Trig_Start_AI_After_Building_Built_Actions )
endfunction

//===========================================================================
// Trigger: AI Resources Yellow Gold
//===========================================================================
function Trig_AI_Resources_Yellow_Gold_Actions takes nothing returns nothing
    call SetPlayerStateBJ( Player(4), PLAYER_STATE_RESOURCE_GOLD, 1351 )
endfunction

//===========================================================================
function InitTrig_AI_Resources_Yellow_Gold takes nothing returns nothing
    set gg_trg_AI_Resources_Yellow_Gold = CreateTrigger(  )
    call TriggerRegisterPlayerStateEvent( gg_trg_AI_Resources_Yellow_Gold, Player(4), PLAYER_STATE_RESOURCE_GOLD, LESS_THAN, 1000.00 )
    call TriggerAddAction( gg_trg_AI_Resources_Yellow_Gold, function Trig_AI_Resources_Yellow_Gold_Actions )
endfunction

//===========================================================================
// Trigger: AI Resources Yellow Lumber
//===========================================================================
function Trig_AI_Resources_Yellow_Lumber_Actions takes nothing returns nothing
    call SetPlayerStateBJ( Player(4), PLAYER_STATE_RESOURCE_LUMBER, 1273 )
endfunction

//===========================================================================
function InitTrig_AI_Resources_Yellow_Lumber takes nothing returns nothing
    set gg_trg_AI_Resources_Yellow_Lumber = CreateTrigger(  )
    call TriggerRegisterPlayerStateEvent( gg_trg_AI_Resources_Yellow_Lumber, Player(4), PLAYER_STATE_RESOURCE_LUMBER, LESS_THAN, 1000.00 )
    call TriggerAddAction( gg_trg_AI_Resources_Yellow_Lumber, function Trig_AI_Resources_Yellow_Lumber_Actions )
endfunction

//===========================================================================
// Trigger: Combat Detected
//
// To use combat detection, just enable these two triggers and check the "InCombat" variable to determine whether or not the player is in combat.
//===========================================================================
function Trig_Combat_Detected_Actions takes nothing returns nothing
    call StartTimerBJ( udg_CombatCheckTimer, false, 3.00 )
    set udg_InCombat = true
endfunction

//===========================================================================
function InitTrig_Combat_Detected takes nothing returns nothing
    set gg_trg_Combat_Detected = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Combat_Detected, Player(0), EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddAction( gg_trg_Combat_Detected, function Trig_Combat_Detected_Actions )
endfunction

//===========================================================================
// Trigger: Combat Resolved
//===========================================================================
function Trig_Combat_Resolved_Actions takes nothing returns nothing
    set udg_InCombat = false
endfunction

//===========================================================================
function InitTrig_Combat_Resolved takes nothing returns nothing
    set gg_trg_Combat_Resolved = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Combat_Resolved, udg_CombatCheckTimer )
    call TriggerAddAction( gg_trg_Combat_Resolved, function Trig_Combat_Resolved_Actions )
endfunction

//===========================================================================
// Trigger: Player Builds Town
//===========================================================================
function Trig_Player_Builds_Town_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetConstructedStructure()) == 'htow' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Player_Builds_Town_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_Peasant_Dies )
    call EnableTrigger( gg_trg_Defeat_Units_Dead )
    call ConditionalTriggerExecute( gg_trg_Start_AI_After_Building_Built )
    call DisableTrigger( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Player_Builds_Town takes nothing returns nothing
    set gg_trg_Player_Builds_Town = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Player_Builds_Town, Player(0), EVENT_PLAYER_UNIT_CONSTRUCT_FINISH )
    call TriggerAddCondition( gg_trg_Player_Builds_Town, Condition( function Trig_Player_Builds_Town_Conditions ) )
    call TriggerAddAction( gg_trg_Player_Builds_Town, function Trig_Player_Builds_Town_Actions )
endfunction

//===========================================================================
// Trigger: Defeat Units all Dead
//===========================================================================
function Trig_Defeat_Units_all_Dead_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( GetPlayerStructureCount(udg_AP1_Player, false) == 0 ) ) then
        return false
    endif
    if ( not ( IsUnitDeadBJ(gg_unit_hfoo_0047) == true ) ) then
        return false
    endif
    if ( not ( IsUnitDeadBJ(gg_unit_hfoo_0025) == true ) ) then
        return false
    endif
    if ( not ( IsUnitDeadBJ(gg_unit_hfoo_0050) == true ) ) then
        return false
    endif
    if ( not ( IsUnitDeadBJ(udg_SpellBreaker01) == true ) ) then
        return false
    endif
    if ( not ( IsUnitDeadBJ(udg_SpellBreaker02) == true ) ) then
        return false
    endif
    if ( not ( IsUnitDeadBJ(udg_Priest01) == true ) ) then
        return false
    endif
    if ( not ( IsUnitDeadBJ(udg_Priest02) == true ) ) then
        return false
    endif
    if ( not ( IsUnitDeadBJ(udg_Kael) == true ) ) then
        return false
    endif
    if ( not ( CountUnitsInGroup(GetUnitsOfTypeIdAll('hpea')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Defeat_Units_all_Dead_Actions takes nothing returns nothing
    set udg_GameOver = true
    call TriggerSleepAction( 2 )
    call ConditionalTriggerExecute( gg_trg_Mission_Failed_all_Units_Dead )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call CustomDefeatBJ( udg_AP1_Player, "TRIGSTR_189" )
endfunction

//===========================================================================
function InitTrig_Defeat_Units_all_Dead takes nothing returns nothing
    set gg_trg_Defeat_Units_all_Dead = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Defeat_Units_all_Dead, Player(0), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Defeat_Units_all_Dead, Condition( function Trig_Defeat_Units_all_Dead_Conditions ) )
    call TriggerAddAction( gg_trg_Defeat_Units_all_Dead, function Trig_Defeat_Units_all_Dead_Actions )
endfunction

//===========================================================================
// Trigger: Defeat Units Dead
//===========================================================================
function Trig_Defeat_Units_Dead_Conditions takes nothing returns boolean
    if ( not ( GetPlayerStructureCount(Player(0), true) == 0 ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Defeat_Units_Dead_Actions takes nothing returns nothing
    set udg_GameOver = true
    call TriggerSleepAction( 2 )
    call ConditionalTriggerExecute( gg_trg_Mission_Failed_Base_Dead )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call CustomDefeatBJ( udg_AP1_Player, "TRIGSTR_020" )
endfunction

//===========================================================================
function InitTrig_Defeat_Units_Dead takes nothing returns nothing
    set gg_trg_Defeat_Units_Dead = CreateTrigger(  )
    call DisableTrigger( gg_trg_Defeat_Units_Dead )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Defeat_Units_Dead, 1.00 )
    call TriggerAddCondition( gg_trg_Defeat_Units_Dead, Condition( function Trig_Defeat_Units_Dead_Conditions ) )
    call TriggerAddAction( gg_trg_Defeat_Units_Dead, function Trig_Defeat_Units_Dead_Actions )
endfunction

//===========================================================================
// Trigger: Defeat Tower Dies
//===========================================================================
function Trig_Defeat_Tower_Dies_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Defeat_Tower_Dies_Actions takes nothing returns nothing
    set udg_GameOver = true
    call TriggerSleepAction( 2 )
    call ConditionalTriggerExecute( gg_trg_Mission_Failed_TowerDead )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call CustomDefeatBJ( udg_AP1_Player, "TRIGSTR_125" )
endfunction

//===========================================================================
function InitTrig_Defeat_Tower_Dies takes nothing returns nothing
    set gg_trg_Defeat_Tower_Dies = CreateTrigger(  )
    call TriggerRegisterUnitEvent( gg_trg_Defeat_Tower_Dies, gg_unit_haro_0009, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( gg_trg_Defeat_Tower_Dies, gg_unit_haro_0008, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( gg_trg_Defeat_Tower_Dies, gg_unit_haro_0048, EVENT_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Defeat_Tower_Dies, Condition( function Trig_Defeat_Tower_Dies_Conditions ) )
    call TriggerAddAction( gg_trg_Defeat_Tower_Dies, function Trig_Defeat_Tower_Dies_Actions )
endfunction

//===========================================================================
// Trigger: Player Find Shore
//===========================================================================
function Trig_Player_Find_Shore_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    return true
endfunction

function Trig_Player_Find_Shore_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Naga_Cinematic_Q, true )
endfunction

//===========================================================================
function InitTrig_Player_Find_Shore takes nothing returns nothing
    set gg_trg_Player_Find_Shore = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Player_Find_Shore, gg_rct_Naga_Cinematic )
    call TriggerAddCondition( gg_trg_Player_Find_Shore, Condition( function Trig_Player_Find_Shore_Conditions ) )
    call TriggerAddAction( gg_trg_Player_Find_Shore, function Trig_Player_Find_Shore_Actions )
endfunction

//===========================================================================
// Trigger: Observatory Q
//===========================================================================
function Trig_Observatory_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Observatory_Q_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Quest_Observatory_Discover )
    call SmartCameraPanBJ( Player(0), GetUnitLoc(udg_Observatory01), 0.5 )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Observatory_Q takes nothing returns nothing
    set gg_trg_Observatory_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Observatory_Q, Condition( function Trig_Observatory_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Observatory_Q, function Trig_Observatory_Q_Actions )
endfunction

//===========================================================================
// Trigger: Naga Support
//===========================================================================
function Trig_Naga_Support_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call ConditionalTriggerExecute( gg_trg_Naga_Cinematic_Q )
endfunction

//===========================================================================
function InitTrig_Naga_Support takes nothing returns nothing
    set gg_trg_Naga_Support = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Naga_Support, function Trig_Naga_Support_Actions )
endfunction

//===========================================================================
// Trigger: Enlarge Vision
//===========================================================================
function Trig_Enlarge_Vision_Func002001 takes nothing returns boolean
    return ( IsUnitAliveBJ(udg_Observatory01) == true )
endfunction

function Trig_Enlarge_Vision_Func005001 takes nothing returns boolean
    return ( IsUnitAliveBJ(udg_Observatory02) == true )
endfunction

function Trig_Enlarge_Vision_Func008001 takes nothing returns boolean
    return ( IsUnitAliveBJ(udg_Observatory03) == true )
endfunction

function Trig_Enlarge_Vision_Actions takes nothing returns nothing
    call DestroyFogModifier( udg_VisMod01 )
    if ( Trig_Enlarge_Vision_Func002001() ) then
        call CreateFogModifierRadiusLocBJ( true, Player(0), FOG_OF_WAR_VISIBLE, GetUnitLoc(udg_Observatory01), ( 100.00 + ( GetUnitStateSwap(UNIT_STATE_LIFE, udg_Observatory01) * 2.50 ) ) )
    else
        call DoNothing(  )
    endif
    set udg_VisMod01 = GetLastCreatedFogModifier()
    call DestroyFogModifier( udg_VisMod02 )
    if ( Trig_Enlarge_Vision_Func005001() ) then
        call CreateFogModifierRadiusLocBJ( true, Player(0), FOG_OF_WAR_VISIBLE, GetUnitLoc(udg_Observatory02), ( 100.00 + ( GetUnitStateSwap(UNIT_STATE_LIFE, udg_Observatory02) * 2.50 ) ) )
    else
        call DoNothing(  )
    endif
    set udg_VisMod02 = GetLastCreatedFogModifier()
    call DestroyFogModifier( udg_VisMod03 )
    if ( Trig_Enlarge_Vision_Func008001() ) then
        call CreateFogModifierRadiusLocBJ( true, Player(0), FOG_OF_WAR_VISIBLE, GetUnitLoc(udg_Observatory03), ( 100.00 + ( GetUnitStateSwap(UNIT_STATE_LIFE, udg_Observatory03) * 2.50 ) ) )
    else
        call DoNothing(  )
    endif
    set udg_VisMod03 = GetLastCreatedFogModifier()
endfunction

//===========================================================================
function InitTrig_Enlarge_Vision takes nothing returns nothing
    set gg_trg_Enlarge_Vision = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Enlarge_Vision, function Trig_Enlarge_Vision_Actions )
endfunction

//===========================================================================
// Trigger: Observatory01 Repaired
//===========================================================================
function Trig_Observatory01_Repaired_Func005C takes nothing returns boolean
    if ( not ( udg_ObservatoriesRepaired == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Observatory01_Repaired_Actions takes nothing returns nothing
    call SetUnitLifeBJ( GetTriggerUnit(), 2500.00 )
    call SetUnitInvulnerable( GetTriggerUnit(), true )
    set udg_Observatory01Repaired = true
    set udg_ObservatoriesRepaired = ( udg_ObservatoriesRepaired + 1 )
    if ( Trig_Observatory01_Repaired_Func005C() ) then
        set udg_WhichPoint = GetUnitLoc(GetTriggerUnit())
        set udg_WhichCamera = gg_cam_Tower_Mini_Cinematic_01
        set udg_WhichRegion = gg_rct_Tower_01_Reveal
    else
        call CreateFogModifierRadiusLocBJ( true, udg_AP1_Player, FOG_OF_WAR_VISIBLE, GetUnitLoc(udg_Observatory01), 6600.00 )
        set udg_PingPoint = GetUnitLoc(GetTriggerUnit())
    endif
    call ConditionalTriggerExecute( gg_trg_Observatory_Repaired_Check )
endfunction

//===========================================================================
function InitTrig_Observatory01_Repaired takes nothing returns nothing
    set gg_trg_Observatory01_Repaired = CreateTrigger(  )
    call TriggerRegisterUnitLifeEvent( gg_trg_Observatory01_Repaired, gg_unit_haro_0009, GREATER_THAN_OR_EQUAL, 2499.00 )
    call TriggerAddAction( gg_trg_Observatory01_Repaired, function Trig_Observatory01_Repaired_Actions )
endfunction

//===========================================================================
// Trigger: Observatory02 Repaired
//===========================================================================
function Trig_Observatory02_Repaired_Func005C takes nothing returns boolean
    if ( not ( udg_ObservatoriesRepaired == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Observatory02_Repaired_Actions takes nothing returns nothing
    call SetUnitLifeBJ( GetTriggerUnit(), 2500.00 )
    call SetUnitInvulnerable( GetTriggerUnit(), true )
    set udg_Observatory02Repaired = true
    set udg_ObservatoriesRepaired = ( udg_ObservatoriesRepaired + 1 )
    if ( Trig_Observatory02_Repaired_Func005C() ) then
        set udg_WhichPoint = GetUnitLoc(GetTriggerUnit())
        set udg_WhichCamera = gg_cam_Tower_Mini_Cinematic_02
        set udg_WhichRegion = gg_rct_Tower_02_Reveal
    else
        call CreateFogModifierRadiusLocBJ( true, udg_AP1_Player, FOG_OF_WAR_VISIBLE, GetUnitLoc(udg_Observatory02), 6600.00 )
        set udg_PingPoint = GetUnitLoc(GetTriggerUnit())
    endif
    call ConditionalTriggerExecute( gg_trg_Observatory_Repaired_Check )
endfunction

//===========================================================================
function InitTrig_Observatory02_Repaired takes nothing returns nothing
    set gg_trg_Observatory02_Repaired = CreateTrigger(  )
    call TriggerRegisterUnitLifeEvent( gg_trg_Observatory02_Repaired, gg_unit_haro_0008, GREATER_THAN_OR_EQUAL, 2499.00 )
    call TriggerAddAction( gg_trg_Observatory02_Repaired, function Trig_Observatory02_Repaired_Actions )
endfunction

//===========================================================================
// Trigger: Observatory03 Repaired
//===========================================================================
function Trig_Observatory03_Repaired_Func005C takes nothing returns boolean
    if ( not ( udg_ObservatoriesRepaired == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Observatory03_Repaired_Actions takes nothing returns nothing
    call SetUnitLifeBJ( GetTriggerUnit(), 2500.00 )
    call SetUnitInvulnerable( GetTriggerUnit(), true )
    set udg_Observatory03Repaired = true
    set udg_ObservatoriesRepaired = ( udg_ObservatoriesRepaired + 1 )
    if ( Trig_Observatory03_Repaired_Func005C() ) then
        set udg_WhichPoint = GetUnitLoc(GetTriggerUnit())
        set udg_WhichCamera = gg_cam_Tower_Mini_Cinematic_03
        set udg_WhichRegion = gg_rct_Tower_03_Reveal
    else
        call CreateFogModifierRadiusLocBJ( true, udg_AP1_Player, FOG_OF_WAR_VISIBLE, GetUnitLoc(udg_Observatory03), 6600.00 )
        set udg_PingPoint = GetUnitLoc(GetTriggerUnit())
    endif
    call ConditionalTriggerExecute( gg_trg_Observatory_Repaired_Check )
endfunction

//===========================================================================
function InitTrig_Observatory03_Repaired takes nothing returns nothing
    set gg_trg_Observatory03_Repaired = CreateTrigger(  )
    call TriggerRegisterUnitLifeEvent( gg_trg_Observatory03_Repaired, gg_unit_haro_0048, GREATER_THAN_OR_EQUAL, 2499.00 )
    call TriggerAddAction( gg_trg_Observatory03_Repaired, function Trig_Observatory03_Repaired_Actions )
endfunction

//===========================================================================
// Trigger: Observatory Repaired Check
//===========================================================================
function Trig_Observatory_Repaired_Check_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Observatory_Repaired_Check_Func002C takes nothing returns boolean
    if ( not ( udg_ObservatoriesRepaired == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Observatory_Repaired_Check_Func003C takes nothing returns boolean
    if ( not ( udg_ObservatoriesRepaired == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Observatory_Repaired_Check_Func004C takes nothing returns boolean
    if ( not ( udg_ObservatoriesRepaired == 3 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Observatory_Repaired_Check_Actions takes nothing returns nothing
    if ( Trig_Observatory_Repaired_Check_Func002C() ) then
        call QueuedTriggerAddBJ( gg_trg_Tower_MiniCinematic_Q, true )
        call QueuedTriggerAddBJ( gg_trg_Quest_Observatory_Update_01_Q, true )
    else
    endif
    if ( Trig_Observatory_Repaired_Check_Func003C() ) then
        call QueuedTriggerAddBJ( gg_trg_Observatory_Repaired_Lines_Q, true )
    else
    endif
    if ( Trig_Observatory_Repaired_Check_Func004C() ) then
        call QueuedTriggerAddBJ( gg_trg_Victory_Cinematic_Q, true )
    else
    endif
endfunction

//===========================================================================
function InitTrig_Observatory_Repaired_Check takes nothing returns nothing
    set gg_trg_Observatory_Repaired_Check = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Observatory_Repaired_Check, Condition( function Trig_Observatory_Repaired_Check_Conditions ) )
    call TriggerAddAction( gg_trg_Observatory_Repaired_Check, function Trig_Observatory_Repaired_Check_Actions )
endfunction

//===========================================================================
// Trigger: Observatory Repaired Lines Q
//===========================================================================
function Trig_Observatory_Repaired_Lines_Q_Func002C takes nothing returns boolean
    if ( not ( IsUnitAliveBJ(udg_Kael) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Observatory_Repaired_Lines_Q_Actions takes nothing returns nothing
    call PingMinimapLocForForceEx( GetPlayersAll(), udg_PingPoint, 10.00, bj_MINIMAPPINGSTYLE_SIMPLE, 100, 100, 100 )
    if ( Trig_Observatory_Repaired_Lines_Q_Func002C() ) then
        call SetSpeechVolumeGroupsBJ(  )
        call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Kael, "TRIGSTR_234", gg_snd_A01Kael27, "TRIGSTR_235", bj_TIMETYPE_ADD, 0, false )
        call WaitForSoundBJ( gg_snd_A01Kael27, 0 )
        call VolumeGroupResetBJ(  )
    else
        call DoNothing(  )
    endif
    call ConditionalTriggerExecute( gg_trg_Quest_Observatory_Update_02 )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Observatory_Repaired_Lines_Q takes nothing returns nothing
    set gg_trg_Observatory_Repaired_Lines_Q = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Observatory_Repaired_Lines_Q, function Trig_Observatory_Repaired_Lines_Q_Actions )
endfunction

//===========================================================================
// Trigger: Quest Observatory Update 01 Q
//===========================================================================
function Trig_Quest_Observatory_Update_01_Q_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Quest_Observatory_Update_01 )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Quest_Observatory_Update_01_Q takes nothing returns nothing
    set gg_trg_Quest_Observatory_Update_01_Q = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Quest_Observatory_Update_01_Q, function Trig_Quest_Observatory_Update_01_Q_Actions )
endfunction

//===========================================================================
// Trigger: Hidden Caches
//===========================================================================
function Trig_Hidden_Caches_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Hidden_Caches_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Hidden_Caches_Q, true )
endfunction

//===========================================================================
function InitTrig_Hidden_Caches takes nothing returns nothing
    set gg_trg_Hidden_Caches = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Hidden_Caches, gg_rct_Side_Quest_Intro )
    call TriggerAddCondition( gg_trg_Hidden_Caches, Condition( function Trig_Hidden_Caches_Conditions ) )
    call TriggerAddAction( gg_trg_Hidden_Caches, function Trig_Hidden_Caches_Actions )
endfunction

//===========================================================================
// Trigger: Hidden Caches Q
//===========================================================================
function Trig_Hidden_Caches_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Hidden_Caches_Q_Func001C takes nothing returns boolean
    if ( not ( IsUnitAliveBJ(udg_Kael) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Hidden_Caches_Q_Actions takes nothing returns nothing
    if ( Trig_Hidden_Caches_Q_Func001C() ) then
        call SetSpeechVolumeGroupsBJ(  )
        call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Kael, "TRIGSTR_088", gg_snd_A01Kael12, "TRIGSTR_089", bj_TIMETYPE_ADD, 0, false )
        call WaitForSoundBJ( gg_snd_A01Kael12, 0 )
        call VolumeGroupResetBJ(  )
    else
    endif
    call ConditionalTriggerExecute( gg_trg_Quest_Hidden_Caches_Discover )
    call CreateFogModifierRectBJ( true, udg_AP1_Player, FOG_OF_WAR_VISIBLE, OffsetRectBJ(gg_rct_Box_One_Vision_01, 0, 0) )
    set udg_BoxSight01 = GetLastCreatedFogModifier()
    call CreateFogModifierRectBJ( true, udg_AP1_Player, FOG_OF_WAR_VISIBLE, OffsetRectBJ(gg_rct_Box_One_Vision_02, 0, 0) )
    set udg_BoxSight02 = GetLastCreatedFogModifier()
    call CreateFogModifierRectBJ( true, udg_AP1_Player, FOG_OF_WAR_VISIBLE, OffsetRectBJ(gg_rct_Box_One_Vision_03, 0, 0) )
    set udg_BoxSight03 = GetLastCreatedFogModifier()
    call CreateFogModifierRectBJ( true, udg_AP1_Player, FOG_OF_WAR_VISIBLE, OffsetRectBJ(gg_rct_Box_One_Vision_04, 0, 0) )
    set udg_BoxSight04 = GetLastCreatedFogModifier()
    call PingMinimapLocForForce( GetPlayersAll(), GetRectCenter(gg_rct_Cache_01), 5.00 )
    call SetCameraQuickPositionLocForPlayer( udg_AP1_Player, GetRectCenter(gg_rct_Cache_01) )
    call PingMinimapLocForForce( GetPlayersAll(), GetRectCenter(gg_rct_Cache_02), 5.00 )
    call SetCameraQuickPositionLocForPlayer( udg_AP1_Player, GetRectCenter(gg_rct_Cache_02) )
    call PingMinimapLocForForce( GetPlayersAll(), GetRectCenter(gg_rct_Cache_03), 5.00 )
    call SetCameraQuickPositionLocForPlayer( udg_AP1_Player, GetRectCenter(gg_rct_Cache_03) )
    call PingMinimapLocForForce( GetPlayersAll(), GetRectCenter(gg_rct_Cache_04), 5.00 )
    call SetCameraQuickPositionLocForPlayer( udg_AP1_Player, GetRectCenter(gg_rct_Cache_04) )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Hidden_Caches_Q takes nothing returns nothing
    set gg_trg_Hidden_Caches_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Hidden_Caches_Q, Condition( function Trig_Hidden_Caches_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Hidden_Caches_Q, function Trig_Hidden_Caches_Q_Actions )
endfunction

//===========================================================================
// Trigger: Box Lines
//===========================================================================
function Trig_Box_Lines_Func002C takes nothing returns boolean
    if ( not ( udg_BoxesKilled == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Box_Lines_Func003C takes nothing returns boolean
    if ( not ( udg_BoxesKilled == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Box_Lines_Func004C takes nothing returns boolean
    if ( not ( udg_BoxesKilled == 3 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Box_Lines_Func005C takes nothing returns boolean
    if ( not ( udg_BoxesKilled == 4 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Box_Lines_Actions takes nothing returns nothing
    set udg_BoxesKilled = ( udg_BoxesKilled + 1 )
    if ( Trig_Box_Lines_Func002C() ) then
        call QueuedTriggerAddBJ( gg_trg_Box_Line_01_Q, true )
    else
    endif
    if ( Trig_Box_Lines_Func003C() ) then
        call QueuedTriggerAddBJ( gg_trg_Box_Line_02_Q, true )
    else
    endif
    if ( Trig_Box_Lines_Func004C() ) then
        call QueuedTriggerAddBJ( gg_trg_Box_Line_03_Q, true )
    else
    endif
    if ( Trig_Box_Lines_Func005C() ) then
        call QueuedTriggerAddBJ( gg_trg_Box_Line_04_Q, true )
    else
    endif
endfunction

//===========================================================================
function InitTrig_Box_Lines takes nothing returns nothing
    set gg_trg_Box_Lines = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Box_Lines, function Trig_Box_Lines_Actions )
endfunction

//===========================================================================
// Trigger: Box Line 01 Q
//===========================================================================
function Trig_Box_Line_01_Q_Func001C takes nothing returns boolean
    if ( not ( IsUnitAliveBJ(udg_Kael) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Box_Line_01_Q_Actions takes nothing returns nothing
    if ( Trig_Box_Line_01_Q_Func001C() ) then
        call SetSpeechVolumeGroupsBJ(  )
        call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Kael, "TRIGSTR_253", gg_snd_A01Kael13, "TRIGSTR_254", bj_TIMETYPE_ADD, 0, false )
        call WaitForSoundBJ( gg_snd_A01Kael13, 0 )
        call VolumeGroupResetBJ(  )
    else
    endif
    call ConditionalTriggerExecute( gg_trg_Quest_Hidden_Caches_Update_01 )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Box_Line_01_Q takes nothing returns nothing
    set gg_trg_Box_Line_01_Q = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Box_Line_01_Q, function Trig_Box_Line_01_Q_Actions )
endfunction

//===========================================================================
// Trigger: Box Line 02 Q
//===========================================================================
function Trig_Box_Line_02_Q_Func001C takes nothing returns boolean
    if ( not ( IsUnitAliveBJ(udg_Kael) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Box_Line_02_Q_Actions takes nothing returns nothing
    if ( Trig_Box_Line_02_Q_Func001C() ) then
        call SetSpeechVolumeGroupsBJ(  )
        call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Kael, "TRIGSTR_255", gg_snd_A01Kael15, "TRIGSTR_256", bj_TIMETYPE_ADD, 0, false )
        call WaitForSoundBJ( gg_snd_A01Kael15, 0 )
        call VolumeGroupResetBJ(  )
    else
    endif
    call ConditionalTriggerExecute( gg_trg_Quest_Hidden_Caches_Update_02 )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Box_Line_02_Q takes nothing returns nothing
    set gg_trg_Box_Line_02_Q = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Box_Line_02_Q, function Trig_Box_Line_02_Q_Actions )
endfunction

//===========================================================================
// Trigger: Box Line 03 Q
//===========================================================================
function Trig_Box_Line_03_Q_Func001C takes nothing returns boolean
    if ( not ( IsUnitAliveBJ(udg_Kael) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Box_Line_03_Q_Actions takes nothing returns nothing
    if ( Trig_Box_Line_03_Q_Func001C() ) then
        call SetSpeechVolumeGroupsBJ(  )
        call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Kael, "TRIGSTR_257", gg_snd_A01Kael14, "TRIGSTR_258", bj_TIMETYPE_ADD, 0, false )
        call WaitForSoundBJ( gg_snd_A01Kael14, 0 )
        call VolumeGroupResetBJ(  )
    else
    endif
    call ConditionalTriggerExecute( gg_trg_Quest_Hidden_Caches_Update_03 )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Box_Line_03_Q takes nothing returns nothing
    set gg_trg_Box_Line_03_Q = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Box_Line_03_Q, function Trig_Box_Line_03_Q_Actions )
endfunction

//===========================================================================
// Trigger: Box Line 04 Q
//===========================================================================
function Trig_Box_Line_04_Q_Func001C takes nothing returns boolean
    if ( not ( IsUnitAliveBJ(udg_Kael) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Box_Line_04_Q_Actions takes nothing returns nothing
    if ( Trig_Box_Line_04_Q_Func001C() ) then
        call SetSpeechVolumeGroupsBJ(  )
        call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Kael, "TRIGSTR_259", gg_snd_A01Kael15, "TRIGSTR_260", bj_TIMETYPE_ADD, 0, false )
        call WaitForSoundBJ( gg_snd_A01Kael15, 0 )
        call VolumeGroupResetBJ(  )
    else
    endif
    call ConditionalTriggerExecute( gg_trg_Quest_Hidden_Caches_Completed )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Box_Line_04_Q takes nothing returns nothing
    set gg_trg_Box_Line_04_Q = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Box_Line_04_Q, function Trig_Box_Line_04_Q_Actions )
endfunction

//===========================================================================
// Trigger: StepOn Cache 01
//===========================================================================
function Trig_StepOn_Cache_01_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    return true
endfunction

function Trig_StepOn_Cache_01_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_StepOn_Cache_01 )
    call DisableTrigger( gg_trg_Break_Box_Cache_01 )
    call ConditionalTriggerExecute( gg_trg_Cache_01 )
endfunction

//===========================================================================
function InitTrig_StepOn_Cache_01 takes nothing returns nothing
    set gg_trg_StepOn_Cache_01 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_StepOn_Cache_01, gg_rct_Cache_01 )
    call TriggerAddCondition( gg_trg_StepOn_Cache_01, Condition( function Trig_StepOn_Cache_01_Conditions ) )
    call TriggerAddAction( gg_trg_StepOn_Cache_01, function Trig_StepOn_Cache_01_Actions )
endfunction

//===========================================================================
// Trigger: Break Box Cache 01
//===========================================================================
function Trig_Break_Box_Cache_01_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_StepOn_Cache_01 )
    call DisableTrigger( gg_trg_Break_Box_Cache_01 )
    call ConditionalTriggerExecute( gg_trg_Cache_01 )
endfunction

//===========================================================================
function InitTrig_Break_Box_Cache_01 takes nothing returns nothing
    set gg_trg_Break_Box_Cache_01 = CreateTrigger(  )
    call TriggerRegisterDestDeathInRegionEvent( gg_trg_Break_Box_Cache_01, gg_rct_Box01a )
    call TriggerAddAction( gg_trg_Break_Box_Cache_01, function Trig_Break_Box_Cache_01_Actions )
endfunction

//===========================================================================
// Trigger: Cache 01
//===========================================================================
function Trig_Cache_01_Actions takes nothing returns nothing
    call KillDestructable( gg_dest_LTcr_4111 )
    call KillDestructable( gg_dest_LTcr_4102 )
    call KillDestructable( gg_dest_LTcr_4103 )
    call KillDestructable( gg_dest_LTbs_4104 )
    call KillDestructable( gg_dest_LTbs_4105 )
    call KillUnit( gg_unit_ncop_0036 )
    call DestroyFogModifier( udg_BoxSight01 )
    call ConditionalTriggerExecute( gg_trg_Box_Lines )
endfunction

//===========================================================================
function InitTrig_Cache_01 takes nothing returns nothing
    set gg_trg_Cache_01 = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Cache_01, function Trig_Cache_01_Actions )
endfunction

//===========================================================================
// Trigger: StepOn Cache 02
//===========================================================================
function Trig_StepOn_Cache_02_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    return true
endfunction

function Trig_StepOn_Cache_02_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_StepOn_Cache_02 )
    call DisableTrigger( gg_trg_Break_Box_Cache_02 )
    call ConditionalTriggerExecute( gg_trg_Cache_02 )
endfunction

//===========================================================================
function InitTrig_StepOn_Cache_02 takes nothing returns nothing
    set gg_trg_StepOn_Cache_02 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_StepOn_Cache_02, gg_rct_Cache_02 )
    call TriggerAddCondition( gg_trg_StepOn_Cache_02, Condition( function Trig_StepOn_Cache_02_Conditions ) )
    call TriggerAddAction( gg_trg_StepOn_Cache_02, function Trig_StepOn_Cache_02_Actions )
endfunction

//===========================================================================
// Trigger: Break Box Cache 02
//===========================================================================
function Trig_Break_Box_Cache_02_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_StepOn_Cache_02 )
    call DisableTrigger( gg_trg_Break_Box_Cache_02 )
    call ConditionalTriggerExecute( gg_trg_Cache_02 )
endfunction

//===========================================================================
function InitTrig_Break_Box_Cache_02 takes nothing returns nothing
    set gg_trg_Break_Box_Cache_02 = CreateTrigger(  )
    call TriggerRegisterDestDeathInRegionEvent( gg_trg_Break_Box_Cache_02, gg_rct_Box02a )
    call TriggerRegisterDestDeathInRegionEvent( gg_trg_Break_Box_Cache_02, gg_rct_Box02b )
    call TriggerAddAction( gg_trg_Break_Box_Cache_02, function Trig_Break_Box_Cache_02_Actions )
endfunction

//===========================================================================
// Trigger: Cache 02
//===========================================================================
function Trig_Cache_02_Actions takes nothing returns nothing
    call KillDestructable( gg_dest_LTbx_4106 )
    call KillDestructable( gg_dest_LTcr_4107 )
    call KillDestructable( gg_dest_LTcr_4110 )
    call KillDestructable( gg_dest_LTcr_4108 )
    call KillDestructable( gg_dest_LTcr_4109 )
    call KillUnit( gg_unit_ncop_0114 )
    call DestroyFogModifier( udg_BoxSight02 )
    call ConditionalTriggerExecute( gg_trg_Box_Lines )
endfunction

//===========================================================================
function InitTrig_Cache_02 takes nothing returns nothing
    set gg_trg_Cache_02 = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Cache_02, function Trig_Cache_02_Actions )
endfunction

//===========================================================================
// Trigger: StepOn Cache 03
//===========================================================================
function Trig_StepOn_Cache_03_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    return true
endfunction

function Trig_StepOn_Cache_03_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_StepOn_Cache_03 )
    call DisableTrigger( gg_trg_Break_Box_Cache_03 )
    call ConditionalTriggerExecute( gg_trg_Cache_03 )
endfunction

//===========================================================================
function InitTrig_StepOn_Cache_03 takes nothing returns nothing
    set gg_trg_StepOn_Cache_03 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_StepOn_Cache_03, gg_rct_Cache_03 )
    call TriggerAddCondition( gg_trg_StepOn_Cache_03, Condition( function Trig_StepOn_Cache_03_Conditions ) )
    call TriggerAddAction( gg_trg_StepOn_Cache_03, function Trig_StepOn_Cache_03_Actions )
endfunction

//===========================================================================
// Trigger: Break Box Cache 03
//===========================================================================
function Trig_Break_Box_Cache_03_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_StepOn_Cache_03 )
    call DisableTrigger( gg_trg_Break_Box_Cache_03 )
    call ConditionalTriggerExecute( gg_trg_Cache_03 )
endfunction

//===========================================================================
function InitTrig_Break_Box_Cache_03 takes nothing returns nothing
    set gg_trg_Break_Box_Cache_03 = CreateTrigger(  )
    call TriggerRegisterDestDeathInRegionEvent( gg_trg_Break_Box_Cache_03, gg_rct_Box03a )
    call TriggerAddAction( gg_trg_Break_Box_Cache_03, function Trig_Break_Box_Cache_03_Actions )
endfunction

//===========================================================================
// Trigger: Cache 03
//===========================================================================
function Trig_Cache_03_Actions takes nothing returns nothing
    call KillDestructable( gg_dest_LTcr_4114 )
    call KillDestructable( gg_dest_LTcr_4115 )
    call KillDestructable( gg_dest_LTcr_4116 )
    call KillDestructable( gg_dest_LTcr_4113 )
    call KillDestructable( gg_dest_LTcr_4112 )
    call KillUnit( gg_unit_ncop_0183 )
    call DestroyFogModifier( udg_BoxSight03 )
    call ConditionalTriggerExecute( gg_trg_Box_Lines )
endfunction

//===========================================================================
function InitTrig_Cache_03 takes nothing returns nothing
    set gg_trg_Cache_03 = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Cache_03, function Trig_Cache_03_Actions )
endfunction

//===========================================================================
// Trigger: StepOn Cache 04
//===========================================================================
function Trig_StepOn_Cache_04_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    return true
endfunction

function Trig_StepOn_Cache_04_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_StepOn_Cache_04 )
    call DisableTrigger( gg_trg_Break_Box_Cache_04 )
    call ConditionalTriggerExecute( gg_trg_Cache_04 )
endfunction

//===========================================================================
function InitTrig_StepOn_Cache_04 takes nothing returns nothing
    set gg_trg_StepOn_Cache_04 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_StepOn_Cache_04, gg_rct_Cache_04 )
    call TriggerAddCondition( gg_trg_StepOn_Cache_04, Condition( function Trig_StepOn_Cache_04_Conditions ) )
    call TriggerAddAction( gg_trg_StepOn_Cache_04, function Trig_StepOn_Cache_04_Actions )
endfunction

//===========================================================================
// Trigger: Break Box Cache 04
//===========================================================================
function Trig_Break_Box_Cache_04_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_StepOn_Cache_04 )
    call DisableTrigger( gg_trg_Break_Box_Cache_04 )
    call ConditionalTriggerExecute( gg_trg_Cache_04 )
endfunction

//===========================================================================
function InitTrig_Break_Box_Cache_04 takes nothing returns nothing
    set gg_trg_Break_Box_Cache_04 = CreateTrigger(  )
    call TriggerRegisterDestDeathInRegionEvent( gg_trg_Break_Box_Cache_04, gg_rct_Box04a )
    call TriggerAddAction( gg_trg_Break_Box_Cache_04, function Trig_Break_Box_Cache_04_Actions )
endfunction

//===========================================================================
// Trigger: Cache 04
//===========================================================================
function Trig_Cache_04_Actions takes nothing returns nothing
    call KillDestructable( gg_dest_LTcr_4117 )
    call KillDestructable( gg_dest_LTbr_4119 )
    call KillDestructable( gg_dest_LTbx_4118 )
    call KillDestructable( gg_dest_LTcr_4121 )
    call KillDestructable( gg_dest_LTbs_4120 )
    call KillUnit( gg_unit_ncop_0079 )
    call DestroyFogModifier( udg_BoxSight04 )
    call ConditionalTriggerExecute( gg_trg_Box_Lines )
endfunction

//===========================================================================
function InitTrig_Cache_04 takes nothing returns nothing
    set gg_trg_Cache_04 = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Cache_04, function Trig_Cache_04_Actions )
endfunction

//===========================================================================
// Trigger: Roaming Craps 01
//===========================================================================
function Trig_Roaming_Craps_01_Func002A takes nothing returns nothing
    set udg_TempPoint = GetRandomLocInRect(gg_rct_Roaming_Crabs_01)
    call IssuePointOrderLocBJ( GetEnumUnit(), "attack", udg_TempPoint )
    call RemoveLocation( udg_TempPoint )
endfunction

function Trig_Roaming_Craps_01_Actions takes nothing returns nothing
    call ForGroupBJ( udg_RoamingCrabs01, function Trig_Roaming_Craps_01_Func002A )
endfunction

//===========================================================================
function InitTrig_Roaming_Craps_01 takes nothing returns nothing
    set gg_trg_Roaming_Craps_01 = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Roaming_Craps_01, 9.70 )
    call TriggerAddAction( gg_trg_Roaming_Craps_01, function Trig_Roaming_Craps_01_Actions )
endfunction

//===========================================================================
// Trigger: Roaming Craps 02
//===========================================================================
function Trig_Roaming_Craps_02_Func002A takes nothing returns nothing
    set udg_TempPoint = GetRandomLocInRect(gg_rct_Roaming_Crabs_02)
    call IssuePointOrderLocBJ( GetEnumUnit(), "attack", udg_TempPoint )
    call RemoveLocation( udg_TempPoint )
endfunction

function Trig_Roaming_Craps_02_Actions takes nothing returns nothing
    call ForGroupBJ( udg_RoamingCrabs02, function Trig_Roaming_Craps_02_Func002A )
endfunction

//===========================================================================
function InitTrig_Roaming_Craps_02 takes nothing returns nothing
    set gg_trg_Roaming_Craps_02 = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Roaming_Craps_02, 8.00 )
    call TriggerAddAction( gg_trg_Roaming_Craps_02, function Trig_Roaming_Craps_02_Actions )
endfunction

//===========================================================================
// Trigger: Roaming Demons 01
//===========================================================================
function Trig_Roaming_Demons_01_Func002A takes nothing returns nothing
    set udg_TempPoint = GetRandomLocInRect(gg_rct_Roaming_Demons_01)
    call IssuePointOrderLocBJ( GetEnumUnit(), "attack", udg_TempPoint )
    call RemoveLocation( udg_TempPoint )
endfunction

function Trig_Roaming_Demons_01_Actions takes nothing returns nothing
    call ForGroupBJ( udg_RoamingDemons01, function Trig_Roaming_Demons_01_Func002A )
endfunction

//===========================================================================
function InitTrig_Roaming_Demons_01 takes nothing returns nothing
    set gg_trg_Roaming_Demons_01 = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Roaming_Demons_01, 5.00 )
    call TriggerAddAction( gg_trg_Roaming_Demons_01, function Trig_Roaming_Demons_01_Actions )
endfunction

//===========================================================================
// Trigger: Roaming Demons 02
//===========================================================================
function Trig_Roaming_Demons_02_Func002A takes nothing returns nothing
    set udg_TempPoint = GetRandomLocInRect(gg_rct_Roaming_Demons_02)
    call IssuePointOrderLocBJ( GetEnumUnit(), "attack", udg_TempPoint )
    call RemoveLocation( udg_TempPoint )
endfunction

function Trig_Roaming_Demons_02_Actions takes nothing returns nothing
    call ForGroupBJ( udg_RoamingDemons02, function Trig_Roaming_Demons_02_Func002A )
endfunction

//===========================================================================
function InitTrig_Roaming_Demons_02 takes nothing returns nothing
    set gg_trg_Roaming_Demons_02 = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Roaming_Demons_02, 5.50 )
    call TriggerAddAction( gg_trg_Roaming_Demons_02, function Trig_Roaming_Demons_02_Actions )
endfunction

//===========================================================================
// Trigger: Roaming Demons 03
//===========================================================================
function Trig_Roaming_Demons_03_Func002A takes nothing returns nothing
    set udg_TempPoint = GetRandomLocInRect(gg_rct_Roaming_Demons_03)
    call IssuePointOrderLocBJ( GetEnumUnit(), "attack", udg_TempPoint )
    call RemoveLocation( udg_TempPoint )
endfunction

function Trig_Roaming_Demons_03_Actions takes nothing returns nothing
    call ForGroupBJ( udg_RoamingDemons03, function Trig_Roaming_Demons_03_Func002A )
endfunction

//===========================================================================
function InitTrig_Roaming_Demons_03 takes nothing returns nothing
    set gg_trg_Roaming_Demons_03 = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Roaming_Demons_03, 6.00 )
    call TriggerAddAction( gg_trg_Roaming_Demons_03, function Trig_Roaming_Demons_03_Actions )
endfunction

//===========================================================================
// Trigger: Roaming Zombies 01
//===========================================================================
function Trig_Roaming_Zombies_01_Func002A takes nothing returns nothing
    set udg_TempPoint = GetRandomLocInRect(gg_rct_Roaming_Zombies_01)
    call IssuePointOrderLocBJ( GetEnumUnit(), "attack", udg_TempPoint )
    call RemoveLocation( udg_TempPoint )
endfunction

function Trig_Roaming_Zombies_01_Actions takes nothing returns nothing
    call ForGroupBJ( udg_RoamingZombies01, function Trig_Roaming_Zombies_01_Func002A )
endfunction

//===========================================================================
function InitTrig_Roaming_Zombies_01 takes nothing returns nothing
    set gg_trg_Roaming_Zombies_01 = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Roaming_Zombies_01, 5.30 )
    call TriggerAddAction( gg_trg_Roaming_Zombies_01, function Trig_Roaming_Zombies_01_Actions )
endfunction

//===========================================================================
// Trigger: Saving the Riflemen by Orges
//===========================================================================
function Trig_Saving_the_Riflemen_by_Orges_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    return true
endfunction

function Trig_Saving_the_Riflemen_by_Orges_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call ConditionalTriggerExecute( gg_trg_Trapped_Animal_01 )
    call ConditionalTriggerExecute( gg_trg_Trapped_Animal_02 )
endfunction

//===========================================================================
function InitTrig_Saving_the_Riflemen_by_Orges takes nothing returns nothing
    set gg_trg_Saving_the_Riflemen_by_Orges = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Saving_the_Riflemen_by_Orges, gg_rct_Saving_Riflemen )
    call TriggerAddCondition( gg_trg_Saving_the_Riflemen_by_Orges, Condition( function Trig_Saving_the_Riflemen_by_Orges_Conditions ) )
    call TriggerAddAction( gg_trg_Saving_the_Riflemen_by_Orges, function Trig_Saving_the_Riflemen_by_Orges_Actions )
endfunction

//===========================================================================
// Trigger: Trapped Animal 01
//===========================================================================
function Trig_Trapped_Animal_01_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call KillDestructable( gg_dest_LOcg_1460 )
    call PlaySoundAtPointBJ( gg_snd_RiflemanReady1, 100, GetRectCenter(gg_rct_Saving_Riflemen), 0 )
    call CreateNUnitsAtLoc( 1, 'hrif', Player(0), GetRectCenter(gg_rct_Cage_01), bj_UNIT_FACING )
    call TriggerSleepAction( 0.10 )
    call SetDestructableAnimationBJ( gg_dest_LOcg_1460, "decay" )
    call SetDestAnimationSpeedPercent( gg_dest_LOcg_1460, 1000.00 )
endfunction

//===========================================================================
function InitTrig_Trapped_Animal_01 takes nothing returns nothing
    set gg_trg_Trapped_Animal_01 = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Trapped_Animal_01, function Trig_Trapped_Animal_01_Actions )
endfunction

//===========================================================================
// Trigger: Trapped Animal 02
//===========================================================================
function Trig_Trapped_Animal_02_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call KillDestructable( gg_dest_LOcg_3606 )
    call CreateNUnitsAtLoc( 1, 'hrif', Player(0), GetRectCenter(gg_rct_Cage_02), bj_UNIT_FACING )
    call TriggerSleepAction( 0.10 )
    call SetDestructableAnimationBJ( gg_dest_LOcg_3606, "decay" )
    call SetDestAnimationSpeedPercent( gg_dest_LOcg_3606, 1000.00 )
endfunction

//===========================================================================
function InitTrig_Trapped_Animal_02 takes nothing returns nothing
    set gg_trg_Trapped_Animal_02 = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Trapped_Animal_02, function Trig_Trapped_Animal_02_Actions )
endfunction

//===========================================================================
// Trigger: Cast Water Elemental 01
//===========================================================================
function Trig_Cast_Water_Elemental_01_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cast_Water_Elemental_01_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call IssueImmediateOrderBJ( gg_unit_nwzg_0149, "waterelemental" )
endfunction

//===========================================================================
function InitTrig_Cast_Water_Elemental_01 takes nothing returns nothing
    set gg_trg_Cast_Water_Elemental_01 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Cast_Water_Elemental_01, gg_rct_Cast_Water_Elemental_01 )
    call TriggerAddCondition( gg_trg_Cast_Water_Elemental_01, Condition( function Trig_Cast_Water_Elemental_01_Conditions ) )
    call TriggerAddAction( gg_trg_Cast_Water_Elemental_01, function Trig_Cast_Water_Elemental_01_Actions )
endfunction

//===========================================================================
// Trigger: Runes Remove by Box 02
//===========================================================================
function Trig_Runes_Remove_by_Box_02_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call SetDoodadAnimationRectBJ( "death", 'XOmr', OffsetRectBJ(gg_rct_Tree_Wall_to_Box, 0, 0) )
endfunction

//===========================================================================
function InitTrig_Runes_Remove_by_Box_02 takes nothing returns nothing
    set gg_trg_Runes_Remove_by_Box_02 = CreateTrigger(  )
    call TriggerRegisterDestDeathInRegionEvent( gg_trg_Runes_Remove_by_Box_02, gg_rct_Tree_Wall_to_Box )
    call TriggerAddAction( gg_trg_Runes_Remove_by_Box_02, function Trig_Runes_Remove_by_Box_02_Actions )
endfunction

//===========================================================================
// Trigger: Runes Remove by Box 04
//===========================================================================
function Trig_Runes_Remove_by_Box_04_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call SetDoodadAnimationRectBJ( "death", 'XOmr', OffsetRectBJ(gg_rct_Tree_Wall_to_Box_02, 0, 0) )
endfunction

//===========================================================================
function InitTrig_Runes_Remove_by_Box_04 takes nothing returns nothing
    set gg_trg_Runes_Remove_by_Box_04 = CreateTrigger(  )
    call TriggerRegisterDestDeathInRegionEvent( gg_trg_Runes_Remove_by_Box_04, gg_rct_Tree_Wall_to_Box_02 )
    call TriggerAddAction( gg_trg_Runes_Remove_by_Box_04, function Trig_Runes_Remove_by_Box_04_Actions )
endfunction

//===========================================================================
// Trigger: Island Four     Critter
//===========================================================================
function Trig_Island_Four_____Critter_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CreateNUnitsAtLoc( 1, 'nalb', Player(PLAYER_NEUTRAL_PASSIVE), GetDestructableLoc(GetDyingDestructable()), bj_UNIT_FACING )
    set udg_Critter = GetLastCreatedUnit()
    call EnableTrigger( gg_trg_Critter_Dies )
endfunction

//===========================================================================
function InitTrig_Island_Four_____Critter takes nothing returns nothing
    set gg_trg_Island_Four_____Critter = CreateTrigger(  )
    call TriggerRegisterDeathEvent( gg_trg_Island_Four_____Critter, gg_dest_LTlt_0134 )
    call TriggerAddAction( gg_trg_Island_Four_____Critter, function Trig_Island_Four_____Critter_Actions )
endfunction

//===========================================================================
// Trigger: Critter Dies
//===========================================================================
function Trig_Critter_Dies_Conditions takes nothing returns boolean
    if ( not ( GetDyingUnit() == udg_Critter ) ) then
        return false
    endif
    if ( not ( IsUnitDeadBJ(udg_Critter) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Critter_Dies_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CreateItemLoc( 'ciri', GetUnitLoc(GetDyingUnit()) )
endfunction

//===========================================================================
function InitTrig_Critter_Dies takes nothing returns nothing
    set gg_trg_Critter_Dies = CreateTrigger(  )
    call DisableTrigger( gg_trg_Critter_Dies )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Critter_Dies, Player(PLAYER_NEUTRAL_PASSIVE), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Critter_Dies, Condition( function Trig_Critter_Dies_Conditions ) )
    call TriggerAddAction( gg_trg_Critter_Dies, function Trig_Critter_Dies_Actions )
endfunction

//===========================================================================
// Trigger: Init Tower Animations
//===========================================================================
function Trig_Init_Tower_Animations_Actions takes nothing returns nothing
    set udg_AnimInterval = 1.00
    set udg_AnimTimeTotal = 60.00
    // Set and suspend the animations
    call SetUnitAnimation( udg_Observatory01, "birth" )
    call SetUnitAnimation( udg_Observatory02, "birth" )
    call SetUnitAnimation( udg_Observatory03, "birth" )
    call SetUnitTimeScalePercent( udg_Observatory01, 0.00 )
    call SetUnitTimeScalePercent( udg_Observatory02, 0.00 )
    call SetUnitTimeScalePercent( udg_Observatory03, 0.00 )
    // Start Updating Tower Animations
    call StartTimerBJ( udg_AnimTimer, true, udg_AnimInterval )
endfunction

//===========================================================================
function InitTrig_Init_Tower_Animations takes nothing returns nothing
    set gg_trg_Init_Tower_Animations = CreateTrigger(  )
    call TriggerRegisterPlayerChatEvent( gg_trg_Init_Tower_Animations, Player(0), "A", true )
    call TriggerAddAction( gg_trg_Init_Tower_Animations, function Trig_Init_Tower_Animations_Actions )
endfunction

//===========================================================================
// Trigger: Update Tower1 Animation
//===========================================================================
function Trig_Update_Tower1_Animation_Conditions takes nothing returns boolean
    if ( not ( IsUnitAliveBJ(udg_Observatory01) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Update_Tower1_Animation_Func008C takes nothing returns boolean
    if ( not ( udg_AnimLifePercent1 >= 100.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Update_Tower1_Animation_Actions takes nothing returns nothing
    set udg_AnimTimePercent1 = ( udg_AnimTimePercent1 + ( udg_AnimSpeedPrev1 * udg_AnimInterval ) )
    set udg_AnimLifePercent1 = GetUnitLifePercent(udg_Observatory01)
    set udg_AnimSpeed1 = RMaxBJ(0.00, ( udg_AnimLifePercent1 - udg_AnimTimePercent1 ))
    set udg_AnimSpeedPrev1 = udg_AnimSpeed1
    call SetUnitTimeScalePercent( udg_Observatory01, ( udg_AnimSpeed1 * udg_AnimTimeTotal ) )
    // Stop when we're done
    if ( Trig_Update_Tower1_Animation_Func008C() ) then
        call DisableTrigger( GetTriggeringTrigger() )
        call SetUnitAnimation( udg_Observatory01, "stand" )
        call SetUnitTimeScalePercent( udg_Observatory01, 100.00 )
    else
    endif
endfunction

//===========================================================================
function InitTrig_Update_Tower1_Animation takes nothing returns nothing
    set gg_trg_Update_Tower1_Animation = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Update_Tower1_Animation, udg_AnimTimer )
    call TriggerAddCondition( gg_trg_Update_Tower1_Animation, Condition( function Trig_Update_Tower1_Animation_Conditions ) )
    call TriggerAddAction( gg_trg_Update_Tower1_Animation, function Trig_Update_Tower1_Animation_Actions )
endfunction

//===========================================================================
// Trigger: Update Tower2 Animation
//===========================================================================
function Trig_Update_Tower2_Animation_Conditions takes nothing returns boolean
    if ( not ( IsUnitAliveBJ(udg_Observatory02) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Update_Tower2_Animation_Func008C takes nothing returns boolean
    if ( not ( udg_AnimLifePercent2 >= 100.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Update_Tower2_Animation_Actions takes nothing returns nothing
    set udg_AnimTimePercent2 = ( udg_AnimTimePercent2 + ( udg_AnimSpeedPrev2 * udg_AnimInterval ) )
    set udg_AnimLifePercent2 = GetUnitLifePercent(udg_Observatory02)
    set udg_AnimSpeed2 = RMaxBJ(0.00, ( udg_AnimLifePercent2 - udg_AnimTimePercent2 ))
    set udg_AnimSpeedPrev2 = udg_AnimSpeed2
    call SetUnitTimeScalePercent( udg_Observatory02, ( udg_AnimSpeed2 * udg_AnimTimeTotal ) )
    // Stop when we're done
    if ( Trig_Update_Tower2_Animation_Func008C() ) then
        call DisableTrigger( GetTriggeringTrigger() )
        call SetUnitAnimation( udg_Observatory02, "stand" )
        call SetUnitTimeScalePercent( udg_Observatory02, 100.00 )
    else
    endif
endfunction

//===========================================================================
function InitTrig_Update_Tower2_Animation takes nothing returns nothing
    set gg_trg_Update_Tower2_Animation = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Update_Tower2_Animation, udg_AnimTimer )
    call TriggerAddCondition( gg_trg_Update_Tower2_Animation, Condition( function Trig_Update_Tower2_Animation_Conditions ) )
    call TriggerAddAction( gg_trg_Update_Tower2_Animation, function Trig_Update_Tower2_Animation_Actions )
endfunction

//===========================================================================
// Trigger: Update Tower3 Animation
//===========================================================================
function Trig_Update_Tower3_Animation_Conditions takes nothing returns boolean
    if ( not ( IsUnitAliveBJ(udg_Observatory03) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Update_Tower3_Animation_Func008C takes nothing returns boolean
    if ( not ( udg_AnimLifePercent3 >= 100.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Update_Tower3_Animation_Actions takes nothing returns nothing
    set udg_AnimTimePercent3 = ( udg_AnimTimePercent3 + ( udg_AnimSpeedPrev3 * udg_AnimInterval ) )
    set udg_AnimLifePercent3 = GetUnitLifePercent(udg_Observatory03)
    set udg_AnimSpeed3 = RMaxBJ(0.00, ( udg_AnimLifePercent3 - udg_AnimTimePercent3 ))
    set udg_AnimSpeedPrev3 = udg_AnimSpeed3
    call SetUnitTimeScalePercent( udg_Observatory03, ( udg_AnimSpeed3 * udg_AnimTimeTotal ) )
    // Stop when we're done
    if ( Trig_Update_Tower3_Animation_Func008C() ) then
        call DisableTrigger( GetTriggeringTrigger() )
        call SetUnitAnimation( udg_Observatory03, "stand" )
        call SetUnitTimeScalePercent( udg_Observatory03, 100.00 )
    else
    endif
endfunction

//===========================================================================
function InitTrig_Update_Tower3_Animation takes nothing returns nothing
    set gg_trg_Update_Tower3_Animation = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Update_Tower3_Animation, udg_AnimTimer )
    call TriggerAddCondition( gg_trg_Update_Tower3_Animation, Condition( function Trig_Update_Tower3_Animation_Conditions ) )
    call TriggerAddAction( gg_trg_Update_Tower3_Animation, function Trig_Update_Tower3_Animation_Actions )
endfunction

//===========================================================================
// Trigger: Change the Icon
//===========================================================================
function Trig_Change_the_Icon_Func001A takes nothing returns nothing
    call UnitSetUsesAltIconBJ( true, GetEnumUnit() )
endfunction

function Trig_Change_the_Icon_Actions takes nothing returns nothing
    call ForGroupBJ( GetUnitsOfTypeIdAll('haro'), function Trig_Change_the_Icon_Func001A )
    call SetAltMinimapIcon( "UI\\Minimap\\Minimap-Tower" )
endfunction

//===========================================================================
function InitTrig_Change_the_Icon takes nothing returns nothing
    set gg_trg_Change_the_Icon = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Change_the_Icon, function Trig_Change_the_Icon_Actions )
endfunction

//===========================================================================
// Trigger: Peasant Dies
//===========================================================================
function Trig_Peasant_Dies_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetDyingUnit()) == 'hpea' ) ) then
        return false
    endif
    if ( not ( CountLivingPlayerUnitsOfTypeId('hpea', udg_AP1_Player) == 0 ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Peasant_Dies_Func002001 takes nothing returns boolean
    return ( udg_InCombat == false )
endfunction

function Trig_Peasant_Dies_Actions takes nothing returns nothing
    call TriggerSleepAction( 5.00 )
    loop
        exitwhen ( Trig_Peasant_Dies_Func002001() )
        call TriggerSleepAction(RMaxBJ(bj_WAIT_FOR_COND_MIN_INTERVAL, 1))
    endloop
    call ModifyGateBJ( bj_GATEOPERATION_OPEN, gg_dest_LTe3_0000 )
    call CreateNUnitsAtLoc( 1, 'hpea', udg_AP1_Player, udg_zPointNewPeasant, bj_UNIT_FACING )
    call IssuePointOrderLocBJ( GetLastCreatedUnit(), "move", udg_zPointNewPeasantWalkTo )
    call ModifyGateBJ( bj_GATEOPERATION_CLOSE, gg_dest_LTe3_0000 )
    call SetCameraQuickPositionLocForPlayer( udg_AP1_Player, udg_zPointNewPeasantWalkTo )
    call PingMinimapLocForForce( GetPlayersAll(), udg_zPointNewPeasantWalkTo, 5.00 )
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_HINT, "TRIGSTR_237" )
endfunction

//===========================================================================
function InitTrig_Peasant_Dies takes nothing returns nothing
    set gg_trg_Peasant_Dies = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Peasant_Dies, Player(0), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Peasant_Dies, Condition( function Trig_Peasant_Dies_Conditions ) )
    call TriggerAddAction( gg_trg_Peasant_Dies, function Trig_Peasant_Dies_Actions )
endfunction

//===========================================================================
function InitCustomTriggers takes nothing returns nothing
    call InitTrig_Initialization(  )
    call InitTrig_Init_01_Players(  )
    call InitTrig_Init_02_Units(  )
    call InitTrig_Init_03_Music(  )
    call InitTrig_Init_04_Environment(  )
    call InitTrig_Init_05_Quests(  )
    call InitTrig_Init_06a_Hard(  )
    call InitTrig_Init_06b_Normal(  )
    call InitTrig_Init_06c_Easy(  )
    call InitTrig_Load_Heroes(  )
    call InitTrig_Load_Kael(  )
    call InitTrig_Experience_Cap_Kael(  )
    call InitTrig_Cinematic_Revival(  )
    call InitTrig_Intro_Cinematic_Q(  )
    call InitTrig_Intro_Skipped(  )
    call InitTrig_Intro_Setup(  )
    call InitTrig_Intro_Cleanup(  )
    call InitTrig_Gameplay(  )
    call InitTrig_Naga_Cinematic_Q(  )
    call InitTrig_Naga_Skipped(  )
    call InitTrig_Naga_Setup(  )
    call InitTrig_Naga_Cleanup(  )
    call InitTrig_New_Boats(  )
    call InitTrig_Make_Ghouls_Attack(  )
    call InitTrig_Tower_MiniCinematic_Q(  )
    call InitTrig_Tower_Setup(  )
    call InitTrig_Tower_Cleanup(  )
    call InitTrig_Victory_Cinematic_Q(  )
    call InitTrig_Victory_Skipped(  )
    call InitTrig_Victory_Setup(  )
    call InitTrig_Next_Level_Prep(  )
    call InitTrig_Next_Level_Run(  )
    call InitTrig_Victory_Cheat(  )
    call InitTrig_Defeat_Cheat(  )
    call InitTrig_Quest_Observatory_Create(  )
    call InitTrig_Quest_Observatory_Discover(  )
    call InitTrig_Quest_Observatory_Update_01(  )
    call InitTrig_Quest_Observatory_Update_02(  )
    call InitTrig_Quest_Observatory_Completed(  )
    call InitTrig_Quest_Hidden_Caches_Create(  )
    call InitTrig_Quest_Hidden_Caches_Discover(  )
    call InitTrig_Quest_Hidden_Caches_Update_01(  )
    call InitTrig_Quest_Hidden_Caches_Update_02(  )
    call InitTrig_Quest_Hidden_Caches_Update_03(  )
    call InitTrig_Quest_Hidden_Caches_Completed(  )
    call InitTrig_Mission_Failed_all_Units_Dead(  )
    call InitTrig_Mission_Failed_Base_Dead(  )
    call InitTrig_Mission_Failed_TowerDead(  )
    call InitTrig_Hint_Spell_Breakers_Q(  )
    call InitTrig_Hint_Control_Magic(  )
    call InitTrig_Hint_Control_Magic_Q(  )
    call InitTrig_Hint_Tiny_Castle(  )
    call InitTrig_Hint_Tiny_Castle_Q(  )
    call InitTrig_Hint_Runes_Flame_Stirke_01(  )
    call InitTrig_Hint_Runes_Flame_Stirke_01_Q(  )
    call InitTrig_Hint_Island_Revealed_01_Q(  )
    call InitTrig_Low_Goldmines_Q(  )
    call InitTrig_Start_AI(  )
    call InitTrig_Start_AI_After_Building_Built(  )
    call InitTrig_AI_Resources_Yellow_Gold(  )
    call InitTrig_AI_Resources_Yellow_Lumber(  )
    call InitTrig_Combat_Detected(  )
    call InitTrig_Combat_Resolved(  )
    call InitTrig_Player_Builds_Town(  )
    call InitTrig_Defeat_Units_all_Dead(  )
    call InitTrig_Defeat_Units_Dead(  )
    call InitTrig_Defeat_Tower_Dies(  )
    call InitTrig_Player_Find_Shore(  )
    call InitTrig_Observatory_Q(  )
    call InitTrig_Naga_Support(  )
    call InitTrig_Enlarge_Vision(  )
    call InitTrig_Observatory01_Repaired(  )
    call InitTrig_Observatory02_Repaired(  )
    call InitTrig_Observatory03_Repaired(  )
    call InitTrig_Observatory_Repaired_Check(  )
    call InitTrig_Observatory_Repaired_Lines_Q(  )
    call InitTrig_Quest_Observatory_Update_01_Q(  )
    call InitTrig_Hidden_Caches(  )
    call InitTrig_Hidden_Caches_Q(  )
    call InitTrig_Box_Lines(  )
    call InitTrig_Box_Line_01_Q(  )
    call InitTrig_Box_Line_02_Q(  )
    call InitTrig_Box_Line_03_Q(  )
    call InitTrig_Box_Line_04_Q(  )
    call InitTrig_StepOn_Cache_01(  )
    call InitTrig_Break_Box_Cache_01(  )
    call InitTrig_Cache_01(  )
    call InitTrig_StepOn_Cache_02(  )
    call InitTrig_Break_Box_Cache_02(  )
    call InitTrig_Cache_02(  )
    call InitTrig_StepOn_Cache_03(  )
    call InitTrig_Break_Box_Cache_03(  )
    call InitTrig_Cache_03(  )
    call InitTrig_StepOn_Cache_04(  )
    call InitTrig_Break_Box_Cache_04(  )
    call InitTrig_Cache_04(  )
    call InitTrig_Roaming_Craps_01(  )
    call InitTrig_Roaming_Craps_02(  )
    call InitTrig_Roaming_Demons_01(  )
    call InitTrig_Roaming_Demons_02(  )
    call InitTrig_Roaming_Demons_03(  )
    call InitTrig_Roaming_Zombies_01(  )
    call InitTrig_Saving_the_Riflemen_by_Orges(  )
    call InitTrig_Trapped_Animal_01(  )
    call InitTrig_Trapped_Animal_02(  )
    call InitTrig_Cast_Water_Elemental_01(  )
    call InitTrig_Runes_Remove_by_Box_02(  )
    call InitTrig_Runes_Remove_by_Box_04(  )
    call InitTrig_Island_Four_____Critter(  )
    call InitTrig_Critter_Dies(  )
    call InitTrig_Init_Tower_Animations(  )
    call InitTrig_Update_Tower1_Animation(  )
    call InitTrig_Update_Tower2_Animation(  )
    call InitTrig_Update_Tower3_Animation(  )
    call InitTrig_Change_the_Icon(  )
    call InitTrig_Peasant_Dies(  )
endfunction

//===========================================================================
function RunInitializationTriggers takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Initialization )
    call ConditionalTriggerExecute( gg_trg_Change_the_Icon )
endfunction

//***************************************************************************
//*
//*  Upgrades
//*
//***************************************************************************

function InitUpgrades_Player0 takes nothing returns nothing
    call SetPlayerTechResearched( Player(0), 'Rhss', 1 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rhgb', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rhfc', 0 )
    call SetPlayerTechResearched( Player(0), 'Rhde', 1 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rhpm', 0 )
endfunction

function InitUpgrades takes nothing returns nothing
    call InitUpgrades_Player0(  )
endfunction

//***************************************************************************
//*
//*  TechTree
//*
//***************************************************************************

function InitTechTree_Player0 takes nothing returns nothing
    call SetPlayerAbilityAvailable( Player(0), 'Agyb', false )
    call SetPlayerTechMaxAllowed( Player(0), 'Hamg', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Hpal', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Hmkg', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Obla', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Ofar', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Otch', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Udea', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Ulic', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Udre', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Ekee', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Emoo', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Edem', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Hblm', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Nbrn', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'hgry', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'hgyr', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'hdhw', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'hgra', 0 )
endfunction

function InitTechTree_Player4 takes nothing returns nothing
    call SetPlayerTechMaxAllowed( Player(4), 'Udea', 0 )
    call SetPlayerTechMaxAllowed( Player(4), 'Ulic', 0 )
    call SetPlayerTechMaxAllowed( Player(4), 'Udre', 0 )
    call SetPlayerTechMaxAllowed( Player(4), 'Ucrl', 0 )
endfunction

function InitTechTree takes nothing returns nothing
    call InitTechTree_Player0(  )
    call InitTechTree_Player4(  )
endfunction

//***************************************************************************
//*
//*  Players
//*
//***************************************************************************

function InitCustomPlayerSlots takes nothing returns nothing

    // Player 0
    call SetPlayerStartLocation( Player(0), 0 )
    call ForcePlayerStartLocation( Player(0), 0 )
    call SetPlayerColor( Player(0), ConvertPlayerColor(0) )
    call SetPlayerRacePreference( Player(0), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(0), false )
    call SetPlayerController( Player(0), MAP_CONTROL_USER )

    // Player 4
    call SetPlayerStartLocation( Player(4), 1 )
    call ForcePlayerStartLocation( Player(4), 1 )
    call SetPlayerColor( Player(4), ConvertPlayerColor(4) )
    call SetPlayerRacePreference( Player(4), RACE_PREF_UNDEAD )
    call SetPlayerRaceSelectable( Player(4), false )
    call SetPlayerController( Player(4), MAP_CONTROL_COMPUTER )

    // Player 5
    call SetPlayerStartLocation( Player(5), 2 )
    call ForcePlayerStartLocation( Player(5), 2 )
    call SetPlayerColor( Player(5), ConvertPlayerColor(5) )
    call SetPlayerRacePreference( Player(5), RACE_PREF_ORC )
    call SetPlayerRaceSelectable( Player(5), false )
    call SetPlayerController( Player(5), MAP_CONTROL_NEUTRAL )

endfunction

function InitCustomTeams takes nothing returns nothing
    // Force: TRIGSTR_010
    call SetPlayerTeam( Player(0), 0 )

    // Force: TRIGSTR_011
    call SetPlayerTeam( Player(4), 1 )

    // Force: TRIGSTR_261
    call SetPlayerTeam( Player(5), 2 )

endfunction

function InitAllyPriorities takes nothing returns nothing

    call SetStartLocPrioCount( 1, 1 )
    call SetStartLocPrio( 1, 0, 2, MAP_LOC_PRIO_LOW )

    call SetStartLocPrioCount( 2, 1 )
endfunction

//***************************************************************************
//*
//*  Main Initialization
//*
//***************************************************************************

//===========================================================================
function main takes nothing returns nothing
    call SetCameraBounds( -5376.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), -5632.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM), 9472.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), 6528.0 - GetCameraMargin(CAMERA_MARGIN_TOP), -5376.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), 6528.0 - GetCameraMargin(CAMERA_MARGIN_TOP), 9472.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), -5632.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM) )
    call SetDayNightModels( "Environment\\DNC\\DNCDalaran\\DNCDalaranTerrain\\DNCDalaranTerrain.mdl", "Environment\\DNC\\DNCDalaran\\DNCDalaranUnit\\DNCDalaranUnit.mdl" )
    call SetWaterBaseColor( 0, 128, 255, 255 )
    call NewSoundEnvironment( "Default" )
    call SetAmbientDaySound( "DalaranRuinsDay" )
    call SetAmbientNightSound( "DalaranRuinsNight" )
    call SetMapMusic( "Music", true, 0 )
    call InitSounds(  )
    call CreateRegions(  )
    call CreateCameras(  )
    call InitUpgrades(  )
    call InitTechTree(  )
    call CreateAllDestructables(  )
    call CreateAllItems(  )
    call CreateAllUnits(  )
    call InitBlizzard(  )
    call InitGlobals(  )
    call InitCustomTriggers(  )
    call RunInitializationTriggers(  )

endfunction

//***************************************************************************
//*
//*  Map Configuration
//*
//***************************************************************************

function config takes nothing returns nothing
    call SetMapName( "TRIGSTR_003" )
    call SetMapDescription( "TRIGSTR_226" )
    call SetPlayers( 3 )
    call SetTeams( 3 )
    call SetGamePlacement( MAP_PLACEMENT_USE_MAP_SETTINGS )

    call DefineStartLocation( 0, 8384.0, 3264.0 )
    call DefineStartLocation( 1, 4288.0, 5568.0 )
    call DefineStartLocation( 2, 4992.0, 2304.0 )

    // Player setup
    call InitCustomPlayerSlots(  )
    call InitCustomTeams(  )
    call InitAllyPriorities(  )
endfunction

