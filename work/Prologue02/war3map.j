//===========================================================================
// 
// Prologue02
// 
//   Warcraft III map script
//   Generated by the Warcraft III World Editor
//   Date: Mon Jun 03 17:35:43 2002
//   Map Author: Blizzard Entertainment
// 
//===========================================================================

//***************************************************************************
//*
//*  Global Variables
//*
//***************************************************************************

globals
    // User-defined
    player              udg_AP1_Player             = null
    force               udg_APG1_Player            = null
    boolean             udg_GameOver
    unit                udg_Thrall                 = null
    boolean             udg_IntroCancelled
    boolean             udg_EndCancelled
    unit                udg_IntroGrunt             = null
    unit                udg_IntroPeon              = null
    destructable        udg_Bridge                 = null
    boolean             udg_QuestBaseCreated
    quest               udg_QuestBase              = null
    questitem           udg_QuestBaseReqBurrows    = null
    questitem           udg_QuestBaseReqBarracks   = null
    questitem           udg_QuestBaseReqWarMill    = null
    questitem           udg_QuestBaseReqGrunts     = null
    quest               udg_QuestGrom              = null
    boolean             udg_QuestGromCreated
    unit                udg_GoldMine               = null
    group               udg_MorePeons              = null
    timer               udg_G3MoreTimer            = null
    unit                udg_MorePeon01             = null
    unit                udg_MorePeon02             = null
    unit                udg_MorePeon03             = null
    real                udg_HeyLookR
    real                udg_HeyLookG
    real                udg_HeyLookB
    real                udg_HeyLookA
    unit                udg_GreatHall              = null
    timer               udg_T3TrainingPeonTimer    = null
    timer               udg_G4StockpileTimer       = null
    real                udg_ActAbortPostDelay
    boolean             udg_MorePeon01Given
    boolean             udg_MorePeon02Given
    boolean             udg_MorePeon03Given
    unit                udg_GuardTower01           = null
    unit                udg_GuardTower02           = null
    unit                udg_GuardTower03           = null
    questitem           udg_QuestGromReqTowers     = null
    unit                udg_Grom                   = null
    unit                udg_Medivh                 = null
    unit                udg_EndGruntLead           = null
    destructable        udg_CageGrom               = null
    unit                udg_EndGrunt01             = null
    unit                udg_EndGrunt02             = null
    unit                udg_EndGrunt03             = null
    player              udg_P4_OtherOrcs           = null
    player              udg_P2_Alliance            = null
    boolean             udg_BridgeCancelled
    unit                udg_BridgeCaptain          = null
    group               udg_BridgeSelection        = null
    unit                udg_BridgeGuard01          = null
    unit                udg_BridgeGuard02          = null
    unit                udg_BridgeGrunt            = null
    location            udg_BridgePreCamPoint      = null
    unit                udg_BridgeGuard03          = null
    unit                udg_BridgeGuard04          = null
    group               udg_BridgeAttackers        = null
    unit                udg_BridgePeasant01        = null
    unit                udg_BridgePeasant02        = null
    timer               udg_B2ClickBuildTimer      = null
    timer               udg_B3ClickBurrowTimer     = null
    unit                udg_ConstructedUnit        = null
    unit                udg_Ship01                 = null
    unit                udg_Ship02                 = null
    unit                udg_Ship03                 = null
    boolean             udg_InitialRallySet
    real                udg_ActDoneDelay
    real                udg_ActAbortPreDelay
    group               udg_TempUnitGroup          = null
    boolean             udg_L_LumberLinesDone
    boolean             udg_B_BurrowLinesDone
    real                udg_QuestDelay
    real                udg_HintDelay
    group               udg_LumberHarvesters       = null
    unit                udg_WarMill                = null
    boolean             udg_U_UpgradeDone
    boolean             udg_M_WarMillDone
    boolean             udg_G_HarvestingGoldDone
    boolean             udg_P_TrainingPeonsDone
    boolean             udg_K_BuildBarracksDone
    unit                udg_Barracks               = null
    leaderboard         udg_LeaderboardGrunts      = null
    integer             udg_GruntCount
    boolean             udg_LeaderboardExists
    unit                udg_TempGrunt              = null
    unit                udg_BurrowBuilder          = null
    destructable        udg_Gate01                 = null
    destructable        udg_Gate02                 = null
    destructable        udg_Cage01                 = null
    destructable        udg_Cage02                 = null
    destructable        udg_Cage03A                = null
    destructable        udg_Cage03B                = null
    destructable        udg_Cage03C                = null
    group               udg_Prison01Guards         = null
    group               udg_Prison02Guards         = null
    group               udg_Prison03Guards         = null
    integer             udg_SelectedCasterTypes
    questitem           udg_QuestGromReqFind       = null
    timer               udg_CombatDetectionTimer   = null
    boolean             udg_InCombat
    unit                udg_EndGrunt04             = null
    unit                udg_EndGrunt05             = null
    unit                udg_EndGrunt06             = null
    unit                udg_EndGrunt07             = null
    unit                udg_EndGrunt08             = null
    group               udg_EndGrunts              = null
    unit                udg_Altar                  = null
    group               udg_BridgeHiddenUnits      = null
    group               udg_DamagedBuildings       = null
    unit                udg_DamagedBuilding        = null

    // Generated
    rect                gg_rct_BridgeCaptiain_MoveTo = null
    rect                gg_rct_BridgeGuard01_MoveTo = null
    rect                gg_rct_BridgeGuard02_MoveTo = null
    rect                gg_rct_BridgeGuard03_MoveTo = null
    rect                gg_rct_BridgeGuard04_MoveTo = null
    rect                gg_rct_BridgePeasant01_MoveTo = null
    rect                gg_rct_BridgePeasant02_MoveTo = null
    rect                gg_rct_Cage01_MoveTo       = null
    rect                gg_rct_Cage02_MoveTo       = null
    rect                gg_rct_Cage03A_MoveTo      = null
    rect                gg_rct_Cage03B_MoveTo      = null
    rect                gg_rct_Cage03C_MoveTo      = null
    rect                gg_rct_End_Gate            = null
    rect                gg_rct_End_Grom_MoveTo_01  = null
    rect                gg_rct_End_Grom_MoveTo_02  = null
    rect                gg_rct_End_Grom_Start      = null
    rect                gg_rct_End_Thrall_MoveTo_01 = null
    rect                gg_rct_End_Thrall_MoveTo_02 = null
    rect                gg_rct_End_Thrall_Start    = null
    rect                gg_rct_EndGrunt01_MoveTo   = null
    rect                gg_rct_EndGrunt02_MoveTo   = null
    rect                gg_rct_EndGrunt03_MoveTo   = null
    rect                gg_rct_EndGrunt04_MoveTo   = null
    rect                gg_rct_EndGrunt05_MoveTo   = null
    rect                gg_rct_EndGrunt06_MoveTo   = null
    rect                gg_rct_EndGrunt07_MoveTo   = null
    rect                gg_rct_EndGrunt08_MoveTo   = null
    rect                gg_rct_EndGruntLead_MoveTo = null
    rect                gg_rct_EndGrunts           = null
    rect                gg_rct_GateHintA           = null
    rect                gg_rct_GateHintB           = null
    rect                gg_rct_GateHintC           = null
    rect                gg_rct_GreatHall_RallyPoint = null
    rect                gg_rct_IntroGrunt_Start    = null
    rect                gg_rct_IntroGrunt_TurnsAway_Focus = null
    rect                gg_rct_IntroGrunt_WalkAway_Focus = null
    rect                gg_rct_IntroGrunt_WalkTo   = null
    rect                gg_rct_IntroPeon_WalkTo    = null
    rect                gg_rct_LookOverHere        = null
    rect                gg_rct_Medivh_MoveTo       = null
    rect                gg_rct_Prison01Guards      = null
    rect                gg_rct_Prison02Guards      = null
    rect                gg_rct_Prison03Guards      = null
    rect                gg_rct_Ship01A             = null
    rect                gg_rct_Ship01B             = null
    rect                gg_rct_Ship02A             = null
    rect                gg_rct_Ship02B             = null
    rect                gg_rct_Ship03A             = null
    rect                gg_rct_Ship03B             = null
    rect                gg_rct_StreamLoop          = null
    rect                gg_rct_StreamLoop_Copy     = null
    rect                gg_rct_Temp_Grunt_Start    = null
    rect                gg_rct_Thrall_Faces_Grunt  = null
    rect                gg_rct_Thrall_Look_At      = null
    rect                gg_rct_Thrall_Start        = null
    rect                gg_rct_Thrall_Start_Focus  = null
    rect                gg_rct_Thrall_TurnsAway    = null
    rect                gg_rct_Thrall_TurnsAway_Focus = null
    rect                gg_rct_Vulture_Fly_To      = null
    rect                gg_rct_Vulture_Fly_To_Two  = null
    rect                gg_rct_WaterFallSoundFiller = null
    rect                gg_rct_WaveLoop            = null
    rect                gg_rct_WaveLoop_Copy       = null
    rect                gg_rct_WaveLoop_Copy_2     = null
    rect                gg_rct_WaveLoop_Copy_3     = null
    rect                gg_rct_Waypoint01_Tower    = null
    rect                gg_rct_Waypoint02_Tower    = null
    rect                gg_rct_Waypoint03_Tower    = null
    rect                gg_rct_Waypoint04_GreatHall = null
    rect                gg_rct_Bridge_Focus        = null
    camerasetup         gg_cam_Bridge_Scene_Distant = null
    camerasetup         gg_cam_Bridge_Scene_Near   = null
    camerasetup         gg_cam_Bridge_Scene_Side   = null
    camerasetup         gg_cam_Camera_012          = null
    camerasetup         gg_cam_Camera_013          = null
    camerasetup         gg_cam_Gameplay            = null
    camerasetup         gg_cam_Thrall_Face_Waterfall = null
    camerasetup         gg_cam_Intro_Start         = null
    camerasetup         gg_cam_Medivh_Alternate    = null
    camerasetup         gg_cam_Medivh_Back         = null
    camerasetup         gg_cam_Medivh_Front        = null
    camerasetup         gg_cam_Victory01A          = null
    camerasetup         gg_cam_Victory01B          = null
    camerasetup         gg_cam_Victory02           = null
    camerasetup         gg_cam_Victory03           = null
    camerasetup         gg_cam_Victory04A          = null
    camerasetup         gg_cam_Victory04B          = null
    camerasetup         gg_cam_Victory05A          = null
    camerasetup         gg_cam_Victory05B          = null
    camerasetup         gg_cam_Victory06A          = null
    camerasetup         gg_cam_Victory06B          = null
    camerasetup         gg_cam_VictoryEnd01a       = null
    camerasetup         gg_cam_VictoryEnd01b       = null
    camerasetup         gg_cam_Thrall_Talks_to_Grunt = null
    camerasetup         gg_cam_Damnit_Thrall       = null
    camerasetup         gg_cam_Thrall_Face_Waterfall_A = null
    camerasetup         gg_cam_Bridge_Start        = null
    camerasetup         gg_cam_Bridge_2            = null
    camerasetup         gg_cam_Show_Grom           = null
    camerasetup         gg_cam_Show_Grom_B         = null
    camerasetup         gg_cam_Victory_Alternate_B = null
    camerasetup         gg_cam_Victory_Alternate_A = null
    camerasetup         gg_cam_Victory_Alternate_C = null
    sound               gg_snd_GruntReady1         = null
    sound               gg_snd_GruntWarcry1        = null
    sound               gg_snd_NorthrendBattleshipLoop1 = null
    sound               gg_snd_OrcBuildingDeathSmall1 = null
    sound               gg_snd_ShamanYes3          = null
    sound               gg_snd_ShamanYesAttack2    = null
    sound               gg_snd_T01Narrator07       = null
    sound               gg_snd_T02Captain045       = null
    sound               gg_snd_T02Grom060          = null
    sound               gg_snd_T02Grom062          = null
    sound               gg_snd_T02Grom063          = null
    sound               gg_snd_T02Grunt002         = null
    sound               gg_snd_T02Grunt004         = null
    sound               gg_snd_T02Grunt006         = null
    sound               gg_snd_T02Grunt046         = null
    sound               gg_snd_T02Grunt049         = null
    sound               gg_snd_T02Grunt056         = null
    sound               gg_snd_T02Grunt065         = null
    sound               gg_snd_T02Medivh066        = null
    sound               gg_snd_T02Narrator008      = null
    sound               gg_snd_T02Narrator009      = null
    sound               gg_snd_T02Narrator010      = null
    sound               gg_snd_T02Narrator013      = null
    sound               gg_snd_T02Narrator014      = null
    sound               gg_snd_T02Narrator015      = null
    sound               gg_snd_T02Narrator016      = null
    sound               gg_snd_T02Narrator018      = null
    sound               gg_snd_T02Narrator019      = null
    sound               gg_snd_T02Narrator020      = null
    sound               gg_snd_T02Narrator021      = null
    sound               gg_snd_T02Narrator022      = null
    sound               gg_snd_T02Narrator023      = null
    sound               gg_snd_T02Narrator024      = null
    sound               gg_snd_T02Narrator025      = null
    sound               gg_snd_T02Narrator027      = null
    sound               gg_snd_T02Narrator028      = null
    sound               gg_snd_T02Narrator030      = null
    sound               gg_snd_T02Narrator031      = null
    sound               gg_snd_T02Narrator032      = null
    sound               gg_snd_T02Narrator033      = null
    sound               gg_snd_T02Narrator034      = null
    sound               gg_snd_T02Narrator035      = null
    sound               gg_snd_T02Narrator036      = null
    sound               gg_snd_T02Narrator037      = null
    sound               gg_snd_T02Narrator039      = null
    sound               gg_snd_T02Narrator040      = null
    sound               gg_snd_T02Narrator041      = null
    sound               gg_snd_T02Narrator042      = null
    sound               gg_snd_T02Narrator043      = null
    sound               gg_snd_T02Narrator044      = null
    sound               gg_snd_T02Narrator050      = null
    sound               gg_snd_T02Narrator051      = null
    sound               gg_snd_T02Narrator053      = null
    sound               gg_snd_T02Narrator103      = null
    sound               gg_snd_T02Narrator104      = null
    sound               gg_snd_T02Narrator105      = null
    sound               gg_snd_T02Narrator111      = null
    sound               gg_snd_T02Narrator112      = null
    sound               gg_snd_T02Narrator114      = null
    sound               gg_snd_T02Thrall001        = null
    sound               gg_snd_T02Thrall003        = null
    sound               gg_snd_T02Thrall005        = null
    sound               gg_snd_T02Thrall007        = null
    sound               gg_snd_T02Thrall047        = null
    sound               gg_snd_T02Thrall057        = null
    sound               gg_snd_T02Thrall059        = null
    sound               gg_snd_T02Thrall061        = null
    sound               gg_snd_T02Thrall064        = null
    sound               gg_snd_WaterStreamLoop1    = null
    sound               gg_snd_WaterWaterFallLoop1 = null
    sound               gg_snd_WaterWavesLoop1     = null
    trigger             gg_trg_Initialization      = null
    trigger             gg_trg_Init_01_Timing      = null
    trigger             gg_trg_Init_02_Players     = null
    trigger             gg_trg_Init_03_Units       = null
    trigger             gg_trg_Init_04_Heroes      = null
    trigger             gg_trg_Init_05_Environment = null
    trigger             gg_trg_Init_06_Sounds      = null
    trigger             gg_trg_Init_07_Quests      = null
    trigger             gg_trg_Load_Thrall         = null
    trigger             gg_trg_Intro_Cinematic     = null
    trigger             gg_trg_Intro_Cancel        = null
    trigger             gg_trg_IntroGrunt_Remove   = null
    trigger             gg_trg_Gameplay            = null
    trigger             gg_trg_Fake_Queue_Entry    = null
    trigger             gg_trg_Bridge_Cinematic    = null
    trigger             gg_trg_Bridge_Cancel       = null
    trigger             gg_trg_BridgeGrunt_Setup   = null
    trigger             gg_trg_BridgeGrunt_Cleanup = null
    trigger             gg_trg_Captain_In_Position = null
    trigger             gg_trg_End_Cinematic       = null
    trigger             gg_trg_End_Cancel          = null
    trigger             gg_trg_GromFaceShips       = null
    trigger             gg_trg_ThrallFaceShips     = null
    trigger             gg_trg_NextLevelPrep       = null
    trigger             gg_trg_NextLevelRun        = null
    trigger             gg_trg_Victory_Cheat       = null
    trigger             gg_trg_Defeat_Cheat        = null
    trigger             gg_trg_Victory_Check       = null
    trigger             gg_trg_Defeat              = null
    trigger             gg_trg_Hint_PeonAreGood    = null
    trigger             gg_trg_Hint_QueuePeons     = null
    trigger             gg_trg_Hint_WorkComplete   = null
    trigger             gg_trg_Hint_Upgrades       = null
    trigger             gg_trg_Hint_DoubleBarracks = null
    trigger             gg_trg_Hint_Repair         = null
    trigger             gg_trg_Hint_Upkeep         = null
    trigger             gg_trg_Hint_Gate           = null
    trigger             gg_trg_Hint_StandDown      = null
    trigger             gg_trg_Hint_RallyPeons     = null
    trigger             gg_trg_Hint_Altar          = null
    trigger             gg_trg_Hint_Revival        = null
    trigger             gg_trg_NewUnit_Shaman      = null
    trigger             gg_trg_MissionFailed_BaseDestroyed = null
    trigger             gg_trg_QuestBase_Create    = null
    trigger             gg_trg_QuestBase_Discover  = null
    trigger             gg_trg_QuestBase_Completed_Check = null
    trigger             gg_trg_QuestBase_ReqUpdate = null
    trigger             gg_trg_QuestBase_ReqBurrow_Done = null
    trigger             gg_trg_QuestBase_ReqWarMill_Done = null
    trigger             gg_trg_QuestBase_ReqBarracks_Done = null
    trigger             gg_trg_QuestBase_ReqGrunts_Done = null
    trigger             gg_trg_QuestGrom_Create    = null
    trigger             gg_trg_QuestGrom_Discover  = null
    trigger             gg_trg_QuestGrom_Update_Found = null
    trigger             gg_trg_QuestGrom_Completed = null
    trigger             gg_trg_Leaderboard_Create  = null
    trigger             gg_trg_Leaderboard_Update  = null
    trigger             gg_trg_Leaderboard_Destroy = null
    trigger             gg_trg_Combat_Ensuing      = null
    trigger             gg_trg_Combat_Done         = null
    trigger             gg_trg_DEBUG_Bridge        = null
    trigger             gg_trg_Q1_QuestLog_Q       = null
    trigger             gg_trg_Done_Burrows        = null
    trigger             gg_trg_Done_Burrows_Q      = null
    trigger             gg_trg_Done_WarMill        = null
    trigger             gg_trg_Done_WarMill_Q      = null
    trigger             gg_trg_Done_Barracks       = null
    trigger             gg_trg_Done_Barracks_Q     = null
    trigger             gg_trg_Done_Grunts         = null
    trigger             gg_trg_Done_Grunts_Q       = null
    trigger             gg_trg_G1_SelectPeon_Q     = null
    trigger             gg_trg_G1_SelectPeon_Flash = null
    trigger             gg_trg_G1_SelectPeon_Abort = null
    trigger             gg_trg_G1_SelectPeon_Done  = null
    trigger             gg_trg_G2_HarvestGold_Q    = null
    trigger             gg_trg_G2_HarvestGold_Flash = null
    trigger             gg_trg_G2_HarvestGold_Abort = null
    trigger             gg_trg_G2_HarvestGold_Done = null
    trigger             gg_trg_G3_More_Q           = null
    trigger             gg_trg_G3_More_GivePeon01  = null
    trigger             gg_trg_G3_More_GivePeon02  = null
    trigger             gg_trg_G3_More_GivePeon03  = null
    trigger             gg_trg_G3_More_Abort       = null
    trigger             gg_trg_G3_More_DoneA       = null
    trigger             gg_trg_G3_More_DoneB       = null
    trigger             gg_trg_G4_Stockpile_Q      = null
    trigger             gg_trg_G4_Stockpile_Abort  = null
    trigger             gg_trg_G4_Stockpile_Done   = null
    trigger             gg_trg_P1_SelectHall_Q     = null
    trigger             gg_trg_P1_SelectHall_Flash = null
    trigger             gg_trg_P1_SelectHall_Abort = null
    trigger             gg_trg_P1_SelectHall_DoneA = null
    trigger             gg_trg_P1_SelectHall_DoneB = null
    trigger             gg_trg_P2_TrainPeon_Q      = null
    trigger             gg_trg_P2_TrainPeon_Abort  = null
    trigger             gg_trg_P2_TrainPeon_Done   = null
    trigger             gg_trg_P3_TrainingPeon_Q   = null
    trigger             gg_trg_P3_TrainingPeon_Abort = null
    trigger             gg_trg_P3_TrainingPeon_DoneA = null
    trigger             gg_trg_P3_TrainingPeon_DoneB = null
    trigger             gg_trg_B_BuildBurrow_Event = null
    trigger             gg_trg_B1_BurrowPeon_Q     = null
    trigger             gg_trg_B1_BurrowPeon_Abort = null
    trigger             gg_trg_B1_BurrowPeon_DoneA = null
    trigger             gg_trg_B1_BurrowPeon_DoneB = null
    trigger             gg_trg_B2_ClickBuild_Q     = null
    trigger             gg_trg_B2_ClickBuild_Abort = null
    trigger             gg_trg_B2_ClickBuild_DoneA = null
    trigger             gg_trg_B2_ClickBuild_DoneB = null
    trigger             gg_trg_B3_ClickBurrow_Q    = null
    trigger             gg_trg_B3_ClickBurrow_Abort = null
    trigger             gg_trg_B3_ClickBurrow_DoneA = null
    trigger             gg_trg_B3_ClickBurrow_DoneB = null
    trigger             gg_trg_B4_PlaceBox_Q       = null
    trigger             gg_trg_B4_PlaceBox_Abort   = null
    trigger             gg_trg_B4_PlaceBox_Done    = null
    trigger             gg_trg_L_HarvestingLumber  = null
    trigger             gg_trg_L1_HarvestLumber_Q  = null
    trigger             gg_trg_L1_HarvestLumber_Abort = null
    trigger             gg_trg_L1_HarvestLumber_DoneA = null
    trigger             gg_trg_L1_HarvestLumber_DoneB = null
    trigger             gg_trg_L2_Lumbering_Q      = null
    trigger             gg_trg_L2_Lumbering_Abort  = null
    trigger             gg_trg_L2_Lumbering_Done   = null
    trigger             gg_trg_M_WarMill_Event     = null
    trigger             gg_trg_M_Lumber_Peon_Added = null
    trigger             gg_trg_M1_BuildWarMill_Q   = null
    trigger             gg_trg_M1_BuildWarMill_Abort = null
    trigger             gg_trg_M1_BuildWarMill_Done = null
    trigger             gg_trg_M2_MoreLumber_Q     = null
    trigger             gg_trg_M2_MoreLumber_Abort = null
    trigger             gg_trg_M2_MoreLumber_Done  = null
    trigger             gg_trg_K_BuildBarracks_Event = null
    trigger             gg_trg_K_BuildBarracks_Enough = null
    trigger             gg_trg_K1_BuildBarracks_Q  = null
    trigger             gg_trg_K1_BuildBarracks_Abort = null
    trigger             gg_trg_K1_BuildBarracks_Done = null
    trigger             gg_trg_W_WorkComplete_Event = null
    trigger             gg_trg_W_General_Check     = null
    trigger             gg_trg_W_Burrow_Check      = null
    trigger             gg_trg_W_WarMill_Check     = null
    trigger             gg_trg_W_Barracks_Check    = null
    trigger             gg_trg_W1_WorkComplete_Q   = null
    trigger             gg_trg_W2_BurrowComplete_Q = null
    trigger             gg_trg_W2_BurrowComplete_Abort = null
    trigger             gg_trg_U1_SelectWarMill_Q  = null
    trigger             gg_trg_U1_SelectWarMill_Flash = null
    trigger             gg_trg_U1_SelectWarMill_Abort = null
    trigger             gg_trg_U1_SelectWarMill_DoneA = null
    trigger             gg_trg_U1_SelectWarMill_DoneB = null
    trigger             gg_trg_U2_ClickUpgrade_Q   = null
    trigger             gg_trg_U2_ClickUpgrade_Abort = null
    trigger             gg_trg_U2_ClickUpgrade_Done = null
    trigger             gg_trg_U3_UpgradeComplete_Q = null
    trigger             gg_trg_T1_SelectBarracks_Q = null
    trigger             gg_trg_T1_SelectBarracks_Flash = null
    trigger             gg_trg_T1_SelectBarracks_Abort = null
    trigger             gg_trg_T1_SelectBarracks_DoneA = null
    trigger             gg_trg_T1_SelectBarracks_DoneB = null
    trigger             gg_trg_T2_TrainGrunt_Q     = null
    trigger             gg_trg_T2_TrainGrunt_Abort = null
    trigger             gg_trg_T2_TrainGrunt_Done  = null
    trigger             gg_trg_T3_MoreGrunts_Q     = null
    trigger             gg_trg_T3_MoreGrunts_Abort = null
    trigger             gg_trg_T3_MoreGrunts_Done  = null
    trigger             gg_trg_T4_DoubleBarracks_Event = null
    trigger             gg_trg_T4_DoubleBarracks_Q = null
    trigger             gg_trg_T4_DoubleBarracks_Abort = null
    trigger             gg_trg_T4_DoubleBarracks_Done = null
    trigger             gg_trg_LowUpkeep_Event     = null
    trigger             gg_trg_LowUpkeep_Q         = null
    trigger             gg_trg_Battle_Stations_EventA = null
    trigger             gg_trg_Battle_Stations_EventB = null
    trigger             gg_trg_Battle_Stations_Q   = null
    trigger             gg_trg_Rally_Point_Event   = null
    trigger             gg_trg_Rally_Point_Q       = null
    trigger             gg_trg_Repair_Event        = null
    trigger             gg_trg_Repair_Q            = null
    trigger             gg_trg_Altar_Event         = null
    trigger             gg_trg_Altar_Q             = null
    trigger             gg_trg_Revival_Event       = null
    trigger             gg_trg_Revival_Q           = null
    trigger             gg_trg_BridgeAttacker_At_Tower01 = null
    trigger             gg_trg_BridgeAttacker_At_Tower02 = null
    trigger             gg_trg_BridgeAttacker_At_Tower03 = null
    trigger             gg_trg_BridgeAttacker_Die  = null
    trigger             gg_trg_BridgeAttackers_Dead_Q = null
    trigger             gg_trg_BridgeAttacker_Grunt_Line = null
    trigger             gg_trg_Gate_Hint           = null
    trigger             gg_trg_Gate_Hint_Q         = null
    trigger             gg_trg_Prison01_Check      = null
    trigger             gg_trg_Cage01_Destroyed    = null
    trigger             gg_trg_Cage01_Rescue       = null
    trigger             gg_trg_Prison02_Check      = null
    trigger             gg_trg_Cage02_Destroyed    = null
    trigger             gg_trg_Cage02_Rescue       = null
    trigger             gg_trg_Prison03_Check      = null
    trigger             gg_trg_Cage03A_Destroyed   = null
    trigger             gg_trg_Cage03B_Destroyed   = null
    trigger             gg_trg_Cage03C_Destroyed   = null
    trigger             gg_trg_Cage03A_Rescue      = null
    trigger             gg_trg_Cage03B_Rescue      = null
    trigger             gg_trg_Cage03C_Rescue      = null
    trigger             gg_trg_Shaman_Acquired     = null
    trigger             gg_trg_Shaman_Acquired_Q   = null
    trigger             gg_trg_Subgroup_Event      = null
    trigger             gg_trg_Subgroup_Q          = null
    trigger             gg_trg_GuardTower_Dies     = null
    trigger             gg_trg_GuardTowers_Found   = null
    trigger             gg_trg_GuardTowers_Found_Q = null
    unit                gg_unit_ngol_0002          = null
    unit                gg_unit_nbsp_0008          = null
    unit                gg_unit_nbsp_0007          = null
    unit                gg_unit_hgtw_0010          = null
    unit                gg_unit_hgtw_0011          = null
    unit                gg_unit_hgtw_0012          = null
    unit                gg_unit_hfoo_0016          = null
    unit                gg_unit_ogru_0036          = null
    unit                gg_unit_hfoo_0018          = null
    unit                gg_unit_ogre_0019          = null
    unit                gg_unit_opeo_0021          = null
    unit                gg_unit_ogru_0028          = null
    unit                gg_unit_opeo_0020          = null
    unit                gg_unit_opeo_0022          = null
    unit                gg_unit_opeo_0029          = null
    unit                gg_unit_Ogrh_0030          = null
    unit                gg_unit_ogru_0031          = null
    unit                gg_unit_nmed_0032          = null
    unit                gg_unit_ogru_0034          = null
    unit                gg_unit_ogru_0035          = null
    unit                gg_unit_hcth_0017          = null
    unit                gg_unit_hfoo_0037          = null
    unit                gg_unit_hfoo_0038          = null
    unit                gg_unit_hpea_0039          = null
    unit                gg_unit_hpea_0040          = null
    unit                gg_unit_nbsp_0006          = null
    unit                gg_unit_nvul_0067          = null
    unit                gg_unit_nvul_0069          = null
    unit                gg_unit_nvul_0070          = null
    unit                gg_unit_nvul_0071          = null
    unit                gg_unit_ogru_0072          = null
    unit                gg_unit_ogru_0073          = null
    unit                gg_unit_ogru_0074          = null
    unit                gg_unit_ogru_0075          = null
    unit                gg_unit_ogru_0076          = null
    unit                gg_unit_oalt_0078          = null
    destructable        gg_dest_LT05_0140          = null
    destructable        gg_dest_LOcg_0778          = null
    destructable        gg_dest_LOcg_0777          = null
    destructable        gg_dest_LOcg_0776          = null
    destructable        gg_dest_LOcg_0774          = null
    destructable        gg_dest_LTg2_0298          = null
    destructable        gg_dest_LTg1_0299          = null
    destructable        gg_dest_LOcg_2234          = null
    destructable        gg_dest_LOcg_2235          = null
endglobals

function InitGlobals takes nothing returns nothing
    set udg_AP1_Player                             = Player(0)
    set udg_APG1_Player                            = bj_FORCE_PLAYER[0]
    set udg_GameOver                               = false
    set udg_Thrall                                 = null
    set udg_IntroCancelled                         = false
    set udg_EndCancelled                           = false
    set udg_IntroGrunt                             = null
    set udg_IntroPeon                              = null
    set udg_Bridge                                 = null
    set udg_QuestBaseCreated                       = false
    set udg_QuestGromCreated                       = false
    set udg_GoldMine                               = null
    set udg_MorePeons                              = CreateGroup()
    set udg_G3MoreTimer                            = CreateTimer()
    set udg_MorePeon01                             = null
    set udg_MorePeon02                             = null
    set udg_MorePeon03                             = null
    set udg_HeyLookR                               = 60.00
    set udg_HeyLookG                               = 80.00
    set udg_HeyLookB                               = 100.00
    set udg_HeyLookA                               = 0.00
    set udg_GreatHall                              = null
    set udg_T3TrainingPeonTimer                    = CreateTimer()
    set udg_G4StockpileTimer                       = CreateTimer()
    set udg_ActAbortPostDelay                      = 0.80
    set udg_MorePeon01Given                        = false
    set udg_MorePeon02Given                        = false
    set udg_MorePeon03Given                        = false
    set udg_GuardTower01                           = null
    set udg_GuardTower02                           = null
    set udg_GuardTower03                           = null
    set udg_Grom                                   = null
    set udg_Medivh                                 = null
    set udg_EndGruntLead                           = null
    set udg_CageGrom                               = null
    set udg_EndGrunt01                             = null
    set udg_EndGrunt02                             = null
    set udg_EndGrunt03                             = null
    set udg_P4_OtherOrcs                           = Player(3)
    set udg_P2_Alliance                            = Player(1)
    set udg_BridgeCancelled                        = false
    set udg_BridgeCaptain                          = null
    set udg_BridgeSelection                        = CreateGroup()
    set udg_BridgeGuard01                          = null
    set udg_BridgeGuard02                          = null
    set udg_BridgeGrunt                            = null
    set udg_BridgeGuard03                          = null
    set udg_BridgeGuard04                          = null
    set udg_BridgeAttackers                        = CreateGroup()
    set udg_BridgePeasant01                        = null
    set udg_BridgePeasant02                        = null
    set udg_B2ClickBuildTimer                      = CreateTimer()
    set udg_B3ClickBurrowTimer                     = CreateTimer()
    set udg_ConstructedUnit                        = null
    set udg_InitialRallySet                        = false
    set udg_ActDoneDelay                           = 0.50
    set udg_ActAbortPreDelay                       = 0.20
    set udg_TempUnitGroup                          = CreateGroup()
    set udg_L_LumberLinesDone                      = false
    set udg_B_BurrowLinesDone                      = false
    set udg_QuestDelay                             = bj_QUEUE_DELAY_QUEST
    set udg_HintDelay                              = bj_QUEUE_DELAY_HINT
    set udg_LumberHarvesters                       = CreateGroup()
    set udg_WarMill                                = null
    set udg_U_UpgradeDone                          = false
    set udg_M_WarMillDone                          = false
    set udg_G_HarvestingGoldDone                   = true
    set udg_P_TrainingPeonsDone                    = false
    set udg_K_BuildBarracksDone                    = false
    set udg_Barracks                               = null
    set udg_GruntCount                             = 0
    set udg_LeaderboardExists                      = false
    set udg_TempGrunt                              = null
    set udg_BurrowBuilder                          = null
    set udg_Gate01                                 = null
    set udg_Gate02                                 = null
    set udg_Cage01                                 = null
    set udg_Cage02                                 = null
    set udg_Cage03A                                = null
    set udg_Cage03B                                = null
    set udg_Cage03C                                = null
    set udg_Prison01Guards                         = CreateGroup()
    set udg_Prison02Guards                         = CreateGroup()
    set udg_Prison03Guards                         = CreateGroup()
    set udg_SelectedCasterTypes                    = 0
    set udg_CombatDetectionTimer                   = CreateTimer()
    set udg_InCombat                               = false
    set udg_EndGrunt04                             = null
    set udg_EndGrunt05                             = null
    set udg_EndGrunt06                             = null
    set udg_EndGrunt07                             = null
    set udg_EndGrunt08                             = null
    set udg_EndGrunts                              = CreateGroup()
    set udg_Altar                                  = null
    set udg_BridgeHiddenUnits                      = CreateGroup()
    set udg_DamagedBuildings                       = CreateGroup()
    set udg_DamagedBuilding                        = null
endfunction

//***************************************************************************
//*
//*  Sounds
//*
//***************************************************************************

function InitSounds takes nothing returns nothing
    set gg_snd_GruntReady1 = CreateSound( "Units\\Orc\\Grunt\\GruntReady1.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_GruntReady1, "GruntReady" )
    call SetSoundDuration( gg_snd_GruntReady1, 1808 )
    set gg_snd_GruntWarcry1 = CreateSound( "Units\\Orc\\Grunt\\GruntWarcry1.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_GruntWarcry1, "GruntWarcry" )
    call SetSoundDuration( gg_snd_GruntWarcry1, 1594 )
    set gg_snd_NorthrendBattleshipLoop1 = CreateSound( "Sound\\Ambient\\DoodadEffects\\NorthrendBattleshipLoop1.wav", true, false, true, 10, 10, "DoodadsEAX" )
    call SetSoundParamsFromLabel( gg_snd_NorthrendBattleshipLoop1, "BattleshipLoop" )
    call SetSoundDuration( gg_snd_NorthrendBattleshipLoop1, 2990 )
    set gg_snd_OrcBuildingDeathSmall1 = CreateSound( "Sound\\Buildings\\Death\\OrcBuildingDeathSmall1.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_OrcBuildingDeathSmall1, "DeathOrcSmallBuilding" )
    call SetSoundDuration( gg_snd_OrcBuildingDeathSmall1, 3063 )
    set gg_snd_ShamanYes3 = CreateSound( "Units\\Orc\\Shaman\\ShamanYes3.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_ShamanYes3, "ShamanYes" )
    call SetSoundDuration( gg_snd_ShamanYes3, 1858 )
    set gg_snd_ShamanYesAttack2 = CreateSound( "Units\\Orc\\Shaman\\ShamanYesAttack2.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_ShamanYesAttack2, "ShamanYesAttack" )
    call SetSoundDuration( gg_snd_ShamanYesAttack2, 2728 )
    set gg_snd_T01Narrator07 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Narrator07.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Narrator07, "T01Narrator07" )
    call SetSoundDuration( gg_snd_T01Narrator07, 8333 )
    set gg_snd_T02Captain045 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Captain045.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Captain045, "T02Captain045" )
    call SetSoundDuration( gg_snd_T02Captain045, 8856 )
    set gg_snd_T02Grom060 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Grom060.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Grom060, "T02Grom060" )
    call SetSoundDuration( gg_snd_T02Grom060, 5799 )
    set gg_snd_T02Grom062 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Grom062.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Grom062, "T02Grom062" )
    call SetSoundDuration( gg_snd_T02Grom062, 4806 )
    set gg_snd_T02Grom063 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Grom063.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Grom063, "T02Grom063" )
    call SetSoundDuration( gg_snd_T02Grom063, 5825 )
    set gg_snd_T02Grunt002 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Grunt002.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Grunt002, "T02Grunt002" )
    call SetSoundDuration( gg_snd_T02Grunt002, 5512 )
    set gg_snd_T02Grunt004 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Grunt004.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Grunt004, "T02Grunt004" )
    call SetSoundDuration( gg_snd_T02Grunt004, 1097 )
    set gg_snd_T02Grunt006 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Grunt006.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Grunt006, "T02Grunt006" )
    call SetSoundDuration( gg_snd_T02Grunt006, 3866 )
    set gg_snd_T02Grunt046 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Grunt046.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Grunt046, "T02Grunt046" )
    call SetSoundDuration( gg_snd_T02Grunt046, 4572 )
    set gg_snd_T02Grunt049 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Grunt049.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Grunt049, "T02Grunt049" )
    call SetSoundDuration( gg_snd_T02Grunt049, 2638 )
    set gg_snd_T02Grunt056 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Grunt056.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Grunt056, "T02Grunt056" )
    call SetSoundDuration( gg_snd_T02Grunt056, 5773 )
    set gg_snd_T02Grunt065 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Grunt065.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Grunt065, "T02Grunt065" )
    call SetSoundDuration( gg_snd_T02Grunt065, 4049 )
    set gg_snd_T02Medivh066 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Medivh066.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Medivh066, "T02Medivh066" )
    call SetSoundDuration( gg_snd_T02Medivh066, 11311 )
    set gg_snd_T02Narrator008 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator008.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator008, "T02Narrator008" )
    call SetSoundDuration( gg_snd_T02Narrator008, 8490 )
    set gg_snd_T02Narrator009 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator009.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator009, "T02Narrator009" )
    call SetSoundDuration( gg_snd_T02Narrator009, 2847 )
    set gg_snd_T02Narrator010 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator010.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator010, "T02Narrator010" )
    call SetSoundDuration( gg_snd_T02Narrator010, 4154 )
    set gg_snd_T02Narrator013 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator013.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator013, "T02Narrator013" )
    call SetSoundDuration( gg_snd_T02Narrator013, 4154 )
    set gg_snd_T02Narrator014 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator014.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator014, "T02Narrator014" )
    call SetSoundDuration( gg_snd_T02Narrator014, 7288 )
    set gg_snd_T02Narrator015 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator015.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator015, "T02Narrator015" )
    call SetSoundDuration( gg_snd_T02Narrator015, 6557 )
    set gg_snd_T02Narrator016 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator016.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator016, "T02Narrator016" )
    call SetSoundDuration( gg_snd_T02Narrator016, 10162 )
    set gg_snd_T02Narrator018 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator018.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator018, "T02Narrator018" )
    call SetSoundDuration( gg_snd_T02Narrator018, 6296 )
    set gg_snd_T02Narrator019 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator019.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator019, "T02Narrator019" )
    call SetSoundDuration( gg_snd_T02Narrator019, 2821 )
    set gg_snd_T02Narrator020 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator020.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator020, "T02Narrator020" )
    call SetSoundDuration( gg_snd_T02Narrator020, 9300 )
    set gg_snd_T02Narrator021 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator021.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator021, "T02Narrator021" )
    call SetSoundDuration( gg_snd_T02Narrator021, 7680 )
    set gg_snd_T02Narrator022 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator022.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator022, "T02Narrator022" )
    call SetSoundDuration( gg_snd_T02Narrator022, 9326 )
    set gg_snd_T02Narrator023 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator023.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator023, "T02Narrator023" )
    call SetSoundDuration( gg_snd_T02Narrator023, 2847 )
    set gg_snd_T02Narrator024 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator024.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator024, "T02Narrator024" )
    call SetSoundDuration( gg_snd_T02Narrator024, 3082 )
    set gg_snd_T02Narrator025 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator025.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator025, "T02Narrator025" )
    call SetSoundDuration( gg_snd_T02Narrator025, 7288 )
    set gg_snd_T02Narrator027 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator027.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator027, "T02Narrator027" )
    call SetSoundDuration( gg_snd_T02Narrator027, 3161 )
    set gg_snd_T02Narrator028 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator028.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator028, "T02Narrator028" )
    call SetSoundDuration( gg_snd_T02Narrator028, 4441 )
    set gg_snd_T02Narrator030 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator030.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator030, "T02Narrator030" )
    call SetSoundDuration( gg_snd_T02Narrator030, 4937 )
    set gg_snd_T02Narrator031 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator031.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator031, "T02Narrator031" )
    call SetSoundDuration( gg_snd_T02Narrator031, 4989 )
    set gg_snd_T02Narrator032 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator032.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator032, "T02Narrator032" )
    call SetSoundDuration( gg_snd_T02Narrator032, 4258 )
    set gg_snd_T02Narrator033 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator033.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator033, "T02Narrator033" )
    call SetSoundDuration( gg_snd_T02Narrator033, 7419 )
    set gg_snd_T02Narrator034 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator034.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator034, "T02Narrator034" )
    call SetSoundDuration( gg_snd_T02Narrator034, 5982 )
    set gg_snd_T02Narrator035 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator035.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator035, "T02Narrator035" )
    call SetSoundDuration( gg_snd_T02Narrator035, 9221 )
    set gg_snd_T02Narrator036 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator036.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator036, "T02Narrator036" )
    call SetSoundDuration( gg_snd_T02Narrator036, 7889 )
    set gg_snd_T02Narrator037 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator037.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator037, "T02Narrator037" )
    call SetSoundDuration( gg_snd_T02Narrator037, 8072 )
    set gg_snd_T02Narrator039 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator039.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator039, "T02Narrator039" )
    call SetSoundDuration( gg_snd_T02Narrator039, 8176 )
    set gg_snd_T02Narrator040 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator040.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator040, "T02Narrator040" )
    call SetSoundDuration( gg_snd_T02Narrator040, 6269 )
    set gg_snd_T02Narrator041 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator041.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator041, "T02Narrator041" )
    call SetSoundDuration( gg_snd_T02Narrator041, 4859 )
    set gg_snd_T02Narrator042 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator042.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator042, "T02Narrator042" )
    call SetSoundDuration( gg_snd_T02Narrator042, 2847 )
    set gg_snd_T02Narrator043 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator043.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator043, "T02Narrator043" )
    call SetSoundDuration( gg_snd_T02Narrator043, 3056 )
    set gg_snd_T02Narrator044 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator044.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator044, "T02Narrator044" )
    call SetSoundDuration( gg_snd_T02Narrator044, 3265 )
    set gg_snd_T02Narrator050 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator050.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator050, "T02Narrator050" )
    call SetSoundDuration( gg_snd_T02Narrator050, 4232 )
    set gg_snd_T02Narrator051 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator051.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator051, "T02Narrator051" )
    call SetSoundDuration( gg_snd_T02Narrator051, 9613 )
    set gg_snd_T02Narrator053 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator053.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator053, "T02Narrator053" )
    call SetSoundDuration( gg_snd_T02Narrator053, 9587 )
    set gg_snd_T02Narrator103 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator103.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator103, "T02Narrator103" )
    call SetSoundDuration( gg_snd_T02Narrator103, 8882 )
    set gg_snd_T02Narrator104 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator104.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator104, "T02Narrator104" )
    call SetSoundDuration( gg_snd_T02Narrator104, 7288 )
    set gg_snd_T02Narrator105 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator105.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator105, "T02Narrator105" )
    call SetSoundDuration( gg_snd_T02Narrator105, 8046 )
    set gg_snd_T02Narrator111 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator111.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator111, "T02Narrator111" )
    call SetSoundDuration( gg_snd_T02Narrator111, 13035 )
    set gg_snd_T02Narrator112 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator112.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator112, "T02Narrator112" )
    call SetSoundDuration( gg_snd_T02Narrator112, 12356 )
    set gg_snd_T02Narrator114 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Narrator114.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Narrator114, "T02Narrator114" )
    call SetSoundDuration( gg_snd_T02Narrator114, 10109 )
    set gg_snd_T02Thrall001 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Thrall001.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Thrall001, "T02Thrall001" )
    call SetSoundDuration( gg_snd_T02Thrall001, 9874 )
    set gg_snd_T02Thrall003 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Thrall003.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Thrall003, "T02Thrall003" )
    call SetSoundDuration( gg_snd_T02Thrall003, 6922 )
    set gg_snd_T02Thrall005 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Thrall005.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Thrall005, "T02Thrall005" )
    call SetSoundDuration( gg_snd_T02Thrall005, 8411 )
    set gg_snd_T02Thrall007 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Thrall007.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Thrall007, "T02Thrall007" )
    call SetSoundDuration( gg_snd_T02Thrall007, 3370 )
    set gg_snd_T02Thrall047 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Thrall047.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Thrall047, "T02Thrall047" )
    call SetSoundDuration( gg_snd_T02Thrall047, 10554 )
    set gg_snd_T02Thrall057 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Thrall057.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Thrall057, "T02Thrall057" )
    call SetSoundDuration( gg_snd_T02Thrall057, 3840 )
    set gg_snd_T02Thrall059 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Thrall059.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Thrall059, "T02Thrall059" )
    call SetSoundDuration( gg_snd_T02Thrall059, 2325 )
    set gg_snd_T02Thrall061 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Thrall061.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Thrall061, "T02Thrall061" )
    call SetSoundDuration( gg_snd_T02Thrall061, 5904 )
    set gg_snd_T02Thrall064 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial02\\T02Thrall064.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T02Thrall064, "T02Thrall064" )
    call SetSoundDuration( gg_snd_T02Thrall064, 5120 )
    set gg_snd_WaterStreamLoop1 = CreateSound( "Sound\\Ambient\\DoodadEffects\\WaterStreamLoop1.wav", true, true, true, 10, 10, "DoodadsEAX" )
    call SetSoundParamsFromLabel( gg_snd_WaterStreamLoop1, "StreamLoop" )
    call SetSoundDuration( gg_snd_WaterStreamLoop1, 2009 )
    set gg_snd_WaterWaterFallLoop1 = CreateSound( "Sound\\Ambient\\DoodadEffects\\WaterWaterFallLoop1.wav", true, true, true, 10, 10, "DoodadsEAX" )
    call SetSoundParamsFromLabel( gg_snd_WaterWaterFallLoop1, "WaterfallLoop" )
    call SetSoundDuration( gg_snd_WaterWaterFallLoop1, 1022 )
    set gg_snd_WaterWavesLoop1 = CreateSound( "Sound\\Ambient\\DoodadEffects\\WaterWavesLoop1.wav", true, true, true, 10, 10, "DoodadsEAX" )
    call SetSoundParamsFromLabel( gg_snd_WaterWavesLoop1, "WavesLoop" )
    call SetSoundDuration( gg_snd_WaterWavesLoop1, 7445 )
endfunction

//***************************************************************************
//*
//*  Destructable Objects
//*
//***************************************************************************

function CreateAllDestructables takes nothing returns nothing
    local real life
    set gg_dest_LOcg_0774 = CreateDestructable( 'LOcg', -3904.0, -6592.0, 307.000, 1.026, 0 )
    set gg_dest_LOcg_0778 = CreateDestructable( 'LOcg', -4928.0, -2176.0, 285.999, 0.900, 0 )
    set gg_dest_LOcg_0777 = CreateDestructable( 'LOcg', 1664.0, -3328.0, 205.700, 1.068, 0 )
    set gg_dest_LOcg_0776 = CreateDestructable( 'LOcg', 192.0, -6848.0, 190.975, 1.000, 0 )
    set gg_dest_LOcg_2235 = CreateDestructable( 'LOcg', -4096.0, -6720.0, 340.800, 1.026, 0 )
    set gg_dest_LOcg_2234 = CreateDestructable( 'LOcg', -3968.0, -6912.0, 26.705, 1.026, 0 )
    set gg_dest_LT05_0140 = CreateDeadDestructableZ( 'LT05', 5440.0, -4224.0, 198.4, 0.000, 1.000, 0 )
    set gg_dest_LTg1_0299 = CreateDestructable( 'LTg1', -3648.0, -3968.0, 270.000, 0.900, 0 )
    set gg_dest_LTg2_0298 = CreateDestructable( 'LTg2', 2208.0, -5856.0, 270.000, 1.000, 0 )
endfunction

//***************************************************************************
//*
//*  Dropped Unit Items
//*
//***************************************************************************

function Unit000060_DropItems takes nothing returns nothing
    local unit trigUnit
    local integer itemID

    set trigUnit = GetTriggerUnit()
    if (not IsUnitHidden(trigUnit)) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'shea', 100 )
        set itemID = RandomDistChoose(  )
        call UnitDropItem( trigUnit, itemID )

    endif

    call DestroyTrigger(GetTriggeringTrigger())
endfunction


//***************************************************************************
//*
//*  Unit Creation
//*
//***************************************************************************

//===========================================================================
function CreateBuildingsForPlayer0 takes nothing returns nothing
    local player p = Player(0)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'owtw', 6016.0, -3392.0, 270.000 )
    set u = CreateUnit( p, 'owtw', 5440.0, -1728.0, 270.000 )
    set u = CreateUnit( p, 'owtw', 3968.0, -640.0, 270.000 )
    set gg_unit_ogre_0019 = CreateUnit( p, 'ogre', 128.0, 1280.0, 270.000 )
    set u = CreateUnit( p, 'otrb', 160.0, 1760.0, 270.000 )
    set gg_unit_oalt_0078 = CreateUnit( p, 'oalt', 288.0, 736.0, 270.000 )
    set u = CreateUnit( p, 'owtw', 6336.0, -3712.0, 270.000 )
endfunction

//===========================================================================
function CreateUnitsForPlayer0 takes nothing returns nothing
    local player p = Player(0)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_opeo_0021 = CreateUnit( p, 'opeo', 149.5, 1495.1, 356.079 )
    set gg_unit_ogru_0028 = CreateUnit( p, 'ogru', 177.5, 980.1, 354.109 )
endfunction

//===========================================================================
function CreateBuildingsForPlayer1 takes nothing returns nothing
    local player p = Player(1)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_hgtw_0010 = CreateUnit( p, 'hgtw', -3712.0, -3200.0, 270.000 )
    set gg_unit_hgtw_0011 = CreateUnit( p, 'hgtw', -2944.0, -2560.0, 270.000 )
    set gg_unit_hgtw_0012 = CreateUnit( p, 'hgtw', -4480.0, -2560.0, 270.000 )
    set u = CreateUnit( p, 'hwtw', 2688.0, -5824.0, 270.000 )
    set u = CreateUnit( p, 'hwtw', 2112.0, -6400.0, 270.000 )
    set u = CreateUnit( p, 'hwtw', 5440.0, -5056.0, 270.000 )
    set u = CreateUnit( p, 'hwtw', 4544.0, -4352.0, 270.000 )
endfunction

//===========================================================================
function CreateUnitsForPlayer1 takes nothing returns nothing
    local player p = Player(1)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_hfoo_0016 = CreateUnit( p, 'hfoo', 4885.8, -4680.7, 56.994 )
    set gg_unit_hcth_0017 = CreateUnit( p, 'hcth', 5025.8, -4655.1, 39.328 )
    set gg_unit_hfoo_0018 = CreateUnit( p, 'hfoo', 5008.8, -4806.3, 40.830 )
    set u = CreateUnit( p, 'hfoo', 1288.8, -3687.7, 112.866 )
    set u = CreateUnit( p, 'hfoo', 310.3, -6331.1, 257.770 )
    set u = CreateUnit( p, 'hfoo', -1988.3, -6915.3, 324.125 )
    set u = CreateUnit( p, 'hfoo', -3461.9, -6659.3, 204.330 )
    set u = CreateUnit( p, 'hfoo', -3621.7, -6548.1, 235.159 )
    set gg_unit_hfoo_0037 = CreateUnit( p, 'hfoo', 4895.5, -4928.3, 55.097 )
    set gg_unit_hfoo_0038 = CreateUnit( p, 'hfoo', 4770.9, -4807.0, 55.097 )
    set gg_unit_hpea_0039 = CreateUnit( p, 'hpea', 4881.6, -4417.1, 5.449 )
    set gg_unit_hpea_0040 = CreateUnit( p, 'hpea', 5218.9, -4750.2, 34.734 )
    set u = CreateUnit( p, 'hfoo', 1002.5, -3575.0, 20.155 )
    set u = CreateUnit( p, 'hkni', -3976.7, -4224.1, 265.367 )
    set u = CreateUnit( p, 'hkni', -3261.5, -4233.8, 268.591 )
    set u = CreateUnit( p, 'hrif', -1680.1, -5888.2, 71.945 )
    set u = CreateUnit( p, 'hrif', -1503.2, -5857.8, 99.811 )
endfunction

//===========================================================================
function CreateUnitsForPlayer3 takes nothing returns nothing
    local player p = Player(3)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_opeo_0020 = CreateUnit( p, 'opeo', 704.2, 1247.2, 270.283 )
    set gg_unit_opeo_0022 = CreateUnit( p, 'opeo', 671.5, 1312.1, 237.087 )
    set gg_unit_opeo_0029 = CreateUnit( p, 'opeo', 736.7, 1311.7, 305.150 )
    set gg_unit_Ogrh_0030 = CreateUnit( p, 'Ogrh', -4846.2, -2283.1, 292.407 )
    call SetHeroLevel( gg_unit_Ogrh_0030, 2, false )
    call SelectHeroSkill( gg_unit_Ogrh_0030, 'AOmi' )
    call SelectHeroSkill( gg_unit_Ogrh_0030, 'AOcr' )
    call UnitAddItemToSlotById( gg_unit_Ogrh_0030, 'phlt', 0 )
    call UnitAddItemToSlotById( gg_unit_Ogrh_0030, 'phlt', 1 )
    call UnitAddItemToSlotById( gg_unit_Ogrh_0030, 'phlt', 2 )
    call UnitAddItemToSlotById( gg_unit_Ogrh_0030, 'phlt', 3 )
    call UnitAddItemToSlotById( gg_unit_Ogrh_0030, 'phlt', 4 )
    call UnitAddItemToSlotById( gg_unit_Ogrh_0030, 'phlt', 5 )
    set gg_unit_ogru_0031 = CreateUnit( p, 'ogru', -2797.6, -2578.6, 149.492 )
    set gg_unit_ogru_0034 = CreateUnit( p, 'ogru', -3275.6, -2963.0, 135.000 )
    set gg_unit_ogru_0035 = CreateUnit( p, 'ogru', -3117.5, -2898.1, 135.000 )
    set gg_unit_ogru_0036 = CreateUnit( p, 'ogru', -2956.2, -2833.5, 135.000 )
    set gg_unit_ogru_0072 = CreateUnit( p, 'ogru', -2793.7, -2764.5, 135.000 )
    set gg_unit_ogru_0073 = CreateUnit( p, 'ogru', -2927.7, -2965.3, 135.000 )
    set gg_unit_ogru_0074 = CreateUnit( p, 'ogru', -3244.1, -3100.1, 135.000 )
    set gg_unit_ogru_0075 = CreateUnit( p, 'ogru', -3088.1, -3025.9, 135.000 )
    set gg_unit_ogru_0076 = CreateUnit( p, 'ogru', -2764.3, -2898.7, 135.000 )
endfunction

//===========================================================================
function CreateNeutralHostile takes nothing returns nothing
    local player p = Player(PLAYER_NEUTRAL_AGGRESSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'ngnw', 6108.3, 1756.5, 236.690 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerAddAction( t, function Unit000060_DropItems )
    set u = CreateUnit( p, 'ngna', 4515.4, 1509.0, 290.048 )
    set u = CreateUnit( p, 'ngno', 4581.9, 1349.2, 228.283 )
    set u = CreateUnit( p, 'ngno', 5904.6, 1757.0, 251.573 )
    set u = CreateUnit( p, 'ngno', 6120.0, 1528.8, 18.809 )
    set u = CreateUnit( p, 'ngno', 5940.4, 1562.1, 46.974 )
endfunction

//===========================================================================
function CreateNeutralPassiveBuildings takes nothing returns nothing
    local player p = Player(PLAYER_NEUTRAL_PASSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_ngol_0002 = CreateUnit( p, 'ngol', 768.0, 1728.0, 270.000 )
    call SetResourceAmount( gg_unit_ngol_0002, 30000 )
    set u = CreateUnit( p, 'ncp3', -3776.0, -2624.0, 270.000 )
    set u = CreateUnit( p, 'ntn2', 1056.0, -3296.0, 270.000 )
    set u = CreateUnit( p, 'nten', 800.0, -3552.0, 270.000 )
    set u = CreateUnit( p, 'ntn2', 800.0, -3744.0, 270.000 )
    set u = CreateUnit( p, 'ntn2', -608.0, -5856.0, 270.000 )
    set u = CreateUnit( p, 'nten', -544.0, -5600.0, 270.000 )
    set u = CreateUnit( p, 'ntn2', 480.0, -6432.0, 270.000 )
    set u = CreateUnit( p, 'ngnh', 6240.0, 2144.0, 270.000 )
    set u = CreateUnit( p, 'ngt2', 5856.0, 2144.0, 270.000 )
    set u = CreateUnit( p, 'ngnh', 6304.0, 1504.0, 270.000 )
endfunction

//===========================================================================
function CreateNeutralPassive takes nothing returns nothing
    local player p = Player(PLAYER_NEUTRAL_PASSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_nbsp_0006 = CreateUnit( p, 'nbsp', -3032.0, -1122.9, 204.569 )
    set gg_unit_nbsp_0007 = CreateUnit( p, 'nbsp', -3448.6, -862.6, 139.053 )
    set gg_unit_nbsp_0008 = CreateUnit( p, 'nbsp', -3903.1, -1219.6, 132.135 )
    set gg_unit_nmed_0032 = CreateUnit( p, 'nmed', -2444.6, -465.7, 169.943 )
    set u = CreateUnit( p, 'nshe', 1736.3, -7285.7, 160.559 )
    set u = CreateUnit( p, 'nshe', 3865.3, -5804.1, 355.660 )
    set u = CreateUnit( p, 'nshe', 4098.7, -5604.7, 76.654 )
    set u = CreateUnit( p, 'nshe', 2915.2, -7226.6, 308.044 )
    set gg_unit_nvul_0067 = CreateUnit( p, 'nvul', 571.3, 2790.3, 72.380 )
    set u = CreateUnit( p, 'npig', 1391.0, -4777.6, 165.745 )
    set gg_unit_nvul_0069 = CreateUnit( p, 'nvul', 1173.9, 2329.5, 39.904 )
    set gg_unit_nvul_0070 = CreateUnit( p, 'nvul', 1684.5, 2179.1, 90.585 )
    set gg_unit_nvul_0071 = CreateUnit( p, 'nvul', 1745.1, 1889.3, 197.200 )
endfunction

//===========================================================================
function CreatePlayerBuildings takes nothing returns nothing
    call CreateBuildingsForPlayer0(  )
    call CreateBuildingsForPlayer1(  )
endfunction

//===========================================================================
function CreatePlayerUnits takes nothing returns nothing
    call CreateUnitsForPlayer0(  )
    call CreateUnitsForPlayer1(  )
    call CreateUnitsForPlayer3(  )
endfunction

//===========================================================================
function CreateAllUnits takes nothing returns nothing
    call CreateNeutralPassiveBuildings(  )
    call CreatePlayerBuildings(  )
    call CreateNeutralHostile(  )
    call CreateNeutralPassive(  )
    call CreatePlayerUnits(  )
endfunction

//***************************************************************************
//*
//*  Regions
//*
//***************************************************************************

function CreateRegions takes nothing returns nothing
    local weathereffect we

    set gg_rct_BridgeCaptiain_MoveTo = Rect( 5408.0, -4256.0, 5536.0, -4128.0 )
    set gg_rct_BridgeGuard01_MoveTo = Rect( 5248.0, -4320.0, 5376.0, -4192.0 )
    set gg_rct_BridgeGuard02_MoveTo = Rect( 5344.0, -4416.0, 5472.0, -4288.0 )
    set gg_rct_BridgeGuard03_MoveTo = Rect( 5152.0, -4416.0, 5280.0, -4288.0 )
    set gg_rct_BridgeGuard04_MoveTo = Rect( 5248.0, -4512.0, 5376.0, -4384.0 )
    set gg_rct_BridgePeasant01_MoveTo = Rect( 3776.0, -5440.0, 3872.0, -5344.0 )
    set gg_rct_BridgePeasant02_MoveTo = Rect( 3840.0, -5568.0, 3936.0, -5472.0 )
    set gg_rct_Cage01_MoveTo = Rect( 1408.0, -3584.0, 1536.0, -3456.0 )
    set gg_rct_Cage02_MoveTo = Rect( -96.0, -6720.0, 32.0, -6592.0 )
    set gg_rct_Cage03A_MoveTo = Rect( -3680.0, -6560.0, -3552.0, -6432.0 )
    set gg_rct_Cage03B_MoveTo = Rect( -3840.0, -6624.0, -3712.0, -6496.0 )
    set gg_rct_Cage03C_MoveTo = Rect( -3744.0, -6752.0, -3616.0, -6624.0 )
    set gg_rct_End_Gate = Rect( -4352.0, -4480.0, -2944.0, -3456.0 )
    set gg_rct_End_Grom_MoveTo_01 = Rect( -4896.0, -2432.0, -4768.0, -2272.0 )
    set gg_rct_End_Grom_MoveTo_02 = Rect( -3808.0, -2176.0, -3680.0, -2048.0 )
    set gg_rct_End_Grom_Start = Rect( -4960.0, -2272.0, -4832.0, -2144.0 )
    set gg_rct_End_Thrall_MoveTo_01 = Rect( -4768.0, -2560.0, -4640.0, -2432.0 )
    set gg_rct_End_Thrall_MoveTo_02 = Rect( -3424.0, -2176.0, -3296.0, -2048.0 )
    set gg_rct_End_Thrall_Start = Rect( -4416.0, -3424.0, -4288.0, -3296.0 )
    set gg_rct_EndGrunt01_MoveTo = Rect( -3456.0, -2656.0, -3328.0, -2528.0 )
    set gg_rct_EndGrunt02_MoveTo = Rect( -3296.0, -2592.0, -3168.0, -2464.0 )
    set gg_rct_EndGrunt03_MoveTo = Rect( -3136.0, -2528.0, -3008.0, -2400.0 )
    set gg_rct_EndGrunt04_MoveTo = Rect( -2976.0, -2464.0, -2848.0, -2336.0 )
    set gg_rct_EndGrunt05_MoveTo = Rect( -3424.0, -2784.0, -3296.0, -2656.0 )
    set gg_rct_EndGrunt06_MoveTo = Rect( -3264.0, -2720.0, -3136.0, -2592.0 )
    set gg_rct_EndGrunt07_MoveTo = Rect( -3104.0, -2656.0, -2976.0, -2528.0 )
    set gg_rct_EndGrunt08_MoveTo = Rect( -2944.0, -2592.0, -2816.0, -2464.0 )
    set gg_rct_EndGruntLead_MoveTo = Rect( -3200.0, -2304.0, -3072.0, -2176.0 )
    set gg_rct_EndGrunts = Rect( -3328.0, -3200.0, -2688.0, -2688.0 )
    set gg_rct_GateHintA = Rect( 2304.0, -6144.0, 2944.0, -5504.0 )
    set gg_rct_GateHintB = Rect( 2048.0, -6400.0, 2688.0, -5760.0 )
    set gg_rct_GateHintC = Rect( 1792.0, -6656.0, 2432.0, -6016.0 )
    set gg_rct_GreatHall_RallyPoint = Rect( 384.0, 992.0, 448.0, 1056.0 )
    set gg_rct_IntroGrunt_Start = Rect( -64.0, 1504.0, 32.0, 1600.0 )
    set gg_rct_IntroGrunt_TurnsAway_Focus = Rect( 32.0, 1664.0, 96.0, 1728.0 )
    set gg_rct_IntroGrunt_WalkAway_Focus = Rect( -32.0, 896.0, 32.0, 960.0 )
    set gg_rct_IntroGrunt_WalkTo = Rect( 288.0, 1760.0, 384.0, 1856.0 )
    set gg_rct_IntroPeon_WalkTo = Rect( 480.0, 1280.0, 576.0, 1376.0 )
    set gg_rct_LookOverHere = Rect( -3552.0, -1440.0, -3328.0, -1056.0 )
    set gg_rct_Medivh_MoveTo = Rect( -928.0, -1984.0, -800.0, -1856.0 )
    set gg_rct_Prison01Guards = Rect( 896.0, -3840.0, 1408.0, -3328.0 )
    set gg_rct_Prison02Guards = Rect( 0.0, -6528.0, 512.0, -6016.0 )
    set gg_rct_Prison03Guards = Rect( -3840.0, -6912.0, -3328.0, -6400.0 )
    set gg_rct_Ship01A = Rect( -4832.0, -480.0, -4576.0, -256.0 )
    set gg_rct_Ship01B = Rect( -5664.0, 576.0, -5344.0, 800.0 )
    set gg_rct_Ship02A = Rect( -4032.0, -224.0, -3808.0, 0.0 )
    set gg_rct_Ship02B = Rect( -4096.0, 1216.0, -3904.0, 1408.0 )
    set gg_rct_Ship03A = Rect( -3968.0, -736.0, -3744.0, -512.0 )
    set gg_rct_Ship03B = Rect( -4608.0, 288.0, -4384.0, 512.0 )
    set gg_rct_StreamLoop = Rect( 5216.0, -4384.0, 5888.0, -3808.0 )
    call SetSoundPosition( gg_snd_WaterStreamLoop1, 5552.0, -4096.0, 256.0 )
    call RegisterStackedSound( gg_snd_WaterStreamLoop1, true, 672.0, 576.0 )
    set gg_rct_StreamLoop_Copy = Rect( 4928.0, -4672.0, 5600.0, -4096.0 )
    call SetSoundPosition( gg_snd_WaterStreamLoop1, 5264.0, -4384.0, 284.0 )
    call RegisterStackedSound( gg_snd_WaterStreamLoop1, true, 672.0, 576.0 )
    set gg_rct_Temp_Grunt_Start = Rect( 6144.0, -3328.0, 6400.0, -3072.0 )
    set gg_rct_Thrall_Faces_Grunt = Rect( 384.0, 1952.0, 480.0, 2048.0 )
    set gg_rct_Thrall_Look_At = Rect( 480.0, 2688.0, 576.0, 2720.0 )
    set gg_rct_Thrall_Start = Rect( 416.0, 1984.0, 512.0, 2080.0 )
    set gg_rct_Thrall_Start_Focus = Rect( 288.0, 2144.0, 352.0, 2208.0 )
    set gg_rct_Thrall_TurnsAway = Rect( 704.0, 960.0, 800.0, 1056.0 )
    set gg_rct_Thrall_TurnsAway_Focus = Rect( 864.0, 800.0, 928.0, 864.0 )
    set gg_rct_Vulture_Fly_To = Rect( -6816.0, -3968.0, -6592.0, -3680.0 )
    set gg_rct_Vulture_Fly_To_Two = Rect( -2656.0, 320.0, -2432.0, 576.0 )
    set gg_rct_WaterFallSoundFiller = Rect( 288.0, 1824.0, 448.0, 2016.0 )
    set gg_rct_WaveLoop = Rect( -4896.0, -2048.0, -4032.0, -1088.0 )
    call SetSoundPosition( gg_snd_WaterWavesLoop1, -4464.0, -1568.0, 261.1 )
    call RegisterStackedSound( gg_snd_WaterWavesLoop1, true, 864.0, 960.0 )
    set gg_rct_WaveLoop_Copy = Rect( -4096.0, -2048.0, -3232.0, -1344.0 )
    call SetSoundPosition( gg_snd_WaterWavesLoop1, -3664.0, -1696.0, 253.6 )
    call RegisterStackedSound( gg_snd_WaterWavesLoop1, true, 864.0, 704.0 )
    set gg_rct_WaveLoop_Copy_2 = Rect( -3424.0, -1952.0, -2560.0, -1248.0 )
    call SetSoundPosition( gg_snd_WaterWavesLoop1, -2992.0, -1600.0, 257.5 )
    call RegisterStackedSound( gg_snd_WaterWavesLoop1, true, 864.0, 704.0 )
    set gg_rct_WaveLoop_Copy_3 = Rect( -3296.0, -800.0, -2432.0, 32.0 )
    call SetSoundPosition( gg_snd_WaterWavesLoop1, -2864.0, -384.0, 362.6 )
    call RegisterStackedSound( gg_snd_WaterWavesLoop1, true, 864.0, 832.0 )
    set gg_rct_Waypoint01_Tower = Rect( 5888.0, -3840.0, 6400.0, -3328.0 )
    set gg_rct_Waypoint02_Tower = Rect( 5248.0, -1920.0, 5632.0, -1536.0 )
    set gg_rct_Waypoint03_Tower = Rect( 3840.0, -1152.0, 4224.0, -768.0 )
    set gg_rct_Waypoint04_GreatHall = Rect( -384.0, 768.0, 640.0, 1792.0 )
    set gg_rct_Bridge_Focus = Rect( 5760.0, -3904.0, 5888.0, -3776.0 )
endfunction

//***************************************************************************
//*
//*  Cameras
//*
//***************************************************************************

function CreateCameras takes nothing returns nothing

    set gg_cam_Bridge_Scene_Distant = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Bridge_Scene_Distant, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Bridge_Scene_Distant, CAMERA_FIELD_ROTATION, 251.7, 0.0 )
    call CameraSetupSetField( gg_cam_Bridge_Scene_Distant, CAMERA_FIELD_ANGLE_OF_ATTACK, 335.8, 0.0 )
    call CameraSetupSetField( gg_cam_Bridge_Scene_Distant, CAMERA_FIELD_TARGET_DISTANCE, 1280.6, 0.0 )
    call CameraSetupSetField( gg_cam_Bridge_Scene_Distant, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Bridge_Scene_Distant, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Bridge_Scene_Distant, CAMERA_FIELD_FARZ, 5307.2, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Bridge_Scene_Distant, 5654.5, -3956.3, 0.0 )

    set gg_cam_Bridge_Scene_Near = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Bridge_Scene_Near, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Bridge_Scene_Near, CAMERA_FIELD_ROTATION, 250.5, 0.0 )
    call CameraSetupSetField( gg_cam_Bridge_Scene_Near, CAMERA_FIELD_ANGLE_OF_ATTACK, 332.8, 0.0 )
    call CameraSetupSetField( gg_cam_Bridge_Scene_Near, CAMERA_FIELD_TARGET_DISTANCE, 1076.4, 0.0 )
    call CameraSetupSetField( gg_cam_Bridge_Scene_Near, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Bridge_Scene_Near, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Bridge_Scene_Near, CAMERA_FIELD_FARZ, 5307.2, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Bridge_Scene_Near, 5281.7, -4535.9, 0.0 )

    set gg_cam_Bridge_Scene_Side = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Bridge_Scene_Side, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Bridge_Scene_Side, CAMERA_FIELD_ROTATION, 103.5, 0.0 )
    call CameraSetupSetField( gg_cam_Bridge_Scene_Side, CAMERA_FIELD_ANGLE_OF_ATTACK, 327.7, 0.0 )
    call CameraSetupSetField( gg_cam_Bridge_Scene_Side, CAMERA_FIELD_TARGET_DISTANCE, 1346.4, 0.0 )
    call CameraSetupSetField( gg_cam_Bridge_Scene_Side, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Bridge_Scene_Side, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Bridge_Scene_Side, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Bridge_Scene_Side, 5283.2, -4519.9, 0.0 )

    set gg_cam_Camera_012 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Camera_012, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Camera_012, CAMERA_FIELD_ROTATION, 210.5, 0.0 )
    call CameraSetupSetField( gg_cam_Camera_012, CAMERA_FIELD_ANGLE_OF_ATTACK, 335.1, 0.0 )
    call CameraSetupSetField( gg_cam_Camera_012, CAMERA_FIELD_TARGET_DISTANCE, 3215.4, 0.0 )
    call CameraSetupSetField( gg_cam_Camera_012, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Camera_012, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Camera_012, CAMERA_FIELD_FARZ, 9743.6, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Camera_012, -4264.4, -1425.4, 0.0 )

    set gg_cam_Camera_013 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Camera_013, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Camera_013, CAMERA_FIELD_ROTATION, 221.2, 0.0 )
    call CameraSetupSetField( gg_cam_Camera_013, CAMERA_FIELD_ANGLE_OF_ATTACK, 340.8, 0.0 )
    call CameraSetupSetField( gg_cam_Camera_013, CAMERA_FIELD_TARGET_DISTANCE, 3215.4, 0.0 )
    call CameraSetupSetField( gg_cam_Camera_013, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Camera_013, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Camera_013, CAMERA_FIELD_FARZ, 9743.6, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Camera_013, -4264.4, -1425.4, 0.0 )

    set gg_cam_Gameplay = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Gameplay, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Gameplay, CAMERA_FIELD_ROTATION, 90.0, 0.0 )
    call CameraSetupSetField( gg_cam_Gameplay, CAMERA_FIELD_ANGLE_OF_ATTACK, 304.0, 0.0 )
    call CameraSetupSetField( gg_cam_Gameplay, CAMERA_FIELD_TARGET_DISTANCE, 1650.0, 0.0 )
    call CameraSetupSetField( gg_cam_Gameplay, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Gameplay, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Gameplay, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Gameplay, 572.0, 1352.3, 0.0 )

    set gg_cam_Thrall_Face_Waterfall = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Thrall_Face_Waterfall, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Thrall_Face_Waterfall, CAMERA_FIELD_ROTATION, 71.2, 0.0 )
    call CameraSetupSetField( gg_cam_Thrall_Face_Waterfall, CAMERA_FIELD_ANGLE_OF_ATTACK, 338.2, 0.0 )
    call CameraSetupSetField( gg_cam_Thrall_Face_Waterfall, CAMERA_FIELD_TARGET_DISTANCE, 928.4, 0.0 )
    call CameraSetupSetField( gg_cam_Thrall_Face_Waterfall, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Thrall_Face_Waterfall, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Thrall_Face_Waterfall, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Thrall_Face_Waterfall, 443.6, 2176.8, 0.0 )

    set gg_cam_Intro_Start = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_Start, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Start, CAMERA_FIELD_ROTATION, 130.4, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Start, CAMERA_FIELD_ANGLE_OF_ATTACK, 336.3, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Start, CAMERA_FIELD_TARGET_DISTANCE, 928.4, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Start, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Start, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Start, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_Start, 558.8, 1365.5, 0.0 )

    set gg_cam_Medivh_Alternate = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Medivh_Alternate, CAMERA_FIELD_ZOFFSET, 500.0, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Alternate, CAMERA_FIELD_ROTATION, 193.8, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Alternate, CAMERA_FIELD_ANGLE_OF_ATTACK, 328.0, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Alternate, CAMERA_FIELD_TARGET_DISTANCE, 653.0, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Alternate, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Alternate, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Alternate, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Medivh_Alternate, -2512.6, -502.7, 0.0 )

    set gg_cam_Medivh_Back = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Medivh_Back, CAMERA_FIELD_ZOFFSET, 500.0, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Back, CAMERA_FIELD_ROTATION, 193.8, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Back, CAMERA_FIELD_ANGLE_OF_ATTACK, 328.0, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Back, CAMERA_FIELD_TARGET_DISTANCE, 653.0, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Back, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Back, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Back, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Medivh_Back, -2492.0, -651.0, 0.0 )

    set gg_cam_Medivh_Front = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Medivh_Front, CAMERA_FIELD_ZOFFSET, 500.0, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Front, CAMERA_FIELD_ROTATION, 337.3, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Front, CAMERA_FIELD_ANGLE_OF_ATTACK, 330.3, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Front, CAMERA_FIELD_TARGET_DISTANCE, 653.0, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Front, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Front, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Front, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Medivh_Front, -2500.2, -580.9, 0.0 )

    set gg_cam_Victory01A = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Victory01A, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory01A, CAMERA_FIELD_ROTATION, 55.8, 0.0 )
    call CameraSetupSetField( gg_cam_Victory01A, CAMERA_FIELD_ANGLE_OF_ATTACK, 315.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory01A, CAMERA_FIELD_TARGET_DISTANCE, 1509.9, 0.0 )
    call CameraSetupSetField( gg_cam_Victory01A, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory01A, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory01A, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Victory01A, -4524.8, -2562.7, 0.0 )

    set gg_cam_Victory01B = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Victory01B, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory01B, CAMERA_FIELD_ROTATION, 55.8, 0.0 )
    call CameraSetupSetField( gg_cam_Victory01B, CAMERA_FIELD_ANGLE_OF_ATTACK, 315.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory01B, CAMERA_FIELD_TARGET_DISTANCE, 1509.9, 0.0 )
    call CameraSetupSetField( gg_cam_Victory01B, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory01B, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory01B, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Victory01B, -4696.3, -2343.8, 0.0 )

    set gg_cam_Victory02 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Victory02, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory02, CAMERA_FIELD_ROTATION, 45.5, 0.0 )
    call CameraSetupSetField( gg_cam_Victory02, CAMERA_FIELD_ANGLE_OF_ATTACK, 332.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory02, CAMERA_FIELD_TARGET_DISTANCE, 1372.7, 0.0 )
    call CameraSetupSetField( gg_cam_Victory02, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory02, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory02, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Victory02, -3576.7, -1819.2, 0.0 )

    set gg_cam_Victory03 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Victory03, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory03, CAMERA_FIELD_ROTATION, 45.5, 0.0 )
    call CameraSetupSetField( gg_cam_Victory03, CAMERA_FIELD_ANGLE_OF_ATTACK, 332.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory03, CAMERA_FIELD_TARGET_DISTANCE, 1372.7, 0.0 )
    call CameraSetupSetField( gg_cam_Victory03, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory03, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory03, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Victory03, -3366.1, -2055.8, 0.0 )

    set gg_cam_Victory04A = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Victory04A, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory04A, CAMERA_FIELD_ROTATION, 321.5, 0.0 )
    call CameraSetupSetField( gg_cam_Victory04A, CAMERA_FIELD_ANGLE_OF_ATTACK, 328.9, 0.0 )
    call CameraSetupSetField( gg_cam_Victory04A, CAMERA_FIELD_TARGET_DISTANCE, 1827.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory04A, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory04A, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory04A, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Victory04A, -3645.6, -3643.3, 0.0 )

    set gg_cam_Victory04B = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Victory04B, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory04B, CAMERA_FIELD_ROTATION, 321.5, 0.0 )
    call CameraSetupSetField( gg_cam_Victory04B, CAMERA_FIELD_ANGLE_OF_ATTACK, 328.9, 0.0 )
    call CameraSetupSetField( gg_cam_Victory04B, CAMERA_FIELD_TARGET_DISTANCE, 1827.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory04B, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory04B, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory04B, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Victory04B, -3663.3, -1467.7, 0.0 )

    set gg_cam_Victory05A = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Victory05A, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory05A, CAMERA_FIELD_ROTATION, 203.1, 0.0 )
    call CameraSetupSetField( gg_cam_Victory05A, CAMERA_FIELD_ANGLE_OF_ATTACK, 329.7, 0.0 )
    call CameraSetupSetField( gg_cam_Victory05A, CAMERA_FIELD_TARGET_DISTANCE, 2415.8, 0.0 )
    call CameraSetupSetField( gg_cam_Victory05A, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory05A, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory05A, CAMERA_FIELD_FARZ, 6655.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Victory05A, -3914.3, -1078.1, 0.0 )

    set gg_cam_Victory05B = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Victory05B, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory05B, CAMERA_FIELD_ROTATION, 216.4, 0.0 )
    call CameraSetupSetField( gg_cam_Victory05B, CAMERA_FIELD_ANGLE_OF_ATTACK, 331.1, 0.0 )
    call CameraSetupSetField( gg_cam_Victory05B, CAMERA_FIELD_TARGET_DISTANCE, 2415.8, 0.0 )
    call CameraSetupSetField( gg_cam_Victory05B, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory05B, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory05B, CAMERA_FIELD_FARZ, 6655.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Victory05B, -3782.3, -995.7, 0.0 )

    set gg_cam_Victory06A = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Victory06A, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory06A, CAMERA_FIELD_ROTATION, 224.5, 0.0 )
    call CameraSetupSetField( gg_cam_Victory06A, CAMERA_FIELD_ANGLE_OF_ATTACK, 334.3, 0.0 )
    call CameraSetupSetField( gg_cam_Victory06A, CAMERA_FIELD_TARGET_DISTANCE, 2923.1, 0.0 )
    call CameraSetupSetField( gg_cam_Victory06A, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory06A, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory06A, CAMERA_FIELD_FARZ, 6655.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Victory06A, -4184.5, -581.3, 0.0 )

    set gg_cam_Victory06B = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Victory06B, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory06B, CAMERA_FIELD_ROTATION, 229.3, 0.0 )
    call CameraSetupSetField( gg_cam_Victory06B, CAMERA_FIELD_ANGLE_OF_ATTACK, 329.1, 0.0 )
    call CameraSetupSetField( gg_cam_Victory06B, CAMERA_FIELD_TARGET_DISTANCE, 2923.1, 0.0 )
    call CameraSetupSetField( gg_cam_Victory06B, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory06B, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory06B, CAMERA_FIELD_FARZ, 6655.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Victory06B, -3874.1, -157.5, 0.0 )

    set gg_cam_VictoryEnd01a = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_VictoryEnd01a, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_VictoryEnd01a, CAMERA_FIELD_ROTATION, 353.9, 0.0 )
    call CameraSetupSetField( gg_cam_VictoryEnd01a, CAMERA_FIELD_ANGLE_OF_ATTACK, 354.9, 0.0 )
    call CameraSetupSetField( gg_cam_VictoryEnd01a, CAMERA_FIELD_TARGET_DISTANCE, 6892.5, 0.0 )
    call CameraSetupSetField( gg_cam_VictoryEnd01a, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_VictoryEnd01a, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_VictoryEnd01a, CAMERA_FIELD_FARZ, 7320.5, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_VictoryEnd01a, 3462.2, -1097.7, 0.0 )

    set gg_cam_VictoryEnd01b = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_VictoryEnd01b, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_VictoryEnd01b, CAMERA_FIELD_ROTATION, 348.8, 0.0 )
    call CameraSetupSetField( gg_cam_VictoryEnd01b, CAMERA_FIELD_ANGLE_OF_ATTACK, 351.4, 0.0 )
    call CameraSetupSetField( gg_cam_VictoryEnd01b, CAMERA_FIELD_TARGET_DISTANCE, 2923.1, 0.0 )
    call CameraSetupSetField( gg_cam_VictoryEnd01b, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_VictoryEnd01b, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_VictoryEnd01b, CAMERA_FIELD_FARZ, 7320.5, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_VictoryEnd01b, -2975.7, -488.3, 0.0 )

    set gg_cam_Thrall_Talks_to_Grunt = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Thrall_Talks_to_Grunt, CAMERA_FIELD_ZOFFSET, 80.0, 0.0 )
    call CameraSetupSetField( gg_cam_Thrall_Talks_to_Grunt, CAMERA_FIELD_ROTATION, 10.6, 0.0 )
    call CameraSetupSetField( gg_cam_Thrall_Talks_to_Grunt, CAMERA_FIELD_ANGLE_OF_ATTACK, 336.3, 0.0 )
    call CameraSetupSetField( gg_cam_Thrall_Talks_to_Grunt, CAMERA_FIELD_TARGET_DISTANCE, 928.4, 0.0 )
    call CameraSetupSetField( gg_cam_Thrall_Talks_to_Grunt, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Thrall_Talks_to_Grunt, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Thrall_Talks_to_Grunt, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Thrall_Talks_to_Grunt, 284.1, 1808.2, 0.0 )

    set gg_cam_Damnit_Thrall = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Damnit_Thrall, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Damnit_Thrall, CAMERA_FIELD_ROTATION, 98.3, 0.0 )
    call CameraSetupSetField( gg_cam_Damnit_Thrall, CAMERA_FIELD_ANGLE_OF_ATTACK, 341.4, 0.0 )
    call CameraSetupSetField( gg_cam_Damnit_Thrall, CAMERA_FIELD_TARGET_DISTANCE, 1650.0, 0.0 )
    call CameraSetupSetField( gg_cam_Damnit_Thrall, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Damnit_Thrall, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Damnit_Thrall, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Damnit_Thrall, 748.6, 1389.4, 0.0 )

    set gg_cam_Thrall_Face_Waterfall_A = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Thrall_Face_Waterfall_A, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Thrall_Face_Waterfall_A, CAMERA_FIELD_ROTATION, 71.6, 0.0 )
    call CameraSetupSetField( gg_cam_Thrall_Face_Waterfall_A, CAMERA_FIELD_ANGLE_OF_ATTACK, 352.2, 0.0 )
    call CameraSetupSetField( gg_cam_Thrall_Face_Waterfall_A, CAMERA_FIELD_TARGET_DISTANCE, 928.4, 0.0 )
    call CameraSetupSetField( gg_cam_Thrall_Face_Waterfall_A, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Thrall_Face_Waterfall_A, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Thrall_Face_Waterfall_A, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Thrall_Face_Waterfall_A, 443.6, 2176.8, 0.0 )

    set gg_cam_Bridge_Start = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Bridge_Start, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Bridge_Start, CAMERA_FIELD_ROTATION, 296.2, 0.0 )
    call CameraSetupSetField( gg_cam_Bridge_Start, CAMERA_FIELD_ANGLE_OF_ATTACK, 357.0, 0.0 )
    call CameraSetupSetField( gg_cam_Bridge_Start, CAMERA_FIELD_TARGET_DISTANCE, 1650.0, 0.0 )
    call CameraSetupSetField( gg_cam_Bridge_Start, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Bridge_Start, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Bridge_Start, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Bridge_Start, 5448.6, -4763.5, 0.0 )

    set gg_cam_Bridge_2 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Bridge_2, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Bridge_2, CAMERA_FIELD_ROTATION, 239.0, 0.0 )
    call CameraSetupSetField( gg_cam_Bridge_2, CAMERA_FIELD_ANGLE_OF_ATTACK, 338.1, 0.0 )
    call CameraSetupSetField( gg_cam_Bridge_2, CAMERA_FIELD_TARGET_DISTANCE, 1650.0, 0.0 )
    call CameraSetupSetField( gg_cam_Bridge_2, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Bridge_2, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Bridge_2, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Bridge_2, 5082.0, -4664.1, 0.0 )

    set gg_cam_Show_Grom = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Show_Grom, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Show_Grom, CAMERA_FIELD_ROTATION, 178.6, 0.0 )
    call CameraSetupSetField( gg_cam_Show_Grom, CAMERA_FIELD_ANGLE_OF_ATTACK, 317.5, 0.0 )
    call CameraSetupSetField( gg_cam_Show_Grom, CAMERA_FIELD_TARGET_DISTANCE, 1650.0, 0.0 )
    call CameraSetupSetField( gg_cam_Show_Grom, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Show_Grom, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Show_Grom, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Show_Grom, -4715.3, -2528.1, 0.0 )

    set gg_cam_Show_Grom_B = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Show_Grom_B, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Show_Grom_B, CAMERA_FIELD_ROTATION, 91.1, 0.0 )
    call CameraSetupSetField( gg_cam_Show_Grom_B, CAMERA_FIELD_ANGLE_OF_ATTACK, 314.1, 0.0 )
    call CameraSetupSetField( gg_cam_Show_Grom_B, CAMERA_FIELD_TARGET_DISTANCE, 1650.0, 0.0 )
    call CameraSetupSetField( gg_cam_Show_Grom_B, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Show_Grom_B, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Show_Grom_B, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Show_Grom_B, -4763.1, -2590.4, 0.0 )

    set gg_cam_Victory_Alternate_B = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Victory_Alternate_B, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_Alternate_B, CAMERA_FIELD_ROTATION, 55.8, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_Alternate_B, CAMERA_FIELD_ANGLE_OF_ATTACK, 349.1, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_Alternate_B, CAMERA_FIELD_TARGET_DISTANCE, 1509.9, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_Alternate_B, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_Alternate_B, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_Alternate_B, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Victory_Alternate_B, -4364.0, -1771.7, 0.0 )

    set gg_cam_Victory_Alternate_A = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Victory_Alternate_A, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_Alternate_A, CAMERA_FIELD_ROTATION, 55.8, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_Alternate_A, CAMERA_FIELD_ANGLE_OF_ATTACK, 348.3, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_Alternate_A, CAMERA_FIELD_TARGET_DISTANCE, 1509.9, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_Alternate_A, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_Alternate_A, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_Alternate_A, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Victory_Alternate_A, -4165.4, -1906.8, 0.0 )

    set gg_cam_Victory_Alternate_C = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Victory_Alternate_C, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_Alternate_C, CAMERA_FIELD_ROTATION, 55.8, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_Alternate_C, CAMERA_FIELD_ANGLE_OF_ATTACK, 346.5, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_Alternate_C, CAMERA_FIELD_TARGET_DISTANCE, 1509.9, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_Alternate_C, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_Alternate_C, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_Alternate_C, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Victory_Alternate_C, -4263.9, -1670.3, 0.0 )

endfunction

//***************************************************************************
//*
//*  Triggers
//*
//***************************************************************************

//===========================================================================
// Trigger: Initialization
//
// DESIGN NOTES:
// All "Q" triggers are queued, and thus will never overlap.
// Most "Q" triggers can be aborted by calling the corresponding "Abort" trigger.
// In most cases, the "Abort" triggers should be called via "Done" triggers, to ensure that subsequent lines are correctly queued.
// Most "Done" triggers are initially "Off", and enabled when the user reaches the relevant part of the tutorial.
// A few "Done" triggers are initially "On" so that users can skip ahead if they are familiar with the corresponding steps.
// Optional steps should not queue up required steps if those steps require interaction.
//===========================================================================
function Trig_Initialization_Actions takes nothing returns nothing
    call SetCampaignMenuRaceBJ( bj_CAMPAIGN_INDEX_T )
    call CommentString( "Init Data" )
    call ConditionalTriggerExecute( gg_trg_Init_01_Timing )
    call ConditionalTriggerExecute( gg_trg_Init_02_Players )
    call ConditionalTriggerExecute( gg_trg_Init_03_Units )
    call ConditionalTriggerExecute( gg_trg_Init_04_Heroes )
    call ConditionalTriggerExecute( gg_trg_Init_05_Environment )
    call ConditionalTriggerExecute( gg_trg_Init_06_Sounds )
    call ConditionalTriggerExecute( gg_trg_Init_07_Quests )
    call CommentString( "Start intro cinematic" )
    call ConditionalTriggerExecute( gg_trg_Intro_Cinematic )
endfunction

//===========================================================================
function InitTrig_Initialization takes nothing returns nothing
    set gg_trg_Initialization = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Initialization, function Trig_Initialization_Actions )
endfunction

//===========================================================================
// Trigger: Init 01 Timing
//===========================================================================
function Trig_Init_01_Timing_Actions takes nothing returns nothing
    call CommentString( "It's a tutorial - give the player a little more time" )
    set udg_HintDelay = RMaxBJ(bj_QUEUE_DELAY_HINT, 6.00)
    set udg_QuestDelay = RMaxBJ(bj_QUEUE_DELAY_QUEST, 6.00)
endfunction

//===========================================================================
function InitTrig_Init_01_Timing takes nothing returns nothing
    set gg_trg_Init_01_Timing = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_01_Timing, function Trig_Init_01_Timing_Actions )
endfunction

//===========================================================================
// Trigger: Init 02 Players
//===========================================================================
function Trig_Init_02_Players_Actions takes nothing returns nothing
    call CommentString( "Starting Resources" )
    call SetPlayerStateBJ( udg_AP1_Player, PLAYER_STATE_RESOURCE_GOLD, 0 )
    call SetPlayerStateBJ( udg_AP1_Player, PLAYER_STATE_RESOURCE_LUMBER, 90 )
    call CommentString( "Color Changes" )
    call CommentString( "Configure Score Screen" )
    call SetPlayerOnScoreScreenBJ( false, udg_P4_OtherOrcs )
endfunction

//===========================================================================
function InitTrig_Init_02_Players takes nothing returns nothing
    set gg_trg_Init_02_Players = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_02_Players, function Trig_Init_02_Players_Actions )
endfunction

//===========================================================================
// Trigger: Init 03 Units
//===========================================================================
function Trig_Init_03_Units_Func016002 takes nothing returns nothing
    call ShowUnitHide( GetEnumUnit() )
endfunction

function Trig_Init_03_Units_Func044002 takes nothing returns nothing
    call ShowUnitHide( GetEnumUnit() )
endfunction

function Trig_Init_03_Units_Func059002 takes nothing returns nothing
    call ShowUnitHide( GetEnumUnit() )
endfunction

function Trig_Init_03_Units_Actions takes nothing returns nothing
    call CommentString( "Player Units" )
    set udg_IntroGrunt = gg_unit_ogru_0028
    set udg_IntroPeon = gg_unit_opeo_0021
    set udg_MorePeon01 = gg_unit_opeo_0022
    set udg_MorePeon02 = gg_unit_opeo_0029
    set udg_MorePeon03 = gg_unit_opeo_0020
    set udg_GreatHall = gg_unit_ogre_0019
    set udg_Altar = gg_unit_oalt_0078
    set udg_Ship01 = gg_unit_nbsp_0008
    set udg_Ship02 = gg_unit_nbsp_0007
    set udg_Ship03 = gg_unit_nbsp_0006
    call ShowUnitHide( udg_IntroPeon )
    call GroupAddUnitSimple( udg_MorePeon01, udg_MorePeons )
    call GroupAddUnitSimple( udg_MorePeon02, udg_MorePeons )
    call GroupAddUnitSimple( udg_MorePeon03, udg_MorePeons )
    call ForGroup( udg_MorePeons, function Trig_Init_03_Units_Func016002 )
    call SetUnitInvulnerable( udg_Ship01, true )
    call SetUnitInvulnerable( udg_Ship02, true )
    call SetUnitInvulnerable( udg_Ship03, true )
    call SetUnitPathing( udg_Ship01, false )
    call SetUnitPathing( udg_Ship02, false )
    call SetUnitPathing( udg_Ship03, false )
    call CommentString( "Enemy Units" )
    set udg_GuardTower01 = gg_unit_hgtw_0010
    set udg_GuardTower02 = gg_unit_hgtw_0012
    set udg_GuardTower03 = gg_unit_hgtw_0011
    set udg_Prison01Guards = GetUnitsInRectOfPlayer(gg_rct_Prison01Guards, udg_P2_Alliance)
    set udg_Prison02Guards = GetUnitsInRectOfPlayer(gg_rct_Prison02Guards, udg_P2_Alliance)
    set udg_Prison03Guards = GetUnitsInRectOfPlayer(gg_rct_Prison03Guards, udg_P2_Alliance)
    set udg_BridgeCaptain = gg_unit_hcth_0017
    set udg_BridgeGuard01 = gg_unit_hfoo_0016
    set udg_BridgeGuard02 = gg_unit_hfoo_0018
    set udg_BridgeGuard03 = gg_unit_hfoo_0038
    set udg_BridgeGuard04 = gg_unit_hfoo_0037
    set udg_BridgePeasant01 = gg_unit_hpea_0039
    set udg_BridgePeasant02 = gg_unit_hpea_0040
    call GroupAddUnitSimple( udg_BridgeCaptain, udg_BridgeAttackers )
    call GroupAddUnitSimple( udg_BridgeGuard01, udg_BridgeAttackers )
    call GroupAddUnitSimple( udg_BridgeGuard02, udg_BridgeAttackers )
    call GroupAddUnitSimple( udg_BridgeGuard03, udg_BridgeAttackers )
    call GroupAddUnitSimple( udg_BridgeGuard04, udg_BridgeAttackers )
    call ShowUnitHide( udg_BridgePeasant01 )
    call ShowUnitHide( udg_BridgePeasant02 )
    call ForGroup( udg_BridgeAttackers, function Trig_Init_03_Units_Func044002 )
    call CommentString( "Others" )
    set udg_Grom = gg_unit_Ogrh_0030
    call ShowUnitHide( udg_Grom )
    set udg_EndGruntLead = gg_unit_ogru_0031
    call ShowUnitHide( udg_EndGruntLead )
    set udg_EndGrunt01 = gg_unit_ogru_0034
    set udg_EndGrunt02 = gg_unit_ogru_0035
    set udg_EndGrunt03 = gg_unit_ogru_0036
    set udg_EndGrunt04 = gg_unit_ogru_0072
    set udg_EndGrunt05 = gg_unit_ogru_0074
    set udg_EndGrunt06 = gg_unit_ogru_0075
    set udg_EndGrunt07 = gg_unit_ogru_0073
    set udg_EndGrunt08 = gg_unit_ogru_0076
    set udg_EndGrunts = GetUnitsInRectOfPlayer(gg_rct_EndGrunts, udg_P4_OtherOrcs)
    call ForGroup( udg_EndGrunts, function Trig_Init_03_Units_Func059002 )
    set udg_Medivh = gg_unit_nmed_0032
    call ShowUnitHide( udg_Medivh )
endfunction

//===========================================================================
function InitTrig_Init_03_Units takes nothing returns nothing
    set gg_trg_Init_03_Units = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_03_Units, function Trig_Init_03_Units_Actions )
endfunction

//===========================================================================
// Trigger: Init 04 Heroes
//===========================================================================
function Trig_Init_04_Heroes_Actions takes nothing returns nothing
    call CommentString( "Init the game cache" )
    call InitGameCacheBJ( "Campaigns.w3v" )
    call CommentString( "Load each hero" )
    call ConditionalTriggerExecute( gg_trg_Load_Thrall )
    call CommentString( "Thrall doesn't gain xp during this mission" )
    call SuspendHeroXPBJ( false, udg_Thrall )
endfunction

//===========================================================================
function InitTrig_Init_04_Heroes takes nothing returns nothing
    set gg_trg_Init_04_Heroes = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_04_Heroes, function Trig_Init_04_Heroes_Actions )
endfunction

//===========================================================================
// Trigger: Init 05 Environment
//===========================================================================
function Trig_Init_05_Environment_Actions takes nothing returns nothing
    call SetTimeOfDay( 10.00 )
    call CommentString( "Mines" )
    set udg_GoldMine = gg_unit_ngol_0002
    call CommentString( "Bridges" )
    set udg_Bridge = gg_dest_LT05_0140
    call CommentString( "Gates" )
    set udg_Gate01 = gg_dest_LTg2_0298
    set udg_Gate02 = gg_dest_LTg1_0299
    call CommentString( "Cages" )
    set udg_Cage01 = gg_dest_LOcg_0777
    set udg_Cage02 = gg_dest_LOcg_0776
    set udg_Cage03A = gg_dest_LOcg_0774
    set udg_Cage03B = gg_dest_LOcg_2235
    set udg_Cage03C = gg_dest_LOcg_2234
    set udg_CageGrom = gg_dest_LOcg_0778
    call SetDestructableInvulnerableBJ( udg_CageGrom, true )
endfunction

//===========================================================================
function InitTrig_Init_05_Environment takes nothing returns nothing
    set gg_trg_Init_05_Environment = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_05_Environment, function Trig_Init_05_Environment_Actions )
endfunction

//===========================================================================
// Trigger: Init 06 Sounds
//===========================================================================
function Trig_Init_06_Sounds_Actions takes nothing returns nothing
    call SetSoundPositionLocBJ( gg_snd_OrcBuildingDeathSmall1, GetRectCenter(gg_rct_End_Grom_Start), 0 )
endfunction

//===========================================================================
function InitTrig_Init_06_Sounds takes nothing returns nothing
    set gg_trg_Init_06_Sounds = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_06_Sounds, function Trig_Init_06_Sounds_Actions )
endfunction

//===========================================================================
// Trigger: Init 07 Quests
//===========================================================================
function Trig_Init_07_Quests_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_QuestBase_Create )
    call ConditionalTriggerExecute( gg_trg_QuestGrom_Create )
endfunction

//===========================================================================
function InitTrig_Init_07_Quests takes nothing returns nothing
    set gg_trg_Init_07_Quests = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_07_Quests, function Trig_Init_07_Quests_Actions )
endfunction

//===========================================================================
// Trigger: Load Thrall
//===========================================================================
function Trig_Load_Thrall_Func004001 takes nothing returns boolean
    return ( udg_Thrall != null )
endfunction

function Trig_Load_Thrall_Actions takes nothing returns nothing
    call CommentString( "Attempt to load the hero from the game cache" )
    call RestoreUnitLocFacingPointBJ( "Thrall", "Tutorial02", GetLastCreatedGameCacheBJ(), udg_AP1_Player, GetRectCenter(gg_rct_Thrall_Start), GetRectCenter(gg_rct_Thrall_Start_Focus) )
    set udg_Thrall = GetLastRestoredUnitBJ()
    if ( Trig_Load_Thrall_Func004001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "If we couldn't load the hero, create a default version of him" )
    call CreateNUnitsAtLocFacingLocBJ( 1, 'Othr', udg_AP1_Player, GetRectCenter(gg_rct_Thrall_Start), GetRectCenter(gg_rct_Thrall_Start_Focus) )
    set udg_Thrall = GetLastCreatedUnit()
    call SetHeroLevel( udg_Thrall, 2, false )
    call SelectHeroSkill( udg_Thrall, 'AOcl' )
    call SelectHeroSkill( udg_Thrall, 'AOfs' )
endfunction

//===========================================================================
function InitTrig_Load_Thrall takes nothing returns nothing
    set gg_trg_Load_Thrall = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Load_Thrall, function Trig_Load_Thrall_Actions )
endfunction

//===========================================================================
// Trigger: Intro Cinematic
//===========================================================================
function Trig_Intro_Cinematic_Func019001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Intro_Cinematic_Func025001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Intro_Cinematic_Func027001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Intro_Cinematic_Func030001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Intro_Cinematic_Func039001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Intro_Cinematic_Func042001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Intro_Cinematic_Func046001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Intro_Cinematic_Func050001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Intro_Cinematic_Func055001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Intro_Cinematic_Func058001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Intro_Cinematic_Func066001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Intro_Cinematic_Func071001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Intro_Cinematic_Func074001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Intro_Cinematic_Func077001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Intro_Cinematic_Func081001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Intro_Cinematic_Actions takes nothing returns nothing
    call CommentString( "Init camera, fades, etc." )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 0.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call CinematicModeBJ( true, GetPlayersAll() )
    call CameraSetupApplyForPlayer( true, gg_cam_Thrall_Face_Waterfall_A, udg_AP1_Player, 0 )
    call SetSkyModel( "Environment\\Sky\\LordaeronSummerSky\\LordaeronSummerSky.mdl" )
    call UseTimeOfDayBJ( false )
    call CommentString( "Init music" )
    call ClearMapMusicBJ(  )
    call TriggerSleepAction( 0.01 )
    call PlayThematicMusicBJ( "Sound\\Music\\mp3Music\\SadMystery.mp3" )
    call SetMapMusicIndexedBJ( "music", 1 )
    call CommentString( "CINEMATIC BEGINS - Cinematic is cancelable after this point" )
    call EnableTrigger( gg_trg_Intro_Cancel )
    call CommentString( "Fade in" )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 2.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call SetUnitLookAt( udg_Thrall, "bone_head", gg_unit_nvul_0067, 0, 0, 90 )
    call CameraSetupApplyForPlayer( true, gg_cam_Thrall_Face_Waterfall, udg_AP1_Player, 5.00 )
    call TriggerSleepAction( 1.25 )
    if ( Trig_Intro_Cinematic_Func019001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( udg_GreatHall, "setrally", GetRectCenter(gg_rct_GreatHall_RallyPoint) )
    set udg_InitialRallySet = true
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Thrall, "TRIGSTR_013", gg_snd_T02Thrall001, "TRIGSTR_014", bj_TIMETYPE_ADD, 0, false )
    call TriggerSleepAction( 4.00 )
    if ( Trig_Intro_Cinematic_Func025001() ) then
        return
    else
        call DoNothing(  )
    endif
    call WaitForSoundBJ( gg_snd_T02Thrall001, 1.00 )
    if ( Trig_Intro_Cinematic_Func027001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( udg_IntroGrunt, "move", GetRectCenter(gg_rct_IntroGrunt_WalkTo) )
    call WaitForSoundBJ( gg_snd_T02Thrall001, 0 )
    if ( Trig_Intro_Cinematic_Func030001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CameraSetupApplyForPlayer( true, gg_cam_Thrall_Talks_to_Grunt, udg_AP1_Player, 0.00 )
    call SetSoundPositionLocBJ( gg_snd_WaterWaterFallLoop1, GetRectCenter(gg_rct_WaterFallSoundFiller), 0 )
    call SetSoundVolumeBJ( gg_snd_WaterWaterFallLoop1, 80.00 )
    call PlaySoundBJ( gg_snd_WaterWaterFallLoop1 )
    call ResetUnitLookAt( udg_Thrall )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_IntroGrunt, "TRIGSTR_015", gg_snd_T02Grunt002, "TRIGSTR_016", bj_TIMETYPE_ADD, 0, false )
    call TriggerSleepAction( 0.30 )
    if ( Trig_Intro_Cinematic_Func039001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( udg_Thrall, "move", GetRectCenter(gg_rct_Thrall_Faces_Grunt) )
    call WaitForSoundBJ( gg_snd_T02Grunt002, 0 )
    if ( Trig_Intro_Cinematic_Func042001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Thrall, "TRIGSTR_017", gg_snd_T02Thrall003, "TRIGSTR_018", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Thrall003, 0 )
    if ( Trig_Intro_Cinematic_Func046001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_IntroGrunt, "TRIGSTR_019", gg_snd_T02Grunt004, "TRIGSTR_020", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Grunt004, 0 )
    if ( Trig_Intro_Cinematic_Func050001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Thrall, "TRIGSTR_021", gg_snd_T02Thrall005, "TRIGSTR_022", bj_TIMETYPE_ADD, 0, false )
    call SetUnitFacingToFaceLocTimed( udg_IntroGrunt, GetRectCenter(gg_rct_IntroGrunt_TurnsAway_Focus), 0.20 )
    call TriggerSleepAction( 0.20 )
    if ( Trig_Intro_Cinematic_Func055001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitFacingToFaceUnitTimed( udg_IntroGrunt, udg_Thrall, 0.20 )
    call WaitForSoundBJ( gg_snd_T02Thrall005, 0 )
    if ( Trig_Intro_Cinematic_Func058001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( gg_unit_nvul_0067, "move", GetRectCenter(gg_rct_Vulture_Fly_To) )
    call IssuePointOrderLocBJ( gg_unit_nvul_0069, "move", GetRectCenter(gg_rct_Vulture_Fly_To) )
    call IssuePointOrderLocBJ( gg_unit_nvul_0070, "move", GetRectCenter(gg_rct_Vulture_Fly_To) )
    call IssuePointOrderLocBJ( gg_unit_nvul_0071, "move", GetRectCenter(gg_rct_Vulture_Fly_To) )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_IntroGrunt, "TRIGSTR_023", gg_snd_T02Grunt006, "TRIGSTR_024", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Grunt006, 0 )
    if ( Trig_Intro_Cinematic_Func066001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CameraSetupApplyForPlayer( true, gg_cam_Damnit_Thrall, udg_AP1_Player, 0.00 )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Thrall, "TRIGSTR_025", gg_snd_T02Thrall007, "TRIGSTR_026", bj_TIMETYPE_ADD, 0, false )
    call TriggerSleepAction( 0.20 )
    if ( Trig_Intro_Cinematic_Func071001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( udg_Thrall, "move", GetRectCenter(gg_rct_Thrall_TurnsAway) )
    call TriggerSleepAction( 0.75 )
    if ( Trig_Intro_Cinematic_Func074001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( udg_IntroGrunt, "move", GetRectCenter(gg_rct_IntroGrunt_Start) )
    call TriggerSleepAction( 0.75 )
    if ( Trig_Intro_Cinematic_Func077001() ) then
        return
    else
        call DoNothing(  )
    endif
    call ShowUnitShow( udg_IntroPeon )
    call IssuePointOrderLocBJ( udg_IntroPeon, "move", GetRectCenter(gg_rct_IntroPeon_WalkTo) )
    call WaitForSoundBJ( gg_snd_T02Thrall007, 0 )
    if ( Trig_Intro_Cinematic_Func081001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "CINEMATIC ENDS - Cinematic is no longer cancelable" )
    call DisableTrigger( gg_trg_Intro_Cancel )
    call CommentString( "Generic cleanup" )
    call CinematicModeBJ( false, GetPlayersAll() )
    call SetSkyModel( null )
    call UseTimeOfDayBJ( true )
    call CameraResetSmoothingFactorBJ(  )
    call ResetToGameCameraForPlayer( udg_AP1_Player, 1.00 )
    call EndThematicMusicBJ(  )
    call StopSoundBJ( gg_snd_WaterWaterFallLoop1, true )
    call SelectUnitSingle( udg_Thrall )
    call CommentString( "Level-specific cleanup" )
    call ConditionalTriggerExecute( gg_trg_IntroGrunt_Remove )
    call EnableTrigger( gg_trg_Rally_Point_Event )
    call CommentString( "Gameplay" )
    call ConditionalTriggerExecute( gg_trg_Gameplay )
endfunction

//===========================================================================
function InitTrig_Intro_Cinematic takes nothing returns nothing
    set gg_trg_Intro_Cinematic = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Intro_Cinematic, function Trig_Intro_Cinematic_Actions )
endfunction

//===========================================================================
// Trigger: Intro Cancel
//===========================================================================
function Trig_Intro_Cancel_Func023001 takes nothing returns boolean
    return ( udg_InitialRallySet == false )
endfunction

function Trig_Intro_Cancel_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_IntroCancelled = true
    call CommentString( "Fade out" )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 0.50, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 0.60 )
    call CommentString( "Generic cleanup" )
    call CinematicModeBJ( false, GetPlayersAll() )
    call ResetUnitLookAt( udg_Thrall )
    call SetSkyModel( null )
    call UseTimeOfDayBJ( true )
    call CameraResetSmoothingFactorBJ(  )
    call ResetToGameCameraForPlayer( udg_AP1_Player, 0.00 )
    call PanCameraToTimedLocForPlayer( udg_AP1_Player, CameraSetupGetDestPositionLoc(gg_cam_Gameplay), 0 )
    call EndThematicMusicBJ(  )
    call StopSoundBJ( gg_snd_WaterWaterFallLoop1, true )
    call SelectUnitSingle( udg_Thrall )
    call CommentString( "Level-specific cleanup" )
    call ShowUnitShow( udg_IntroPeon )
    call ConditionalTriggerExecute( gg_trg_IntroGrunt_Remove )
    call SetUnitPositionLoc( udg_IntroPeon, GetRectCenter(gg_rct_IntroPeon_WalkTo) )
    call SetUnitPositionLocFacingLocBJ( udg_Thrall, GetRectCenter(gg_rct_Thrall_TurnsAway), GetRectCenter(gg_rct_Thrall_TurnsAway_Focus) )
    if ( Trig_Intro_Cancel_Func023001() ) then
        call IssuePointOrderLocBJ( udg_GreatHall, "setrally", GetRectCenter(gg_rct_GreatHall_RallyPoint) )
    else
        call DoNothing(  )
    endif
    set udg_InitialRallySet = true
    call EnableTrigger( gg_trg_Rally_Point_Event )
    call CommentString( "Fade in" )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 0.50, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call CommentString( "Gameplay" )
    call ConditionalTriggerExecute( gg_trg_Gameplay )
endfunction

//===========================================================================
function InitTrig_Intro_Cancel takes nothing returns nothing
    set gg_trg_Intro_Cancel = CreateTrigger(  )
    call DisableTrigger( gg_trg_Intro_Cancel )
    call TriggerRegisterPlayerEventEndCinematic( gg_trg_Intro_Cancel, Player(0) )
    call TriggerAddAction( gg_trg_Intro_Cancel, function Trig_Intro_Cancel_Actions )
endfunction

//===========================================================================
// Trigger: IntroGrunt Remove
//===========================================================================
function Trig_IntroGrunt_Remove_Conditions takes nothing returns boolean
    if ( not ( udg_IntroGrunt != null ) ) then
        return false
    endif
    return true
endfunction

function Trig_IntroGrunt_Remove_Actions takes nothing returns nothing
    call RemoveUnit( udg_IntroGrunt )
    set udg_IntroGrunt = null
endfunction

//===========================================================================
function InitTrig_IntroGrunt_Remove takes nothing returns nothing
    set gg_trg_IntroGrunt_Remove = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_IntroGrunt_Remove, Condition( function Trig_IntroGrunt_Remove_Conditions ) )
    call TriggerAddAction( gg_trg_IntroGrunt_Remove, function Trig_IntroGrunt_Remove_Actions )
endfunction

//===========================================================================
// Trigger: Gameplay
//===========================================================================
function Trig_Gameplay_Actions takes nothing returns nothing
    call QueuedTriggerAddBJ( gg_trg_Fake_Queue_Entry, true )
    call QueuedTriggerAddBJ( gg_trg_Q1_QuestLog_Q, true )
    call QueuedTriggerAddBJ( gg_trg_G1_SelectPeon_Q, true )
endfunction

//===========================================================================
function InitTrig_Gameplay takes nothing returns nothing
    set gg_trg_Gameplay = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Gameplay, function Trig_Gameplay_Actions )
endfunction

//===========================================================================
// Trigger: Fake Queue Entry
//
// The sole purpose of this trigger is to hold up the trigger queue for the first few moments of gameplay.
// This prevents any queued triggers from firing at the start of the mission, giving the user a moment to relax and settle in.
//===========================================================================
function Trig_Fake_Queue_Entry_Actions takes nothing returns nothing
    call TriggerSleepAction( 2.00 )
    call QueuedTriggerRemoveBJ( gg_trg_Fake_Queue_Entry )
endfunction

//===========================================================================
function InitTrig_Fake_Queue_Entry takes nothing returns nothing
    set gg_trg_Fake_Queue_Entry = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Fake_Queue_Entry, function Trig_Fake_Queue_Entry_Actions )
endfunction

//===========================================================================
// Trigger: Bridge Cinematic
//===========================================================================
function Trig_Bridge_Cinematic_Func013002002 takes nothing returns boolean
    return ( IsUnitHiddenBJ(GetFilterUnit()) == false )
endfunction

function Trig_Bridge_Cinematic_Func014002 takes nothing returns nothing
    call ShowUnitHide( GetEnumUnit() )
endfunction

function Trig_Bridge_Cinematic_Func015002 takes nothing returns nothing
    call PauseUnitBJ( false, GetEnumUnit() )
endfunction

function Trig_Bridge_Cinematic_Func018002 takes nothing returns nothing
    call ShowUnitShow( GetEnumUnit() )
endfunction

function Trig_Bridge_Cinematic_Func020002 takes nothing returns nothing
    call PauseUnitBJ( false, GetEnumUnit() )
endfunction

function Trig_Bridge_Cinematic_Func031001 takes nothing returns boolean
    return ( udg_BridgeCancelled == true )
endfunction

function Trig_Bridge_Cinematic_Func035001 takes nothing returns boolean
    return ( udg_BridgeCancelled == true )
endfunction

function Trig_Bridge_Cinematic_Func038001 takes nothing returns boolean
    return ( udg_BridgeCancelled == true )
endfunction

function Trig_Bridge_Cinematic_Func046001 takes nothing returns boolean
    return ( udg_BridgeCancelled == true )
endfunction

function Trig_Bridge_Cinematic_Func050001 takes nothing returns boolean
    return ( udg_BridgeCancelled == true )
endfunction

function Trig_Bridge_Cinematic_Func053001 takes nothing returns boolean
    return ( udg_BridgeCancelled == true )
endfunction

function Trig_Bridge_Cinematic_Func058001 takes nothing returns boolean
    return ( udg_BridgeCancelled == true )
endfunction

function Trig_Bridge_Cinematic_Func063001 takes nothing returns boolean
    return ( udg_BridgeCancelled == true )
endfunction

function Trig_Bridge_Cinematic_Func064002 takes nothing returns nothing
    call PauseUnitBJ( false, GetEnumUnit() )
endfunction

function Trig_Bridge_Cinematic_Func067001 takes nothing returns boolean
    return ( udg_BridgeCancelled == true )
endfunction

function Trig_Bridge_Cinematic_Func081002 takes nothing returns nothing
    call ShowUnitShow( GetEnumUnit() )
endfunction

function Trig_Bridge_Cinematic_Func082002 takes nothing returns nothing
    call SelectUnitAdd( GetEnumUnit() )
endfunction

function Trig_Bridge_Cinematic_Actions takes nothing returns nothing
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    call CinematicModeBJ( true, GetPlayersAll() )
    set udg_BridgePreCamPoint = GetCameraTargetPositionLoc()
    set udg_BridgeSelection = GetUnitsSelectedAll(udg_AP1_Player)
    call ClearSelection(  )
    call CommentString( "Set up the scene" )
    call PlayThematicMusicBJ( "Sound\\Music\\mp3Music\\Comradeship.mp3" )
    call SetSkyModel( "Environment\\Sky\\LordaeronSummerSky\\LordaeronSummerSky.mdl" )
    call UseTimeOfDayBJ( false )
    call CameraSetupApplyForPlayer( true, gg_cam_Bridge_Start, udg_AP1_Player, 0 )
    call CameraSetupApplyForPlayer( true, gg_cam_Bridge_2, udg_AP1_Player, 10.00 )
    set udg_BridgeHiddenUnits = GetUnitsOfPlayerMatching(udg_AP1_Player, Condition(function Trig_Bridge_Cinematic_Func013002002))
    call ForGroup( udg_BridgeHiddenUnits, function Trig_Bridge_Cinematic_Func014002 )
    call ForGroup( udg_BridgeAttackers, function Trig_Bridge_Cinematic_Func015002 )
    call ShowUnitShow( udg_BridgePeasant01 )
    call ShowUnitShow( udg_BridgePeasant02 )
    call ForGroup( udg_BridgeAttackers, function Trig_Bridge_Cinematic_Func018002 )
    call PauseAllUnitsBJ( true )
    call ForGroup( udg_BridgeAttackers, function Trig_Bridge_Cinematic_Func020002 )
    call PauseUnitBJ( false, udg_BridgePeasant01 )
    call PauseUnitBJ( false, udg_BridgePeasant02 )
    call SetUnitAnimation( udg_BridgePeasant01, "stand work" )
    call SetUnitAnimation( udg_BridgePeasant02, "stand work" )
    call CommentString( "CINEMATIC BEGINS - Cinematic is cancelable after this point" )
    call EnableTrigger( gg_trg_Bridge_Cancel )
    call CommentString( "Fade in" )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call DestructableRestoreLife( udg_Bridge, GetDestructableMaxLife(udg_Bridge), true )
    call TriggerSleepAction( 3.00 )
    if ( Trig_Bridge_Cinematic_Func031001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_BridgeCaptain, "TRIGSTR_236", gg_snd_T02Captain045, "TRIGSTR_237", bj_TIMETYPE_ADD, 0, false )
    call TriggerSleepAction( 3.00 )
    if ( Trig_Bridge_Cinematic_Func035001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( udg_BridgeCaptain, "move", GetRectCenter(gg_rct_BridgeCaptiain_MoveTo) )
    call TriggerSleepAction( 0.50 )
    if ( Trig_Bridge_Cinematic_Func038001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( udg_BridgeGuard01, "move", GetRectCenter(gg_rct_BridgeGuard01_MoveTo) )
    call IssuePointOrderLocBJ( udg_BridgeGuard02, "move", GetRectCenter(gg_rct_BridgeGuard02_MoveTo) )
    call IssuePointOrderLocBJ( udg_BridgeGuard03, "move", GetRectCenter(gg_rct_BridgeGuard03_MoveTo) )
    call IssuePointOrderLocBJ( udg_BridgeGuard04, "move", GetRectCenter(gg_rct_BridgeGuard04_MoveTo) )
    call IssuePointOrderLocBJ( udg_BridgePeasant01, "move", GetRectCenter(gg_rct_BridgePeasant01_MoveTo) )
    call IssuePointOrderLocBJ( udg_BridgePeasant02, "move", GetRectCenter(gg_rct_BridgePeasant02_MoveTo) )
    call WaitForSoundBJ( gg_snd_T02Captain045, 0.00 )
    if ( Trig_Bridge_Cinematic_Func046001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CameraSetupApplyForPlayer( true, gg_cam_Show_Grom, udg_AP1_Player, 0 )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 2, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 2.00 )
    if ( Trig_Bridge_Cinematic_Func050001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CameraSetupApplyForPlayer( true, gg_cam_Show_Grom_B, udg_AP1_Player, 14.50 )
    call WaitForSoundBJ( gg_snd_T02Captain045, 0 )
    if ( Trig_Bridge_Cinematic_Func053001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Line" )
    call ConditionalTriggerExecute( gg_trg_BridgeGrunt_Setup )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_BridgeGrunt, "TRIGSTR_246", gg_snd_T02Grunt046, "TRIGSTR_247", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Grunt046, 0 )
    if ( Trig_Bridge_Cinematic_Func058001() ) then
        return
    else
        call DoNothing(  )
    endif
    call ConditionalTriggerExecute( gg_trg_BridgeGrunt_Cleanup )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Thrall, "TRIGSTR_234", gg_snd_T02Thrall047, "TRIGSTR_235", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Thrall047, 2.00 )
    if ( Trig_Bridge_Cinematic_Func063001() ) then
        return
    else
        call DoNothing(  )
    endif
    call ForGroup( udg_BridgeAttackers, function Trig_Bridge_Cinematic_Func064002 )
    call GroupPointOrderLocBJ( udg_BridgeAttackers, "attack", GetRectCenter(gg_rct_Waypoint01_Tower) )
    call WaitForSoundBJ( gg_snd_T02Thrall047, 0 )
    if ( Trig_Bridge_Cinematic_Func067001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "CINEMATIC ENDS - Cinematic is no longer cancelable" )
    call DisableTrigger( gg_trg_Bridge_Cancel )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    call CommentString( "Generic cleanup" )
    call EndThematicMusicBJ(  )
    call CinematicModeBJ( false, GetPlayersAll() )
    call SetSkyModel( null )
    call UseTimeOfDayBJ( true )
    call CameraResetSmoothingFactorBJ(  )
    call ResetToGameCameraForPlayer( udg_AP1_Player, 0.00 )
    call PanCameraToTimedLocForPlayer( udg_AP1_Player, udg_BridgePreCamPoint, 0.00 )
    call ClearSelection(  )
    call ForGroup( udg_BridgeHiddenUnits, function Trig_Bridge_Cinematic_Func081002 )
    call ForGroup( udg_BridgeSelection, function Trig_Bridge_Cinematic_Func082002 )
    call CommentString( "Level-specific cleanup" )
    call RemoveUnit( udg_BridgePeasant01 )
    call RemoveUnit( udg_BridgePeasant02 )
    call PauseAllUnitsBJ( false )
    call SetUnitPositionLocFacingLocBJ( udg_BridgeCaptain, GetRectCenter(gg_rct_BridgeCaptiain_MoveTo), GetRectCenter(gg_rct_Waypoint01_Tower) )
    call SetUnitPositionLocFacingLocBJ( udg_BridgeGuard01, GetRectCenter(gg_rct_BridgeGuard01_MoveTo), GetRectCenter(gg_rct_Waypoint01_Tower) )
    call SetUnitPositionLocFacingLocBJ( udg_BridgeGuard02, GetRectCenter(gg_rct_BridgeGuard02_MoveTo), GetRectCenter(gg_rct_Waypoint01_Tower) )
    call SetUnitPositionLocFacingLocBJ( udg_BridgeGuard03, GetRectCenter(gg_rct_BridgeGuard03_MoveTo), GetRectCenter(gg_rct_Waypoint01_Tower) )
    call SetUnitPositionLocFacingLocBJ( udg_BridgeGuard04, GetRectCenter(gg_rct_BridgeGuard04_MoveTo), GetRectCenter(gg_rct_Waypoint01_Tower) )
    call GroupPointOrderLocBJ( udg_BridgeAttackers, "attack", GetRectCenter(gg_rct_Waypoint01_Tower) )
    call CommentString( "Fade in" )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 0.50, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.50 )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Bridge_Cinematic takes nothing returns nothing
    set gg_trg_Bridge_Cinematic = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Bridge_Cinematic, function Trig_Bridge_Cinematic_Actions )
endfunction

//===========================================================================
// Trigger: Bridge Cancel
//===========================================================================
function Trig_Bridge_Cancel_Func016002 takes nothing returns nothing
    call ShowUnitShow( GetEnumUnit() )
endfunction

function Trig_Bridge_Cancel_Func017002 takes nothing returns nothing
    call SelectUnitAdd( GetEnumUnit() )
endfunction

function Trig_Bridge_Cancel_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_BridgeCancelled = true
    call CommentString( "Fade out" )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 0.50, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 0.60 )
    call CommentString( "Generic cleanup" )
    call EndThematicMusicBJ(  )
    call CinematicModeBJ( false, GetPlayersAll() )
    call SetSkyModel( null )
    call UseTimeOfDayBJ( true )
    call CameraResetSmoothingFactorBJ(  )
    call ResetToGameCameraForPlayer( udg_AP1_Player, 0.00 )
    call PanCameraToTimedLocForPlayer( udg_AP1_Player, udg_BridgePreCamPoint, 0.00 )
    call ClearSelection(  )
    call ForGroup( udg_BridgeHiddenUnits, function Trig_Bridge_Cancel_Func016002 )
    call ForGroup( udg_BridgeSelection, function Trig_Bridge_Cancel_Func017002 )
    call CommentString( "Level-specific cleanup" )
    call ConditionalTriggerExecute( gg_trg_BridgeGrunt_Cleanup )
    call DestructableRestoreLife( udg_Bridge, GetDestructableMaxLife(udg_Bridge), false )
    call SetDestructableAnimationBJ( udg_Bridge, "stand" )
    call PauseAllUnitsBJ( false )
    call SetUnitPositionLocFacingLocBJ( udg_BridgeCaptain, GetRectCenter(gg_rct_BridgeCaptiain_MoveTo), GetRectCenter(gg_rct_Waypoint01_Tower) )
    call SetUnitPositionLocFacingLocBJ( udg_BridgeGuard01, GetRectCenter(gg_rct_BridgeGuard01_MoveTo), GetRectCenter(gg_rct_Waypoint01_Tower) )
    call SetUnitPositionLocFacingLocBJ( udg_BridgeGuard02, GetRectCenter(gg_rct_BridgeGuard02_MoveTo), GetRectCenter(gg_rct_Waypoint01_Tower) )
    call SetUnitPositionLocFacingLocBJ( udg_BridgeGuard03, GetRectCenter(gg_rct_BridgeGuard03_MoveTo), GetRectCenter(gg_rct_Waypoint01_Tower) )
    call SetUnitPositionLocFacingLocBJ( udg_BridgeGuard04, GetRectCenter(gg_rct_BridgeGuard04_MoveTo), GetRectCenter(gg_rct_Waypoint01_Tower) )
    call SetUnitPositionLocFacingLocBJ( udg_BridgeGuard04, GetRectCenter(gg_rct_BridgeGuard04_MoveTo), GetRectCenter(gg_rct_Waypoint01_Tower) )
    call RemoveUnit( udg_BridgePeasant01 )
    call RemoveUnit( udg_BridgePeasant02 )
    set udg_BridgePeasant01 = null
    set udg_BridgePeasant02 = null
    call GroupPointOrderLocBJ( udg_BridgeAttackers, "attack", GetRectCenter(gg_rct_Waypoint01_Tower) )
    call CommentString( "Fade in" )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 0.50, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.50 )
    call QueuedTriggerRemoveBJ( gg_trg_Bridge_Cinematic )
endfunction

//===========================================================================
function InitTrig_Bridge_Cancel takes nothing returns nothing
    set gg_trg_Bridge_Cancel = CreateTrigger(  )
    call DisableTrigger( gg_trg_Bridge_Cancel )
    call TriggerRegisterPlayerEventEndCinematic( gg_trg_Bridge_Cancel, Player(0) )
    call TriggerAddAction( gg_trg_Bridge_Cancel, function Trig_Bridge_Cancel_Actions )
endfunction

//===========================================================================
// Trigger: BridgeGrunt Setup
//===========================================================================
function Trig_BridgeGrunt_Setup_Func002002001002001 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'ogru' )
endfunction

function Trig_BridgeGrunt_Setup_Func002002001002002 takes nothing returns boolean
    return ( IsUnitAliveBJ(GetFilterUnit()) == true )
endfunction

function Trig_BridgeGrunt_Setup_Func002002001002 takes nothing returns boolean
    return GetBooleanAnd( Trig_BridgeGrunt_Setup_Func002002001002001(), Trig_BridgeGrunt_Setup_Func002002001002002() )
endfunction

function Trig_BridgeGrunt_Setup_Func003001 takes nothing returns boolean
    return ( udg_BridgeGrunt != null )
endfunction

function Trig_BridgeGrunt_Setup_Actions takes nothing returns nothing
    call CommentString( "Pick a random living Grunt owned by the player" )
    set udg_BridgeGrunt = GroupPickRandomUnit(GetUnitsOfPlayerMatching(udg_AP1_Player, Condition(function Trig_BridgeGrunt_Setup_Func002002001002)))
    if ( Trig_BridgeGrunt_Setup_Func003001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "The player somehow managed to have no Grunts at this point, so create a temp Grunt for the scene" )
    call CreateNUnitsAtLoc( 1, 'ogru', Player(0), GetRectCenter(GetPlayableMapRect()), bj_UNIT_FACING )
    set udg_BridgeGrunt = GetLastCreatedUnit()
    set udg_TempGrunt = GetLastCreatedUnit()
endfunction

//===========================================================================
function InitTrig_BridgeGrunt_Setup takes nothing returns nothing
    set gg_trg_BridgeGrunt_Setup = CreateTrigger(  )
    call TriggerAddAction( gg_trg_BridgeGrunt_Setup, function Trig_BridgeGrunt_Setup_Actions )
endfunction

//===========================================================================
// Trigger: BridgeGrunt Cleanup
//===========================================================================
function Trig_BridgeGrunt_Cleanup_Conditions takes nothing returns boolean
    if ( not ( udg_TempGrunt != null ) ) then
        return false
    endif
    return true
endfunction

function Trig_BridgeGrunt_Cleanup_Actions takes nothing returns nothing
    call RemoveUnit( udg_TempGrunt )
    set udg_TempGrunt = null
endfunction

//===========================================================================
function InitTrig_BridgeGrunt_Cleanup takes nothing returns nothing
    set gg_trg_BridgeGrunt_Cleanup = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_BridgeGrunt_Cleanup, Condition( function Trig_BridgeGrunt_Cleanup_Conditions ) )
    call TriggerAddAction( gg_trg_BridgeGrunt_Cleanup, function Trig_BridgeGrunt_Cleanup_Actions )
endfunction

//===========================================================================
// Trigger: Captain In Position
//===========================================================================
function Trig_Captain_In_Position_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_BridgeCaptain ) ) then
        return false
    endif
    if ( not ( udg_BridgeCancelled == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Captain_In_Position_Func003001 takes nothing returns boolean
    return ( udg_BridgeCancelled == true )
endfunction

function Trig_Captain_In_Position_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 0.50 )
    if ( Trig_Captain_In_Position_Func003001() ) then
        return
    else
        call DoNothing(  )
    endif
    call PauseUnitBJ( true, GetEnteringUnit() )
endfunction

//===========================================================================
function InitTrig_Captain_In_Position takes nothing returns nothing
    set gg_trg_Captain_In_Position = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Captain_In_Position, gg_rct_BridgeCaptiain_MoveTo )
    call TriggerAddCondition( gg_trg_Captain_In_Position, Condition( function Trig_Captain_In_Position_Conditions ) )
    call TriggerAddAction( gg_trg_Captain_In_Position, function Trig_Captain_In_Position_Actions )
endfunction

//===========================================================================
// Trigger: End Cinematic
//===========================================================================
function Trig_End_Cinematic_Func011001002 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == true )
endfunction

function Trig_End_Cinematic_Func011002 takes nothing returns nothing
    call RemoveUnit( GetEnumUnit() )
endfunction

function Trig_End_Cinematic_Func024002 takes nothing returns nothing
    call PauseUnitBJ( false, GetEnumUnit() )
endfunction

function Trig_End_Cinematic_Func025002 takes nothing returns nothing
    call PauseUnitBJ( false, GetEnumUnit() )
endfunction

function Trig_End_Cinematic_Func027002 takes nothing returns nothing
    call ShowUnitHide( GetEnumUnit() )
endfunction

function Trig_End_Cinematic_Func028002 takes nothing returns nothing
    call ShowUnitHide( GetEnumUnit() )
endfunction

function Trig_End_Cinematic_Func041001 takes nothing returns boolean
    return ( udg_EndCancelled == true )
endfunction

function Trig_End_Cinematic_Func045001 takes nothing returns boolean
    return ( udg_EndCancelled == true )
endfunction

function Trig_End_Cinematic_Func050001 takes nothing returns boolean
    return ( udg_EndCancelled == true )
endfunction

function Trig_End_Cinematic_Func056001 takes nothing returns boolean
    return ( udg_EndCancelled == true )
endfunction

function Trig_End_Cinematic_Func063001 takes nothing returns boolean
    return ( udg_EndCancelled == true )
endfunction

function Trig_End_Cinematic_Func067001 takes nothing returns boolean
    return ( udg_EndCancelled == true )
endfunction

function Trig_End_Cinematic_Func071001 takes nothing returns boolean
    return ( udg_EndCancelled == true )
endfunction

function Trig_End_Cinematic_Func075001 takes nothing returns boolean
    return ( udg_EndCancelled == true )
endfunction

function Trig_End_Cinematic_Func079001 takes nothing returns boolean
    return ( udg_EndCancelled == true )
endfunction

function Trig_End_Cinematic_Func084001 takes nothing returns boolean
    return ( udg_EndCancelled == true )
endfunction

function Trig_End_Cinematic_Func091001 takes nothing returns boolean
    return ( udg_EndCancelled == true )
endfunction

function Trig_End_Cinematic_Func094001 takes nothing returns boolean
    return ( udg_EndCancelled == true )
endfunction

function Trig_End_Cinematic_Func099001 takes nothing returns boolean
    return ( udg_EndCancelled == true )
endfunction

function Trig_End_Cinematic_Func105001 takes nothing returns boolean
    return ( udg_EndCancelled == true )
endfunction

function Trig_End_Cinematic_Func106002 takes nothing returns nothing
    call SetUnitOwner( GetEnumUnit(), udg_AP1_Player, true )
endfunction

function Trig_End_Cinematic_Func107002 takes nothing returns nothing
    call ShowUnitShow( GetEnumUnit() )
endfunction

function Trig_End_Cinematic_Func117001 takes nothing returns boolean
    return ( udg_EndCancelled == true )
endfunction

function Trig_End_Cinematic_Func120001 takes nothing returns boolean
    return ( udg_EndCancelled == true )
endfunction

function Trig_End_Cinematic_Func121002 takes nothing returns nothing
    call ShowUnitHide( GetEnumUnit() )
endfunction

function Trig_End_Cinematic_Func132001 takes nothing returns boolean
    return ( udg_EndCancelled == true )
endfunction

function Trig_End_Cinematic_Func137001 takes nothing returns boolean
    return ( udg_EndCancelled == true )
endfunction

function Trig_End_Cinematic_Func141001 takes nothing returns boolean
    return ( udg_EndCancelled == true )
endfunction

function Trig_End_Cinematic_Func145001 takes nothing returns boolean
    return ( udg_EndCancelled == true )
endfunction

function Trig_End_Cinematic_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_NextLevelPrep )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 2.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 2.00 )
    call CinematicModeBJ( true, GetPlayersAll() )
    call CommentString( "Set up the scene" )
    call PlayThematicMusicBJ( "Sound\\Music\\mp3Music\\Comradeship.mp3" )
    call SetSpeechVolumeGroupsBJ(  )
    call SetSkyModel( "Environment\\Sky\\LordaeronSummerSky\\LordaeronSummerSky.mdl" )
    call UseTimeOfDayBJ( false )
    call CommentString( "Remove all buildings, so that unit training, construction, etc. sounds don't occur." )
    call ForGroup( GetUnitsOfPlayerMatching(udg_AP1_Player, Condition(function Trig_End_Cinematic_Func011001002)), function Trig_End_Cinematic_Func011002 )
    call CommentString( "Ensure that Thrall is alive" )
    call ReviveHeroLoc( udg_Thrall, GetRectCenter(gg_rct_End_Thrall_Start), false )
    call SetUnitInvulnerable( udg_Thrall, true )
    call UnitRemoveBuffsBJ( bj_REMOVEBUFFS_ALL, udg_Thrall )
    call CommentString( "Pause actors" )
    call PauseAllUnitsBJ( true )
    call PauseUnitBJ( false, udg_Thrall )
    call PauseUnitBJ( false, udg_Grom )
    call PauseUnitBJ( false, udg_EndGruntLead )
    call PauseUnitBJ( false, udg_Ship01 )
    call PauseUnitBJ( false, udg_Ship02 )
    call PauseUnitBJ( false, udg_Ship03 )
    call ForGroup( udg_EndGrunts, function Trig_End_Cinematic_Func024002 )
    call ForGroup( GetUnitsOfPlayerAll(udg_AP1_Player), function Trig_End_Cinematic_Func025002 )
    call CommentString( "Hide extras" )
    call ForGroup( GetUnitsOfPlayerAll(udg_AP1_Player), function Trig_End_Cinematic_Func027002 )
    call ForGroup( GetUnitsOfPlayerAll(udg_P2_Alliance), function Trig_End_Cinematic_Func028002 )
    call ShowUnitShow( udg_Thrall )
    call SetUnitPositionLocFacingLocBJ( udg_Thrall, GetRectCenter(gg_rct_End_Thrall_Start), GetRectCenter(gg_rct_End_Grom_Start) )
    call ClearSelection(  )
    call IssuePointOrderLocBJ( udg_Thrall, "move", GetRectCenter(gg_rct_End_Thrall_MoveTo_01) )
    call CameraSetupApplyForPlayer( true, gg_cam_Victory01A, udg_AP1_Player, 0 )
    call EnableTrigger( gg_trg_ThrallFaceShips )
    call EnableTrigger( gg_trg_GromFaceShips )
    call CommentString( "CINEMATIC BEGINS - Cinematic is cancelable after this point" )
    call EnableTrigger( gg_trg_End_Cancel )
    call CommentString( "Fade in" )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 4.00 )
    if ( Trig_End_Cinematic_Func041001() ) then
        return
    else
        call DoNothing(  )
    endif
    call KillDestructable( udg_CageGrom )
    call PlaySoundBJ( gg_snd_OrcBuildingDeathSmall1 )
    call TriggerSleepAction( 0.01 )
    if ( Trig_End_Cinematic_Func045001() ) then
        return
    else
        call DoNothing(  )
    endif
    call ShowUnitShow( udg_Grom )
    call SetUnitPositionLoc( udg_Grom, GetRectCenter(gg_rct_End_Grom_Start) )
    call SetUnitFacingToFaceUnitTimed( udg_Grom, udg_Thrall, 0 )
    call TriggerSleepAction( 0.30 )
    if ( Trig_End_Cinematic_Func050001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( udg_Grom, "move", GetRectCenter(gg_rct_End_Grom_MoveTo_01) )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Thrall, "TRIGSTR_208", gg_snd_T02Thrall059, "TRIGSTR_209", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Thrall059, 0 )
    call TriggerSleepAction( 0.30 )
    if ( Trig_End_Cinematic_Func056001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Grom, "TRIGSTR_210", gg_snd_T02Grom060, "TRIGSTR_211", bj_TIMETYPE_ADD, 0, false )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 0.50, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call CameraSetupApplyForPlayer( true, gg_cam_Victory_Alternate_C, udg_AP1_Player, 0.00 )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 0.50, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call WaitForSoundBJ( gg_snd_T02Grom060, 0 )
    if ( Trig_End_Cinematic_Func063001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Thrall, "TRIGSTR_212", gg_snd_T02Thrall061, "TRIGSTR_213", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Thrall061, 0 )
    if ( Trig_End_Cinematic_Func067001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Grom, "TRIGSTR_214", gg_snd_T02Grom062, "TRIGSTR_215", bj_TIMETYPE_ADD, 0, false )
    call TriggerSleepAction( 0.50 )
    if ( Trig_End_Cinematic_Func071001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( udg_Grom, "move", GetRectCenter(gg_rct_End_Grom_MoveTo_02) )
    call IssuePointOrderLocBJ( gg_unit_nvul_0067, "move", GetRectCenter(gg_rct_Ship02B) )
    call TriggerSleepAction( 1.00 )
    if ( Trig_End_Cinematic_Func075001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CameraSetupApplyForPlayer( true, gg_cam_Victory03, udg_AP1_Player, 5.00 )
    call IssuePointOrderLocBJ( udg_Thrall, "move", GetRectCenter(gg_rct_End_Thrall_MoveTo_02) )
    call WaitForSoundBJ( gg_snd_T02Grom062, 0 )
    if ( Trig_End_Cinematic_Func079001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( gg_unit_nvul_0069, "move", GetRectCenter(gg_rct_Vulture_Fly_To_Two) )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Grom, "TRIGSTR_216", gg_snd_T02Grom063, "TRIGSTR_217", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Grom063, 0 )
    if ( Trig_End_Cinematic_Func084001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( gg_unit_nvul_0070, "move", GetRectCenter(gg_rct_LookOverHere) )
    call SetUnitFacingToFaceUnitTimed( udg_Grom, udg_Thrall, 0.30 )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Thrall, "TRIGSTR_218", gg_snd_T02Thrall064, "TRIGSTR_219", bj_TIMETYPE_ADD, 0, false )
    call IssuePointOrderLocBJ( gg_unit_nvul_0071, "move", GetRectCenter(gg_rct_WaveLoop_Copy_3) )
    call TriggerSleepAction( 1.00 )
    if ( Trig_End_Cinematic_Func091001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitFacingToFaceUnitTimed( udg_Thrall, udg_Grom, 0.30 )
    call WaitForSoundBJ( gg_snd_T02Thrall064, 0.70 )
    if ( Trig_End_Cinematic_Func094001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitOwner( udg_EndGruntLead, udg_AP1_Player, true )
    call ShowUnitShow( udg_EndGruntLead )
    call IssuePointOrderLocBJ( udg_EndGruntLead, "move", GetRectCenter(gg_rct_EndGruntLead_MoveTo) )
    call WaitForSoundBJ( gg_snd_T02Thrall064, 0 )
    if ( Trig_End_Cinematic_Func099001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitFacingToFaceUnitTimed( udg_Grom, udg_EndGruntLead, 0.30 )
    call SetUnitFacingToFaceUnitTimed( udg_Thrall, udg_EndGruntLead, 0.30 )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_EndGruntLead, "TRIGSTR_220", gg_snd_T02Grunt065, "TRIGSTR_221", bj_TIMETYPE_ADD, 0, false )
    call TriggerSleepAction( 2.00 )
    if ( Trig_End_Cinematic_Func105001() ) then
        return
    else
        call DoNothing(  )
    endif
    call ForGroup( udg_EndGrunts, function Trig_End_Cinematic_Func106002 )
    call ForGroup( udg_EndGrunts, function Trig_End_Cinematic_Func107002 )
    call IssuePointOrderLocBJ( udg_EndGrunt01, "move", GetRectCenter(gg_rct_EndGrunt01_MoveTo) )
    call IssuePointOrderLocBJ( udg_EndGrunt02, "move", GetRectCenter(gg_rct_EndGrunt02_MoveTo) )
    call IssuePointOrderLocBJ( udg_EndGrunt03, "move", GetRectCenter(gg_rct_EndGrunt03_MoveTo) )
    call IssuePointOrderLocBJ( udg_EndGrunt04, "move", GetRectCenter(gg_rct_EndGrunt04_MoveTo) )
    call IssuePointOrderLocBJ( udg_EndGrunt05, "move", GetRectCenter(gg_rct_EndGrunt05_MoveTo) )
    call IssuePointOrderLocBJ( udg_EndGrunt06, "move", GetRectCenter(gg_rct_EndGrunt06_MoveTo) )
    call IssuePointOrderLocBJ( udg_EndGrunt07, "move", GetRectCenter(gg_rct_EndGrunt07_MoveTo) )
    call IssuePointOrderLocBJ( udg_EndGrunt08, "move", GetRectCenter(gg_rct_EndGrunt08_MoveTo) )
    call WaitForSoundBJ( gg_snd_T02Grunt065, 0 )
    if ( Trig_End_Cinematic_Func117001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    if ( Trig_End_Cinematic_Func120001() ) then
        return
    else
        call DoNothing(  )
    endif
    call ForGroup( udg_EndGrunts, function Trig_End_Cinematic_Func121002 )
    call ShowUnitHide( udg_EndGruntLead )
    call ShowUnitHide( udg_Grom )
    call ShowUnitHide( udg_Thrall )
    call CameraSetupApplyForPlayer( true, gg_cam_Victory05A, udg_AP1_Player, 0 )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 3.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call ShowUnitShow( udg_Medivh )
    call IssuePointOrderLocBJ( udg_Ship01, "move", GetRectCenter(gg_rct_Ship01A) )
    call IssuePointOrderLocBJ( udg_Ship02, "move", GetRectCenter(gg_rct_Ship02A) )
    call IssuePointOrderLocBJ( udg_Ship03, "move", GetRectCenter(gg_rct_Ship03A) )
    call TriggerSleepAction( 1.50 )
    if ( Trig_End_Cinematic_Func132001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Medivh, "TRIGSTR_222", gg_snd_T02Medivh066, "TRIGSTR_223", bj_TIMETYPE_ADD, 0, false )
    call CameraSetupApplyForPlayer( true, gg_cam_Victory06B, udg_AP1_Player, 14.00 )
    call WaitForSoundBJ( gg_snd_T02Medivh066, 3.50 )
    if ( Trig_End_Cinematic_Func137001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( udg_Ship01, "move", GetRectCenter(gg_rct_Ship01B) )
    call IssuePointOrderLocBJ( udg_Ship02, "move", GetRectCenter(gg_rct_Ship02B) )
    call TriggerSleepAction( 1.00 )
    if ( Trig_End_Cinematic_Func141001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( udg_Ship03, "move", GetRectCenter(gg_rct_Ship03B) )
    call WaitForSoundBJ( gg_snd_T02Medivh066, 0 )
    call TriggerSleepAction( 2 )
    if ( Trig_End_Cinematic_Func145001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "CINEMATIC ENDS - Cinematic is no longer cancelable" )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 2, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 2 )
    call DisableTrigger( gg_trg_End_Cancel )
    call ConditionalTriggerExecute( gg_trg_NextLevelRun )
endfunction

//===========================================================================
function InitTrig_End_Cinematic takes nothing returns nothing
    set gg_trg_End_Cinematic = CreateTrigger(  )
    call TriggerAddAction( gg_trg_End_Cinematic, function Trig_End_Cinematic_Actions )
endfunction

//===========================================================================
// Trigger: End Cancel
//===========================================================================
function Trig_End_Cancel_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_EndCancelled = true
    call CommentString( "Fade out" )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 2, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 2 )
    call CommentString( "Victory" )
    call ConditionalTriggerExecute( gg_trg_NextLevelRun )
endfunction

//===========================================================================
function InitTrig_End_Cancel takes nothing returns nothing
    set gg_trg_End_Cancel = CreateTrigger(  )
    call DisableTrigger( gg_trg_End_Cancel )
    call TriggerRegisterPlayerEventEndCinematic( gg_trg_End_Cancel, Player(0) )
    call TriggerAddAction( gg_trg_End_Cancel, function Trig_End_Cancel_Actions )
endfunction

//===========================================================================
// Trigger: GromFaceShips
//===========================================================================
function Trig_GromFaceShips_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Grom ) ) then
        return false
    endif
    return true
endfunction

function Trig_GromFaceShips_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 0.50 )
    call SetUnitFacingToFaceLocTimed( udg_Grom, GetRectCenter(gg_rct_LookOverHere), 0.25 )
endfunction

//===========================================================================
function InitTrig_GromFaceShips takes nothing returns nothing
    set gg_trg_GromFaceShips = CreateTrigger(  )
    call DisableTrigger( gg_trg_GromFaceShips )
    call TriggerRegisterEnterRectSimple( gg_trg_GromFaceShips, gg_rct_End_Grom_MoveTo_02 )
    call TriggerAddCondition( gg_trg_GromFaceShips, Condition( function Trig_GromFaceShips_Conditions ) )
    call TriggerAddAction( gg_trg_GromFaceShips, function Trig_GromFaceShips_Actions )
endfunction

//===========================================================================
// Trigger: ThrallFaceShips
//===========================================================================
function Trig_ThrallFaceShips_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Thrall ) ) then
        return false
    endif
    return true
endfunction

function Trig_ThrallFaceShips_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 0.50 )
    call SetUnitFacingToFaceLocTimed( udg_Thrall, GetRectCenter(gg_rct_LookOverHere), 0.25 )
endfunction

//===========================================================================
function InitTrig_ThrallFaceShips takes nothing returns nothing
    set gg_trg_ThrallFaceShips = CreateTrigger(  )
    call DisableTrigger( gg_trg_ThrallFaceShips )
    call TriggerRegisterEnterRectSimple( gg_trg_ThrallFaceShips, gg_rct_End_Thrall_MoveTo_02 )
    call TriggerAddCondition( gg_trg_ThrallFaceShips, Condition( function Trig_ThrallFaceShips_Conditions ) )
    call TriggerAddAction( gg_trg_ThrallFaceShips, function Trig_ThrallFaceShips_Actions )
endfunction

//===========================================================================
// Trigger: NextLevelPrep
//===========================================================================
function Trig_NextLevelPrep_Actions takes nothing returns nothing
    call CommentString( "Save heroes" )
    call CommentString( "Enable appropriate missions" )
    call SetCampaignAvailableBJ( true, bj_CAMPAIGN_INDEX_H )
    call SetMissionAvailableBJ( true, bj_MISSION_INDEX_H00 )
endfunction

//===========================================================================
function InitTrig_NextLevelPrep takes nothing returns nothing
    set gg_trg_NextLevelPrep = CreateTrigger(  )
    call TriggerAddAction( gg_trg_NextLevelPrep, function Trig_NextLevelPrep_Actions )
endfunction

//===========================================================================
// Trigger: NextLevelRun
//===========================================================================
function Trig_NextLevelRun_Actions takes nothing returns nothing
    call CommentString( "This is the end of the Prologue campaign, so no next level is set." )
    call CustomVictoryBJ( udg_AP1_Player, false, true )
endfunction

//===========================================================================
function InitTrig_NextLevelRun takes nothing returns nothing
    set gg_trg_NextLevelRun = CreateTrigger(  )
    call TriggerAddAction( gg_trg_NextLevelRun, function Trig_NextLevelRun_Actions )
endfunction

//===========================================================================
// Trigger: Victory Cheat
//===========================================================================
function Trig_Victory_Cheat_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_NextLevelPrep )
    call ConditionalTriggerExecute( gg_trg_NextLevelRun )
endfunction

//===========================================================================
function InitTrig_Victory_Cheat takes nothing returns nothing
    set gg_trg_Victory_Cheat = CreateTrigger(  )
    call TriggerRegisterPlayerEventVictory( gg_trg_Victory_Cheat, Player(0) )
    call TriggerAddAction( gg_trg_Victory_Cheat, function Trig_Victory_Cheat_Actions )
endfunction

//===========================================================================
// Trigger: Defeat Cheat
//===========================================================================
function Trig_Defeat_Cheat_Actions takes nothing returns nothing
    call CustomDefeatBJ( udg_AP1_Player, "TRIGSTR_011" )
endfunction

//===========================================================================
function InitTrig_Defeat_Cheat takes nothing returns nothing
    set gg_trg_Defeat_Cheat = CreateTrigger(  )
    call TriggerRegisterPlayerEventDefeat( gg_trg_Defeat_Cheat, Player(0) )
    call TriggerAddAction( gg_trg_Defeat_Cheat, function Trig_Defeat_Cheat_Actions )
endfunction

//===========================================================================
// Trigger: Victory Check
//===========================================================================
function Trig_Victory_Check_Conditions takes nothing returns boolean
    if ( not ( udg_GuardTower01 == null ) ) then
        return false
    endif
    if ( not ( udg_GuardTower02 == null ) ) then
        return false
    endif
    if ( not ( udg_GuardTower03 == null ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Victory_Check_Actions takes nothing returns nothing
    set udg_GameOver = true
    call UnitRemoveBuffsBJ( bj_REMOVEBUFFS_ALL, udg_Thrall )
    call SetUnitInvulnerable( udg_Thrall, true )
    call ConditionalTriggerExecute( gg_trg_QuestGrom_Completed )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerAddBJ( gg_trg_End_Cinematic, true )
endfunction

//===========================================================================
function InitTrig_Victory_Check takes nothing returns nothing
    set gg_trg_Victory_Check = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Victory_Check, Condition( function Trig_Victory_Check_Conditions ) )
    call TriggerAddAction( gg_trg_Victory_Check, function Trig_Victory_Check_Actions )
endfunction

//===========================================================================
// Trigger: Defeat
//===========================================================================
function Trig_Defeat_Conditions takes nothing returns boolean
    if ( not ( GetPlayerStructureCount(udg_AP1_Player, true) <= 0 ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Defeat_Actions takes nothing returns nothing
    set udg_GameOver = true
    call ConditionalTriggerExecute( gg_trg_MissionFailed_BaseDestroyed )
    call TriggerSleepAction( 2 )
    call CustomDefeatBJ( Player(0), "TRIGSTR_012" )
endfunction

//===========================================================================
function InitTrig_Defeat takes nothing returns nothing
    set gg_trg_Defeat = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Defeat, Player(0), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Defeat, Condition( function Trig_Defeat_Conditions ) )
    call TriggerAddAction( gg_trg_Defeat, function Trig_Defeat_Actions )
endfunction

//===========================================================================
// Trigger: Hint PeonAreGood
//===========================================================================
function Trig_Hint_PeonAreGood_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_570" )
endfunction

//===========================================================================
function InitTrig_Hint_PeonAreGood takes nothing returns nothing
    set gg_trg_Hint_PeonAreGood = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Hint_PeonAreGood, function Trig_Hint_PeonAreGood_Actions )
endfunction

//===========================================================================
// Trigger: Hint QueuePeons
//===========================================================================
function Trig_Hint_QueuePeons_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_571" )
endfunction

//===========================================================================
function InitTrig_Hint_QueuePeons takes nothing returns nothing
    set gg_trg_Hint_QueuePeons = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Hint_QueuePeons, function Trig_Hint_QueuePeons_Actions )
endfunction

//===========================================================================
// Trigger: Hint WorkComplete
//===========================================================================
function Trig_Hint_WorkComplete_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_573" )
endfunction

//===========================================================================
function InitTrig_Hint_WorkComplete takes nothing returns nothing
    set gg_trg_Hint_WorkComplete = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Hint_WorkComplete, function Trig_Hint_WorkComplete_Actions )
endfunction

//===========================================================================
// Trigger: Hint Upgrades
//===========================================================================
function Trig_Hint_Upgrades_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_574" )
endfunction

//===========================================================================
function InitTrig_Hint_Upgrades takes nothing returns nothing
    set gg_trg_Hint_Upgrades = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Hint_Upgrades, function Trig_Hint_Upgrades_Actions )
endfunction

//===========================================================================
// Trigger: Hint DoubleBarracks
//===========================================================================
function Trig_Hint_DoubleBarracks_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_578" )
endfunction

//===========================================================================
function InitTrig_Hint_DoubleBarracks takes nothing returns nothing
    set gg_trg_Hint_DoubleBarracks = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Hint_DoubleBarracks, function Trig_Hint_DoubleBarracks_Actions )
endfunction

//===========================================================================
// Trigger: Hint Repair
//===========================================================================
function Trig_Hint_Repair_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_579" )
endfunction

//===========================================================================
function InitTrig_Hint_Repair takes nothing returns nothing
    set gg_trg_Hint_Repair = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Hint_Repair, function Trig_Hint_Repair_Actions )
endfunction

//===========================================================================
// Trigger: Hint Upkeep
//===========================================================================
function Trig_Hint_Upkeep_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_580" )
endfunction

//===========================================================================
function InitTrig_Hint_Upkeep takes nothing returns nothing
    set gg_trg_Hint_Upkeep = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Hint_Upkeep, function Trig_Hint_Upkeep_Actions )
endfunction

//===========================================================================
// Trigger: Hint Gate
//===========================================================================
function Trig_Hint_Gate_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_591" )
endfunction

//===========================================================================
function InitTrig_Hint_Gate takes nothing returns nothing
    set gg_trg_Hint_Gate = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Hint_Gate, function Trig_Hint_Gate_Actions )
endfunction

//===========================================================================
// Trigger: Hint StandDown
//===========================================================================
function Trig_Hint_StandDown_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_698" )
endfunction

//===========================================================================
function InitTrig_Hint_StandDown takes nothing returns nothing
    set gg_trg_Hint_StandDown = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Hint_StandDown, function Trig_Hint_StandDown_Actions )
endfunction

//===========================================================================
// Trigger: Hint RallyPeons
//===========================================================================
function Trig_Hint_RallyPeons_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_699" )
endfunction

//===========================================================================
function InitTrig_Hint_RallyPeons takes nothing returns nothing
    set gg_trg_Hint_RallyPeons = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Hint_RallyPeons, function Trig_Hint_RallyPeons_Actions )
endfunction

//===========================================================================
// Trigger: Hint Altar
//===========================================================================
function Trig_Hint_Altar_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_728" )
endfunction

//===========================================================================
function InitTrig_Hint_Altar takes nothing returns nothing
    set gg_trg_Hint_Altar = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Hint_Altar, function Trig_Hint_Altar_Actions )
endfunction

//===========================================================================
// Trigger: Hint Revival
//===========================================================================
function Trig_Hint_Revival_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_729" )
endfunction

//===========================================================================
function InitTrig_Hint_Revival takes nothing returns nothing
    set gg_trg_Hint_Revival = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Hint_Revival, function Trig_Hint_Revival_Actions )
endfunction

//===========================================================================
// Trigger: NewUnit Shaman
//===========================================================================
function Trig_NewUnit_Shaman_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_UNITACQUIRED, "TRIGSTR_674" )
endfunction

//===========================================================================
function InitTrig_NewUnit_Shaman takes nothing returns nothing
    set gg_trg_NewUnit_Shaman = CreateTrigger(  )
    call TriggerAddAction( gg_trg_NewUnit_Shaman, function Trig_NewUnit_Shaman_Actions )
endfunction

//===========================================================================
// Trigger: MissionFailed BaseDestroyed
//===========================================================================
function Trig_MissionFailed_BaseDestroyed_Actions takes nothing returns nothing
    call QuestMessageBJ( udg_APG1_Player, bj_QUESTMESSAGE_MISSIONFAILED, "TRIGSTR_568" )
endfunction

//===========================================================================
function InitTrig_MissionFailed_BaseDestroyed takes nothing returns nothing
    set gg_trg_MissionFailed_BaseDestroyed = CreateTrigger(  )
    call TriggerAddAction( gg_trg_MissionFailed_BaseDestroyed, function Trig_MissionFailed_BaseDestroyed_Actions )
endfunction

//===========================================================================
// Trigger: QuestBase Create
//===========================================================================
function Trig_QuestBase_Create_Conditions takes nothing returns boolean
    if ( not ( udg_QuestBaseCreated == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_QuestBase_Create_Actions takes nothing returns nothing
    set udg_QuestBaseCreated = true
    call CreateQuestBJ( bj_QUESTTYPE_REQ_UNDISCOVERED, "TRIGSTR_028", "TRIGSTR_029", "ReplaceableTextures\\CommandButtons\\BTNRepair.tga" )
    set udg_QuestBase = GetLastCreatedQuestBJ()
    call CreateQuestItemBJ( udg_QuestBase, "TRIGSTR_031" )
    set udg_QuestBaseReqBurrows = GetLastCreatedQuestItemBJ()
    call CreateQuestItemBJ( udg_QuestBase, "TRIGSTR_033" )
    set udg_QuestBaseReqWarMill = GetLastCreatedQuestItemBJ()
    call CreateQuestItemBJ( udg_QuestBase, "TRIGSTR_449" )
    set udg_QuestBaseReqBarracks = GetLastCreatedQuestItemBJ()
    call CreateQuestItemBJ( udg_QuestBase, "TRIGSTR_034" )
    set udg_QuestBaseReqGrunts = GetLastCreatedQuestItemBJ()
endfunction

//===========================================================================
function InitTrig_QuestBase_Create takes nothing returns nothing
    set gg_trg_QuestBase_Create = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_QuestBase_Create, Condition( function Trig_QuestBase_Create_Conditions ) )
    call TriggerAddAction( gg_trg_QuestBase_Create, function Trig_QuestBase_Create_Actions )
endfunction

//===========================================================================
// Trigger: QuestBase Discover
//===========================================================================
function Trig_QuestBase_Discover_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_QuestBase_Create )
    call QuestSetDiscoveredBJ( udg_QuestBase, true )
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_030" )
endfunction

//===========================================================================
function InitTrig_QuestBase_Discover takes nothing returns nothing
    set gg_trg_QuestBase_Discover = CreateTrigger(  )
    call TriggerAddAction( gg_trg_QuestBase_Discover, function Trig_QuestBase_Discover_Actions )
endfunction

//===========================================================================
// Trigger: QuestBase Completed Check
//===========================================================================
function Trig_QuestBase_Completed_Check_Conditions takes nothing returns boolean
    if ( not ( IsQuestItemCompleted(udg_QuestBaseReqBurrows) == true ) ) then
        return false
    endif
    if ( not ( IsQuestItemCompleted(udg_QuestBaseReqWarMill) == true ) ) then
        return false
    endif
    if ( not ( IsQuestItemCompleted(udg_QuestBaseReqBarracks) == true ) ) then
        return false
    endif
    if ( not ( IsQuestItemCompleted(udg_QuestBaseReqGrunts) == true ) ) then
        return false
    endif
    if ( not ( IsQuestCompleted(udg_QuestBase) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_QuestBase_Completed_Check_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_QuestBase_Create )
    call QuestSetCompletedBJ( udg_QuestBase, true )
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_COMPLETED, "TRIGSTR_035" )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerAddBJ( gg_trg_Bridge_Cinematic, true )
endfunction

//===========================================================================
function InitTrig_QuestBase_Completed_Check takes nothing returns nothing
    set gg_trg_QuestBase_Completed_Check = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_QuestBase_Completed_Check, Condition( function Trig_QuestBase_Completed_Check_Conditions ) )
    call TriggerAddAction( gg_trg_QuestBase_Completed_Check, function Trig_QuestBase_Completed_Check_Actions )
endfunction

//===========================================================================
// Trigger: QuestBase ReqUpdate
//===========================================================================
function Trig_QuestBase_ReqUpdate_Conditions takes nothing returns boolean
    if ( not ( IsQuestCompleted(udg_QuestBase) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_QuestBase_ReqUpdate_Func003001 takes nothing returns boolean
    return ( IsQuestItemCompleted(udg_QuestBaseReqBurrows) == true )
endfunction

function Trig_QuestBase_ReqUpdate_Func004001 takes nothing returns boolean
    return ( IsQuestItemCompleted(udg_QuestBaseReqWarMill) == true )
endfunction

function Trig_QuestBase_ReqUpdate_Func005001 takes nothing returns boolean
    return ( IsQuestItemCompleted(udg_QuestBaseReqBarracks) == true )
endfunction

function Trig_QuestBase_ReqUpdate_Func006001 takes nothing returns boolean
    return ( IsQuestItemCompleted(udg_QuestBaseReqGrunts) == true )
endfunction

function Trig_QuestBase_ReqUpdate_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_UPDATED, "TRIGSTR_036" )
    if ( Trig_QuestBase_ReqUpdate_Func003001() ) then
        call QuestMessageBJ( udg_APG1_Player, bj_QUESTMESSAGE_REQUIREMENT, "TRIGSTR_587" )
    else
        call QuestMessageBJ( udg_APG1_Player, bj_QUESTMESSAGE_REQUIREMENT, "TRIGSTR_588" )
    endif
    if ( Trig_QuestBase_ReqUpdate_Func004001() ) then
        call QuestMessageBJ( udg_APG1_Player, bj_QUESTMESSAGE_REQUIREMENT, "TRIGSTR_189" )
    else
        call QuestMessageBJ( udg_APG1_Player, bj_QUESTMESSAGE_REQUIREMENT, "TRIGSTR_190" )
    endif
    if ( Trig_QuestBase_ReqUpdate_Func005001() ) then
        call QuestMessageBJ( udg_APG1_Player, bj_QUESTMESSAGE_REQUIREMENT, "TRIGSTR_169" )
    else
        call QuestMessageBJ( udg_APG1_Player, bj_QUESTMESSAGE_REQUIREMENT, "TRIGSTR_170" )
    endif
    if ( Trig_QuestBase_ReqUpdate_Func006001() ) then
        call QuestMessageBJ( udg_APG1_Player, bj_QUESTMESSAGE_REQUIREMENT, "TRIGSTR_560" )
    else
        call QuestMessageBJ( udg_APG1_Player, bj_QUESTMESSAGE_REQUIREMENT, "TRIGSTR_561" )
    endif
endfunction

//===========================================================================
function InitTrig_QuestBase_ReqUpdate takes nothing returns nothing
    set gg_trg_QuestBase_ReqUpdate = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_QuestBase_ReqUpdate, Condition( function Trig_QuestBase_ReqUpdate_Conditions ) )
    call TriggerAddAction( gg_trg_QuestBase_ReqUpdate, function Trig_QuestBase_ReqUpdate_Actions )
endfunction

//===========================================================================
// Trigger: QuestBase ReqBurrow Done
//===========================================================================
function Trig_QuestBase_ReqBurrow_Done_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_QuestBase_Create )
    call QuestItemSetCompletedBJ( udg_QuestBaseReqBurrows, true )
    call ConditionalTriggerExecute( gg_trg_QuestBase_Completed_Check )
    call ConditionalTriggerExecute( gg_trg_QuestBase_ReqUpdate )
endfunction

//===========================================================================
function InitTrig_QuestBase_ReqBurrow_Done takes nothing returns nothing
    set gg_trg_QuestBase_ReqBurrow_Done = CreateTrigger(  )
    call TriggerAddAction( gg_trg_QuestBase_ReqBurrow_Done, function Trig_QuestBase_ReqBurrow_Done_Actions )
endfunction

//===========================================================================
// Trigger: QuestBase ReqWarMill Done
//===========================================================================
function Trig_QuestBase_ReqWarMill_Done_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_QuestBase_Create )
    call QuestItemSetCompletedBJ( udg_QuestBaseReqWarMill, true )
    call ConditionalTriggerExecute( gg_trg_QuestBase_Completed_Check )
    call ConditionalTriggerExecute( gg_trg_QuestBase_ReqUpdate )
endfunction

//===========================================================================
function InitTrig_QuestBase_ReqWarMill_Done takes nothing returns nothing
    set gg_trg_QuestBase_ReqWarMill_Done = CreateTrigger(  )
    call TriggerAddAction( gg_trg_QuestBase_ReqWarMill_Done, function Trig_QuestBase_ReqWarMill_Done_Actions )
endfunction

//===========================================================================
// Trigger: QuestBase ReqBarracks Done
//===========================================================================
function Trig_QuestBase_ReqBarracks_Done_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_QuestBase_Create )
    call QuestItemSetCompletedBJ( udg_QuestBaseReqBarracks, true )
    call ConditionalTriggerExecute( gg_trg_QuestBase_Completed_Check )
    call ConditionalTriggerExecute( gg_trg_QuestBase_ReqUpdate )
endfunction

//===========================================================================
function InitTrig_QuestBase_ReqBarracks_Done takes nothing returns nothing
    set gg_trg_QuestBase_ReqBarracks_Done = CreateTrigger(  )
    call TriggerAddAction( gg_trg_QuestBase_ReqBarracks_Done, function Trig_QuestBase_ReqBarracks_Done_Actions )
endfunction

//===========================================================================
// Trigger: QuestBase ReqGrunts Done
//===========================================================================
function Trig_QuestBase_ReqGrunts_Done_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_QuestBase_Create )
    call QuestItemSetCompletedBJ( udg_QuestBaseReqGrunts, true )
    call ConditionalTriggerExecute( gg_trg_QuestBase_Completed_Check )
    call ConditionalTriggerExecute( gg_trg_QuestBase_ReqUpdate )
endfunction

//===========================================================================
function InitTrig_QuestBase_ReqGrunts_Done takes nothing returns nothing
    set gg_trg_QuestBase_ReqGrunts_Done = CreateTrigger(  )
    call TriggerAddAction( gg_trg_QuestBase_ReqGrunts_Done, function Trig_QuestBase_ReqGrunts_Done_Actions )
endfunction

//===========================================================================
// Trigger: QuestGrom Create
//===========================================================================
function Trig_QuestGrom_Create_Conditions takes nothing returns boolean
    if ( not ( udg_QuestGromCreated == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_QuestGrom_Create_Actions takes nothing returns nothing
    set udg_QuestGromCreated = true
    call CreateQuestBJ( bj_QUESTTYPE_REQ_UNDISCOVERED, "TRIGSTR_046", "TRIGSTR_047", "ReplaceableTextures\\CommandButtons\\BTNHellscream.tga" )
    set udg_QuestGrom = GetLastCreatedQuestBJ()
    call CreateQuestItemBJ( udg_QuestGrom, "TRIGSTR_723" )
    set udg_QuestGromReqFind = GetLastCreatedQuestItemBJ()
endfunction

//===========================================================================
function InitTrig_QuestGrom_Create takes nothing returns nothing
    set gg_trg_QuestGrom_Create = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_QuestGrom_Create, Condition( function Trig_QuestGrom_Create_Conditions ) )
    call TriggerAddAction( gg_trg_QuestGrom_Create, function Trig_QuestGrom_Create_Actions )
endfunction

//===========================================================================
// Trigger: QuestGrom Discover
//===========================================================================
function Trig_QuestGrom_Discover_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_QuestGrom_Create )
    call QuestSetDiscoveredBJ( udg_QuestGrom, true )
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_205" )
endfunction

//===========================================================================
function InitTrig_QuestGrom_Discover takes nothing returns nothing
    set gg_trg_QuestGrom_Discover = CreateTrigger(  )
    call TriggerAddAction( gg_trg_QuestGrom_Discover, function Trig_QuestGrom_Discover_Actions )
endfunction

//===========================================================================
// Trigger: QuestGrom Update Found
//===========================================================================
function Trig_QuestGrom_Update_Found_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_QuestGrom_Create )
    call QuestItemSetCompletedBJ( udg_QuestGromReqFind, true )
    call CreateQuestItemBJ( udg_QuestGrom, "TRIGSTR_724" )
    set udg_QuestGromReqTowers = GetLastCreatedQuestItemBJ()
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_UPDATED, "TRIGSTR_725" )
endfunction

//===========================================================================
function InitTrig_QuestGrom_Update_Found takes nothing returns nothing
    set gg_trg_QuestGrom_Update_Found = CreateTrigger(  )
    call TriggerAddAction( gg_trg_QuestGrom_Update_Found, function Trig_QuestGrom_Update_Found_Actions )
endfunction

//===========================================================================
// Trigger: QuestGrom Completed
//===========================================================================
function Trig_QuestGrom_Completed_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_QuestGrom_Create )
    call QuestSetCompletedBJ( udg_QuestGrom, true )
    call QuestItemSetCompletedBJ( udg_QuestGromReqFind, true )
    call QuestItemSetCompletedBJ( udg_QuestGromReqTowers, true )
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_COMPLETED, "TRIGSTR_206" )
endfunction

//===========================================================================
function InitTrig_QuestGrom_Completed takes nothing returns nothing
    set gg_trg_QuestGrom_Completed = CreateTrigger(  )
    call TriggerAddAction( gg_trg_QuestGrom_Completed, function Trig_QuestGrom_Completed_Actions )
endfunction

//===========================================================================
// Trigger: Leaderboard Create
//===========================================================================
function Trig_Leaderboard_Create_Conditions takes nothing returns boolean
    if ( not ( udg_LeaderboardExists == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Leaderboard_Create_Actions takes nothing returns nothing
    set udg_LeaderboardExists = true
    call CreateLeaderboardBJ( GetPlayersAll(), "TRIGSTR_564" )
    set udg_LeaderboardGrunts = GetLastCreatedLeaderboard()
    call LeaderboardSetStyleBJ( udg_LeaderboardGrunts, false, true, false, false )
    call LeaderboardAddItemBJ( udg_AP1_Player, udg_LeaderboardGrunts, "TRIGSTR_565", 0 )
    call LeaderboardSetPlayerItemLabelColorBJ( udg_AP1_Player, udg_LeaderboardGrunts, 100, 80.00, 0.00, 0 )
    call LeaderboardSetPlayerItemValueColorBJ( udg_AP1_Player, udg_LeaderboardGrunts, 100, 100.00, 100.00, 0 )
    call LeaderboardDisplayBJ( true, udg_LeaderboardGrunts )
endfunction

//===========================================================================
function InitTrig_Leaderboard_Create takes nothing returns nothing
    set gg_trg_Leaderboard_Create = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Leaderboard_Create, Condition( function Trig_Leaderboard_Create_Conditions ) )
    call TriggerAddAction( gg_trg_Leaderboard_Create, function Trig_Leaderboard_Create_Actions )
endfunction

//===========================================================================
// Trigger: Leaderboard Update
//===========================================================================
function Trig_Leaderboard_Update_Conditions takes nothing returns boolean
    if ( not ( udg_LeaderboardExists == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Leaderboard_Update_Func003002001002001 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'ogru' )
endfunction

function Trig_Leaderboard_Update_Func003002001002002 takes nothing returns boolean
    return ( IsUnitAliveBJ(GetFilterUnit()) == true )
endfunction

function Trig_Leaderboard_Update_Func003002001002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Leaderboard_Update_Func003002001002001(), Trig_Leaderboard_Update_Func003002001002002() )
endfunction

function Trig_Leaderboard_Update_Func004001 takes nothing returns boolean
    return ( udg_GruntCount == 1 )
endfunction

function Trig_Leaderboard_Update_Func005001 takes nothing returns boolean
    return ( udg_GruntCount == 2 )
endfunction

function Trig_Leaderboard_Update_Func006001 takes nothing returns boolean
    return ( udg_GruntCount == 3 )
endfunction

function Trig_Leaderboard_Update_Func007001 takes nothing returns boolean
    return ( udg_GruntCount == 4 )
endfunction

function Trig_Leaderboard_Update_Func008001 takes nothing returns boolean
    return ( udg_GruntCount == 5 )
endfunction

function Trig_Leaderboard_Update_Actions takes nothing returns nothing
    set udg_GruntCount = CountUnitsInGroup(GetUnitsOfPlayerMatching(udg_AP1_Player, Condition(function Trig_Leaderboard_Update_Func003002001002)))
    if ( Trig_Leaderboard_Update_Func004001() ) then
        call LeaderboardSetPlayerItemLabelBJ( udg_AP1_Player, udg_LeaderboardGrunts, "TRIGSTR_790" )
    else
        call DoNothing(  )
    endif
    if ( Trig_Leaderboard_Update_Func005001() ) then
        call LeaderboardSetPlayerItemLabelBJ( udg_AP1_Player, udg_LeaderboardGrunts, "TRIGSTR_795" )
    else
        call DoNothing(  )
    endif
    if ( Trig_Leaderboard_Update_Func006001() ) then
        call LeaderboardSetPlayerItemLabelBJ( udg_AP1_Player, udg_LeaderboardGrunts, "TRIGSTR_800" )
    else
        call DoNothing(  )
    endif
    if ( Trig_Leaderboard_Update_Func007001() ) then
        call LeaderboardSetPlayerItemLabelBJ( udg_AP1_Player, udg_LeaderboardGrunts, "TRIGSTR_805" )
    else
        call DoNothing(  )
    endif
    if ( Trig_Leaderboard_Update_Func008001() ) then
        call LeaderboardSetPlayerItemLabelBJ( udg_AP1_Player, udg_LeaderboardGrunts, "TRIGSTR_810" )
    else
        call DoNothing(  )
    endif
endfunction

//===========================================================================
function InitTrig_Leaderboard_Update takes nothing returns nothing
    set gg_trg_Leaderboard_Update = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Leaderboard_Update, 0.50 )
    call TriggerAddCondition( gg_trg_Leaderboard_Update, Condition( function Trig_Leaderboard_Update_Conditions ) )
    call TriggerAddAction( gg_trg_Leaderboard_Update, function Trig_Leaderboard_Update_Actions )
endfunction

//===========================================================================
// Trigger: Leaderboard Destroy
//===========================================================================
function Trig_Leaderboard_Destroy_Conditions takes nothing returns boolean
    if ( not ( udg_LeaderboardExists == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Leaderboard_Destroy_Actions takes nothing returns nothing
    set udg_LeaderboardExists = false
    call LeaderboardDisplayBJ( false, udg_LeaderboardGrunts )
    call DestroyLeaderboardBJ( udg_LeaderboardGrunts )
endfunction

//===========================================================================
function InitTrig_Leaderboard_Destroy takes nothing returns nothing
    set gg_trg_Leaderboard_Destroy = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Leaderboard_Destroy, Condition( function Trig_Leaderboard_Destroy_Conditions ) )
    call TriggerAddAction( gg_trg_Leaderboard_Destroy, function Trig_Leaderboard_Destroy_Actions )
endfunction

//===========================================================================
// Trigger: Combat Ensuing
//===========================================================================
function Trig_Combat_Ensuing_Actions takes nothing returns nothing
    set udg_InCombat = true
    call StartTimerBJ( udg_CombatDetectionTimer, false, 3.00 )
endfunction

//===========================================================================
function InitTrig_Combat_Ensuing takes nothing returns nothing
    set gg_trg_Combat_Ensuing = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Combat_Ensuing, Player(0), EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddAction( gg_trg_Combat_Ensuing, function Trig_Combat_Ensuing_Actions )
endfunction

//===========================================================================
// Trigger: Combat Done
//===========================================================================
function Trig_Combat_Done_Actions takes nothing returns nothing
    set udg_InCombat = false
endfunction

//===========================================================================
function InitTrig_Combat_Done takes nothing returns nothing
    set gg_trg_Combat_Done = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Combat_Done, udg_CombatDetectionTimer )
    call TriggerAddAction( gg_trg_Combat_Done, function Trig_Combat_Done_Actions )
endfunction

//===========================================================================
// Trigger: Q1 QuestLog Q
//
// This trigger intentionally strays from our standard post-quest-message delay in order to play the narration explaining the quest button itself.  It finishes the QuestDelay wait after the transmission.  In most cases, the subtitles won't be present, so the user will hear narration about the quest log as he's looking at the quest message.  With subtitles on, however, he will get a little more initial text than we generally like to give the user.  This is an unfortunate necessity of teaching the user about the quest log in a hands-on manner.
//===========================================================================
function Trig_Q1_QuestLog_Q_Func003001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_Q1_QuestLog_Q_Func008001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_Q1_QuestLog_Q_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_QuestBase_Discover )
    call TriggerSleepAction( ( 0.50 * udg_QuestDelay ) )
    if ( Trig_Q1_QuestLog_Q_Func003001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_734", gg_snd_T01Narrator07, "TRIGSTR_735", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Narrator07, 0.00 )
    if ( Trig_Q1_QuestLog_Q_Func008001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Done" )
    call TriggerSleepAction( ( 0.50 * udg_QuestDelay ) )
    call TriggerSleepAction( 1.00 )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Q1_QuestLog_Q takes nothing returns nothing
    set gg_trg_Q1_QuestLog_Q = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Q1_QuestLog_Q, function Trig_Q1_QuestLog_Q_Actions )
endfunction

//===========================================================================
// Trigger: Done Burrows
//===========================================================================
function Trig_Done_Burrows_Func002001001002001 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'otrb' )
endfunction

function Trig_Done_Burrows_Func002001001002002 takes nothing returns boolean
    return ( IsUnitAliveBJ(GetFilterUnit()) == true )
endfunction

function Trig_Done_Burrows_Func002001001002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Done_Burrows_Func002001001002001(), Trig_Done_Burrows_Func002001001002002() )
endfunction

function Trig_Done_Burrows_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetConstructedStructure()) == 'otrb' ) ) then
        return false
    endif
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerMatching(udg_AP1_Player, Condition(function Trig_Done_Burrows_Func002001001002))) >= 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Done_Burrows_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Done_Burrows_Q, true )
endfunction

//===========================================================================
function InitTrig_Done_Burrows takes nothing returns nothing
    set gg_trg_Done_Burrows = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Done_Burrows, Player(0), EVENT_PLAYER_UNIT_CONSTRUCT_FINISH )
    call TriggerAddCondition( gg_trg_Done_Burrows, Condition( function Trig_Done_Burrows_Conditions ) )
    call TriggerAddAction( gg_trg_Done_Burrows, function Trig_Done_Burrows_Actions )
endfunction

//===========================================================================
// Trigger: Done Burrows Q
//===========================================================================
function Trig_Done_Burrows_Q_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_QuestBase_ReqBurrow_Done )
    call TriggerSleepAction( udg_QuestDelay )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Done_Burrows_Q takes nothing returns nothing
    set gg_trg_Done_Burrows_Q = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Done_Burrows_Q, function Trig_Done_Burrows_Q_Actions )
endfunction

//===========================================================================
// Trigger: Done WarMill
//===========================================================================
function Trig_Done_WarMill_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetConstructedStructure()) == 'ofor' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Done_WarMill_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Done_WarMill_Q, true )
endfunction

//===========================================================================
function InitTrig_Done_WarMill takes nothing returns nothing
    set gg_trg_Done_WarMill = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Done_WarMill, Player(0), EVENT_PLAYER_UNIT_CONSTRUCT_FINISH )
    call TriggerAddCondition( gg_trg_Done_WarMill, Condition( function Trig_Done_WarMill_Conditions ) )
    call TriggerAddAction( gg_trg_Done_WarMill, function Trig_Done_WarMill_Actions )
endfunction

//===========================================================================
// Trigger: Done WarMill Q
//===========================================================================
function Trig_Done_WarMill_Q_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_QuestBase_ReqWarMill_Done )
    call TriggerSleepAction( udg_QuestDelay )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Done_WarMill_Q takes nothing returns nothing
    set gg_trg_Done_WarMill_Q = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Done_WarMill_Q, function Trig_Done_WarMill_Q_Actions )
endfunction

//===========================================================================
// Trigger: Done Barracks
//===========================================================================
function Trig_Done_Barracks_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetConstructedStructure()) == 'obar' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Done_Barracks_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Done_Barracks_Q, true )
endfunction

//===========================================================================
function InitTrig_Done_Barracks takes nothing returns nothing
    set gg_trg_Done_Barracks = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Done_Barracks, Player(0), EVENT_PLAYER_UNIT_CONSTRUCT_FINISH )
    call TriggerAddCondition( gg_trg_Done_Barracks, Condition( function Trig_Done_Barracks_Conditions ) )
    call TriggerAddAction( gg_trg_Done_Barracks, function Trig_Done_Barracks_Actions )
endfunction

//===========================================================================
// Trigger: Done Barracks Q
//===========================================================================
function Trig_Done_Barracks_Q_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_QuestBase_ReqBarracks_Done )
    call TriggerSleepAction( udg_QuestDelay )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Done_Barracks_Q takes nothing returns nothing
    set gg_trg_Done_Barracks_Q = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Done_Barracks_Q, function Trig_Done_Barracks_Q_Actions )
endfunction

//===========================================================================
// Trigger: Done Grunts
//===========================================================================
function Trig_Done_Grunts_Func002001001002001 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'ogru' )
endfunction

function Trig_Done_Grunts_Func002001001002002 takes nothing returns boolean
    return ( IsUnitAliveBJ(GetFilterUnit()) == true )
endfunction

function Trig_Done_Grunts_Func002001001002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Done_Grunts_Func002001001002001(), Trig_Done_Grunts_Func002001001002002() )
endfunction

function Trig_Done_Grunts_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTrainedUnit()) == 'ogru' ) ) then
        return false
    endif
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerMatching(udg_AP1_Player, Condition(function Trig_Done_Grunts_Func002001001002))) >= 5 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Done_Grunts_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Done_Grunts_Q, true )
endfunction

//===========================================================================
function InitTrig_Done_Grunts takes nothing returns nothing
    set gg_trg_Done_Grunts = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Done_Grunts, Player(0), EVENT_PLAYER_UNIT_TRAIN_FINISH )
    call TriggerAddCondition( gg_trg_Done_Grunts, Condition( function Trig_Done_Grunts_Conditions ) )
    call TriggerAddAction( gg_trg_Done_Grunts, function Trig_Done_Grunts_Actions )
endfunction

//===========================================================================
// Trigger: Done Grunts Q
//===========================================================================
function Trig_Done_Grunts_Q_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_QuestBase_ReqGrunts_Done )
    call TriggerSleepAction( udg_QuestDelay )
    call ConditionalTriggerExecute( gg_trg_Leaderboard_Destroy )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Done_Grunts_Q takes nothing returns nothing
    set gg_trg_Done_Grunts_Q = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Done_Grunts_Q, function Trig_Done_Grunts_Q_Actions )
endfunction

//===========================================================================
// Trigger: G1 SelectPeon Q
//===========================================================================
function Trig_G1_SelectPeon_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_G1_SelectPeon_Q_Func007001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_G1_SelectPeon_Q_Func011001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_G1_SelectPeon_Q_Func015001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_G1_SelectPeon_Q_Func020001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_G1_SelectPeon_Q_Actions takes nothing returns nothing
    call EnableTrigger( gg_trg_G1_SelectPeon_Done )
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_048", gg_snd_T02Narrator008, "TRIGSTR_049", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Narrator008, 0.00 )
    if ( Trig_G1_SelectPeon_Q_Func007001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_050", gg_snd_T02Narrator009, "TRIGSTR_051", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Narrator009, 1.00 )
    if ( Trig_G1_SelectPeon_Q_Func011001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Flash the Peon" )
    call ConditionalTriggerExecute( gg_trg_G1_SelectPeon_Flash )
    call WaitForSoundBJ( gg_snd_T02Narrator009, 0.00 )
    if ( Trig_G1_SelectPeon_Q_Func015001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Hint" )
    call ConditionalTriggerExecute( gg_trg_Hint_PeonAreGood )
    call TriggerSleepAction( udg_HintDelay )
    if ( Trig_G1_SelectPeon_Q_Func020001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_G1_SelectPeon_Q takes nothing returns nothing
    set gg_trg_G1_SelectPeon_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_G1_SelectPeon_Q, Condition( function Trig_G1_SelectPeon_Q_Conditions ) )
    call TriggerAddAction( gg_trg_G1_SelectPeon_Q, function Trig_G1_SelectPeon_Q_Actions )
endfunction

//===========================================================================
// Trigger: G1 SelectPeon Flash
//===========================================================================
function Trig_G1_SelectPeon_Flash_Conditions takes nothing returns boolean
    if ( not ( IsUnitSelected(udg_IntroPeon, udg_AP1_Player) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_G1_SelectPeon_Flash_Actions takes nothing returns nothing
    call PingMinimapLocForForce( GetPlayersAll(), GetUnitLoc(udg_IntroPeon), 1 )
    call UnitAddIndicatorBJ( udg_IntroPeon, udg_HeyLookR, udg_HeyLookG, udg_HeyLookB, udg_HeyLookA )
    call TriggerSleepAction( 1.00 )
    call UnitAddIndicatorBJ( udg_IntroPeon, udg_HeyLookR, udg_HeyLookG, udg_HeyLookB, udg_HeyLookA )
endfunction

//===========================================================================
function InitTrig_G1_SelectPeon_Flash takes nothing returns nothing
    set gg_trg_G1_SelectPeon_Flash = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_G1_SelectPeon_Flash, Condition( function Trig_G1_SelectPeon_Flash_Conditions ) )
    call TriggerAddAction( gg_trg_G1_SelectPeon_Flash, function Trig_G1_SelectPeon_Flash_Actions )
endfunction

//===========================================================================
// Trigger: G1 SelectPeon Abort
//===========================================================================
function Trig_G1_SelectPeon_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_G1_SelectPeon_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T02Narrator008, true )
    call StopSoundBJ( gg_snd_T02Narrator009, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_G1_SelectPeon_Q )
endfunction

//===========================================================================
function InitTrig_G1_SelectPeon_Abort takes nothing returns nothing
    set gg_trg_G1_SelectPeon_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_G1_SelectPeon_Abort, function Trig_G1_SelectPeon_Abort_Actions )
endfunction

//===========================================================================
// Trigger: G1 SelectPeon Done
//===========================================================================
function Trig_G1_SelectPeon_Done_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTriggerUnit()) == 'opeo' ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_G1_SelectPeon_Done_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_G1_SelectPeon_Abort )
    call TriggerSleepAction( udg_ActDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_G2_HarvestGold_Q, true )
endfunction

//===========================================================================
function InitTrig_G1_SelectPeon_Done takes nothing returns nothing
    set gg_trg_G1_SelectPeon_Done = CreateTrigger(  )
    call TriggerRegisterPlayerSelectionEventBJ( gg_trg_G1_SelectPeon_Done, Player(0), true )
    call TriggerAddCondition( gg_trg_G1_SelectPeon_Done, Condition( function Trig_G1_SelectPeon_Done_Conditions ) )
    call TriggerAddAction( gg_trg_G1_SelectPeon_Done, function Trig_G1_SelectPeon_Done_Actions )
endfunction

//===========================================================================
// Trigger: G2 HarvestGold Q
//===========================================================================
function Trig_G2_HarvestGold_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_G2_HarvestGold_Q_Func006001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_G2_HarvestGold_Q_Func010001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_G2_HarvestGold_Q_Func014001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_G2_HarvestGold_Q_Actions takes nothing returns nothing
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_052", gg_snd_T02Narrator010, "TRIGSTR_053", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Narrator010, 0.70 )
    if ( Trig_G2_HarvestGold_Q_Func006001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Flash the Gold Mine" )
    call ConditionalTriggerExecute( gg_trg_G2_HarvestGold_Flash )
    call WaitForSoundBJ( gg_snd_T02Narrator010, 0 )
    if ( Trig_G2_HarvestGold_Q_Func010001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_054", gg_snd_T02Narrator013, "TRIGSTR_055", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Narrator013, 0.00 )
    if ( Trig_G2_HarvestGold_Q_Func014001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_G2_HarvestGold_Q takes nothing returns nothing
    set gg_trg_G2_HarvestGold_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_G2_HarvestGold_Q, Condition( function Trig_G2_HarvestGold_Q_Conditions ) )
    call TriggerAddAction( gg_trg_G2_HarvestGold_Q, function Trig_G2_HarvestGold_Q_Actions )
endfunction

//===========================================================================
// Trigger: G2 HarvestGold Flash
//===========================================================================
function Trig_G2_HarvestGold_Flash_Conditions takes nothing returns boolean
    if ( not ( IsUnitSelected(udg_GoldMine, udg_AP1_Player) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_G2_HarvestGold_Flash_Actions takes nothing returns nothing
    call PingMinimapLocForForce( GetPlayersAll(), GetUnitLoc(udg_GoldMine), 1 )
    call UnitAddIndicatorBJ( udg_GoldMine, udg_HeyLookR, udg_HeyLookG, udg_HeyLookB, udg_HeyLookA )
    call TriggerSleepAction( 1.00 )
    call UnitAddIndicatorBJ( udg_GoldMine, udg_HeyLookR, udg_HeyLookG, udg_HeyLookB, udg_HeyLookA )
endfunction

//===========================================================================
function InitTrig_G2_HarvestGold_Flash takes nothing returns nothing
    set gg_trg_G2_HarvestGold_Flash = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_G2_HarvestGold_Flash, Condition( function Trig_G2_HarvestGold_Flash_Conditions ) )
    call TriggerAddAction( gg_trg_G2_HarvestGold_Flash, function Trig_G2_HarvestGold_Flash_Actions )
endfunction

//===========================================================================
// Trigger: G2 HarvestGold Abort
//===========================================================================
function Trig_G2_HarvestGold_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_G2_HarvestGold_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T02Narrator010, true )
    call StopSoundBJ( gg_snd_T02Narrator013, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_G2_HarvestGold_Q )
endfunction

//===========================================================================
function InitTrig_G2_HarvestGold_Abort takes nothing returns nothing
    set gg_trg_G2_HarvestGold_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_G2_HarvestGold_Abort, function Trig_G2_HarvestGold_Abort_Actions )
endfunction

//===========================================================================
// Trigger: G2 HarvestGold Done
//===========================================================================
function Trig_G2_HarvestGold_Done_Func006001 takes nothing returns boolean
    return ( GetIssuedOrderIdBJ() == String2OrderIdBJ("harvest") )
endfunction

function Trig_G2_HarvestGold_Done_Func006002 takes nothing returns boolean
    return ( GetIssuedOrderIdBJ() == String2OrderIdBJ("smart") )
endfunction

function Trig_G2_HarvestGold_Done_Conditions takes nothing returns boolean
    if ( not GetBooleanOr( Trig_G2_HarvestGold_Done_Func006001(), Trig_G2_HarvestGold_Done_Func006002() ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetOrderTargetUnit()) == 'ngol' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetOrderedUnit()) == 'opeo' ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_G2_HarvestGold_Done_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_G2_HarvestGold_Abort )
    call TriggerSleepAction( udg_ActDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_G3_More_Q, true )
endfunction

//===========================================================================
function InitTrig_G2_HarvestGold_Done takes nothing returns nothing
    set gg_trg_G2_HarvestGold_Done = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_G2_HarvestGold_Done, Player(0), EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER )
    call TriggerAddCondition( gg_trg_G2_HarvestGold_Done, Condition( function Trig_G2_HarvestGold_Done_Conditions ) )
    call TriggerAddAction( gg_trg_G2_HarvestGold_Done, function Trig_G2_HarvestGold_Done_Actions )
endfunction

//===========================================================================
// Trigger: G3 More Q
//===========================================================================
function Trig_G3_More_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_G3_More_Q_Func009001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_G3_More_Q_Func013001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_G3_More_Q_Func018001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_G3_More_Q_Func022001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_G3_More_Q_Func026001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_G3_More_Q_Actions takes nothing returns nothing
    call EnableTrigger( gg_trg_P1_SelectHall_DoneB )
    call EnableTrigger( gg_trg_P2_TrainPeon_Done )
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_056", gg_snd_T02Narrator014, "TRIGSTR_057", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Narrator014, 0.00 )
    call TriggerSleepAction( 0.50 )
    if ( Trig_G3_More_Q_Func009001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Line" )
    call EnableTrigger( gg_trg_G3_More_DoneB )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_058", gg_snd_T02Narrator015, "TRIGSTR_059", bj_TIMETYPE_ADD, 0, false )
    if ( Trig_G3_More_Q_Func013001() ) then
        return
    else
        call DoNothing(  )
    endif
    call PingMinimapLocForForce( GetPlayersAll(), GetUnitLoc(udg_MorePeon01), 1 )
    call CommentString( "Give MorePeon01" )
    call ConditionalTriggerExecute( gg_trg_G3_More_GivePeon01 )
    call TriggerSleepAction( 0.10 )
    if ( Trig_G3_More_Q_Func018001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Give MorePeon02" )
    call ConditionalTriggerExecute( gg_trg_G3_More_GivePeon02 )
    call TriggerSleepAction( 0.10 )
    if ( Trig_G3_More_Q_Func022001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Give MorePeon03" )
    call ConditionalTriggerExecute( gg_trg_G3_More_GivePeon03 )
    call WaitForSoundBJ( gg_snd_T02Narrator015, 0 )
    if ( Trig_G3_More_Q_Func026001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
    call EnableTrigger( gg_trg_G3_More_DoneA )
    call StartTimerBJ( udg_G3MoreTimer, false, 1.00 )
endfunction

//===========================================================================
function InitTrig_G3_More_Q takes nothing returns nothing
    set gg_trg_G3_More_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_G3_More_Q, Condition( function Trig_G3_More_Q_Conditions ) )
    call TriggerAddAction( gg_trg_G3_More_Q, function Trig_G3_More_Q_Actions )
endfunction

//===========================================================================
// Trigger: G3 More GivePeon01
//===========================================================================
function Trig_G3_More_GivePeon01_Conditions takes nothing returns boolean
    if ( not ( udg_MorePeon01Given == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_G3_More_GivePeon01_Actions takes nothing returns nothing
    set udg_MorePeon01Given = true
    call SetUnitOwner( udg_MorePeon01, udg_AP1_Player, true )
    call ShowUnitShow( udg_MorePeon01 )
    call UnitAddIndicatorBJ( udg_MorePeon01, udg_HeyLookR, udg_HeyLookG, udg_HeyLookB, udg_HeyLookA )
endfunction

//===========================================================================
function InitTrig_G3_More_GivePeon01 takes nothing returns nothing
    set gg_trg_G3_More_GivePeon01 = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_G3_More_GivePeon01, Condition( function Trig_G3_More_GivePeon01_Conditions ) )
    call TriggerAddAction( gg_trg_G3_More_GivePeon01, function Trig_G3_More_GivePeon01_Actions )
endfunction

//===========================================================================
// Trigger: G3 More GivePeon02
//===========================================================================
function Trig_G3_More_GivePeon02_Conditions takes nothing returns boolean
    if ( not ( udg_MorePeon02Given == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_G3_More_GivePeon02_Actions takes nothing returns nothing
    set udg_MorePeon02Given = true
    call SetUnitOwner( udg_MorePeon02, udg_AP1_Player, true )
    call ShowUnitShow( udg_MorePeon02 )
    call UnitAddIndicatorBJ( udg_MorePeon02, udg_HeyLookR, udg_HeyLookG, udg_HeyLookB, udg_HeyLookA )
endfunction

//===========================================================================
function InitTrig_G3_More_GivePeon02 takes nothing returns nothing
    set gg_trg_G3_More_GivePeon02 = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_G3_More_GivePeon02, Condition( function Trig_G3_More_GivePeon02_Conditions ) )
    call TriggerAddAction( gg_trg_G3_More_GivePeon02, function Trig_G3_More_GivePeon02_Actions )
endfunction

//===========================================================================
// Trigger: G3 More GivePeon03
//===========================================================================
function Trig_G3_More_GivePeon03_Conditions takes nothing returns boolean
    if ( not ( udg_MorePeon03Given == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_G3_More_GivePeon03_Actions takes nothing returns nothing
    set udg_MorePeon03Given = true
    call SetUnitOwner( udg_MorePeon03, udg_AP1_Player, true )
    call ShowUnitShow( udg_MorePeon03 )
    call UnitAddIndicatorBJ( udg_MorePeon03, udg_HeyLookR, udg_HeyLookG, udg_HeyLookB, udg_HeyLookA )
endfunction

//===========================================================================
function InitTrig_G3_More_GivePeon03 takes nothing returns nothing
    set gg_trg_G3_More_GivePeon03 = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_G3_More_GivePeon03, Condition( function Trig_G3_More_GivePeon03_Conditions ) )
    call TriggerAddAction( gg_trg_G3_More_GivePeon03, function Trig_G3_More_GivePeon03_Actions )
endfunction

//===========================================================================
// Trigger: G3 More Abort
//===========================================================================
function Trig_G3_More_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_G3_More_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T02Narrator014, true )
    call StopSoundBJ( gg_snd_T02Narrator015, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Make sure the peons are given" )
    call ConditionalTriggerExecute( gg_trg_G3_More_GivePeon01 )
    call ConditionalTriggerExecute( gg_trg_G3_More_GivePeon02 )
    call ConditionalTriggerExecute( gg_trg_G3_More_GivePeon03 )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_G3_More_Q )
endfunction

//===========================================================================
function InitTrig_G3_More_Abort takes nothing returns nothing
    set gg_trg_G3_More_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_G3_More_Abort, function Trig_G3_More_Abort_Actions )
endfunction

//===========================================================================
// Trigger: G3 More DoneA
//===========================================================================
function Trig_G3_More_DoneA_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_G3_More_DoneA_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_G3_More_DoneA )
    call DisableTrigger( gg_trg_G3_More_DoneB )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_G3_More_Abort )
    call TriggerSleepAction( udg_ActDoneDelay )
    call TriggerSleepAction( 3.00 )
    call QueuedTriggerAddBJ( gg_trg_G4_Stockpile_Q, true )
endfunction

//===========================================================================
function InitTrig_G3_More_DoneA takes nothing returns nothing
    set gg_trg_G3_More_DoneA = CreateTrigger(  )
    call DisableTrigger( gg_trg_G3_More_DoneA )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_G3_More_DoneA, udg_G3MoreTimer )
    call TriggerAddCondition( gg_trg_G3_More_DoneA, Condition( function Trig_G3_More_DoneA_Conditions ) )
    call TriggerAddAction( gg_trg_G3_More_DoneA, function Trig_G3_More_DoneA_Actions )
endfunction

//===========================================================================
// Trigger: G3 More DoneB
//===========================================================================
function Trig_G3_More_DoneB_Func001001 takes nothing returns boolean
    return ( GetIssuedOrderIdBJ() == String2OrderIdBJ("harvest") )
endfunction

function Trig_G3_More_DoneB_Func001002 takes nothing returns boolean
    return ( GetIssuedOrderIdBJ() == String2OrderIdBJ("smart") )
endfunction

function Trig_G3_More_DoneB_Conditions takes nothing returns boolean
    if ( not GetBooleanOr( Trig_G3_More_DoneB_Func001001(), Trig_G3_More_DoneB_Func001002() ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetOrderTargetUnit()) == 'ngol' ) ) then
        return false
    endif
    if ( not ( IsUnitInGroup(GetOrderedUnit(), udg_MorePeons) == true ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_G3_More_DoneB_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_G3_More_DoneA )
    call DisableTrigger( gg_trg_G3_More_DoneB )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_G3_More_Abort )
    call TriggerSleepAction( udg_ActDoneDelay )
    call TriggerSleepAction( 3.00 )
    call QueuedTriggerAddBJ( gg_trg_G4_Stockpile_Q, true )
endfunction

//===========================================================================
function InitTrig_G3_More_DoneB takes nothing returns nothing
    set gg_trg_G3_More_DoneB = CreateTrigger(  )
    call DisableTrigger( gg_trg_G3_More_DoneB )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_G3_More_DoneB, Player(0), EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER )
    call TriggerAddCondition( gg_trg_G3_More_DoneB, Condition( function Trig_G3_More_DoneB_Conditions ) )
    call TriggerAddAction( gg_trg_G3_More_DoneB, function Trig_G3_More_DoneB_Actions )
endfunction

//===========================================================================
// Trigger: G4 Stockpile Q
//===========================================================================
function Trig_G4_Stockpile_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_G4_Stockpile_Q_Func006001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_G4_Stockpile_Q_Actions takes nothing returns nothing
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_460", gg_snd_T02Narrator016, "TRIGSTR_461", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Narrator016, 0.00 )
    if ( Trig_G4_Stockpile_Q_Func006001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
    call EnableTrigger( gg_trg_G4_Stockpile_Done )
    call StartTimerBJ( udg_G4StockpileTimer, false, 3.00 )
endfunction

//===========================================================================
function InitTrig_G4_Stockpile_Q takes nothing returns nothing
    set gg_trg_G4_Stockpile_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_G4_Stockpile_Q, Condition( function Trig_G4_Stockpile_Q_Conditions ) )
    call TriggerAddAction( gg_trg_G4_Stockpile_Q, function Trig_G4_Stockpile_Q_Actions )
endfunction

//===========================================================================
// Trigger: G4 Stockpile Abort
//===========================================================================
function Trig_G4_Stockpile_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_G4_Stockpile_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T02Narrator016, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_G4_Stockpile_Q )
endfunction

//===========================================================================
function InitTrig_G4_Stockpile_Abort takes nothing returns nothing
    set gg_trg_G4_Stockpile_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_G4_Stockpile_Abort, function Trig_G4_Stockpile_Abort_Actions )
endfunction

//===========================================================================
// Trigger: G4 Stockpile Done
//===========================================================================
function Trig_G4_Stockpile_Done_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_G4_Stockpile_Done_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_G4_Stockpile_Abort )
    call TriggerSleepAction( udg_ActDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_P1_SelectHall_Q, true )
    set udg_G_HarvestingGoldDone = true
endfunction

//===========================================================================
function InitTrig_G4_Stockpile_Done takes nothing returns nothing
    set gg_trg_G4_Stockpile_Done = CreateTrigger(  )
    call DisableTrigger( gg_trg_G4_Stockpile_Done )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_G4_Stockpile_Done, udg_G4StockpileTimer )
    call TriggerAddCondition( gg_trg_G4_Stockpile_Done, Condition( function Trig_G4_Stockpile_Done_Conditions ) )
    call TriggerAddAction( gg_trg_G4_Stockpile_Done, function Trig_G4_Stockpile_Done_Actions )
endfunction

//===========================================================================
// Trigger: P1 SelectHall Q
//
// This step is optional.
// Estimated time for slowly running through the sequence:  45s
//===========================================================================
function Trig_P1_SelectHall_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_P1_SelectHall_Q_Func002001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_P1_SelectHall_Q_Func007001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_P1_SelectHall_Q_Func012001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_P1_SelectHall_Q_Func016001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_P1_SelectHall_Q_Func020001 takes nothing returns boolean
    return ( IsUnitSelected(udg_GreatHall, Player(0)) == true )
endfunction

function Trig_P1_SelectHall_Q_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.50 )
    if ( Trig_P1_SelectHall_Q_Func002001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_101", gg_snd_T02Narrator018, "TRIGSTR_102", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Narrator018, 0 )
    if ( Trig_P1_SelectHall_Q_Func007001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Line" )
    call EnableTrigger( gg_trg_P1_SelectHall_DoneA )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_103", gg_snd_T02Narrator019, "TRIGSTR_104", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Narrator019, 1.00 )
    if ( Trig_P1_SelectHall_Q_Func012001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Flash the Great Hall" )
    call ConditionalTriggerExecute( gg_trg_P1_SelectHall_Flash )
    call WaitForSoundBJ( gg_snd_T02Narrator019, 0 )
    if ( Trig_P1_SelectHall_Q_Func016001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
    if ( Trig_P1_SelectHall_Q_Func020001() ) then
        call TriggerExecute( gg_trg_P1_SelectHall_DoneA )
    else
        call DoNothing(  )
    endif
    call CommentString( "Optional sequence - time out if the player skips it" )
    call TriggerSleepAction( 75.00 )
    set udg_P_TrainingPeonsDone = true
endfunction

//===========================================================================
function InitTrig_P1_SelectHall_Q takes nothing returns nothing
    set gg_trg_P1_SelectHall_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_P1_SelectHall_Q, Condition( function Trig_P1_SelectHall_Q_Conditions ) )
    call TriggerAddAction( gg_trg_P1_SelectHall_Q, function Trig_P1_SelectHall_Q_Actions )
endfunction

//===========================================================================
// Trigger: P1 SelectHall Flash
//===========================================================================
function Trig_P1_SelectHall_Flash_Conditions takes nothing returns boolean
    if ( not ( IsUnitSelected(udg_GreatHall, udg_AP1_Player) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_P1_SelectHall_Flash_Actions takes nothing returns nothing
    call PingMinimapLocForForce( GetPlayersAll(), GetUnitLoc(udg_GreatHall), 1 )
    call UnitAddIndicatorBJ( udg_GreatHall, udg_HeyLookR, udg_HeyLookG, udg_HeyLookB, udg_HeyLookA )
    call TriggerSleepAction( 1.00 )
    call UnitAddIndicatorBJ( udg_GreatHall, udg_HeyLookR, udg_HeyLookG, udg_HeyLookB, udg_HeyLookA )
endfunction

//===========================================================================
function InitTrig_P1_SelectHall_Flash takes nothing returns nothing
    set gg_trg_P1_SelectHall_Flash = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_P1_SelectHall_Flash, Condition( function Trig_P1_SelectHall_Flash_Conditions ) )
    call TriggerAddAction( gg_trg_P1_SelectHall_Flash, function Trig_P1_SelectHall_Flash_Actions )
endfunction

//===========================================================================
// Trigger: P1 SelectHall Abort
//===========================================================================
function Trig_P1_SelectHall_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_P1_SelectHall_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T02Narrator018, true )
    call StopSoundBJ( gg_snd_T02Narrator019, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_P1_SelectHall_Q )
endfunction

//===========================================================================
function InitTrig_P1_SelectHall_Abort takes nothing returns nothing
    set gg_trg_P1_SelectHall_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_P1_SelectHall_Abort, function Trig_P1_SelectHall_Abort_Actions )
endfunction

//===========================================================================
// Trigger: P1 SelectHall DoneA
//===========================================================================
function Trig_P1_SelectHall_DoneA_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTriggerUnit()) == 'ogre' ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_P1_SelectHall_DoneA_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_P1_SelectHall_DoneA )
    call DisableTrigger( gg_trg_P1_SelectHall_DoneB )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_P1_SelectHall_Abort )
    call TriggerSleepAction( udg_ActDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_P2_TrainPeon_Q, true )
endfunction

//===========================================================================
function InitTrig_P1_SelectHall_DoneA takes nothing returns nothing
    set gg_trg_P1_SelectHall_DoneA = CreateTrigger(  )
    call DisableTrigger( gg_trg_P1_SelectHall_DoneA )
    call TriggerRegisterPlayerSelectionEventBJ( gg_trg_P1_SelectHall_DoneA, Player(0), true )
    call TriggerAddCondition( gg_trg_P1_SelectHall_DoneA, Condition( function Trig_P1_SelectHall_DoneA_Conditions ) )
    call TriggerAddAction( gg_trg_P1_SelectHall_DoneA, function Trig_P1_SelectHall_DoneA_Actions )
endfunction

//===========================================================================
// Trigger: P1 SelectHall DoneB
//
// Alternate done condition - allows user to bypass P1,P2 if they start training already.
//===========================================================================
function Trig_P1_SelectHall_DoneB_Conditions takes nothing returns boolean
    if ( not ( GetTrainedUnitType() == 'opeo' ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_P1_SelectHall_DoneB_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_P1_SelectHall_DoneA )
    call DisableTrigger( gg_trg_P1_SelectHall_DoneB )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_P1_SelectHall_Abort )
    call TriggerSleepAction( udg_ActDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_P2_TrainPeon_Q, true )
endfunction

//===========================================================================
function InitTrig_P1_SelectHall_DoneB takes nothing returns nothing
    set gg_trg_P1_SelectHall_DoneB = CreateTrigger(  )
    call DisableTrigger( gg_trg_P1_SelectHall_DoneB )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_P1_SelectHall_DoneB, Player(0), EVENT_PLAYER_UNIT_TRAIN_START )
    call TriggerAddCondition( gg_trg_P1_SelectHall_DoneB, Condition( function Trig_P1_SelectHall_DoneB_Conditions ) )
    call TriggerAddAction( gg_trg_P1_SelectHall_DoneB, function Trig_P1_SelectHall_DoneB_Actions )
endfunction

//===========================================================================
// Trigger: P2 TrainPeon Q
//===========================================================================
function Trig_P2_TrainPeon_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_P2_TrainPeon_Q_Func002001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_P2_TrainPeon_Q_Func007001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_P2_TrainPeon_Q_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.50 )
    if ( Trig_P2_TrainPeon_Q_Func002001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_105", gg_snd_T02Narrator020, "TRIGSTR_106", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Narrator020, 0 )
    if ( Trig_P2_TrainPeon_Q_Func007001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_P2_TrainPeon_Q takes nothing returns nothing
    set gg_trg_P2_TrainPeon_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_P2_TrainPeon_Q, Condition( function Trig_P2_TrainPeon_Q_Conditions ) )
    call TriggerAddAction( gg_trg_P2_TrainPeon_Q, function Trig_P2_TrainPeon_Q_Actions )
endfunction

//===========================================================================
// Trigger: P2 TrainPeon Abort
//===========================================================================
function Trig_P2_TrainPeon_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_P2_TrainPeon_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T02Narrator020, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_P2_TrainPeon_Q )
endfunction

//===========================================================================
function InitTrig_P2_TrainPeon_Abort takes nothing returns nothing
    set gg_trg_P2_TrainPeon_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_P2_TrainPeon_Abort, function Trig_P2_TrainPeon_Abort_Actions )
endfunction

//===========================================================================
// Trigger: P2 TrainPeon Done
//===========================================================================
function Trig_P2_TrainPeon_Done_Conditions takes nothing returns boolean
    if ( not ( GetTrainedUnitType() == 'opeo' ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_P2_TrainPeon_Done_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_P2_TrainPeon_Abort )
    call TriggerSleepAction( udg_ActDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_P3_TrainingPeon_Q, true )
endfunction

//===========================================================================
function InitTrig_P2_TrainPeon_Done takes nothing returns nothing
    set gg_trg_P2_TrainPeon_Done = CreateTrigger(  )
    call DisableTrigger( gg_trg_P2_TrainPeon_Done )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_P2_TrainPeon_Done, Player(0), EVENT_PLAYER_UNIT_TRAIN_START )
    call TriggerAddCondition( gg_trg_P2_TrainPeon_Done, Condition( function Trig_P2_TrainPeon_Done_Conditions ) )
    call TriggerAddAction( gg_trg_P2_TrainPeon_Done, function Trig_P2_TrainPeon_Done_Actions )
endfunction

//===========================================================================
// Trigger: P3 TrainingPeon Q
//===========================================================================
function Trig_P3_TrainingPeon_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_P3_TrainingPeon_Q_Func007001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_P3_TrainingPeon_Q_Func012001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_P3_TrainingPeon_Q_Actions takes nothing returns nothing
    call EnableTrigger( gg_trg_P3_TrainingPeon_DoneA )
    call EnableTrigger( gg_trg_P3_TrainingPeon_DoneB )
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_121", gg_snd_T02Narrator021, "TRIGSTR_122", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Narrator021, 0 )
    if ( Trig_P3_TrainingPeon_Q_Func007001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Hint" )
    call ConditionalTriggerExecute( gg_trg_Hint_QueuePeons )
    call TriggerSleepAction( udg_HintDelay )
    if ( Trig_P3_TrainingPeon_Q_Func012001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
    call StartTimerBJ( udg_T3TrainingPeonTimer, false, 10.00 )
endfunction

//===========================================================================
function InitTrig_P3_TrainingPeon_Q takes nothing returns nothing
    set gg_trg_P3_TrainingPeon_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_P3_TrainingPeon_Q, Condition( function Trig_P3_TrainingPeon_Q_Conditions ) )
    call TriggerAddAction( gg_trg_P3_TrainingPeon_Q, function Trig_P3_TrainingPeon_Q_Actions )
endfunction

//===========================================================================
// Trigger: P3 TrainingPeon Abort
//===========================================================================
function Trig_P3_TrainingPeon_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_P3_TrainingPeon_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T02Narrator021, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_P3_TrainingPeon_Q )
endfunction

//===========================================================================
function InitTrig_P3_TrainingPeon_Abort takes nothing returns nothing
    set gg_trg_P3_TrainingPeon_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_P3_TrainingPeon_Abort, function Trig_P3_TrainingPeon_Abort_Actions )
endfunction

//===========================================================================
// Trigger: P3 TrainingPeon DoneA
//===========================================================================
function Trig_P3_TrainingPeon_DoneA_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTrainedUnit()) == 'opeo' ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_P3_TrainingPeon_DoneA_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_P3_TrainingPeon_DoneA )
    call DisableTrigger( gg_trg_P3_TrainingPeon_DoneB )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_P3_TrainingPeon_Abort )
    call TriggerSleepAction( udg_ActDoneDelay )
    set udg_P_TrainingPeonsDone = true
endfunction

//===========================================================================
function InitTrig_P3_TrainingPeon_DoneA takes nothing returns nothing
    set gg_trg_P3_TrainingPeon_DoneA = CreateTrigger(  )
    call DisableTrigger( gg_trg_P3_TrainingPeon_DoneA )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_P3_TrainingPeon_DoneA, Player(0), EVENT_PLAYER_UNIT_TRAIN_FINISH )
    call TriggerAddCondition( gg_trg_P3_TrainingPeon_DoneA, Condition( function Trig_P3_TrainingPeon_DoneA_Conditions ) )
    call TriggerAddAction( gg_trg_P3_TrainingPeon_DoneA, function Trig_P3_TrainingPeon_DoneA_Actions )
endfunction

//===========================================================================
// Trigger: P3 TrainingPeon DoneB
//===========================================================================
function Trig_P3_TrainingPeon_DoneB_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_P3_TrainingPeon_DoneB_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_P3_TrainingPeon_DoneA )
    call DisableTrigger( gg_trg_P3_TrainingPeon_DoneB )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_P3_TrainingPeon_Abort )
    call TriggerSleepAction( udg_ActDoneDelay )
    set udg_P_TrainingPeonsDone = true
endfunction

//===========================================================================
function InitTrig_P3_TrainingPeon_DoneB takes nothing returns nothing
    set gg_trg_P3_TrainingPeon_DoneB = CreateTrigger(  )
    call DisableTrigger( gg_trg_P3_TrainingPeon_DoneB )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_P3_TrainingPeon_DoneB, udg_T3TrainingPeonTimer )
    call TriggerAddCondition( gg_trg_P3_TrainingPeon_DoneB, Condition( function Trig_P3_TrainingPeon_DoneB_Conditions ) )
    call TriggerAddAction( gg_trg_P3_TrainingPeon_DoneB, function Trig_P3_TrainingPeon_DoneB_Actions )
endfunction

//===========================================================================
// Trigger: B BuildBurrow Event
//===========================================================================
function Trig_B_BuildBurrow_Event_Conditions takes nothing returns boolean
    if ( not ( udg_P_TrainingPeonsDone == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_B_BuildBurrow_Event_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 2.00 )
    call QueuedTriggerAddBJ( gg_trg_B1_BurrowPeon_Q, true )
endfunction

//===========================================================================
function InitTrig_B_BuildBurrow_Event takes nothing returns nothing
    set gg_trg_B_BuildBurrow_Event = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_B_BuildBurrow_Event, 1.00 )
    call TriggerAddCondition( gg_trg_B_BuildBurrow_Event, Condition( function Trig_B_BuildBurrow_Event_Conditions ) )
    call TriggerAddAction( gg_trg_B_BuildBurrow_Event, function Trig_B_BuildBurrow_Event_Actions )
endfunction

//===========================================================================
// Trigger: B1 BurrowPeon Q
//===========================================================================
function Trig_B1_BurrowPeon_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_B1_BurrowPeon_Q_Func002001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_B1_BurrowPeon_Q_Func007001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_B1_BurrowPeon_Q_Func010001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_B1_BurrowPeon_Q_Func014001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_B1_BurrowPeon_Q_Func018001001001002001 takes nothing returns boolean
    return ( IsUnitSelected(GetFilterUnit(), udg_AP1_Player) == true )
endfunction

function Trig_B1_BurrowPeon_Q_Func018001001001002002 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'opeo' )
endfunction

function Trig_B1_BurrowPeon_Q_Func018001001001002 takes nothing returns boolean
    return GetBooleanAnd( Trig_B1_BurrowPeon_Q_Func018001001001002001(), Trig_B1_BurrowPeon_Q_Func018001001001002002() )
endfunction

function Trig_B1_BurrowPeon_Q_Func018001 takes nothing returns boolean
    return ( CountUnitsInGroup(GetUnitsOfPlayerMatching(udg_AP1_Player, Condition(function Trig_B1_BurrowPeon_Q_Func018001001001002))) == 1 )
endfunction

function Trig_B1_BurrowPeon_Q_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.50 )
    if ( Trig_B1_BurrowPeon_Q_Func002001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_115", gg_snd_T02Narrator022, "TRIGSTR_116", bj_TIMETYPE_ADD, 0, false )
    call TriggerSleepAction( ( GetSoundDurationBJ(gg_snd_T02Narrator022) * 0.50 ) )
    if ( Trig_B1_BurrowPeon_Q_Func007001() ) then
        return
    else
        call DoNothing(  )
    endif
    call EnableTrigger( gg_trg_B1_BurrowPeon_DoneA )
    call WaitForSoundBJ( gg_snd_T02Narrator022, 0 )
    if ( Trig_B1_BurrowPeon_Q_Func010001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_113", gg_snd_T02Narrator023, "TRIGSTR_114", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Narrator023, 0 )
    if ( Trig_B1_BurrowPeon_Q_Func014001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
    if ( Trig_B1_BurrowPeon_Q_Func018001() ) then
        call TriggerExecute( gg_trg_B1_BurrowPeon_DoneB )
    else
        call DoNothing(  )
    endif
endfunction

//===========================================================================
function InitTrig_B1_BurrowPeon_Q takes nothing returns nothing
    set gg_trg_B1_BurrowPeon_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_B1_BurrowPeon_Q, Condition( function Trig_B1_BurrowPeon_Q_Conditions ) )
    call TriggerAddAction( gg_trg_B1_BurrowPeon_Q, function Trig_B1_BurrowPeon_Q_Actions )
endfunction

//===========================================================================
// Trigger: B1 BurrowPeon Abort
//===========================================================================
function Trig_B1_BurrowPeon_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_B1_BurrowPeon_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T02Narrator022, true )
    call StopSoundBJ( gg_snd_T02Narrator023, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_B1_BurrowPeon_Q )
endfunction

//===========================================================================
function InitTrig_B1_BurrowPeon_Abort takes nothing returns nothing
    set gg_trg_B1_BurrowPeon_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_B1_BurrowPeon_Abort, function Trig_B1_BurrowPeon_Abort_Actions )
endfunction

//===========================================================================
// Trigger: B1 BurrowPeon DoneA
//===========================================================================
function Trig_B1_BurrowPeon_DoneA_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTriggerUnit()) == 'opeo' ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_B1_BurrowPeon_DoneA_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_B1_BurrowPeon_DoneA )
    call DisableTrigger( gg_trg_B1_BurrowPeon_DoneB )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_B1_BurrowPeon_Abort )
    call TriggerSleepAction( udg_ActDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_B2_ClickBuild_Q, true )
endfunction

//===========================================================================
function InitTrig_B1_BurrowPeon_DoneA takes nothing returns nothing
    set gg_trg_B1_BurrowPeon_DoneA = CreateTrigger(  )
    call DisableTrigger( gg_trg_B1_BurrowPeon_DoneA )
    call TriggerRegisterPlayerSelectionEventBJ( gg_trg_B1_BurrowPeon_DoneA, Player(0), true )
    call TriggerAddCondition( gg_trg_B1_BurrowPeon_DoneA, Condition( function Trig_B1_BurrowPeon_DoneA_Conditions ) )
    call TriggerAddAction( gg_trg_B1_BurrowPeon_DoneA, function Trig_B1_BurrowPeon_DoneA_Actions )
endfunction

//===========================================================================
// Trigger: B1 BurrowPeon DoneB
//
// Alternate done condition - allows user to bypass B1,B2,B3,B4 if they start building a burrow already.
//===========================================================================
function Trig_B1_BurrowPeon_DoneB_Conditions takes nothing returns boolean
    if ( not ( GetIssuedOrderIdBJ() == UnitId2OrderIdBJ('otrb') ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_B1_BurrowPeon_DoneB_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_B1_BurrowPeon_DoneA )
    call DisableTrigger( gg_trg_B1_BurrowPeon_DoneB )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_B1_BurrowPeon_Abort )
    call TriggerSleepAction( udg_ActDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_B2_ClickBuild_Q, true )
endfunction

//===========================================================================
function InitTrig_B1_BurrowPeon_DoneB takes nothing returns nothing
    set gg_trg_B1_BurrowPeon_DoneB = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_B1_BurrowPeon_DoneB, Player(0), EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER )
    call TriggerAddCondition( gg_trg_B1_BurrowPeon_DoneB, Condition( function Trig_B1_BurrowPeon_DoneB_Conditions ) )
    call TriggerAddAction( gg_trg_B1_BurrowPeon_DoneB, function Trig_B1_BurrowPeon_DoneB_Actions )
endfunction

//===========================================================================
// Trigger: B2 ClickBuild Q
//===========================================================================
function Trig_B2_ClickBuild_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_B2_ClickBuild_Q_Func007001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_B2_ClickBuild_Q_Actions takes nothing returns nothing
    call EnableTrigger( gg_trg_B2_ClickBuild_DoneA )
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_156", gg_snd_T02Narrator024, "TRIGSTR_157", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Narrator024, 0 )
    if ( Trig_B2_ClickBuild_Q_Func007001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
    call StartTimerBJ( udg_B2ClickBuildTimer, false, 2.00 )
endfunction

//===========================================================================
function InitTrig_B2_ClickBuild_Q takes nothing returns nothing
    set gg_trg_B2_ClickBuild_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_B2_ClickBuild_Q, Condition( function Trig_B2_ClickBuild_Q_Conditions ) )
    call TriggerAddAction( gg_trg_B2_ClickBuild_Q, function Trig_B2_ClickBuild_Q_Actions )
endfunction

//===========================================================================
// Trigger: B2 ClickBuild Abort
//===========================================================================
function Trig_B2_ClickBuild_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_B2_ClickBuild_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T02Narrator024, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_B2_ClickBuild_Q )
endfunction

//===========================================================================
function InitTrig_B2_ClickBuild_Abort takes nothing returns nothing
    set gg_trg_B2_ClickBuild_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_B2_ClickBuild_Abort, function Trig_B2_ClickBuild_Abort_Actions )
endfunction

//===========================================================================
// Trigger: B2 ClickBuild DoneA
//
// TBD:
//   - Add a "Build button" event
// Pending:
//   - gmadarasz needs to expose this to the scripts
//   - mheiberg00 needs to expose this to the triggers
//===========================================================================
function Trig_B2_ClickBuild_DoneA_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_B2_ClickBuild_DoneA_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_B2_ClickBuild_DoneA )
    call DisableTrigger( gg_trg_B2_ClickBuild_DoneB )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_B2_ClickBuild_Abort )
    call TriggerSleepAction( udg_ActDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_B3_ClickBurrow_Q, true )
endfunction

//===========================================================================
function InitTrig_B2_ClickBuild_DoneA takes nothing returns nothing
    set gg_trg_B2_ClickBuild_DoneA = CreateTrigger(  )
    call DisableTrigger( gg_trg_B2_ClickBuild_DoneA )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_B2_ClickBuild_DoneA, udg_B2ClickBuildTimer )
    call TriggerAddCondition( gg_trg_B2_ClickBuild_DoneA, Condition( function Trig_B2_ClickBuild_DoneA_Conditions ) )
    call TriggerAddAction( gg_trg_B2_ClickBuild_DoneA, function Trig_B2_ClickBuild_DoneA_Actions )
endfunction

//===========================================================================
// Trigger: B2 ClickBuild DoneB
//
// Alternate done condition - allows user to bypass B2,B3,B4 if they start building a burrow already.
//===========================================================================
function Trig_B2_ClickBuild_DoneB_Conditions takes nothing returns boolean
    if ( not ( GetIssuedOrderIdBJ() == UnitId2OrderIdBJ('otrb') ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_B2_ClickBuild_DoneB_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_B2_ClickBuild_DoneA )
    call DisableTrigger( gg_trg_B2_ClickBuild_DoneB )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_B2_ClickBuild_Abort )
    call TriggerSleepAction( udg_ActDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_B3_ClickBurrow_Q, true )
endfunction

//===========================================================================
function InitTrig_B2_ClickBuild_DoneB takes nothing returns nothing
    set gg_trg_B2_ClickBuild_DoneB = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_B2_ClickBuild_DoneB, Player(0), EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER )
    call TriggerAddCondition( gg_trg_B2_ClickBuild_DoneB, Condition( function Trig_B2_ClickBuild_DoneB_Conditions ) )
    call TriggerAddAction( gg_trg_B2_ClickBuild_DoneB, function Trig_B2_ClickBuild_DoneB_Actions )
endfunction

//===========================================================================
// Trigger: B3 ClickBurrow Q
//===========================================================================
function Trig_B3_ClickBurrow_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_B3_ClickBurrow_Q_Func007001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_B3_ClickBurrow_Q_Actions takes nothing returns nothing
    call EnableTrigger( gg_trg_B3_ClickBurrow_DoneA )
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_389", gg_snd_T02Narrator025, "TRIGSTR_390", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Narrator025, 0 )
    if ( Trig_B3_ClickBurrow_Q_Func007001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
    call StartTimerBJ( udg_B3ClickBurrowTimer, false, 1.00 )
endfunction

//===========================================================================
function InitTrig_B3_ClickBurrow_Q takes nothing returns nothing
    set gg_trg_B3_ClickBurrow_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_B3_ClickBurrow_Q, Condition( function Trig_B3_ClickBurrow_Q_Conditions ) )
    call TriggerAddAction( gg_trg_B3_ClickBurrow_Q, function Trig_B3_ClickBurrow_Q_Actions )
endfunction

//===========================================================================
// Trigger: B3 ClickBurrow Abort
//===========================================================================
function Trig_B3_ClickBurrow_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_B3_ClickBurrow_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T02Narrator025, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_B3_ClickBurrow_Q )
endfunction

//===========================================================================
function InitTrig_B3_ClickBurrow_Abort takes nothing returns nothing
    set gg_trg_B3_ClickBurrow_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_B3_ClickBurrow_Abort, function Trig_B3_ClickBurrow_Abort_Actions )
endfunction

//===========================================================================
// Trigger: B3 ClickBurrow DoneA
//
// TBD:
//   - Add a "Build Burrow" event
// Pending:
//   - gmadarasz needs to expose this to the scripts
//   - mheiberg00 needs to expose this to the triggers
//===========================================================================
function Trig_B3_ClickBurrow_DoneA_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_B3_ClickBurrow_DoneA_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_B3_ClickBurrow_DoneA )
    call DisableTrigger( gg_trg_B3_ClickBurrow_DoneB )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_B3_ClickBurrow_Abort )
    call TriggerSleepAction( udg_ActDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_B4_PlaceBox_Q, true )
endfunction

//===========================================================================
function InitTrig_B3_ClickBurrow_DoneA takes nothing returns nothing
    set gg_trg_B3_ClickBurrow_DoneA = CreateTrigger(  )
    call DisableTrigger( gg_trg_B3_ClickBurrow_DoneA )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_B3_ClickBurrow_DoneA, udg_B3ClickBurrowTimer )
    call TriggerAddCondition( gg_trg_B3_ClickBurrow_DoneA, Condition( function Trig_B3_ClickBurrow_DoneA_Conditions ) )
    call TriggerAddAction( gg_trg_B3_ClickBurrow_DoneA, function Trig_B3_ClickBurrow_DoneA_Actions )
endfunction

//===========================================================================
// Trigger: B3 ClickBurrow DoneB
//
// Alternate done condition - allows user to bypass B3,B4 if they start building a burrow already.
//===========================================================================
function Trig_B3_ClickBurrow_DoneB_Conditions takes nothing returns boolean
    if ( not ( GetIssuedOrderIdBJ() == UnitId2OrderIdBJ('otrb') ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_B3_ClickBurrow_DoneB_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_B3_ClickBurrow_DoneA )
    call DisableTrigger( gg_trg_B3_ClickBurrow_DoneB )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_B3_ClickBurrow_Abort )
    call TriggerSleepAction( udg_ActDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_B4_PlaceBox_Q, true )
endfunction

//===========================================================================
function InitTrig_B3_ClickBurrow_DoneB takes nothing returns nothing
    set gg_trg_B3_ClickBurrow_DoneB = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_B3_ClickBurrow_DoneB, Player(0), EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER )
    call TriggerAddCondition( gg_trg_B3_ClickBurrow_DoneB, Condition( function Trig_B3_ClickBurrow_DoneB_Conditions ) )
    call TriggerAddAction( gg_trg_B3_ClickBurrow_DoneB, function Trig_B3_ClickBurrow_DoneB_Actions )
endfunction

//===========================================================================
// Trigger: B4 PlaceBox Q
//===========================================================================
function Trig_B4_PlaceBox_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_B4_PlaceBox_Q_Func007001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_B4_PlaceBox_Q_Func011001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_B4_PlaceBox_Q_Actions takes nothing returns nothing
    call EnableTrigger( gg_trg_B4_PlaceBox_Done )
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_340", gg_snd_T02Narrator027, "TRIGSTR_341", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Narrator027, 0 )
    if ( Trig_B4_PlaceBox_Q_Func007001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_342", gg_snd_T02Narrator028, "TRIGSTR_343", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Narrator028, 0 )
    if ( Trig_B4_PlaceBox_Q_Func011001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_B4_PlaceBox_Q takes nothing returns nothing
    set gg_trg_B4_PlaceBox_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_B4_PlaceBox_Q, Condition( function Trig_B4_PlaceBox_Q_Conditions ) )
    call TriggerAddAction( gg_trg_B4_PlaceBox_Q, function Trig_B4_PlaceBox_Q_Actions )
endfunction

//===========================================================================
// Trigger: B4 PlaceBox Abort
//===========================================================================
function Trig_B4_PlaceBox_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_B4_PlaceBox_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T02Narrator027, true )
    call StopSoundBJ( gg_snd_T02Narrator028, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_B4_PlaceBox_Q )
endfunction

//===========================================================================
function InitTrig_B4_PlaceBox_Abort takes nothing returns nothing
    set gg_trg_B4_PlaceBox_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_B4_PlaceBox_Abort, function Trig_B4_PlaceBox_Abort_Actions )
endfunction

//===========================================================================
// Trigger: B4 PlaceBox Done
//===========================================================================
function Trig_B4_PlaceBox_Done_Conditions takes nothing returns boolean
    if ( not ( GetIssuedOrderIdBJ() == UnitId2OrderIdBJ('otrb') ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_B4_PlaceBox_Done_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_BurrowBuilder = GetOrderedUnit()
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_B4_PlaceBox_Abort )
    call TriggerSleepAction( udg_ActDoneDelay )
    call ConditionalTriggerExecute( gg_trg_L_HarvestingLumber )
    set udg_B_BurrowLinesDone = true
endfunction

//===========================================================================
function InitTrig_B4_PlaceBox_Done takes nothing returns nothing
    set gg_trg_B4_PlaceBox_Done = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_B4_PlaceBox_Done, Player(0), EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER )
    call TriggerAddCondition( gg_trg_B4_PlaceBox_Done, Condition( function Trig_B4_PlaceBox_Done_Conditions ) )
    call TriggerAddAction( gg_trg_B4_PlaceBox_Done, function Trig_B4_PlaceBox_Done_Actions )
endfunction

//===========================================================================
// Trigger: L HarvestingLumber
//===========================================================================
function Trig_L_HarvestingLumber_Actions takes nothing returns nothing
    call TriggerSleepAction( 5.00 )
    call QueuedTriggerAddBJ( gg_trg_L1_HarvestLumber_Q, true )
endfunction

//===========================================================================
function InitTrig_L_HarvestingLumber takes nothing returns nothing
    set gg_trg_L_HarvestingLumber = CreateTrigger(  )
    call TriggerAddAction( gg_trg_L_HarvestingLumber, function Trig_L_HarvestingLumber_Actions )
endfunction

//===========================================================================
// Trigger: L1 HarvestLumber Q
//===========================================================================
function Trig_L1_HarvestLumber_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_L1_HarvestLumber_Q_Func008001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_L1_HarvestLumber_Q_Func012001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_L1_HarvestLumber_Q_Actions takes nothing returns nothing
    call EnableTrigger( gg_trg_L1_HarvestLumber_DoneA )
    call DisableTrigger( gg_trg_L1_HarvestLumber_DoneB )
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_371", gg_snd_T02Narrator031, "TRIGSTR_372", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Narrator031, 0 )
    if ( Trig_L1_HarvestLumber_Q_Func008001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_373", gg_snd_T02Narrator032, "TRIGSTR_374", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Narrator032, 0 )
    if ( Trig_L1_HarvestLumber_Q_Func012001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_L1_HarvestLumber_Q takes nothing returns nothing
    set gg_trg_L1_HarvestLumber_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_L1_HarvestLumber_Q, Condition( function Trig_L1_HarvestLumber_Q_Conditions ) )
    call TriggerAddAction( gg_trg_L1_HarvestLumber_Q, function Trig_L1_HarvestLumber_Q_Actions )
endfunction

//===========================================================================
// Trigger: L1 HarvestLumber Abort
//===========================================================================
function Trig_L1_HarvestLumber_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_L1_HarvestLumber_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T02Narrator031, true )
    call StopSoundBJ( gg_snd_T02Narrator032, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_L1_HarvestLumber_Q )
endfunction

//===========================================================================
function InitTrig_L1_HarvestLumber_Abort takes nothing returns nothing
    set gg_trg_L1_HarvestLumber_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_L1_HarvestLumber_Abort, function Trig_L1_HarvestLumber_Abort_Actions )
endfunction

//===========================================================================
// Trigger: L1 HarvestLumber DoneA
//===========================================================================
function Trig_L1_HarvestLumber_DoneA_Func006001 takes nothing returns boolean
    return ( GetIssuedOrderIdBJ() == String2OrderIdBJ("harvest") )
endfunction

function Trig_L1_HarvestLumber_DoneA_Func006002 takes nothing returns boolean
    return ( GetIssuedOrderIdBJ() == String2OrderIdBJ("smart") )
endfunction

function Trig_L1_HarvestLumber_DoneA_Conditions takes nothing returns boolean
    if ( not GetBooleanOr( Trig_L1_HarvestLumber_DoneA_Func006001(), Trig_L1_HarvestLumber_DoneA_Func006002() ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetOrderedUnit()) == 'opeo' ) ) then
        return false
    endif
    if ( not ( GetOrderTargetDestructable() != null ) ) then
        return false
    endif
    if ( not ( GetDestructableTypeId(GetOrderTargetDestructable()) == 'VTlt' ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_L1_HarvestLumber_DoneA_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_L1_HarvestLumber_Abort )
    call TriggerSleepAction( udg_ActDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_L2_Lumbering_Q, true )
endfunction

//===========================================================================
function InitTrig_L1_HarvestLumber_DoneA takes nothing returns nothing
    set gg_trg_L1_HarvestLumber_DoneA = CreateTrigger(  )
    call DisableTrigger( gg_trg_L1_HarvestLumber_DoneA )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_L1_HarvestLumber_DoneA, Player(0), EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER )
    call TriggerAddCondition( gg_trg_L1_HarvestLumber_DoneA, Condition( function Trig_L1_HarvestLumber_DoneA_Conditions ) )
    call TriggerAddAction( gg_trg_L1_HarvestLumber_DoneA, function Trig_L1_HarvestLumber_DoneA_Actions )
endfunction

//===========================================================================
// Trigger: L1 HarvestLumber DoneB
//===========================================================================
function Trig_L1_HarvestLumber_DoneB_Func005001 takes nothing returns boolean
    return ( GetIssuedOrderIdBJ() == String2OrderIdBJ("harvest") )
endfunction

function Trig_L1_HarvestLumber_DoneB_Func005002 takes nothing returns boolean
    return ( GetIssuedOrderIdBJ() == String2OrderIdBJ("smart") )
endfunction

function Trig_L1_HarvestLumber_DoneB_Conditions takes nothing returns boolean
    if ( not GetBooleanOr( Trig_L1_HarvestLumber_DoneB_Func005001(), Trig_L1_HarvestLumber_DoneB_Func005002() ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetOrderedUnit()) == 'opeo' ) ) then
        return false
    endif
    if ( not ( GetOrderTargetDestructable() != null ) ) then
        return false
    endif
    if ( not ( GetDestructableTypeId(GetOrderTargetDestructable()) == 'VTlt' ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_L1_HarvestLumber_DoneB_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_L1_HarvestLumber_Abort )
    set udg_L_LumberLinesDone = true
endfunction

//===========================================================================
function InitTrig_L1_HarvestLumber_DoneB takes nothing returns nothing
    set gg_trg_L1_HarvestLumber_DoneB = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_L1_HarvestLumber_DoneB, Player(0), EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER )
    call TriggerAddCondition( gg_trg_L1_HarvestLumber_DoneB, Condition( function Trig_L1_HarvestLumber_DoneB_Conditions ) )
    call TriggerAddAction( gg_trg_L1_HarvestLumber_DoneB, function Trig_L1_HarvestLumber_DoneB_Actions )
endfunction

//===========================================================================
// Trigger: L2 Lumbering Q
//===========================================================================
function Trig_L2_Lumbering_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_L2_Lumbering_Q_Func007001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_L2_Lumbering_Q_Actions takes nothing returns nothing
    call EnableTrigger( gg_trg_L2_Lumbering_Done )
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_385", gg_snd_T02Narrator033, "TRIGSTR_386", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Narrator033, 0 )
    if ( Trig_L2_Lumbering_Q_Func007001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
    set udg_L_LumberLinesDone = true
endfunction

//===========================================================================
function InitTrig_L2_Lumbering_Q takes nothing returns nothing
    set gg_trg_L2_Lumbering_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_L2_Lumbering_Q, Condition( function Trig_L2_Lumbering_Q_Conditions ) )
    call TriggerAddAction( gg_trg_L2_Lumbering_Q, function Trig_L2_Lumbering_Q_Actions )
endfunction

//===========================================================================
// Trigger: L2 Lumbering Abort
//===========================================================================
function Trig_L2_Lumbering_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_L2_Lumbering_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T02Narrator033, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_L2_Lumbering_Q )
endfunction

//===========================================================================
function InitTrig_L2_Lumbering_Abort takes nothing returns nothing
    set gg_trg_L2_Lumbering_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_L2_Lumbering_Abort, function Trig_L2_Lumbering_Abort_Actions )
endfunction

//===========================================================================
// Trigger: L2 Lumbering Done
//
// No events - no reasons yet determined to to abort this line.
//===========================================================================
function Trig_L2_Lumbering_Done_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_L2_Lumbering_Abort )
endfunction

//===========================================================================
function InitTrig_L2_Lumbering_Done takes nothing returns nothing
    set gg_trg_L2_Lumbering_Done = CreateTrigger(  )
    call DisableTrigger( gg_trg_L2_Lumbering_Done )
    call TriggerAddAction( gg_trg_L2_Lumbering_Done, function Trig_L2_Lumbering_Done_Actions )
endfunction

//===========================================================================
// Trigger: M WarMill Event
//===========================================================================
function Trig_M_WarMill_Event_Conditions takes nothing returns boolean
    if ( not ( udg_B_BurrowLinesDone == true ) ) then
        return false
    endif
    if ( not ( udg_L_LumberLinesDone == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_M_WarMill_Event_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 10.00 )
    call QueuedTriggerAddBJ( gg_trg_M1_BuildWarMill_Q, true )
endfunction

//===========================================================================
function InitTrig_M_WarMill_Event takes nothing returns nothing
    set gg_trg_M_WarMill_Event = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_M_WarMill_Event, 1.00 )
    call TriggerAddCondition( gg_trg_M_WarMill_Event, Condition( function Trig_M_WarMill_Event_Conditions ) )
    call TriggerAddAction( gg_trg_M_WarMill_Event, function Trig_M_WarMill_Event_Actions )
endfunction

//===========================================================================
// Trigger: M Lumber Peon Added
//===========================================================================
function Trig_M_Lumber_Peon_Added_Func003001 takes nothing returns boolean
    return ( GetIssuedOrderIdBJ() == String2OrderIdBJ("harvest") )
endfunction

function Trig_M_Lumber_Peon_Added_Func003002 takes nothing returns boolean
    return ( GetIssuedOrderIdBJ() == String2OrderIdBJ("smart") )
endfunction

function Trig_M_Lumber_Peon_Added_Conditions takes nothing returns boolean
    if ( not GetBooleanOr( Trig_M_Lumber_Peon_Added_Func003001(), Trig_M_Lumber_Peon_Added_Func003002() ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetOrderedUnit()) == 'opeo' ) ) then
        return false
    endif
    if ( not ( GetOrderTargetDestructable() != null ) ) then
        return false
    endif
    if ( not ( GetDestructableTypeId(GetOrderTargetDestructable()) == 'VTlt' ) ) then
        return false
    endif
    return true
endfunction

function Trig_M_Lumber_Peon_Added_Actions takes nothing returns nothing
    call CommentString( "Keep track of all peons told to harvest lumber" )
    call GroupAddUnitSimple( GetOrderedUnit(), udg_LumberHarvesters )
endfunction

//===========================================================================
function InitTrig_M_Lumber_Peon_Added takes nothing returns nothing
    set gg_trg_M_Lumber_Peon_Added = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_M_Lumber_Peon_Added, Player(0), EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER )
    call TriggerAddCondition( gg_trg_M_Lumber_Peon_Added, Condition( function Trig_M_Lumber_Peon_Added_Conditions ) )
    call TriggerAddAction( gg_trg_M_Lumber_Peon_Added, function Trig_M_Lumber_Peon_Added_Actions )
endfunction

//===========================================================================
// Trigger: M1 BuildWarMill Q
//===========================================================================
function Trig_M1_BuildWarMill_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_M1_BuildWarMill_Q_Func006001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_M1_BuildWarMill_Q_Actions takes nothing returns nothing
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_407", gg_snd_T02Narrator035, "TRIGSTR_408", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Narrator035, 0 )
    if ( Trig_M1_BuildWarMill_Q_Func006001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_M1_BuildWarMill_Q takes nothing returns nothing
    set gg_trg_M1_BuildWarMill_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_M1_BuildWarMill_Q, Condition( function Trig_M1_BuildWarMill_Q_Conditions ) )
    call TriggerAddAction( gg_trg_M1_BuildWarMill_Q, function Trig_M1_BuildWarMill_Q_Actions )
endfunction

//===========================================================================
// Trigger: M1 BuildWarMill Abort
//===========================================================================
function Trig_M1_BuildWarMill_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_M1_BuildWarMill_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T02Narrator035, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_M1_BuildWarMill_Q )
endfunction

//===========================================================================
function InitTrig_M1_BuildWarMill_Abort takes nothing returns nothing
    set gg_trg_M1_BuildWarMill_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_M1_BuildWarMill_Abort, function Trig_M1_BuildWarMill_Abort_Actions )
endfunction

//===========================================================================
// Trigger: M1 BuildWarMill Done
//===========================================================================
function Trig_M1_BuildWarMill_Done_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetConstructingStructure()) == 'ofor' ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_M1_BuildWarMill_Done_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_M1_BuildWarMill_Abort )
    call TriggerSleepAction( udg_ActDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_M2_MoreLumber_Q, true )
    set udg_M_WarMillDone = true
endfunction

//===========================================================================
function InitTrig_M1_BuildWarMill_Done takes nothing returns nothing
    set gg_trg_M1_BuildWarMill_Done = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_M1_BuildWarMill_Done, Player(0), EVENT_PLAYER_UNIT_CONSTRUCT_START )
    call TriggerAddCondition( gg_trg_M1_BuildWarMill_Done, Condition( function Trig_M1_BuildWarMill_Done_Conditions ) )
    call TriggerAddAction( gg_trg_M1_BuildWarMill_Done, function Trig_M1_BuildWarMill_Done_Actions )
endfunction

//===========================================================================
// Trigger: M2 MoreLumber Q
//===========================================================================
function Trig_M2_MoreLumber_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( CountUnitsInGroup(udg_LumberHarvesters) < 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_M2_MoreLumber_Q_Func008001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_M2_MoreLumber_Q_Actions takes nothing returns nothing
    call EnableTrigger( gg_trg_M2_MoreLumber_Done )
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_454", gg_snd_T02Narrator034, "TRIGSTR_455", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Narrator034, 0 )
    if ( Trig_M2_MoreLumber_Q_Func008001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_M2_MoreLumber_Q takes nothing returns nothing
    set gg_trg_M2_MoreLumber_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_M2_MoreLumber_Q, Condition( function Trig_M2_MoreLumber_Q_Conditions ) )
    call TriggerAddAction( gg_trg_M2_MoreLumber_Q, function Trig_M2_MoreLumber_Q_Actions )
endfunction

//===========================================================================
// Trigger: M2 MoreLumber Abort
//===========================================================================
function Trig_M2_MoreLumber_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_M2_MoreLumber_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T02Narrator034, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_M2_MoreLumber_Q )
endfunction

//===========================================================================
function InitTrig_M2_MoreLumber_Abort takes nothing returns nothing
    set gg_trg_M2_MoreLumber_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_M2_MoreLumber_Abort, function Trig_M2_MoreLumber_Abort_Actions )
endfunction

//===========================================================================
// Trigger: M2 MoreLumber Done
//===========================================================================
function Trig_M2_MoreLumber_Done_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_M2_MoreLumber_Done_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_M2_MoreLumber_Abort )
endfunction

//===========================================================================
function InitTrig_M2_MoreLumber_Done takes nothing returns nothing
    set gg_trg_M2_MoreLumber_Done = CreateTrigger(  )
    call DisableTrigger( gg_trg_M2_MoreLumber_Done )
    call TriggerAddCondition( gg_trg_M2_MoreLumber_Done, Condition( function Trig_M2_MoreLumber_Done_Conditions ) )
    call TriggerAddAction( gg_trg_M2_MoreLumber_Done, function Trig_M2_MoreLumber_Done_Actions )
endfunction

//===========================================================================
// Trigger: K BuildBarracks Event
//
// Wait a short while after the prior steps have finished, and then start checking for resources.
//===========================================================================
function Trig_K_BuildBarracks_Event_Conditions takes nothing returns boolean
    if ( not ( udg_M_WarMillDone == true ) ) then
        return false
    endif
    if ( not ( udg_U_UpgradeDone == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_K_BuildBarracks_Event_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 6.00 )
    call EnableTrigger( gg_trg_K_BuildBarracks_Enough )
endfunction

//===========================================================================
function InitTrig_K_BuildBarracks_Event takes nothing returns nothing
    set gg_trg_K_BuildBarracks_Event = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_K_BuildBarracks_Event, 1.00 )
    call TriggerAddCondition( gg_trg_K_BuildBarracks_Event, Condition( function Trig_K_BuildBarracks_Event_Conditions ) )
    call TriggerAddAction( gg_trg_K_BuildBarracks_Event, function Trig_K_BuildBarracks_Event_Actions )
endfunction

//===========================================================================
// Trigger: K BuildBarracks Enough
//
// Costs for the barracks are exaggerated slightly, to allow room for balance changes.
// It's safer to postpone the message than to produce it early and potentially confuse the player.
//===========================================================================
function Trig_K_BuildBarracks_Enough_Conditions takes nothing returns boolean
    if ( not ( GetPlayerState(udg_AP1_Player, PLAYER_STATE_RESOURCE_GOLD) >= 360 ) ) then
        return false
    endif
    if ( not ( GetPlayerState(udg_AP1_Player, PLAYER_STATE_RESOURCE_LUMBER) >= 90 ) ) then
        return false
    endif
    return true
endfunction

function Trig_K_BuildBarracks_Enough_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_K1_BuildBarracks_Q, true )
endfunction

//===========================================================================
function InitTrig_K_BuildBarracks_Enough takes nothing returns nothing
    set gg_trg_K_BuildBarracks_Enough = CreateTrigger(  )
    call DisableTrigger( gg_trg_K_BuildBarracks_Enough )
    call TriggerRegisterTimerEventPeriodic( gg_trg_K_BuildBarracks_Enough, 1.00 )
    call TriggerAddCondition( gg_trg_K_BuildBarracks_Enough, Condition( function Trig_K_BuildBarracks_Enough_Conditions ) )
    call TriggerAddAction( gg_trg_K_BuildBarracks_Enough, function Trig_K_BuildBarracks_Enough_Actions )
endfunction

//===========================================================================
// Trigger: K1 BuildBarracks Q
//===========================================================================
function Trig_K1_BuildBarracks_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_K1_BuildBarracks_Q_Func006001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_K1_BuildBarracks_Q_Func010001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_K1_BuildBarracks_Q_Actions takes nothing returns nothing
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_472", gg_snd_T02Narrator039, "TRIGSTR_473", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Narrator039, 0 )
    if ( Trig_K1_BuildBarracks_Q_Func006001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_474", gg_snd_T02Narrator040, "TRIGSTR_475", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Narrator040, 0 )
    if ( Trig_K1_BuildBarracks_Q_Func010001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_K1_BuildBarracks_Q takes nothing returns nothing
    set gg_trg_K1_BuildBarracks_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_K1_BuildBarracks_Q, Condition( function Trig_K1_BuildBarracks_Q_Conditions ) )
    call TriggerAddAction( gg_trg_K1_BuildBarracks_Q, function Trig_K1_BuildBarracks_Q_Actions )
endfunction

//===========================================================================
// Trigger: K1 BuildBarracks Abort
//===========================================================================
function Trig_K1_BuildBarracks_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_K1_BuildBarracks_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T02Narrator039, true )
    call StopSoundBJ( gg_snd_T02Narrator040, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_K1_BuildBarracks_Q )
endfunction

//===========================================================================
function InitTrig_K1_BuildBarracks_Abort takes nothing returns nothing
    set gg_trg_K1_BuildBarracks_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_K1_BuildBarracks_Abort, function Trig_K1_BuildBarracks_Abort_Actions )
endfunction

//===========================================================================
// Trigger: K1 BuildBarracks Done
//===========================================================================
function Trig_K1_BuildBarracks_Done_Conditions takes nothing returns boolean
    if ( not ( GetIssuedOrderIdBJ() == UnitId2OrderIdBJ('obar') ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_K1_BuildBarracks_Done_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_K1_BuildBarracks_Abort )
    set udg_K_BuildBarracksDone = true
endfunction

//===========================================================================
function InitTrig_K1_BuildBarracks_Done takes nothing returns nothing
    set gg_trg_K1_BuildBarracks_Done = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_K1_BuildBarracks_Done, Player(0), EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER )
    call TriggerAddCondition( gg_trg_K1_BuildBarracks_Done, Condition( function Trig_K1_BuildBarracks_Done_Conditions ) )
    call TriggerAddAction( gg_trg_K1_BuildBarracks_Done, function Trig_K1_BuildBarracks_Done_Actions )
endfunction

//===========================================================================
// Trigger: W WorkComplete Event
//===========================================================================
function Trig_W_WorkComplete_Event_Actions takes nothing returns nothing
    set udg_ConstructedUnit = GetConstructedStructure()
    call ConditionalTriggerExecute( gg_trg_W_General_Check )
    call ConditionalTriggerExecute( gg_trg_W_Burrow_Check )
    call ConditionalTriggerExecute( gg_trg_W_WarMill_Check )
    call ConditionalTriggerExecute( gg_trg_W_Barracks_Check )
endfunction

//===========================================================================
function InitTrig_W_WorkComplete_Event takes nothing returns nothing
    set gg_trg_W_WorkComplete_Event = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_W_WorkComplete_Event, Player(0), EVENT_PLAYER_UNIT_CONSTRUCT_FINISH )
    call TriggerAddAction( gg_trg_W_WorkComplete_Event, function Trig_W_WorkComplete_Event_Actions )
endfunction

//===========================================================================
// Trigger: W General Check
//===========================================================================
function Trig_W_General_Check_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_W_General_Check_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_W1_WorkComplete_Q, true )
endfunction

//===========================================================================
function InitTrig_W_General_Check takes nothing returns nothing
    set gg_trg_W_General_Check = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_W_General_Check, Condition( function Trig_W_General_Check_Conditions ) )
    call TriggerAddAction( gg_trg_W_General_Check, function Trig_W_General_Check_Actions )
endfunction

//===========================================================================
// Trigger: W Burrow Check
//
// Before running this trigger, (ConstructedUnit) should be set to the unit that was just constructed.
//===========================================================================
function Trig_W_Burrow_Check_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_ConstructedUnit) == 'otrb' ) ) then
        return false
    endif
    return true
endfunction

function Trig_W_Burrow_Check_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_W2_BurrowComplete_Q, true )
    call TriggerSleepAction( 0.10 )
    call EnableTrigger( gg_trg_W2_BurrowComplete_Abort )
endfunction

//===========================================================================
function InitTrig_W_Burrow_Check takes nothing returns nothing
    set gg_trg_W_Burrow_Check = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_W_Burrow_Check, Condition( function Trig_W_Burrow_Check_Conditions ) )
    call TriggerAddAction( gg_trg_W_Burrow_Check, function Trig_W_Burrow_Check_Actions )
endfunction

//===========================================================================
// Trigger: W WarMill Check
//
// Before running this trigger, (ConstructedUnit) should be set to the unit that was just constructed.
//===========================================================================
function Trig_W_WarMill_Check_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_ConstructedUnit) == 'ofor' ) ) then
        return false
    endif
    return true
endfunction

function Trig_W_WarMill_Check_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_WarMill = udg_ConstructedUnit
    call QueuedTriggerAddBJ( gg_trg_U1_SelectWarMill_Q, true )
endfunction

//===========================================================================
function InitTrig_W_WarMill_Check takes nothing returns nothing
    set gg_trg_W_WarMill_Check = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_W_WarMill_Check, Condition( function Trig_W_WarMill_Check_Conditions ) )
    call TriggerAddAction( gg_trg_W_WarMill_Check, function Trig_W_WarMill_Check_Actions )
endfunction

//===========================================================================
// Trigger: W Barracks Check
//
// Before running this trigger, (ConstructedUnit) should be set to the unit that was just constructed.
//===========================================================================
function Trig_W_Barracks_Check_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_ConstructedUnit) == 'obar' ) ) then
        return false
    endif
    return true
endfunction

function Trig_W_Barracks_Check_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_Barracks = udg_ConstructedUnit
    call QueuedTriggerAddBJ( gg_trg_T1_SelectBarracks_Q, true )
endfunction

//===========================================================================
function InitTrig_W_Barracks_Check takes nothing returns nothing
    set gg_trg_W_Barracks_Check = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_W_Barracks_Check, Condition( function Trig_W_Barracks_Check_Conditions ) )
    call TriggerAddAction( gg_trg_W_Barracks_Check, function Trig_W_Barracks_Check_Actions )
endfunction

//===========================================================================
// Trigger: W1 WorkComplete Q
//===========================================================================
function Trig_W1_WorkComplete_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_W1_WorkComplete_Q_Func002001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_W1_WorkComplete_Q_Func006001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_W1_WorkComplete_Q_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.50 )
    if ( Trig_W1_WorkComplete_Q_Func002001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Hint" )
    call ConditionalTriggerExecute( gg_trg_Hint_WorkComplete )
    call TriggerSleepAction( udg_HintDelay )
    if ( Trig_W1_WorkComplete_Q_Func006001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_W1_WorkComplete_Q takes nothing returns nothing
    set gg_trg_W1_WorkComplete_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_W1_WorkComplete_Q, Condition( function Trig_W1_WorkComplete_Q_Conditions ) )
    call TriggerAddAction( gg_trg_W1_WorkComplete_Q, function Trig_W1_WorkComplete_Q_Actions )
endfunction

//===========================================================================
// Trigger: W2 BurrowComplete Q
//===========================================================================
function Trig_W2_BurrowComplete_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_W2_BurrowComplete_Q_Func002001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_W2_BurrowComplete_Q_Func007001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_W2_BurrowComplete_Q_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.50 )
    if ( Trig_W2_BurrowComplete_Q_Func002001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_397", gg_snd_T02Narrator030, "TRIGSTR_398", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Narrator030, 0 )
    if ( Trig_W2_BurrowComplete_Q_Func007001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_W2_BurrowComplete_Q takes nothing returns nothing
    set gg_trg_W2_BurrowComplete_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_W2_BurrowComplete_Q, Condition( function Trig_W2_BurrowComplete_Q_Conditions ) )
    call TriggerAddAction( gg_trg_W2_BurrowComplete_Q, function Trig_W2_BurrowComplete_Q_Actions )
endfunction

//===========================================================================
// Trigger: W2 BurrowComplete Abort
//===========================================================================
function Trig_W2_BurrowComplete_Abort_Conditions takes nothing returns boolean
    if ( not ( GetOrderedUnit() == udg_BurrowBuilder ) ) then
        return false
    endif
    return true
endfunction

function Trig_W2_BurrowComplete_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_W2_BurrowComplete_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T02Narrator030, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_W2_BurrowComplete_Q )
endfunction

//===========================================================================
function InitTrig_W2_BurrowComplete_Abort takes nothing returns nothing
    set gg_trg_W2_BurrowComplete_Abort = CreateTrigger(  )
    call DisableTrigger( gg_trg_W2_BurrowComplete_Abort )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_W2_BurrowComplete_Abort, Player(0), EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_W2_BurrowComplete_Abort, Player(0), EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_W2_BurrowComplete_Abort, Player(0), EVENT_PLAYER_UNIT_ISSUED_ORDER )
    call TriggerAddCondition( gg_trg_W2_BurrowComplete_Abort, Condition( function Trig_W2_BurrowComplete_Abort_Conditions ) )
    call TriggerAddAction( gg_trg_W2_BurrowComplete_Abort, function Trig_W2_BurrowComplete_Abort_Actions )
endfunction

//===========================================================================
// Trigger: U1 SelectWarMill Q
//
// This step is optional.
// Estimated time for slowly running through the sequence:  25s
//===========================================================================
function Trig_U1_SelectWarMill_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_U1_SelectWarMill_Q_Func002001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_U1_SelectWarMill_Q_Func008001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_U1_SelectWarMill_Q_Func011001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_U1_SelectWarMill_Q_Func015001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_U1_SelectWarMill_Q_Func019001001001002001 takes nothing returns boolean
    return ( IsUnitSelected(GetFilterUnit(), udg_AP1_Player) == true )
endfunction

function Trig_U1_SelectWarMill_Q_Func019001001001002002 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'ofor' )
endfunction

function Trig_U1_SelectWarMill_Q_Func019001001001002 takes nothing returns boolean
    return GetBooleanAnd( Trig_U1_SelectWarMill_Q_Func019001001001002001(), Trig_U1_SelectWarMill_Q_Func019001001001002002() )
endfunction

function Trig_U1_SelectWarMill_Q_Func019001 takes nothing returns boolean
    return ( CountUnitsInGroup(GetUnitsOfPlayerMatching(udg_AP1_Player, Condition(function Trig_U1_SelectWarMill_Q_Func019001001001002))) > 0 )
endfunction

function Trig_U1_SelectWarMill_Q_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.50 )
    if ( Trig_U1_SelectWarMill_Q_Func002001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_415", gg_snd_T02Narrator036, "TRIGSTR_416", bj_TIMETYPE_ADD, 0, false )
    call TriggerSleepAction( ( GetSoundDurationBJ(gg_snd_T02Narrator036) * 0.50 ) )
    if ( Trig_U1_SelectWarMill_Q_Func008001() ) then
        return
    else
        call DoNothing(  )
    endif
    call EnableTrigger( gg_trg_U1_SelectWarMill_DoneA )
    call WaitForSoundBJ( gg_snd_T02Narrator036, 1.00 )
    if ( Trig_U1_SelectWarMill_Q_Func011001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Flash the War Mill" )
    call ConditionalTriggerExecute( gg_trg_U1_SelectWarMill_Flash )
    call WaitForSoundBJ( gg_snd_T02Narrator036, 0 )
    if ( Trig_U1_SelectWarMill_Q_Func015001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
    if ( Trig_U1_SelectWarMill_Q_Func019001() ) then
        call TriggerExecute( gg_trg_U1_SelectWarMill_DoneA )
    else
        call DoNothing(  )
    endif
    call CommentString( "Optional sequence - time out if the player skips it" )
    call TriggerSleepAction( 45.00 )
    set udg_U_UpgradeDone = true
endfunction

//===========================================================================
function InitTrig_U1_SelectWarMill_Q takes nothing returns nothing
    set gg_trg_U1_SelectWarMill_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_U1_SelectWarMill_Q, Condition( function Trig_U1_SelectWarMill_Q_Conditions ) )
    call TriggerAddAction( gg_trg_U1_SelectWarMill_Q, function Trig_U1_SelectWarMill_Q_Actions )
endfunction

//===========================================================================
// Trigger: U1 SelectWarMill Flash
//===========================================================================
function Trig_U1_SelectWarMill_Flash_Conditions takes nothing returns boolean
    if ( not ( IsUnitSelected(udg_WarMill, udg_AP1_Player) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_U1_SelectWarMill_Flash_Actions takes nothing returns nothing
    call PingMinimapLocForForce( GetPlayersAll(), GetUnitLoc(udg_WarMill), 1 )
    call UnitAddIndicatorBJ( udg_WarMill, udg_HeyLookR, udg_HeyLookG, udg_HeyLookB, udg_HeyLookA )
    call TriggerSleepAction( 1.00 )
    call UnitAddIndicatorBJ( udg_WarMill, udg_HeyLookR, udg_HeyLookG, udg_HeyLookB, udg_HeyLookA )
endfunction

//===========================================================================
function InitTrig_U1_SelectWarMill_Flash takes nothing returns nothing
    set gg_trg_U1_SelectWarMill_Flash = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_U1_SelectWarMill_Flash, Condition( function Trig_U1_SelectWarMill_Flash_Conditions ) )
    call TriggerAddAction( gg_trg_U1_SelectWarMill_Flash, function Trig_U1_SelectWarMill_Flash_Actions )
endfunction

//===========================================================================
// Trigger: U1 SelectWarMill Abort
//===========================================================================
function Trig_U1_SelectWarMill_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_U1_SelectWarMill_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T02Narrator036, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_U1_SelectWarMill_Q )
endfunction

//===========================================================================
function InitTrig_U1_SelectWarMill_Abort takes nothing returns nothing
    set gg_trg_U1_SelectWarMill_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_U1_SelectWarMill_Abort, function Trig_U1_SelectWarMill_Abort_Actions )
endfunction

//===========================================================================
// Trigger: U1 SelectWarMill DoneA
//===========================================================================
function Trig_U1_SelectWarMill_DoneA_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTriggerUnit()) == 'ofor' ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_U1_SelectWarMill_DoneA_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_U1_SelectWarMill_DoneA )
    call DisableTrigger( gg_trg_U1_SelectWarMill_DoneB )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_U1_SelectWarMill_Abort )
    call TriggerSleepAction( udg_ActDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_U2_ClickUpgrade_Q, true )
endfunction

//===========================================================================
function InitTrig_U1_SelectWarMill_DoneA takes nothing returns nothing
    set gg_trg_U1_SelectWarMill_DoneA = CreateTrigger(  )
    call DisableTrigger( gg_trg_U1_SelectWarMill_DoneA )
    call TriggerRegisterPlayerSelectionEventBJ( gg_trg_U1_SelectWarMill_DoneA, Player(0), true )
    call TriggerAddCondition( gg_trg_U1_SelectWarMill_DoneA, Condition( function Trig_U1_SelectWarMill_DoneA_Conditions ) )
    call TriggerAddAction( gg_trg_U1_SelectWarMill_DoneA, function Trig_U1_SelectWarMill_DoneA_Actions )
endfunction

//===========================================================================
// Trigger: U1 SelectWarMill DoneB
//
// Alternate done condition - allows user to bypass U1,U2 if they start upgrading already.
//===========================================================================
function Trig_U1_SelectWarMill_DoneB_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetResearchingUnit()) == 'ofor' ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_U1_SelectWarMill_DoneB_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_U1_SelectWarMill_DoneA )
    call DisableTrigger( gg_trg_U1_SelectWarMill_DoneB )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_U1_SelectWarMill_Abort )
    call TriggerSleepAction( udg_ActDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_U2_ClickUpgrade_Q, true )
endfunction

//===========================================================================
function InitTrig_U1_SelectWarMill_DoneB takes nothing returns nothing
    set gg_trg_U1_SelectWarMill_DoneB = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_U1_SelectWarMill_DoneB, Player(0), EVENT_PLAYER_UNIT_RESEARCH_START )
    call TriggerAddCondition( gg_trg_U1_SelectWarMill_DoneB, Condition( function Trig_U1_SelectWarMill_DoneB_Conditions ) )
    call TriggerAddAction( gg_trg_U1_SelectWarMill_DoneB, function Trig_U1_SelectWarMill_DoneB_Actions )
endfunction

//===========================================================================
// Trigger: U2 ClickUpgrade Q
//===========================================================================
function Trig_U2_ClickUpgrade_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_U2_ClickUpgrade_Q_Func002001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_U2_ClickUpgrade_Q_Func008001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_U2_ClickUpgrade_Q_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.50 )
    if ( Trig_U2_ClickUpgrade_Q_Func002001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_437", gg_snd_T02Narrator037, "TRIGSTR_438", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Narrator037, 0 )
    if ( Trig_U2_ClickUpgrade_Q_Func008001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
    call ConditionalTriggerExecute( gg_trg_U2_ClickUpgrade_Done )
endfunction

//===========================================================================
function InitTrig_U2_ClickUpgrade_Q takes nothing returns nothing
    set gg_trg_U2_ClickUpgrade_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_U2_ClickUpgrade_Q, Condition( function Trig_U2_ClickUpgrade_Q_Conditions ) )
    call TriggerAddAction( gg_trg_U2_ClickUpgrade_Q, function Trig_U2_ClickUpgrade_Q_Actions )
endfunction

//===========================================================================
// Trigger: U2 ClickUpgrade Abort
//===========================================================================
function Trig_U2_ClickUpgrade_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_U2_ClickUpgrade_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T02Narrator037, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_U2_ClickUpgrade_Q )
endfunction

//===========================================================================
function InitTrig_U2_ClickUpgrade_Abort takes nothing returns nothing
    set gg_trg_U2_ClickUpgrade_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_U2_ClickUpgrade_Abort, function Trig_U2_ClickUpgrade_Abort_Actions )
endfunction

//===========================================================================
// Trigger: U2 ClickUpgrade Done
//===========================================================================
function Trig_U2_ClickUpgrade_Done_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetResearchingUnit()) == 'ofor' ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_U2_ClickUpgrade_Done_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_U2_ClickUpgrade_Abort )
    call TriggerSleepAction( udg_ActDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_U3_UpgradeComplete_Q, true )
    set udg_U_UpgradeDone = true
endfunction

//===========================================================================
function InitTrig_U2_ClickUpgrade_Done takes nothing returns nothing
    set gg_trg_U2_ClickUpgrade_Done = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_U2_ClickUpgrade_Done, Player(0), EVENT_PLAYER_UNIT_RESEARCH_START )
    call TriggerAddCondition( gg_trg_U2_ClickUpgrade_Done, Condition( function Trig_U2_ClickUpgrade_Done_Conditions ) )
    call TriggerAddAction( gg_trg_U2_ClickUpgrade_Done, function Trig_U2_ClickUpgrade_Done_Actions )
endfunction

//===========================================================================
// Trigger: U3 UpgradeComplete Q
//===========================================================================
function Trig_U3_UpgradeComplete_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_U3_UpgradeComplete_Q_Func002001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_U3_UpgradeComplete_Q_Func006001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_U3_UpgradeComplete_Q_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.50 )
    if ( Trig_U3_UpgradeComplete_Q_Func002001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Hint" )
    call ConditionalTriggerExecute( gg_trg_Hint_Upgrades )
    call TriggerSleepAction( udg_HintDelay )
    if ( Trig_U3_UpgradeComplete_Q_Func006001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_U3_UpgradeComplete_Q takes nothing returns nothing
    set gg_trg_U3_UpgradeComplete_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_U3_UpgradeComplete_Q, Condition( function Trig_U3_UpgradeComplete_Q_Conditions ) )
    call TriggerAddAction( gg_trg_U3_UpgradeComplete_Q, function Trig_U3_UpgradeComplete_Q_Actions )
endfunction

//===========================================================================
// Trigger: T1 SelectBarracks Q
//===========================================================================
function Trig_T1_SelectBarracks_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_T1_SelectBarracks_Q_Func002001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_T1_SelectBarracks_Q_Func007001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_T1_SelectBarracks_Q_Func012001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_T1_SelectBarracks_Q_Func015001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_T1_SelectBarracks_Q_Func019001 takes nothing returns boolean
    return ( IsUnitSelected(udg_GreatHall, Player(0)) == true )
endfunction

function Trig_T1_SelectBarracks_Q_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.50 )
    if ( Trig_T1_SelectBarracks_Q_Func002001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_499", gg_snd_T02Narrator041, "TRIGSTR_500", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Narrator041, 0 )
    if ( Trig_T1_SelectBarracks_Q_Func007001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Line" )
    call EnableTrigger( gg_trg_T1_SelectBarracks_DoneA )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_501", gg_snd_T02Narrator042, "TRIGSTR_502", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Narrator042, 1.00 )
    if ( Trig_T1_SelectBarracks_Q_Func012001() ) then
        return
    else
        call DoNothing(  )
    endif
    call ConditionalTriggerExecute( gg_trg_T1_SelectBarracks_Flash )
    call WaitForSoundBJ( gg_snd_T02Narrator042, 0.00 )
    if ( Trig_T1_SelectBarracks_Q_Func015001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
    if ( Trig_T1_SelectBarracks_Q_Func019001() ) then
        call TriggerExecute( gg_trg_P1_SelectHall_DoneA )
    else
        call DoNothing(  )
    endif
endfunction

//===========================================================================
function InitTrig_T1_SelectBarracks_Q takes nothing returns nothing
    set gg_trg_T1_SelectBarracks_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_T1_SelectBarracks_Q, Condition( function Trig_T1_SelectBarracks_Q_Conditions ) )
    call TriggerAddAction( gg_trg_T1_SelectBarracks_Q, function Trig_T1_SelectBarracks_Q_Actions )
endfunction

//===========================================================================
// Trigger: T1 SelectBarracks Flash
//===========================================================================
function Trig_T1_SelectBarracks_Flash_Conditions takes nothing returns boolean
    if ( not ( IsUnitSelected(udg_Barracks, udg_AP1_Player) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_T1_SelectBarracks_Flash_Actions takes nothing returns nothing
    call PingMinimapLocForForce( GetPlayersAll(), GetUnitLoc(udg_Barracks), 1 )
    call UnitAddIndicatorBJ( udg_Barracks, udg_HeyLookR, udg_HeyLookG, udg_HeyLookB, udg_HeyLookA )
    call TriggerSleepAction( 1.00 )
    call UnitAddIndicatorBJ( udg_Barracks, udg_HeyLookR, udg_HeyLookG, udg_HeyLookB, udg_HeyLookA )
endfunction

//===========================================================================
function InitTrig_T1_SelectBarracks_Flash takes nothing returns nothing
    set gg_trg_T1_SelectBarracks_Flash = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_T1_SelectBarracks_Flash, Condition( function Trig_T1_SelectBarracks_Flash_Conditions ) )
    call TriggerAddAction( gg_trg_T1_SelectBarracks_Flash, function Trig_T1_SelectBarracks_Flash_Actions )
endfunction

//===========================================================================
// Trigger: T1 SelectBarracks Abort
//===========================================================================
function Trig_T1_SelectBarracks_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_T1_SelectBarracks_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T02Narrator041, true )
    call StopSoundBJ( gg_snd_T02Narrator042, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_T1_SelectBarracks_Q )
endfunction

//===========================================================================
function InitTrig_T1_SelectBarracks_Abort takes nothing returns nothing
    set gg_trg_T1_SelectBarracks_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_T1_SelectBarracks_Abort, function Trig_T1_SelectBarracks_Abort_Actions )
endfunction

//===========================================================================
// Trigger: T1 SelectBarracks DoneA
//===========================================================================
function Trig_T1_SelectBarracks_DoneA_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTriggerUnit()) == 'obar' ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_T1_SelectBarracks_DoneA_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_T1_SelectBarracks_DoneA )
    call DisableTrigger( gg_trg_T1_SelectBarracks_DoneB )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_T1_SelectBarracks_Abort )
    call TriggerSleepAction( udg_ActDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_T2_TrainGrunt_Q, true )
endfunction

//===========================================================================
function InitTrig_T1_SelectBarracks_DoneA takes nothing returns nothing
    set gg_trg_T1_SelectBarracks_DoneA = CreateTrigger(  )
    call DisableTrigger( gg_trg_T1_SelectBarracks_DoneA )
    call TriggerRegisterPlayerSelectionEventBJ( gg_trg_T1_SelectBarracks_DoneA, Player(0), true )
    call TriggerAddCondition( gg_trg_T1_SelectBarracks_DoneA, Condition( function Trig_T1_SelectBarracks_DoneA_Conditions ) )
    call TriggerAddAction( gg_trg_T1_SelectBarracks_DoneA, function Trig_T1_SelectBarracks_DoneA_Actions )
endfunction

//===========================================================================
// Trigger: T1 SelectBarracks DoneB
//
// Alternate done condition - allows user to bypass T1,T2 if they start training already.
//===========================================================================
function Trig_T1_SelectBarracks_DoneB_Conditions takes nothing returns boolean
    if ( not ( GetTrainedUnitType() == 'ogru' ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_T1_SelectBarracks_DoneB_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_T1_SelectBarracks_DoneA )
    call DisableTrigger( gg_trg_T1_SelectBarracks_DoneB )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_T1_SelectBarracks_Abort )
    call TriggerSleepAction( udg_ActDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_T2_TrainGrunt_Q, true )
endfunction

//===========================================================================
function InitTrig_T1_SelectBarracks_DoneB takes nothing returns nothing
    set gg_trg_T1_SelectBarracks_DoneB = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_T1_SelectBarracks_DoneB, Player(0), EVENT_PLAYER_UNIT_TRAIN_START )
    call TriggerAddCondition( gg_trg_T1_SelectBarracks_DoneB, Condition( function Trig_T1_SelectBarracks_DoneB_Conditions ) )
    call TriggerAddAction( gg_trg_T1_SelectBarracks_DoneB, function Trig_T1_SelectBarracks_DoneB_Actions )
endfunction

//===========================================================================
// Trigger: T2 TrainGrunt Q
//===========================================================================
function Trig_T2_TrainGrunt_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_T2_TrainGrunt_Q_Func002001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_T2_TrainGrunt_Q_Func007001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_T2_TrainGrunt_Q_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.50 )
    if ( Trig_T2_TrainGrunt_Q_Func002001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_513", gg_snd_T02Narrator043, "TRIGSTR_514", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Narrator043, 0 )
    if ( Trig_T2_TrainGrunt_Q_Func007001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_T2_TrainGrunt_Q takes nothing returns nothing
    set gg_trg_T2_TrainGrunt_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_T2_TrainGrunt_Q, Condition( function Trig_T2_TrainGrunt_Q_Conditions ) )
    call TriggerAddAction( gg_trg_T2_TrainGrunt_Q, function Trig_T2_TrainGrunt_Q_Actions )
endfunction

//===========================================================================
// Trigger: T2 TrainGrunt Abort
//===========================================================================
function Trig_T2_TrainGrunt_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_T2_TrainGrunt_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T02Narrator043, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_T2_TrainGrunt_Q )
endfunction

//===========================================================================
function InitTrig_T2_TrainGrunt_Abort takes nothing returns nothing
    set gg_trg_T2_TrainGrunt_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_T2_TrainGrunt_Abort, function Trig_T2_TrainGrunt_Abort_Actions )
endfunction

//===========================================================================
// Trigger: T2 TrainGrunt Done
//===========================================================================
function Trig_T2_TrainGrunt_Done_Conditions takes nothing returns boolean
    if ( not ( GetTrainedUnitType() == 'ogru' ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_T2_TrainGrunt_Done_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_T2_TrainGrunt_Abort )
    call TriggerSleepAction( udg_ActDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_T3_MoreGrunts_Q, true )
endfunction

//===========================================================================
function InitTrig_T2_TrainGrunt_Done takes nothing returns nothing
    set gg_trg_T2_TrainGrunt_Done = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_T2_TrainGrunt_Done, Player(0), EVENT_PLAYER_UNIT_TRAIN_START )
    call TriggerAddCondition( gg_trg_T2_TrainGrunt_Done, Condition( function Trig_T2_TrainGrunt_Done_Conditions ) )
    call TriggerAddAction( gg_trg_T2_TrainGrunt_Done, function Trig_T2_TrainGrunt_Done_Actions )
endfunction

//===========================================================================
// Trigger: T3 MoreGrunts Q
//===========================================================================
function Trig_T3_MoreGrunts_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_T3_MoreGrunts_Q_Func002001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_T3_MoreGrunts_Q_Func008001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_T3_MoreGrunts_Q_Actions takes nothing returns nothing
    call TriggerSleepAction( 1.00 )
    if ( Trig_T3_MoreGrunts_Q_Func002001() ) then
        return
    else
        call DoNothing(  )
    endif
    call ConditionalTriggerExecute( gg_trg_Leaderboard_Create )
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_517", gg_snd_T02Narrator044, "TRIGSTR_518", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Narrator044, 0 )
    if ( Trig_T3_MoreGrunts_Q_Func008001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_T3_MoreGrunts_Q takes nothing returns nothing
    set gg_trg_T3_MoreGrunts_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_T3_MoreGrunts_Q, Condition( function Trig_T3_MoreGrunts_Q_Conditions ) )
    call TriggerAddAction( gg_trg_T3_MoreGrunts_Q, function Trig_T3_MoreGrunts_Q_Actions )
endfunction

//===========================================================================
// Trigger: T3 MoreGrunts Abort
//===========================================================================
function Trig_T3_MoreGrunts_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_T3_MoreGrunts_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T02Narrator044, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_T3_MoreGrunts_Q )
endfunction

//===========================================================================
function InitTrig_T3_MoreGrunts_Abort takes nothing returns nothing
    set gg_trg_T3_MoreGrunts_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_T3_MoreGrunts_Abort, function Trig_T3_MoreGrunts_Abort_Actions )
endfunction

//===========================================================================
// Trigger: T3 MoreGrunts Done
//===========================================================================
function Trig_T3_MoreGrunts_Done_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_T3_MoreGrunts_Abort )
endfunction

//===========================================================================
function InitTrig_T3_MoreGrunts_Done takes nothing returns nothing
    set gg_trg_T3_MoreGrunts_Done = CreateTrigger(  )
    call DisableTrigger( gg_trg_T3_MoreGrunts_Done )
    call TriggerAddAction( gg_trg_T3_MoreGrunts_Done, function Trig_T3_MoreGrunts_Done_Actions )
endfunction

//===========================================================================
// Trigger: T4 DoubleBarracks Event
//===========================================================================
function Trig_T4_DoubleBarracks_Event_Conditions takes nothing returns boolean
    if ( not ( GetTrainedUnitType() == 'ogru' ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_T4_DoubleBarracks_Event_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 2.00 )
    call QueuedTriggerAddBJ( gg_trg_T4_DoubleBarracks_Q, true )
endfunction

//===========================================================================
function InitTrig_T4_DoubleBarracks_Event takes nothing returns nothing
    set gg_trg_T4_DoubleBarracks_Event = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_T4_DoubleBarracks_Event, Player(0), EVENT_PLAYER_UNIT_TRAIN_FINISH )
    call TriggerAddCondition( gg_trg_T4_DoubleBarracks_Event, Condition( function Trig_T4_DoubleBarracks_Event_Conditions ) )
    call TriggerAddAction( gg_trg_T4_DoubleBarracks_Event, function Trig_T4_DoubleBarracks_Event_Actions )
endfunction

//===========================================================================
// Trigger: T4 DoubleBarracks Q
//===========================================================================
function Trig_T4_DoubleBarracks_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_T4_DoubleBarracks_Q_Func003001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_T4_DoubleBarracks_Q_Func007001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_T4_DoubleBarracks_Q_Actions takes nothing returns nothing
    call TriggerSleepAction( 2 )
    if ( Trig_T4_DoubleBarracks_Q_Func003001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Hint" )
    call ConditionalTriggerExecute( gg_trg_Hint_DoubleBarracks )
    call TriggerSleepAction( udg_HintDelay )
    if ( Trig_T4_DoubleBarracks_Q_Func007001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_T4_DoubleBarracks_Q takes nothing returns nothing
    set gg_trg_T4_DoubleBarracks_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_T4_DoubleBarracks_Q, Condition( function Trig_T4_DoubleBarracks_Q_Conditions ) )
    call TriggerAddAction( gg_trg_T4_DoubleBarracks_Q, function Trig_T4_DoubleBarracks_Q_Actions )
endfunction

//===========================================================================
// Trigger: T4 DoubleBarracks Abort
//===========================================================================
function Trig_T4_DoubleBarracks_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_T4_DoubleBarracks_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_T4_DoubleBarracks_Q )
endfunction

//===========================================================================
function InitTrig_T4_DoubleBarracks_Abort takes nothing returns nothing
    set gg_trg_T4_DoubleBarracks_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_T4_DoubleBarracks_Abort, function Trig_T4_DoubleBarracks_Abort_Actions )
endfunction

//===========================================================================
// Trigger: T4 DoubleBarracks Done
//===========================================================================
function Trig_T4_DoubleBarracks_Done_Func002001001002001 takes nothing returns boolean
    return ( IsUnitAliveBJ(GetFilterUnit()) == true )
endfunction

function Trig_T4_DoubleBarracks_Done_Func002001001002002 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'obar' )
endfunction

function Trig_T4_DoubleBarracks_Done_Func002001001002 takes nothing returns boolean
    return GetBooleanAnd( Trig_T4_DoubleBarracks_Done_Func002001001002001(), Trig_T4_DoubleBarracks_Done_Func002001001002002() )
endfunction

function Trig_T4_DoubleBarracks_Done_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetConstructingStructure()) == 'obar' ) ) then
        return false
    endif
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerMatching(udg_AP1_Player, Condition(function Trig_T4_DoubleBarracks_Done_Func002001001002))) > 1 ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_T4_DoubleBarracks_Done_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_T4_DoubleBarracks_Abort )
endfunction

//===========================================================================
function InitTrig_T4_DoubleBarracks_Done takes nothing returns nothing
    set gg_trg_T4_DoubleBarracks_Done = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_T4_DoubleBarracks_Done, Player(0), EVENT_PLAYER_UNIT_CONSTRUCT_START )
    call TriggerAddCondition( gg_trg_T4_DoubleBarracks_Done, Condition( function Trig_T4_DoubleBarracks_Done_Conditions ) )
    call TriggerAddAction( gg_trg_T4_DoubleBarracks_Done, function Trig_T4_DoubleBarracks_Done_Actions )
endfunction

//===========================================================================
// Trigger: LowUpkeep Event
//
// Units can be gained through training or rescuing, so a periodic event simplifies the logic of this message.
//===========================================================================
function Trig_LowUpkeep_Event_Conditions takes nothing returns boolean
    if ( not ( GetPlayerState(udg_AP1_Player, PLAYER_STATE_RESOURCE_FOOD_USED) > 40 ) ) then
        return false
    endif
    if ( not ( udg_InCombat == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_LowUpkeep_Event_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_LowUpkeep_Q, true )
endfunction

//===========================================================================
function InitTrig_LowUpkeep_Event takes nothing returns nothing
    set gg_trg_LowUpkeep_Event = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_LowUpkeep_Event, 0.50 )
    call TriggerAddCondition( gg_trg_LowUpkeep_Event, Condition( function Trig_LowUpkeep_Event_Conditions ) )
    call TriggerAddAction( gg_trg_LowUpkeep_Event, function Trig_LowUpkeep_Event_Actions )
endfunction

//===========================================================================
// Trigger: LowUpkeep Q
//===========================================================================
function Trig_LowUpkeep_Q_Func002001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_LowUpkeep_Q_Func007001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_LowUpkeep_Q_Func012001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_LowUpkeep_Q_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.50 )
    if ( Trig_LowUpkeep_Q_Func002001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_648", gg_snd_T02Narrator053, "TRIGSTR_649", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Narrator053, 0 )
    if ( Trig_LowUpkeep_Q_Func007001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Hint" )
    call ConditionalTriggerExecute( gg_trg_Hint_Upkeep )
    call TriggerSleepAction( udg_HintDelay )
    if ( Trig_LowUpkeep_Q_Func012001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_LowUpkeep_Q takes nothing returns nothing
    set gg_trg_LowUpkeep_Q = CreateTrigger(  )
    call TriggerAddAction( gg_trg_LowUpkeep_Q, function Trig_LowUpkeep_Q_Actions )
endfunction

//===========================================================================
// Trigger: Battle Stations EventA
//===========================================================================
function Trig_Battle_Stations_EventA_Conditions takes nothing returns boolean
    if ( not ( GetIssuedOrderIdBJ() == String2OrderIdBJ("smart") ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetOrderedUnit()) == 'opeo' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetOrderTargetUnit()) == 'otrb' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Battle_Stations_EventA_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_Battle_Stations_EventA )
    call DisableTrigger( gg_trg_Battle_Stations_EventB )
    call TriggerSleepAction( 1.00 )
    call QueuedTriggerAddBJ( gg_trg_Battle_Stations_Q, true )
endfunction

//===========================================================================
function InitTrig_Battle_Stations_EventA takes nothing returns nothing
    set gg_trg_Battle_Stations_EventA = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Battle_Stations_EventA, Condition( function Trig_Battle_Stations_EventA_Conditions ) )
    call TriggerAddAction( gg_trg_Battle_Stations_EventA, function Trig_Battle_Stations_EventA_Actions )
endfunction

//===========================================================================
// Trigger: Battle Stations EventB
//===========================================================================
function Trig_Battle_Stations_EventB_Conditions takes nothing returns boolean
    if ( not ( GetIssuedOrderIdBJ() == String2OrderIdBJ("battlestations") ) ) then
        return false
    endif
    return true
endfunction

function Trig_Battle_Stations_EventB_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_Battle_Stations_EventA )
    call DisableTrigger( gg_trg_Battle_Stations_EventB )
    call TriggerSleepAction( 1.00 )
    call QueuedTriggerAddBJ( gg_trg_Battle_Stations_Q, true )
endfunction

//===========================================================================
function InitTrig_Battle_Stations_EventB takes nothing returns nothing
    set gg_trg_Battle_Stations_EventB = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Battle_Stations_EventB, Condition( function Trig_Battle_Stations_EventB_Conditions ) )
    call TriggerAddAction( gg_trg_Battle_Stations_EventB, function Trig_Battle_Stations_EventB_Actions )
endfunction

//===========================================================================
// Trigger: Battle Stations Q
//
// %%%
// This event is insufficient.  It checks for the order being issued, but the recorded dialogue is in response to the order being carried out.
// The solution is to enumerate all peons for the player and query whether or not that peon is being transported.  If at least one peon is
// being transported, the user used a burrow.
//===========================================================================
function Trig_Battle_Stations_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Battle_Stations_Q_Func003001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_Battle_Stations_Q_Func008001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_Battle_Stations_Q_Func012001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_Battle_Stations_Q_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.50 )
    if ( Trig_Battle_Stations_Q_Func003001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_690", gg_snd_T02Narrator105, "TRIGSTR_691", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Narrator105, 0 )
    if ( Trig_Battle_Stations_Q_Func008001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Hint" )
    call ConditionalTriggerExecute( gg_trg_Hint_StandDown )
    call TriggerSleepAction( udg_HintDelay )
    if ( Trig_Battle_Stations_Q_Func012001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Battle_Stations_Q takes nothing returns nothing
    set gg_trg_Battle_Stations_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Battle_Stations_Q, Condition( function Trig_Battle_Stations_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Battle_Stations_Q, function Trig_Battle_Stations_Q_Actions )
endfunction

//===========================================================================
// Trigger: Rally Point Event
//===========================================================================
function Trig_Rally_Point_Event_Func002001 takes nothing returns boolean
    return ( GetIssuedOrderIdBJ() == String2OrderIdBJ("setrally") )
endfunction

function Trig_Rally_Point_Event_Func002002 takes nothing returns boolean
    return ( GetIssuedOrderIdBJ() == String2OrderIdBJ("smart") )
endfunction

function Trig_Rally_Point_Event_Conditions takes nothing returns boolean
    if ( not ( IsUnitType(GetOrderedUnit(), UNIT_TYPE_STRUCTURE) == true ) ) then
        return false
    endif
    if ( not GetBooleanOr( Trig_Rally_Point_Event_Func002001(), Trig_Rally_Point_Event_Func002002() ) ) then
        return false
    endif
    return true
endfunction

function Trig_Rally_Point_Event_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 0.50 )
    call QueuedTriggerAddBJ( gg_trg_Rally_Point_Q, true )
endfunction

//===========================================================================
function InitTrig_Rally_Point_Event takes nothing returns nothing
    set gg_trg_Rally_Point_Event = CreateTrigger(  )
    call DisableTrigger( gg_trg_Rally_Point_Event )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Rally_Point_Event, Player(0), EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER )
    call TriggerAddCondition( gg_trg_Rally_Point_Event, Condition( function Trig_Rally_Point_Event_Conditions ) )
    call TriggerAddAction( gg_trg_Rally_Point_Event, function Trig_Rally_Point_Event_Actions )
endfunction

//===========================================================================
// Trigger: Rally Point Q
//===========================================================================
function Trig_Rally_Point_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Rally_Point_Q_Func003001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_Rally_Point_Q_Func008001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_Rally_Point_Q_Func012001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_Rally_Point_Q_Func017001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_Rally_Point_Q_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.50 )
    if ( Trig_Rally_Point_Q_Func003001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_693", gg_snd_T02Narrator103, "TRIGSTR_694", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Narrator103, 0 )
    if ( Trig_Rally_Point_Q_Func008001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_695", gg_snd_T02Narrator104, "TRIGSTR_696", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Narrator104, 0 )
    if ( Trig_Rally_Point_Q_Func012001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Hint" )
    call ConditionalTriggerExecute( gg_trg_Hint_RallyPeons )
    call TriggerSleepAction( udg_HintDelay )
    if ( Trig_Rally_Point_Q_Func017001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Rally_Point_Q takes nothing returns nothing
    set gg_trg_Rally_Point_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Rally_Point_Q, Condition( function Trig_Rally_Point_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Rally_Point_Q, function Trig_Rally_Point_Q_Actions )
endfunction

//===========================================================================
// Trigger: Repair Event
//===========================================================================
function Trig_Repair_Event_Conditions takes nothing returns boolean
    if ( not ( udg_InCombat == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Repair_Event_Func001002002001 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == true )
endfunction

function Trig_Repair_Event_Func001002002002001 takes nothing returns boolean
    return ( GetUnitStateSwap(UNIT_STATE_LIFE, GetFilterUnit()) > 0.00 )
endfunction

function Trig_Repair_Event_Func001002002002002 takes nothing returns boolean
    return ( GetUnitStateSwap(UNIT_STATE_LIFE, GetFilterUnit()) < ( GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetFilterUnit()) - 50.00 ) )
endfunction

function Trig_Repair_Event_Func001002002002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Repair_Event_Func001002002002001(), Trig_Repair_Event_Func001002002002002() )
endfunction

function Trig_Repair_Event_Func001002002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Repair_Event_Func001002002001(), Trig_Repair_Event_Func001002002002() )
endfunction

function Trig_Repair_Event_Func003001 takes nothing returns boolean
    return ( udg_DamagedBuilding == null )
endfunction

function Trig_Repair_Event_Actions takes nothing returns nothing
    set udg_DamagedBuildings = GetUnitsOfPlayerMatching(udg_AP1_Player, Condition(function Trig_Repair_Event_Func001002002))
    set udg_DamagedBuilding = GroupPickRandomUnit(udg_DamagedBuildings)
    if ( Trig_Repair_Event_Func003001() ) then
        return
    else
        call DoNothing(  )
    endif
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 0.50 )
    call QueuedTriggerAddBJ( gg_trg_Repair_Q, true )
endfunction

//===========================================================================
function InitTrig_Repair_Event takes nothing returns nothing
    set gg_trg_Repair_Event = CreateTrigger(  )
    call DisableTrigger( gg_trg_Repair_Event )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Repair_Event, 1.00 )
    call TriggerAddCondition( gg_trg_Repair_Event, Condition( function Trig_Repair_Event_Conditions ) )
    call TriggerAddAction( gg_trg_Repair_Event, function Trig_Repair_Event_Actions )
endfunction

//===========================================================================
// Trigger: Repair Q
//===========================================================================
function Trig_Repair_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Repair_Q_Func003001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_Repair_Q_Func011001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_Repair_Q_Func016001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_Repair_Q_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.50 )
    if ( Trig_Repair_Q_Func003001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_675", gg_snd_T02Narrator051, "TRIGSTR_676", bj_TIMETYPE_ADD, 0, false )
    call SmartCameraPanBJ( udg_AP1_Player, GetUnitLoc(udg_DamagedBuilding), 0.5 )
    call SetCameraQuickPositionLocForPlayer( udg_AP1_Player, GetUnitLoc(udg_DamagedBuilding) )
    call PingMinimapLocForForce( udg_APG1_Player, GetUnitLoc(udg_DamagedBuilding), 2.00 )
    call WaitForSoundBJ( gg_snd_T02Narrator051, 0 )
    if ( Trig_Repair_Q_Func011001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Hint" )
    call ConditionalTriggerExecute( gg_trg_Hint_Repair )
    call TriggerSleepAction( udg_HintDelay )
    if ( Trig_Repair_Q_Func016001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Repair_Q takes nothing returns nothing
    set gg_trg_Repair_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Repair_Q, Condition( function Trig_Repair_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Repair_Q, function Trig_Repair_Q_Actions )
endfunction

//===========================================================================
// Trigger: Altar Event
//===========================================================================
function Trig_Altar_Event_Conditions takes nothing returns boolean
    if ( not ( GetDyingUnit() == udg_Thrall ) ) then
        return false
    endif
    return true
endfunction

function Trig_Altar_Event_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 0.50 )
    call QueuedTriggerAddBJ( gg_trg_Altar_Q, true )
endfunction

//===========================================================================
function InitTrig_Altar_Event takes nothing returns nothing
    set gg_trg_Altar_Event = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Altar_Event, Player(0), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Altar_Event, Condition( function Trig_Altar_Event_Conditions ) )
    call TriggerAddAction( gg_trg_Altar_Event, function Trig_Altar_Event_Actions )
endfunction

//===========================================================================
// Trigger: Altar Q
//===========================================================================
function Trig_Altar_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Altar_Q_Func002001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_Altar_Q_Func008001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_Altar_Q_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.50 )
    if ( Trig_Altar_Q_Func002001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetCameraQuickPositionLocForPlayer( udg_AP1_Player, GetUnitLoc(udg_Altar) )
    call PingMinimapLocForForce( GetPlayersAll(), GetUnitLoc(udg_Altar), 2.00 )
    call CommentString( "Hint" )
    call ConditionalTriggerExecute( gg_trg_Hint_Altar )
    call TriggerSleepAction( udg_HintDelay )
    if ( Trig_Altar_Q_Func008001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Altar_Q takes nothing returns nothing
    set gg_trg_Altar_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Altar_Q, Condition( function Trig_Altar_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Altar_Q, function Trig_Altar_Q_Actions )
endfunction

//===========================================================================
// Trigger: Revival Event
//===========================================================================
function Trig_Revival_Event_Conditions takes nothing returns boolean
    if ( not ( GetRevivingUnit() == udg_Thrall ) ) then
        return false
    endif
    return true
endfunction

function Trig_Revival_Event_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 0.50 )
    call QueuedTriggerAddBJ( gg_trg_Revival_Q, true )
endfunction

//===========================================================================
function InitTrig_Revival_Event takes nothing returns nothing
    set gg_trg_Revival_Event = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Revival_Event, Player(0), EVENT_PLAYER_HERO_REVIVE_FINISH )
    call TriggerAddCondition( gg_trg_Revival_Event, Condition( function Trig_Revival_Event_Conditions ) )
    call TriggerAddAction( gg_trg_Revival_Event, function Trig_Revival_Event_Actions )
endfunction

//===========================================================================
// Trigger: Revival Q
//===========================================================================
function Trig_Revival_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Revival_Q_Func002001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_Revival_Q_Func006001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_Revival_Q_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.50 )
    if ( Trig_Revival_Q_Func002001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Hint" )
    call ConditionalTriggerExecute( gg_trg_Hint_Revival )
    call TriggerSleepAction( udg_HintDelay )
    if ( Trig_Revival_Q_Func006001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Revival_Q takes nothing returns nothing
    set gg_trg_Revival_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Revival_Q, Condition( function Trig_Revival_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Revival_Q, function Trig_Revival_Q_Actions )
endfunction

//===========================================================================
// Trigger: BridgeAttacker At Tower01
//===========================================================================
function Trig_BridgeAttacker_At_Tower01_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_BridgeAttackers) == true ) ) then
        return false
    endif
    if ( not ( IsUnitAliveBJ(GetEnteringUnit()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_BridgeAttacker_At_Tower01_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ( GetEnteringUnit(), "attack", GetRandomLocInRect(gg_rct_Waypoint02_Tower) )
endfunction

//===========================================================================
function InitTrig_BridgeAttacker_At_Tower01 takes nothing returns nothing
    set gg_trg_BridgeAttacker_At_Tower01 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_BridgeAttacker_At_Tower01, gg_rct_Waypoint01_Tower )
    call TriggerAddCondition( gg_trg_BridgeAttacker_At_Tower01, Condition( function Trig_BridgeAttacker_At_Tower01_Conditions ) )
    call TriggerAddAction( gg_trg_BridgeAttacker_At_Tower01, function Trig_BridgeAttacker_At_Tower01_Actions )
endfunction

//===========================================================================
// Trigger: BridgeAttacker At Tower02
//===========================================================================
function Trig_BridgeAttacker_At_Tower02_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_BridgeAttackers) == true ) ) then
        return false
    endif
    if ( not ( IsUnitAliveBJ(GetEnteringUnit()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_BridgeAttacker_At_Tower02_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ( GetEnteringUnit(), "attack", GetRandomLocInRect(gg_rct_Waypoint03_Tower) )
endfunction

//===========================================================================
function InitTrig_BridgeAttacker_At_Tower02 takes nothing returns nothing
    set gg_trg_BridgeAttacker_At_Tower02 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_BridgeAttacker_At_Tower02, gg_rct_Waypoint02_Tower )
    call TriggerAddCondition( gg_trg_BridgeAttacker_At_Tower02, Condition( function Trig_BridgeAttacker_At_Tower02_Conditions ) )
    call TriggerAddAction( gg_trg_BridgeAttacker_At_Tower02, function Trig_BridgeAttacker_At_Tower02_Actions )
endfunction

//===========================================================================
// Trigger: BridgeAttacker At Tower03
//===========================================================================
function Trig_BridgeAttacker_At_Tower03_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_BridgeAttackers) == true ) ) then
        return false
    endif
    if ( not ( IsUnitAliveBJ(GetEnteringUnit()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_BridgeAttacker_At_Tower03_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ( GetEnteringUnit(), "attack", GetRandomLocInRect(gg_rct_Waypoint04_GreatHall) )
endfunction

//===========================================================================
function InitTrig_BridgeAttacker_At_Tower03 takes nothing returns nothing
    set gg_trg_BridgeAttacker_At_Tower03 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_BridgeAttacker_At_Tower03, gg_rct_Waypoint03_Tower )
    call TriggerAddCondition( gg_trg_BridgeAttacker_At_Tower03, Condition( function Trig_BridgeAttacker_At_Tower03_Conditions ) )
    call TriggerAddAction( gg_trg_BridgeAttacker_At_Tower03, function Trig_BridgeAttacker_At_Tower03_Actions )
endfunction

//===========================================================================
// Trigger: BridgeAttacker Die
//===========================================================================
function Trig_BridgeAttacker_Die_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetDyingUnit(), udg_BridgeAttackers) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_BridgeAttacker_Die_Func002001 takes nothing returns boolean
    return ( CountUnitsInGroup(udg_BridgeAttackers) > 0 )
endfunction

function Trig_BridgeAttacker_Die_Actions takes nothing returns nothing
    call GroupRemoveUnitSimple( GetDyingUnit(), udg_BridgeAttackers )
    if ( Trig_BridgeAttacker_Die_Func002001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "If no attackers are left, queue up the post-attack sequence" )
    call TriggerSleepAction( 2.00 )
    call QueuedTriggerAddBJ( gg_trg_BridgeAttackers_Dead_Q, true )
endfunction

//===========================================================================
function InitTrig_BridgeAttacker_Die takes nothing returns nothing
    set gg_trg_BridgeAttacker_Die = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_BridgeAttacker_Die, Player(1), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_BridgeAttacker_Die, Condition( function Trig_BridgeAttacker_Die_Conditions ) )
    call TriggerAddAction( gg_trg_BridgeAttacker_Die, function Trig_BridgeAttacker_Die_Actions )
endfunction

//===========================================================================
// Trigger: BridgeAttackers Dead Q
//===========================================================================
function Trig_BridgeAttackers_Dead_Q_Actions takes nothing returns nothing
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call ConditionalTriggerExecute( gg_trg_BridgeAttacker_Grunt_Line )
    call WaitForSoundBJ( gg_snd_T02Grunt049, 0 )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_258", gg_snd_T02Narrator050, "TRIGSTR_259", bj_TIMETYPE_ADD, 0, false )
    call SmartCameraPanBJ( udg_AP1_Player, GetRectCenter(gg_rct_Bridge_Focus), 0.5 )
    call SetCameraQuickPositionLocForPlayer( udg_AP1_Player, GetRectCenter(gg_rct_Bridge_Focus) )
    call PingMinimapLocForForce( udg_APG1_Player, GetRectCenter(gg_rct_Bridge_Focus), 2.00 )
    call WaitForSoundBJ( gg_snd_T02Narrator050, 0 )
    call VolumeGroupResetBJ(  )
    call TriggerSleepAction( 1.00 )
    call ConditionalTriggerExecute( gg_trg_QuestGrom_Discover )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
    call EnableTrigger( gg_trg_Repair_Event )
endfunction

//===========================================================================
function InitTrig_BridgeAttackers_Dead_Q takes nothing returns nothing
    set gg_trg_BridgeAttackers_Dead_Q = CreateTrigger(  )
    call TriggerAddAction( gg_trg_BridgeAttackers_Dead_Q, function Trig_BridgeAttackers_Dead_Q_Actions )
endfunction

//===========================================================================
// Trigger: BridgeAttacker Grunt Line
//===========================================================================
function Trig_BridgeAttacker_Grunt_Line_Func002002001002001 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'ogru' )
endfunction

function Trig_BridgeAttacker_Grunt_Line_Func002002001002002 takes nothing returns boolean
    return ( IsUnitAliveBJ(GetFilterUnit()) == true )
endfunction

function Trig_BridgeAttacker_Grunt_Line_Func002002001002 takes nothing returns boolean
    return GetBooleanAnd( Trig_BridgeAttacker_Grunt_Line_Func002002001002001(), Trig_BridgeAttacker_Grunt_Line_Func002002001002002() )
endfunction

function Trig_BridgeAttacker_Grunt_Line_Func003001 takes nothing returns boolean
    return ( udg_BridgeGrunt == null )
endfunction

function Trig_BridgeAttacker_Grunt_Line_Actions takes nothing returns nothing
    call CommentString( "Select a random grunt owned by the player" )
    set udg_BridgeGrunt = GroupPickRandomUnit(GetUnitsOfPlayerMatching(udg_AP1_Player, Condition(function Trig_BridgeAttacker_Grunt_Line_Func002002001002)))
    if ( Trig_BridgeAttacker_Grunt_Line_Func003001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "If the player has at least one grunt, play his line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_BridgeGrunt, "TRIGSTR_726", gg_snd_T02Grunt049, "TRIGSTR_727", bj_TIMETYPE_ADD, 0, false )
endfunction

//===========================================================================
function InitTrig_BridgeAttacker_Grunt_Line takes nothing returns nothing
    set gg_trg_BridgeAttacker_Grunt_Line = CreateTrigger(  )
    call TriggerAddAction( gg_trg_BridgeAttacker_Grunt_Line, function Trig_BridgeAttacker_Grunt_Line_Actions )
endfunction

//===========================================================================
// Trigger: Gate Hint
//===========================================================================
function Trig_Gate_Hint_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    return true
endfunction

function Trig_Gate_Hint_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Gate_Hint_Q, true )
endfunction

//===========================================================================
function InitTrig_Gate_Hint takes nothing returns nothing
    set gg_trg_Gate_Hint = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Gate_Hint, gg_rct_GateHintA )
    call TriggerRegisterEnterRectSimple( gg_trg_Gate_Hint, gg_rct_GateHintB )
    call TriggerRegisterEnterRectSimple( gg_trg_Gate_Hint, gg_rct_GateHintC )
    call TriggerAddCondition( gg_trg_Gate_Hint, Condition( function Trig_Gate_Hint_Conditions ) )
    call TriggerAddAction( gg_trg_Gate_Hint, function Trig_Gate_Hint_Actions )
endfunction

//===========================================================================
// Trigger: Gate Hint Q
//===========================================================================
function Trig_Gate_Hint_Q_Conditions takes nothing returns boolean
    if ( not ( IsDestructableAliveBJ(udg_Gate01) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Gate_Hint_Q_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Hint_Gate )
    call TriggerSleepAction( bj_QUEUE_DELAY_HINT )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Gate_Hint_Q takes nothing returns nothing
    set gg_trg_Gate_Hint_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Gate_Hint_Q, Condition( function Trig_Gate_Hint_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Gate_Hint_Q, function Trig_Gate_Hint_Q_Actions )
endfunction

//===========================================================================
// Trigger: Prison01 Check
//===========================================================================
function Trig_Prison01_Check_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetDyingUnit(), udg_Prison01Guards) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Prison01_Check_Func004001 takes nothing returns boolean
    return ( IsUnitGroupEmptyBJ(udg_Prison01Guards) == false )
endfunction

function Trig_Prison01_Check_Actions takes nothing returns nothing
    call GroupRemoveUnitSimple( GetDyingUnit(), udg_Prison01Guards )
    if ( Trig_Prison01_Check_Func004001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Defenders are all dead" )
    call DisableTrigger( GetTriggeringTrigger() )
    call ConditionalTriggerExecute( gg_trg_Cage01_Rescue )
endfunction

//===========================================================================
function InitTrig_Prison01_Check takes nothing returns nothing
    set gg_trg_Prison01_Check = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Prison01_Check, Player(1), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Prison01_Check, Condition( function Trig_Prison01_Check_Conditions ) )
    call TriggerAddAction( gg_trg_Prison01_Check, function Trig_Prison01_Check_Actions )
endfunction

//===========================================================================
// Trigger: Cage01 Destroyed
//===========================================================================
function Trig_Cage01_Destroyed_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call ConditionalTriggerExecute( gg_trg_Cage01_Rescue )
endfunction

//===========================================================================
function InitTrig_Cage01_Destroyed takes nothing returns nothing
    set gg_trg_Cage01_Destroyed = CreateTrigger(  )
    call TriggerRegisterDeathEvent( gg_trg_Cage01_Destroyed, gg_dest_LOcg_0777 )
    call TriggerAddAction( gg_trg_Cage01_Destroyed, function Trig_Cage01_Destroyed_Actions )
endfunction

//===========================================================================
// Trigger: Cage01 Rescue
//===========================================================================
function Trig_Cage01_Rescue_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cage01_Rescue_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Cage(s) explode" )
    call KillDestructable( udg_Cage01 )
    call TriggerSleepAction( 0.10 )
    call CommentString( "Create units for alternate player and immediately rescue them" )
    call CreateNUnitsAtLoc( 1, 'ogru', udg_P4_OtherOrcs, GetDestructableLoc(udg_Cage01), 225.00 )
    call RescueUnitBJ( GetLastCreatedUnit(), udg_AP1_Player, true )
    call IssuePointOrderLocBJ( GetLastCreatedUnit(), "attack", GetRectCenter(gg_rct_Cage01_MoveTo) )
    call AttachSoundToUnitBJ( gg_snd_GruntReady1, GetLastCreatedUnit() )
    call PlaySoundBJ( gg_snd_GruntReady1 )
endfunction

//===========================================================================
function InitTrig_Cage01_Rescue takes nothing returns nothing
    set gg_trg_Cage01_Rescue = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Cage01_Rescue, Condition( function Trig_Cage01_Rescue_Conditions ) )
    call TriggerAddAction( gg_trg_Cage01_Rescue, function Trig_Cage01_Rescue_Actions )
endfunction

//===========================================================================
// Trigger: Prison02 Check
//===========================================================================
function Trig_Prison02_Check_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetDyingUnit(), udg_Prison02Guards) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Prison02_Check_Func004001 takes nothing returns boolean
    return ( IsUnitGroupEmptyBJ(udg_Prison02Guards) == false )
endfunction

function Trig_Prison02_Check_Actions takes nothing returns nothing
    call GroupRemoveUnitSimple( GetDyingUnit(), udg_Prison02Guards )
    if ( Trig_Prison02_Check_Func004001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Defenders are all dead" )
    call DisableTrigger( GetTriggeringTrigger() )
    call ConditionalTriggerExecute( gg_trg_Cage02_Rescue )
endfunction

//===========================================================================
function InitTrig_Prison02_Check takes nothing returns nothing
    set gg_trg_Prison02_Check = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Prison02_Check, Player(1), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Prison02_Check, Condition( function Trig_Prison02_Check_Conditions ) )
    call TriggerAddAction( gg_trg_Prison02_Check, function Trig_Prison02_Check_Actions )
endfunction

//===========================================================================
// Trigger: Cage02 Destroyed
//===========================================================================
function Trig_Cage02_Destroyed_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call ConditionalTriggerExecute( gg_trg_Cage02_Rescue )
endfunction

//===========================================================================
function InitTrig_Cage02_Destroyed takes nothing returns nothing
    set gg_trg_Cage02_Destroyed = CreateTrigger(  )
    call TriggerRegisterDeathEvent( gg_trg_Cage02_Destroyed, gg_dest_LOcg_0776 )
    call TriggerAddAction( gg_trg_Cage02_Destroyed, function Trig_Cage02_Destroyed_Actions )
endfunction

//===========================================================================
// Trigger: Cage02 Rescue
//===========================================================================
function Trig_Cage02_Rescue_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cage02_Rescue_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Cage(s) explode" )
    call KillDestructable( udg_Cage02 )
    call TriggerSleepAction( 0.10 )
    call CommentString( "Create units for alternate player and immediately rescue them" )
    call CreateNUnitsAtLoc( 1, 'oshm', udg_P4_OtherOrcs, GetDestructableLoc(udg_Cage02), 225.00 )
    call SetUnitManaPercentBJ( GetLastCreatedUnit(), 80.00 )
    call RescueUnitBJ( GetLastCreatedUnit(), udg_AP1_Player, true )
    call IssuePointOrderLocBJ( GetLastCreatedUnit(), "attack", GetRectCenter(gg_rct_Cage02_MoveTo) )
    call AttachSoundToUnitBJ( gg_snd_ShamanYes3, GetLastCreatedUnit() )
    call PlaySoundBJ( gg_snd_ShamanYes3 )
endfunction

//===========================================================================
function InitTrig_Cage02_Rescue takes nothing returns nothing
    set gg_trg_Cage02_Rescue = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Cage02_Rescue, Condition( function Trig_Cage02_Rescue_Conditions ) )
    call TriggerAddAction( gg_trg_Cage02_Rescue, function Trig_Cage02_Rescue_Actions )
endfunction

//===========================================================================
// Trigger: Prison03 Check
//===========================================================================
function Trig_Prison03_Check_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetDyingUnit(), udg_Prison03Guards) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Prison03_Check_Func004001 takes nothing returns boolean
    return ( IsUnitGroupEmptyBJ(udg_Prison03Guards) == false )
endfunction

function Trig_Prison03_Check_Actions takes nothing returns nothing
    call GroupRemoveUnitSimple( GetDyingUnit(), udg_Prison03Guards )
    if ( Trig_Prison03_Check_Func004001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Defenders are all dead" )
    call DisableTrigger( GetTriggeringTrigger() )
    call ConditionalTriggerExecute( gg_trg_Cage03A_Rescue )
    call TriggerSleepAction( 0.15 )
    call ConditionalTriggerExecute( gg_trg_Cage03B_Rescue )
    call TriggerSleepAction( 0.15 )
    call ConditionalTriggerExecute( gg_trg_Cage03C_Rescue )
endfunction

//===========================================================================
function InitTrig_Prison03_Check takes nothing returns nothing
    set gg_trg_Prison03_Check = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Prison03_Check, Player(1), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Prison03_Check, Condition( function Trig_Prison03_Check_Conditions ) )
    call TriggerAddAction( gg_trg_Prison03_Check, function Trig_Prison03_Check_Actions )
endfunction

//===========================================================================
// Trigger: Cage03A Destroyed
//===========================================================================
function Trig_Cage03A_Destroyed_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call ConditionalTriggerExecute( gg_trg_Cage03A_Rescue )
endfunction

//===========================================================================
function InitTrig_Cage03A_Destroyed takes nothing returns nothing
    set gg_trg_Cage03A_Destroyed = CreateTrigger(  )
    call TriggerRegisterDeathEvent( gg_trg_Cage03A_Destroyed, gg_dest_LOcg_0774 )
    call TriggerAddAction( gg_trg_Cage03A_Destroyed, function Trig_Cage03A_Destroyed_Actions )
endfunction

//===========================================================================
// Trigger: Cage03B Destroyed
//===========================================================================
function Trig_Cage03B_Destroyed_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call ConditionalTriggerExecute( gg_trg_Cage03B_Rescue )
endfunction

//===========================================================================
function InitTrig_Cage03B_Destroyed takes nothing returns nothing
    set gg_trg_Cage03B_Destroyed = CreateTrigger(  )
    call TriggerRegisterDeathEvent( gg_trg_Cage03B_Destroyed, gg_dest_LOcg_2235 )
    call TriggerAddAction( gg_trg_Cage03B_Destroyed, function Trig_Cage03B_Destroyed_Actions )
endfunction

//===========================================================================
// Trigger: Cage03C Destroyed
//===========================================================================
function Trig_Cage03C_Destroyed_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call ConditionalTriggerExecute( gg_trg_Cage03C_Rescue )
endfunction

//===========================================================================
function InitTrig_Cage03C_Destroyed takes nothing returns nothing
    set gg_trg_Cage03C_Destroyed = CreateTrigger(  )
    call TriggerRegisterDeathEvent( gg_trg_Cage03C_Destroyed, gg_dest_LOcg_2234 )
    call TriggerAddAction( gg_trg_Cage03C_Destroyed, function Trig_Cage03C_Destroyed_Actions )
endfunction

//===========================================================================
// Trigger: Cage03A Rescue
//===========================================================================
function Trig_Cage03A_Rescue_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cage03A_Rescue_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Cage(s) explode" )
    call KillDestructable( udg_Cage03A )
    call TriggerSleepAction( 0.10 )
    call CommentString( "Create units for alternate player and immediately rescue them" )
    call CreateNUnitsAtLoc( 1, 'ogru', udg_P4_OtherOrcs, GetDestructableLoc(udg_Cage03A), 225.00 )
    call RescueUnitBJ( GetLastCreatedUnit(), udg_AP1_Player, true )
    call IssuePointOrderLocBJ( GetLastCreatedUnit(), "attack", GetRectCenter(gg_rct_Cage03A_MoveTo) )
    call AttachSoundToUnitBJ( gg_snd_GruntReady1, GetLastCreatedUnit() )
    call PlaySoundBJ( gg_snd_GruntReady1 )
endfunction

//===========================================================================
function InitTrig_Cage03A_Rescue takes nothing returns nothing
    set gg_trg_Cage03A_Rescue = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Cage03A_Rescue, Condition( function Trig_Cage03A_Rescue_Conditions ) )
    call TriggerAddAction( gg_trg_Cage03A_Rescue, function Trig_Cage03A_Rescue_Actions )
endfunction

//===========================================================================
// Trigger: Cage03B Rescue
//===========================================================================
function Trig_Cage03B_Rescue_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cage03B_Rescue_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Cage(s) explode" )
    call KillDestructable( udg_Cage03B )
    call TriggerSleepAction( 0.10 )
    call CommentString( "Create units for alternate player and immediately rescue them" )
    call CreateNUnitsAtLoc( 1, 'oshm', udg_P4_OtherOrcs, GetDestructableLoc(udg_Cage03B), 225.00 )
    call SetUnitManaPercentBJ( GetLastCreatedUnit(), 80.00 )
    call RescueUnitBJ( GetLastCreatedUnit(), udg_AP1_Player, true )
    call IssuePointOrderLocBJ( GetLastCreatedUnit(), "attack", GetRectCenter(gg_rct_Cage03B_MoveTo) )
    call AttachSoundToUnitBJ( gg_snd_ShamanYesAttack2, GetLastCreatedUnit() )
    call PlaySoundBJ( gg_snd_ShamanYesAttack2 )
endfunction

//===========================================================================
function InitTrig_Cage03B_Rescue takes nothing returns nothing
    set gg_trg_Cage03B_Rescue = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Cage03B_Rescue, Condition( function Trig_Cage03B_Rescue_Conditions ) )
    call TriggerAddAction( gg_trg_Cage03B_Rescue, function Trig_Cage03B_Rescue_Actions )
endfunction

//===========================================================================
// Trigger: Cage03C Rescue
//===========================================================================
function Trig_Cage03C_Rescue_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cage03C_Rescue_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Cage(s) explode" )
    call KillDestructable( udg_Cage03C )
    call TriggerSleepAction( 0.10 )
    call CommentString( "Create units for alternate player and immediately rescue them" )
    call CreateNUnitsAtLoc( 1, 'ogru', udg_P4_OtherOrcs, GetDestructableLoc(udg_Cage03C), 225.00 )
    call RescueUnitBJ( GetLastCreatedUnit(), udg_AP1_Player, true )
    call IssuePointOrderLocBJ( GetLastCreatedUnit(), "attack", GetRectCenter(gg_rct_Cage03C_MoveTo) )
    call AttachSoundToUnitBJ( gg_snd_GruntWarcry1, GetLastCreatedUnit() )
    call PlaySoundBJ( gg_snd_GruntWarcry1 )
endfunction

//===========================================================================
function InitTrig_Cage03C_Rescue takes nothing returns nothing
    set gg_trg_Cage03C_Rescue = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Cage03C_Rescue, Condition( function Trig_Cage03C_Rescue_Conditions ) )
    call TriggerAddAction( gg_trg_Cage03C_Rescue, function Trig_Cage03C_Rescue_Actions )
endfunction

//===========================================================================
// Trigger: Shaman Acquired
//===========================================================================
function Trig_Shaman_Acquired_Conditions takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(udg_AP1_Player, 'oshm')) > 0 ) ) then
        return false
    endif
    if ( not ( udg_InCombat == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Shaman_Acquired_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 1.00 )
    call QueuedTriggerAddBJ( gg_trg_Shaman_Acquired_Q, true )
endfunction

//===========================================================================
function InitTrig_Shaman_Acquired takes nothing returns nothing
    set gg_trg_Shaman_Acquired = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Shaman_Acquired, 0.50 )
    call TriggerAddCondition( gg_trg_Shaman_Acquired, Condition( function Trig_Shaman_Acquired_Conditions ) )
    call TriggerAddAction( gg_trg_Shaman_Acquired, function Trig_Shaman_Acquired_Actions )
endfunction

//===========================================================================
// Trigger: Shaman Acquired Q
//===========================================================================
function Trig_Shaman_Acquired_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Shaman_Acquired_Q_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_NewUnit_Shaman )
    call TriggerSleepAction( bj_QUEUE_DELAY_HINT )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Shaman_Acquired_Q takes nothing returns nothing
    set gg_trg_Shaman_Acquired_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Shaman_Acquired_Q, Condition( function Trig_Shaman_Acquired_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Shaman_Acquired_Q, function Trig_Shaman_Acquired_Q_Actions )
endfunction

//===========================================================================
// Trigger: Subgroup Event
//===========================================================================
function Trig_Subgroup_Event_Conditions takes nothing returns boolean
    if ( not ( udg_InCombat == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Subgroup_Event_Func004001001001002001 takes nothing returns boolean
    return ( IsUnitSelected(GetFilterUnit(), udg_AP1_Player) == true )
endfunction

function Trig_Subgroup_Event_Func004001001001002002 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'Othr' )
endfunction

function Trig_Subgroup_Event_Func004001001001002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Subgroup_Event_Func004001001001002001(), Trig_Subgroup_Event_Func004001001001002002() )
endfunction

function Trig_Subgroup_Event_Func004001 takes nothing returns boolean
    return ( CountUnitsInGroup(GetUnitsOfPlayerMatching(udg_AP1_Player, Condition(function Trig_Subgroup_Event_Func004001001001002))) > 0 )
endfunction

function Trig_Subgroup_Event_Func005001001001002001 takes nothing returns boolean
    return ( IsUnitSelected(GetFilterUnit(), udg_AP1_Player) == true )
endfunction

function Trig_Subgroup_Event_Func005001001001002002 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'oshm' )
endfunction

function Trig_Subgroup_Event_Func005001001001002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Subgroup_Event_Func005001001001002001(), Trig_Subgroup_Event_Func005001001001002002() )
endfunction

function Trig_Subgroup_Event_Func005001 takes nothing returns boolean
    return ( CountUnitsInGroup(GetUnitsOfPlayerMatching(udg_AP1_Player, Condition(function Trig_Subgroup_Event_Func005001001001002))) > 0 )
endfunction

function Trig_Subgroup_Event_Func006001 takes nothing returns boolean
    return ( udg_SelectedCasterTypes < 2 )
endfunction

function Trig_Subgroup_Event_Actions takes nothing returns nothing
    call CommentString( "Count the number of caster unit-types" )
    set udg_SelectedCasterTypes = 0
    if ( Trig_Subgroup_Event_Func004001() ) then
        set udg_SelectedCasterTypes = ( udg_SelectedCasterTypes + 1 )
    else
        call DoNothing(  )
    endif
    if ( Trig_Subgroup_Event_Func005001() ) then
        set udg_SelectedCasterTypes = ( udg_SelectedCasterTypes + 1 )
    else
        call DoNothing(  )
    endif
    if ( Trig_Subgroup_Event_Func006001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "More than one spellcaster type is selected" )
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 0.50 )
    call QueuedTriggerAddBJ( gg_trg_Subgroup_Q, true )
endfunction

//===========================================================================
function InitTrig_Subgroup_Event takes nothing returns nothing
    set gg_trg_Subgroup_Event = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Subgroup_Event, 1.00 )
    call TriggerAddCondition( gg_trg_Subgroup_Event, Condition( function Trig_Subgroup_Event_Conditions ) )
    call TriggerAddAction( gg_trg_Subgroup_Event, function Trig_Subgroup_Event_Actions )
endfunction

//===========================================================================
// Trigger: Subgroup Q
//===========================================================================
function Trig_Subgroup_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Subgroup_Q_Func003001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_Subgroup_Q_Func008001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_Subgroup_Q_Func010001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_Subgroup_Q_Func014001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_Subgroup_Q_Func018001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_Subgroup_Q_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.50 )
    if ( Trig_Subgroup_Q_Func003001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_709", gg_snd_T02Narrator111, "TRIGSTR_710", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Narrator111, 0 )
    if ( Trig_Subgroup_Q_Func008001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TriggerSleepAction( 1.00 )
    if ( Trig_Subgroup_Q_Func010001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_711", gg_snd_T02Narrator112, "TRIGSTR_712", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Narrator112, 0 )
    if ( Trig_Subgroup_Q_Func014001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), null, "TRIGSTR_715", gg_snd_T02Narrator114, "TRIGSTR_716", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Narrator114, 0 )
    if ( Trig_Subgroup_Q_Func018001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Subgroup_Q takes nothing returns nothing
    set gg_trg_Subgroup_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Subgroup_Q, Condition( function Trig_Subgroup_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Subgroup_Q, function Trig_Subgroup_Q_Actions )
endfunction

//===========================================================================
// Trigger: GuardTower Dies
//===========================================================================
function Trig_GuardTower_Dies_Func001001 takes nothing returns boolean
    return ( GetDyingUnit() == udg_GuardTower01 )
endfunction

function Trig_GuardTower_Dies_Func002001 takes nothing returns boolean
    return ( GetDyingUnit() == udg_GuardTower02 )
endfunction

function Trig_GuardTower_Dies_Func003001 takes nothing returns boolean
    return ( GetDyingUnit() == udg_GuardTower03 )
endfunction

function Trig_GuardTower_Dies_Actions takes nothing returns nothing
    if ( Trig_GuardTower_Dies_Func001001() ) then
        set udg_GuardTower01 = null
    else
        call DoNothing(  )
    endif
    if ( Trig_GuardTower_Dies_Func002001() ) then
        set udg_GuardTower02 = null
    else
        call DoNothing(  )
    endif
    if ( Trig_GuardTower_Dies_Func003001() ) then
        set udg_GuardTower03 = null
    else
        call DoNothing(  )
    endif
    call ConditionalTriggerExecute( gg_trg_Victory_Check )
endfunction

//===========================================================================
function InitTrig_GuardTower_Dies takes nothing returns nothing
    set gg_trg_GuardTower_Dies = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_GuardTower_Dies, Player(1), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddAction( gg_trg_GuardTower_Dies, function Trig_GuardTower_Dies_Actions )
endfunction

//===========================================================================
// Trigger: GuardTowers Found
//===========================================================================
function Trig_GuardTowers_Found_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    return true
endfunction

function Trig_GuardTowers_Found_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_GuardTowers_Found_Q, true )
endfunction

//===========================================================================
function InitTrig_GuardTowers_Found takes nothing returns nothing
    set gg_trg_GuardTowers_Found = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_GuardTowers_Found, gg_rct_End_Gate )
    call TriggerAddCondition( gg_trg_GuardTowers_Found, Condition( function Trig_GuardTowers_Found_Conditions ) )
    call TriggerAddAction( gg_trg_GuardTowers_Found, function Trig_GuardTowers_Found_Actions )
endfunction

//===========================================================================
// Trigger: GuardTowers Found Q
//===========================================================================
function Trig_GuardTowers_Found_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GuardTower01 != null ) ) then
        return false
    endif
    return true
endfunction

function Trig_GuardTowers_Found_Q_Func008002001002001 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'ogru' )
endfunction

function Trig_GuardTowers_Found_Q_Func008002001002002 takes nothing returns boolean
    return ( IsUnitAliveBJ(GetFilterUnit()) == true )
endfunction

function Trig_GuardTowers_Found_Q_Func008002001002 takes nothing returns boolean
    return GetBooleanAnd( Trig_GuardTowers_Found_Q_Func008002001002001(), Trig_GuardTowers_Found_Q_Func008002001002002() )
endfunction

function Trig_GuardTowers_Found_Q_Actions takes nothing returns nothing
    call UnitShareVisionBJ( true, udg_GuardTower01, udg_AP1_Player )
    call UnitShareVisionBJ( true, udg_GuardTower02, udg_AP1_Player )
    call UnitShareVisionBJ( true, udg_GuardTower03, udg_AP1_Player )
    call PingMinimapLocForForce( udg_APG1_Player, GetUnitLoc(udg_GuardTower01), 2.00 )
    call PingMinimapLocForForce( udg_APG1_Player, GetUnitLoc(udg_GuardTower02), 2.00 )
    call PingMinimapLocForForce( udg_APG1_Player, GetUnitLoc(udg_GuardTower03), 2.00 )
    set udg_BridgeGrunt = GroupPickRandomUnit(GetUnitsOfPlayerMatching(udg_AP1_Player, Condition(function Trig_GuardTowers_Found_Q_Func008002001002)))
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_BridgeGrunt, "TRIGSTR_252", gg_snd_T02Grunt056, "TRIGSTR_253", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Grunt056, 0 )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Thrall, "TRIGSTR_250", gg_snd_T02Thrall057, "TRIGSTR_251", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T02Thrall057, 0 )
    call VolumeGroupResetBJ(  )
    call CommentString( "Done" )
    call TriggerSleepAction( 1.00 )
    call ConditionalTriggerExecute( gg_trg_QuestGrom_Update_Found )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_GuardTowers_Found_Q takes nothing returns nothing
    set gg_trg_GuardTowers_Found_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_GuardTowers_Found_Q, Condition( function Trig_GuardTowers_Found_Q_Conditions ) )
    call TriggerAddAction( gg_trg_GuardTowers_Found_Q, function Trig_GuardTowers_Found_Q_Actions )
endfunction

//===========================================================================
function InitCustomTriggers takes nothing returns nothing
    call InitTrig_Initialization(  )
    call InitTrig_Init_01_Timing(  )
    call InitTrig_Init_02_Players(  )
    call InitTrig_Init_03_Units(  )
    call InitTrig_Init_04_Heroes(  )
    call InitTrig_Init_05_Environment(  )
    call InitTrig_Init_06_Sounds(  )
    call InitTrig_Init_07_Quests(  )
    call InitTrig_Load_Thrall(  )
    call InitTrig_Intro_Cinematic(  )
    call InitTrig_Intro_Cancel(  )
    call InitTrig_IntroGrunt_Remove(  )
    call InitTrig_Gameplay(  )
    call InitTrig_Fake_Queue_Entry(  )
    call InitTrig_Bridge_Cinematic(  )
    call InitTrig_Bridge_Cancel(  )
    call InitTrig_BridgeGrunt_Setup(  )
    call InitTrig_BridgeGrunt_Cleanup(  )
    call InitTrig_Captain_In_Position(  )
    call InitTrig_End_Cinematic(  )
    call InitTrig_End_Cancel(  )
    call InitTrig_GromFaceShips(  )
    call InitTrig_ThrallFaceShips(  )
    call InitTrig_NextLevelPrep(  )
    call InitTrig_NextLevelRun(  )
    call InitTrig_Victory_Cheat(  )
    call InitTrig_Defeat_Cheat(  )
    call InitTrig_Victory_Check(  )
    call InitTrig_Defeat(  )
    call InitTrig_Hint_PeonAreGood(  )
    call InitTrig_Hint_QueuePeons(  )
    call InitTrig_Hint_WorkComplete(  )
    call InitTrig_Hint_Upgrades(  )
    call InitTrig_Hint_DoubleBarracks(  )
    call InitTrig_Hint_Repair(  )
    call InitTrig_Hint_Upkeep(  )
    call InitTrig_Hint_Gate(  )
    call InitTrig_Hint_StandDown(  )
    call InitTrig_Hint_RallyPeons(  )
    call InitTrig_Hint_Altar(  )
    call InitTrig_Hint_Revival(  )
    call InitTrig_NewUnit_Shaman(  )
    call InitTrig_MissionFailed_BaseDestroyed(  )
    call InitTrig_QuestBase_Create(  )
    call InitTrig_QuestBase_Discover(  )
    call InitTrig_QuestBase_Completed_Check(  )
    call InitTrig_QuestBase_ReqUpdate(  )
    call InitTrig_QuestBase_ReqBurrow_Done(  )
    call InitTrig_QuestBase_ReqWarMill_Done(  )
    call InitTrig_QuestBase_ReqBarracks_Done(  )
    call InitTrig_QuestBase_ReqGrunts_Done(  )
    call InitTrig_QuestGrom_Create(  )
    call InitTrig_QuestGrom_Discover(  )
    call InitTrig_QuestGrom_Update_Found(  )
    call InitTrig_QuestGrom_Completed(  )
    call InitTrig_Leaderboard_Create(  )
    call InitTrig_Leaderboard_Update(  )
    call InitTrig_Leaderboard_Destroy(  )
    call InitTrig_Combat_Ensuing(  )
    call InitTrig_Combat_Done(  )
    call InitTrig_Q1_QuestLog_Q(  )
    call InitTrig_Done_Burrows(  )
    call InitTrig_Done_Burrows_Q(  )
    call InitTrig_Done_WarMill(  )
    call InitTrig_Done_WarMill_Q(  )
    call InitTrig_Done_Barracks(  )
    call InitTrig_Done_Barracks_Q(  )
    call InitTrig_Done_Grunts(  )
    call InitTrig_Done_Grunts_Q(  )
    call InitTrig_G1_SelectPeon_Q(  )
    call InitTrig_G1_SelectPeon_Flash(  )
    call InitTrig_G1_SelectPeon_Abort(  )
    call InitTrig_G1_SelectPeon_Done(  )
    call InitTrig_G2_HarvestGold_Q(  )
    call InitTrig_G2_HarvestGold_Flash(  )
    call InitTrig_G2_HarvestGold_Abort(  )
    call InitTrig_G2_HarvestGold_Done(  )
    call InitTrig_G3_More_Q(  )
    call InitTrig_G3_More_GivePeon01(  )
    call InitTrig_G3_More_GivePeon02(  )
    call InitTrig_G3_More_GivePeon03(  )
    call InitTrig_G3_More_Abort(  )
    call InitTrig_G3_More_DoneA(  )
    call InitTrig_G3_More_DoneB(  )
    call InitTrig_G4_Stockpile_Q(  )
    call InitTrig_G4_Stockpile_Abort(  )
    call InitTrig_G4_Stockpile_Done(  )
    call InitTrig_P1_SelectHall_Q(  )
    call InitTrig_P1_SelectHall_Flash(  )
    call InitTrig_P1_SelectHall_Abort(  )
    call InitTrig_P1_SelectHall_DoneA(  )
    call InitTrig_P1_SelectHall_DoneB(  )
    call InitTrig_P2_TrainPeon_Q(  )
    call InitTrig_P2_TrainPeon_Abort(  )
    call InitTrig_P2_TrainPeon_Done(  )
    call InitTrig_P3_TrainingPeon_Q(  )
    call InitTrig_P3_TrainingPeon_Abort(  )
    call InitTrig_P3_TrainingPeon_DoneA(  )
    call InitTrig_P3_TrainingPeon_DoneB(  )
    call InitTrig_B_BuildBurrow_Event(  )
    call InitTrig_B1_BurrowPeon_Q(  )
    call InitTrig_B1_BurrowPeon_Abort(  )
    call InitTrig_B1_BurrowPeon_DoneA(  )
    call InitTrig_B1_BurrowPeon_DoneB(  )
    call InitTrig_B2_ClickBuild_Q(  )
    call InitTrig_B2_ClickBuild_Abort(  )
    call InitTrig_B2_ClickBuild_DoneA(  )
    call InitTrig_B2_ClickBuild_DoneB(  )
    call InitTrig_B3_ClickBurrow_Q(  )
    call InitTrig_B3_ClickBurrow_Abort(  )
    call InitTrig_B3_ClickBurrow_DoneA(  )
    call InitTrig_B3_ClickBurrow_DoneB(  )
    call InitTrig_B4_PlaceBox_Q(  )
    call InitTrig_B4_PlaceBox_Abort(  )
    call InitTrig_B4_PlaceBox_Done(  )
    call InitTrig_L_HarvestingLumber(  )
    call InitTrig_L1_HarvestLumber_Q(  )
    call InitTrig_L1_HarvestLumber_Abort(  )
    call InitTrig_L1_HarvestLumber_DoneA(  )
    call InitTrig_L1_HarvestLumber_DoneB(  )
    call InitTrig_L2_Lumbering_Q(  )
    call InitTrig_L2_Lumbering_Abort(  )
    call InitTrig_L2_Lumbering_Done(  )
    call InitTrig_M_WarMill_Event(  )
    call InitTrig_M_Lumber_Peon_Added(  )
    call InitTrig_M1_BuildWarMill_Q(  )
    call InitTrig_M1_BuildWarMill_Abort(  )
    call InitTrig_M1_BuildWarMill_Done(  )
    call InitTrig_M2_MoreLumber_Q(  )
    call InitTrig_M2_MoreLumber_Abort(  )
    call InitTrig_M2_MoreLumber_Done(  )
    call InitTrig_K_BuildBarracks_Event(  )
    call InitTrig_K_BuildBarracks_Enough(  )
    call InitTrig_K1_BuildBarracks_Q(  )
    call InitTrig_K1_BuildBarracks_Abort(  )
    call InitTrig_K1_BuildBarracks_Done(  )
    call InitTrig_W_WorkComplete_Event(  )
    call InitTrig_W_General_Check(  )
    call InitTrig_W_Burrow_Check(  )
    call InitTrig_W_WarMill_Check(  )
    call InitTrig_W_Barracks_Check(  )
    call InitTrig_W1_WorkComplete_Q(  )
    call InitTrig_W2_BurrowComplete_Q(  )
    call InitTrig_W2_BurrowComplete_Abort(  )
    call InitTrig_U1_SelectWarMill_Q(  )
    call InitTrig_U1_SelectWarMill_Flash(  )
    call InitTrig_U1_SelectWarMill_Abort(  )
    call InitTrig_U1_SelectWarMill_DoneA(  )
    call InitTrig_U1_SelectWarMill_DoneB(  )
    call InitTrig_U2_ClickUpgrade_Q(  )
    call InitTrig_U2_ClickUpgrade_Abort(  )
    call InitTrig_U2_ClickUpgrade_Done(  )
    call InitTrig_U3_UpgradeComplete_Q(  )
    call InitTrig_T1_SelectBarracks_Q(  )
    call InitTrig_T1_SelectBarracks_Flash(  )
    call InitTrig_T1_SelectBarracks_Abort(  )
    call InitTrig_T1_SelectBarracks_DoneA(  )
    call InitTrig_T1_SelectBarracks_DoneB(  )
    call InitTrig_T2_TrainGrunt_Q(  )
    call InitTrig_T2_TrainGrunt_Abort(  )
    call InitTrig_T2_TrainGrunt_Done(  )
    call InitTrig_T3_MoreGrunts_Q(  )
    call InitTrig_T3_MoreGrunts_Abort(  )
    call InitTrig_T3_MoreGrunts_Done(  )
    call InitTrig_T4_DoubleBarracks_Event(  )
    call InitTrig_T4_DoubleBarracks_Q(  )
    call InitTrig_T4_DoubleBarracks_Abort(  )
    call InitTrig_T4_DoubleBarracks_Done(  )
    call InitTrig_LowUpkeep_Event(  )
    call InitTrig_LowUpkeep_Q(  )
    call InitTrig_Battle_Stations_EventA(  )
    call InitTrig_Battle_Stations_EventB(  )
    call InitTrig_Battle_Stations_Q(  )
    call InitTrig_Rally_Point_Event(  )
    call InitTrig_Rally_Point_Q(  )
    call InitTrig_Repair_Event(  )
    call InitTrig_Repair_Q(  )
    call InitTrig_Altar_Event(  )
    call InitTrig_Altar_Q(  )
    call InitTrig_Revival_Event(  )
    call InitTrig_Revival_Q(  )
    call InitTrig_BridgeAttacker_At_Tower01(  )
    call InitTrig_BridgeAttacker_At_Tower02(  )
    call InitTrig_BridgeAttacker_At_Tower03(  )
    call InitTrig_BridgeAttacker_Die(  )
    call InitTrig_BridgeAttackers_Dead_Q(  )
    call InitTrig_BridgeAttacker_Grunt_Line(  )
    call InitTrig_Gate_Hint(  )
    call InitTrig_Gate_Hint_Q(  )
    call InitTrig_Prison01_Check(  )
    call InitTrig_Cage01_Destroyed(  )
    call InitTrig_Cage01_Rescue(  )
    call InitTrig_Prison02_Check(  )
    call InitTrig_Cage02_Destroyed(  )
    call InitTrig_Cage02_Rescue(  )
    call InitTrig_Prison03_Check(  )
    call InitTrig_Cage03A_Destroyed(  )
    call InitTrig_Cage03B_Destroyed(  )
    call InitTrig_Cage03C_Destroyed(  )
    call InitTrig_Cage03A_Rescue(  )
    call InitTrig_Cage03B_Rescue(  )
    call InitTrig_Cage03C_Rescue(  )
    call InitTrig_Shaman_Acquired(  )
    call InitTrig_Shaman_Acquired_Q(  )
    call InitTrig_Subgroup_Event(  )
    call InitTrig_Subgroup_Q(  )
    call InitTrig_GuardTower_Dies(  )
    call InitTrig_GuardTowers_Found(  )
    call InitTrig_GuardTowers_Found_Q(  )
endfunction

//===========================================================================
function RunInitializationTriggers takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Initialization )
endfunction

//***************************************************************************
//*
//*  Upgrades
//*
//***************************************************************************

function InitUpgrades_Player0 takes nothing returns nothing
    call SetPlayerTechMaxAllowed( Player(0), 'Rome', 1 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rora', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Roar', 1 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rwdm', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Ropg', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rows', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rovs', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rowd', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rost', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rosp', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rotr', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Robs', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Roen', 0 )
endfunction

function InitUpgrades_Player3 takes nothing returns nothing
    call SetPlayerTechMaxAllowed( Player(3), 'Rome', 1 )
    call SetPlayerTechMaxAllowed( Player(3), 'Rora', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'Roar', 1 )
    call SetPlayerTechMaxAllowed( Player(3), 'Rwdm', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'Ropg', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'Rows', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'Rovs', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'Rowd', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'Rost', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'Rosp', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'Rotr', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'Robs', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'Roen', 0 )
endfunction

function InitUpgrades takes nothing returns nothing
    call InitUpgrades_Player0(  )
    call InitUpgrades_Player3(  )
endfunction

//***************************************************************************
//*
//*  TechTree
//*
//***************************************************************************

function InitTechTree_Player0 takes nothing returns nothing
    call SetPlayerAbilityAvailable( Player(0), 'Asal', false )
    call SetPlayerAbilityAvailable( Player(0), 'Asta', false )
    call SetPlayerAbilityAvailable( Player(0), 'Ablo', false )
    call SetPlayerAbilityAvailable( Player(0), 'Ahwd', false )
    call SetPlayerAbilityAvailable( Player(0), 'Aoar', false )
    call SetPlayerTechMaxAllowed( Player(0), 'oshm', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'odoc', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'owyv', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'okod', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'otau', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'ohun', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'orai', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Obla', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Ofar', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Otch', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'otto', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'osld', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'obea', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'ofrt', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'ostr', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'ocat', 0 )
endfunction

function InitTechTree_Player3 takes nothing returns nothing
    call SetPlayerTechMaxAllowed( Player(3), 'oshm', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'odoc', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'owyv', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'okod', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'otau', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'ohun', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'orai', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'Obla', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'Ofar', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'Otch', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'otto', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'osld', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'obea', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'ofrt', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'ostr', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'ocat', 0 )
endfunction

function InitTechTree takes nothing returns nothing
    call InitTechTree_Player0(  )
    call InitTechTree_Player3(  )
endfunction

//***************************************************************************
//*
//*  Players
//*
//***************************************************************************

function InitCustomPlayerSlots takes nothing returns nothing

    // Player 0
    call SetPlayerStartLocation( Player(0), 0 )
    call ForcePlayerStartLocation( Player(0), 0 )
    call SetPlayerColor( Player(0), ConvertPlayerColor(0) )
    call SetPlayerRacePreference( Player(0), RACE_PREF_ORC )
    call SetPlayerRaceSelectable( Player(0), true )
    call SetPlayerController( Player(0), MAP_CONTROL_USER )

    // Player 1
    call SetPlayerStartLocation( Player(1), 1 )
    call ForcePlayerStartLocation( Player(1), 1 )
    call SetPlayerColor( Player(1), ConvertPlayerColor(1) )
    call SetPlayerRacePreference( Player(1), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(1), true )
    call SetPlayerController( Player(1), MAP_CONTROL_COMPUTER )

    // Player 3
    call SetPlayerStartLocation( Player(3), 2 )
    call ForcePlayerStartLocation( Player(3), 2 )
    call SetPlayerColor( Player(3), ConvertPlayerColor(3) )
    call SetPlayerRacePreference( Player(3), RACE_PREF_ORC )
    call SetPlayerRaceSelectable( Player(3), true )
    call SetPlayerController( Player(3), MAP_CONTROL_NEUTRAL )

endfunction

function InitCustomTeams takes nothing returns nothing
    // Force: TRIGSTR_008
    call SetPlayerTeam( Player(0), 0 )
    call SetPlayerTeam( Player(3), 0 )

    //   Allied
    call SetPlayerAlliance( Player(0), Player(3), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(3), Player(0), ALLIANCE_PASSIVE, true )

    // Force: TRIGSTR_060
    call SetPlayerTeam( Player(1), 1 )

endfunction

function InitAllyPriorities takes nothing returns nothing

    call SetStartLocPrioCount( 1, 1 )
    call SetStartLocPrio( 1, 0, 2, MAP_LOC_PRIO_LOW )

    call SetStartLocPrioCount( 2, 2 )
    call SetStartLocPrio( 2, 0, 1, MAP_LOC_PRIO_LOW )
endfunction

//***************************************************************************
//*
//*  Main Initialization
//*
//***************************************************************************

//===========================================================================
function main takes nothing returns nothing
    call SetCameraBounds( -7424.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), -7680.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM), 7424.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), 3072.0 - GetCameraMargin(CAMERA_MARGIN_TOP), -7424.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), 3072.0 - GetCameraMargin(CAMERA_MARGIN_TOP), 7424.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), -7680.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM) )
    call SetDayNightModels( "Environment\\DNC\\DNCLordaeron\\DNCLordaeronTerrain\\DNCLordaeronTerrain.mdl", "Environment\\DNC\\DNCLordaeron\\DNCLordaeronUnit\\DNCLordaeronUnit.mdl" )
    call SetAmbientDaySound( "VillageDay" )
    call SetAmbientNightSound( "VillageNight" )
    call SetMapMusic( "Music", true, 0 )
    call InitSounds(  )
    call CreateRegions(  )
    call CreateCameras(  )
    call InitUpgrades(  )
    call InitTechTree(  )
    call CreateAllDestructables(  )
    call CreateAllUnits(  )
    call InitBlizzard(  )
    call InitGlobals(  )
    call InitCustomTriggers(  )
    call RunInitializationTriggers(  )

endfunction

//***************************************************************************
//*
//*  Map Configuration
//*
//***************************************************************************

function config takes nothing returns nothing
    call SetMapName( "TRIGSTR_001" )
    call SetMapDescription( "TRIGSTR_003" )
    call SetPlayers( 3 )
    call SetTeams( 3 )
    call SetGamePlacement( MAP_PLACEMENT_USE_MAP_SETTINGS )

    call DefineStartLocation( 0, 704.0, 1216.0 )
    call DefineStartLocation( 1, -2560.0, -3584.0 )
    call DefineStartLocation( 2, -3776.0, -2624.0 )

    // Player setup
    call InitCustomPlayerSlots(  )
    call InitCustomTeams(  )
    call InitAllyPriorities(  )
endfunction

