//===========================================================================
// 
// Prologue01
// 
//   Warcraft III map script
//   Generated by the Warcraft III World Editor
//   Date: Tue Jun 04 23:41:13 2002
//   Map Author: Blizzard Entertainment
// 
//===========================================================================

//***************************************************************************
//*
//*  Global Variables
//*
//***************************************************************************

globals
    // User-defined
    unit                udg_Thrall                 = null
    unit                udg_Medivh                 = null
    boolean             udg_IntroSkipped
    player              udg_APlayer01              = null
    quest               udg_QUESTFindProphet       = null
    fogmodifier         udg_BannerVisibilityMod    = null
    sound               udg_GoodJobSound           = null
    unit                udg_Grunt1                 = null
    unit                udg_Grunt2                 = null
    unit                udg_Grunt3                 = null
    integer             udg_NarratorPortrait
    group               udg_GnollGroup             = null
    group               udg_MurlocGroup            = null
    boolean             udg_EndSkipped
    group               udg_TrollsGroup            = null
    fogmodifier         udg_WMurlocFallsVis        = null
    fogmodifier         udg_WWestFallsVis          = null
    player              udg_APlayer04_Rescuables   = null
    boolean             udg_QuestProphetCreated
    boolean             udg_MedivhCanCircle
    player              udg_APlayer03_TheProphet   = null
    real                udg_FlagVisRadius
    real                udg_ActAbortPostDelay
    real                udg_ActAbortPreDelay
    real                udg_ActAbortDoneDelay
    real                udg_HintDelay
    real                udg_QuestDelay
    fogmodifier         udg_Visibility01           = null
    fogmodifier         udg_Visibility02           = null
    fogmodifier         udg_Visibility03           = null
    fogmodifier         udg_Visibility04           = null
    fogmodifier         udg_Visibility05           = null
    fogmodifier         udg_Visibility06           = null
    fogmodifier         udg_Visibility07           = null
    fogmodifier         udg_Visibility08           = null
    real                udg_PingTime
    group               udg_RescuableGrunts        = null
    timer               udg_R1RescueTimer          = null
    real                udg_HeyLookA
    real                udg_HeyLookB
    real                udg_HeyLookG
    real                udg_HeyLookR
    unit                udg_Circle01               = null
    timer               udg_H1HeroLevelTimer       = null
    group               udg_YourUnits              = null
    boolean             udg_GameOver
    integer             udg_HeroPointsAvailable
    boolean             udg_M_FoundMurlocsDone
    boolean             udg_H_SpendPointDone
    integer             udg_TempUnitsInArea
    boolean             udg_I_ManaPotionDone
    fogmodifier         udg_Visibility09           = null
    fogmodifier         udg_Visibility10           = null
    real                udg_SpeakingDistance
    fogmodifier         udg_Visibility11           = null
    unit                udg_Golem                  = null
    unit                udg_Ogre                   = null
    fogmodifier         udg_Visibility12           = null
    boolean             udg_SlowNightAllowed
    unit                udg_Gnoll                  = null
    boolean             udg_SlowDayAllowed
    fogmodifier         udg_VisibilityVictory      = null
    unit                udg_Circle02               = null
    unit                udg_Circle03               = null
    unit                udg_Circle04               = null
    unit                udg_Circle05               = null
    unit                udg_Circle09               = null
    unit                udg_CircleVictory          = null
    player              udg_APlayer05_Circles      = null

    // Generated
    rect                gg_rct_EndCin_Medivh_Waits_Here = null
    rect                gg_rct_EndCinThrall        = null
    rect                gg_rct_Ending_Rain         = null
    rect                gg_rct_FlagExplore03A      = null
    rect                gg_rct_FlagExplore03B      = null
    rect                gg_rct_FlagExplore03C      = null
    rect                gg_rct_GnollGroupRegion    = null
    rect                gg_rct_GruntMove1          = null
    rect                gg_rct_GruntMove2          = null
    rect                gg_rct_GruntMove3          = null
    rect                gg_rct_Hidden_Item_TripwireA = null
    rect                gg_rct_Hidden_Item_TripwireB = null
    rect                gg_rct_LakeLoop01          = null
    rect                gg_rct_LakeLoop02          = null
    rect                gg_rct_LakeLoop03          = null
    rect                gg_rct_LakeLoop04          = null
    rect                gg_rct_LakeLoop05          = null
    rect                gg_rct_LakeLoop06          = null
    rect                gg_rct_LakeLoop07          = null
    rect                gg_rct_LakeLoop08          = null
    rect                gg_rct_Lightnin            = null
    rect                gg_rct_Lightning1          = null
    rect                gg_rct_Lightning2          = null
    rect                gg_rct_Lightning3          = null
    rect                gg_rct_Lightning4          = null
    rect                gg_rct_Medivh_Look_At      = null
    rect                gg_rct_Medivh_Move_to      = null
    rect                gg_rct_MedivhFlight01      = null
    rect                gg_rct_MedivhFlight02      = null
    rect                gg_rct_MedivhFlight03      = null
    rect                gg_rct_MedivhFlight04      = null
    rect                gg_rct_MedivhFlight05      = null
    rect                gg_rct_MedivhFlight06      = null
    rect                gg_rct_MedivhFlight07      = null
    rect                gg_rct_MedivhFlight08      = null
    rect                gg_rct_MedivhFlight09      = null
    rect                gg_rct_MedivhFlight10      = null
    rect                gg_rct_MedivhFlight11      = null
    rect                gg_rct_MedivhFlight12      = null
    rect                gg_rct_MedivhRunHereDepart = null
    rect                gg_rct_Murloc_Falls        = null
    rect                gg_rct_Murloc_Falls_Tripwire = null
    rect                gg_rct_MurlocGroupRegion   = null
    rect                gg_rct_Spot01              = null
    rect                gg_rct_Spot02              = null
    rect                gg_rct_Spot03              = null
    rect                gg_rct_Spot04              = null
    rect                gg_rct_Spot05              = null
    rect                gg_rct_Spot06              = null
    rect                gg_rct_Spot07              = null
    rect                gg_rct_Spot08              = null
    rect                gg_rct_Spot09              = null
    rect                gg_rct_Spot10              = null
    rect                gg_rct_Spot11              = null
    rect                gg_rct_Spot12              = null
    rect                gg_rct_SpotBypass01A       = null
    rect                gg_rct_SpotBypass01B       = null
    rect                gg_rct_SpotBypass01C       = null
    rect                gg_rct_SpotBypass01D       = null
    rect                gg_rct_SpotBypass02A       = null
    rect                gg_rct_SpotBypass02B       = null
    rect                gg_rct_SpotBypass03A       = null
    rect                gg_rct_SpotBypass03B       = null
    rect                gg_rct_SpotBypass04A       = null
    rect                gg_rct_SpotBypass04B       = null
    rect                gg_rct_SpotBypass04C       = null
    rect                gg_rct_SpotBypass04D       = null
    rect                gg_rct_SpotBypass05A       = null
    rect                gg_rct_SpotBypass05B       = null
    rect                gg_rct_SpotBypass06A       = null
    rect                gg_rct_SpotBypass06B       = null
    rect                gg_rct_SpotBypass08A       = null
    rect                gg_rct_SpotBypass08B       = null
    rect                gg_rct_SpotBypass09A       = null
    rect                gg_rct_SpotBypass09B       = null
    rect                gg_rct_SpotBypassVictoryA  = null
    rect                gg_rct_SpotBypassVictoryB  = null
    rect                gg_rct_SpotBypassVictoryC  = null
    rect                gg_rct_SpotTripwire08A     = null
    rect                gg_rct_SpotTripwire08B     = null
    rect                gg_rct_SpotTripwire08C     = null
    rect                gg_rct_SpotTripwire10A     = null
    rect                gg_rct_SpotTripwire10B     = null
    rect                gg_rct_SpotTripwire10C     = null
    rect                gg_rct_SpotTripwire11A     = null
    rect                gg_rct_SpotTripwire11B     = null
    rect                gg_rct_SpotTripwire11C     = null
    rect                gg_rct_SpotTripwire12A     = null
    rect                gg_rct_SpotVictory         = null
    rect                gg_rct_Starting_Area_Rain  = null
    rect                gg_rct_Thrall_Move_to      = null
    rect                gg_rct_TrollGroupRegion    = null
    rect                gg_rct_Visibility01        = null
    rect                gg_rct_Visibility02        = null
    rect                gg_rct_Visibility03        = null
    rect                gg_rct_Visibility04        = null
    rect                gg_rct_Visibility05        = null
    rect                gg_rct_West_Falls          = null
    rect                gg_rct_West_Falls_Tripwire = null
    rect                gg_rct_SpeakingAnchor06    = null
    rect                gg_rct_SpeakingAnchor05    = null
    rect                gg_rct_SpeakingAnchor10    = null
    rect                gg_rct_SpeakingAnchor11    = null
    rect                gg_rct_SpeakingAnchor12    = null
    rect                gg_rct_EndCin_Medivh       = null
    rect                gg_rct_Thrall01            = null
    rect                gg_rct_Thrall00            = null
    rect                gg_rct_MedivhStart01       = null
    rect                gg_rct_MedivhStart02       = null
    rect                gg_rct_MedivhStart03       = null
    rect                gg_rct_Thrall02            = null
    rect                gg_rct_ThrallLookHere      = null
    rect                gg_rct_Lightnin02          = null
    rect                gg_rct_Lightning5          = null
    rect                gg_rct_Lightning6          = null
    camerasetup         gg_cam_End_Alternate       = null
    camerasetup         gg_cam_EndCin1             = null
    camerasetup         gg_cam_EndCin2             = null
    camerasetup         gg_cam_Intro_Skipped       = null
    camerasetup         gg_cam_Intro01             = null
    camerasetup         gg_cam_Intro02             = null
    camerasetup         gg_cam_Intro03             = null
    camerasetup         gg_cam_Intro04A            = null
    camerasetup         gg_cam_Intro04B            = null
    camerasetup         gg_cam_Intro05A            = null
    camerasetup         gg_cam_Intro05B            = null
    camerasetup         gg_cam_Intro06             = null
    camerasetup         gg_cam_Medivh_Human_02     = null
    camerasetup         gg_cam_Medivh_Human_Line   = null
    camerasetup         gg_cam_Medivh_Transform    = null
    camerasetup         gg_cam_OldIntro1           = null
    camerasetup         gg_cam_OldIntro2           = null
    camerasetup         gg_cam_OldIntro3           = null
    sound               gg_snd_BattleNetWindStereoLoop1 = null
    sound               gg_snd_DoorSlam1           = null
    sound               gg_snd_DruidOfTheTalonMorph1 = null
    sound               gg_snd_DruidOfTheTalonMorphedWarcry1 = null
    sound               gg_snd_GoodJob             = null
    sound               gg_snd_LightningBolt       = null
    sound               gg_snd_RainAmbience        = null
    sound               gg_snd_RollingThunder1     = null
    sound               gg_snd_T01Grunt22          = null
    sound               gg_snd_T01Grunt39          = null
    sound               gg_snd_T01Medivh02         = null
    sound               gg_snd_T01Medivh59         = null
    sound               gg_snd_T01Medivh61         = null
    sound               gg_snd_T01Medivh63         = null
    sound               gg_snd_T01Medivh65         = null
    sound               gg_snd_T01Medivh67         = null
    sound               gg_snd_T01Narrator10       = null
    sound               gg_snd_T01Narrator11       = null
    sound               gg_snd_T01Narrator12       = null
    sound               gg_snd_T01Narrator14       = null
    sound               gg_snd_T01Narrator15       = null
    sound               gg_snd_T01Narrator16       = null
    sound               gg_snd_T01Narrator18       = null
    sound               gg_snd_T01Narrator20       = null
    sound               gg_snd_T01Narrator2401     = null
    sound               gg_snd_T01Narrator26       = null
    sound               gg_snd_T01Narrator30       = null
    sound               gg_snd_T01Narrator32       = null
    sound               gg_snd_T01Narrator33       = null
    sound               gg_snd_T01Narrator35       = null
    sound               gg_snd_T01Narrator36       = null
    sound               gg_snd_T01Narrator37       = null
    sound               gg_snd_T01Narrator3801     = null
    sound               gg_snd_T01Narrator40       = null
    sound               gg_snd_T01Narrator41       = null
    sound               gg_snd_T01Narrator43       = null
    sound               gg_snd_T01Narrator44       = null
    sound               gg_snd_T01Narrator45       = null
    sound               gg_snd_T01Narrator47       = null
    sound               gg_snd_T01Narrator49       = null
    sound               gg_snd_T01Narrator54       = null
    sound               gg_snd_T01Narrator58       = null
    sound               gg_snd_T01Thrall01         = null
    sound               gg_snd_T01Thrall03         = null
    sound               gg_snd_T01Thrall21         = null
    sound               gg_snd_T01Thrall28         = null
    sound               gg_snd_T01Thrall31         = null
    sound               gg_snd_T01Thrall48         = null
    sound               gg_snd_T01Thrall51         = null
    sound               gg_snd_T01Thrall53         = null
    sound               gg_snd_T01Thrall56         = null
    sound               gg_snd_T01Thrall60         = null
    sound               gg_snd_T01Thrall62         = null
    sound               gg_snd_T01Thrall64         = null
    sound               gg_snd_T01Thrall66         = null
    sound               gg_snd_T01Thrall68         = null
    sound               gg_snd_WaterLakeLoop1      = null
    sound               gg_snd_WindLoopStereo      = null
    trigger             gg_trg_Initialization_Phase = null
    trigger             gg_trg_Init_01_Timing      = null
    trigger             gg_trg_Init_02_Players     = null
    trigger             gg_trg_Init_03_Units       = null
    trigger             gg_trg_Init_04_Environment = null
    trigger             gg_trg_Init_05_Visibility  = null
    trigger             gg_trg_Init_06_Sounds      = null
    trigger             gg_trg_Intro_Cinematic     = null
    trigger             gg_trg_Intro_Cinematic_Skip = null
    trigger             gg_trg_The_Prophet_Flies_Overhead = null
    trigger             gg_trg_The_Prophet_Circles1 = null
    trigger             gg_trg_The_Prophet_Circles2 = null
    trigger             gg_trg_The_Prophet_Circles3 = null
    trigger             gg_trg_The_Prophet_Circles4 = null
    trigger             gg_trg_The_Prophet_Circles5 = null
    trigger             gg_trg_The_Prophet_Circles6 = null
    trigger             gg_trg_The_Prophet_Circles7 = null
    trigger             gg_trg_The_Prophet_Circles8 = null
    trigger             gg_trg_The_Prophet_Circles9 = null
    trigger             gg_trg_The_Prophet_Circles10 = null
    trigger             gg_trg_The_Prophet_Circles11 = null
    trigger             gg_trg_The_Prophet_Circles12 = null
    trigger             gg_trg_Medivh_Reaches_Home = null
    trigger             gg_trg_Intro_Time_Stop     = null
    trigger             gg_trg_Gameplay            = null
    trigger             gg_trg_Waste_Queue_Time    = null
    trigger             gg_trg_End_Cinematic       = null
    trigger             gg_trg_End_Cinematic_Skip  = null
    trigger             gg_trg_Next_Level_Prep     = null
    trigger             gg_trg_Next_Level_Run      = null
    trigger             gg_trg_Victory_Cheat       = null
    trigger             gg_trg_Defeat_Cheat        = null
    trigger             gg_trg_Victory_Found_Medivh = null
    trigger             gg_trg_Defeat_Thrall_Dies  = null
    trigger             gg_trg_Hint_RightClickMove = null
    trigger             gg_trg_Hint_Scrolling      = null
    trigger             gg_trg_Hint_ArrowKeys      = null
    trigger             gg_trg_Hint_MessageLog     = null
    trigger             gg_trg_Hint_ClickDragSelect = null
    trigger             gg_trg_Hint_RightClickAttack = null
    trigger             gg_trg_Hint_AttackMove     = null
    trigger             gg_trg_Hint_AutoAttack     = null
    trigger             gg_trg_Hint_HeroIcon       = null
    trigger             gg_trg_Hint_PickUpItem     = null
    trigger             gg_trg_Hint_ItemTooltip    = null
    trigger             gg_trg_Hint_UnitStatus     = null
    trigger             gg_trg_Hint_UseManaPotion  = null
    trigger             gg_trg_Hint_NightVisibility = null
    trigger             gg_trg_Hint_UnexploredAreas = null
    trigger             gg_trg_Hint_SleepersWake   = null
    trigger             gg_trg_Hint_CreepLevel     = null
    trigger             gg_trg_Hint_Tomes          = null
    trigger             gg_trg_MissionFailed_ThrallDead = null
    trigger             gg_trg_QuestProphet_Create = null
    trigger             gg_trg_QuestProphet_Discover = null
    trigger             gg_trg_QuestProphet_Complete = null
    trigger             gg_trg_Track_Unit_Deaths   = null
    trigger             gg_trg_Track_Creep_Deaths  = null
    trigger             gg_trg_Thrall_Level_Limit  = null
    trigger             gg_trg_Thrall_Gains_Point  = null
    trigger             gg_trg_Thrall_Spends_Point = null
    trigger             gg_trg_SlowDay_StepA       = null
    trigger             gg_trg_SlowDay_StepB       = null
    trigger             gg_trg_SlowDay_StepC       = null
    trigger             gg_trg_SlowDay_StepD       = null
    trigger             gg_trg_SlowDay_StepE       = null
    trigger             gg_trg_SlowDay_StepF       = null
    trigger             gg_trg_SlowDay_StepG       = null
    trigger             gg_trg_SlowNight_StepA     = null
    trigger             gg_trg_SlowNight_StepB     = null
    trigger             gg_trg_SlowNight_StepC     = null
    trigger             gg_trg_SlowNight_StepD     = null
    trigger             gg_trg_SlowNight_StepE     = null
    trigger             gg_trg_SlowNight_StepF     = null
    trigger             gg_trg_Check_Waterfalls    = null
    trigger             gg_trg_Prophet_Discover_Q  = null
    trigger             gg_trg_Prophet_Complete_Q  = null
    trigger             gg_trg_S1_SelectThrall_Q   = null
    trigger             gg_trg_S1_SelectThrall_Abort = null
    trigger             gg_trg_S1_SelectThrall_Done = null
    trigger             gg_trg_S2_MoveThrall_Q     = null
    trigger             gg_trg_S2_MoveThrall_Abort = null
    trigger             gg_trg_S2_MoveThrall_Done  = null
    trigger             gg_trg_S3_Scroll_Q         = null
    trigger             gg_trg_S3_Scroll_Abort     = null
    trigger             gg_trg_S3_Scroll_Done      = null
    trigger             gg_trg_S4_BlackMask_Q      = null
    trigger             gg_trg_S4_BlackMask_Abort  = null
    trigger             gg_trg_S4_BlackMask_Done   = null
    trigger             gg_trg_S5_Unmasking_Q      = null
    trigger             gg_trg_S5_Unmasking_Abort  = null
    trigger             gg_trg_S5_Unmasking_Done   = null
    trigger             gg_trg_S6_MoveMore_Event   = null
    trigger             gg_trg_S6_MoveMore_Q       = null
    trigger             gg_trg_S6_MoveMore_Abort   = null
    trigger             gg_trg_S6_MoveMore_Done    = null
    trigger             gg_trg_R1_Rescue_Q         = null
    trigger             gg_trg_R1_Rescue_Unhide    = null
    trigger             gg_trg_R1_Rescue_Rescue    = null
    trigger             gg_trg_R1_Rescue_Abort     = null
    trigger             gg_trg_R1_Rescue_Done      = null
    trigger             gg_trg_R2_GroupSelect_Q    = null
    trigger             gg_trg_R2_GroupSelect_Abort = null
    trigger             gg_trg_R2_GroupSelect_Done = null
    trigger             gg_trg_R3_GroupMove_Q      = null
    trigger             gg_trg_R3_GroupMove_Abort  = null
    trigger             gg_trg_R3_GroupMove_Done   = null
    trigger             gg_trg_A1_SingleGnoll_Q    = null
    trigger             gg_trg_A1_SingleGnoll_OptLine = null
    trigger             gg_trg_A1_SingleGnoll_Abort = null
    trigger             gg_trg_A1_SingleGnoll_DoneA = null
    trigger             gg_trg_A1_SingleGnoll_DoneB = null
    trigger             gg_trg_A2_MoreGnolls_Q     = null
    trigger             gg_trg_A2_MoreGnolls_OptLine = null
    trigger             gg_trg_A2_MoreGnolls_Abort = null
    trigger             gg_trg_A2_MoreGnolls_Done  = null
    trigger             gg_trg_AutoAttack_Event    = null
    trigger             gg_trg_AutoAttack_Q        = null
    trigger             gg_trg_H1_HeroLevel_Q      = null
    trigger             gg_trg_H1_HeroLevel_Abort  = null
    trigger             gg_trg_H1_HeroLevel_DoneA  = null
    trigger             gg_trg_H1_HeroLevel_DoneB  = null
    trigger             gg_trg_H1_HeroLevel_DoneC  = null
    trigger             gg_trg_H2_HeroPoints_Q     = null
    trigger             gg_trg_H2_HeroPoints_Abort = null
    trigger             gg_trg_H2_HeroPoints_DoneA = null
    trigger             gg_trg_H2_HeroPoints_DoneB = null
    trigger             gg_trg_H3_SpendPoint_Q     = null
    trigger             gg_trg_H3_SpendPoint_Abort = null
    trigger             gg_trg_H3_SpendPoint_Done  = null
    trigger             gg_trg_M1_FoundMurlocs_Event = null
    trigger             gg_trg_M1_FoundMurlocs_Q   = null
    trigger             gg_trg_M1_FoundMurlocs_Abort = null
    trigger             gg_trg_M1_FoundMurlocs_Done = null
    trigger             gg_trg_M2_UseChainLit_Event = null
    trigger             gg_trg_M2_UseChainLit_Q    = null
    trigger             gg_trg_M2_UseChainLit_Abort = null
    trigger             gg_trg_M2_UseChainLit_Done = null
    trigger             gg_trg_I1_PickUpItem_Q     = null
    trigger             gg_trg_I1_PickUpItem_Abort = null
    trigger             gg_trg_I1_PickUpItem_Done  = null
    trigger             gg_trg_I2_ManaPotion_Q     = null
    trigger             gg_trg_I2_ManaPotion_Abort = null
    trigger             gg_trg_I2_ManaPotion_Done  = null
    trigger             gg_trg_I3_LowMana_Event    = null
    trigger             gg_trg_I3_LowMana_Q        = null
    trigger             gg_trg_I3_LowMana_Abort    = null
    trigger             gg_trg_I3_LowMana_Done     = null
    trigger             gg_trg_C1_Continue_Event   = null
    trigger             gg_trg_C1_Continue_Q       = null
    trigger             gg_trg_C1_Continue_Ping    = null
    trigger             gg_trg_C1_Continue_Abort   = null
    trigger             gg_trg_C1_Continue_Done    = null
    trigger             gg_trg_N1_Nightfall_Event  = null
    trigger             gg_trg_N1_Nightfall_Q      = null
    trigger             gg_trg_N1_Nightfall_Abort  = null
    trigger             gg_trg_N1_Nightfall_Done   = null
    trigger             gg_trg_Hidden_Item_Event   = null
    trigger             gg_trg_Hidden_Item_Q       = null
    trigger             gg_trg_O1_SleepingOgre_Event = null
    trigger             gg_trg_O1_SleepingOgre_Q   = null
    trigger             gg_trg_O1_SleepingOgre_Abort = null
    trigger             gg_trg_O1_SleepingOgre_Done = null
    trigger             gg_trg_G1_Golem_Event      = null
    trigger             gg_trg_G1_Golem_Q          = null
    trigger             gg_trg_G1_Golem_Abort      = null
    trigger             gg_trg_G1_Golem_Done       = null
    trigger             gg_trg_G2_Ring_Event       = null
    trigger             gg_trg_G2_Ring_Q           = null
    trigger             gg_trg_T1_Trolls_Event     = null
    trigger             gg_trg_T1_Trolls_Q         = null
    trigger             gg_trg_T1_Trolls_Abort     = null
    trigger             gg_trg_T1_Trolls_Done      = null
    trigger             gg_trg_T2_Tome_Event       = null
    trigger             gg_trg_T2_Tome_Q           = null
    unit                gg_unit_ogru_0023          = null
    unit                gg_unit_ogru_0025          = null
    unit                gg_unit_ngno_0060          = null
    unit                gg_unit_ogru_0022          = null
    unit                gg_unit_ngno_0027          = null
    unit                gg_unit_ngno_0028          = null
    unit                gg_unit_ngna_0029          = null
    unit                gg_unit_Othr_0024          = null
    unit                gg_unit_nogr_0036          = null
    unit                gg_unit_nmdm_0019          = null
    unit                gg_unit_nC00_0013          = null
endglobals

function InitGlobals takes nothing returns nothing
    set udg_IntroSkipped                           = false
    set udg_APlayer01                              = Player(0)
    set udg_GoodJobSound                           = null
    set udg_Grunt1                                 = null
    set udg_Grunt2                                 = null
    set udg_Grunt3                                 = null
    set udg_NarratorPortrait                       = 0
    set udg_GnollGroup                             = CreateGroup()
    set udg_MurlocGroup                            = CreateGroup()
    set udg_EndSkipped                             = false
    set udg_TrollsGroup                            = CreateGroup()
    set udg_APlayer04_Rescuables                   = Player(3)
    set udg_QuestProphetCreated                    = false
    set udg_MedivhCanCircle                        = false
    set udg_APlayer03_TheProphet                   = Player(2)
    set udg_FlagVisRadius                          = 512.00
    set udg_ActAbortPostDelay                      = 0.30
    set udg_ActAbortPreDelay                       = 0.20
    set udg_ActAbortDoneDelay                      = 0.40
    set udg_HintDelay                              = bj_QUEUE_DELAY_HINT
    set udg_QuestDelay                             = bj_QUEUE_DELAY_QUEST
    set udg_PingTime                               = 2.00
    set udg_RescuableGrunts                        = CreateGroup()
    set udg_R1RescueTimer                          = CreateTimer()
    set udg_HeyLookA                               = 0.00
    set udg_HeyLookB                               = 100.00
    set udg_HeyLookG                               = 80.00
    set udg_HeyLookR                               = 60.00
    set udg_Circle01                               = null
    set udg_H1HeroLevelTimer                       = CreateTimer()
    set udg_YourUnits                              = CreateGroup()
    set udg_GameOver                               = false
    set udg_HeroPointsAvailable                    = 0
    set udg_M_FoundMurlocsDone                     = false
    set udg_H_SpendPointDone                       = false
    set udg_TempUnitsInArea                        = 0
    set udg_I_ManaPotionDone                       = false
    set udg_SpeakingDistance                       = 1600.00
    set udg_Golem                                  = null
    set udg_Ogre                                   = null
    set udg_SlowNightAllowed                       = false
    set udg_Gnoll                                  = null
    set udg_SlowDayAllowed                         = false
    set udg_Circle02                               = null
    set udg_Circle03                               = null
    set udg_Circle04                               = null
    set udg_Circle05                               = null
    set udg_Circle09                               = null
    set udg_CircleVictory                          = null
    set udg_APlayer05_Circles                      = Player(4)
endfunction

//***************************************************************************
//*
//*  Sounds
//*
//***************************************************************************

function InitSounds takes nothing returns nothing
    set gg_snd_BattleNetWindStereoLoop1 = CreateSound( "Sound\\Ambient\\BattleNetWindStereoLoop1.wav", true, false, false, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_BattleNetWindStereoLoop1, "GlueScreenBnetWind" )
    call SetSoundDuration( gg_snd_BattleNetWindStereoLoop1, 19783 )
    set gg_snd_DoorSlam1 = CreateSound( "Sound\\Ambient\\DoodadEffects\\DoorSlam1.wav", false, false, false, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_DoorSlam1, "DoorSlamSound" )
    call SetSoundDuration( gg_snd_DoorSlam1, 485 )
    set gg_snd_DruidOfTheTalonMorph1 = CreateSound( "Units\\NightElf\\DruidOfTheTalon\\DruidOfTheTalonMorph1.wav", false, true, true, 10, 10, "SpellsEAX" )
    call SetSoundParamsFromLabel( gg_snd_DruidOfTheTalonMorph1, "DruidOfTheTalonMorph" )
    call SetSoundDuration( gg_snd_DruidOfTheTalonMorph1, 1882 )
    set gg_snd_DruidOfTheTalonMorphedWarcry1 = CreateSound( "Units\\NightElf\\DruidOfTheTalon\\DruidOfTheTalonMorphedWarcry1.wav", false, true, true, 10, 10, "HeroAcksEAX" )
    call SetSoundParamsFromLabel( gg_snd_DruidOfTheTalonMorphedWarcry1, "DruidOfTheTalonMorphedWarcry" )
    call SetSoundDuration( gg_snd_DruidOfTheTalonMorphedWarcry1, 1898 )
    set gg_snd_GoodJob = CreateSound( "Sound\\Interface\\GoodJob.wav", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_GoodJob, "GoodJob" )
    call SetSoundDuration( gg_snd_GoodJob, 2548 )
    set gg_snd_LightningBolt = CreateSound( "Abilities\\Spells\\Orc\\LightningBolt\\LightningBolt.wav", false, false, true, 10, 10, "SpellsEAX" )
    call SetSoundParamsFromLabel( gg_snd_LightningBolt, "LightningBolt" )
    call SetSoundDuration( gg_snd_LightningBolt, 2136 )
    set gg_snd_RainAmbience = CreateSound( "Sound\\Ambient\\RainAmbience.wav", false, false, false, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_RainAmbience, "AmbientSoundRain" )
    call SetSoundDuration( gg_snd_RainAmbience, 4418 )
    set gg_snd_RollingThunder1 = CreateSound( "Sound\\Ambient\\DoodadEffects\\RollingThunder1.wav", false, false, false, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_RollingThunder1, "RollingThunderSound" )
    call SetSoundDuration( gg_snd_RollingThunder1, 3831 )
    set gg_snd_T01Grunt22 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Grunt22.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Grunt22, "T01Grunt22" )
    call SetSoundDuration( gg_snd_T01Grunt22, 2351 )
    set gg_snd_T01Grunt39 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Grunt39.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Grunt39, "T01Grunt39" )
    call SetSoundDuration( gg_snd_T01Grunt39, 4206 )
    set gg_snd_T01Medivh02 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Medivh02.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Medivh02, "T01Medivh02" )
    call SetSoundDuration( gg_snd_T01Medivh02, 8098 )
    set gg_snd_T01Medivh59 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Medivh59.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Medivh59, "T01Medivh59" )
    call SetSoundDuration( gg_snd_T01Medivh59, 4284 )
    set gg_snd_T01Medivh61 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Medivh61.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Medivh61, "T01Medivh61" )
    call SetSoundDuration( gg_snd_T01Medivh61, 12774 )
    set gg_snd_T01Medivh63 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Medivh63.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Medivh63, "T01Medivh63" )
    call SetSoundDuration( gg_snd_T01Medivh63, 21107 )
    set gg_snd_T01Medivh65 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Medivh65.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Medivh65, "T01Medivh65" )
    call SetSoundDuration( gg_snd_T01Medivh65, 8646 )
    set gg_snd_T01Medivh67 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Medivh67.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Medivh67, "T01Medivh67" )
    call SetSoundDuration( gg_snd_T01Medivh67, 9665 )
    set gg_snd_T01Narrator10 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Narrator10.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Narrator10, "T01Narrator10" )
    call SetSoundDuration( gg_snd_T01Narrator10, 5042 )
    set gg_snd_T01Narrator11 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Narrator11.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Narrator11, "T01Narrator11" )
    call SetSoundDuration( gg_snd_T01Narrator11, 2299 )
    set gg_snd_T01Narrator12 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Narrator12.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Narrator12, "T01Narrator12" )
    call SetSoundDuration( gg_snd_T01Narrator12, 3161 )
    set gg_snd_T01Narrator14 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Narrator14.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Narrator14, "T01Narrator14" )
    call SetSoundDuration( gg_snd_T01Narrator14, 9587 )
    set gg_snd_T01Narrator15 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Narrator15.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Narrator15, "T01Narrator15" )
    call SetSoundDuration( gg_snd_T01Narrator15, 11285 )
    set gg_snd_T01Narrator16 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Narrator16.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Narrator16, "T01Narrator16" )
    call SetSoundDuration( gg_snd_T01Narrator16, 8098 )
    set gg_snd_T01Narrator18 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Narrator18.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Narrator18, "T01Narrator18" )
    call SetSoundDuration( gg_snd_T01Narrator18, 6217 )
    set gg_snd_T01Narrator20 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Narrator20.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Narrator20, "T01Narrator20" )
    call SetSoundDuration( gg_snd_T01Narrator20, 3944 )
    set gg_snd_T01Narrator2401 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Narrator24.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Narrator2401, "T01Narrator24" )
    call SetSoundDuration( gg_snd_T01Narrator2401, 4336 )
    set gg_snd_T01Narrator26 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Narrator26.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Narrator26, "T01Narrator26" )
    call SetSoundDuration( gg_snd_T01Narrator26, 3709 )
    set gg_snd_T01Narrator30 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Narrator30.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Narrator30, "T01Narrator30" )
    call SetSoundDuration( gg_snd_T01Narrator30, 7680 )
    set gg_snd_T01Narrator32 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Narrator32.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Narrator32, "T01Narrator32" )
    call SetSoundDuration( gg_snd_T01Narrator32, 11990 )
    set gg_snd_T01Narrator33 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Narrator33.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Narrator33, "T01Narrator33" )
    call SetSoundDuration( gg_snd_T01Narrator33, 10710 )
    set gg_snd_T01Narrator35 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Narrator35.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Narrator35, "T01Narrator35" )
    call SetSoundDuration( gg_snd_T01Narrator35, 9221 )
    set gg_snd_T01Narrator36 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Narrator36.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Narrator36, "T01Narrator36" )
    call SetSoundDuration( gg_snd_T01Narrator36, 6740 )
    set gg_snd_T01Narrator37 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Narrator37.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Narrator37, "T01Narrator37" )
    call SetSoundDuration( gg_snd_T01Narrator37, 6870 )
    set gg_snd_T01Narrator3801 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Narrator38.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Narrator3801, "T01Narrator38" )
    call SetSoundDuration( gg_snd_T01Narrator3801, 6949 )
    set gg_snd_T01Narrator40 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Narrator40.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Narrator40, "T01Narrator40" )
    call SetSoundDuration( gg_snd_T01Narrator40, 9900 )
    set gg_snd_T01Narrator41 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Narrator41.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Narrator41, "T01Narrator41" )
    call SetSoundDuration( gg_snd_T01Narrator41, 7915 )
    set gg_snd_T01Narrator43 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Narrator43.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Narrator43, "T01Narrator43" )
    call SetSoundDuration( gg_snd_T01Narrator43, 9796 )
    set gg_snd_T01Narrator44 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Narrator44.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Narrator44, "T01Narrator44" )
    call SetSoundDuration( gg_snd_T01Narrator44, 7628 )
    set gg_snd_T01Narrator45 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Narrator45.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Narrator45, "T01Narrator45" )
    call SetSoundDuration( gg_snd_T01Narrator45, 8202 )
    set gg_snd_T01Narrator47 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Narrator47.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Narrator47, "T01Narrator47" )
    call SetSoundDuration( gg_snd_T01Narrator47, 4258 )
    set gg_snd_T01Narrator49 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Narrator49.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Narrator49, "T01Narrator49" )
    call SetSoundDuration( gg_snd_T01Narrator49, 2900 )
    set gg_snd_T01Narrator54 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Narrator54.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Narrator54, "T01Narrator54" )
    call SetSoundDuration( gg_snd_T01Narrator54, 7994 )
    set gg_snd_T01Narrator58 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Narrator58.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Narrator58, "T01Narrator58" )
    call SetSoundDuration( gg_snd_T01Narrator58, 6034 )
    set gg_snd_T01Thrall01 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Thrall01.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Thrall01, "T01Thrall01" )
    call SetSoundDuration( gg_snd_T01Thrall01, 2142 )
    set gg_snd_T01Thrall03 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Thrall03.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Thrall03, "T01Thrall03" )
    call SetSoundDuration( gg_snd_T01Thrall03, 4049 )
    set gg_snd_T01Thrall21 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Thrall21.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Thrall21, "T01Thrall21" )
    call SetSoundDuration( gg_snd_T01Thrall21, 2142 )
    set gg_snd_T01Thrall28 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Thrall28.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Thrall28, "T01Thrall28" )
    call SetSoundDuration( gg_snd_T01Thrall28, 3683 )
    set gg_snd_T01Thrall31 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Thrall31.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Thrall31, "T01Thrall31" )
    call SetSoundDuration( gg_snd_T01Thrall31, 4937 )
    set gg_snd_T01Thrall48 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Thrall48.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Thrall48, "T01Thrall48" )
    call SetSoundDuration( gg_snd_T01Thrall48, 5172 )
    set gg_snd_T01Thrall51 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Thrall51.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Thrall51, "T01Thrall51" )
    call SetSoundDuration( gg_snd_T01Thrall51, 5564 )
    set gg_snd_T01Thrall53 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Thrall53.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Thrall53, "T01Thrall53" )
    call SetSoundDuration( gg_snd_T01Thrall53, 6217 )
    set gg_snd_T01Thrall56 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Thrall56.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Thrall56, "T01Thrall56" )
    call SetSoundDuration( gg_snd_T01Thrall56, 5773 )
    set gg_snd_T01Thrall60 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Thrall60.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Thrall60, "T01Thrall60" )
    call SetSoundDuration( gg_snd_T01Thrall60, 6818 )
    set gg_snd_T01Thrall62 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Thrall62.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Thrall62, "T01Thrall62" )
    call SetSoundDuration( gg_snd_T01Thrall62, 3657 )
    set gg_snd_T01Thrall64 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Thrall64.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Thrall64, "T01Thrall64" )
    call SetSoundDuration( gg_snd_T01Thrall64, 2978 )
    set gg_snd_T01Thrall66 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Thrall66.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Thrall66, "T01Thrall66" )
    call SetSoundDuration( gg_snd_T01Thrall66, 1045 )
    set gg_snd_T01Thrall68 = CreateSound( "Sound\\Dialogue\\TutorialCampaign\\Tutorial01\\T01Thrall68.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_T01Thrall68, "T01Thrall68" )
    call SetSoundDuration( gg_snd_T01Thrall68, 6635 )
    set gg_snd_WaterLakeLoop1 = CreateSound( "Sound\\Ambient\\DoodadEffects\\WaterLakeLoop1.wav", true, true, true, 10, 10, "DoodadsEAX" )
    call SetSoundParamsFromLabel( gg_snd_WaterLakeLoop1, "LakeLoop" )
    call SetSoundDuration( gg_snd_WaterLakeLoop1, 3297 )
    set gg_snd_WindLoopStereo = CreateSound( "Sound\\Ambient\\WindLoopStereo.wav", false, false, false, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_WindLoopStereo, "AmbientSoundTestWind" )
    call SetSoundDuration( gg_snd_WindLoopStereo, 11036 )
endfunction

//***************************************************************************
//*
//*  Items
//*
//***************************************************************************

function CreateAllItems takes nothing returns nothing
    local integer itemID

    call CreateItem( 'phea', 1238.2, -1553.3 )
    call CreateItem( 'phlt', 5138.1, 6936.3 )
endfunction

//***************************************************************************
//*
//*  Dropped Unit Items
//*
//***************************************************************************

function Unit000053_DropItems takes nothing returns nothing
    local unit trigUnit
    local integer itemID

    set trigUnit = GetTriggerUnit()
    if (not IsUnitHidden(trigUnit)) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rde0', 100 )
        set itemID = RandomDistChoose(  )
        call UnitDropItem( trigUnit, itemID )

    endif

    call DestroyTrigger(GetTriggeringTrigger())
endfunction


//***************************************************************************
//*
//*  Unit Creation
//*
//***************************************************************************

//===========================================================================
function CreateUnitsForPlayer0 takes nothing returns nothing
    local player p = Player(0)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_Othr_0024 = CreateUnit( p, 'Othr', -5672.0, -2088.1, 52.930 )
    call SelectHeroSkill( gg_unit_Othr_0024, 'AOfs' )
endfunction

//===========================================================================
function CreateUnitsForPlayer2 takes nothing returns nothing
    local player p = Player(2)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_nmdm_0019 = CreateUnit( p, 'nmdm', 3502.2, 4075.6, 309.663 )
endfunction

//===========================================================================
function CreateBuildingsForPlayer3 takes nothing returns nothing
    local player p = Player(3)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'obar', -4736.0, 3456.0, 270.000 )
    set u = CreateUnit( p, 'obar', -5632.0, 3904.0, 270.000 )
    set u = CreateUnit( p, 'npgf', -5536.0, 4512.0, 270.000 )
    set u = CreateUnit( p, 'npgf', -6176.0, 4256.0, 270.000 )
    set u = CreateUnit( p, 'npgf', -6432.0, 3808.0, 270.000 )
    set u = CreateUnit( p, 'owtw', -5696.0, 3200.0, 270.000 )
    set u = CreateUnit( p, 'owtw', -5184.0, 2944.0, 270.000 )
endfunction

//===========================================================================
function CreateUnitsForPlayer3 takes nothing returns nothing
    local player p = Player(3)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_ogru_0022 = CreateUnit( p, 'ogru', -5450.2, 3828.3, 320.270 )
    set gg_unit_ogru_0023 = CreateUnit( p, 'ogru', -4846.1, 3282.9, 164.279 )
    set gg_unit_ogru_0025 = CreateUnit( p, 'ogru', -4747.4, 3644.2, 176.641 )
endfunction

//===========================================================================
function CreateBuildingsForPlayer4 takes nothing returns nothing
    local player p = Player(4)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'ncp3', -5056.0, -1344.0, 270.000 )
    set u = CreateUnit( p, 'ncp3', -6592.0, 1600.0, 270.000 )
    set u = CreateUnit( p, 'ncp3', -5184.0, 3520.0, 270.000 )
    set u = CreateUnit( p, 'ncp3', 1728.0, 1344.0, 270.000 )
    set u = CreateUnit( p, 'ncp3', -4416.0, 4288.0, 270.000 )
    set u = CreateUnit( p, 'ncp3', -4928.0, 192.0, 270.000 )
    set u = CreateUnit( p, 'ncp3', 3904.0, 3392.0, 270.000 )
endfunction

//===========================================================================
function CreateNeutralHostile takes nothing returns nothing
    local player p = Player(PLAYER_NEUTRAL_AGGRESSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'nmrl', -537.4, -1328.9, 135.998 )
    set u = CreateUnit( p, 'nmrl', -852.3, -1327.4, 38.721 )
    set u = CreateUnit( p, 'nmrl', -809.5, -1151.1, 339.822 )
    set u = CreateUnit( p, 'nmrl', -608.4, -1139.2, 60.122 )
    set gg_unit_nC00_0013 = CreateUnit( p, 'nC00', 6836.6, -2968.9, 125.310 )
    call SetUnitAcquireRange( gg_unit_nC00_0013, 200.0 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, gg_unit_nC00_0013, EVENT_UNIT_DEATH )
    call TriggerAddAction( t, function Unit000053_DropItems )
    set u = CreateUnit( p, 'nC00', 5186.5, -2824.3, 53.590 )
    call SetUnitAcquireRange( u, 200.0 )
    set gg_unit_ngno_0027 = CreateUnit( p, 'ngno', -2636.9, 2378.2, 74.742 )
    set gg_unit_ngno_0028 = CreateUnit( p, 'ngno', -2590.2, 1924.0, 270.623 )
    set gg_unit_ngna_0029 = CreateUnit( p, 'ngna', -3006.6, 2166.9, 142.222 )
    set u = CreateUnit( p, 'nC00', 6272.9, -2190.9, 108.767 )
    set gg_unit_nogr_0036 = CreateUnit( p, 'nogr', 3344.9, -1177.5, 204.927 )
    set u = CreateUnit( p, 'nmrl', 306.6, 1968.8, 306.061 )
    set u = CreateUnit( p, 'nmrl', 491.3, 1988.0, 225.547 )
    set u = CreateUnit( p, 'nbrg', 5099.9, 7100.0, 306.936 )
    set u = CreateUnit( p, 'nban', 5275.5, 6961.7, 250.464 )
    set u = CreateUnit( p, 'nftt', 6923.9, 977.0, 188.674 )
    set u = CreateUnit( p, 'nftb', 6935.5, 686.9, 194.179 )
    set u = CreateUnit( p, 'nftr', 6652.2, 1098.7, 258.721 )
    set gg_unit_ngno_0060 = CreateUnit( p, 'ngno', -3159.7, 4415.9, 209.554 )
endfunction

//===========================================================================
function CreateNeutralPassiveBuildings takes nothing returns nothing
    local player p = Player(PLAYER_NEUTRAL_PASSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'nmh1', -352.0, -1248.0, 270.000 )
    set u = CreateUnit( p, 'nmh0', -800.0, -1568.0, 270.000 )
    set u = CreateUnit( p, 'nfh1', 7136.0, 864.0, 270.000 )
    set u = CreateUnit( p, 'nfh0', 6912.0, 1280.0, 270.000 )
    set u = CreateUnit( p, 'nfh1', 6496.0, 1312.0, 270.000 )
    set u = CreateUnit( p, 'ngnh', -2144.0, 2400.0, 270.000 )
    set u = CreateUnit( p, 'ngt2', -3488.0, 2592.0, 270.000 )
    set u = CreateUnit( p, 'ngt2', -3232.0, 1696.0, 270.000 )
endfunction

//===========================================================================
function CreateNeutralPassive takes nothing returns nothing
    local player p = Player(PLAYER_NEUTRAL_PASSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'nder', -5870.8, -539.1, 357.000 )
    set u = CreateUnit( p, 'nder', 2511.0, 1449.6, 357.000 )
    set u = CreateUnit( p, 'nder', 2826.6, 1255.8, 297.964 )
    set u = CreateUnit( p, 'nder', 1041.1, -1360.0, 357.000 )
    set u = CreateUnit( p, 'npig', -6316.7, 4522.7, 168.008 )
    set u = CreateUnit( p, 'npig', -6323.3, 4812.0, 71.183 )
    set u = CreateUnit( p, 'npig', -6092.2, 4782.6, 333.434 )
    set u = CreateUnit( p, 'npig', -6058.0, 4570.9, 29.137 )
    set u = CreateUnit( p, 'npig', -5822.9, 4717.5, 345.432 )
    set u = CreateUnit( p, 'npig', -6062.4, 4973.2, 220.272 )
    set u = CreateUnit( p, 'npig', -6471.3, 4702.2, 135.334 )
    set u = CreateUnit( p, 'npig', -5943.1, 4730.1, 170.348 )
endfunction

//===========================================================================
function CreatePlayerBuildings takes nothing returns nothing
    call CreateBuildingsForPlayer3(  )
    call CreateBuildingsForPlayer4(  )
endfunction

//===========================================================================
function CreatePlayerUnits takes nothing returns nothing
    call CreateUnitsForPlayer0(  )
    call CreateUnitsForPlayer2(  )
    call CreateUnitsForPlayer3(  )
endfunction

//===========================================================================
function CreateAllUnits takes nothing returns nothing
    call CreateNeutralPassiveBuildings(  )
    call CreatePlayerBuildings(  )
    call CreateNeutralHostile(  )
    call CreateNeutralPassive(  )
    call CreatePlayerUnits(  )
endfunction

//***************************************************************************
//*
//*  Regions
//*
//***************************************************************************

function CreateRegions takes nothing returns nothing
    local weathereffect we

    set gg_rct_EndCin_Medivh_Waits_Here = Rect( 3584.0, 3456.0, 3840.0, 3712.0 )
    set gg_rct_EndCinThrall = Rect( 3584.0, 3840.0, 3776.0, 4032.0 )
    set gg_rct_Ending_Rain = Rect( 1536.0, 2560.0, 5120.0, 6144.0 )
    set gg_rct_FlagExplore03A = Rect( -5888.0, 384.0, -5632.0, 768.0 )
    set gg_rct_FlagExplore03B = Rect( -5760.0, 640.0, -5504.0, 1024.0 )
    set gg_rct_FlagExplore03C = Rect( -5632.0, 896.0, -5376.0, 1152.0 )
    set gg_rct_GnollGroupRegion = Rect( -3072.0, 1792.0, -2432.0, 2432.0 )
    set gg_rct_GruntMove1 = Rect( -5408.0, 3616.0, -5216.0, 3808.0 )
    set gg_rct_GruntMove2 = Rect( -5120.0, 3296.0, -4928.0, 3488.0 )
    set gg_rct_GruntMove3 = Rect( -5088.0, 3552.0, -4896.0, 3744.0 )
    set gg_rct_Hidden_Item_TripwireA = Rect( 896.0, -1408.0, 1408.0, -1152.0 )
    set gg_rct_Hidden_Item_TripwireB = Rect( 768.0, -1664.0, 1024.0, -1280.0 )
    set gg_rct_LakeLoop01 = Rect( -2048.0, -1024.0, -640.0, -384.0 )
    set gg_rct_LakeLoop02 = Rect( -1536.0, -1664.0, -256.0, -1024.0 )
    set gg_rct_LakeLoop03 = Rect( -640.0, -1024.0, 0.0, -128.0 )
    set gg_rct_LakeLoop04 = Rect( 0.0, -512.0, 768.0, 256.0 )
    set gg_rct_LakeLoop05 = Rect( 0.0, 256.0, 896.0, 768.0 )
    set gg_rct_LakeLoop06 = Rect( -128.0, 768.0, 768.0, 1664.0 )
    set gg_rct_LakeLoop07 = Rect( -160.0, 1664.0, 800.0, 2048.0 )
    set gg_rct_LakeLoop08 = Rect( 2464.0, -576.0, 3328.0, 320.0 )
    set gg_rct_Lightnin = Rect( 1920.0, 5760.0, 4608.0, 7168.0 )
    set gg_rct_Lightning1 = Rect( 2176.0, 6272.0, 2432.0, 6528.0 )
    set gg_rct_Lightning2 = Rect( 2432.0, 6656.0, 2688.0, 6912.0 )
    set gg_rct_Lightning3 = Rect( 3072.0, 5760.0, 3328.0, 6016.0 )
    set gg_rct_Lightning4 = Rect( 3712.0, 6016.0, 3968.0, 6272.0 )
    set gg_rct_Medivh_Look_At = Rect( 4352.0, 6656.0, 4608.0, 6912.0 )
    set gg_rct_Medivh_Move_to = Rect( 3104.0, 4416.0, 3328.0, 4640.0 )
    set gg_rct_MedivhFlight01 = Rect( -5472.0, -1888.0, -5344.0, -1760.0 )
    set gg_rct_MedivhFlight02 = Rect( -5696.0, -1952.0, -5568.0, -1824.0 )
    set gg_rct_MedivhFlight03 = Rect( -5888.0, -2112.0, -5760.0, -1984.0 )
    set gg_rct_MedivhFlight04 = Rect( -5920.0, -2336.0, -5792.0, -2208.0 )
    set gg_rct_MedivhFlight05 = Rect( -5888.0, -2560.0, -5760.0, -2432.0 )
    set gg_rct_MedivhFlight06 = Rect( -5696.0, -2720.0, -5568.0, -2592.0 )
    set gg_rct_MedivhFlight07 = Rect( -5472.0, -2784.0, -5344.0, -2656.0 )
    set gg_rct_MedivhFlight08 = Rect( -5248.0, -2720.0, -5120.0, -2592.0 )
    set gg_rct_MedivhFlight09 = Rect( -5056.0, -2560.0, -4928.0, -2432.0 )
    set gg_rct_MedivhFlight10 = Rect( -5024.0, -2336.0, -4896.0, -2208.0 )
    set gg_rct_MedivhFlight11 = Rect( -5056.0, -2112.0, -4928.0, -1984.0 )
    set gg_rct_MedivhFlight12 = Rect( -5248.0, -1952.0, -5120.0, -1824.0 )
    set gg_rct_MedivhRunHereDepart = Rect( -4736.0, -768.0, -4480.0, -512.0 )
    set gg_rct_Murloc_Falls = Rect( -768.0, 256.0, -512.0, 512.0 )
    set gg_rct_Murloc_Falls_Tripwire = Rect( -1536.0, -896.0, 512.0, 384.0 )
    set gg_rct_MurlocGroupRegion = Rect( -1024.0, -1536.0, -384.0, -896.0 )
    set gg_rct_Spot01 = Rect( -5248.0, -1536.0, -4864.0, -1152.0 )
    set gg_rct_Spot02 = Rect( -5120.0, 0.0, -4736.0, 384.0 )
    set gg_rct_Spot03 = Rect( -6784.0, 1408.0, -6400.0, 1792.0 )
    set gg_rct_Spot04 = Rect( -5376.0, 3328.0, -4992.0, 3712.0 )
    set gg_rct_Spot05 = Rect( -4608.0, 4096.0, -4224.0, 4480.0 )
    set gg_rct_Spot06 = Rect( -3328.0, 4224.0, -2944.0, 4608.0 )
    set gg_rct_Spot07 = Rect( -2944.0, 1920.0, -2560.0, 2304.0 )
    set gg_rct_Spot08 = Rect( -896.0, -1408.0, -512.0, -1024.0 )
    set gg_rct_Spot09 = Rect( 1536.0, 1152.0, 1920.0, 1536.0 )
    set gg_rct_Spot10 = Rect( 3072.0, -1408.0, 3456.0, -1024.0 )
    set gg_rct_Spot11 = Rect( 6144.0, -2432.0, 6528.0, -2048.0 )
    set gg_rct_Spot12 = Rect( 6528.0, 768.0, 6912.0, 1152.0 )
    set gg_rct_SpotBypass01A = Rect( -5504.0, -1024.0, -5120.0, -768.0 )
    set gg_rct_SpotBypass01B = Rect( -5248.0, -1152.0, -4864.0, -896.0 )
    set gg_rct_SpotBypass01C = Rect( -4992.0, -1280.0, -4608.0, -1024.0 )
    set gg_rct_SpotBypass01D = Rect( -4736.0, -1408.0, -4480.0, -1152.0 )
    set gg_rct_SpotBypass02A = Rect( -5632.0, 0.0, -4992.0, 256.0 )
    set gg_rct_SpotBypass02B = Rect( -4864.0, 384.0, -4480.0, 640.0 )
    set gg_rct_SpotBypass03A = Rect( -7040.0, 1792.0, -6272.0, 2048.0 )
    set gg_rct_SpotBypass03B = Rect( -6400.0, 1664.0, -6016.0, 1920.0 )
    set gg_rct_SpotBypass04A = Rect( -5888.0, 3200.0, -5632.0, 3584.0 )
    set gg_rct_SpotBypass04B = Rect( -5760.0, 3456.0, -5248.0, 3712.0 )
    set gg_rct_SpotBypass04C = Rect( -4992.0, 3200.0, -4736.0, 3456.0 )
    set gg_rct_SpotBypass04D = Rect( -4864.0, 3072.0, -4480.0, 3328.0 )
    set gg_rct_SpotBypass05A = Rect( -4608.0, 4480.0, -4096.0, 4736.0 )
    set gg_rct_SpotBypass05B = Rect( -4224.0, 3968.0, -3968.0, 4608.0 )
    set gg_rct_SpotBypass06A = Rect( -3456.0, 3072.0, -2688.0, 3328.0 )
    set gg_rct_SpotBypass06B = Rect( -2816.0, 3200.0, -2432.0, 3456.0 )
    set gg_rct_SpotBypass08A = Rect( 128.0, 512.0, 768.0, 768.0 )
    set gg_rct_SpotBypass08B = Rect( 640.0, 384.0, 1024.0, 640.0 )
    set gg_rct_SpotBypass09A = Rect( 1792.0, 1408.0, 2048.0, 2176.0 )
    set gg_rct_SpotBypass09B = Rect( 1664.0, 512.0, 1920.0, 1280.0 )
    set gg_rct_SpotBypassVictoryA = Rect( 3328.0, 3072.0, 3584.0, 3456.0 )
    set gg_rct_SpotBypassVictoryB = Rect( 3456.0, 3328.0, 3840.0, 3584.0 )
    set gg_rct_SpotBypassVictoryC = Rect( 3712.0, 3456.0, 3968.0, 4096.0 )
    set gg_rct_SpotTripwire08A = Rect( -2304.0, -512.0, -1920.0, -256.0 )
    set gg_rct_SpotTripwire08B = Rect( -2048.0, -384.0, -1664.0, -128.0 )
    set gg_rct_SpotTripwire08C = Rect( -1792.0, -256.0, -1536.0, 0.0 )
    set gg_rct_SpotTripwire10A = Rect( 2304.0, -1664.0, 2560.0, -1280.0 )
    set gg_rct_SpotTripwire10B = Rect( 2432.0, -1408.0, 2688.0, -1024.0 )
    set gg_rct_SpotTripwire10C = Rect( 2560.0, -1152.0, 2816.0, -640.0 )
    set gg_rct_SpotTripwire11A = Rect( 5760.0, -1536.0, 6016.0, -1280.0 )
    set gg_rct_SpotTripwire11B = Rect( 5888.0, -1408.0, 6272.0, -1152.0 )
    set gg_rct_SpotTripwire11C = Rect( 6144.0, -1280.0, 6528.0, -1024.0 )
    set gg_rct_SpotTripwire12A = Rect( 5760.0, 768.0, 5888.0, 1536.0 )
    set gg_rct_SpotVictory = Rect( 3712.0, 3200.0, 4096.0, 3584.0 )
    set gg_rct_Starting_Area_Rain = Rect( -7424.0, -3840.0, -3840.0, -256.0 )
    set we = AddWeatherEffect( gg_rct_Starting_Area_Rain, 'RLhr' )
    call EnableWeatherEffect( we, true )
    set gg_rct_Thrall_Move_to = Rect( 3328.0, 4448.0, 3520.0, 4672.0 )
    set gg_rct_TrollGroupRegion = Rect( 6400.0, 512.0, 7040.0, 1152.0 )
    set gg_rct_Visibility01 = Rect( -6112.0, -1248.0, -5984.0, -1120.0 )
    set gg_rct_Visibility02 = Rect( -6240.0, -2784.0, -6112.0, -2656.0 )
    set gg_rct_Visibility03 = Rect( -4640.0, -2560.0, -4512.0, -2432.0 )
    set gg_rct_Visibility04 = Rect( -5248.0, -2560.0, -5120.0, -2432.0 )
    set gg_rct_Visibility05 = Rect( -5184.0, -1472.0, -5056.0, -1344.0 )
    set gg_rct_West_Falls = Rect( -2304.0, -2048.0, -2048.0, -1792.0 )
    set gg_rct_West_Falls_Tripwire = Rect( -1920.0, -2048.0, -512.0, -640.0 )
    set gg_rct_SpeakingAnchor06 = Rect( -3392.0, 3648.0, -3264.0, 3776.0 )
    set gg_rct_SpeakingAnchor05 = Rect( -4032.0, 4288.0, -3904.0, 4416.0 )
    set gg_rct_SpeakingAnchor10 = Rect( 2752.0, -1216.0, 2880.0, -1088.0 )
    set gg_rct_SpeakingAnchor11 = Rect( 5952.0, -1600.0, 6080.0, -1472.0 )
    set gg_rct_SpeakingAnchor12 = Rect( 5952.0, 1088.0, 6080.0, 1216.0 )
    set gg_rct_EndCin_Medivh = Rect( 3328.0, 4096.0, 3456.0, 4224.0 )
    set gg_rct_Thrall01 = Rect( -5728.0, -2144.0, -5632.0, -2048.0 )
    set gg_rct_Thrall00 = Rect( -6048.0, -2624.0, -5952.0, -2528.0 )
    set gg_rct_MedivhStart01 = Rect( -4992.0, -1280.0, -4864.0, -1152.0 )
    set gg_rct_MedivhStart02 = Rect( -5536.0, -2464.0, -5408.0, -2336.0 )
    set gg_rct_MedivhStart03 = Rect( -5280.0, -1824.0, -5152.0, -1696.0 )
    set gg_rct_Thrall02 = Rect( -5536.0, -1952.0, -5440.0, -1856.0 )
    set gg_rct_ThrallLookHere = Rect( -4928.0, -2784.0, -4832.0, -2688.0 )
    set gg_rct_Lightnin02 = Rect( -8160.0, -4096.0, -7296.0, -2464.0 )
    set gg_rct_Lightning5 = Rect( -8128.0, -3008.0, -7872.0, -2752.0 )
    set gg_rct_Lightning6 = Rect( -7680.0, -4096.0, -7424.0, -3840.0 )
endfunction

//***************************************************************************
//*
//*  Cameras
//*
//***************************************************************************

function CreateCameras takes nothing returns nothing

    set gg_cam_End_Alternate = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_End_Alternate, CAMERA_FIELD_ZOFFSET, 300.0, 0.0 )
    call CameraSetupSetField( gg_cam_End_Alternate, CAMERA_FIELD_ROTATION, 104.7, 0.0 )
    call CameraSetupSetField( gg_cam_End_Alternate, CAMERA_FIELD_ANGLE_OF_ATTACK, 348.7, 0.0 )
    call CameraSetupSetField( gg_cam_End_Alternate, CAMERA_FIELD_TARGET_DISTANCE, 1363.6, 0.0 )
    call CameraSetupSetField( gg_cam_End_Alternate, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_End_Alternate, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_End_Alternate, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_End_Alternate, 3418.8, 4470.4, 0.0 )

    set gg_cam_EndCin1 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_EndCin1, CAMERA_FIELD_ZOFFSET, 40.0, 0.0 )
    call CameraSetupSetField( gg_cam_EndCin1, CAMERA_FIELD_ROTATION, 96.5, 0.0 )
    call CameraSetupSetField( gg_cam_EndCin1, CAMERA_FIELD_ANGLE_OF_ATTACK, 345.9, 0.0 )
    call CameraSetupSetField( gg_cam_EndCin1, CAMERA_FIELD_TARGET_DISTANCE, 1500.0, 0.0 )
    call CameraSetupSetField( gg_cam_EndCin1, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_EndCin1, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_EndCin1, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_EndCin1, 3711.1, 4338.6, 0.0 )

    set gg_cam_EndCin2 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_EndCin2, CAMERA_FIELD_ZOFFSET, 60.0, 0.0 )
    call CameraSetupSetField( gg_cam_EndCin2, CAMERA_FIELD_ROTATION, 343.3, 0.0 )
    call CameraSetupSetField( gg_cam_EndCin2, CAMERA_FIELD_ANGLE_OF_ATTACK, 332.5, 0.0 )
    call CameraSetupSetField( gg_cam_EndCin2, CAMERA_FIELD_TARGET_DISTANCE, 1024.5, 0.0 )
    call CameraSetupSetField( gg_cam_EndCin2, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_EndCin2, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_EndCin2, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_EndCin2, 3615.3, 4134.6, 0.0 )

    set gg_cam_Intro_Skipped = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_Skipped, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Skipped, CAMERA_FIELD_ROTATION, 90.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Skipped, CAMERA_FIELD_ANGLE_OF_ATTACK, 304.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Skipped, CAMERA_FIELD_TARGET_DISTANCE, 1650.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Skipped, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Skipped, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Skipped, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_Skipped, -5252.0, -1596.3, 0.0 )

    set gg_cam_Intro01 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro01, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro01, CAMERA_FIELD_ROTATION, 99.8, 0.0 )
    call CameraSetupSetField( gg_cam_Intro01, CAMERA_FIELD_ANGLE_OF_ATTACK, 326.7, 0.0 )
    call CameraSetupSetField( gg_cam_Intro01, CAMERA_FIELD_TARGET_DISTANCE, 1239.7, 0.0 )
    call CameraSetupSetField( gg_cam_Intro01, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro01, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro01, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro01, -5615.6, -2530.2, 0.0 )

    set gg_cam_Intro02 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro02, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro02, CAMERA_FIELD_ROTATION, 127.3, 0.0 )
    call CameraSetupSetField( gg_cam_Intro02, CAMERA_FIELD_ANGLE_OF_ATTACK, 318.8, 0.0 )
    call CameraSetupSetField( gg_cam_Intro02, CAMERA_FIELD_TARGET_DISTANCE, 1127.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro02, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro02, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro02, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro02, -5511.0, -2301.1, 0.0 )

    set gg_cam_Intro03 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro03, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro03, CAMERA_FIELD_ROTATION, 194.8, 0.0 )
    call CameraSetupSetField( gg_cam_Intro03, CAMERA_FIELD_ANGLE_OF_ATTACK, 349.9, 0.0 )
    call CameraSetupSetField( gg_cam_Intro03, CAMERA_FIELD_TARGET_DISTANCE, 1650.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro03, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro03, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro03, CAMERA_FIELD_FARZ, 5500.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro03, -6042.3, -2237.7, 0.0 )

    set gg_cam_Intro04A = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro04A, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro04A, CAMERA_FIELD_ROTATION, 200.9, 0.0 )
    call CameraSetupSetField( gg_cam_Intro04A, CAMERA_FIELD_ANGLE_OF_ATTACK, 305.8, 0.0 )
    call CameraSetupSetField( gg_cam_Intro04A, CAMERA_FIELD_TARGET_DISTANCE, 846.7, 0.0 )
    call CameraSetupSetField( gg_cam_Intro04A, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro04A, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro04A, CAMERA_FIELD_FARZ, 5500.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro04A, -5749.6, -1970.3, 0.0 )

    set gg_cam_Intro04B = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro04B, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro04B, CAMERA_FIELD_ROTATION, 200.9, 0.0 )
    call CameraSetupSetField( gg_cam_Intro04B, CAMERA_FIELD_ANGLE_OF_ATTACK, 305.8, 0.0 )
    call CameraSetupSetField( gg_cam_Intro04B, CAMERA_FIELD_TARGET_DISTANCE, 1239.7, 0.0 )
    call CameraSetupSetField( gg_cam_Intro04B, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro04B, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro04B, CAMERA_FIELD_FARZ, 5500.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro04B, -5749.6, -1970.3, 0.0 )

    set gg_cam_Intro05A = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro05A, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro05A, CAMERA_FIELD_ROTATION, 183.4, 0.0 )
    call CameraSetupSetField( gg_cam_Intro05A, CAMERA_FIELD_ANGLE_OF_ATTACK, 311.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro05A, CAMERA_FIELD_TARGET_DISTANCE, 1363.6, 0.0 )
    call CameraSetupSetField( gg_cam_Intro05A, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro05A, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro05A, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro05A, -5599.9, -2044.6, 0.0 )

    set gg_cam_Intro05B = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro05B, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro05B, CAMERA_FIELD_ROTATION, 213.7, 0.0 )
    call CameraSetupSetField( gg_cam_Intro05B, CAMERA_FIELD_ANGLE_OF_ATTACK, 328.9, 0.0 )
    call CameraSetupSetField( gg_cam_Intro05B, CAMERA_FIELD_TARGET_DISTANCE, 1650.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro05B, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro05B, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro05B, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro05B, -5622.0, -2012.3, 0.0 )

    set gg_cam_Intro06 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro06, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro06, CAMERA_FIELD_ROTATION, 210.5, 0.0 )
    call CameraSetupSetField( gg_cam_Intro06, CAMERA_FIELD_ANGLE_OF_ATTACK, 343.3, 0.0 )
    call CameraSetupSetField( gg_cam_Intro06, CAMERA_FIELD_TARGET_DISTANCE, 1996.5, 0.0 )
    call CameraSetupSetField( gg_cam_Intro06, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro06, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro06, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro06, -5721.1, -1800.1, 0.0 )

    set gg_cam_Medivh_Human_02 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Medivh_Human_02, CAMERA_FIELD_ZOFFSET, 360.0, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Human_02, CAMERA_FIELD_ROTATION, 105.3, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Human_02, CAMERA_FIELD_ANGLE_OF_ATTACK, 347.7, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Human_02, CAMERA_FIELD_TARGET_DISTANCE, 1363.6, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Human_02, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Human_02, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Human_02, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Medivh_Human_02, 3182.6, 5258.9, 0.0 )

    set gg_cam_Medivh_Human_Line = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Medivh_Human_Line, CAMERA_FIELD_ZOFFSET, 220.0, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Human_Line, CAMERA_FIELD_ROTATION, 104.9, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Human_Line, CAMERA_FIELD_ANGLE_OF_ATTACK, 343.7, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Human_Line, CAMERA_FIELD_TARGET_DISTANCE, 1500.0, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Human_Line, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Human_Line, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Human_Line, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Medivh_Human_Line, 3248.1, 5093.6, 0.0 )

    set gg_cam_Medivh_Transform = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Medivh_Transform, CAMERA_FIELD_ZOFFSET, 190.0, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Transform, CAMERA_FIELD_ROTATION, 104.9, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Transform, CAMERA_FIELD_ANGLE_OF_ATTACK, 343.7, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Transform, CAMERA_FIELD_TARGET_DISTANCE, 1363.6, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Transform, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Transform, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Medivh_Transform, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Medivh_Transform, 3345.1, 4893.3, 0.0 )

    set gg_cam_OldIntro1 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_OldIntro1, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_OldIntro1, CAMERA_FIELD_ROTATION, 128.6, 0.0 )
    call CameraSetupSetField( gg_cam_OldIntro1, CAMERA_FIELD_ANGLE_OF_ATTACK, 297.4, 0.0 )
    call CameraSetupSetField( gg_cam_OldIntro1, CAMERA_FIELD_TARGET_DISTANCE, 1024.5, 0.0 )
    call CameraSetupSetField( gg_cam_OldIntro1, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_OldIntro1, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_OldIntro1, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_OldIntro1, -5684.7, -2244.1, 0.0 )

    set gg_cam_OldIntro2 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_OldIntro2, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_OldIntro2, CAMERA_FIELD_ROTATION, 175.3, 0.0 )
    call CameraSetupSetField( gg_cam_OldIntro2, CAMERA_FIELD_ANGLE_OF_ATTACK, 327.8, 0.0 )
    call CameraSetupSetField( gg_cam_OldIntro2, CAMERA_FIELD_TARGET_DISTANCE, 1363.6, 0.0 )
    call CameraSetupSetField( gg_cam_OldIntro2, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_OldIntro2, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_OldIntro2, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_OldIntro2, -5501.6, -1942.1, 0.0 )

    set gg_cam_OldIntro3 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_OldIntro3, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_OldIntro3, CAMERA_FIELD_ROTATION, 85.3, 0.0 )
    call CameraSetupSetField( gg_cam_OldIntro3, CAMERA_FIELD_ANGLE_OF_ATTACK, 344.1, 0.0 )
    call CameraSetupSetField( gg_cam_OldIntro3, CAMERA_FIELD_TARGET_DISTANCE, 1363.6, 0.0 )
    call CameraSetupSetField( gg_cam_OldIntro3, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_OldIntro3, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_OldIntro3, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_OldIntro3, -5247.1, -1874.5, 0.0 )

endfunction

//***************************************************************************
//*
//*  Triggers
//*
//***************************************************************************

//===========================================================================
// Trigger: Initialization Phase
//===========================================================================
function Trig_Initialization_Phase_Actions takes nothing returns nothing
    call SetCampaignMenuRaceBJ( bj_CAMPAIGN_INDEX_T )
    call ConditionalTriggerExecute( gg_trg_Init_01_Timing )
    call ConditionalTriggerExecute( gg_trg_Init_02_Players )
    call ConditionalTriggerExecute( gg_trg_Init_03_Units )
    call ConditionalTriggerExecute( gg_trg_Init_04_Environment )
    call ConditionalTriggerExecute( gg_trg_Init_05_Visibility )
    call ConditionalTriggerExecute( gg_trg_Init_06_Sounds )
    call CommentString( "Create Quests" )
    call ConditionalTriggerExecute( gg_trg_QuestProphet_Create )
    call ConditionalTriggerExecute( gg_trg_Intro_Cinematic )
endfunction

//===========================================================================
function InitTrig_Initialization_Phase takes nothing returns nothing
    set gg_trg_Initialization_Phase = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Initialization_Phase, function Trig_Initialization_Phase_Actions )
endfunction

//===========================================================================
// Trigger: Init 01 Timing
//===========================================================================
function Trig_Init_01_Timing_Actions takes nothing returns nothing
    call CommentString( "It's a tutorial - give the player a little more time" )
    set udg_QuestDelay = RMaxBJ(bj_QUEUE_DELAY_QUEST, 6.00)
    set udg_HintDelay = RMaxBJ(bj_QUEUE_DELAY_HINT, 6.00)
endfunction

//===========================================================================
function InitTrig_Init_01_Timing takes nothing returns nothing
    set gg_trg_Init_01_Timing = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_01_Timing, function Trig_Init_01_Timing_Actions )
endfunction

//===========================================================================
// Trigger: Init 02 Players
//===========================================================================
function Trig_Init_02_Players_Actions takes nothing returns nothing
    call CommentString( "Alliances" )
    call SetPlayerAllianceStateBJ( Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_APlayer03_TheProphet, bj_ALLIANCE_ALLIED )
    call CommentString( "Player Colors" )
    call SetPlayerColorBJ( udg_APlayer03_TheProphet, GetPlayerColor(Player(PLAYER_NEUTRAL_PASSIVE)), true )
    call CommentString( "Score Screen" )
    call SetPlayerOnScoreScreenBJ( false, udg_APlayer03_TheProphet )
    call SetPlayerOnScoreScreenBJ( false, udg_APlayer04_Rescuables )
    call SetPlayerOnScoreScreenBJ( false, udg_APlayer05_Circles )
    call CommentString( "Disable Bounty" )
    call SetPlayerFlagBJ( PLAYER_STATE_GIVES_BOUNTY, false, Player(PLAYER_NEUTRAL_AGGRESSIVE) )
endfunction

//===========================================================================
function InitTrig_Init_02_Players takes nothing returns nothing
    set gg_trg_Init_02_Players = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_02_Players, function Trig_Init_02_Players_Actions )
endfunction

//===========================================================================
// Trigger: Init 03 Units
//===========================================================================
function Trig_Init_03_Units_Func015002 takes nothing returns nothing
    call ShowUnitHide( GetEnumUnit() )
endfunction

function Trig_Init_03_Units_Func017001002 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == true )
endfunction

function Trig_Init_03_Units_Func017002 takes nothing returns nothing
    call SetUnitInvulnerable( GetEnumUnit(), true )
endfunction

function Trig_Init_03_Units_Actions takes nothing returns nothing
    call CommentString( "Configure Heroes" )
    set udg_Thrall = gg_unit_Othr_0024
    set udg_Medivh = gg_unit_nmdm_0019
    call RemoveGuardPosition( udg_Medivh )
    call SetUnitInvulnerable( udg_Medivh, true )
    call GroupAddUnitSimple( udg_Thrall, udg_YourUnits )
    call SetPlayerHandicapXPBJ( udg_APlayer01, 300.00 )
    call CommentString( "Configure Rescuables" )
    set udg_Grunt1 = gg_unit_ogru_0022
    set udg_Grunt2 = gg_unit_ogru_0023
    set udg_Grunt3 = gg_unit_ogru_0025
    call GroupAddUnitSimple( udg_Grunt1, udg_RescuableGrunts )
    call GroupAddUnitSimple( udg_Grunt2, udg_RescuableGrunts )
    call GroupAddUnitSimple( udg_Grunt3, udg_RescuableGrunts )
    call ForGroup( udg_RescuableGrunts, function Trig_Init_03_Units_Func015002 )
    call CommentString( "Configure Rescuables' Base" )
    call ForGroup( GetUnitsOfPlayerMatching(udg_APlayer04_Rescuables, Condition(function Trig_Init_03_Units_Func017001002)), function Trig_Init_03_Units_Func017002 )
    call CommentString( "Configure Creep Camp Groups" )
    set udg_GnollGroup = GetUnitsInRectOfPlayer(gg_rct_GnollGroupRegion, Player(PLAYER_NEUTRAL_AGGRESSIVE))
    set udg_MurlocGroup = GetUnitsInRectOfPlayer(gg_rct_MurlocGroupRegion, Player(PLAYER_NEUTRAL_AGGRESSIVE))
    set udg_TrollsGroup = GetUnitsInRectOfPlayer(gg_rct_TrollGroupRegion, Player(PLAYER_NEUTRAL_AGGRESSIVE))
    set udg_Gnoll = gg_unit_ngno_0060
    set udg_Ogre = gg_unit_nogr_0036
    set udg_Golem = gg_unit_nC00_0013
endfunction

//===========================================================================
function InitTrig_Init_03_Units takes nothing returns nothing
    set gg_trg_Init_03_Units = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_03_Units, function Trig_Init_03_Units_Actions )
endfunction

//===========================================================================
// Trigger: Init 04 Environment
//===========================================================================
function Trig_Init_04_Environment_Actions takes nothing returns nothing
    call CommentString( "Time of day" )
    call EnableDawnDusk( false )
    call SetTimeOfDayScalePercentBJ( 800.00 )
    call SetTimeOfDay( 0.01 )
    call EnableTrigger( gg_trg_Intro_Time_Stop )
    call CommentString( "Weather" )
    call SetDoodadAnimationRectBJ( "death", 'YOlb', gg_rct_Lightnin )
    call SetDoodadAnimationRectBJ( "death", 'YOlb', gg_rct_Lightnin02 )
    call CommentString( "Configure COPs" )
    set udg_Circle01 = GroupPickRandomUnit(GetUnitsInRectOfPlayer(gg_rct_Spot01, udg_APlayer05_Circles))
    set udg_Circle02 = GroupPickRandomUnit(GetUnitsInRectOfPlayer(gg_rct_Spot02, udg_APlayer05_Circles))
    set udg_Circle03 = GroupPickRandomUnit(GetUnitsInRectOfPlayer(gg_rct_Spot03, udg_APlayer05_Circles))
    set udg_Circle04 = GroupPickRandomUnit(GetUnitsInRectOfPlayer(gg_rct_Spot04, udg_APlayer05_Circles))
    set udg_Circle05 = GroupPickRandomUnit(GetUnitsInRectOfPlayer(gg_rct_Spot05, udg_APlayer05_Circles))
    set udg_Circle09 = GroupPickRandomUnit(GetUnitsInRectOfPlayer(gg_rct_Spot09, udg_APlayer05_Circles))
    set udg_CircleVictory = GroupPickRandomUnit(GetUnitsInRectOfPlayer(gg_rct_SpotVictory, udg_APlayer05_Circles))
    call SetUnitColor( udg_Circle01, PLAYER_COLOR_LIGHT_GRAY )
    call SetUnitColor( udg_Circle02, PLAYER_COLOR_LIGHT_GRAY )
    call SetUnitColor( udg_Circle03, PLAYER_COLOR_LIGHT_GRAY )
    call SetUnitColor( udg_Circle04, PLAYER_COLOR_LIGHT_GRAY )
    call SetUnitColor( udg_Circle05, PLAYER_COLOR_LIGHT_GRAY )
    call SetUnitColor( udg_Circle09, PLAYER_COLOR_LIGHT_GRAY )
    call SetUnitColor( udg_CircleVictory, PLAYER_COLOR_LIGHT_GRAY )
endfunction

//===========================================================================
function InitTrig_Init_04_Environment takes nothing returns nothing
    set gg_trg_Init_04_Environment = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_04_Environment, function Trig_Init_04_Environment_Actions )
endfunction

//===========================================================================
// Trigger: Init 05 Visibility
//===========================================================================
function Trig_Init_05_Visibility_Actions takes nothing returns nothing
    call CommentString( "Banner VMs" )
    call CreateFogModifierRadiusLocBJ( false, udg_APlayer01, FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_Spot01), udg_FlagVisRadius )
    set udg_Visibility01 = GetLastCreatedFogModifier()
    call CreateFogModifierRadiusLocBJ( false, udg_APlayer01, FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_Spot02), udg_FlagVisRadius )
    set udg_Visibility02 = GetLastCreatedFogModifier()
    call CreateFogModifierRadiusLocBJ( false, udg_APlayer01, FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_Spot03), udg_FlagVisRadius )
    set udg_Visibility03 = GetLastCreatedFogModifier()
    call CreateFogModifierRadiusLocBJ( false, udg_APlayer01, FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_Spot04), udg_FlagVisRadius )
    set udg_Visibility04 = GetLastCreatedFogModifier()
    call CreateFogModifierRadiusLocBJ( false, udg_APlayer01, FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_Spot05), udg_FlagVisRadius )
    set udg_Visibility05 = GetLastCreatedFogModifier()
    call CreateFogModifierRadiusLocBJ( false, udg_APlayer01, FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_Spot06), udg_FlagVisRadius )
    set udg_Visibility06 = GetLastCreatedFogModifier()
    call CreateFogModifierRadiusLocBJ( false, udg_APlayer01, FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_Spot07), udg_FlagVisRadius )
    set udg_Visibility07 = GetLastCreatedFogModifier()
    call CreateFogModifierRadiusLocBJ( false, udg_APlayer01, FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_Spot08), udg_FlagVisRadius )
    set udg_Visibility08 = GetLastCreatedFogModifier()
    call CreateFogModifierRadiusLocBJ( false, udg_APlayer01, FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_Spot09), udg_FlagVisRadius )
    set udg_Visibility09 = GetLastCreatedFogModifier()
    call CreateFogModifierRadiusLocBJ( false, udg_APlayer01, FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_Spot10), udg_FlagVisRadius )
    set udg_Visibility10 = GetLastCreatedFogModifier()
    call CreateFogModifierRadiusLocBJ( false, udg_APlayer01, FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_Spot11), udg_FlagVisRadius )
    set udg_Visibility11 = GetLastCreatedFogModifier()
    call CreateFogModifierRadiusLocBJ( false, udg_APlayer01, FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_Spot12), udg_FlagVisRadius )
    set udg_Visibility12 = GetLastCreatedFogModifier()
    call CreateFogModifierRadiusLocBJ( false, udg_APlayer01, FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_SpotVictory), udg_FlagVisRadius )
    set udg_VisibilityVictory = GetLastCreatedFogModifier()
    call CommentString( "Waterfall VMs" )
    call CreateFogModifierRadiusLocBJ( false, Player(0), FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_West_Falls), 800.00 )
    set udg_WWestFallsVis = GetLastCreatedFogModifier()
    call CreateFogModifierRadiusLocBJ( false, Player(0), FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_Murloc_Falls), 800.00 )
    set udg_WMurlocFallsVis = GetLastCreatedFogModifier()
    call CommentString( "Remask the map, in case any VMs left residuals" )
    call CreateFogModifierRectBJ( true, udg_APlayer01, FOG_OF_WAR_MASKED, GetEntireMapRect() )
    call DestroyFogModifier( GetLastCreatedFogModifier() )
    call CommentString( "Visibility" )
    call CreateNUnitsAtLoc( 1, 'ushd', udg_APlayer01, GetRectCenter(gg_rct_Visibility01), bj_UNIT_FACING )
    call RemoveUnit( GetLastCreatedUnit() )
    call CreateNUnitsAtLoc( 1, 'ushd', udg_APlayer01, GetRectCenter(gg_rct_Visibility02), bj_UNIT_FACING )
    call RemoveUnit( GetLastCreatedUnit() )
    call CreateNUnitsAtLoc( 1, 'ushd', udg_APlayer01, GetRectCenter(gg_rct_Visibility03), bj_UNIT_FACING )
    call RemoveUnit( GetLastCreatedUnit() )
    call CreateNUnitsAtLoc( 1, 'ushd', udg_APlayer01, GetRectCenter(gg_rct_Visibility04), bj_UNIT_FACING )
    call RemoveUnit( GetLastCreatedUnit() )
    call CreateNUnitsAtLoc( 1, 'ushd', udg_APlayer01, GetRectCenter(gg_rct_Visibility05), bj_UNIT_FACING )
    call RemoveUnit( GetLastCreatedUnit() )
endfunction

//===========================================================================
function InitTrig_Init_05_Visibility takes nothing returns nothing
    set gg_trg_Init_05_Visibility = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_05_Visibility, function Trig_Init_05_Visibility_Actions )
endfunction

//===========================================================================
// Trigger: Init 06 Sounds
//===========================================================================
function Trig_Init_06_Sounds_Actions takes nothing returns nothing
    call CommentString( "Configure Sounds" )
    set udg_GoodJobSound = gg_snd_GoodJob
    call SetStackedSoundBJ( true, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop01 )
    call SetStackedSoundBJ( true, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop02 )
    call SetStackedSoundBJ( true, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop03 )
    call SetStackedSoundBJ( true, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop04 )
    call SetStackedSoundBJ( true, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop05 )
    call SetStackedSoundBJ( true, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop06 )
    call SetStackedSoundBJ( true, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop07 )
    call SetStackedSoundBJ( true, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop08 )
    call AttachSoundToUnitBJ( gg_snd_DruidOfTheTalonMorphedWarcry1, udg_Medivh )
endfunction

//===========================================================================
function InitTrig_Init_06_Sounds takes nothing returns nothing
    set gg_trg_Init_06_Sounds = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_06_Sounds, function Trig_Init_06_Sounds_Actions )
endfunction

//===========================================================================
// Trigger: Intro Cinematic
//===========================================================================
function Trig_Intro_Cinematic_Func018001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Func021001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Func025001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Func028001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Func034001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Func039001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Func043001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Func046001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Func048001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Func051001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Func056001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Func062001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Func065001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Func067001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Func071001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Actions takes nothing returns nothing
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 0.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call CinematicModeBJ( true, GetPlayersAll() )
    call CameraSetupApplyForPlayer( true, gg_cam_Intro01, udg_APlayer01, 0.00 )
    call SetSkyModel( "Environment\\Sky\\FelwoodSky\\FelwoodSky.mdl" )
    call SetUnitPositionLoc( udg_Medivh, GetRectCenter(gg_rct_MedivhStart01) )
    call SetUnitPathing( udg_Thrall, false )
    call SetUnitPositionLoc( udg_Thrall, GetRectCenter(gg_rct_Thrall00) )
    call CommentString( "Music" )
    call ClearMapMusicBJ(  )
    call TriggerSleepAction( 0.01 )
    call PlayThematicMusicBJ( "Sound\\Music\\mp3Music\\SadMystery.mp3" )
    call SetMapMusicIndexedBJ( "music", 0 )
    call TriggerSleepAction( 1.00 )
    call CommentString( "CINEMATIC BEGINS - Cinematic can be skipped after this point" )
    call EnableTrigger( gg_trg_Intro_Cinematic_Skip )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 3.75, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    if ( Trig_Intro_Cinematic_Func018001() ) then
        return
    else
        call DoNothing(  )
    endif
    call PlaySoundBJ( gg_snd_RollingThunder1 )
    call TriggerSleepAction( 0.50 )
    if ( Trig_Intro_Cinematic_Func021001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Thrall Exits Hut" )
    call IssuePointOrderLocBJ( udg_Thrall, "move", GetRectCenter(gg_rct_Thrall01) )
    call TriggerSleepAction( 0.50 )
    if ( Trig_Intro_Cinematic_Func025001() ) then
        return
    else
        call DoNothing(  )
    endif
    call PlaySoundBJ( gg_snd_DoorSlam1 )
    call TriggerSleepAction( 2.00 )
    if ( Trig_Intro_Cinematic_Func028001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitPathing( udg_Thrall, true )
    call CommentString( "Thrall Line" )
    call CameraSetupApplyForPlayer( true, gg_cam_Intro02, udg_APlayer01, 0.00 )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Thrall, "TRIGSTR_009", gg_snd_T01Thrall01, "TRIGSTR_010", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Thrall01, 0 )
    if ( Trig_Intro_Cinematic_Func034001() ) then
        return
    else
        call DoNothing(  )
    endif
    call PlaySoundBJ( gg_snd_DruidOfTheTalonMorphedWarcry1 )
    call SetUnitLookAt( udg_Thrall, "bone_head", udg_Medivh, 0, 0, 140.00 )
    call IssuePointOrderLocBJ( udg_Medivh, "move", GetRectCenter(gg_rct_MedivhStart02) )
    call TriggerSleepAction( 1.00 )
    if ( Trig_Intro_Cinematic_Func039001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Medivh Line" )
    call CameraSetupApplyForPlayer( true, gg_cam_Intro03, udg_APlayer01, 0.00 )
    call TriggerSleepAction( 4.00 )
    if ( Trig_Intro_Cinematic_Func043001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Medivh, "TRIGSTR_011", gg_snd_T01Medivh02, "TRIGSTR_012", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Medivh02, 1.00 )
    if ( Trig_Intro_Cinematic_Func046001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TriggerSleepAction( 1.00 )
    if ( Trig_Intro_Cinematic_Func048001() ) then
        return
    else
        call DoNothing(  )
    endif
    call PlaySoundBJ( gg_snd_RollingThunder1 )
    call TriggerSleepAction( 1.00 )
    if ( Trig_Intro_Cinematic_Func051001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetDoodadAnimationRectBJ( "stand", 'YOlb', gg_rct_Lightning5 )
    call SetSoundVolumeBJ( gg_snd_LightningBolt, 30.00 )
    call PlaySoundBJ( gg_snd_LightningBolt )
    call TriggerSleepAction( 0.30 )
    if ( Trig_Intro_Cinematic_Func056001() ) then
        return
    else
        call DoNothing(  )
    endif
    set udg_MedivhCanCircle = false
    call IssuePointOrderLocBJ( udg_Medivh, "move", GetRectCenter(gg_rct_MedivhRunHereDepart) )
    call CommentString( "Thrall Line" )
    call CameraSetupApplyForPlayer( true, gg_cam_Intro06, udg_APlayer01, 3.00 )
    call TriggerSleepAction( 0.50 )
    if ( Trig_Intro_Cinematic_Func062001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( udg_Thrall, "move", GetRectCenter(gg_rct_Thrall02) )
    call TriggerSleepAction( 1.50 )
    if ( Trig_Intro_Cinematic_Func065001() ) then
        return
    else
        call DoNothing(  )
    endif
    call ResetUnitLookAt( udg_Thrall )
    if ( Trig_Intro_Cinematic_Func067001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Thrall, "TRIGSTR_013", gg_snd_T01Thrall03, "TRIGSTR_014", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Thrall03, 0.00 )
    call TriggerSleepAction( 1.00 )
    if ( Trig_Intro_Cinematic_Func071001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "CINEMATIC ENDS - Cinematic can no longer be skipped" )
    call DisableTrigger( gg_trg_Intro_Cinematic_Skip )
    call CommentString( "General cleanup" )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 2, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 2 )
    call ResetToGameCameraForPlayer( udg_APlayer01, 0.00 )
    call PanCameraToTimedLocForPlayer( udg_APlayer01, CameraSetupGetDestPositionLoc(gg_cam_Intro_Skipped), 0 )
    call CinematicModeBJ( false, GetPlayersAll() )
    call CameraResetSmoothingFactorBJ(  )
    call SetSkyModel( null )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    call CommentString( "Level-specific cleanup" )
    call ConditionalTriggerExecute( gg_trg_Intro_Time_Stop )
    call SetUnitPositionLocFacingBJ( udg_Medivh, GetRectCenter(gg_rct_MedivhRunHereDepart), 45.00 )
    call IssuePointOrderLocBJ( udg_Medivh, "move", GetRectCenter(gg_rct_EndCin_Medivh_Waits_Here) )
    call CommentString( "Gameplay" )
    call ConditionalTriggerExecute( gg_trg_Gameplay )
endfunction

//===========================================================================
function InitTrig_Intro_Cinematic takes nothing returns nothing
    set gg_trg_Intro_Cinematic = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Intro_Cinematic, function Trig_Intro_Cinematic_Actions )
endfunction

//===========================================================================
// Trigger: Intro Cinematic Skip
//===========================================================================
function Trig_Intro_Cinematic_Skip_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call DisableTrigger( gg_trg_The_Prophet_Flies_Overhead )
    set udg_IntroSkipped = true
    call CommentString( "Fade out" )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 0.50, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 0.60 )
    call CommentString( "General cleanup" )
    call CinematicModeBJ( false, GetPlayersAll() )
    call CameraResetSmoothingFactorBJ(  )
    call ResetToGameCameraForPlayer( udg_APlayer01, 0.00 )
    call PanCameraToTimedLocForPlayer( udg_APlayer01, CameraSetupGetDestPositionLoc(gg_cam_Intro_Skipped), 0 )
    call SetSkyModel( null )
    call CommentString( "Level-specific cleanup" )
    call ConditionalTriggerExecute( gg_trg_Intro_Time_Stop )
    set udg_MedivhCanCircle = false
    call ResetUnitLookAt( udg_Thrall )
    call SetUnitPositionLocFacingBJ( udg_Medivh, GetRectCenter(gg_rct_MedivhRunHereDepart), 45.00 )
    call IssuePointOrderLocBJ( udg_Medivh, "move", GetRectCenter(gg_rct_EndCin_Medivh_Waits_Here) )
    call SetUnitPositionLoc( udg_Thrall, GetRectCenter(gg_rct_Thrall02) )
    call SetUnitFacingTimed( udg_Thrall, 45.00, 0 )
    call SetUnitPathing( udg_Thrall, true )
    call CommentString( "Fade in" )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 0.50, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 0.50 )
    call CommentString( "Gameplay" )
    call ConditionalTriggerExecute( gg_trg_Gameplay )
endfunction

//===========================================================================
function InitTrig_Intro_Cinematic_Skip takes nothing returns nothing
    set gg_trg_Intro_Cinematic_Skip = CreateTrigger(  )
    call DisableTrigger( gg_trg_Intro_Cinematic_Skip )
    call TriggerRegisterPlayerEventEndCinematic( gg_trg_Intro_Cinematic_Skip, Player(0) )
    call TriggerAddAction( gg_trg_Intro_Cinematic_Skip, function Trig_Intro_Cinematic_Skip_Actions )
endfunction

//===========================================================================
// Trigger: The Prophet Flies Overhead
//===========================================================================
function Trig_The_Prophet_Flies_Overhead_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Medivh ) ) then
        return false
    endif
    return true
endfunction

function Trig_The_Prophet_Flies_Overhead_Func008001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_The_Prophet_Flies_Overhead_Func011001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_The_Prophet_Flies_Overhead_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CameraSetupApplyForPlayer( true, gg_cam_Intro04A, udg_APlayer01, 0 )
    call CameraSetupApplyForPlayer( true, gg_cam_Intro04B, udg_APlayer01, 3.00 )
    call SetUnitPositionLoc( udg_Medivh, GetRectCenter(gg_rct_MedivhStart03) )
    call SetUnitFacingToFaceLocTimed( udg_Medivh, GetRectCenter(gg_rct_MedivhFlight06), 0 )
    call IssuePointOrderLocBJ( udg_Medivh, "move", GetRectCenter(gg_rct_MedivhFlight02) )
    call TriggerSleepAction( 1.00 )
    if ( Trig_The_Prophet_Flies_Overhead_Func008001() ) then
        return
    else
        call DoNothing(  )
    endif
    set udg_MedivhCanCircle = true
    call TriggerSleepAction( 1.00 )
    if ( Trig_The_Prophet_Flies_Overhead_Func011001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CameraSetupApplyForPlayer( true, gg_cam_Intro05A, udg_APlayer01, 0.00 )
    call ResetUnitLookAt( udg_Thrall )
    call CameraSetupApplyForPlayer( true, gg_cam_Intro05B, udg_APlayer01, 20.00 )
    call TriggerSleepAction( 1.00 )
    call SetUnitFacingToFaceLocTimed( udg_Thrall, GetRectCenter(gg_rct_ThrallLookHere), 0.30 )
    call TriggerSleepAction( 0.30 )
    call SetUnitLookAt( udg_Thrall, "bone_head", udg_Medivh, 0, 0, 120.00 )
endfunction

//===========================================================================
function InitTrig_The_Prophet_Flies_Overhead takes nothing returns nothing
    set gg_trg_The_Prophet_Flies_Overhead = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_The_Prophet_Flies_Overhead, gg_rct_MedivhStart02 )
    call TriggerAddCondition( gg_trg_The_Prophet_Flies_Overhead, Condition( function Trig_The_Prophet_Flies_Overhead_Conditions ) )
    call TriggerAddAction( gg_trg_The_Prophet_Flies_Overhead, function Trig_The_Prophet_Flies_Overhead_Actions )
endfunction

//===========================================================================
// Trigger: The Prophet Circles1
//===========================================================================
function Trig_The_Prophet_Circles1_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Medivh ) ) then
        return false
    endif
    if ( not ( udg_MedivhCanCircle == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_The_Prophet_Circles1_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ( udg_Medivh, "move", GetRectCenter(gg_rct_MedivhFlight02) )
endfunction

//===========================================================================
function InitTrig_The_Prophet_Circles1 takes nothing returns nothing
    set gg_trg_The_Prophet_Circles1 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_The_Prophet_Circles1, gg_rct_MedivhFlight01 )
    call TriggerAddCondition( gg_trg_The_Prophet_Circles1, Condition( function Trig_The_Prophet_Circles1_Conditions ) )
    call TriggerAddAction( gg_trg_The_Prophet_Circles1, function Trig_The_Prophet_Circles1_Actions )
endfunction

//===========================================================================
// Trigger: The Prophet Circles2
//===========================================================================
function Trig_The_Prophet_Circles2_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Medivh ) ) then
        return false
    endif
    if ( not ( udg_MedivhCanCircle == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_The_Prophet_Circles2_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ( udg_Medivh, "move", GetRectCenter(gg_rct_MedivhFlight03) )
endfunction

//===========================================================================
function InitTrig_The_Prophet_Circles2 takes nothing returns nothing
    set gg_trg_The_Prophet_Circles2 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_The_Prophet_Circles2, gg_rct_MedivhFlight02 )
    call TriggerAddCondition( gg_trg_The_Prophet_Circles2, Condition( function Trig_The_Prophet_Circles2_Conditions ) )
    call TriggerAddAction( gg_trg_The_Prophet_Circles2, function Trig_The_Prophet_Circles2_Actions )
endfunction

//===========================================================================
// Trigger: The Prophet Circles3
//===========================================================================
function Trig_The_Prophet_Circles3_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Medivh ) ) then
        return false
    endif
    if ( not ( udg_MedivhCanCircle == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_The_Prophet_Circles3_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ( udg_Medivh, "move", GetRectCenter(gg_rct_MedivhFlight04) )
endfunction

//===========================================================================
function InitTrig_The_Prophet_Circles3 takes nothing returns nothing
    set gg_trg_The_Prophet_Circles3 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_The_Prophet_Circles3, gg_rct_MedivhFlight03 )
    call TriggerAddCondition( gg_trg_The_Prophet_Circles3, Condition( function Trig_The_Prophet_Circles3_Conditions ) )
    call TriggerAddAction( gg_trg_The_Prophet_Circles3, function Trig_The_Prophet_Circles3_Actions )
endfunction

//===========================================================================
// Trigger: The Prophet Circles4
//===========================================================================
function Trig_The_Prophet_Circles4_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Medivh ) ) then
        return false
    endif
    if ( not ( udg_MedivhCanCircle == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_The_Prophet_Circles4_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ( udg_Medivh, "move", GetRectCenter(gg_rct_MedivhFlight05) )
endfunction

//===========================================================================
function InitTrig_The_Prophet_Circles4 takes nothing returns nothing
    set gg_trg_The_Prophet_Circles4 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_The_Prophet_Circles4, gg_rct_MedivhFlight04 )
    call TriggerAddCondition( gg_trg_The_Prophet_Circles4, Condition( function Trig_The_Prophet_Circles4_Conditions ) )
    call TriggerAddAction( gg_trg_The_Prophet_Circles4, function Trig_The_Prophet_Circles4_Actions )
endfunction

//===========================================================================
// Trigger: The Prophet Circles5
//===========================================================================
function Trig_The_Prophet_Circles5_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Medivh ) ) then
        return false
    endif
    if ( not ( udg_MedivhCanCircle == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_The_Prophet_Circles5_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ( udg_Medivh, "move", GetRectCenter(gg_rct_MedivhFlight06) )
endfunction

//===========================================================================
function InitTrig_The_Prophet_Circles5 takes nothing returns nothing
    set gg_trg_The_Prophet_Circles5 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_The_Prophet_Circles5, gg_rct_MedivhFlight05 )
    call TriggerAddCondition( gg_trg_The_Prophet_Circles5, Condition( function Trig_The_Prophet_Circles5_Conditions ) )
    call TriggerAddAction( gg_trg_The_Prophet_Circles5, function Trig_The_Prophet_Circles5_Actions )
endfunction

//===========================================================================
// Trigger: The Prophet Circles6
//===========================================================================
function Trig_The_Prophet_Circles6_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Medivh ) ) then
        return false
    endif
    if ( not ( udg_MedivhCanCircle == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_The_Prophet_Circles6_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ( udg_Medivh, "move", GetRectCenter(gg_rct_MedivhFlight07) )
endfunction

//===========================================================================
function InitTrig_The_Prophet_Circles6 takes nothing returns nothing
    set gg_trg_The_Prophet_Circles6 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_The_Prophet_Circles6, gg_rct_MedivhFlight06 )
    call TriggerAddCondition( gg_trg_The_Prophet_Circles6, Condition( function Trig_The_Prophet_Circles6_Conditions ) )
    call TriggerAddAction( gg_trg_The_Prophet_Circles6, function Trig_The_Prophet_Circles6_Actions )
endfunction

//===========================================================================
// Trigger: The Prophet Circles7
//===========================================================================
function Trig_The_Prophet_Circles7_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Medivh ) ) then
        return false
    endif
    if ( not ( udg_MedivhCanCircle == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_The_Prophet_Circles7_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ( udg_Medivh, "move", GetRectCenter(gg_rct_MedivhFlight08) )
endfunction

//===========================================================================
function InitTrig_The_Prophet_Circles7 takes nothing returns nothing
    set gg_trg_The_Prophet_Circles7 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_The_Prophet_Circles7, gg_rct_MedivhFlight07 )
    call TriggerAddCondition( gg_trg_The_Prophet_Circles7, Condition( function Trig_The_Prophet_Circles7_Conditions ) )
    call TriggerAddAction( gg_trg_The_Prophet_Circles7, function Trig_The_Prophet_Circles7_Actions )
endfunction

//===========================================================================
// Trigger: The Prophet Circles8
//===========================================================================
function Trig_The_Prophet_Circles8_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Medivh ) ) then
        return false
    endif
    if ( not ( udg_MedivhCanCircle == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_The_Prophet_Circles8_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ( udg_Medivh, "move", GetRectCenter(gg_rct_MedivhFlight09) )
endfunction

//===========================================================================
function InitTrig_The_Prophet_Circles8 takes nothing returns nothing
    set gg_trg_The_Prophet_Circles8 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_The_Prophet_Circles8, gg_rct_MedivhFlight08 )
    call TriggerAddCondition( gg_trg_The_Prophet_Circles8, Condition( function Trig_The_Prophet_Circles8_Conditions ) )
    call TriggerAddAction( gg_trg_The_Prophet_Circles8, function Trig_The_Prophet_Circles8_Actions )
endfunction

//===========================================================================
// Trigger: The Prophet Circles9
//===========================================================================
function Trig_The_Prophet_Circles9_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Medivh ) ) then
        return false
    endif
    if ( not ( udg_MedivhCanCircle == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_The_Prophet_Circles9_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ( udg_Medivh, "move", GetRectCenter(gg_rct_MedivhFlight10) )
endfunction

//===========================================================================
function InitTrig_The_Prophet_Circles9 takes nothing returns nothing
    set gg_trg_The_Prophet_Circles9 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_The_Prophet_Circles9, gg_rct_MedivhFlight09 )
    call TriggerAddCondition( gg_trg_The_Prophet_Circles9, Condition( function Trig_The_Prophet_Circles9_Conditions ) )
    call TriggerAddAction( gg_trg_The_Prophet_Circles9, function Trig_The_Prophet_Circles9_Actions )
endfunction

//===========================================================================
// Trigger: The Prophet Circles10
//===========================================================================
function Trig_The_Prophet_Circles10_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Medivh ) ) then
        return false
    endif
    if ( not ( udg_MedivhCanCircle == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_The_Prophet_Circles10_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ( udg_Medivh, "move", GetRectCenter(gg_rct_MedivhFlight11) )
endfunction

//===========================================================================
function InitTrig_The_Prophet_Circles10 takes nothing returns nothing
    set gg_trg_The_Prophet_Circles10 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_The_Prophet_Circles10, gg_rct_MedivhFlight10 )
    call TriggerAddCondition( gg_trg_The_Prophet_Circles10, Condition( function Trig_The_Prophet_Circles10_Conditions ) )
    call TriggerAddAction( gg_trg_The_Prophet_Circles10, function Trig_The_Prophet_Circles10_Actions )
endfunction

//===========================================================================
// Trigger: The Prophet Circles11
//===========================================================================
function Trig_The_Prophet_Circles11_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Medivh ) ) then
        return false
    endif
    if ( not ( udg_MedivhCanCircle == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_The_Prophet_Circles11_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ( udg_Medivh, "move", GetRectCenter(gg_rct_MedivhFlight12) )
endfunction

//===========================================================================
function InitTrig_The_Prophet_Circles11 takes nothing returns nothing
    set gg_trg_The_Prophet_Circles11 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_The_Prophet_Circles11, gg_rct_MedivhFlight11 )
    call TriggerAddCondition( gg_trg_The_Prophet_Circles11, Condition( function Trig_The_Prophet_Circles11_Conditions ) )
    call TriggerAddAction( gg_trg_The_Prophet_Circles11, function Trig_The_Prophet_Circles11_Actions )
endfunction

//===========================================================================
// Trigger: The Prophet Circles12
//===========================================================================
function Trig_The_Prophet_Circles12_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Medivh ) ) then
        return false
    endif
    if ( not ( udg_MedivhCanCircle == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_The_Prophet_Circles12_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ( udg_Medivh, "move", GetRectCenter(gg_rct_MedivhFlight01) )
endfunction

//===========================================================================
function InitTrig_The_Prophet_Circles12 takes nothing returns nothing
    set gg_trg_The_Prophet_Circles12 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_The_Prophet_Circles12, gg_rct_MedivhFlight12 )
    call TriggerAddCondition( gg_trg_The_Prophet_Circles12, Condition( function Trig_The_Prophet_Circles12_Conditions ) )
    call TriggerAddAction( gg_trg_The_Prophet_Circles12, function Trig_The_Prophet_Circles12_Actions )
endfunction

//===========================================================================
// Trigger: Medivh Reaches Home
//===========================================================================
function Trig_Medivh_Reaches_Home_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Medivh ) ) then
        return false
    endif
    return true
endfunction

function Trig_Medivh_Reaches_Home_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 1.00 )
    call SetUnitFacingTimed( udg_Medivh, 315.00, 0 )
endfunction

//===========================================================================
function InitTrig_Medivh_Reaches_Home takes nothing returns nothing
    set gg_trg_Medivh_Reaches_Home = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Medivh_Reaches_Home, gg_rct_EndCin_Medivh_Waits_Here )
    call TriggerAddCondition( gg_trg_Medivh_Reaches_Home, Condition( function Trig_Medivh_Reaches_Home_Conditions ) )
    call TriggerAddAction( gg_trg_Medivh_Reaches_Home, function Trig_Medivh_Reaches_Home_Actions )
endfunction

//===========================================================================
// Trigger: Intro Time Stop
//===========================================================================
function Trig_Intro_Time_Stop_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Intro_Time_Stop_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call SetTimeOfDayScalePercentBJ( 100.00 )
    call SetTimeOfDay( 6.50 )
    set udg_SlowDayAllowed = true
    call EnableDawnDusk( true )
endfunction

//===========================================================================
function InitTrig_Intro_Time_Stop takes nothing returns nothing
    set gg_trg_Intro_Time_Stop = CreateTrigger(  )
    call DisableTrigger( gg_trg_Intro_Time_Stop )
    call TriggerRegisterGameStateEventTimeOfDay( gg_trg_Intro_Time_Stop, GREATER_THAN_OR_EQUAL, 6.50 )
    call TriggerAddCondition( gg_trg_Intro_Time_Stop, Condition( function Trig_Intro_Time_Stop_Conditions ) )
    call TriggerAddAction( gg_trg_Intro_Time_Stop, function Trig_Intro_Time_Stop_Actions )
endfunction

//===========================================================================
// Trigger: Gameplay
//===========================================================================
function Trig_Gameplay_Actions takes nothing returns nothing
    call QueuedTriggerAddBJ( gg_trg_Waste_Queue_Time, true )
    call QueuedTriggerAddBJ( gg_trg_Prophet_Discover_Q, true )
    call QueuedTriggerAddBJ( gg_trg_S1_SelectThrall_Q, true )
endfunction

//===========================================================================
function InitTrig_Gameplay takes nothing returns nothing
    set gg_trg_Gameplay = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Gameplay, function Trig_Gameplay_Actions )
endfunction

//===========================================================================
// Trigger: Waste Queue Time
//
// The sole purpose of this trigger is to hold up the trigger queue for a few moments at the start of the mission.
// This prevents other triggers from filling the queue and executing, giving the user a moment to settle in and relax.
//===========================================================================
function Trig_Waste_Queue_Time_Actions takes nothing returns nothing
    call TriggerSleepAction( 1.50 )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Waste_Queue_Time takes nothing returns nothing
    set gg_trg_Waste_Queue_Time = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Waste_Queue_Time, function Trig_Waste_Queue_Time_Actions )
endfunction

//===========================================================================
// Trigger: End Cinematic
//===========================================================================
function Trig_End_Cinematic_Func018002 takes nothing returns nothing
    call ShowUnitHide( GetEnumUnit() )
endfunction

function Trig_End_Cinematic_Func028001 takes nothing returns boolean
    return ( udg_EndSkipped == true )
endfunction

function Trig_End_Cinematic_Func037001 takes nothing returns boolean
    return ( udg_EndSkipped == true )
endfunction

function Trig_End_Cinematic_Func041001 takes nothing returns boolean
    return ( udg_EndSkipped == true )
endfunction

function Trig_End_Cinematic_Func046001 takes nothing returns boolean
    return ( udg_EndSkipped == true )
endfunction

function Trig_End_Cinematic_Func053001 takes nothing returns boolean
    return ( udg_EndSkipped == true )
endfunction

function Trig_End_Cinematic_Func057001 takes nothing returns boolean
    return ( udg_EndSkipped == true )
endfunction

function Trig_End_Cinematic_Func060001 takes nothing returns boolean
    return ( udg_EndSkipped == true )
endfunction

function Trig_End_Cinematic_Func064001 takes nothing returns boolean
    return ( udg_EndSkipped == true )
endfunction

function Trig_End_Cinematic_Func071001 takes nothing returns boolean
    return ( udg_EndSkipped == true )
endfunction

function Trig_End_Cinematic_Func078001 takes nothing returns boolean
    return ( udg_EndSkipped == true )
endfunction

function Trig_End_Cinematic_Func084001 takes nothing returns boolean
    return ( udg_EndSkipped == true )
endfunction

function Trig_End_Cinematic_Func088001 takes nothing returns boolean
    return ( udg_EndSkipped == true )
endfunction

function Trig_End_Cinematic_Func095001 takes nothing returns boolean
    return ( udg_EndSkipped == true )
endfunction

function Trig_End_Cinematic_Func101001 takes nothing returns boolean
    return ( udg_EndSkipped == true )
endfunction

function Trig_End_Cinematic_Func106001 takes nothing returns boolean
    return ( udg_EndSkipped == true )
endfunction

function Trig_End_Cinematic_Func110001 takes nothing returns boolean
    return ( udg_EndSkipped == true )
endfunction

function Trig_End_Cinematic_Func113001 takes nothing returns boolean
    return ( udg_EndSkipped == true )
endfunction

function Trig_End_Cinematic_Func120001 takes nothing returns boolean
    return ( udg_EndSkipped == true )
endfunction

function Trig_End_Cinematic_Func126001 takes nothing returns boolean
    return ( udg_EndSkipped == true )
endfunction

function Trig_End_Cinematic_Func129001 takes nothing returns boolean
    return ( udg_EndSkipped == true )
endfunction

function Trig_End_Cinematic_Func132001 takes nothing returns boolean
    return ( udg_EndSkipped == true )
endfunction

function Trig_End_Cinematic_Func151001 takes nothing returns boolean
    return ( udg_EndSkipped == true )
endfunction

function Trig_End_Cinematic_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Next_Level_Prep )
    call CommentString( "Make sure Thrall survives" )
    call SetUnitInvulnerable( udg_Thrall, true )
    call UnitRemoveBuffsBJ( bj_REMOVEBUFFS_ALL, udg_Thrall )
    call CommentString( "Fade out" )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 2.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 2.00 )
    call CinematicModeBJ( true, GetPlayersAll() )
    call TriggerSleepAction( 0.10 )
    call CommentString( "Prep" )
    call PlayThematicMusicBJ( "Sound\\Music\\mp3Music\\SadMystery.mp3" )
    call SetTimeOfDay( 24.00 )
    call UseTimeOfDayBJ( false )
    call SetSkyModel( "Environment\\Sky\\FelwoodSky\\FelwoodSky.mdl" )
    call AddWeatherEffectSaveLast( gg_rct_Ending_Rain, 'RLlr' )
    call EnableWeatherEffect( GetLastCreatedWeatherEffect(), true )
    call ClearSelection(  )
    call ForGroup( GetUnitsOfPlayerAndTypeId(udg_APlayer01, 'ogru'), function Trig_End_Cinematic_Func018002 )
    call SetUnitPositionLoc( udg_Medivh, GetRectCenter(gg_rct_EndCin_Medivh) )
    call SetUnitPositionLoc( udg_Thrall, GetRectCenter(gg_rct_EndCinThrall) )
    call IssueImmediateOrderBJ( udg_Medivh, "unravenform" )
    call IssueImmediateOrderBJ( udg_Thrall, "stop" )
    call SetUnitFacingToFaceUnitTimed( udg_Thrall, udg_Medivh, 0 )
    call SetUnitFacingToFaceUnitTimed( udg_Medivh, udg_Thrall, 0 )
    call CommentString( "NOW SKIPPABLE" )
    call EnableTrigger( gg_trg_End_Cinematic_Skip )
    call TriggerSleepAction( 0.10 )
    if ( Trig_End_Cinematic_Func028001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CameraSetupApplyForPlayer( true, gg_cam_Medivh_Transform, udg_APlayer01, 0 )
    call VolumeGroupResetBJ(  )
    call VolumeGroupSetVolumeBJ( SOUND_VOLUMEGROUP_MUSIC, 55.00 )
    call AttachSoundToUnitBJ( gg_snd_DruidOfTheTalonMorph1, udg_Medivh )
    call PlaySoundBJ( gg_snd_DruidOfTheTalonMorph1 )
    call CommentString( "Fade in" )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    if ( Trig_End_Cinematic_Func037001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Medivh, "TRIGSTR_219", gg_snd_T01Medivh59, "TRIGSTR_220", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Medivh59, 0 )
    if ( Trig_End_Cinematic_Func041001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CameraSetupApplyForPlayer( true, gg_cam_EndCin1, udg_APlayer01, 0 )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Thrall, "TRIGSTR_221", gg_snd_T01Thrall60, "TRIGSTR_222", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Thrall60, 0 )
    if ( Trig_End_Cinematic_Func046001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetDoodadAnimationRectBJ( "stand", 'YOlb', gg_rct_Lightning2 )
    call SetSoundVolumeBJ( gg_snd_LightningBolt, 30.00 )
    call PlaySoundBJ( gg_snd_LightningBolt )
    call SetSoundVolumeBJ( gg_snd_RollingThunder1, 60.00 )
    call PlaySoundBJ( gg_snd_RollingThunder1 )
    call TriggerSleepAction( 0.25 )
    if ( Trig_End_Cinematic_Func053001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetDoodadAnimationRectBJ( "stand", 'YOlb', gg_rct_Lightning4 )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Medivh, "TRIGSTR_223", gg_snd_T01Medivh61, "TRIGSTR_224", bj_TIMETYPE_ADD, 0, false )
    call TriggerSleepAction( 7.45 )
    if ( Trig_End_Cinematic_Func057001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CameraSetupApplyForPlayer( true, gg_cam_EndCin2, udg_APlayer01, 0 )
    call WaitForSoundBJ( gg_snd_T01Medivh61, 0 )
    if ( Trig_End_Cinematic_Func060001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Thrall, "TRIGSTR_225", gg_snd_T01Thrall62, "TRIGSTR_226", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Thrall62, 0 )
    if ( Trig_End_Cinematic_Func064001() ) then
        return
    else
        call DoNothing(  )
    endif
    call ResetUnitLookAt( udg_Medivh )
    call IssuePointOrderLocBJ( udg_Medivh, "move", GetRectCenter(gg_rct_Medivh_Move_to) )
    call SetUnitFacingToFaceLocTimed( udg_Medivh, GetRectCenter(gg_rct_Medivh_Look_At), 0 )
    call CameraSetupApplyForPlayer( true, gg_cam_Medivh_Human_Line, udg_APlayer01, 0 )
    call SetDoodadAnimationRectBJ( "stand", 'YOlb', gg_rct_Lightning2 )
    call TriggerSleepAction( 0.20 )
    if ( Trig_End_Cinematic_Func071001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Medivh, "TRIGSTR_227", gg_snd_T01Medivh63, "TRIGSTR_228", bj_TIMETYPE_ADD, 0, false )
    call SetDoodadAnimationRectBJ( "stand", 'YOlb', gg_rct_Lightning2 )
    call SetSoundVolumeBJ( gg_snd_RollingThunder1, 50.00 )
    call PlaySoundBJ( gg_snd_RollingThunder1 )
    call WaitForSoundBJ( gg_snd_T01Medivh63, 0 )
    if ( Trig_End_Cinematic_Func078001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetDoodadAnimationRectBJ( "stand", 'YOlb', gg_rct_Lightning3 )
    call IssuePointOrderLocBJ( udg_Thrall, "move", GetRectCenter(gg_rct_Thrall_Move_to) )
    call SetSoundVolumeBJ( gg_snd_RollingThunder1, 50.00 )
    call PlaySoundBJ( gg_snd_RollingThunder1 )
    call TriggerSleepAction( 1.00 )
    if ( Trig_End_Cinematic_Func084001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Thrall, "TRIGSTR_229", gg_snd_T01Thrall64, "TRIGSTR_230", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Thrall64, 0 )
    if ( Trig_End_Cinematic_Func088001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetDoodadAnimationRectBJ( "stand", 'YOlb', gg_rct_Lightning1 )
    call SetSoundVolumeBJ( gg_snd_LightningBolt, 30.00 )
    call PlaySoundBJ( gg_snd_LightningBolt )
    call SetSoundVolumeBJ( gg_snd_RollingThunder1, 60.00 )
    call PlaySoundBJ( gg_snd_RollingThunder1 )
    call TriggerSleepAction( 0.20 )
    if ( Trig_End_Cinematic_Func095001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetDoodadAnimationRectBJ( "stand", 'YOlb', gg_rct_Lightning1 )
    call CameraSetupApplyForPlayer( true, gg_cam_Medivh_Human_02, udg_APlayer01, 6.50 )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Medivh, "TRIGSTR_231", gg_snd_T01Medivh65, "TRIGSTR_232", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Medivh65, 0 )
    if ( Trig_End_Cinematic_Func101001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitLookAt( udg_Thrall, "bone_head", udg_Medivh, 0, 0, 90 )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Thrall, "TRIGSTR_233", gg_snd_T01Thrall66, "TRIGSTR_234", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Thrall66, 0.50 )
    if ( Trig_End_Cinematic_Func106001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Medivh, "TRIGSTR_235", gg_snd_T01Medivh67, "TRIGSTR_236", bj_TIMETYPE_ADD, 0, false )
    call TriggerSleepAction( 3.00 )
    if ( Trig_End_Cinematic_Func110001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitFacingToFaceUnitTimed( udg_Medivh, udg_Thrall, 0.30 )
    call WaitForSoundBJ( gg_snd_T01Medivh67, 0 )
    if ( Trig_End_Cinematic_Func113001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetDoodadAnimationRectBJ( "stand", 'YOlb', gg_rct_Lightning2 )
    call SetSoundVolumeBJ( gg_snd_LightningBolt, 30.00 )
    call PlaySoundBJ( gg_snd_LightningBolt )
    call SetSoundVolumeBJ( gg_snd_RollingThunder1, 60.00 )
    call PlaySoundBJ( gg_snd_RollingThunder1 )
    call TriggerSleepAction( 0.25 )
    if ( Trig_End_Cinematic_Func120001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetDoodadAnimationRectBJ( "stand", 'YOlb', gg_rct_Lightning2 )
    call IssueImmediateOrderBJ( udg_Medivh, "ravenform" )
    call AttachSoundToUnitBJ( gg_snd_DruidOfTheTalonMorph1, udg_Medivh )
    call PlaySoundBJ( gg_snd_DruidOfTheTalonMorph1 )
    call TriggerSleepAction( 0.50 )
    if ( Trig_End_Cinematic_Func126001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( udg_Medivh, "move", GetRectCenter(gg_rct_Medivh_Look_At) )
    call TriggerSleepAction( 1.75 )
    if ( Trig_End_Cinematic_Func129001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetDoodadAnimationRectBJ( "stand", 'YOlb', gg_rct_Lightning4 )
    call TriggerSleepAction( 0.25 )
    if ( Trig_End_Cinematic_Func132001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetDoodadAnimationRectBJ( "stand", 'YOlb', gg_rct_Lightning4 )
    call SetSoundVolumeBJ( gg_snd_RollingThunder1, 50.00 )
    call PlaySoundBJ( gg_snd_RollingThunder1 )
    call CameraSetupApplyForPlayer( true, gg_cam_End_Alternate, udg_APlayer01, 0.00 )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Thrall, "TRIGSTR_237", gg_snd_T01Thrall68, "TRIGSTR_238", bj_TIMETYPE_ADD, 0, false )
    call SetSoundVolumeBJ( gg_snd_RollingThunder1, 50.00 )
    call PlaySoundBJ( gg_snd_RollingThunder1 )
    call SetStackedSoundBJ( false, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop01 )
    call SetStackedSoundBJ( false, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop02 )
    call SetStackedSoundBJ( false, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop03 )
    call SetStackedSoundBJ( false, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop04 )
    call SetStackedSoundBJ( false, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop05 )
    call SetStackedSoundBJ( false, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop06 )
    call SetStackedSoundBJ( false, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop07 )
    call SetStackedSoundBJ( false, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop08 )
    call WaitForSoundBJ( gg_snd_T01Thrall68, 0.00 )
    call TriggerSleepAction( 1.00 )
    if ( Trig_End_Cinematic_Func151001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "THIS IS NO LONGER CANCELLABLE, TAKE IT MOKEY" )
    call DisableTrigger( gg_trg_End_Cinematic_Skip )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 2.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 2 )
    call ConditionalTriggerExecute( gg_trg_Next_Level_Run )
endfunction

//===========================================================================
function InitTrig_End_Cinematic takes nothing returns nothing
    set gg_trg_End_Cinematic = CreateTrigger(  )
    call TriggerAddAction( gg_trg_End_Cinematic, function Trig_End_Cinematic_Actions )
endfunction

//===========================================================================
// Trigger: End Cinematic Skip
//===========================================================================
function Trig_End_Cinematic_Skip_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_EndSkipped = true
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 2.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 2 )
    call ConditionalTriggerExecute( gg_trg_Next_Level_Run )
endfunction

//===========================================================================
function InitTrig_End_Cinematic_Skip takes nothing returns nothing
    set gg_trg_End_Cinematic_Skip = CreateTrigger(  )
    call DisableTrigger( gg_trg_End_Cinematic_Skip )
    call TriggerRegisterPlayerEventEndCinematic( gg_trg_End_Cinematic_Skip, Player(0) )
    call TriggerAddAction( gg_trg_End_Cinematic_Skip, function Trig_End_Cinematic_Skip_Actions )
endfunction

//===========================================================================
// Trigger: Next Level Prep
//===========================================================================
function Trig_Next_Level_Prep_Actions takes nothing returns nothing
    call CommentString( "Enable missions" )
    call SetMissionAvailableBJ( true, bj_MISSION_INDEX_T01 )
    call CommentString( "Save heroes" )
    call InitGameCacheBJ( "Campaigns.w3v" )
    call StoreUnitBJ( udg_Thrall, "Thrall", "Tutorial02", GetLastCreatedGameCacheBJ() )
    call SaveGameCacheBJ( GetLastCreatedGameCacheBJ() )
endfunction

//===========================================================================
function InitTrig_Next_Level_Prep takes nothing returns nothing
    set gg_trg_Next_Level_Prep = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Next_Level_Prep, function Trig_Next_Level_Prep_Actions )
endfunction

//===========================================================================
// Trigger: Next Level Run
//===========================================================================
function Trig_Next_Level_Run_Actions takes nothing returns nothing
    call SetNextLevelBJ( "Maps\\Campaign\\Prologue02.w3m" )
    call CustomVictoryBJ( udg_APlayer01, true, true )
endfunction

//===========================================================================
function InitTrig_Next_Level_Run takes nothing returns nothing
    set gg_trg_Next_Level_Run = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Next_Level_Run, function Trig_Next_Level_Run_Actions )
endfunction

//===========================================================================
// Trigger: Victory Cheat
//===========================================================================
function Trig_Victory_Cheat_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Victory_Cheat_Actions takes nothing returns nothing
    set udg_GameOver = true
    call ConditionalTriggerExecute( gg_trg_Next_Level_Prep )
    call ConditionalTriggerExecute( gg_trg_Next_Level_Run )
endfunction

//===========================================================================
function InitTrig_Victory_Cheat takes nothing returns nothing
    set gg_trg_Victory_Cheat = CreateTrigger(  )
    call TriggerRegisterPlayerEventVictory( gg_trg_Victory_Cheat, Player(0) )
    call TriggerAddCondition( gg_trg_Victory_Cheat, Condition( function Trig_Victory_Cheat_Conditions ) )
    call TriggerAddAction( gg_trg_Victory_Cheat, function Trig_Victory_Cheat_Actions )
endfunction

//===========================================================================
// Trigger: Defeat Cheat
//===========================================================================
function Trig_Defeat_Cheat_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Defeat_Cheat_Actions takes nothing returns nothing
    set udg_GameOver = true
    call CustomDefeatBJ( udg_APlayer01, "TRIGSTR_212" )
endfunction

//===========================================================================
function InitTrig_Defeat_Cheat takes nothing returns nothing
    set gg_trg_Defeat_Cheat = CreateTrigger(  )
    call TriggerRegisterPlayerEventDefeat( gg_trg_Defeat_Cheat, Player(0) )
    call TriggerAddCondition( gg_trg_Defeat_Cheat, Condition( function Trig_Defeat_Cheat_Conditions ) )
    call TriggerAddAction( gg_trg_Defeat_Cheat, function Trig_Defeat_Cheat_Actions )
endfunction

//===========================================================================
// Trigger: Victory Found Medivh
//===========================================================================
function Trig_Victory_Found_Medivh_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_APlayer01 ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Victory_Found_Medivh_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_GameOver = true
    call CommentString( "Make sure Thrall survives" )
    call SetUnitInvulnerable( udg_Thrall, true )
    call UnitRemoveBuffsBJ( bj_REMOVEBUFFS_ALL, udg_Thrall )
    call CommentString( "Get rid of the last banner" )
    call PlaySoundBJ( udg_GoodJobSound )
    call FogModifierStop( udg_VisibilityVictory )
    call SetDoodadAnimationRectBJ( "death", 'LOo2', gg_rct_SpotVictory )
    call SetUnitColor( udg_CircleVictory, GetPlayerColor(Player(PLAYER_NEUTRAL_PASSIVE)) )
    call TriggerSleepAction( 2 )
    call QueuedTriggerAddBJ( gg_trg_Prophet_Complete_Q, true )
    call QueuedTriggerAddBJ( gg_trg_End_Cinematic, true )
endfunction

//===========================================================================
function InitTrig_Victory_Found_Medivh takes nothing returns nothing
    set gg_trg_Victory_Found_Medivh = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Victory_Found_Medivh, gg_rct_SpotVictory )
    call TriggerRegisterEnterRectSimple( gg_trg_Victory_Found_Medivh, gg_rct_SpotBypassVictoryA )
    call TriggerRegisterEnterRectSimple( gg_trg_Victory_Found_Medivh, gg_rct_SpotBypassVictoryB )
    call TriggerRegisterEnterRectSimple( gg_trg_Victory_Found_Medivh, gg_rct_SpotBypassVictoryC )
    call TriggerAddCondition( gg_trg_Victory_Found_Medivh, Condition( function Trig_Victory_Found_Medivh_Conditions ) )
    call TriggerAddAction( gg_trg_Victory_Found_Medivh, function Trig_Victory_Found_Medivh_Actions )
endfunction

//===========================================================================
// Trigger: Defeat Thrall Dies
//===========================================================================
function Trig_Defeat_Thrall_Dies_Conditions takes nothing returns boolean
    if ( not ( GetDyingUnit() == udg_Thrall ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Defeat_Thrall_Dies_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_GameOver = true
    call ConditionalTriggerExecute( gg_trg_MissionFailed_ThrallDead )
    call TriggerSleepAction( 2 )
    call CustomDefeatBJ( udg_APlayer01, "TRIGSTR_381" )
endfunction

//===========================================================================
function InitTrig_Defeat_Thrall_Dies takes nothing returns nothing
    set gg_trg_Defeat_Thrall_Dies = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Defeat_Thrall_Dies, Player(0), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Defeat_Thrall_Dies, Condition( function Trig_Defeat_Thrall_Dies_Conditions ) )
    call TriggerAddAction( gg_trg_Defeat_Thrall_Dies, function Trig_Defeat_Thrall_Dies_Actions )
endfunction

//===========================================================================
// Trigger: Hint RightClickMove
//===========================================================================
function Trig_Hint_RightClickMove_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_281" )
endfunction

//===========================================================================
function InitTrig_Hint_RightClickMove takes nothing returns nothing
    set gg_trg_Hint_RightClickMove = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Hint_RightClickMove, function Trig_Hint_RightClickMove_Actions )
endfunction

//===========================================================================
// Trigger: Hint Scrolling
//===========================================================================
function Trig_Hint_Scrolling_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_282" )
endfunction

//===========================================================================
function InitTrig_Hint_Scrolling takes nothing returns nothing
    set gg_trg_Hint_Scrolling = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Hint_Scrolling, function Trig_Hint_Scrolling_Actions )
endfunction

//===========================================================================
// Trigger: Hint ArrowKeys
//===========================================================================
function Trig_Hint_ArrowKeys_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_459" )
endfunction

//===========================================================================
function InitTrig_Hint_ArrowKeys takes nothing returns nothing
    set gg_trg_Hint_ArrowKeys = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Hint_ArrowKeys, function Trig_Hint_ArrowKeys_Actions )
endfunction

//===========================================================================
// Trigger: Hint MessageLog
//===========================================================================
function Trig_Hint_MessageLog_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_460" )
endfunction

//===========================================================================
function InitTrig_Hint_MessageLog takes nothing returns nothing
    set gg_trg_Hint_MessageLog = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Hint_MessageLog, function Trig_Hint_MessageLog_Actions )
endfunction

//===========================================================================
// Trigger: Hint ClickDragSelect
//===========================================================================
function Trig_Hint_ClickDragSelect_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_300" )
endfunction

//===========================================================================
function InitTrig_Hint_ClickDragSelect takes nothing returns nothing
    set gg_trg_Hint_ClickDragSelect = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Hint_ClickDragSelect, function Trig_Hint_ClickDragSelect_Actions )
endfunction

//===========================================================================
// Trigger: Hint RightClickAttack
//===========================================================================
function Trig_Hint_RightClickAttack_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_311" )
endfunction

//===========================================================================
function InitTrig_Hint_RightClickAttack takes nothing returns nothing
    set gg_trg_Hint_RightClickAttack = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Hint_RightClickAttack, function Trig_Hint_RightClickAttack_Actions )
endfunction

//===========================================================================
// Trigger: Hint AttackMove
//===========================================================================
function Trig_Hint_AttackMove_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_320" )
endfunction

//===========================================================================
function InitTrig_Hint_AttackMove takes nothing returns nothing
    set gg_trg_Hint_AttackMove = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Hint_AttackMove, function Trig_Hint_AttackMove_Actions )
endfunction

//===========================================================================
// Trigger: Hint AutoAttack
//===========================================================================
function Trig_Hint_AutoAttack_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_336" )
endfunction

//===========================================================================
function InitTrig_Hint_AutoAttack takes nothing returns nothing
    set gg_trg_Hint_AutoAttack = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Hint_AutoAttack, function Trig_Hint_AutoAttack_Actions )
endfunction

//===========================================================================
// Trigger: Hint HeroIcon
//===========================================================================
function Trig_Hint_HeroIcon_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_335" )
endfunction

//===========================================================================
function InitTrig_Hint_HeroIcon takes nothing returns nothing
    set gg_trg_Hint_HeroIcon = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Hint_HeroIcon, function Trig_Hint_HeroIcon_Actions )
endfunction

//===========================================================================
// Trigger: Hint PickUpItem
//===========================================================================
function Trig_Hint_PickUpItem_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_360" )
endfunction

//===========================================================================
function InitTrig_Hint_PickUpItem takes nothing returns nothing
    set gg_trg_Hint_PickUpItem = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Hint_PickUpItem, function Trig_Hint_PickUpItem_Actions )
endfunction

//===========================================================================
// Trigger: Hint ItemTooltip
//===========================================================================
function Trig_Hint_ItemTooltip_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_365" )
endfunction

//===========================================================================
function InitTrig_Hint_ItemTooltip takes nothing returns nothing
    set gg_trg_Hint_ItemTooltip = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Hint_ItemTooltip, function Trig_Hint_ItemTooltip_Actions )
endfunction

//===========================================================================
// Trigger: Hint UnitStatus
//===========================================================================
function Trig_Hint_UnitStatus_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_368" )
endfunction

//===========================================================================
function InitTrig_Hint_UnitStatus takes nothing returns nothing
    set gg_trg_Hint_UnitStatus = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Hint_UnitStatus, function Trig_Hint_UnitStatus_Actions )
endfunction

//===========================================================================
// Trigger: Hint UseManaPotion
//===========================================================================
function Trig_Hint_UseManaPotion_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_394" )
endfunction

//===========================================================================
function InitTrig_Hint_UseManaPotion takes nothing returns nothing
    set gg_trg_Hint_UseManaPotion = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Hint_UseManaPotion, function Trig_Hint_UseManaPotion_Actions )
endfunction

//===========================================================================
// Trigger: Hint NightVisibility
//===========================================================================
function Trig_Hint_NightVisibility_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_403" )
endfunction

//===========================================================================
function InitTrig_Hint_NightVisibility takes nothing returns nothing
    set gg_trg_Hint_NightVisibility = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Hint_NightVisibility, function Trig_Hint_NightVisibility_Actions )
endfunction

//===========================================================================
// Trigger: Hint UnexploredAreas
//===========================================================================
function Trig_Hint_UnexploredAreas_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_411" )
endfunction

//===========================================================================
function InitTrig_Hint_UnexploredAreas takes nothing returns nothing
    set gg_trg_Hint_UnexploredAreas = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Hint_UnexploredAreas, function Trig_Hint_UnexploredAreas_Actions )
endfunction

//===========================================================================
// Trigger: Hint SleepersWake
//===========================================================================
function Trig_Hint_SleepersWake_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_420" )
endfunction

//===========================================================================
function InitTrig_Hint_SleepersWake takes nothing returns nothing
    set gg_trg_Hint_SleepersWake = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Hint_SleepersWake, function Trig_Hint_SleepersWake_Actions )
endfunction

//===========================================================================
// Trigger: Hint CreepLevel
//===========================================================================
function Trig_Hint_CreepLevel_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_436" )
endfunction

//===========================================================================
function InitTrig_Hint_CreepLevel takes nothing returns nothing
    set gg_trg_Hint_CreepLevel = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Hint_CreepLevel, function Trig_Hint_CreepLevel_Actions )
endfunction

//===========================================================================
// Trigger: Hint Tomes
//===========================================================================
function Trig_Hint_Tomes_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_442" )
endfunction

//===========================================================================
function InitTrig_Hint_Tomes takes nothing returns nothing
    set gg_trg_Hint_Tomes = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Hint_Tomes, function Trig_Hint_Tomes_Actions )
endfunction

//===========================================================================
// Trigger: MissionFailed ThrallDead
//===========================================================================
function Trig_MissionFailed_ThrallDead_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_MISSIONFAILED, "TRIGSTR_382" )
endfunction

//===========================================================================
function InitTrig_MissionFailed_ThrallDead takes nothing returns nothing
    set gg_trg_MissionFailed_ThrallDead = CreateTrigger(  )
    call TriggerAddAction( gg_trg_MissionFailed_ThrallDead, function Trig_MissionFailed_ThrallDead_Actions )
endfunction

//===========================================================================
// Trigger: QuestProphet Create
//===========================================================================
function Trig_QuestProphet_Create_Conditions takes nothing returns boolean
    if ( not ( udg_QuestProphetCreated == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_QuestProphet_Create_Actions takes nothing returns nothing
    set udg_QuestProphetCreated = true
    call CreateQuestBJ( bj_QUESTTYPE_REQ_UNDISCOVERED, "TRIGSTR_214", "TRIGSTR_215", "ReplaceableTextures\\CommandButtons\\BTNMedivh.tga" )
    set udg_QUESTFindProphet = GetLastCreatedQuestBJ()
    call CreateQuestItemBJ( GetLastCreatedQuestBJ(), "TRIGSTR_216" )
    call CreateQuestItemBJ( GetLastCreatedQuestBJ(), "TRIGSTR_217" )
endfunction

//===========================================================================
function InitTrig_QuestProphet_Create takes nothing returns nothing
    set gg_trg_QuestProphet_Create = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_QuestProphet_Create, Condition( function Trig_QuestProphet_Create_Conditions ) )
    call TriggerAddAction( gg_trg_QuestProphet_Create, function Trig_QuestProphet_Create_Actions )
endfunction

//===========================================================================
// Trigger: QuestProphet Discover
//===========================================================================
function Trig_QuestProphet_Discover_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_QuestProphet_Create )
    call QuestSetDiscoveredBJ( udg_QUESTFindProphet, true )
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_218" )
endfunction

//===========================================================================
function InitTrig_QuestProphet_Discover takes nothing returns nothing
    set gg_trg_QuestProphet_Discover = CreateTrigger(  )
    call TriggerAddAction( gg_trg_QuestProphet_Discover, function Trig_QuestProphet_Discover_Actions )
endfunction

//===========================================================================
// Trigger: QuestProphet Complete
//===========================================================================
function Trig_QuestProphet_Complete_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_QuestProphet_Create )
    call QuestSetCompletedBJ( udg_QUESTFindProphet, true )
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_COMPLETED, "TRIGSTR_283" )
endfunction

//===========================================================================
function InitTrig_QuestProphet_Complete takes nothing returns nothing
    set gg_trg_QuestProphet_Complete = CreateTrigger(  )
    call TriggerAddAction( gg_trg_QuestProphet_Complete, function Trig_QuestProphet_Complete_Actions )
endfunction

//===========================================================================
// Trigger: Track Unit Deaths
//===========================================================================
function Trig_Track_Unit_Deaths_Actions takes nothing returns nothing
    call GroupRemoveUnitSimple( GetDyingUnit(), udg_YourUnits )
endfunction

//===========================================================================
function InitTrig_Track_Unit_Deaths takes nothing returns nothing
    set gg_trg_Track_Unit_Deaths = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Track_Unit_Deaths, Player(0), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddAction( gg_trg_Track_Unit_Deaths, function Trig_Track_Unit_Deaths_Actions )
endfunction

//===========================================================================
// Trigger: Track Creep Deaths
//===========================================================================
function Trig_Track_Creep_Deaths_Actions takes nothing returns nothing
    call GroupRemoveUnitSimple( GetDyingUnit(), udg_GnollGroup )
    call GroupRemoveUnitSimple( GetDyingUnit(), udg_MurlocGroup )
    call GroupRemoveUnitSimple( GetDyingUnit(), udg_TrollsGroup )
endfunction

//===========================================================================
function InitTrig_Track_Creep_Deaths takes nothing returns nothing
    set gg_trg_Track_Creep_Deaths = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Track_Creep_Deaths, Player(PLAYER_NEUTRAL_AGGRESSIVE), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddAction( gg_trg_Track_Creep_Deaths, function Trig_Track_Creep_Deaths_Actions )
endfunction

//===========================================================================
// Trigger: Thrall Level Limit
//===========================================================================
function Trig_Thrall_Level_Limit_Conditions takes nothing returns boolean
    if ( not ( GetLevelingUnit() == udg_Thrall ) ) then
        return false
    endif
    return true
endfunction

function Trig_Thrall_Level_Limit_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call SuspendHeroXPBJ( false, udg_Thrall )
endfunction

//===========================================================================
function InitTrig_Thrall_Level_Limit takes nothing returns nothing
    set gg_trg_Thrall_Level_Limit = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Thrall_Level_Limit, Player(0), EVENT_PLAYER_HERO_LEVEL )
    call TriggerAddCondition( gg_trg_Thrall_Level_Limit, Condition( function Trig_Thrall_Level_Limit_Conditions ) )
    call TriggerAddAction( gg_trg_Thrall_Level_Limit, function Trig_Thrall_Level_Limit_Actions )
endfunction

//===========================================================================
// Trigger: Thrall Gains Point
//===========================================================================
function Trig_Thrall_Gains_Point_Conditions takes nothing returns boolean
    if ( not ( GetLevelingUnit() == udg_Thrall ) ) then
        return false
    endif
    return true
endfunction

function Trig_Thrall_Gains_Point_Actions takes nothing returns nothing
    set udg_HeroPointsAvailable = ( udg_HeroPointsAvailable + 1 )
endfunction

//===========================================================================
function InitTrig_Thrall_Gains_Point takes nothing returns nothing
    set gg_trg_Thrall_Gains_Point = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Thrall_Gains_Point, Player(0), EVENT_PLAYER_HERO_LEVEL )
    call TriggerAddCondition( gg_trg_Thrall_Gains_Point, Condition( function Trig_Thrall_Gains_Point_Conditions ) )
    call TriggerAddAction( gg_trg_Thrall_Gains_Point, function Trig_Thrall_Gains_Point_Actions )
endfunction

//===========================================================================
// Trigger: Thrall Spends Point
//===========================================================================
function Trig_Thrall_Spends_Point_Conditions takes nothing returns boolean
    if ( not ( GetLearningUnit() == udg_Thrall ) ) then
        return false
    endif
    return true
endfunction

function Trig_Thrall_Spends_Point_Actions takes nothing returns nothing
    set udg_HeroPointsAvailable = ( udg_HeroPointsAvailable - 1 )
endfunction

//===========================================================================
function InitTrig_Thrall_Spends_Point takes nothing returns nothing
    set gg_trg_Thrall_Spends_Point = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Thrall_Spends_Point, Player(0), EVENT_PLAYER_HERO_SKILL )
    call TriggerAddCondition( gg_trg_Thrall_Spends_Point, Condition( function Trig_Thrall_Spends_Point_Conditions ) )
    call TriggerAddAction( gg_trg_Thrall_Spends_Point, function Trig_Thrall_Spends_Point_Actions )
endfunction

//===========================================================================
// Trigger: SlowDay StepA
//===========================================================================
function Trig_SlowDay_StepA_Conditions takes nothing returns boolean
    if ( not ( udg_SlowDayAllowed == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_SlowDay_StepA_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call SetTimeOfDayScalePercentBJ( 80.00 )
endfunction

//===========================================================================
function InitTrig_SlowDay_StepA takes nothing returns nothing
    set gg_trg_SlowDay_StepA = CreateTrigger(  )
    call TriggerRegisterGameStateEventTimeOfDay( gg_trg_SlowDay_StepA, GREATER_THAN, 10.00 )
    call TriggerAddCondition( gg_trg_SlowDay_StepA, Condition( function Trig_SlowDay_StepA_Conditions ) )
    call TriggerAddAction( gg_trg_SlowDay_StepA, function Trig_SlowDay_StepA_Actions )
endfunction

//===========================================================================
// Trigger: SlowDay StepB
//===========================================================================
function Trig_SlowDay_StepB_Conditions takes nothing returns boolean
    if ( not ( udg_SlowDayAllowed == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_SlowDay_StepB_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call SetTimeOfDayScalePercentBJ( 60.00 )
endfunction

//===========================================================================
function InitTrig_SlowDay_StepB takes nothing returns nothing
    set gg_trg_SlowDay_StepB = CreateTrigger(  )
    call TriggerRegisterGameStateEventTimeOfDay( gg_trg_SlowDay_StepB, GREATER_THAN, 13.00 )
    call TriggerAddCondition( gg_trg_SlowDay_StepB, Condition( function Trig_SlowDay_StepB_Conditions ) )
    call TriggerAddAction( gg_trg_SlowDay_StepB, function Trig_SlowDay_StepB_Actions )
endfunction

//===========================================================================
// Trigger: SlowDay StepC
//===========================================================================
function Trig_SlowDay_StepC_Conditions takes nothing returns boolean
    if ( not ( udg_SlowDayAllowed == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_SlowDay_StepC_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call SetTimeOfDayScalePercentBJ( 30.00 )
endfunction

//===========================================================================
function InitTrig_SlowDay_StepC takes nothing returns nothing
    set gg_trg_SlowDay_StepC = CreateTrigger(  )
    call TriggerRegisterGameStateEventTimeOfDay( gg_trg_SlowDay_StepC, GREATER_THAN, 15.00 )
    call TriggerAddCondition( gg_trg_SlowDay_StepC, Condition( function Trig_SlowDay_StepC_Conditions ) )
    call TriggerAddAction( gg_trg_SlowDay_StepC, function Trig_SlowDay_StepC_Actions )
endfunction

//===========================================================================
// Trigger: SlowDay StepD
//===========================================================================
function Trig_SlowDay_StepD_Conditions takes nothing returns boolean
    if ( not ( udg_SlowDayAllowed == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_SlowDay_StepD_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call SetTimeOfDayScalePercentBJ( 10.00 )
endfunction

//===========================================================================
function InitTrig_SlowDay_StepD takes nothing returns nothing
    set gg_trg_SlowDay_StepD = CreateTrigger(  )
    call TriggerRegisterGameStateEventTimeOfDay( gg_trg_SlowDay_StepD, GREATER_THAN, 17.00 )
    call TriggerAddCondition( gg_trg_SlowDay_StepD, Condition( function Trig_SlowDay_StepD_Conditions ) )
    call TriggerAddAction( gg_trg_SlowDay_StepD, function Trig_SlowDay_StepD_Actions )
endfunction

//===========================================================================
// Trigger: SlowDay StepE
//===========================================================================
function Trig_SlowDay_StepE_Conditions takes nothing returns boolean
    if ( not ( udg_SlowDayAllowed == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_SlowDay_StepE_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call SetTimeOfDayScalePercentBJ( 1.00 )
endfunction

//===========================================================================
function InitTrig_SlowDay_StepE takes nothing returns nothing
    set gg_trg_SlowDay_StepE = CreateTrigger(  )
    call TriggerRegisterGameStateEventTimeOfDay( gg_trg_SlowDay_StepE, GREATER_THAN, 17.50 )
    call TriggerAddCondition( gg_trg_SlowDay_StepE, Condition( function Trig_SlowDay_StepE_Conditions ) )
    call TriggerAddAction( gg_trg_SlowDay_StepE, function Trig_SlowDay_StepE_Actions )
endfunction

//===========================================================================
// Trigger: SlowDay StepF
//===========================================================================
function Trig_SlowDay_StepF_Conditions takes nothing returns boolean
    if ( not ( udg_SlowDayAllowed == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_SlowDay_StepF_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call SetTimeOfDayScalePercentBJ( 0.10 )
endfunction

//===========================================================================
function InitTrig_SlowDay_StepF takes nothing returns nothing
    set gg_trg_SlowDay_StepF = CreateTrigger(  )
    call TriggerRegisterGameStateEventTimeOfDay( gg_trg_SlowDay_StepF, GREATER_THAN, 17.70 )
    call TriggerAddCondition( gg_trg_SlowDay_StepF, Condition( function Trig_SlowDay_StepF_Conditions ) )
    call TriggerAddAction( gg_trg_SlowDay_StepF, function Trig_SlowDay_StepF_Actions )
endfunction

//===========================================================================
// Trigger: SlowDay StepG
//===========================================================================
function Trig_SlowDay_StepG_Conditions takes nothing returns boolean
    if ( not ( udg_SlowDayAllowed == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_SlowDay_StepG_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call SetTimeOfDayScalePercentBJ( 0.01 )
endfunction

//===========================================================================
function InitTrig_SlowDay_StepG takes nothing returns nothing
    set gg_trg_SlowDay_StepG = CreateTrigger(  )
    call TriggerRegisterGameStateEventTimeOfDay( gg_trg_SlowDay_StepG, GREATER_THAN, 17.80 )
    call TriggerAddCondition( gg_trg_SlowDay_StepG, Condition( function Trig_SlowDay_StepG_Conditions ) )
    call TriggerAddAction( gg_trg_SlowDay_StepG, function Trig_SlowDay_StepG_Actions )
endfunction

//===========================================================================
// Trigger: SlowNight StepA
//===========================================================================
function Trig_SlowNight_StepA_Conditions takes nothing returns boolean
    if ( not ( udg_SlowNightAllowed == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_SlowNight_StepA_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call SetTimeOfDayScalePercentBJ( 40.00 )
endfunction

//===========================================================================
function InitTrig_SlowNight_StepA takes nothing returns nothing
    set gg_trg_SlowNight_StepA = CreateTrigger(  )
    call TriggerRegisterGameStateEventTimeOfDay( gg_trg_SlowNight_StepA, GREATER_THAN, 18.50 )
    call TriggerAddCondition( gg_trg_SlowNight_StepA, Condition( function Trig_SlowNight_StepA_Conditions ) )
    call TriggerAddAction( gg_trg_SlowNight_StepA, function Trig_SlowNight_StepA_Actions )
endfunction

//===========================================================================
// Trigger: SlowNight StepB
//===========================================================================
function Trig_SlowNight_StepB_Conditions takes nothing returns boolean
    if ( not ( udg_SlowNightAllowed == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_SlowNight_StepB_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call SetTimeOfDayScalePercentBJ( 10.00 )
endfunction

//===========================================================================
function InitTrig_SlowNight_StepB takes nothing returns nothing
    set gg_trg_SlowNight_StepB = CreateTrigger(  )
    call TriggerRegisterGameStateEventTimeOfDay( gg_trg_SlowNight_StepB, GREATER_THAN, 19.50 )
    call TriggerAddCondition( gg_trg_SlowNight_StepB, Condition( function Trig_SlowNight_StepB_Conditions ) )
    call TriggerAddAction( gg_trg_SlowNight_StepB, function Trig_SlowNight_StepB_Actions )
endfunction

//===========================================================================
// Trigger: SlowNight StepC
//===========================================================================
function Trig_SlowNight_StepC_Conditions takes nothing returns boolean
    if ( not ( udg_SlowNightAllowed == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_SlowNight_StepC_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call SetTimeOfDayScalePercentBJ( 4.00 )
endfunction

//===========================================================================
function InitTrig_SlowNight_StepC takes nothing returns nothing
    set gg_trg_SlowNight_StepC = CreateTrigger(  )
    call TriggerRegisterGameStateEventTimeOfDay( gg_trg_SlowNight_StepC, GREATER_THAN, 20.50 )
    call TriggerAddCondition( gg_trg_SlowNight_StepC, Condition( function Trig_SlowNight_StepC_Conditions ) )
    call TriggerAddAction( gg_trg_SlowNight_StepC, function Trig_SlowNight_StepC_Actions )
endfunction

//===========================================================================
// Trigger: SlowNight StepD
//===========================================================================
function Trig_SlowNight_StepD_Conditions takes nothing returns boolean
    if ( not ( udg_SlowNightAllowed == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_SlowNight_StepD_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call SetTimeOfDayScalePercentBJ( 1.00 )
endfunction

//===========================================================================
function InitTrig_SlowNight_StepD takes nothing returns nothing
    set gg_trg_SlowNight_StepD = CreateTrigger(  )
    call TriggerRegisterGameStateEventTimeOfDay( gg_trg_SlowNight_StepD, GREATER_THAN, 21.50 )
    call TriggerAddCondition( gg_trg_SlowNight_StepD, Condition( function Trig_SlowNight_StepD_Conditions ) )
    call TriggerAddAction( gg_trg_SlowNight_StepD, function Trig_SlowNight_StepD_Actions )
endfunction

//===========================================================================
// Trigger: SlowNight StepE
//===========================================================================
function Trig_SlowNight_StepE_Conditions takes nothing returns boolean
    if ( not ( udg_SlowNightAllowed == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_SlowNight_StepE_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call SetTimeOfDayScalePercentBJ( 0.40 )
endfunction

//===========================================================================
function InitTrig_SlowNight_StepE takes nothing returns nothing
    set gg_trg_SlowNight_StepE = CreateTrigger(  )
    call TriggerRegisterGameStateEventTimeOfDay( gg_trg_SlowNight_StepE, GREATER_THAN, 22.50 )
    call TriggerAddCondition( gg_trg_SlowNight_StepE, Condition( function Trig_SlowNight_StepE_Conditions ) )
    call TriggerAddAction( gg_trg_SlowNight_StepE, function Trig_SlowNight_StepE_Actions )
endfunction

//===========================================================================
// Trigger: SlowNight StepF
//===========================================================================
function Trig_SlowNight_StepF_Conditions takes nothing returns boolean
    if ( not ( udg_SlowNightAllowed == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_SlowNight_StepF_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call SetTimeOfDayScalePercentBJ( 0.10 )
endfunction

//===========================================================================
function InitTrig_SlowNight_StepF takes nothing returns nothing
    set gg_trg_SlowNight_StepF = CreateTrigger(  )
    call TriggerRegisterGameStateEventTimeOfDay( gg_trg_SlowNight_StepF, GREATER_THAN, 23.50 )
    call TriggerAddCondition( gg_trg_SlowNight_StepF, Condition( function Trig_SlowNight_StepF_Conditions ) )
    call TriggerAddAction( gg_trg_SlowNight_StepF, function Trig_SlowNight_StepF_Actions )
endfunction

//===========================================================================
// Trigger: Check Waterfalls
//
// Gratuitous Waterfall Shots
//===========================================================================
function Trig_Check_Waterfalls_Func002002001002001 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == udg_APlayer01 )
endfunction

function Trig_Check_Waterfalls_Func002002001002002 takes nothing returns boolean
    return ( IsUnitAliveBJ(GetFilterUnit()) == true )
endfunction

function Trig_Check_Waterfalls_Func002002001002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Check_Waterfalls_Func002002001002001(), Trig_Check_Waterfalls_Func002002001002002() )
endfunction

function Trig_Check_Waterfalls_Func003001 takes nothing returns boolean
    return ( udg_TempUnitsInArea > 0 )
endfunction

function Trig_Check_Waterfalls_Func004002001002001 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == udg_APlayer01 )
endfunction

function Trig_Check_Waterfalls_Func004002001002002 takes nothing returns boolean
    return ( IsUnitAliveBJ(GetFilterUnit()) == true )
endfunction

function Trig_Check_Waterfalls_Func004002001002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Check_Waterfalls_Func004002001002001(), Trig_Check_Waterfalls_Func004002001002002() )
endfunction

function Trig_Check_Waterfalls_Func005001 takes nothing returns boolean
    return ( udg_TempUnitsInArea > 0 )
endfunction

function Trig_Check_Waterfalls_Actions takes nothing returns nothing
    set udg_TempUnitsInArea = CountUnitsInGroup(GetUnitsInRectMatching(gg_rct_West_Falls_Tripwire, Condition(function Trig_Check_Waterfalls_Func002002001002)))
    if ( Trig_Check_Waterfalls_Func003001() ) then
        call FogModifierStart( udg_WWestFallsVis )
    else
        call FogModifierStop( udg_WWestFallsVis )
    endif
    set udg_TempUnitsInArea = CountUnitsInGroup(GetUnitsInRectMatching(gg_rct_Murloc_Falls_Tripwire, Condition(function Trig_Check_Waterfalls_Func004002001002)))
    if ( Trig_Check_Waterfalls_Func005001() ) then
        call FogModifierStart( udg_WMurlocFallsVis )
    else
        call FogModifierStop( udg_WMurlocFallsVis )
    endif
endfunction

//===========================================================================
function InitTrig_Check_Waterfalls takes nothing returns nothing
    set gg_trg_Check_Waterfalls = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Check_Waterfalls, 1.00 )
    call TriggerAddAction( gg_trg_Check_Waterfalls, function Trig_Check_Waterfalls_Actions )
endfunction

//===========================================================================
// Trigger: Prophet Discover Q
//===========================================================================
function Trig_Prophet_Discover_Q_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_QuestProphet_Discover )
    call TriggerSleepAction( udg_QuestDelay )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Prophet_Discover_Q takes nothing returns nothing
    set gg_trg_Prophet_Discover_Q = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Prophet_Discover_Q, function Trig_Prophet_Discover_Q_Actions )
endfunction

//===========================================================================
// Trigger: Prophet Complete Q
//===========================================================================
function Trig_Prophet_Complete_Q_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_QuestProphet_Complete )
    call TriggerSleepAction( udg_QuestDelay )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Prophet_Complete_Q takes nothing returns nothing
    set gg_trg_Prophet_Complete_Q = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Prophet_Complete_Q, function Trig_Prophet_Complete_Q_Actions )
endfunction

//===========================================================================
// Trigger: S1 SelectThrall Q
//===========================================================================
function Trig_S1_SelectThrall_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_S1_SelectThrall_Q_Func005001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_S1_SelectThrall_Q_Func008001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_S1_SelectThrall_Q_Func011001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_S1_SelectThrall_Q_Actions takes nothing returns nothing
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(2), udg_NarratorPortrait, "TRIGSTR_239", GetUnitLoc(udg_Thrall), gg_snd_T01Narrator10, "TRIGSTR_240", bj_TIMETYPE_ADD, 0, false )
    call TriggerSleepAction( 1.00 )
    if ( Trig_S1_SelectThrall_Q_Func005001() ) then
        return
    else
        call DoNothing(  )
    endif
    call UnitAddIndicatorBJ( udg_Thrall, udg_HeyLookR, udg_HeyLookG, udg_HeyLookB, udg_HeyLookA )
    call TriggerSleepAction( 1.00 )
    if ( Trig_S1_SelectThrall_Q_Func008001() ) then
        return
    else
        call DoNothing(  )
    endif
    call UnitAddIndicatorBJ( udg_Thrall, udg_HeyLookR, udg_HeyLookG, udg_HeyLookB, udg_HeyLookA )
    call WaitForSoundBJ( gg_snd_T01Narrator10, 0 )
    if ( Trig_S1_SelectThrall_Q_Func011001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_S1_SelectThrall_Q takes nothing returns nothing
    set gg_trg_S1_SelectThrall_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_S1_SelectThrall_Q, Condition( function Trig_S1_SelectThrall_Q_Conditions ) )
    call TriggerAddAction( gg_trg_S1_SelectThrall_Q, function Trig_S1_SelectThrall_Q_Actions )
endfunction

//===========================================================================
// Trigger: S1 SelectThrall Abort
//===========================================================================
function Trig_S1_SelectThrall_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_S1_SelectThrall_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T01Narrator10, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_S1_SelectThrall_Q )
endfunction

//===========================================================================
function InitTrig_S1_SelectThrall_Abort takes nothing returns nothing
    set gg_trg_S1_SelectThrall_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_S1_SelectThrall_Abort, function Trig_S1_SelectThrall_Abort_Actions )
endfunction

//===========================================================================
// Trigger: S1 SelectThrall Done
//===========================================================================
function Trig_S1_SelectThrall_Done_Conditions takes nothing returns boolean
    if ( not ( GetTriggerUnit() == udg_Thrall ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_S1_SelectThrall_Done_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_S1_SelectThrall_Abort )
    call TriggerSleepAction( udg_ActAbortDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_S2_MoveThrall_Q, true )
endfunction

//===========================================================================
function InitTrig_S1_SelectThrall_Done takes nothing returns nothing
    set gg_trg_S1_SelectThrall_Done = CreateTrigger(  )
    call TriggerRegisterPlayerSelectionEventBJ( gg_trg_S1_SelectThrall_Done, Player(0), true )
    call TriggerAddCondition( gg_trg_S1_SelectThrall_Done, Condition( function Trig_S1_SelectThrall_Done_Conditions ) )
    call TriggerAddAction( gg_trg_S1_SelectThrall_Done, function Trig_S1_SelectThrall_Done_Actions )
endfunction

//===========================================================================
// Trigger: S2 MoveThrall Q
//===========================================================================
function Trig_S2_MoveThrall_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_S2_MoveThrall_Q_Func006001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_S2_MoveThrall_Q_Func010001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_S2_MoveThrall_Q_Func014001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_S2_MoveThrall_Q_Func018001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_S2_MoveThrall_Q_Func021001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_S2_MoveThrall_Q_Func026001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_S2_MoveThrall_Q_Actions takes nothing returns nothing
    call FogModifierStart( udg_Visibility01 )
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(2), udg_NarratorPortrait, "TRIGSTR_244", GetUnitLoc(udg_Thrall), gg_snd_T01Narrator11, "TRIGSTR_245", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Narrator11, 0 )
    if ( Trig_S2_MoveThrall_Q_Func006001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Line" )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(2), udg_NarratorPortrait, "TRIGSTR_246", GetUnitLoc(udg_Thrall), gg_snd_T01Narrator12, "TRIGSTR_247", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Narrator12, 0 )
    if ( Trig_S2_MoveThrall_Q_Func010001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Line" )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(2), udg_NarratorPortrait, "TRIGSTR_248", GetUnitLoc(udg_Thrall), gg_snd_T01Narrator14, "TRIGSTR_249", bj_TIMETYPE_ADD, 0, false )
    call TriggerSleepAction( 3.50 )
    if ( Trig_S2_MoveThrall_Q_Func014001() ) then
        return
    else
        call DoNothing(  )
    endif
    call PingMinimapLocForForce( GetPlayersAll(), GetRectCenter(gg_rct_Spot01), udg_PingTime )
    call UnitAddIndicatorBJ( udg_Circle01, udg_HeyLookR, udg_HeyLookG, udg_HeyLookB, udg_HeyLookA )
    call TriggerSleepAction( 1.00 )
    if ( Trig_S2_MoveThrall_Q_Func018001() ) then
        return
    else
        call DoNothing(  )
    endif
    call UnitAddIndicatorBJ( udg_Circle01, udg_HeyLookR, udg_HeyLookG, udg_HeyLookB, udg_HeyLookA )
    call WaitForSoundBJ( gg_snd_T01Narrator14, 0 )
    if ( Trig_S2_MoveThrall_Q_Func021001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Hint" )
    call ConditionalTriggerExecute( gg_trg_Hint_RightClickMove )
    call TriggerSleepAction( udg_HintDelay )
    if ( Trig_S2_MoveThrall_Q_Func026001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_S2_MoveThrall_Q takes nothing returns nothing
    set gg_trg_S2_MoveThrall_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_S2_MoveThrall_Q, Condition( function Trig_S2_MoveThrall_Q_Conditions ) )
    call TriggerAddAction( gg_trg_S2_MoveThrall_Q, function Trig_S2_MoveThrall_Q_Actions )
endfunction

//===========================================================================
// Trigger: S2 MoveThrall Abort
//===========================================================================
function Trig_S2_MoveThrall_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_S2_MoveThrall_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T01Narrator11, true )
    call StopSoundBJ( gg_snd_T01Narrator12, true )
    call StopSoundBJ( gg_snd_T01Narrator14, true )
    call VolumeGroupResetBJ(  )
    call PlaySoundBJ( udg_GoodJobSound )
    call FogModifierStop( udg_Visibility01 )
    call SetDoodadAnimationRectBJ( "death", 'LOo2', gg_rct_Spot01 )
    call SetUnitColor( udg_Circle01, GetPlayerColor(Player(PLAYER_NEUTRAL_PASSIVE)) )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_S2_MoveThrall_Q )
endfunction

//===========================================================================
function InitTrig_S2_MoveThrall_Abort takes nothing returns nothing
    set gg_trg_S2_MoveThrall_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_S2_MoveThrall_Abort, function Trig_S2_MoveThrall_Abort_Actions )
endfunction

//===========================================================================
// Trigger: S2 MoveThrall Done
//===========================================================================
function Trig_S2_MoveThrall_Done_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Thrall ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_S2_MoveThrall_Done_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_S2_MoveThrall_Abort )
    call TriggerSleepAction( udg_ActAbortDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_S3_Scroll_Q, true )
endfunction

//===========================================================================
function InitTrig_S2_MoveThrall_Done takes nothing returns nothing
    set gg_trg_S2_MoveThrall_Done = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_S2_MoveThrall_Done, gg_rct_Spot01 )
    call TriggerRegisterEnterRectSimple( gg_trg_S2_MoveThrall_Done, gg_rct_SpotBypass01A )
    call TriggerRegisterEnterRectSimple( gg_trg_S2_MoveThrall_Done, gg_rct_SpotBypass01B )
    call TriggerRegisterEnterRectSimple( gg_trg_S2_MoveThrall_Done, gg_rct_SpotBypass01C )
    call TriggerRegisterEnterRectSimple( gg_trg_S2_MoveThrall_Done, gg_rct_SpotBypass01D )
    call TriggerAddCondition( gg_trg_S2_MoveThrall_Done, Condition( function Trig_S2_MoveThrall_Done_Conditions ) )
    call TriggerAddAction( gg_trg_S2_MoveThrall_Done, function Trig_S2_MoveThrall_Done_Actions )
endfunction

//===========================================================================
// Trigger: S3 Scroll Q
//===========================================================================
function Trig_S3_Scroll_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_S3_Scroll_Q_Func007001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_S3_Scroll_Q_Func011001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_S3_Scroll_Q_Func016001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_S3_Scroll_Q_Func020001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_S3_Scroll_Q_Actions takes nothing returns nothing
    call SetCameraQuickPositionLocForPlayer( udg_APlayer01, GetRectCenter(gg_rct_Spot01) )
    call FogModifierStart( udg_Visibility02 )
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(2), udg_NarratorPortrait, "TRIGSTR_261", GetUnitLoc(udg_Thrall), gg_snd_T01Narrator15, "TRIGSTR_262", bj_TIMETYPE_ADD, 0, false )
    call TriggerSleepAction( 6.00 )
    if ( Trig_S3_Scroll_Q_Func007001() ) then
        return
    else
        call DoNothing(  )
    endif
    call PingMinimapLocForForce( GetPlayersAll(), GetRectCenter(gg_rct_Spot02), udg_PingTime )
    call SetCameraQuickPositionLocForPlayer( udg_APlayer01, GetRectCenter(gg_rct_Spot02) )
    call WaitForSoundBJ( gg_snd_T01Narrator15, 0 )
    if ( Trig_S3_Scroll_Q_Func011001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Hint" )
    call ConditionalTriggerExecute( gg_trg_Hint_Scrolling )
    call TriggerSleepAction( udg_HintDelay )
    if ( Trig_S3_Scroll_Q_Func016001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Hint" )
    call ConditionalTriggerExecute( gg_trg_Hint_ArrowKeys )
    call TriggerSleepAction( udg_HintDelay )
    if ( Trig_S3_Scroll_Q_Func020001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_S3_Scroll_Q takes nothing returns nothing
    set gg_trg_S3_Scroll_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_S3_Scroll_Q, Condition( function Trig_S3_Scroll_Q_Conditions ) )
    call TriggerAddAction( gg_trg_S3_Scroll_Q, function Trig_S3_Scroll_Q_Actions )
endfunction

//===========================================================================
// Trigger: S3 Scroll Abort
//===========================================================================
function Trig_S3_Scroll_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_S3_Scroll_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T01Narrator15, true )
    call VolumeGroupResetBJ(  )
    call PlaySoundBJ( udg_GoodJobSound )
    call FogModifierStop( udg_Visibility02 )
    call SetDoodadAnimationRectBJ( "death", 'LOo2', gg_rct_Spot02 )
    call SetUnitColor( udg_Circle02, GetPlayerColor(Player(PLAYER_NEUTRAL_PASSIVE)) )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_S3_Scroll_Q )
endfunction

//===========================================================================
function InitTrig_S3_Scroll_Abort takes nothing returns nothing
    set gg_trg_S3_Scroll_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_S3_Scroll_Abort, function Trig_S3_Scroll_Abort_Actions )
endfunction

//===========================================================================
// Trigger: S3 Scroll Done
//===========================================================================
function Trig_S3_Scroll_Done_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Thrall ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_S3_Scroll_Done_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_S3_Scroll_Abort )
    call TriggerSleepAction( udg_ActAbortDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_S4_BlackMask_Q, true )
endfunction

//===========================================================================
function InitTrig_S3_Scroll_Done takes nothing returns nothing
    set gg_trg_S3_Scroll_Done = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_S3_Scroll_Done, gg_rct_Spot02 )
    call TriggerRegisterEnterRectSimple( gg_trg_S3_Scroll_Done, gg_rct_SpotBypass02A )
    call TriggerRegisterEnterRectSimple( gg_trg_S3_Scroll_Done, gg_rct_SpotBypass02B )
    call TriggerAddCondition( gg_trg_S3_Scroll_Done, Condition( function Trig_S3_Scroll_Done_Conditions ) )
    call TriggerAddAction( gg_trg_S3_Scroll_Done, function Trig_S3_Scroll_Done_Actions )
endfunction

//===========================================================================
// Trigger: S4 BlackMask Q
//===========================================================================
function Trig_S4_BlackMask_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_S4_BlackMask_Q_Func006001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_S4_BlackMask_Q_Func010001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_S4_BlackMask_Q_Actions takes nothing returns nothing
    call FogModifierStart( udg_Visibility03 )
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(2), udg_NarratorPortrait, "TRIGSTR_268", GetUnitLoc(udg_Thrall), gg_snd_T01Narrator16, "TRIGSTR_269", bj_TIMETYPE_ADD, 0, false )
    call TriggerSleepAction( 1.70 )
    if ( Trig_S4_BlackMask_Q_Func006001() ) then
        return
    else
        call DoNothing(  )
    endif
    call PingMinimapLocForForce( GetPlayersAll(), GetRectCenter(gg_rct_Spot03), udg_PingTime )
    call SetCameraQuickPositionLocForPlayer( udg_APlayer01, GetRectCenter(gg_rct_Spot03) )
    call WaitForSoundBJ( gg_snd_T01Narrator16, 0 )
    if ( Trig_S4_BlackMask_Q_Func010001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_S4_BlackMask_Q takes nothing returns nothing
    set gg_trg_S4_BlackMask_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_S4_BlackMask_Q, Condition( function Trig_S4_BlackMask_Q_Conditions ) )
    call TriggerAddAction( gg_trg_S4_BlackMask_Q, function Trig_S4_BlackMask_Q_Actions )
endfunction

//===========================================================================
// Trigger: S4 BlackMask Abort
//===========================================================================
function Trig_S4_BlackMask_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_S4_BlackMask_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T01Narrator16, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_S4_BlackMask_Q )
endfunction

//===========================================================================
function InitTrig_S4_BlackMask_Abort takes nothing returns nothing
    set gg_trg_S4_BlackMask_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_S4_BlackMask_Abort, function Trig_S4_BlackMask_Abort_Actions )
endfunction

//===========================================================================
// Trigger: S4 BlackMask Done
//===========================================================================
function Trig_S4_BlackMask_Done_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Thrall ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_S4_BlackMask_Done_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_S4_BlackMask_Abort )
    call TriggerSleepAction( udg_ActAbortDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_S5_Unmasking_Q, true )
endfunction

//===========================================================================
function InitTrig_S4_BlackMask_Done takes nothing returns nothing
    set gg_trg_S4_BlackMask_Done = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_S4_BlackMask_Done, gg_rct_FlagExplore03A )
    call TriggerRegisterEnterRectSimple( gg_trg_S4_BlackMask_Done, gg_rct_FlagExplore03B )
    call TriggerRegisterEnterRectSimple( gg_trg_S4_BlackMask_Done, gg_rct_FlagExplore03C )
    call TriggerAddCondition( gg_trg_S4_BlackMask_Done, Condition( function Trig_S4_BlackMask_Done_Conditions ) )
    call TriggerAddAction( gg_trg_S4_BlackMask_Done, function Trig_S4_BlackMask_Done_Actions )
endfunction

//===========================================================================
// Trigger: S5 Unmasking Q
//===========================================================================
function Trig_S5_Unmasking_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_S5_Unmasking_Q_Func005001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_S5_Unmasking_Q_Actions takes nothing returns nothing
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(2), udg_NarratorPortrait, "TRIGSTR_275", GetUnitLoc(udg_Thrall), gg_snd_T01Narrator18, "TRIGSTR_276", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Narrator18, 0 )
    if ( Trig_S5_Unmasking_Q_Func005001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_S5_Unmasking_Q takes nothing returns nothing
    set gg_trg_S5_Unmasking_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_S5_Unmasking_Q, Condition( function Trig_S5_Unmasking_Q_Conditions ) )
    call TriggerAddAction( gg_trg_S5_Unmasking_Q, function Trig_S5_Unmasking_Q_Actions )
endfunction

//===========================================================================
// Trigger: S5 Unmasking Abort
//===========================================================================
function Trig_S5_Unmasking_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_S5_Unmasking_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T01Narrator18, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_S5_Unmasking_Q )
endfunction

//===========================================================================
function InitTrig_S5_Unmasking_Abort takes nothing returns nothing
    set gg_trg_S5_Unmasking_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_S5_Unmasking_Abort, function Trig_S5_Unmasking_Abort_Actions )
endfunction

//===========================================================================
// Trigger: S5 Unmasking Done
//===========================================================================
function Trig_S5_Unmasking_Done_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Thrall ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_S5_Unmasking_Done_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_S5_Unmasking_Abort )
endfunction

//===========================================================================
function InitTrig_S5_Unmasking_Done takes nothing returns nothing
    set gg_trg_S5_Unmasking_Done = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_S5_Unmasking_Done, gg_rct_Spot04 )
    call TriggerRegisterEnterRectSimple( gg_trg_S5_Unmasking_Done, gg_rct_SpotBypass04A )
    call TriggerRegisterEnterRectSimple( gg_trg_S5_Unmasking_Done, gg_rct_SpotBypass04B )
    call TriggerRegisterEnterRectSimple( gg_trg_S5_Unmasking_Done, gg_rct_SpotBypass04C )
    call TriggerRegisterEnterRectSimple( gg_trg_S5_Unmasking_Done, gg_rct_SpotBypass04D )
    call TriggerAddCondition( gg_trg_S5_Unmasking_Done, Condition( function Trig_S5_Unmasking_Done_Conditions ) )
    call TriggerAddAction( gg_trg_S5_Unmasking_Done, function Trig_S5_Unmasking_Done_Actions )
endfunction

//===========================================================================
// Trigger: S6 MoveMore Event
//===========================================================================
function Trig_S6_MoveMore_Event_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Thrall ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_S6_MoveMore_Event_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call PlaySoundBJ( udg_GoodJobSound )
    call FogModifierStop( udg_Visibility03 )
    call SetDoodadAnimationRectBJ( "death", 'LOo2', gg_rct_Spot03 )
    call SetUnitColor( udg_Circle03, GetPlayerColor(Player(PLAYER_NEUTRAL_PASSIVE)) )
    call QueuedTriggerAddBJ( gg_trg_S6_MoveMore_Q, true )
endfunction

//===========================================================================
function InitTrig_S6_MoveMore_Event takes nothing returns nothing
    set gg_trg_S6_MoveMore_Event = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_S6_MoveMore_Event, gg_rct_Spot03 )
    call TriggerRegisterEnterRectSimple( gg_trg_S6_MoveMore_Event, gg_rct_SpotBypass03A )
    call TriggerRegisterEnterRectSimple( gg_trg_S6_MoveMore_Event, gg_rct_SpotBypass03B )
    call TriggerAddCondition( gg_trg_S6_MoveMore_Event, Condition( function Trig_S6_MoveMore_Event_Conditions ) )
    call TriggerAddAction( gg_trg_S6_MoveMore_Event, function Trig_S6_MoveMore_Event_Actions )
endfunction

//===========================================================================
// Trigger: S6 MoveMore Q
//===========================================================================
function Trig_S6_MoveMore_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_S6_MoveMore_Q_Func002001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_S6_MoveMore_Q_Func011001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_S6_MoveMore_Q_Func016001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_S6_MoveMore_Q_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.50 )
    if ( Trig_S6_MoveMore_Q_Func002001() ) then
        return
    else
        call DoNothing(  )
    endif
    call FogModifierStart( udg_Visibility04 )
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(2), udg_NarratorPortrait, "TRIGSTR_279", GetUnitLoc(udg_Thrall), gg_snd_T01Narrator20, "TRIGSTR_280", bj_TIMETYPE_ADD, 0, false )
    call TriggerSleepAction( 1.70 )
    call PingMinimapLocForForce( GetPlayersAll(), GetRectCenter(gg_rct_Spot04), udg_PingTime )
    call SetCameraQuickPositionLocForPlayer( udg_APlayer01, GetRectCenter(gg_rct_Spot04) )
    call WaitForSoundBJ( gg_snd_T01Narrator20, 0 )
    if ( Trig_S6_MoveMore_Q_Func011001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Hint" )
    call ConditionalTriggerExecute( gg_trg_Hint_MessageLog )
    call TriggerSleepAction( udg_HintDelay )
    if ( Trig_S6_MoveMore_Q_Func016001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_S6_MoveMore_Q takes nothing returns nothing
    set gg_trg_S6_MoveMore_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_S6_MoveMore_Q, Condition( function Trig_S6_MoveMore_Q_Conditions ) )
    call TriggerAddAction( gg_trg_S6_MoveMore_Q, function Trig_S6_MoveMore_Q_Actions )
endfunction

//===========================================================================
// Trigger: S6 MoveMore Abort
//===========================================================================
function Trig_S6_MoveMore_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_S6_MoveMore_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T01Narrator20, true )
    call VolumeGroupResetBJ(  )
    call PlaySoundBJ( udg_GoodJobSound )
    call FogModifierStop( udg_Visibility04 )
    call SetDoodadAnimationRectBJ( "death", 'LOo2', gg_rct_Spot04 )
    call SetUnitColor( udg_Circle04, GetPlayerColor(Player(PLAYER_NEUTRAL_PASSIVE)) )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_S6_MoveMore_Q )
endfunction

//===========================================================================
function InitTrig_S6_MoveMore_Abort takes nothing returns nothing
    set gg_trg_S6_MoveMore_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_S6_MoveMore_Abort, function Trig_S6_MoveMore_Abort_Actions )
endfunction

//===========================================================================
// Trigger: S6 MoveMore Done
//===========================================================================
function Trig_S6_MoveMore_Done_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Thrall ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_S6_MoveMore_Done_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_S6_MoveMore_Abort )
    call TriggerSleepAction( udg_ActAbortDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_R1_Rescue_Q, true )
endfunction

//===========================================================================
function InitTrig_S6_MoveMore_Done takes nothing returns nothing
    set gg_trg_S6_MoveMore_Done = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_S6_MoveMore_Done, gg_rct_Spot04 )
    call TriggerRegisterEnterRectSimple( gg_trg_S6_MoveMore_Done, gg_rct_SpotBypass04A )
    call TriggerRegisterEnterRectSimple( gg_trg_S6_MoveMore_Done, gg_rct_SpotBypass04B )
    call TriggerRegisterEnterRectSimple( gg_trg_S6_MoveMore_Done, gg_rct_SpotBypass04C )
    call TriggerRegisterEnterRectSimple( gg_trg_S6_MoveMore_Done, gg_rct_SpotBypass04D )
    call TriggerAddCondition( gg_trg_S6_MoveMore_Done, Condition( function Trig_S6_MoveMore_Done_Conditions ) )
    call TriggerAddAction( gg_trg_S6_MoveMore_Done, function Trig_S6_MoveMore_Done_Actions )
endfunction

//===========================================================================
// Trigger: R1 Rescue Q
//===========================================================================
function Trig_R1_Rescue_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_R1_Rescue_Q_Func010001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_R1_Rescue_Q_Func014001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_R1_Rescue_Q_Actions takes nothing returns nothing
    call CommentString( "Rescue a few grunts" )
    call SmartCameraPanBJ( udg_APlayer01, GetRectCenter(gg_rct_Spot04), 0.5 )
    call ConditionalTriggerExecute( gg_trg_R1_Rescue_Unhide )
    call ConditionalTriggerExecute( gg_trg_R1_Rescue_Rescue )
    call EnableTrigger( gg_trg_R2_GroupSelect_Done )
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Thrall, "TRIGSTR_288", gg_snd_T01Thrall21, "TRIGSTR_289", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Thrall21, 0 )
    if ( Trig_R1_Rescue_Q_Func010001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Line" )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), udg_APlayer01, 'ogru', "TRIGSTR_290", GetRectCenter(gg_rct_GruntMove1), gg_snd_T01Grunt22, "TRIGSTR_291", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Grunt22, 0 )
    if ( Trig_R1_Rescue_Q_Func014001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
    call StartTimerBJ( udg_R1RescueTimer, false, 1.00 )
endfunction

//===========================================================================
function InitTrig_R1_Rescue_Q takes nothing returns nothing
    set gg_trg_R1_Rescue_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_R1_Rescue_Q, Condition( function Trig_R1_Rescue_Q_Conditions ) )
    call TriggerAddAction( gg_trg_R1_Rescue_Q, function Trig_R1_Rescue_Q_Actions )
endfunction

//===========================================================================
// Trigger: R1 Rescue Unhide
//===========================================================================
function Trig_R1_Rescue_Unhide_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_R1_Rescue_Unhide_Func002002 takes nothing returns nothing
    call ShowUnitShow( GetEnumUnit() )
endfunction

function Trig_R1_Rescue_Unhide_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call ForGroup( udg_RescuableGrunts, function Trig_R1_Rescue_Unhide_Func002002 )
    call ShowUnitShow( udg_Grunt1 )
    call ShowUnitShow( udg_Grunt2 )
    call ShowUnitShow( udg_Grunt3 )
endfunction

//===========================================================================
function InitTrig_R1_Rescue_Unhide takes nothing returns nothing
    set gg_trg_R1_Rescue_Unhide = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_R1_Rescue_Unhide, Condition( function Trig_R1_Rescue_Unhide_Conditions ) )
    call TriggerAddAction( gg_trg_R1_Rescue_Unhide, function Trig_R1_Rescue_Unhide_Actions )
endfunction

//===========================================================================
// Trigger: R1 Rescue Rescue
//===========================================================================
function Trig_R1_Rescue_Rescue_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_R1_Rescue_Rescue_Func003002 takes nothing returns nothing
    call RescueUnitBJ( GetEnumUnit(), udg_APlayer01, true )
endfunction

function Trig_R1_Rescue_Rescue_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call ForGroup( udg_RescuableGrunts, function Trig_R1_Rescue_Rescue_Func003002 )
    call IssuePointOrderLocBJ( udg_Grunt1, "move", GetRectCenter(gg_rct_GruntMove1) )
    call IssuePointOrderLocBJ( udg_Grunt2, "move", GetRectCenter(gg_rct_GruntMove2) )
    call IssuePointOrderLocBJ( udg_Grunt3, "move", GetRectCenter(gg_rct_GruntMove3) )
    call GroupAddGroup( udg_RescuableGrunts, udg_YourUnits )
endfunction

//===========================================================================
function InitTrig_R1_Rescue_Rescue takes nothing returns nothing
    set gg_trg_R1_Rescue_Rescue = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_R1_Rescue_Rescue, Condition( function Trig_R1_Rescue_Rescue_Conditions ) )
    call TriggerAddAction( gg_trg_R1_Rescue_Rescue, function Trig_R1_Rescue_Rescue_Actions )
endfunction

//===========================================================================
// Trigger: R1 Rescue Abort
//===========================================================================
function Trig_R1_Rescue_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_R1_Rescue_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T01Thrall21, true )
    call StopSoundBJ( gg_snd_T01Grunt22, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Ensure that the Grunts are given" )
    call ConditionalTriggerExecute( gg_trg_R1_Rescue_Unhide )
    call ConditionalTriggerExecute( gg_trg_R1_Rescue_Rescue )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_R1_Rescue_Q )
endfunction

//===========================================================================
function InitTrig_R1_Rescue_Abort takes nothing returns nothing
    set gg_trg_R1_Rescue_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_R1_Rescue_Abort, function Trig_R1_Rescue_Abort_Actions )
endfunction

//===========================================================================
// Trigger: R1 Rescue Done
//===========================================================================
function Trig_R1_Rescue_Done_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_R1_Rescue_Done_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_R1_Rescue_Abort )
    call TriggerSleepAction( udg_ActAbortDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_R2_GroupSelect_Q, true )
endfunction

//===========================================================================
function InitTrig_R1_Rescue_Done takes nothing returns nothing
    set gg_trg_R1_Rescue_Done = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_R1_Rescue_Done, udg_R1RescueTimer )
    call TriggerAddCondition( gg_trg_R1_Rescue_Done, Condition( function Trig_R1_Rescue_Done_Conditions ) )
    call TriggerAddAction( gg_trg_R1_Rescue_Done, function Trig_R1_Rescue_Done_Actions )
endfunction

//===========================================================================
// Trigger: R2 GroupSelect Q
//===========================================================================
function Trig_R2_GroupSelect_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_R2_GroupSelect_Q_Func005001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_R2_GroupSelect_Q_Func008001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_R2_GroupSelect_Q_Func012001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_R2_GroupSelect_Q_Actions takes nothing returns nothing
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(2), udg_NarratorPortrait, "TRIGSTR_296", GetUnitLoc(udg_Thrall), gg_snd_T01Narrator2401, "TRIGSTR_297", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Narrator2401, 0 )
    if ( Trig_R2_GroupSelect_Q_Func005001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call TriggerSleepAction( 0.50 )
    if ( Trig_R2_GroupSelect_Q_Func008001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Hint" )
    call ConditionalTriggerExecute( gg_trg_Hint_ClickDragSelect )
    call TriggerSleepAction( udg_HintDelay )
    if ( Trig_R2_GroupSelect_Q_Func012001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_R2_GroupSelect_Q takes nothing returns nothing
    set gg_trg_R2_GroupSelect_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_R2_GroupSelect_Q, Condition( function Trig_R2_GroupSelect_Q_Conditions ) )
    call TriggerAddAction( gg_trg_R2_GroupSelect_Q, function Trig_R2_GroupSelect_Q_Actions )
endfunction

//===========================================================================
// Trigger: R2 GroupSelect Abort
//===========================================================================
function Trig_R2_GroupSelect_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_R2_GroupSelect_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T01Narrator2401, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_R2_GroupSelect_Q )
endfunction

//===========================================================================
function InitTrig_R2_GroupSelect_Abort takes nothing returns nothing
    set gg_trg_R2_GroupSelect_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_R2_GroupSelect_Abort, function Trig_R2_GroupSelect_Abort_Actions )
endfunction

//===========================================================================
// Trigger: R2 GroupSelect Done
//
// The "Units selected by player" function doesn't seem to include the unit being selected when responding to a unit selection event.
// Delaying the check for a brief moment allows the condition to succeed.
// The check is performed periodically, as well as upon unit selection, to account for cases where a unit's death results in the player having all units selected.
//===========================================================================
function Trig_R2_GroupSelect_Done_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_R2_GroupSelect_Done_Func005001 takes nothing returns boolean
    return ( CountUnitsInGroup(GetUnitsSelectedAll(udg_APlayer01)) < CountUnitsInGroup(udg_YourUnits) )
endfunction

function Trig_R2_GroupSelect_Done_Func007001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_R2_GroupSelect_Done_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.01 )
    if ( Trig_R2_GroupSelect_Done_Func005001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "All units are selected" )
    if ( Trig_R2_GroupSelect_Done_Func007001() ) then
        return
    else
        call DoNothing(  )
    endif
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_R2_GroupSelect_Abort )
    call TriggerSleepAction( udg_ActAbortDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_R3_GroupMove_Q, true )
endfunction

//===========================================================================
function InitTrig_R2_GroupSelect_Done takes nothing returns nothing
    set gg_trg_R2_GroupSelect_Done = CreateTrigger(  )
    call DisableTrigger( gg_trg_R2_GroupSelect_Done )
    call TriggerRegisterPlayerSelectionEventBJ( gg_trg_R2_GroupSelect_Done, Player(0), true )
    call TriggerRegisterTimerEventPeriodic( gg_trg_R2_GroupSelect_Done, 0.40 )
    call TriggerAddCondition( gg_trg_R2_GroupSelect_Done, Condition( function Trig_R2_GroupSelect_Done_Conditions ) )
    call TriggerAddAction( gg_trg_R2_GroupSelect_Done, function Trig_R2_GroupSelect_Done_Actions )
endfunction

//===========================================================================
// Trigger: R3 GroupMove Q
//===========================================================================
function Trig_R3_GroupMove_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_R3_GroupMove_Q_Func006001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_R3_GroupMove_Q_Func010001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_R3_GroupMove_Q_Actions takes nothing returns nothing
    call FogModifierStart( udg_Visibility05 )
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(2), udg_NarratorPortrait, "TRIGSTR_303", GetUnitLoc(udg_Thrall), gg_snd_T01Narrator26, "TRIGSTR_304", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Narrator26, 2.00 )
    if ( Trig_R3_GroupMove_Q_Func006001() ) then
        return
    else
        call DoNothing(  )
    endif
    call PingMinimapLocForForce( GetPlayersAll(), GetRectCenter(gg_rct_Spot05), udg_PingTime )
    call SetCameraQuickPositionLocForPlayer( udg_APlayer01, GetRectCenter(gg_rct_Spot05) )
    call WaitForSoundBJ( gg_snd_T01Narrator26, 0 )
    if ( Trig_R3_GroupMove_Q_Func010001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_R3_GroupMove_Q takes nothing returns nothing
    set gg_trg_R3_GroupMove_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_R3_GroupMove_Q, Condition( function Trig_R3_GroupMove_Q_Conditions ) )
    call TriggerAddAction( gg_trg_R3_GroupMove_Q, function Trig_R3_GroupMove_Q_Actions )
endfunction

//===========================================================================
// Trigger: R3 GroupMove Abort
//===========================================================================
function Trig_R3_GroupMove_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_R3_GroupMove_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T01Narrator26, true )
    call VolumeGroupResetBJ(  )
    call PlaySoundBJ( udg_GoodJobSound )
    call FogModifierStop( udg_Visibility05 )
    call SetDoodadAnimationRectBJ( "death", 'LOo2', gg_rct_Spot05 )
    call SetUnitColor( udg_Circle05, GetPlayerColor(Player(PLAYER_NEUTRAL_PASSIVE)) )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_R3_GroupMove_Q )
endfunction

//===========================================================================
function InitTrig_R3_GroupMove_Abort takes nothing returns nothing
    set gg_trg_R3_GroupMove_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_R3_GroupMove_Abort, function Trig_R3_GroupMove_Abort_Actions )
endfunction

//===========================================================================
// Trigger: R3 GroupMove Done
//===========================================================================
function Trig_R3_GroupMove_Done_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_APlayer01 ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_R3_GroupMove_Done_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_R3_GroupMove_Abort )
    call TriggerSleepAction( udg_ActAbortDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_A1_SingleGnoll_Q, true )
endfunction

//===========================================================================
function InitTrig_R3_GroupMove_Done takes nothing returns nothing
    set gg_trg_R3_GroupMove_Done = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_R3_GroupMove_Done, gg_rct_Spot05 )
    call TriggerRegisterEnterRectSimple( gg_trg_R3_GroupMove_Done, gg_rct_SpotBypass05A )
    call TriggerRegisterEnterRectSimple( gg_trg_R3_GroupMove_Done, gg_rct_SpotBypass05B )
    call TriggerAddCondition( gg_trg_R3_GroupMove_Done, Condition( function Trig_R3_GroupMove_Done_Conditions ) )
    call TriggerAddAction( gg_trg_R3_GroupMove_Done, function Trig_R3_GroupMove_Done_Actions )
endfunction

//===========================================================================
// Trigger: A1 SingleGnoll Q
//===========================================================================
function Trig_A1_SingleGnoll_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_A1_SingleGnoll_Q_Func006001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_A1_SingleGnoll_Q_Func010001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_A1_SingleGnoll_Q_Func014001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_A1_SingleGnoll_Q_Func019001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_A1_SingleGnoll_Q_Actions takes nothing returns nothing
    call FogModifierStart( udg_Visibility06 )
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call ConditionalTriggerExecute( gg_trg_A1_SingleGnoll_OptLine )
    call WaitForSoundBJ( gg_snd_T01Thrall28, 1.50 )
    if ( Trig_A1_SingleGnoll_Q_Func006001() ) then
        return
    else
        call DoNothing(  )
    endif
    call PingMinimapLocForForce( GetPlayersAll(), GetRectCenter(gg_rct_Spot06), udg_PingTime )
    call SetCameraQuickPositionLocForPlayer( udg_APlayer01, GetRectCenter(gg_rct_Spot06) )
    call WaitForSoundBJ( gg_snd_T01Thrall28, 0.00 )
    if ( Trig_A1_SingleGnoll_Q_Func010001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Line" )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(2), udg_NarratorPortrait, "TRIGSTR_309", GetUnitLoc(udg_Thrall), gg_snd_T01Narrator30, "TRIGSTR_310", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Narrator30, 0 )
    if ( Trig_A1_SingleGnoll_Q_Func014001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Hint" )
    call ConditionalTriggerExecute( gg_trg_Hint_RightClickAttack )
    call TriggerSleepAction( udg_HintDelay )
    if ( Trig_A1_SingleGnoll_Q_Func019001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_A1_SingleGnoll_Q takes nothing returns nothing
    set gg_trg_A1_SingleGnoll_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_A1_SingleGnoll_Q, Condition( function Trig_A1_SingleGnoll_Q_Conditions ) )
    call TriggerAddAction( gg_trg_A1_SingleGnoll_Q, function Trig_A1_SingleGnoll_Q_Actions )
endfunction

//===========================================================================
// Trigger: A1 SingleGnoll OptLine
//===========================================================================
function Trig_A1_SingleGnoll_OptLine_Conditions takes nothing returns boolean
    if ( not ( DistanceBetweenPoints(GetUnitLoc(udg_Thrall), GetRectCenter(gg_rct_SpeakingAnchor05)) < udg_SpeakingDistance ) ) then
        return false
    endif
    return true
endfunction

function Trig_A1_SingleGnoll_OptLine_Actions takes nothing returns nothing
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Thrall, "TRIGSTR_447", gg_snd_T01Thrall28, "TRIGSTR_448", bj_TIMETYPE_ADD, 0, false )
endfunction

//===========================================================================
function InitTrig_A1_SingleGnoll_OptLine takes nothing returns nothing
    set gg_trg_A1_SingleGnoll_OptLine = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_A1_SingleGnoll_OptLine, Condition( function Trig_A1_SingleGnoll_OptLine_Conditions ) )
    call TriggerAddAction( gg_trg_A1_SingleGnoll_OptLine, function Trig_A1_SingleGnoll_OptLine_Actions )
endfunction

//===========================================================================
// Trigger: A1 SingleGnoll Abort
//===========================================================================
function Trig_A1_SingleGnoll_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_A1_SingleGnoll_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T01Thrall28, true )
    call StopSoundBJ( gg_snd_T01Narrator30, true )
    call VolumeGroupResetBJ(  )
    call PlaySoundBJ( udg_GoodJobSound )
    call FogModifierStop( udg_Visibility06 )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_A1_SingleGnoll_Q )
endfunction

//===========================================================================
function InitTrig_A1_SingleGnoll_Abort takes nothing returns nothing
    set gg_trg_A1_SingleGnoll_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_A1_SingleGnoll_Abort, function Trig_A1_SingleGnoll_Abort_Actions )
endfunction

//===========================================================================
// Trigger: A1 SingleGnoll DoneA
//===========================================================================
function Trig_A1_SingleGnoll_DoneA_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_A1_SingleGnoll_DoneA_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_A1_SingleGnoll_DoneA )
    call DisableTrigger( gg_trg_A1_SingleGnoll_DoneB )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_A1_SingleGnoll_Abort )
    call TriggerSleepAction( udg_ActAbortDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_A2_MoreGnolls_Q, true )
endfunction

//===========================================================================
function InitTrig_A1_SingleGnoll_DoneA takes nothing returns nothing
    set gg_trg_A1_SingleGnoll_DoneA = CreateTrigger(  )
    call TriggerRegisterUnitEvent( gg_trg_A1_SingleGnoll_DoneA, gg_unit_ngno_0060, EVENT_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_A1_SingleGnoll_DoneA, Condition( function Trig_A1_SingleGnoll_DoneA_Conditions ) )
    call TriggerAddAction( gg_trg_A1_SingleGnoll_DoneA, function Trig_A1_SingleGnoll_DoneA_Actions )
endfunction

//===========================================================================
// Trigger: A1 SingleGnoll DoneB
//===========================================================================
function Trig_A1_SingleGnoll_DoneB_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_APlayer01 ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_A1_SingleGnoll_DoneB_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_A1_SingleGnoll_DoneA )
    call DisableTrigger( gg_trg_A1_SingleGnoll_DoneB )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_A1_SingleGnoll_Abort )
    call TriggerSleepAction( udg_ActAbortDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_A2_MoreGnolls_Q, true )
endfunction

//===========================================================================
function InitTrig_A1_SingleGnoll_DoneB takes nothing returns nothing
    set gg_trg_A1_SingleGnoll_DoneB = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_A1_SingleGnoll_DoneB, gg_rct_SpotBypass06A )
    call TriggerRegisterEnterRectSimple( gg_trg_A1_SingleGnoll_DoneB, gg_rct_SpotBypass06B )
    call TriggerAddCondition( gg_trg_A1_SingleGnoll_DoneB, Condition( function Trig_A1_SingleGnoll_DoneB_Conditions ) )
    call TriggerAddAction( gg_trg_A1_SingleGnoll_DoneB, function Trig_A1_SingleGnoll_DoneB_Actions )
endfunction

//===========================================================================
// Trigger: A2 MoreGnolls Q
//===========================================================================
function Trig_A2_MoreGnolls_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_A2_MoreGnolls_Q_Func006001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_A2_MoreGnolls_Q_Func010001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_A2_MoreGnolls_Q_Func014001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_A2_MoreGnolls_Q_Func019001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_A2_MoreGnolls_Q_Actions takes nothing returns nothing
    call FogModifierStart( udg_Visibility07 )
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call ConditionalTriggerExecute( gg_trg_A2_MoreGnolls_OptLine )
    call WaitForSoundBJ( gg_snd_T01Thrall31, 1.00 )
    if ( Trig_A2_MoreGnolls_Q_Func006001() ) then
        return
    else
        call DoNothing(  )
    endif
    call PingMinimapLocForForce( GetPlayersAll(), GetRectCenter(gg_rct_Spot07), udg_PingTime )
    call SetCameraQuickPositionLocForPlayer( udg_APlayer01, GetRectCenter(gg_rct_Spot07) )
    call WaitForSoundBJ( gg_snd_T01Thrall31, 0 )
    if ( Trig_A2_MoreGnolls_Q_Func010001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Line" )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(2), udg_NarratorPortrait, "TRIGSTR_457", GetUnitLoc(udg_Thrall), gg_snd_T01Narrator32, "TRIGSTR_458", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Narrator32, 0 )
    if ( Trig_A2_MoreGnolls_Q_Func014001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Hint" )
    call ConditionalTriggerExecute( gg_trg_Hint_AttackMove )
    call TriggerSleepAction( udg_HintDelay )
    if ( Trig_A2_MoreGnolls_Q_Func019001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_A2_MoreGnolls_Q takes nothing returns nothing
    set gg_trg_A2_MoreGnolls_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_A2_MoreGnolls_Q, Condition( function Trig_A2_MoreGnolls_Q_Conditions ) )
    call TriggerAddAction( gg_trg_A2_MoreGnolls_Q, function Trig_A2_MoreGnolls_Q_Actions )
endfunction

//===========================================================================
// Trigger: A2 MoreGnolls OptLine
//===========================================================================
function Trig_A2_MoreGnolls_OptLine_Conditions takes nothing returns boolean
    if ( not ( DistanceBetweenPoints(GetUnitLoc(udg_Thrall), GetRectCenter(gg_rct_SpeakingAnchor06)) < udg_SpeakingDistance ) ) then
        return false
    endif
    return true
endfunction

function Trig_A2_MoreGnolls_OptLine_Actions takes nothing returns nothing
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Thrall, "TRIGSTR_449", gg_snd_T01Thrall31, "TRIGSTR_450", bj_TIMETYPE_ADD, 0, false )
endfunction

//===========================================================================
function InitTrig_A2_MoreGnolls_OptLine takes nothing returns nothing
    set gg_trg_A2_MoreGnolls_OptLine = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_A2_MoreGnolls_OptLine, Condition( function Trig_A2_MoreGnolls_OptLine_Conditions ) )
    call TriggerAddAction( gg_trg_A2_MoreGnolls_OptLine, function Trig_A2_MoreGnolls_OptLine_Actions )
endfunction

//===========================================================================
// Trigger: A2 MoreGnolls Abort
//===========================================================================
function Trig_A2_MoreGnolls_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_A2_MoreGnolls_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T01Thrall31, true )
    call StopSoundBJ( gg_snd_T01Narrator32, true )
    call VolumeGroupResetBJ(  )
    call FogModifierStop( udg_Visibility07 )
    call SetHeroLevel( udg_Thrall, 2, true )
    call EnableTrigger( gg_trg_H3_SpendPoint_Done )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_A2_MoreGnolls_Q )
endfunction

//===========================================================================
function InitTrig_A2_MoreGnolls_Abort takes nothing returns nothing
    set gg_trg_A2_MoreGnolls_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_A2_MoreGnolls_Abort, function Trig_A2_MoreGnolls_Abort_Actions )
endfunction

//===========================================================================
// Trigger: A2 MoreGnolls Done
//===========================================================================
function Trig_A2_MoreGnolls_Done_Conditions takes nothing returns boolean
    if ( not ( IsUnitGroupDeadBJ(udg_GnollGroup) == true ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_A2_MoreGnolls_Done_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_A2_MoreGnolls_Abort )
    call TriggerSleepAction( udg_ActAbortDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_H1_HeroLevel_Q, true )
endfunction

//===========================================================================
function InitTrig_A2_MoreGnolls_Done takes nothing returns nothing
    set gg_trg_A2_MoreGnolls_Done = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_A2_MoreGnolls_Done, Player(PLAYER_NEUTRAL_AGGRESSIVE), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_A2_MoreGnolls_Done, Condition( function Trig_A2_MoreGnolls_Done_Conditions ) )
    call TriggerAddAction( gg_trg_A2_MoreGnolls_Done, function Trig_A2_MoreGnolls_Done_Actions )
endfunction

//===========================================================================
// Trigger: AutoAttack Event
//===========================================================================
function Trig_AutoAttack_Event_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetAttacker()) == udg_APlayer01 ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_AutoAttack_Event_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_AutoAttack_Q, true )
endfunction

//===========================================================================
function InitTrig_AutoAttack_Event takes nothing returns nothing
    set gg_trg_AutoAttack_Event = CreateTrigger(  )
    call TriggerRegisterUnitEvent( gg_trg_AutoAttack_Event, gg_unit_ngno_0027, EVENT_UNIT_ATTACKED )
    call TriggerRegisterUnitEvent( gg_trg_AutoAttack_Event, gg_unit_ngno_0028, EVENT_UNIT_ATTACKED )
    call TriggerRegisterUnitEvent( gg_trg_AutoAttack_Event, gg_unit_ngna_0029, EVENT_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_AutoAttack_Event, Condition( function Trig_AutoAttack_Event_Conditions ) )
    call TriggerAddAction( gg_trg_AutoAttack_Event, function Trig_AutoAttack_Event_Actions )
endfunction

//===========================================================================
// Trigger: AutoAttack Q
//===========================================================================
function Trig_AutoAttack_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_AutoAttack_Q_Func006001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_AutoAttack_Q_Actions takes nothing returns nothing
    call CommentString( "Hint" )
    call ConditionalTriggerExecute( gg_trg_Hint_AutoAttack )
    call TriggerSleepAction( udg_HintDelay )
    if ( Trig_AutoAttack_Q_Func006001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_AutoAttack_Q takes nothing returns nothing
    set gg_trg_AutoAttack_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_AutoAttack_Q, Condition( function Trig_AutoAttack_Q_Conditions ) )
    call TriggerAddAction( gg_trg_AutoAttack_Q, function Trig_AutoAttack_Q_Actions )
endfunction

//===========================================================================
// Trigger: H1 HeroLevel Q
//===========================================================================
function Trig_H1_HeroLevel_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_H1_HeroLevel_Q_Func002001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_H1_HeroLevel_Q_Func007001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_H1_HeroLevel_Q_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.50 )
    if ( Trig_H1_HeroLevel_Q_Func002001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(2), udg_NarratorPortrait, "TRIGSTR_325", GetUnitLoc(udg_Thrall), gg_snd_T01Narrator33, "TRIGSTR_326", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Narrator33, 0 )
    if ( Trig_H1_HeroLevel_Q_Func007001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
    call StartTimerBJ( udg_H1HeroLevelTimer, false, 0.10 )
endfunction

//===========================================================================
function InitTrig_H1_HeroLevel_Q takes nothing returns nothing
    set gg_trg_H1_HeroLevel_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_H1_HeroLevel_Q, Condition( function Trig_H1_HeroLevel_Q_Conditions ) )
    call TriggerAddAction( gg_trg_H1_HeroLevel_Q, function Trig_H1_HeroLevel_Q_Actions )
endfunction

//===========================================================================
// Trigger: H1 HeroLevel Abort
//===========================================================================
function Trig_H1_HeroLevel_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_H1_HeroLevel_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T01Narrator33, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_H1_HeroLevel_Q )
endfunction

//===========================================================================
function InitTrig_H1_HeroLevel_Abort takes nothing returns nothing
    set gg_trg_H1_HeroLevel_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_H1_HeroLevel_Abort, function Trig_H1_HeroLevel_Abort_Actions )
endfunction

//===========================================================================
// Trigger: H1 HeroLevel DoneA
//===========================================================================
function Trig_H1_HeroLevel_DoneA_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_H1_HeroLevel_DoneA_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_H1_HeroLevel_DoneA )
    call DisableTrigger( gg_trg_H1_HeroLevel_DoneB )
    call DisableTrigger( gg_trg_H1_HeroLevel_DoneC )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_H1_HeroLevel_Abort )
    call TriggerSleepAction( udg_ActAbortDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_H2_HeroPoints_Q, true )
endfunction

//===========================================================================
function InitTrig_H1_HeroLevel_DoneA takes nothing returns nothing
    set gg_trg_H1_HeroLevel_DoneA = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_H1_HeroLevel_DoneA, udg_H1HeroLevelTimer )
    call TriggerAddCondition( gg_trg_H1_HeroLevel_DoneA, Condition( function Trig_H1_HeroLevel_DoneA_Conditions ) )
    call TriggerAddAction( gg_trg_H1_HeroLevel_DoneA, function Trig_H1_HeroLevel_DoneA_Actions )
endfunction

//===========================================================================
// Trigger: H1 HeroLevel DoneB
//===========================================================================
function Trig_H1_HeroLevel_DoneB_Conditions takes nothing returns boolean
    if ( not ( udg_HeroPointsAvailable > 0 ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_H1_HeroLevel_DoneB_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_H1_HeroLevel_DoneA )
    call DisableTrigger( gg_trg_H1_HeroLevel_DoneB )
    call DisableTrigger( gg_trg_H1_HeroLevel_DoneC )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_H1_HeroLevel_Abort )
    call TriggerSleepAction( udg_ActAbortDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_H2_HeroPoints_Q, true )
endfunction

//===========================================================================
function InitTrig_H1_HeroLevel_DoneB takes nothing returns nothing
    set gg_trg_H1_HeroLevel_DoneB = CreateTrigger(  )
    call TriggerRegisterShowSkillEventBJ( gg_trg_H1_HeroLevel_DoneB )
    call TriggerAddCondition( gg_trg_H1_HeroLevel_DoneB, Condition( function Trig_H1_HeroLevel_DoneB_Conditions ) )
    call TriggerAddAction( gg_trg_H1_HeroLevel_DoneB, function Trig_H1_HeroLevel_DoneB_Actions )
endfunction

//===========================================================================
// Trigger: H1 HeroLevel DoneC
//
// This alternate "Done" trigger allows users to bypass H1, H2, H3 if they are quick enough and know what they are doing.
//===========================================================================
function Trig_H1_HeroLevel_DoneC_Conditions takes nothing returns boolean
    if ( not ( GetLearnedSkillBJ() == 'AOcl' ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_H1_HeroLevel_DoneC_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_H1_HeroLevel_DoneA )
    call DisableTrigger( gg_trg_H1_HeroLevel_DoneB )
    call DisableTrigger( gg_trg_H1_HeroLevel_DoneC )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_H1_HeroLevel_Abort )
    call TriggerSleepAction( udg_ActAbortDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_H2_HeroPoints_Q, true )
endfunction

//===========================================================================
function InitTrig_H1_HeroLevel_DoneC takes nothing returns nothing
    set gg_trg_H1_HeroLevel_DoneC = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_H1_HeroLevel_DoneC, Player(0), EVENT_PLAYER_HERO_SKILL )
    call TriggerAddCondition( gg_trg_H1_HeroLevel_DoneC, Condition( function Trig_H1_HeroLevel_DoneC_Conditions ) )
    call TriggerAddAction( gg_trg_H1_HeroLevel_DoneC, function Trig_H1_HeroLevel_DoneC_Actions )
endfunction

//===========================================================================
// Trigger: H2 HeroPoints Q
//===========================================================================
function Trig_H2_HeroPoints_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_H2_HeroPoints_Q_Func005001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_H2_HeroPoints_Q_Func009001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_H2_HeroPoints_Q_Func014001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_H2_HeroPoints_Q_Actions takes nothing returns nothing
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(2), udg_NarratorPortrait, "TRIGSTR_331", GetUnitLoc(udg_Thrall), gg_snd_T01Narrator35, "TRIGSTR_332", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Narrator35, 0 )
    if ( Trig_H2_HeroPoints_Q_Func005001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Line" )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(2), udg_NarratorPortrait, "TRIGSTR_333", GetUnitLoc(udg_Thrall), gg_snd_T01Narrator36, "TRIGSTR_334", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Narrator36, 0 )
    if ( Trig_H2_HeroPoints_Q_Func009001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Hint" )
    call ConditionalTriggerExecute( gg_trg_Hint_HeroIcon )
    call TriggerSleepAction( udg_HintDelay )
    if ( Trig_H2_HeroPoints_Q_Func014001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_H2_HeroPoints_Q takes nothing returns nothing
    set gg_trg_H2_HeroPoints_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_H2_HeroPoints_Q, Condition( function Trig_H2_HeroPoints_Q_Conditions ) )
    call TriggerAddAction( gg_trg_H2_HeroPoints_Q, function Trig_H2_HeroPoints_Q_Actions )
endfunction

//===========================================================================
// Trigger: H2 HeroPoints Abort
//===========================================================================
function Trig_H2_HeroPoints_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_H2_HeroPoints_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T01Narrator35, true )
    call StopSoundBJ( gg_snd_T01Narrator36, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_H2_HeroPoints_Q )
endfunction

//===========================================================================
function InitTrig_H2_HeroPoints_Abort takes nothing returns nothing
    set gg_trg_H2_HeroPoints_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_H2_HeroPoints_Abort, function Trig_H2_HeroPoints_Abort_Actions )
endfunction

//===========================================================================
// Trigger: H2 HeroPoints DoneA
//===========================================================================
function Trig_H2_HeroPoints_DoneA_Conditions takes nothing returns boolean
    if ( not ( udg_HeroPointsAvailable > 0 ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_H2_HeroPoints_DoneA_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_H2_HeroPoints_DoneA )
    call DisableTrigger( gg_trg_H2_HeroPoints_DoneB )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_H2_HeroPoints_Abort )
    call TriggerSleepAction( udg_ActAbortDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_H3_SpendPoint_Q, true )
endfunction

//===========================================================================
function InitTrig_H2_HeroPoints_DoneA takes nothing returns nothing
    set gg_trg_H2_HeroPoints_DoneA = CreateTrigger(  )
    call TriggerRegisterShowSkillEventBJ( gg_trg_H2_HeroPoints_DoneA )
    call TriggerAddCondition( gg_trg_H2_HeroPoints_DoneA, Condition( function Trig_H2_HeroPoints_DoneA_Conditions ) )
    call TriggerAddAction( gg_trg_H2_HeroPoints_DoneA, function Trig_H2_HeroPoints_DoneA_Actions )
endfunction

//===========================================================================
// Trigger: H2 HeroPoints DoneB
//
// This alternate "Done" trigger allows users to bypass H2, H3 if they are quick enough and know what they are doing.
//===========================================================================
function Trig_H2_HeroPoints_DoneB_Conditions takes nothing returns boolean
    if ( not ( GetLearnedSkillBJ() == 'AOcl' ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_H2_HeroPoints_DoneB_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_H2_HeroPoints_DoneA )
    call DisableTrigger( gg_trg_H2_HeroPoints_DoneB )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_H2_HeroPoints_Abort )
    call TriggerSleepAction( udg_ActAbortDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_H3_SpendPoint_Q, true )
endfunction

//===========================================================================
function InitTrig_H2_HeroPoints_DoneB takes nothing returns nothing
    set gg_trg_H2_HeroPoints_DoneB = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_H2_HeroPoints_DoneB, Player(0), EVENT_PLAYER_HERO_SKILL )
    call TriggerAddCondition( gg_trg_H2_HeroPoints_DoneB, Condition( function Trig_H2_HeroPoints_DoneB_Conditions ) )
    call TriggerAddAction( gg_trg_H2_HeroPoints_DoneB, function Trig_H2_HeroPoints_DoneB_Actions )
endfunction

//===========================================================================
// Trigger: H3 SpendPoint Q
//===========================================================================
function Trig_H3_SpendPoint_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_H3_SpendPoint_Q_Func005001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_H3_SpendPoint_Q_Func009001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_H3_SpendPoint_Q_Actions takes nothing returns nothing
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(2), udg_NarratorPortrait, "TRIGSTR_341", GetUnitLoc(udg_Thrall), gg_snd_T01Narrator37, "TRIGSTR_342", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Narrator37, 0 )
    if ( Trig_H3_SpendPoint_Q_Func005001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Line" )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(2), udg_NarratorPortrait, "TRIGSTR_343", GetUnitLoc(udg_Thrall), gg_snd_T01Narrator3801, "TRIGSTR_344", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Narrator3801, 0 )
    if ( Trig_H3_SpendPoint_Q_Func009001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_H3_SpendPoint_Q takes nothing returns nothing
    set gg_trg_H3_SpendPoint_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_H3_SpendPoint_Q, Condition( function Trig_H3_SpendPoint_Q_Conditions ) )
    call TriggerAddAction( gg_trg_H3_SpendPoint_Q, function Trig_H3_SpendPoint_Q_Actions )
endfunction

//===========================================================================
// Trigger: H3 SpendPoint Abort
//===========================================================================
function Trig_H3_SpendPoint_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_H3_SpendPoint_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T01Narrator37, true )
    call StopSoundBJ( gg_snd_T01Narrator3801, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_H3_SpendPoint_Q )
endfunction

//===========================================================================
function InitTrig_H3_SpendPoint_Abort takes nothing returns nothing
    set gg_trg_H3_SpendPoint_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_H3_SpendPoint_Abort, function Trig_H3_SpendPoint_Abort_Actions )
endfunction

//===========================================================================
// Trigger: H3 SpendPoint Done
//===========================================================================
function Trig_H3_SpendPoint_Done_Conditions takes nothing returns boolean
    if ( not ( GetLearnedSkillBJ() == 'AOcl' ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_H3_SpendPoint_Done_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_H3_SpendPoint_Abort )
    set udg_H_SpendPointDone = true
endfunction

//===========================================================================
function InitTrig_H3_SpendPoint_Done takes nothing returns nothing
    set gg_trg_H3_SpendPoint_Done = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_H3_SpendPoint_Done, Player(0), EVENT_PLAYER_HERO_SKILL )
    call TriggerAddCondition( gg_trg_H3_SpendPoint_Done, Condition( function Trig_H3_SpendPoint_Done_Conditions ) )
    call TriggerAddAction( gg_trg_H3_SpendPoint_Done, function Trig_H3_SpendPoint_Done_Actions )
endfunction

//===========================================================================
// Trigger: M1 FoundMurlocs Event
//===========================================================================
function Trig_M1_FoundMurlocs_Event_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_M1_FoundMurlocs_Event_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_M1_FoundMurlocs_Q, true )
endfunction

//===========================================================================
function InitTrig_M1_FoundMurlocs_Event takes nothing returns nothing
    set gg_trg_M1_FoundMurlocs_Event = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_M1_FoundMurlocs_Event, gg_rct_SpotTripwire08A )
    call TriggerRegisterEnterRectSimple( gg_trg_M1_FoundMurlocs_Event, gg_rct_SpotTripwire08B )
    call TriggerRegisterEnterRectSimple( gg_trg_M1_FoundMurlocs_Event, gg_rct_SpotTripwire08C )
    call TriggerAddCondition( gg_trg_M1_FoundMurlocs_Event, Condition( function Trig_M1_FoundMurlocs_Event_Conditions ) )
    call TriggerAddAction( gg_trg_M1_FoundMurlocs_Event, function Trig_M1_FoundMurlocs_Event_Actions )
endfunction

//===========================================================================
// Trigger: M1 FoundMurlocs Q
//===========================================================================
function Trig_M1_FoundMurlocs_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_M1_FoundMurlocs_Q_Func007001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_M1_FoundMurlocs_Q_Func011001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_M1_FoundMurlocs_Q_Actions takes nothing returns nothing
    call FogModifierStop( udg_Visibility07 )
    call FogModifierStart( udg_Visibility08 )
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), udg_APlayer01, 'ogru', "TRIGSTR_349", GetRectCenter(gg_rct_Spot08), gg_snd_T01Grunt39, "TRIGSTR_350", bj_TIMETYPE_ADD, 0, false )
    call TriggerSleepAction( 1.30 )
    if ( Trig_M1_FoundMurlocs_Q_Func007001() ) then
        return
    else
        call DoNothing(  )
    endif
    call PingMinimapLocForForce( GetPlayersAll(), GetRectCenter(gg_rct_Spot08), udg_PingTime )
    call SetCameraQuickPositionLocForPlayer( udg_APlayer01, GetRectCenter(gg_rct_Spot08) )
    call WaitForSoundBJ( gg_snd_T01Grunt39, 0 )
    if ( Trig_M1_FoundMurlocs_Q_Func011001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
    set udg_M_FoundMurlocsDone = true
endfunction

//===========================================================================
function InitTrig_M1_FoundMurlocs_Q takes nothing returns nothing
    set gg_trg_M1_FoundMurlocs_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_M1_FoundMurlocs_Q, Condition( function Trig_M1_FoundMurlocs_Q_Conditions ) )
    call TriggerAddAction( gg_trg_M1_FoundMurlocs_Q, function Trig_M1_FoundMurlocs_Q_Actions )
endfunction

//===========================================================================
// Trigger: M1 FoundMurlocs Abort
//===========================================================================
function Trig_M1_FoundMurlocs_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_M1_FoundMurlocs_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T01Grunt39, true )
    call VolumeGroupResetBJ(  )
    call FogModifierStop( udg_Visibility08 )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_M1_FoundMurlocs_Q )
endfunction

//===========================================================================
function InitTrig_M1_FoundMurlocs_Abort takes nothing returns nothing
    set gg_trg_M1_FoundMurlocs_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_M1_FoundMurlocs_Abort, function Trig_M1_FoundMurlocs_Abort_Actions )
endfunction

//===========================================================================
// Trigger: M1 FoundMurlocs Done
//===========================================================================
function Trig_M1_FoundMurlocs_Done_Conditions takes nothing returns boolean
    if ( not ( IsUnitGroupDeadBJ(udg_MurlocGroup) == true ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_M1_FoundMurlocs_Done_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_M1_FoundMurlocs_Abort )
    call TriggerSleepAction( udg_ActAbortDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_I1_PickUpItem_Q, true )
    call CreateItemLoc( 'pman', GetUnitLoc(GetDyingUnit()) )
    set udg_M_FoundMurlocsDone = true
endfunction

//===========================================================================
function InitTrig_M1_FoundMurlocs_Done takes nothing returns nothing
    set gg_trg_M1_FoundMurlocs_Done = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_M1_FoundMurlocs_Done, Player(PLAYER_NEUTRAL_AGGRESSIVE), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_M1_FoundMurlocs_Done, Condition( function Trig_M1_FoundMurlocs_Done_Conditions ) )
    call TriggerAddAction( gg_trg_M1_FoundMurlocs_Done, function Trig_M1_FoundMurlocs_Done_Actions )
endfunction

//===========================================================================
// Trigger: M2 UseChainLit Event
//
// Only queue up the "Use Chain Lightning" narration if the player has found the murlocs and has spent his skill point.
// This should work even if the player spends his skill point mid-combat with the murlocs.
//===========================================================================
function Trig_M2_UseChainLit_Event_Conditions takes nothing returns boolean
    if ( not ( udg_H_SpendPointDone == true ) ) then
        return false
    endif
    if ( not ( udg_M_FoundMurlocsDone == true ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_M2_UseChainLit_Event_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_M2_UseChainLit_Q, true )
endfunction

//===========================================================================
function InitTrig_M2_UseChainLit_Event takes nothing returns nothing
    set gg_trg_M2_UseChainLit_Event = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_M2_UseChainLit_Event, 0.20 )
    call TriggerAddCondition( gg_trg_M2_UseChainLit_Event, Condition( function Trig_M2_UseChainLit_Event_Conditions ) )
    call TriggerAddAction( gg_trg_M2_UseChainLit_Event, function Trig_M2_UseChainLit_Event_Actions )
endfunction

//===========================================================================
// Trigger: M2 UseChainLit Q
//===========================================================================
function Trig_M2_UseChainLit_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_M2_UseChainLit_Q_Func007001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_M2_UseChainLit_Q_Actions takes nothing returns nothing
    call CommentString( "Ensure that the user has enough mana to cast Chain Lightning at least once." )
    call SetUnitManaBJ( udg_Thrall, RMaxBJ(140.00, GetUnitStateSwap(UNIT_STATE_MANA, udg_Thrall)) )
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(2), udg_NarratorPortrait, "TRIGSTR_385", GetUnitLoc(udg_Thrall), gg_snd_T01Narrator40, "TRIGSTR_386", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Narrator40, 0 )
    if ( Trig_M2_UseChainLit_Q_Func007001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_M2_UseChainLit_Q takes nothing returns nothing
    set gg_trg_M2_UseChainLit_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_M2_UseChainLit_Q, Condition( function Trig_M2_UseChainLit_Q_Conditions ) )
    call TriggerAddAction( gg_trg_M2_UseChainLit_Q, function Trig_M2_UseChainLit_Q_Actions )
endfunction

//===========================================================================
// Trigger: M2 UseChainLit Abort
//===========================================================================
function Trig_M2_UseChainLit_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_M2_UseChainLit_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T01Narrator40, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_M2_UseChainLit_Q )
endfunction

//===========================================================================
function InitTrig_M2_UseChainLit_Abort takes nothing returns nothing
    set gg_trg_M2_UseChainLit_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_M2_UseChainLit_Abort, function Trig_M2_UseChainLit_Abort_Actions )
endfunction

//===========================================================================
// Trigger: M2 UseChainLit Done
//===========================================================================
function Trig_M2_UseChainLit_Done_Conditions takes nothing returns boolean
    if ( not ( IsUnitGroupDeadBJ(udg_MurlocGroup) == true ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_M2_UseChainLit_Done_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_M2_UseChainLit_Abort )
endfunction

//===========================================================================
function InitTrig_M2_UseChainLit_Done takes nothing returns nothing
    set gg_trg_M2_UseChainLit_Done = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_M2_UseChainLit_Done, Player(PLAYER_NEUTRAL_AGGRESSIVE), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_M2_UseChainLit_Done, Condition( function Trig_M2_UseChainLit_Done_Conditions ) )
    call TriggerAddAction( gg_trg_M2_UseChainLit_Done, function Trig_M2_UseChainLit_Done_Actions )
endfunction

//===========================================================================
// Trigger: I1 PickUpItem Q
//===========================================================================
function Trig_I1_PickUpItem_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_I1_PickUpItem_Q_Func002001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_I1_PickUpItem_Q_Func007001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_I1_PickUpItem_Q_Func012001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_I1_PickUpItem_Q_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.50 )
    if ( Trig_I1_PickUpItem_Q_Func002001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(2), udg_NarratorPortrait, "TRIGSTR_358", GetUnitLoc(udg_Thrall), gg_snd_T01Narrator41, "TRIGSTR_359", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Narrator41, 0 )
    if ( Trig_I1_PickUpItem_Q_Func007001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Hint" )
    call ConditionalTriggerExecute( gg_trg_Hint_PickUpItem )
    call TriggerSleepAction( udg_HintDelay )
    if ( Trig_I1_PickUpItem_Q_Func012001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_I1_PickUpItem_Q takes nothing returns nothing
    set gg_trg_I1_PickUpItem_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_I1_PickUpItem_Q, Condition( function Trig_I1_PickUpItem_Q_Conditions ) )
    call TriggerAddAction( gg_trg_I1_PickUpItem_Q, function Trig_I1_PickUpItem_Q_Actions )
endfunction

//===========================================================================
// Trigger: I1 PickUpItem Abort
//===========================================================================
function Trig_I1_PickUpItem_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_I1_PickUpItem_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T01Narrator41, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_I1_PickUpItem_Q )
endfunction

//===========================================================================
function InitTrig_I1_PickUpItem_Abort takes nothing returns nothing
    set gg_trg_I1_PickUpItem_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_I1_PickUpItem_Abort, function Trig_I1_PickUpItem_Abort_Actions )
endfunction

//===========================================================================
// Trigger: I1 PickUpItem Done
//===========================================================================
function Trig_I1_PickUpItem_Done_Conditions takes nothing returns boolean
    if ( not ( GetItemTypeId(GetManipulatedItem()) == 'pman' ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_I1_PickUpItem_Done_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_I1_PickUpItem_Abort )
    call TriggerSleepAction( udg_ActAbortDoneDelay )
    call QueuedTriggerAddBJ( gg_trg_I2_ManaPotion_Q, true )
endfunction

//===========================================================================
function InitTrig_I1_PickUpItem_Done takes nothing returns nothing
    set gg_trg_I1_PickUpItem_Done = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_I1_PickUpItem_Done, Player(0), EVENT_PLAYER_UNIT_PICKUP_ITEM )
    call TriggerAddCondition( gg_trg_I1_PickUpItem_Done, Condition( function Trig_I1_PickUpItem_Done_Conditions ) )
    call TriggerAddAction( gg_trg_I1_PickUpItem_Done, function Trig_I1_PickUpItem_Done_Actions )
endfunction

//===========================================================================
// Trigger: I2 ManaPotion Q
//===========================================================================
function Trig_I2_ManaPotion_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_I2_ManaPotion_Q_Func005001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_I2_ManaPotion_Q_Func009001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_I2_ManaPotion_Q_Func014001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_I2_ManaPotion_Q_Actions takes nothing returns nothing
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(2), udg_NarratorPortrait, "TRIGSTR_363", GetUnitLoc(udg_Thrall), gg_snd_T01Narrator43, "TRIGSTR_364", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Narrator43, 0 )
    if ( Trig_I2_ManaPotion_Q_Func005001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Line" )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(2), udg_NarratorPortrait, "TRIGSTR_366", GetUnitLoc(udg_Thrall), gg_snd_T01Narrator44, "TRIGSTR_367", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Narrator44, 0 )
    if ( Trig_I2_ManaPotion_Q_Func009001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Hint" )
    call ConditionalTriggerExecute( gg_trg_Hint_ItemTooltip )
    call TriggerSleepAction( udg_HintDelay )
    if ( Trig_I2_ManaPotion_Q_Func014001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
    set udg_I_ManaPotionDone = true
endfunction

//===========================================================================
function InitTrig_I2_ManaPotion_Q takes nothing returns nothing
    set gg_trg_I2_ManaPotion_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_I2_ManaPotion_Q, Condition( function Trig_I2_ManaPotion_Q_Conditions ) )
    call TriggerAddAction( gg_trg_I2_ManaPotion_Q, function Trig_I2_ManaPotion_Q_Actions )
endfunction

//===========================================================================
// Trigger: I2 ManaPotion Abort
//===========================================================================
function Trig_I2_ManaPotion_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_I2_ManaPotion_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T01Narrator43, true )
    call StopSoundBJ( gg_snd_T01Narrator44, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_I2_ManaPotion_Q )
endfunction

//===========================================================================
function InitTrig_I2_ManaPotion_Abort takes nothing returns nothing
    set gg_trg_I2_ManaPotion_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_I2_ManaPotion_Abort, function Trig_I2_ManaPotion_Abort_Actions )
endfunction

//===========================================================================
// Trigger: I2 ManaPotion Done
//===========================================================================
function Trig_I2_ManaPotion_Done_Conditions takes nothing returns boolean
    if ( not ( GetItemTypeId(GetManipulatedItem()) == 'pman' ) ) then
        return false
    endif
    if ( not ( GetManipulatingUnit() == udg_Thrall ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_I2_ManaPotion_Done_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_I2_ManaPotion_Abort )
    set udg_I_ManaPotionDone = true
endfunction

//===========================================================================
function InitTrig_I2_ManaPotion_Done takes nothing returns nothing
    set gg_trg_I2_ManaPotion_Done = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_I2_ManaPotion_Done, Player(0), EVENT_PLAYER_UNIT_USE_ITEM )
    call TriggerAddCondition( gg_trg_I2_ManaPotion_Done, Condition( function Trig_I2_ManaPotion_Done_Conditions ) )
    call TriggerAddAction( gg_trg_I2_ManaPotion_Done, function Trig_I2_ManaPotion_Done_Actions )
endfunction

//===========================================================================
// Trigger: I3 LowMana Event
//===========================================================================
function Trig_I3_LowMana_Event_Conditions takes nothing returns boolean
    if ( not ( udg_I_ManaPotionDone == true ) ) then
        return false
    endif
    if ( not ( GetUnitStateSwap(UNIT_STATE_MANA, udg_Thrall) < 100.00 ) ) then
        return false
    endif
    if ( not ( UnitHasItemOfTypeBJ(udg_Thrall, 'pman') == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_I3_LowMana_Event_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_I3_LowMana_Q, true )
endfunction

//===========================================================================
function InitTrig_I3_LowMana_Event takes nothing returns nothing
    set gg_trg_I3_LowMana_Event = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_I3_LowMana_Event, 0.50 )
    call TriggerAddCondition( gg_trg_I3_LowMana_Event, Condition( function Trig_I3_LowMana_Event_Conditions ) )
    call TriggerAddAction( gg_trg_I3_LowMana_Event, function Trig_I3_LowMana_Event_Actions )
endfunction

//===========================================================================
// Trigger: I3 LowMana Q
//===========================================================================
function Trig_I3_LowMana_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_I3_LowMana_Q_Func005001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_I3_LowMana_Q_Func010001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_I3_LowMana_Q_Actions takes nothing returns nothing
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(2), udg_NarratorPortrait, "TRIGSTR_391", GetUnitLoc(udg_Thrall), gg_snd_T01Narrator45, "TRIGSTR_392", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Narrator45, 0 )
    if ( Trig_I3_LowMana_Q_Func005001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Hint" )
    call ConditionalTriggerExecute( gg_trg_Hint_UseManaPotion )
    call TriggerSleepAction( udg_HintDelay )
    if ( Trig_I3_LowMana_Q_Func010001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_I3_LowMana_Q takes nothing returns nothing
    set gg_trg_I3_LowMana_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_I3_LowMana_Q, Condition( function Trig_I3_LowMana_Q_Conditions ) )
    call TriggerAddAction( gg_trg_I3_LowMana_Q, function Trig_I3_LowMana_Q_Actions )
endfunction

//===========================================================================
// Trigger: I3 LowMana Abort
//===========================================================================
function Trig_I3_LowMana_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_I3_LowMana_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T01Narrator45, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_I3_LowMana_Q )
endfunction

//===========================================================================
function InitTrig_I3_LowMana_Abort takes nothing returns nothing
    set gg_trg_I3_LowMana_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_I3_LowMana_Abort, function Trig_I3_LowMana_Abort_Actions )
endfunction

//===========================================================================
// Trigger: I3 LowMana Done
//===========================================================================
function Trig_I3_LowMana_Done_Conditions takes nothing returns boolean
    if ( not ( GetItemTypeId(GetManipulatedItem()) == 'pman' ) ) then
        return false
    endif
    if ( not ( GetManipulatingUnit() == udg_Thrall ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_I3_LowMana_Done_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_I3_LowMana_Abort )
endfunction

//===========================================================================
function InitTrig_I3_LowMana_Done takes nothing returns nothing
    set gg_trg_I3_LowMana_Done = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_I3_LowMana_Done, Player(0), EVENT_PLAYER_UNIT_USE_ITEM )
    call TriggerAddCondition( gg_trg_I3_LowMana_Done, Condition( function Trig_I3_LowMana_Done_Conditions ) )
    call TriggerAddAction( gg_trg_I3_LowMana_Done, function Trig_I3_LowMana_Done_Actions )
endfunction

//===========================================================================
// Trigger: C1 Continue Event
//===========================================================================
function Trig_C1_Continue_Event_Conditions takes nothing returns boolean
    if ( not ( udg_I_ManaPotionDone == true ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_C1_Continue_Event_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call FogModifierStop( udg_Visibility08 )
    call TriggerSleepAction( 1.00 )
    call QueuedTriggerAddBJ( gg_trg_C1_Continue_Q, true )
endfunction

//===========================================================================
function InitTrig_C1_Continue_Event takes nothing returns nothing
    set gg_trg_C1_Continue_Event = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_C1_Continue_Event, 0.50 )
    call TriggerAddCondition( gg_trg_C1_Continue_Event, Condition( function Trig_C1_Continue_Event_Conditions ) )
    call TriggerAddAction( gg_trg_C1_Continue_Event, function Trig_C1_Continue_Event_Actions )
endfunction

//===========================================================================
// Trigger: C1 Continue Q
//===========================================================================
function Trig_C1_Continue_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_C1_Continue_Q_Func008001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_C1_Continue_Q_Func011001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_C1_Continue_Q_Actions takes nothing returns nothing
    call PingMinimapLocForForce( GetPlayersAll(), GetRectCenter(gg_rct_Spot09), udg_PingTime )
    call SetCameraQuickPositionLocForPlayer( udg_APlayer01, GetRectCenter(gg_rct_Spot09) )
    call FogModifierStart( udg_Visibility09 )
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(2), udg_NarratorPortrait, "TRIGSTR_373", GetUnitLoc(udg_Thrall), gg_snd_T01Narrator47, "TRIGSTR_374", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Narrator47, 1.00 )
    if ( Trig_C1_Continue_Q_Func008001() ) then
        return
    else
        call DoNothing(  )
    endif
    call ConditionalTriggerExecute( gg_trg_C1_Continue_Ping )
    call WaitForSoundBJ( gg_snd_T01Narrator47, 0 )
    if ( Trig_C1_Continue_Q_Func011001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_C1_Continue_Q takes nothing returns nothing
    set gg_trg_C1_Continue_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_C1_Continue_Q, Condition( function Trig_C1_Continue_Q_Conditions ) )
    call TriggerAddAction( gg_trg_C1_Continue_Q, function Trig_C1_Continue_Q_Actions )
endfunction

//===========================================================================
// Trigger: C1 Continue Ping
//===========================================================================
function Trig_C1_Continue_Ping_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_C1_Continue_Ping_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call PingMinimapLocForForce( GetPlayersAll(), GetRectCenter(gg_rct_Spot09), udg_PingTime )
    call SetCameraQuickPositionLocForPlayer( udg_APlayer01, GetRectCenter(gg_rct_Spot09) )
endfunction

//===========================================================================
function InitTrig_C1_Continue_Ping takes nothing returns nothing
    set gg_trg_C1_Continue_Ping = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_C1_Continue_Ping, Condition( function Trig_C1_Continue_Ping_Conditions ) )
    call TriggerAddAction( gg_trg_C1_Continue_Ping, function Trig_C1_Continue_Ping_Actions )
endfunction

//===========================================================================
// Trigger: C1 Continue Abort
//===========================================================================
function Trig_C1_Continue_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_C1_Continue_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T01Narrator47, true )
    call VolumeGroupResetBJ(  )
    call FogModifierStop( udg_Visibility08 )
    call FogModifierStart( udg_Visibility09 )
    call ConditionalTriggerExecute( gg_trg_C1_Continue_Ping )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_C1_Continue_Q )
endfunction

//===========================================================================
function InitTrig_C1_Continue_Abort takes nothing returns nothing
    set gg_trg_C1_Continue_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_C1_Continue_Abort, function Trig_C1_Continue_Abort_Actions )
endfunction

//===========================================================================
// Trigger: C1 Continue Done
//===========================================================================
function Trig_C1_Continue_Done_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_APlayer01 ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_C1_Continue_Done_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_C1_Continue_Abort )
endfunction

//===========================================================================
function InitTrig_C1_Continue_Done takes nothing returns nothing
    set gg_trg_C1_Continue_Done = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_C1_Continue_Done, gg_rct_SpotBypass08A )
    call TriggerRegisterEnterRectSimple( gg_trg_C1_Continue_Done, gg_rct_SpotBypass08B )
    call TriggerAddCondition( gg_trg_C1_Continue_Done, Condition( function Trig_C1_Continue_Done_Conditions ) )
    call TriggerAddAction( gg_trg_C1_Continue_Done, function Trig_C1_Continue_Done_Actions )
endfunction

//===========================================================================
// Trigger: N1 Nightfall Event
//===========================================================================
function Trig_N1_Nightfall_Event_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_APlayer01 ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_N1_Nightfall_Event_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call PlaySoundBJ( udg_GoodJobSound )
    call FogModifierStop( udg_Visibility09 )
    call SetDoodadAnimationRectBJ( "death", 'LOo2', gg_rct_Spot09 )
    call SetUnitColor( udg_Circle09, GetPlayerColor(Player(PLAYER_NEUTRAL_PASSIVE)) )
    call QueuedTriggerAddBJ( gg_trg_N1_Nightfall_Q, true )
endfunction

//===========================================================================
function InitTrig_N1_Nightfall_Event takes nothing returns nothing
    set gg_trg_N1_Nightfall_Event = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_N1_Nightfall_Event, gg_rct_Spot09 )
    call TriggerRegisterEnterRectSimple( gg_trg_N1_Nightfall_Event, gg_rct_SpotBypass09A )
    call TriggerRegisterEnterRectSimple( gg_trg_N1_Nightfall_Event, gg_rct_SpotBypass09B )
    call TriggerAddCondition( gg_trg_N1_Nightfall_Event, Condition( function Trig_N1_Nightfall_Event_Conditions ) )
    call TriggerAddAction( gg_trg_N1_Nightfall_Event, function Trig_N1_Nightfall_Event_Actions )
endfunction

//===========================================================================
// Trigger: N1 Nightfall Q
//===========================================================================
function Trig_N1_Nightfall_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_N1_Nightfall_Q_Func011001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_N1_Nightfall_Q_Func016001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_N1_Nightfall_Q_Func020001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_N1_Nightfall_Q_Func025001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_N1_Nightfall_Q_Actions takes nothing returns nothing
    call PingMinimapLocForForce( GetPlayersAll(), GetRectCenter(gg_rct_SpotVictory), udg_PingTime )
    call SetCameraQuickPositionLocForPlayer( udg_APlayer01, GetRectCenter(gg_rct_SpotVictory) )
    call FogModifierStart( udg_VisibilityVictory )
    call CommentString( "Let there be night" )
    set udg_SlowDayAllowed = false
    set udg_SlowNightAllowed = true
    call UseTimeOfDayBJ( true )
    call SetTimeOfDay( 17.95 )
    call SetTimeOfDayScalePercentBJ( 100.00 )
    call TriggerSleepAction( 2 )
    if ( Trig_N1_Nightfall_Q_Func011001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(2), udg_NarratorPortrait, "TRIGSTR_404", GetUnitLoc(udg_Thrall), gg_snd_T01Narrator49, "TRIGSTR_405", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Narrator49, 0 )
    if ( Trig_N1_Nightfall_Q_Func016001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Thrall, "TRIGSTR_445", gg_snd_T01Thrall48, "TRIGSTR_446", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Thrall48, 0 )
    if ( Trig_N1_Nightfall_Q_Func020001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Hint" )
    call ConditionalTriggerExecute( gg_trg_Hint_NightVisibility )
    call TriggerSleepAction( udg_HintDelay )
    if ( Trig_N1_Nightfall_Q_Func025001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_N1_Nightfall_Q takes nothing returns nothing
    set gg_trg_N1_Nightfall_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_N1_Nightfall_Q, Condition( function Trig_N1_Nightfall_Q_Conditions ) )
    call TriggerAddAction( gg_trg_N1_Nightfall_Q, function Trig_N1_Nightfall_Q_Actions )
endfunction

//===========================================================================
// Trigger: N1 Nightfall Abort
//===========================================================================
function Trig_N1_Nightfall_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_N1_Nightfall_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T01Narrator49, true )
    call StopSoundBJ( gg_snd_T01Thrall48, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_N1_Nightfall_Q )
endfunction

//===========================================================================
function InitTrig_N1_Nightfall_Abort takes nothing returns nothing
    set gg_trg_N1_Nightfall_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_N1_Nightfall_Abort, function Trig_N1_Nightfall_Abort_Actions )
endfunction

//===========================================================================
// Trigger: N1 Nightfall Done
//===========================================================================
function Trig_N1_Nightfall_Done_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_N1_Nightfall_Done_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_N1_Nightfall_Abort )
endfunction

//===========================================================================
function InitTrig_N1_Nightfall_Done takes nothing returns nothing
    set gg_trg_N1_Nightfall_Done = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_N1_Nightfall_Done, Condition( function Trig_N1_Nightfall_Done_Conditions ) )
    call TriggerAddAction( gg_trg_N1_Nightfall_Done, function Trig_N1_Nightfall_Done_Actions )
endfunction

//===========================================================================
// Trigger: Hidden Item Event
//===========================================================================
function Trig_Hidden_Item_Event_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_APlayer01 ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Hidden_Item_Event_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Hidden_Item_Q, true )
endfunction

//===========================================================================
function InitTrig_Hidden_Item_Event takes nothing returns nothing
    set gg_trg_Hidden_Item_Event = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Hidden_Item_Event, gg_rct_Hidden_Item_TripwireA )
    call TriggerRegisterEnterRectSimple( gg_trg_Hidden_Item_Event, gg_rct_Hidden_Item_TripwireB )
    call TriggerAddCondition( gg_trg_Hidden_Item_Event, Condition( function Trig_Hidden_Item_Event_Conditions ) )
    call TriggerAddAction( gg_trg_Hidden_Item_Event, function Trig_Hidden_Item_Event_Actions )
endfunction

//===========================================================================
// Trigger: Hidden Item Q
//===========================================================================
function Trig_Hidden_Item_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Hidden_Item_Q_Func004001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_Hidden_Item_Q_Actions takes nothing returns nothing
    call CommentString( "Hint" )
    call ConditionalTriggerExecute( gg_trg_Hint_UnexploredAreas )
    call TriggerSleepAction( udg_HintDelay )
    if ( Trig_Hidden_Item_Q_Func004001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Hidden_Item_Q takes nothing returns nothing
    set gg_trg_Hidden_Item_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Hidden_Item_Q, Condition( function Trig_Hidden_Item_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Hidden_Item_Q, function Trig_Hidden_Item_Q_Actions )
endfunction

//===========================================================================
// Trigger: O1 SleepingOgre Event
//===========================================================================
function Trig_O1_SleepingOgre_Event_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_APlayer01 ) ) then
        return false
    endif
    if ( not ( udg_Ogre != null ) ) then
        return false
    endif
    if ( not ( DistanceBetweenPoints(GetUnitLoc(udg_Thrall), GetRectCenter(gg_rct_SpeakingAnchor10)) < udg_SpeakingDistance ) ) then
        return false
    endif
    if ( not ( UnitIsSleepingBJ(udg_Ogre) == true ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_O1_SleepingOgre_Event_Func002001 takes nothing returns boolean
    return ( GetTimeOfDay() < 18.00 )
endfunction

function Trig_O1_SleepingOgre_Event_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    if ( Trig_O1_SleepingOgre_Event_Func002001() ) then
        call SetTimeOfDay( 18.50 )
    else
        call DoNothing(  )
    endif
    call QueuedTriggerAddBJ( gg_trg_O1_SleepingOgre_Q, true )
endfunction

//===========================================================================
function InitTrig_O1_SleepingOgre_Event takes nothing returns nothing
    set gg_trg_O1_SleepingOgre_Event = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_O1_SleepingOgre_Event, gg_rct_Spot10 )
    call TriggerRegisterEnterRectSimple( gg_trg_O1_SleepingOgre_Event, gg_rct_SpotTripwire10A )
    call TriggerRegisterEnterRectSimple( gg_trg_O1_SleepingOgre_Event, gg_rct_SpotTripwire10B )
    call TriggerRegisterEnterRectSimple( gg_trg_O1_SleepingOgre_Event, gg_rct_SpotTripwire10C )
    call TriggerAddCondition( gg_trg_O1_SleepingOgre_Event, Condition( function Trig_O1_SleepingOgre_Event_Conditions ) )
    call TriggerAddAction( gg_trg_O1_SleepingOgre_Event, function Trig_O1_SleepingOgre_Event_Actions )
endfunction

//===========================================================================
// Trigger: O1 SleepingOgre Q
//===========================================================================
function Trig_O1_SleepingOgre_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_O1_SleepingOgre_Q_Func002001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_O1_SleepingOgre_Q_Func010001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_O1_SleepingOgre_Q_Func015001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_O1_SleepingOgre_Q_Func019001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_O1_SleepingOgre_Q_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.50 )
    if ( Trig_O1_SleepingOgre_Q_Func002001() ) then
        return
    else
        call DoNothing(  )
    endif
    call PingMinimapLocForForce( GetPlayersAll(), GetRectCenter(gg_rct_Spot10), udg_PingTime )
    call SetCameraQuickPositionLocForPlayer( udg_APlayer01, GetRectCenter(gg_rct_Spot10) )
    call FogModifierStart( udg_Visibility10 )
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Thrall, "TRIGSTR_416", gg_snd_T01Thrall51, "TRIGSTR_417", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Thrall51, 0 )
    if ( Trig_O1_SleepingOgre_Q_Func010001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Hint" )
    call ConditionalTriggerExecute( gg_trg_Hint_SleepersWake )
    call TriggerSleepAction( udg_HintDelay )
    if ( Trig_O1_SleepingOgre_Q_Func015001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
    call TriggerSleepAction( 5.00 )
    if ( Trig_O1_SleepingOgre_Q_Func019001() ) then
        return
    else
        call DoNothing(  )
    endif
    call FogModifierStop( udg_Visibility10 )
endfunction

//===========================================================================
function InitTrig_O1_SleepingOgre_Q takes nothing returns nothing
    set gg_trg_O1_SleepingOgre_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_O1_SleepingOgre_Q, Condition( function Trig_O1_SleepingOgre_Q_Conditions ) )
    call TriggerAddAction( gg_trg_O1_SleepingOgre_Q, function Trig_O1_SleepingOgre_Q_Actions )
endfunction

//===========================================================================
// Trigger: O1 SleepingOgre Abort
//===========================================================================
function Trig_O1_SleepingOgre_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_O1_SleepingOgre_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T01Thrall51, true )
    call VolumeGroupResetBJ(  )
    call FogModifierStop( udg_Visibility10 )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_O1_SleepingOgre_Q )
endfunction

//===========================================================================
function InitTrig_O1_SleepingOgre_Abort takes nothing returns nothing
    set gg_trg_O1_SleepingOgre_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_O1_SleepingOgre_Abort, function Trig_O1_SleepingOgre_Abort_Actions )
endfunction

//===========================================================================
// Trigger: O1 SleepingOgre Done
//===========================================================================
function Trig_O1_SleepingOgre_Done_Conditions takes nothing returns boolean
    if ( not ( GetDyingUnit() == udg_Ogre ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_O1_SleepingOgre_Done_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_Ogre = null
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_O1_SleepingOgre_Abort )
endfunction

//===========================================================================
function InitTrig_O1_SleepingOgre_Done takes nothing returns nothing
    set gg_trg_O1_SleepingOgre_Done = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_O1_SleepingOgre_Done, Player(PLAYER_NEUTRAL_AGGRESSIVE), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_O1_SleepingOgre_Done, Condition( function Trig_O1_SleepingOgre_Done_Conditions ) )
    call TriggerAddAction( gg_trg_O1_SleepingOgre_Done, function Trig_O1_SleepingOgre_Done_Actions )
endfunction

//===========================================================================
// Trigger: G1 Golem Event
//===========================================================================
function Trig_G1_Golem_Event_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_APlayer01 ) ) then
        return false
    endif
    if ( not ( udg_Golem != null ) ) then
        return false
    endif
    if ( not ( DistanceBetweenPoints(GetUnitLoc(udg_Thrall), GetRectCenter(gg_rct_SpeakingAnchor11)) < udg_SpeakingDistance ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_G1_Golem_Event_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_G1_Golem_Q, true )
endfunction

//===========================================================================
function InitTrig_G1_Golem_Event takes nothing returns nothing
    set gg_trg_G1_Golem_Event = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_G1_Golem_Event, gg_rct_SpotTripwire11A )
    call TriggerRegisterEnterRectSimple( gg_trg_G1_Golem_Event, gg_rct_SpotTripwire11B )
    call TriggerRegisterEnterRectSimple( gg_trg_G1_Golem_Event, gg_rct_SpotTripwire11C )
    call TriggerAddCondition( gg_trg_G1_Golem_Event, Condition( function Trig_G1_Golem_Event_Conditions ) )
    call TriggerAddAction( gg_trg_G1_Golem_Event, function Trig_G1_Golem_Event_Actions )
endfunction

//===========================================================================
// Trigger: G1 Golem Q
//===========================================================================
function Trig_G1_Golem_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_G1_Golem_Q_Func002001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_G1_Golem_Q_Func010001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_G1_Golem_Q_Func015001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_G1_Golem_Q_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.50 )
    if ( Trig_G1_Golem_Q_Func002001() ) then
        return
    else
        call DoNothing(  )
    endif
    call PingMinimapLocForForce( GetPlayersAll(), GetRectCenter(gg_rct_Spot11), udg_PingTime )
    call SetCameraQuickPositionLocForPlayer( udg_APlayer01, GetRectCenter(gg_rct_Spot11) )
    call FogModifierStart( udg_Visibility11 )
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Thrall, "TRIGSTR_423", gg_snd_T01Thrall53, "TRIGSTR_424", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Thrall53, 0 )
    if ( Trig_G1_Golem_Q_Func010001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
    call TriggerSleepAction( 5.00 )
    if ( Trig_G1_Golem_Q_Func015001() ) then
        return
    else
        call DoNothing(  )
    endif
    call FogModifierStop( udg_Visibility11 )
endfunction

//===========================================================================
function InitTrig_G1_Golem_Q takes nothing returns nothing
    set gg_trg_G1_Golem_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_G1_Golem_Q, Condition( function Trig_G1_Golem_Q_Conditions ) )
    call TriggerAddAction( gg_trg_G1_Golem_Q, function Trig_G1_Golem_Q_Actions )
endfunction

//===========================================================================
// Trigger: G1 Golem Abort
//===========================================================================
function Trig_G1_Golem_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_G1_Golem_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T01Thrall53, true )
    call VolumeGroupResetBJ(  )
    call FogModifierStop( udg_Visibility11 )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_G1_Golem_Q )
endfunction

//===========================================================================
function InitTrig_G1_Golem_Abort takes nothing returns nothing
    set gg_trg_G1_Golem_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_G1_Golem_Abort, function Trig_G1_Golem_Abort_Actions )
endfunction

//===========================================================================
// Trigger: G1 Golem Done
//===========================================================================
function Trig_G1_Golem_Done_Conditions takes nothing returns boolean
    if ( not ( GetDyingUnit() == udg_Golem ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_G1_Golem_Done_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_Golem = null
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_G1_Golem_Abort )
endfunction

//===========================================================================
function InitTrig_G1_Golem_Done takes nothing returns nothing
    set gg_trg_G1_Golem_Done = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_G1_Golem_Done, Player(PLAYER_NEUTRAL_AGGRESSIVE), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_G1_Golem_Done, Condition( function Trig_G1_Golem_Done_Conditions ) )
    call TriggerAddAction( gg_trg_G1_Golem_Done, function Trig_G1_Golem_Done_Actions )
endfunction

//===========================================================================
// Trigger: G2 Ring Event
//===========================================================================
function Trig_G2_Ring_Event_Conditions takes nothing returns boolean
    if ( not ( GetItemTypeId(GetManipulatedItem()) == 'rde0' ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_G2_Ring_Event_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_G2_Ring_Q, true )
endfunction

//===========================================================================
function InitTrig_G2_Ring_Event takes nothing returns nothing
    set gg_trg_G2_Ring_Event = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_G2_Ring_Event, Player(0), EVENT_PLAYER_UNIT_PICKUP_ITEM )
    call TriggerAddCondition( gg_trg_G2_Ring_Event, Condition( function Trig_G2_Ring_Event_Conditions ) )
    call TriggerAddAction( gg_trg_G2_Ring_Event, function Trig_G2_Ring_Event_Actions )
endfunction

//===========================================================================
// Trigger: G2 Ring Q
//===========================================================================
function Trig_G2_Ring_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_G2_Ring_Q_Func002001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_G2_Ring_Q_Func007001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_G2_Ring_Q_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.50 )
    if ( Trig_G2_Ring_Q_Func002001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(2), udg_NarratorPortrait, "TRIGSTR_427", GetUnitLoc(udg_Thrall), gg_snd_T01Narrator54, "TRIGSTR_428", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Narrator54, 0 )
    if ( Trig_G2_Ring_Q_Func007001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_G2_Ring_Q takes nothing returns nothing
    set gg_trg_G2_Ring_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_G2_Ring_Q, Condition( function Trig_G2_Ring_Q_Conditions ) )
    call TriggerAddAction( gg_trg_G2_Ring_Q, function Trig_G2_Ring_Q_Actions )
endfunction

//===========================================================================
// Trigger: T1 Trolls Event
//===========================================================================
function Trig_T1_Trolls_Event_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_APlayer01 ) ) then
        return false
    endif
    if ( not ( DistanceBetweenPoints(GetUnitLoc(udg_Thrall), GetRectCenter(gg_rct_SpeakingAnchor12)) < udg_SpeakingDistance ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_T1_Trolls_Event_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_T1_Trolls_Q, true )
endfunction

//===========================================================================
function InitTrig_T1_Trolls_Event takes nothing returns nothing
    set gg_trg_T1_Trolls_Event = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_T1_Trolls_Event, gg_rct_SpotTripwire12A )
    call TriggerAddCondition( gg_trg_T1_Trolls_Event, Condition( function Trig_T1_Trolls_Event_Conditions ) )
    call TriggerAddAction( gg_trg_T1_Trolls_Event, function Trig_T1_Trolls_Event_Actions )
endfunction

//===========================================================================
// Trigger: T1 Trolls Q
//===========================================================================
function Trig_T1_Trolls_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_T1_Trolls_Q_Func002001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_T1_Trolls_Q_Func010001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_T1_Trolls_Q_Func015001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_T1_Trolls_Q_Func019001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_T1_Trolls_Q_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.50 )
    if ( Trig_T1_Trolls_Q_Func002001() ) then
        return
    else
        call DoNothing(  )
    endif
    call PingMinimapLocForForce( GetPlayersAll(), GetRectCenter(gg_rct_Spot12), udg_PingTime )
    call SetCameraQuickPositionLocForPlayer( udg_APlayer01, GetRectCenter(gg_rct_Spot12) )
    call FogModifierStart( udg_Visibility12 )
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Thrall, "TRIGSTR_431", gg_snd_T01Thrall56, "TRIGSTR_432", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Thrall56, 0 )
    if ( Trig_T1_Trolls_Q_Func010001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Hint" )
    call ConditionalTriggerExecute( gg_trg_Hint_CreepLevel )
    call TriggerSleepAction( udg_HintDelay )
    if ( Trig_T1_Trolls_Q_Func015001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
    call TriggerSleepAction( 5.00 )
    if ( Trig_T1_Trolls_Q_Func019001() ) then
        return
    else
        call DoNothing(  )
    endif
    call FogModifierStop( udg_Visibility12 )
endfunction

//===========================================================================
function InitTrig_T1_Trolls_Q takes nothing returns nothing
    set gg_trg_T1_Trolls_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_T1_Trolls_Q, Condition( function Trig_T1_Trolls_Q_Conditions ) )
    call TriggerAddAction( gg_trg_T1_Trolls_Q, function Trig_T1_Trolls_Q_Actions )
endfunction

//===========================================================================
// Trigger: T1 Trolls Abort
//===========================================================================
function Trig_T1_Trolls_Abort_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_T1_Trolls_Q )
    call CommentString( "Stop potentially playing sounds" )
    call TriggerSleepAction( udg_ActAbortPreDelay )
    call StopSoundBJ( gg_snd_T01Thrall56, true )
    call VolumeGroupResetBJ(  )
    call FogModifierStop( udg_Visibility12 )
    call CommentString( "Free the Q" )
    call TriggerSleepAction( udg_ActAbortPostDelay )
    call QueuedTriggerRemoveBJ( gg_trg_T1_Trolls_Q )
endfunction

//===========================================================================
function InitTrig_T1_Trolls_Abort takes nothing returns nothing
    set gg_trg_T1_Trolls_Abort = CreateTrigger(  )
    call TriggerAddAction( gg_trg_T1_Trolls_Abort, function Trig_T1_Trolls_Abort_Actions )
endfunction

//===========================================================================
// Trigger: T1 Trolls Done
//===========================================================================
function Trig_T1_Trolls_Done_Conditions takes nothing returns boolean
    if ( not ( IsUnitGroupDeadBJ(udg_TrollsGroup) == true ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_T1_Trolls_Done_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommentString( "Abort and prep next Q" )
    call ConditionalTriggerExecute( gg_trg_T1_Trolls_Abort )
    call TriggerSleepAction( udg_ActAbortDoneDelay )
    call CreateItemLoc( 'manh', GetUnitLoc(GetDyingUnit()) )
endfunction

//===========================================================================
function InitTrig_T1_Trolls_Done takes nothing returns nothing
    set gg_trg_T1_Trolls_Done = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_T1_Trolls_Done, Player(PLAYER_NEUTRAL_AGGRESSIVE), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_T1_Trolls_Done, Condition( function Trig_T1_Trolls_Done_Conditions ) )
    call TriggerAddAction( gg_trg_T1_Trolls_Done, function Trig_T1_Trolls_Done_Actions )
endfunction

//===========================================================================
// Trigger: T2 Tome Event
//===========================================================================
function Trig_T2_Tome_Event_Conditions takes nothing returns boolean
    if ( not ( GetItemTypeId(GetManipulatedItem()) == 'manh' ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_T2_Tome_Event_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_T2_Tome_Q, true )
endfunction

//===========================================================================
function InitTrig_T2_Tome_Event takes nothing returns nothing
    set gg_trg_T2_Tome_Event = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_T2_Tome_Event, Player(0), EVENT_PLAYER_UNIT_PICKUP_ITEM )
    call TriggerAddCondition( gg_trg_T2_Tome_Event, Condition( function Trig_T2_Tome_Event_Conditions ) )
    call TriggerAddAction( gg_trg_T2_Tome_Event, function Trig_T2_Tome_Event_Actions )
endfunction

//===========================================================================
// Trigger: T2 Tome Q
//===========================================================================
function Trig_T2_Tome_Q_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_T2_Tome_Q_Func002001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_T2_Tome_Q_Func007001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_T2_Tome_Q_Func012001 takes nothing returns boolean
    return ( IsTriggerEnabled(GetTriggeringTrigger()) == false )
endfunction

function Trig_T2_Tome_Q_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.50 )
    if ( Trig_T2_Tome_Q_Func002001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetSpeechVolumeGroupsBJ(  )
    call CommentString( "Line" )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(2), udg_NarratorPortrait, "TRIGSTR_439", GetUnitLoc(udg_Thrall), gg_snd_T01Narrator58, "TRIGSTR_440", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_T01Narrator58, 0 )
    if ( Trig_T2_Tome_Q_Func007001() ) then
        return
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call CommentString( "Hint" )
    call ConditionalTriggerExecute( gg_trg_Hint_Tomes )
    call TriggerSleepAction( udg_HintDelay )
    if ( Trig_T2_Tome_Q_Func012001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Done" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_T2_Tome_Q takes nothing returns nothing
    set gg_trg_T2_Tome_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_T2_Tome_Q, Condition( function Trig_T2_Tome_Q_Conditions ) )
    call TriggerAddAction( gg_trg_T2_Tome_Q, function Trig_T2_Tome_Q_Actions )
endfunction

//===========================================================================
function InitCustomTriggers takes nothing returns nothing
    call InitTrig_Initialization_Phase(  )
    call InitTrig_Init_01_Timing(  )
    call InitTrig_Init_02_Players(  )
    call InitTrig_Init_03_Units(  )
    call InitTrig_Init_04_Environment(  )
    call InitTrig_Init_05_Visibility(  )
    call InitTrig_Init_06_Sounds(  )
    call InitTrig_Intro_Cinematic(  )
    call InitTrig_Intro_Cinematic_Skip(  )
    call InitTrig_The_Prophet_Flies_Overhead(  )
    call InitTrig_The_Prophet_Circles1(  )
    call InitTrig_The_Prophet_Circles2(  )
    call InitTrig_The_Prophet_Circles3(  )
    call InitTrig_The_Prophet_Circles4(  )
    call InitTrig_The_Prophet_Circles5(  )
    call InitTrig_The_Prophet_Circles6(  )
    call InitTrig_The_Prophet_Circles7(  )
    call InitTrig_The_Prophet_Circles8(  )
    call InitTrig_The_Prophet_Circles9(  )
    call InitTrig_The_Prophet_Circles10(  )
    call InitTrig_The_Prophet_Circles11(  )
    call InitTrig_The_Prophet_Circles12(  )
    call InitTrig_Medivh_Reaches_Home(  )
    call InitTrig_Intro_Time_Stop(  )
    call InitTrig_Gameplay(  )
    call InitTrig_Waste_Queue_Time(  )
    call InitTrig_End_Cinematic(  )
    call InitTrig_End_Cinematic_Skip(  )
    call InitTrig_Next_Level_Prep(  )
    call InitTrig_Next_Level_Run(  )
    call InitTrig_Victory_Cheat(  )
    call InitTrig_Defeat_Cheat(  )
    call InitTrig_Victory_Found_Medivh(  )
    call InitTrig_Defeat_Thrall_Dies(  )
    call InitTrig_Hint_RightClickMove(  )
    call InitTrig_Hint_Scrolling(  )
    call InitTrig_Hint_ArrowKeys(  )
    call InitTrig_Hint_MessageLog(  )
    call InitTrig_Hint_ClickDragSelect(  )
    call InitTrig_Hint_RightClickAttack(  )
    call InitTrig_Hint_AttackMove(  )
    call InitTrig_Hint_AutoAttack(  )
    call InitTrig_Hint_HeroIcon(  )
    call InitTrig_Hint_PickUpItem(  )
    call InitTrig_Hint_ItemTooltip(  )
    call InitTrig_Hint_UnitStatus(  )
    call InitTrig_Hint_UseManaPotion(  )
    call InitTrig_Hint_NightVisibility(  )
    call InitTrig_Hint_UnexploredAreas(  )
    call InitTrig_Hint_SleepersWake(  )
    call InitTrig_Hint_CreepLevel(  )
    call InitTrig_Hint_Tomes(  )
    call InitTrig_MissionFailed_ThrallDead(  )
    call InitTrig_QuestProphet_Create(  )
    call InitTrig_QuestProphet_Discover(  )
    call InitTrig_QuestProphet_Complete(  )
    call InitTrig_Track_Unit_Deaths(  )
    call InitTrig_Track_Creep_Deaths(  )
    call InitTrig_Thrall_Level_Limit(  )
    call InitTrig_Thrall_Gains_Point(  )
    call InitTrig_Thrall_Spends_Point(  )
    call InitTrig_SlowDay_StepA(  )
    call InitTrig_SlowDay_StepB(  )
    call InitTrig_SlowDay_StepC(  )
    call InitTrig_SlowDay_StepD(  )
    call InitTrig_SlowDay_StepE(  )
    call InitTrig_SlowDay_StepF(  )
    call InitTrig_SlowDay_StepG(  )
    call InitTrig_SlowNight_StepA(  )
    call InitTrig_SlowNight_StepB(  )
    call InitTrig_SlowNight_StepC(  )
    call InitTrig_SlowNight_StepD(  )
    call InitTrig_SlowNight_StepE(  )
    call InitTrig_SlowNight_StepF(  )
    call InitTrig_Check_Waterfalls(  )
    call InitTrig_Prophet_Discover_Q(  )
    call InitTrig_Prophet_Complete_Q(  )
    call InitTrig_S1_SelectThrall_Q(  )
    call InitTrig_S1_SelectThrall_Abort(  )
    call InitTrig_S1_SelectThrall_Done(  )
    call InitTrig_S2_MoveThrall_Q(  )
    call InitTrig_S2_MoveThrall_Abort(  )
    call InitTrig_S2_MoveThrall_Done(  )
    call InitTrig_S3_Scroll_Q(  )
    call InitTrig_S3_Scroll_Abort(  )
    call InitTrig_S3_Scroll_Done(  )
    call InitTrig_S4_BlackMask_Q(  )
    call InitTrig_S4_BlackMask_Abort(  )
    call InitTrig_S4_BlackMask_Done(  )
    call InitTrig_S5_Unmasking_Q(  )
    call InitTrig_S5_Unmasking_Abort(  )
    call InitTrig_S5_Unmasking_Done(  )
    call InitTrig_S6_MoveMore_Event(  )
    call InitTrig_S6_MoveMore_Q(  )
    call InitTrig_S6_MoveMore_Abort(  )
    call InitTrig_S6_MoveMore_Done(  )
    call InitTrig_R1_Rescue_Q(  )
    call InitTrig_R1_Rescue_Unhide(  )
    call InitTrig_R1_Rescue_Rescue(  )
    call InitTrig_R1_Rescue_Abort(  )
    call InitTrig_R1_Rescue_Done(  )
    call InitTrig_R2_GroupSelect_Q(  )
    call InitTrig_R2_GroupSelect_Abort(  )
    call InitTrig_R2_GroupSelect_Done(  )
    call InitTrig_R3_GroupMove_Q(  )
    call InitTrig_R3_GroupMove_Abort(  )
    call InitTrig_R3_GroupMove_Done(  )
    call InitTrig_A1_SingleGnoll_Q(  )
    call InitTrig_A1_SingleGnoll_OptLine(  )
    call InitTrig_A1_SingleGnoll_Abort(  )
    call InitTrig_A1_SingleGnoll_DoneA(  )
    call InitTrig_A1_SingleGnoll_DoneB(  )
    call InitTrig_A2_MoreGnolls_Q(  )
    call InitTrig_A2_MoreGnolls_OptLine(  )
    call InitTrig_A2_MoreGnolls_Abort(  )
    call InitTrig_A2_MoreGnolls_Done(  )
    call InitTrig_AutoAttack_Event(  )
    call InitTrig_AutoAttack_Q(  )
    call InitTrig_H1_HeroLevel_Q(  )
    call InitTrig_H1_HeroLevel_Abort(  )
    call InitTrig_H1_HeroLevel_DoneA(  )
    call InitTrig_H1_HeroLevel_DoneB(  )
    call InitTrig_H1_HeroLevel_DoneC(  )
    call InitTrig_H2_HeroPoints_Q(  )
    call InitTrig_H2_HeroPoints_Abort(  )
    call InitTrig_H2_HeroPoints_DoneA(  )
    call InitTrig_H2_HeroPoints_DoneB(  )
    call InitTrig_H3_SpendPoint_Q(  )
    call InitTrig_H3_SpendPoint_Abort(  )
    call InitTrig_H3_SpendPoint_Done(  )
    call InitTrig_M1_FoundMurlocs_Event(  )
    call InitTrig_M1_FoundMurlocs_Q(  )
    call InitTrig_M1_FoundMurlocs_Abort(  )
    call InitTrig_M1_FoundMurlocs_Done(  )
    call InitTrig_M2_UseChainLit_Event(  )
    call InitTrig_M2_UseChainLit_Q(  )
    call InitTrig_M2_UseChainLit_Abort(  )
    call InitTrig_M2_UseChainLit_Done(  )
    call InitTrig_I1_PickUpItem_Q(  )
    call InitTrig_I1_PickUpItem_Abort(  )
    call InitTrig_I1_PickUpItem_Done(  )
    call InitTrig_I2_ManaPotion_Q(  )
    call InitTrig_I2_ManaPotion_Abort(  )
    call InitTrig_I2_ManaPotion_Done(  )
    call InitTrig_I3_LowMana_Event(  )
    call InitTrig_I3_LowMana_Q(  )
    call InitTrig_I3_LowMana_Abort(  )
    call InitTrig_I3_LowMana_Done(  )
    call InitTrig_C1_Continue_Event(  )
    call InitTrig_C1_Continue_Q(  )
    call InitTrig_C1_Continue_Ping(  )
    call InitTrig_C1_Continue_Abort(  )
    call InitTrig_C1_Continue_Done(  )
    call InitTrig_N1_Nightfall_Event(  )
    call InitTrig_N1_Nightfall_Q(  )
    call InitTrig_N1_Nightfall_Abort(  )
    call InitTrig_N1_Nightfall_Done(  )
    call InitTrig_Hidden_Item_Event(  )
    call InitTrig_Hidden_Item_Q(  )
    call InitTrig_O1_SleepingOgre_Event(  )
    call InitTrig_O1_SleepingOgre_Q(  )
    call InitTrig_O1_SleepingOgre_Abort(  )
    call InitTrig_O1_SleepingOgre_Done(  )
    call InitTrig_G1_Golem_Event(  )
    call InitTrig_G1_Golem_Q(  )
    call InitTrig_G1_Golem_Abort(  )
    call InitTrig_G1_Golem_Done(  )
    call InitTrig_G2_Ring_Event(  )
    call InitTrig_G2_Ring_Q(  )
    call InitTrig_T1_Trolls_Event(  )
    call InitTrig_T1_Trolls_Q(  )
    call InitTrig_T1_Trolls_Abort(  )
    call InitTrig_T1_Trolls_Done(  )
    call InitTrig_T2_Tome_Event(  )
    call InitTrig_T2_Tome_Q(  )
endfunction

//===========================================================================
function RunInitializationTriggers takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Initialization_Phase )
endfunction

//***************************************************************************
//*
//*  Upgrades
//*
//***************************************************************************

function InitUpgrades_Player0 takes nothing returns nothing
    call SetPlayerTechMaxAllowed( Player(0), 'Rome', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rora', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Roar', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rwdm', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Ropg', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Robs', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rows', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Roen', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rosp', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rost', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rowd', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rovs', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rotr', 0 )
endfunction

function InitUpgrades takes nothing returns nothing
    call InitUpgrades_Player0(  )
endfunction

//***************************************************************************
//*
//*  TechTree
//*
//***************************************************************************

function InitTechTree_Player0 takes nothing returns nothing
    call SetPlayerAbilityAvailable( Player(0), 'AOeq', false )
    call SetPlayerAbilityAvailable( Player(0), 'AOsf', false )
    call SetPlayerTechMaxAllowed( Player(0), 'ogru', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'opeo', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'orai', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'otau', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'ohun', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'ocat', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'okod', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'owyv', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'odoc', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'oshm', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Obla', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Ofar', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Otch', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'ogre', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'ostr', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'ofrt', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'oalt', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'obar', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'ofor', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'otto', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'osld', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'obea', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'otrb', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'owtw', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'ocbw', 0 )
endfunction

function InitTechTree takes nothing returns nothing
    call InitTechTree_Player0(  )
endfunction

//***************************************************************************
//*
//*  Players
//*
//***************************************************************************

function InitCustomPlayerSlots takes nothing returns nothing

    // Player 0
    call SetPlayerStartLocation( Player(0), 0 )
    call ForcePlayerStartLocation( Player(0), 0 )
    call SetPlayerColor( Player(0), ConvertPlayerColor(0) )
    call SetPlayerRacePreference( Player(0), RACE_PREF_ORC )
    call SetPlayerRaceSelectable( Player(0), true )
    call SetPlayerController( Player(0), MAP_CONTROL_USER )

    // Player 2
    call SetPlayerStartLocation( Player(2), 1 )
    call ForcePlayerStartLocation( Player(2), 1 )
    call SetPlayerColor( Player(2), ConvertPlayerColor(2) )
    call SetPlayerRacePreference( Player(2), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(2), true )
    call SetPlayerController( Player(2), MAP_CONTROL_NEUTRAL )

    // Player 3
    call SetPlayerStartLocation( Player(3), 2 )
    call ForcePlayerStartLocation( Player(3), 2 )
    call SetPlayerColor( Player(3), ConvertPlayerColor(3) )
    call SetPlayerRacePreference( Player(3), RACE_PREF_ORC )
    call SetPlayerRaceSelectable( Player(3), true )
    call SetPlayerController( Player(3), MAP_CONTROL_NEUTRAL )

    // Player 4
    call SetPlayerStartLocation( Player(4), 3 )
    call ForcePlayerStartLocation( Player(4), 3 )
    call SetPlayerColor( Player(4), ConvertPlayerColor(4) )
    call SetPlayerRacePreference( Player(4), RACE_PREF_ORC )
    call SetPlayerRaceSelectable( Player(4), true )
    call SetPlayerController( Player(4), MAP_CONTROL_NEUTRAL )

endfunction

function InitCustomTeams takes nothing returns nothing
    // Force: TRIGSTR_005
    call SetPlayerTeam( Player(0), 0 )
    call SetPlayerTeam( Player(2), 0 )
    call SetPlayerTeam( Player(3), 0 )
    call SetPlayerTeam( Player(4), 0 )

    //   Allied
    call SetPlayerAlliance( Player(0), Player(2), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(0), Player(3), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(0), Player(4), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(2), Player(0), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(2), Player(3), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(2), Player(4), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(3), Player(0), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(3), Player(2), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(3), Player(4), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(4), Player(0), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(4), Player(2), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(4), Player(3), ALLIANCE_PASSIVE, true )

endfunction

function InitAllyPriorities takes nothing returns nothing

    call SetStartLocPrioCount( 1, 2 )
    call SetStartLocPrio( 1, 0, 2, MAP_LOC_PRIO_LOW )

    call SetStartLocPrioCount( 2, 1 )
    call SetStartLocPrio( 2, 0, 1, MAP_LOC_PRIO_LOW )

    call SetStartLocPrioCount( 3, 2 )
    call SetStartLocPrio( 3, 0, 1, MAP_LOC_PRIO_LOW )
    call SetStartLocPrio( 3, 1, 2, MAP_LOC_PRIO_LOW )
endfunction

//***************************************************************************
//*
//*  Main Initialization
//*
//***************************************************************************

//===========================================================================
function main takes nothing returns nothing
    call SetCameraBounds( -7424.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), -3584.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM), 7424.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), 7168.0 - GetCameraMargin(CAMERA_MARGIN_TOP), -7424.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), 7168.0 - GetCameraMargin(CAMERA_MARGIN_TOP), 7424.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), -3584.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM) )
    call SetDayNightModels( "Environment\\DNC\\DNCLordaeron\\DNCLordaeronTerrain\\DNCLordaeronTerrain.mdl", "Environment\\DNC\\DNCLordaeron\\DNCLordaeronUnit\\DNCLordaeronUnit.mdl" )
    call SetAmbientDaySound( "LordaeronSummerDay" )
    call SetAmbientNightSound( "LordaeronSummerNight" )
    call SetMapMusic( "Music", true, 0 )
    call InitSounds(  )
    call CreateRegions(  )
    call CreateCameras(  )
    call InitUpgrades(  )
    call InitTechTree(  )
    call CreateAllItems(  )
    call CreateAllUnits(  )
    call InitBlizzard(  )
    call InitGlobals(  )
    call InitCustomTriggers(  )
    call RunInitializationTriggers(  )

endfunction

//***************************************************************************
//*
//*  Map Configuration
//*
//***************************************************************************

function config takes nothing returns nothing
    call SetMapName( "TRIGSTR_000" )
    call SetMapDescription( "TRIGSTR_002" )
    call SetPlayers( 4 )
    call SetTeams( 4 )
    call SetGamePlacement( MAP_PLACEMENT_USE_MAP_SETTINGS )

    call DefineStartLocation( 0, -5248.0, -1600.0 )
    call DefineStartLocation( 1, -192.0, 4416.0 )
    call DefineStartLocation( 2, -320.0, 4416.0 )
    call DefineStartLocation( 3, -64.0, 4416.0 )

    // Player setup
    call InitCustomPlayerSlots(  )
    call InitCustomTeams(  )
    call InitAllyPriorities(  )
endfunction

