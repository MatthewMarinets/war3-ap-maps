//===========================================================================
// 
// UndeadX07b
// 
//   Warcraft III map script
//   Generated by the Warcraft III World Editor
//   Date: Sun May 11 21:45:11 2003
//   Map Author: Blizzard Entertainment
// 
//===========================================================================

//***************************************************************************
//*
//*  Global Variables
//*
//***************************************************************************

globals
    // User-defined
    player                  udg_AP1_Player             = null
    unit                    udg_Arthas                 = null
    unit                    udg_Anubarak               = null
    force                   udg_APG1_Player            = null
    boolean                 udg_IntroSkipped           = false
    group                   udg_HiddenUnits            = null
    player                  udg_AP3_Nerubians          = null
    group                   udg_StartingUnits          = null
    boolean                 udg_ExpDisabledForArthas   = false
    boolean                 udg_ExpDisabledForAnuburak = false
    boolean                 udg_GameOver               = false
    boolean                 udg_MidCinForgottenOneSkipped = false
    group                   udg_HiddenUnitsCreep       = null
    group                   udg_SelectedUnits          = null
    location                udg_CameraReturnPoint      = null
    boolean                 udg_VictorySkipped         = false
    destructable            udg_FountainPlate          = null
    destructable            udg_FountainElevator       = null
    boolean                 udg_InCinematic            = false
    quest                   udg_QuestExit              = null
    questitem               udg_QuestLocateExitReq     = null
    quest                   udg_QuestGold              = null
    questitem               udg_QuestMustSurviveExitReq = null
    group                   udg_TowerRevealerGroup     = null
    fogmodifier             udg_VisibilityTower        = null
    player                  udg_AP2_Rescuables         = null
    fogmodifier             udg_VisibilityBoss         = null
    group                   udg_BossRevealerGroup      = null
    player                  udg_AP5_Towers             = null
    quest                   udg_QuestCryptfiend        = null
    questitem               udg_QuestCryptfiendReq01   = null
    group                   udg_ArachnathidGroup       = null
    group                   udg_RescuableGroup         = null
    sound                   udg_GatesRollingSound      = null
    effect                  udg_Ensnare01              = null
    effect                  udg_Ensnare02              = null
    effect                  udg_Ensnare03              = null
    effect                  udg_Ensnare04              = null
    effect                  udg_Ensnare05              = null
    effect                  udg_Ensnare06              = null
    effect                  udg_Ensnare07              = null
    effect                  udg_Ensnare08              = null
    effect                  udg_Ensnare09              = null
    effect                  udg_Ensnare10              = null
    group                   udg_CrabGroup              = null
    boolean                 udg_TowerLeft              = false
    boolean                 udg_TowerRight             = false
    effect                  udg_Ensnare11              = null
    effect                  udg_Ensnare12              = null
    effect                  udg_Ensnare13              = null
    effect                  udg_Ensnare14              = null
    fogmodifier             udg_VisibilityEggsMain     = null
    group                   udg_EggsRevealerGroup      = null
    sound                   udg_EarthquakeSound        = null
    sound                   udg_ElevatorsSound         = null
    timer                   udg_Eggs01Timer            = null
    timer                   udg_Eggs02Timer            = null
    timer                   udg_Eggs03Timer            = null
    timer                   udg_Eggs04Timer            = null
    integer                 udg_MaxSpiderlingsSpawn    = 0
    real                    udg_Eggs01                 = 0
    real                    udg_Eggs02                 = 0
    real                    udg_Eggs04                 = 0
    real                    udg_Eggs03                 = 0
    boolean                 udg_Eggs01Done             = false
    boolean                 udg_Eggs02Done             = false
    boolean                 udg_Eggs03Done             = false
    boolean                 udg_Eggs04Done             = false
    player                  udg_AP4_FacelessOnes       = null
    unit                    udg_TempUnit               = null
    boolean                 udg_ItemTrapAmbushDone     = false
    questitem               udg_QuestGold0Req          = null
    sound                   udg_PlateActivationSound   = null
    location                udg_ItemFootSwitchPoint    = null
    real                    udg_RandomNumber           = 0
    location                udg_RandomCrabPoint        = null
    group                   udg_SpiderlingGroup        = null
    location                udg_RandomVictoryPoint     = null
    location                udg_TentacleSpawnPoint     = null
    unit                    udg_TentacleCaster01       = null
    unit                    udg_TentacleCaster02       = null
    unit                    udg_TentacleCaster03       = null
    unit                    udg_TentacleCaster04       = null
    timer                   udg_SpawnFacelessFriendsTimer = null
    integer                 udg_FacelessFriendCounter  = 0
    integer                 udg_Eggs01DeadCount        = 0
    integer                 udg_Eggs02DeadCount        = 0
    integer                 udg_Eggs03DeadCount        = 0
    integer                 udg_Eggs04DeadCount        = 0
    fogmodifier             udg_VisibilityEggs01       = null
    fogmodifier             udg_VisibilityEggs02       = null
    fogmodifier             udg_VisibilityEggs03       = null
    fogmodifier             udg_VisibilityEggs04       = null
    real                    udg_ForgottenOneFriendInterval = 0
    integer                 udg_GoldCoinsFound         = 0
    timer                   udg_CombatCheckTimer       = null
    boolean                 udg_InFOCombat             = false
    location                udg_TempPoint              = null
    group                   udg_FOFriends              = null
    unit                    udg_FakeAnubarak           = null
    quest                   udg_QuestForgottenOne      = null
    questitem               udg_QuestForgottenOneReq   = null
    questitem               udg_QuestMustSurviveForgottenReq = null
    unit                    udg_TheForgottenOne        = null
    location                udg_PointVictoryFacelessSpawn04 = null
    location                udg_PointBurrowTrap        = null
    location                udg_PointSpawnGenerator01  = null
    location                udg_PointEggAttackInitArea = null
    location                udg_PointSpawnGenerator02  = null
    location                udg_PointSpawnGenerator03  = null
    location                udg_PointSpawnGenerator04  = null
    location                udg_PointTentacleCasterCreate01 = null
    group                   udg_TempUnitGroup          = null
    unit                    udg_CryptVictory01         = null
    unit                    udg_CryptVictory02         = null
    unit                    udg_CryptVictory03         = null
    unit                    udg_CryptVictory04         = null
    unit                    udg_CryptVictory05         = null
    unit                    udg_CryptVictory06         = null

    // Generated
    rect                    gg_rct_AnubarakIntroDest01 = null
    rect                    gg_rct_AnubarakSpawn       = null
    rect                    gg_rct_Arachnathid01       = null
    rect                    gg_rct_Arachnathid02       = null
    rect                    gg_rct_Arachnathid03       = null
    rect                    gg_rct_Arachnathid04       = null
    rect                    gg_rct_Arachnathid05       = null
    rect                    gg_rct_Arachnathid06       = null
    rect                    gg_rct_Arachnathid07       = null
    rect                    gg_rct_Arachnathid08       = null
    rect                    gg_rct_Arachnathid09       = null
    rect                    gg_rct_Arachnathid10       = null
    rect                    gg_rct_Arachnathid11       = null
    rect                    gg_rct_ArachnathidSpawn01  = null
    rect                    gg_rct_ArachnathidSpawn02  = null
    rect                    gg_rct_ArthasIntroDest01   = null
    rect                    gg_rct_ArthasSpawn         = null
    rect                    gg_rct_BurrowTrap          = null
    rect                    gg_rct_CameraReset         = null
    rect                    gg_rct_CrabArea            = null
    rect                    gg_rct_CrabAttackTarget    = null
    rect                    gg_rct_CrabAttackTripwire  = null
    rect                    gg_rct_CryptFiend01IntroDest01 = null
    rect                    gg_rct_CryptFiend02IntroDest01 = null
    rect                    gg_rct_EggAttackInitArea   = null
    rect                    gg_rct_EggSacks01          = null
    rect                    gg_rct_EggSacks02          = null
    rect                    gg_rct_EggSacks03          = null
    rect                    gg_rct_EggSacks04          = null
    rect                    gg_rct_FacelessFriendTarget = null
    rect                    gg_rct_FacelessSounds      = null
    rect                    gg_rct_Fire01              = null
    rect                    gg_rct_Fire02              = null
    rect                    gg_rct_Fire03              = null
    rect                    gg_rct_Fire04              = null
    rect                    gg_rct_Fire05              = null
    rect                    gg_rct_Fire06              = null
    rect                    gg_rct_Fire07              = null
    rect                    gg_rct_Fire08              = null
    rect                    gg_rct_Fire09              = null
    rect                    gg_rct_Fire10              = null
    rect                    gg_rct_Fire11              = null
    rect                    gg_rct_Fire12              = null
    rect                    gg_rct_FireBlueArea        = null
    rect                    gg_rct_FloodLeft           = null
    rect                    gg_rct_FloodRight          = null
    rect                    gg_rct_FloodWaterSound1    = null
    rect                    gg_rct_FloodWaterSound2    = null
    rect                    gg_rct_ForgottenOneInit    = null
    rect                    gg_rct_Ghoul01IntroDest01  = null
    rect                    gg_rct_Ghoul02IntroDest01  = null
    rect                    gg_rct_MoveAnubarakForVictoryCin = null
    rect                    gg_rct_Prisoner01          = null
    rect                    gg_rct_Prisoner02          = null
    rect                    gg_rct_Prisoner03          = null
    rect                    gg_rct_Prisoner04          = null
    rect                    gg_rct_Prisoner05          = null
    rect                    gg_rct_Prisoner10          = null
    rect                    gg_rct_Prisoner11          = null
    rect                    gg_rct_Prisoner12          = null
    rect                    gg_rct_Prisoner13          = null
    rect                    gg_rct_Prisoner14          = null
    rect                    gg_rct_PrisonerLastRoom    = null
    rect                    gg_rct_PrisonersRoom04     = null
    rect                    gg_rct_SpawnGenerator01    = null
    rect                    gg_rct_SpawnGenerator02    = null
    rect                    gg_rct_SpawnGenerator03    = null
    rect                    gg_rct_SpawnGenerator04    = null
    rect                    gg_rct_StartingUnits       = null
    rect                    gg_rct_TentacleCasterCreate01 = null
    rect                    gg_rct_TentacleCasterCreate02 = null
    rect                    gg_rct_TentacleSpawn01     = null
    rect                    gg_rct_TentacleSpawn02     = null
    rect                    gg_rct_TentacleSpawn03     = null
    rect                    gg_rct_TentacleSpawn04     = null
    rect                    gg_rct_TentacleTripwire01  = null
    rect                    gg_rct_TentacleTripwire02  = null
    rect                    gg_rct_TentacleTripwire03  = null
    rect                    gg_rct_TentacleTripwire04  = null
    rect                    gg_rct_TowerAreaInit       = null
    rect                    gg_rct_TowerLeftLeverRocks = null
    rect                    gg_rct_TowerVisibility     = null
    rect                    gg_rct_VictoryAnubarakDest = null
    rect                    gg_rct_VictoryAnubarakStart = null
    rect                    gg_rct_VictoryArthasDest   = null
    rect                    gg_rct_VictoryArthasStart  = null
    rect                    gg_rct_VictoryCrypt01Dest  = null
    rect                    gg_rct_VictoryCrypt01Start = null
    rect                    gg_rct_VictoryCrypt02Dest  = null
    rect                    gg_rct_VictoryCrypt02Start = null
    rect                    gg_rct_VictoryCrypt03Start = null
    rect                    gg_rct_VictoryCrypt04Start = null
    rect                    gg_rct_VictoryCrypt05Start = null
    rect                    gg_rct_VictoryFacelessDest = null
    rect                    gg_rct_VictoryFacelessSpawn01 = null
    rect                    gg_rct_VictoryFacelessSpawn02 = null
    rect                    gg_rct_VictoryFacelessSpawn03 = null
    rect                    gg_rct_VictoryFacelessSpawn04 = null
    rect                    gg_rct_VisibilityBoss      = null
    rect                    gg_rct_VisibilityEggs      = null
    rect                    gg_rct_VisibilityEggs01    = null
    rect                    gg_rct_VisibilityEggs02    = null
    rect                    gg_rct_VisibilityEggs03    = null
    rect                    gg_rct_VisibilityEggs04    = null
    rect                    gg_rct_Voiceover_Eggs      = null
    rect                    gg_rct_Voiceover_Faceless_Ones = null
    rect                    gg_rct_VoiceoverLever01    = null
    rect                    gg_rct_VoiceoverLever02    = null
    rect                    gg_rct_VoiceoverTraitor    = null
    rect                    gg_rct_Voicover_Faceless_02 = null
    rect                    gg_rct_WaterSound1         = null
    rect                    gg_rct_WaterSound2         = null
    rect                    gg_rct_WaterSound3         = null
    rect                    gg_rct_WaterSound4         = null
    rect                    gg_rct_WaterSound5         = null
    rect                    gg_rct_WaterSound6         = null
    rect                    gg_rct_WaterSound7         = null
    rect                    gg_rct_VictoryCrypt03Dest  = null
    rect                    gg_rct_Coin05              = null
    rect                    gg_rct_Gold_01             = null
    rect                    gg_rct_Coin02              = null
    rect                    gg_rct_Coin03              = null
    rect                    gg_rct_Coin04              = null
    camerasetup             gg_cam_Forgotten01         = null
    camerasetup             gg_cam_Forgotten02         = null
    camerasetup             gg_cam_Forgotten03         = null
    camerasetup             gg_cam_Intro_01            = null
    camerasetup             gg_cam_Intro_02            = null
    camerasetup             gg_cam_Victory_00          = null
    camerasetup             gg_cam_Victory_00b         = null
    camerasetup             gg_cam_Victory_01          = null
    camerasetup             gg_cam_Victory_02          = null
    sound                   gg_snd_L07BAnubarak01      = null
    sound                   gg_snd_L07BAnubarak09      = null
    sound                   gg_snd_L07BAnubarak11      = null
    sound                   gg_snd_L07BAnubarak16      = null
    sound                   gg_snd_L07BAnubarak29      = null
    sound                   gg_snd_L07BAnubarak31      = null
    sound                   gg_snd_L07BAnubarak34      = null
    sound                   gg_snd_L07BAnubarak36      = null
    sound                   gg_snd_L07BAnubarak42      = null
    sound                   gg_snd_L07BAnubarak43      = null
    sound                   gg_snd_L07BAnubarak44      = null
    sound                   gg_snd_L07BArthas07        = null
    sound                   gg_snd_L07BArthas10        = null
    sound                   gg_snd_L07BArthas13        = null
    sound                   gg_snd_L07BArthas15        = null
    sound                   gg_snd_L07BArthas23        = null
    sound                   gg_snd_L07BArthas30        = null
    sound                   gg_snd_L07BArthas33        = null
    sound                   gg_snd_L07BArthas35        = null
    sound                   gg_snd_L07BCryptFiend22    = null
    sound                   gg_snd_L07BNerubian14      = null
    sound                   gg_snd_L07BNerubian17      = null
    sound                   gg_snd_L07BNerubian18      = null
    sound                   gg_snd_L07BNerubian19      = null
    sound                   gg_snd_Switch              = null
    sound                   gg_snd_Elevator            = null
    sound                   gg_snd_WaterLakeLoop1      = null
    sound                   gg_snd_EarthquakeLoop1     = null
    sound                   gg_snd_Elevator01          = null
    sound                   gg_snd_HorseLoop3          = null
    sound                   gg_snd_HorseLoop2          = null
    sound                   gg_snd_HorseLoop1          = null
    sound                   gg_snd_FacelessOneYes2     = null
    sound                   gg_snd_FacelessOneYes1     = null
    sound                   gg_snd_FacelessOneWhat2    = null
    sound                   gg_snd_HorseLoop301        = null
    trigger                 gg_trg_Initialization      = null
    trigger                 gg_trg_Init_01_Players     = null
    trigger                 gg_trg_Init_02_Units       = null
    trigger                 gg_trg_Init_03_Music       = null
    trigger                 gg_trg_Init_03_Sounds      = null
    trigger                 gg_trg_Init_04_Environment = null
    trigger                 gg_trg_Init_05_Quests      = null
    trigger                 gg_trg_Init_06a_Hard       = null
    trigger                 gg_trg_Init_06b_Normal     = null
    trigger                 gg_trg_Init_06c_Easy       = null
    trigger                 gg_trg_Init_07_Regions_to_Points = null
    trigger                 gg_trg_Load_Heroes_and_Gold = null
    trigger                 gg_trg_Load_Arthas         = null
    trigger                 gg_trg_Load_Anubarak       = null
    trigger                 gg_trg_Experience_Cap_Anubarak = null
    trigger                 gg_trg_Crab_Elevator_Setup = null
    trigger                 gg_trg_Init_Crab_Door      = null
    trigger                 gg_trg_Init_Item_Trap_Floor_Plate = null
    trigger                 gg_trg_Init_Forgotten_One_Area = null
    trigger                 gg_trg_DEBUG_INTRO         = null
    trigger                 gg_trg_DEBUG_FORGOTTEN_ONE = null
    trigger                 gg_trg_DEBUG_VICTORY       = null
    trigger                 gg_trg_Intro_Cinematic_Q   = null
    trigger                 gg_trg_Arthas_Facing       = null
    trigger                 gg_trg_Anubarak_Facing     = null
    trigger                 gg_trg_Intro_Skipped       = null
    trigger                 gg_trg_Intro_Setup         = null
    trigger                 gg_trg_Intro_Cleanup       = null
    trigger                 gg_trg_Gameplay            = null
    trigger                 gg_trg_Forgotten_One_Init  = null
    trigger                 gg_trg_Forgotten_One_Cinematic_Q = null
    trigger                 gg_trg_Forgotton_One_Quake_Shake = null
    trigger                 gg_trg_Forgotten_One_Skipped = null
    trigger                 gg_trg_Forgotten_One_Setup = null
    trigger                 gg_trg_Forgotten_One_Cleanup = null
    trigger                 gg_trg_OuterFOElevatorRingUp = null
    trigger                 gg_trg_OuterFOElevatorRingUpInstant = null
    trigger                 gg_trg_InnerFOElevatorRingUp = null
    trigger                 gg_trg_InnerFOElevatorRingUpInstant = null
    trigger                 gg_trg_Forgotten_One_Elevator_Sounds = null
    trigger                 gg_trg_Gameplay_Forgotten_One = null
    trigger                 gg_trg_Victory_Cinematic_Q = null
    trigger                 gg_trg_Victory_Create_Mass_of__Faceless = null
    trigger                 gg_trg_Victory_Skipped     = null
    trigger                 gg_trg_Victory_Setup       = null
    trigger                 gg_trg_ArthasRunSound      = null
    trigger                 gg_trg_Quest_Locate_the_Exit_Create = null
    trigger                 gg_trg_Quest_Locate_the_Exit_Discover = null
    trigger                 gg_trg_Quest_Locate_the_Exit_Completed = null
    trigger                 gg_trg_Quest_Forgotten_One_Create = null
    trigger                 gg_trg_Quest_Forgotten_One_Discover = null
    trigger                 gg_trg_Quest_Forgotten_One_Completed = null
    trigger                 gg_trg_Quest_Cryptfiend_Create = null
    trigger                 gg_trg_Quest_Cryptfiend_Discover = null
    trigger                 gg_trg_Quest_Cryptfiend_Completed = null
    trigger                 gg_trg_Quest_Gold_Create   = null
    trigger                 gg_trg_Quest_Gold_Discover = null
    trigger                 gg_trg_Quest_Gold_Completed = null
    trigger                 gg_trg_Gold_02_Found       = null
    trigger                 gg_trg_Gold_03_Found       = null
    trigger                 gg_trg_Gold_04_Found       = null
    trigger                 gg_trg_Mission_Failed_Arthas_Dead = null
    trigger                 gg_trg_Mission_Failed_Anubarak_Dead = null
    trigger                 gg_trg_Player_Reaches_Towers = null
    trigger                 gg_trg_Voiceover_Towers_Q  = null
    trigger                 gg_trg_Voiceover_Traitor   = null
    trigger                 gg_trg_Voiceover_Traitor_Q = null
    trigger                 gg_trg_Voiceover_Drive_Them_Back = null
    trigger                 gg_trg_Voiceover_Drive_Them_Back_Q = null
    trigger                 gg_trg_Voiceover_Slay_the_Intruders = null
    trigger                 gg_trg_Voiceover_Slay_the_Intruders_Q = null
    trigger                 gg_trg_Voiceover_Death_to_the_Servants = null
    trigger                 gg_trg_Voiceover_Death_to_the_Servants_Q = null
    trigger                 gg_trg_Voiceover_Guardians = null
    trigger                 gg_trg_Voiceover_Guardians_Q = null
    trigger                 gg_trg_Voiceover_Hostile_Eggs = null
    trigger                 gg_trg_Voiceover_Hostile_Eggs_Q = null
    trigger                 gg_trg_Voiceover_Faceless_Ones_01 = null
    trigger                 gg_trg_Voiceover_Faceless_Ones_01_Q = null
    trigger                 gg_trg_Voiceover_Thats_done_it = null
    trigger                 gg_trg_Voiceover_Thats_done_it_Q = null
    trigger                 gg_trg_Coin_Found          = null
    trigger                 gg_trg_First_Coin_Found_Q  = null
    trigger                 gg_trg_Second_Coin_Found_Q = null
    trigger                 gg_trg_Third_Coin_Found_Q  = null
    trigger                 gg_trg_Fourth_Coin_Found_Q = null
    trigger                 gg_trg_Fifth_Coin_Found_Q  = null
    trigger                 gg_trg_Quest_Exit_Discover_Q = null
    trigger                 gg_trg_Quest_Exit_Completed_Q = null
    trigger                 gg_trg_Quest_Forgotten_One_Discover_Q = null
    trigger                 gg_trg_Quest_Forgotten_One_Completed_Q = null
    trigger                 gg_trg_Crypt_Fiend_Rescued = null
    trigger                 gg_trg_Quest_Rescue_CryptFiend_Discover_Q = null
    trigger                 gg_trg_Check_for_All_Rescued = null
    trigger                 gg_trg_Quest_All_Cryptfiend_Rescued_Q = null
    trigger                 gg_trg_RevealerStartTown02 = null
    trigger                 gg_trg_RevealerGroupAddTower = null
    trigger                 gg_trg_RevealerGroupSubtractTower = null
    trigger                 gg_trg_RevealerCheckTower  = null
    trigger                 gg_trg_RevealerTowerSafety = null
    trigger                 gg_trg_RevealerBoss        = null
    trigger                 gg_trg_RevealerGroupAddBoss = null
    trigger                 gg_trg_RevealerGroupSubtractBoss = null
    trigger                 gg_trg_RevealerCheckBoss   = null
    trigger                 gg_trg_RevealerBossSafety  = null
    trigger                 gg_trg_RevealerEggs        = null
    trigger                 gg_trg_RevealerGroupAddEggs = null
    trigger                 gg_trg_RevealerGroupSubtractEggs = null
    trigger                 gg_trg_RevealerCheckEggs   = null
    trigger                 gg_trg_RevealerSafetyEggs  = null
    trigger                 gg_trg_Door01              = null
    trigger                 gg_trg_Door02              = null
    trigger                 gg_trg_Door03              = null
    trigger                 gg_trg_Door04              = null
    trigger                 gg_trg_Lower_Crab_Elevator = null
    trigger                 gg_trg_Rock_Breaks_on_Left = null
    trigger                 gg_trg_Tower_Lever_Left    = null
    trigger                 gg_trg_Tower_Lever_Right   = null
    trigger                 gg_trg_Flood_Left          = null
    trigger                 gg_trg_Flood_Right         = null
    trigger                 gg_trg_Crab_Wander         = null
    trigger                 gg_trg_Crab_Attacked       = null
    trigger                 gg_trg_Unit_hits_Crab_Tripwire = null
    trigger                 gg_trg_Trigger_Crab_Encounter = null
    trigger                 gg_trg_Crab_Dies           = null
    trigger                 gg_trg_Check_for_All_Crab_Death = null
    trigger                 gg_trg_Behemoth_Crab_Dies  = null
    trigger                 gg_trg_Check_for_Plate_Visibility = null
    trigger                 gg_trg_Open_Item_Trap_Doors = null
    trigger                 gg_trg_Close_Item_Trap_Doors = null
    trigger                 gg_trg_Trigger_Item_Trap   = null
    trigger                 gg_trg_Trap_Unburrow       = null
    trigger                 gg_trg_Uproot_Picked_Fiend = null
    trigger                 gg_trg_RollingDoorOpenSound1 = null
    trigger                 gg_trg_RollingDoorOpenSound2 = null
    trigger                 gg_trg_Eggs_Tripwire       = null
    trigger                 gg_trg_Queen_Attacked      = null
    trigger                 gg_trg_Start_Egg_Machine   = null
    trigger                 gg_trg_Eggs_Generator_01   = null
    trigger                 gg_trg_Eggs_Generator_02   = null
    trigger                 gg_trg_Eggs_Generator_03   = null
    trigger                 gg_trg_Eggs_Generator_04   = null
    trigger                 gg_trg_Spiderling_Dies     = null
    trigger                 gg_trg_Spiderling_Heartbeat = null
    trigger                 gg_trg_Eggs01_Destroyed    = null
    trigger                 gg_trg_Eggs02_Destroyed    = null
    trigger                 gg_trg_Eggs03_Destroyed    = null
    trigger                 gg_trg_Eggs04_Destroyed    = null
    trigger                 gg_trg_Eggs01_Lever        = null
    trigger                 gg_trg_Eggs02_Lever        = null
    trigger                 gg_trg_Eggs03_Lever        = null
    trigger                 gg_trg_Eggs04_Lever        = null
    trigger                 gg_trg_Eggs_All_Stopped_Check = null
    trigger                 gg_trg_EggsRollingDoorSound1 = null
    trigger                 gg_trg_EggsRollingDoorSound2 = null
    trigger                 gg_trg_EggsRollingDoorSound3 = null
    trigger                 gg_trg_EggsRollingDoorSound4 = null
    trigger                 gg_trg_SpawnTentacle01     = null
    trigger                 gg_trg_SpawnTentacle02     = null
    trigger                 gg_trg_SpawnTentacle03     = null
    trigger                 gg_trg_SpawnTentacle04     = null
    trigger                 gg_trg_SpawnFacelessFriendsTimerExpire = null
    trigger                 gg_trg_ForgottenOneCombatDetected01 = null
    trigger                 gg_trg_ForgottenOneCombatDetected02 = null
    trigger                 gg_trg_ForgottenOneCombatResolved = null
    trigger                 gg_trg_FOFriendsHeartbeat  = null
    trigger                 gg_trg_FOFriend_Dies       = null
    trigger                 gg_trg_Prisoners_Setup     = null
    trigger                 gg_trg_Prisoners01_Release = null
    trigger                 gg_trg_Prisoners02_Release = null
    trigger                 gg_trg_Prisoners03_Release = null
    trigger                 gg_trg_Prisoners04_Release = null
    trigger                 gg_trg_Prisoners05_Release = null
    trigger                 gg_trg_Prisoners10_Release = null
    trigger                 gg_trg_Prisoners11_Release = null
    trigger                 gg_trg_Prisoners12_Release = null
    trigger                 gg_trg_Prisoners13_Release = null
    trigger                 gg_trg_Prisoners14_Release = null
    trigger                 gg_trg_Quake_Shake         = null
    trigger                 gg_trg_Fountain_Plate      = null
    trigger                 gg_trg_Coins_01            = null
    trigger                 gg_trg_Coins_02            = null
    trigger                 gg_trg_Coins_03            = null
    trigger                 gg_trg_Coins_04            = null
    trigger                 gg_trg_Coins_05            = null
    trigger                 gg_trg_Next_Level_Prep     = null
    trigger                 gg_trg_Next_Level_Run      = null
    trigger                 gg_trg_Victory_Cheat       = null
    trigger                 gg_trg_Defeat_Cheat        = null
    trigger                 gg_trg_Victory_Door_Open   = null
    trigger                 gg_trg_Defeat_Arthas_Dead  = null
    trigger                 gg_trg_Defeat_Anubarak_Dead = null
    unit                    gg_unit_u000_0044          = null
    unit                    gg_unit_ucry_0076          = null
    unit                    gg_unit_ugho_0046          = null
    unit                    gg_unit_nnwl_0083          = null
    unit                    gg_unit_ucry_0067          = null
    unit                    gg_unit_u000_0028          = null
    unit                    gg_unit_ucry_0068          = null
    unit                    gg_unit_u000_0047          = null
    unit                    gg_unit_nfgo_0017          = null
    unit                    gg_unit_nnwa_0005          = null
    unit                    gg_unit_nsc3_0001          = null
    unit                    gg_unit_ucry_0093          = null
    unit                    gg_unit_u000_0045          = null
    unit                    gg_unit_ucry_0075          = null
    unit                    gg_unit_ucry_0074          = null
    unit                    gg_unit_u000_0025          = null
    unit                    gg_unit_u000_0027          = null
    unit                    gg_unit_ucry_0073          = null
    unit                    gg_unit_ucry_0071          = null
    unit                    gg_unit_u000_0042          = null
    unit                    gg_unit_u000_0041          = null
    unit                    gg_unit_ucry_0092          = null
    unit                    gg_unit_u000_0024          = null
    item                    gg_item_bgst_0026          = null
    unit                    gg_unit_nnwa_0002          = null
    unit                    gg_unit_ucry_0032          = null
    unit                    gg_unit_nnwq_0149          = null
    unit                    gg_unit_nfor_0091          = null
    unit                    gg_unit_ucry_0022          = null
    unit                    gg_unit_u000_0038          = null
    unit                    gg_unit_ucry_0020          = null
    unit                    gg_unit_nsc3_0013          = null
    unit                    gg_unit_nsc2_0033          = null
    unit                    gg_unit_nnwa_0037          = null
    unit                    gg_unit_nspd_0049          = null
    unit                    gg_unit_nspd_0052          = null
    unit                    gg_unit_nspd_0053          = null
    unit                    gg_unit_nspd_0054          = null
    unit                    gg_unit_nnwa_0063          = null
    unit                    gg_unit_nnwl_0066          = null
    unit                    gg_unit_nspd_0069          = null
    unit                    gg_unit_nnwl_0077          = null
    unit                    gg_unit_nspd_0082          = null
    unit                    gg_unit_nfot_0087          = null
    unit                    gg_unit_nfot_0088          = null
    unit                    gg_unit_ugho_0040          = null
    unit                    gg_unit_nnwr_0003          = null
    unit                    gg_unit_nnwl_0095          = null
    unit                    gg_unit_nnwl_0098          = null
    unit                    gg_unit_nnwr_0101          = null
    unit                    gg_unit_nfot_0104          = null
    destructable            gg_dest_ZTd2_0107          = null
    destructable            gg_dest_DTlv_0109          = null
    destructable            gg_dest_DTlv_0108          = null
    destructable            gg_dest_ZTd2_0001          = null
    destructable            gg_dest_DTrf_0003          = null
    destructable            gg_dest_DTrf_0004          = null
    destructable            gg_dest_DTrf_0005          = null
    destructable            gg_dest_DTrf_0006          = null
    destructable            gg_dest_DTrf_0007          = null
    destructable            gg_dest_DTrf_0008          = null
    destructable            gg_dest_DTrf_0009          = null
    destructable            gg_dest_DTrf_0010          = null
    destructable            gg_dest_DTrf_0011          = null
    destructable            gg_dest_DTrf_0012          = null
    destructable            gg_dest_DTrf_0013          = null
    destructable            gg_dest_DTrf_0014          = null
    destructable            gg_dest_DTrf_0015          = null
    destructable            gg_dest_DTrf_0016          = null
    destructable            gg_dest_DTrf_0017          = null
    destructable            gg_dest_DTrf_0018          = null
    destructable            gg_dest_DTrf_0019          = null
    destructable            gg_dest_DTrf_0020          = null
    destructable            gg_dest_DTrf_0022          = null
    destructable            gg_dest_DTrf_0023          = null
    destructable            gg_dest_DTrf_0024          = null
    destructable            gg_dest_DTrf_0025          = null
    destructable            gg_dest_DTrf_0026          = null
    destructable            gg_dest_DTrf_0027          = null
    destructable            gg_dest_DTrf_0028          = null
    destructable            gg_dest_DTrf_0030          = null
    destructable            gg_dest_ITg2_0031          = null
    destructable            gg_dest_DTlv_0374          = null
    destructable            gg_dest_DTlv_0373          = null
    destructable            gg_dest_DTlv_0372          = null
    destructable            gg_dest_DTlv_0371          = null
    destructable            gg_dest_DTes_0368          = null
    destructable            gg_dest_DTg7_0302          = null
    destructable            gg_dest_LTcr_0503          = null
    destructable            gg_dest_DTrf_0211          = null
    destructable            gg_dest_ZTd3_0225          = null
    destructable            gg_dest_ZTd3_0221          = null
    destructable            gg_dest_ZTd3_0220          = null
    destructable            gg_dest_ZTd3_0222          = null
    destructable            gg_dest_ZTd3_0223          = null
    destructable            gg_dest_DTfp_0217          = null
    destructable            gg_dest_LTcr_0489          = null
    destructable            gg_dest_DTes_0267          = null
    destructable            gg_dest_DTrf_0212          = null
    destructable            gg_dest_DTrf_0310          = null
    destructable            gg_dest_DTrf_0210          = null
    destructable            gg_dest_DTrf_0186          = null
    destructable            gg_dest_DTrf_0173          = null
    destructable            gg_dest_ZTd3_0171          = null
    destructable            gg_dest_DTg7_0303          = null
    destructable            gg_dest_DTrf_0021          = null
    destructable            gg_dest_DTrf_0065          = null
    destructable            gg_dest_DTrf_0103          = null
    destructable            gg_dest_DTrf_0170          = null
    destructable            gg_dest_DTrf_0172          = null
    destructable            gg_dest_Ytlc_0550          = null
    destructable            gg_dest_Ytlc_0551          = null
    destructable            gg_dest_Ytlc_0552          = null
    destructable            gg_dest_Ytlc_0553          = null
    destructable            gg_dest_Ytlc_0554          = null
    destructable            gg_dest_Ytlc_0555          = null
    destructable            gg_dest_Ytlc_0556          = null
    destructable            gg_dest_Ytlc_0557          = null
    destructable            gg_dest_Ytlc_0558          = null
    destructable            gg_dest_Ytlc_0559          = null
    destructable            gg_dest_Ytlc_0560          = null
    destructable            gg_dest_Ytlc_0561          = null
    destructable            gg_dest_Ytlc_0562          = null
    destructable            gg_dest_Ytlc_0563          = null
    destructable            gg_dest_Ytlc_0564          = null
    destructable            gg_dest_Ytlc_0565          = null
    destructable            gg_dest_Ytlc_0566          = null
    destructable            gg_dest_Ytlc_0567          = null
    destructable            gg_dest_Ytlc_0568          = null
    destructable            gg_dest_Ytlc_0569          = null
    destructable            gg_dest_Ytlc_0570          = null
    destructable            gg_dest_Ytlc_0571          = null
    destructable            gg_dest_Ytlc_0572          = null
    destructable            gg_dest_Ytlc_0573          = null
endglobals

function InitGlobals takes nothing returns nothing
    set udg_AP1_Player = Player(0)
    set udg_APG1_Player = bj_FORCE_PLAYER[0]
    set udg_IntroSkipped = false
    set udg_HiddenUnits = CreateGroup()
    set udg_AP3_Nerubians = Player(2)
    set udg_StartingUnits = CreateGroup()
    set udg_ExpDisabledForArthas = false
    set udg_ExpDisabledForAnuburak = false
    set udg_GameOver = false
    set udg_MidCinForgottenOneSkipped = false
    set udg_HiddenUnitsCreep = CreateGroup()
    set udg_SelectedUnits = CreateGroup()
    set udg_VictorySkipped = false
    set udg_InCinematic = false
    set udg_TowerRevealerGroup = CreateGroup()
    set udg_AP2_Rescuables = Player(1)
    set udg_BossRevealerGroup = CreateGroup()
    set udg_AP5_Towers = Player(4)
    set udg_ArachnathidGroup = CreateGroup()
    set udg_RescuableGroup = CreateGroup()
    set udg_CrabGroup = CreateGroup()
    set udg_TowerLeft = false
    set udg_TowerRight = false
    set udg_EggsRevealerGroup = CreateGroup()
    set udg_Eggs01Timer = CreateTimer()
    set udg_Eggs02Timer = CreateTimer()
    set udg_Eggs03Timer = CreateTimer()
    set udg_Eggs04Timer = CreateTimer()
    set udg_MaxSpiderlingsSpawn = 0
    set udg_Eggs01 = 0
    set udg_Eggs02 = 0
    set udg_Eggs04 = 0
    set udg_Eggs03 = 0
    set udg_Eggs01Done = false
    set udg_Eggs02Done = false
    set udg_Eggs03Done = false
    set udg_Eggs04Done = false
    set udg_AP4_FacelessOnes = Player(3)
    set udg_ItemTrapAmbushDone = false
    set udg_RandomNumber = 0
    set udg_SpiderlingGroup = CreateGroup()
    set udg_SpawnFacelessFriendsTimer = CreateTimer()
    set udg_FacelessFriendCounter = 0
    set udg_Eggs01DeadCount = 0
    set udg_Eggs02DeadCount = 0
    set udg_Eggs03DeadCount = 0
    set udg_Eggs04DeadCount = 0
    set udg_ForgottenOneFriendInterval = 0
    set udg_GoldCoinsFound = 0
    set udg_CombatCheckTimer = CreateTimer()
    set udg_InFOCombat = false
    set udg_FOFriends = CreateGroup()
    set udg_TempUnitGroup = CreateGroup()
endfunction

//***************************************************************************
//*
//*  Unit Item Tables
//*
//***************************************************************************

function Unit000016_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rhe3', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000017_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rhe3', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000021_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rhe2', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000034_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rhe1', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000064_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rman', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000077_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'mcou', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000091_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rhe2', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000094_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'brac', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000103_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rhe2', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction


//***************************************************************************
//*
//*  Destructible Item Tables
//*
//***************************************************************************

function Doodad000053_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rhe1', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad000214_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rhe1', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad000247_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'tin2', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad000259_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'manh', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction


//***************************************************************************
//*
//*  Sounds
//*
//***************************************************************************

function InitSounds takes nothing returns nothing
    set gg_snd_L07BAnubarak01 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Bx\\L07BAnubarak01.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07BAnubarak01, "L07BAnubarak01" )
    call SetSoundDuration( gg_snd_L07BAnubarak01, 10136 )
    set gg_snd_L07BAnubarak09 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Bx\\L07BAnubarak09.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07BAnubarak09, "L07BAnubarak09" )
    call SetSoundDuration( gg_snd_L07BAnubarak09, 7706 )
    set gg_snd_L07BAnubarak11 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Bx\\L07BAnubarak11.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07BAnubarak11, "L07BAnubarak11" )
    call SetSoundDuration( gg_snd_L07BAnubarak11, 11416 )
    set gg_snd_L07BAnubarak16 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Bx\\L07BAnubarak16.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07BAnubarak16, "L07BAnubarak16" )
    call SetSoundDuration( gg_snd_L07BAnubarak16, 8385 )
    set gg_snd_L07BAnubarak29 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Bx\\L07BAnubarak29.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07BAnubarak29, "L07BAnubarak29" )
    call SetSoundDuration( gg_snd_L07BAnubarak29, 9247 )
    set gg_snd_L07BAnubarak31 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Bx\\L07BAnubarak31.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07BAnubarak31, "L07BAnubarak31" )
    call SetSoundDuration( gg_snd_L07BAnubarak31, 4180 )
    set gg_snd_L07BAnubarak34 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Bx\\L07BAnubarak34.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07BAnubarak34, "L07BAnubarak34" )
    call SetSoundDuration( gg_snd_L07BAnubarak34, 7210 )
    set gg_snd_L07BAnubarak36 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Bx\\L07BAnubarak36.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07BAnubarak36, "L07BAnubarak36" )
    call SetSoundDuration( gg_snd_L07BAnubarak36, 2691 )
    set gg_snd_L07BAnubarak42 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Bx\\L07BAnubarak42.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07BAnubarak42, "L07BAnubarak42" )
    call SetSoundDuration( gg_snd_L07BAnubarak42, 2220 )
    set gg_snd_L07BAnubarak43 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Bx\\L07BAnubarak43.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07BAnubarak43, "L07BAnubarak43" )
    call SetSoundDuration( gg_snd_L07BAnubarak43, 8934 )
    set gg_snd_L07BAnubarak44 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Bx\\L07BAnubarak44.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07BAnubarak44, "L07BAnubarak44" )
    call SetSoundDuration( gg_snd_L07BAnubarak44, 5851 )
    set gg_snd_L07BArthas07 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Bx\\L07BArthas07.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07BArthas07, "L07BArthas07" )
    call SetSoundDuration( gg_snd_L07BArthas07, 2586 )
    set gg_snd_L07BArthas10 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Bx\\L07BArthas10.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07BArthas10, "L07BArthas10" )
    call SetSoundDuration( gg_snd_L07BArthas10, 1045 )
    set gg_snd_L07BArthas13 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Bx\\L07BArthas13.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07BArthas13, "L07BArthas13" )
    call SetSoundDuration( gg_snd_L07BArthas13, 1933 )
    set gg_snd_L07BArthas15 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Bx\\L07BArthas15.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07BArthas15, "L07BArthas15" )
    call SetSoundDuration( gg_snd_L07BArthas15, 966 )
    set gg_snd_L07BArthas23 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Bx\\L07BArthas23.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07BArthas23, "L07BArthas23" )
    call SetSoundDuration( gg_snd_L07BArthas23, 2273 )
    set gg_snd_L07BArthas30 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Bx\\L07BArthas30.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07BArthas30, "L07BArthas30" )
    call SetSoundDuration( gg_snd_L07BArthas30, 4206 )
    set gg_snd_L07BArthas33 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Bx\\L07BArthas33.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07BArthas33, "L07BArthas33" )
    call SetSoundDuration( gg_snd_L07BArthas33, 1228 )
    set gg_snd_L07BArthas35 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Bx\\L07BArthas35.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07BArthas35, "L07BArthas35" )
    call SetSoundDuration( gg_snd_L07BArthas35, 496 )
    set gg_snd_L07BCryptFiend22 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Bx\\L07BCryptFiend22.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07BCryptFiend22, "L07BCryptFiend22" )
    call SetSoundDuration( gg_snd_L07BCryptFiend22, 13087 )
    set gg_snd_L07BNerubian14 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Bx\\L07BNerubian14.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07BNerubian14, "L07BNerubian14" )
    call SetSoundDuration( gg_snd_L07BNerubian14, 3709 )
    set gg_snd_L07BNerubian17 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Bx\\L07BNerubian17.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07BNerubian17, "L07BNerubian17" )
    call SetSoundDuration( gg_snd_L07BNerubian17, 2534 )
    set gg_snd_L07BNerubian18 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Bx\\L07BNerubian18.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_L07BNerubian18, "L07BNerubian18" )
    call SetSoundDuration( gg_snd_L07BNerubian18, 3683 )
    set gg_snd_L07BNerubian19 = CreateSound( "Sound\\Dialogue\\UndeadExpCamp\\Undead07Bx\\L07BNerubian19.mp3", false, false, false, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_L07BNerubian19, "L07BNerubian19" )
    call SetSoundDuration( gg_snd_L07BNerubian19, 3526 )
    set gg_snd_Switch = CreateSound( "Sound\\Ambient\\DoodadEffects\\Switch.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_Switch, "Switch" )
    call SetSoundDuration( gg_snd_Switch, 2606 )
    set gg_snd_Elevator = CreateSound( "Sound\\Ambient\\DoodadEffects\\Elevator.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_Elevator, "Elevator" )
    call SetSoundDuration( gg_snd_Elevator, 2276 )
    set gg_snd_WaterLakeLoop1 = CreateSound( "Sound\\Ambient\\DoodadEffects\\WaterLakeLoop1.wav", true, true, true, 10, 10, "DoodadsEAX" )
    call SetSoundParamsFromLabel( gg_snd_WaterLakeLoop1, "LakeLoop" )
    call SetSoundDuration( gg_snd_WaterLakeLoop1, 3297 )
    set gg_snd_EarthquakeLoop1 = CreateSound( "Abilities\\Spells\\Orc\\Earthquake\\EarthquakeLoop1.wav", true, false, true, 10, 10, "SpellsEAX" )
    call SetSoundParamsFromLabel( gg_snd_EarthquakeLoop1, "EarthquakeLoop" )
    call SetSoundDuration( gg_snd_EarthquakeLoop1, 1962 )
    set gg_snd_Elevator01 = CreateSound( "Sound\\Ambient\\DoodadEffects\\Elevator.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_Elevator01, "Elevator" )
    call SetSoundDuration( gg_snd_Elevator01, 2276 )
    set gg_snd_HorseLoop3 = CreateSound( "Units\\Human\\Knight\\HorseLoop3.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_HorseLoop3, "HumanKnightMovement" )
    call SetSoundDuration( gg_snd_HorseLoop3, 5317 )
    set gg_snd_HorseLoop2 = CreateSound( "Units\\Human\\Knight\\HorseLoop2.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_HorseLoop2, "HumanKnightMovement" )
    call SetSoundDuration( gg_snd_HorseLoop2, 3228 )
    set gg_snd_HorseLoop1 = CreateSound( "Units\\Human\\Knight\\HorseLoop1.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_HorseLoop1, "HumanKnightMovement" )
    call SetSoundDuration( gg_snd_HorseLoop1, 2101 )
    set gg_snd_FacelessOneYes2 = CreateSound( "Units\\Creeps\\FacelessOne\\FacelessOneYes2.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_FacelessOneYes2, "FacelessOneYesAttack" )
    call SetSoundDuration( gg_snd_FacelessOneYes2, 963 )
    set gg_snd_FacelessOneYes1 = CreateSound( "Units\\Creeps\\FacelessOne\\FacelessOneYes1.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_FacelessOneYes1, "FacelessOneYesAttack" )
    call SetSoundDuration( gg_snd_FacelessOneYes1, 1053 )
    set gg_snd_FacelessOneWhat2 = CreateSound( "Units\\Creeps\\FacelessOne\\FacelessOneWhat2.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_FacelessOneWhat2, "FacelessOneWhat" )
    call SetSoundDuration( gg_snd_FacelessOneWhat2, 1292 )
    set gg_snd_HorseLoop301 = CreateSound( "Units\\Human\\Knight\\HorseLoop3.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_HorseLoop301, "HumanKnightMovement" )
    call SetSoundDuration( gg_snd_HorseLoop301, 5317 )
endfunction

//***************************************************************************
//*
//*  Destructable Objects
//*
//***************************************************************************

function CreateAllDestructables takes nothing returns nothing
    local destructable d
    local trigger t
    local real life
    set d = CreateDestructable( 'DTes', 4384.0, 3936.0, 299.000, 0.908, 0 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, d )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad000259_DropItems )
    set gg_dest_DTes_0368 = CreateDestructable( 'DTes', 1760.0, 4384.0, 98.000, 0.856, 0 )
    set d = CreateDestructable( 'DTes', 3232.0, 3872.0, 205.000, 0.925, 0 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, d )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad000053_DropItems )
    set gg_dest_DTes_0267 = CreateDestructable( 'DTes', 4512.0, 4512.0, 101.000, 0.887, 0 )
    set gg_dest_DTfp_0217 = CreateDestructableZ( 'DTfp', -128.0, 4352.0, 102.4, 270.000, 1.000, 0 )
    set gg_dest_DTg7_0302 = CreateDestructable( 'DTg7', 1024.0, 3520.0, 0.000, 0.900, 0 )
    set gg_dest_DTg7_0303 = CreateDestructable( 'DTg7', -1408.0, 4352.0, 0.000, 0.900, 0 )
    set gg_dest_DTlv_0371 = CreateDestructable( 'DTlv', 3680.0, 4768.0, 132.444, 0.985, 0 )
    set gg_dest_DTlv_0372 = CreateDestructable( 'DTlv', 4704.0, 4704.0, 132.444, 0.985, 0 )
    set gg_dest_DTlv_0109 = CreateDestructable( 'DTlv', -608.0, 416.0, 135.868, 0.985, 0 )
    set gg_dest_DTlv_0108 = CreateDestructable( 'DTlv', -3232.0, -1440.0, 129.921, 0.985, 0 )
    set gg_dest_DTlv_0373 = CreateDestructable( 'DTlv', 3680.0, 3680.0, 132.444, 0.985, 0 )
    set gg_dest_DTlv_0374 = CreateDestructable( 'DTlv', 4704.0, 3680.0, 132.444, 0.985, 0 )
    set gg_dest_DTrf_0012 = CreateDestructableZ( 'DTrf', 2944.0, -1856.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0013 = CreateDestructableZ( 'DTrf', 3584.0, -896.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0014 = CreateDestructableZ( 'DTrf', 3264.0, -896.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0015 = CreateDestructableZ( 'DTrf', 2944.0, -896.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0016 = CreateDestructableZ( 'DTrf', 2688.0, -1536.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0017 = CreateDestructableZ( 'DTrf', 2688.0, -1856.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0018 = CreateDestructableZ( 'DTrf', 2944.0, -2176.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0019 = CreateDestructableZ( 'DTrf', 3904.0, -2176.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0020 = CreateDestructableZ( 'DTrf', 4224.0, -1856.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0022 = CreateDestructableZ( 'DTrf', 2688.0, -1216.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0023 = CreateDestructableZ( 'DTrf', 3584.0, -640.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0024 = CreateDestructableZ( 'DTrf', 3904.0, -640.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0011 = CreateDestructableZ( 'DTrf', 3904.0, -896.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0026 = CreateDestructableZ( 'DTrf', 3264.0, -2176.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0027 = CreateDestructableZ( 'DTrf', 3264.0, -640.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0028 = CreateDestructableZ( 'DTrf', 4224.0, -1216.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0030 = CreateDestructableZ( 'DTrf', 4224.0, -896.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0103 = CreateDestructableZ( 'DTrf', -2304.0, 3840.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0172 = CreateDestructableZ( 'DTrf', -2304.0, 4160.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0010 = CreateDestructableZ( 'DTrf', 3584.0, -1856.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0009 = CreateDestructableZ( 'DTrf', 3904.0, -1216.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0008 = CreateDestructableZ( 'DTrf', 3904.0, -1856.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0007 = CreateDestructableZ( 'DTrf', 3904.0, -1536.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0006 = CreateDestructableZ( 'DTrf', 3264.0, -1856.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0005 = CreateDestructableZ( 'DTrf', 2944.0, -1216.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0065 = CreateDestructableZ( 'DTrf', 2944.0, -640.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0211 = CreateDestructableZ( 'DTrf', -1664.0, 3840.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0021 = CreateDestructableZ( 'DTrf', 4224.0, -1536.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0004 = CreateDestructableZ( 'DTrf', 2944.0, -1536.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0173 = CreateDestructableZ( 'DTrf', -1984.0, 4160.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0186 = CreateDestructableZ( 'DTrf', -2304.0, 4480.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0210 = CreateDestructableZ( 'DTrf', -1984.0, 4480.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0310 = CreateDestructableZ( 'DTrf', -1664.0, 4160.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0003 = CreateDestructableZ( 'DTrf', 2688.0, -896.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0212 = CreateDestructableZ( 'DTrf', -1664.0, 4480.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0170 = CreateDestructableZ( 'DTrf', -1984.0, 3840.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_DTrf_0025 = CreateDestructableZ( 'DTrf', 3584.0, -2176.0, -25.6, 270.000, 1.000, 0 )
    set gg_dest_ITg2_0031 = CreateDestructable( 'ITg2', 5216.0, -3040.0, 270.000, 1.000, 0 )
    set gg_dest_LTcr_0489 = CreateDestructable( 'LTcr', 4800.0, 1216.0, 126.000, 1.032, 0 )
    set d = CreateDestructable( 'LTcr', 4544.0, 896.0, 139.000, 0.803, 0 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, d )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad000214_DropItems )
    set gg_dest_LTcr_0503 = CreateDestructable( 'LTcr', -2624.0, 2880.0, 126.000, 1.032, 0 )
    set d = CreateDestructable( 'LTcr', 3520.0, 448.0, 109.000, 0.826, 1 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, d )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad000247_DropItems )
    set gg_dest_Ytlc_0568 = CreateDestructable( 'Ytlc', 4096.0, 3328.0, 270.000, 1.000, 0 )
    set gg_dest_Ytlc_0571 = CreateDestructable( 'Ytlc', 4480.0, 3328.0, 270.000, 1.000, 0 )
    set gg_dest_Ytlc_0572 = CreateDestructable( 'Ytlc', 4608.0, 3328.0, 270.000, 1.000, 0 )
    set gg_dest_Ytlc_0569 = CreateDestructable( 'Ytlc', 4224.0, 3328.0, 270.000, 1.000, 0 )
    set gg_dest_Ytlc_0570 = CreateDestructable( 'Ytlc', 4288.0, 3328.0, 270.000, 1.000, 0 )
    set gg_dest_Ytlc_0565 = CreateDestructable( 'Ytlc', 3584.0, 3328.0, 270.000, 1.000, 0 )
    set gg_dest_Ytlc_0566 = CreateDestructable( 'Ytlc', 3712.0, 3328.0, 270.000, 1.000, 0 )
    set gg_dest_Ytlc_0573 = CreateDestructable( 'Ytlc', 4416.0, 3328.0, 270.000, 1.000, 0 )
    set gg_dest_Ytlc_0550 = CreateDestructable( 'Ytlc', 3200.0, 5120.0, 270.000, 1.000, 0 )
    set gg_dest_Ytlc_0551 = CreateDestructable( 'Ytlc', 3328.0, 5120.0, 270.000, 1.000, 0 )
    set gg_dest_Ytlc_0552 = CreateDestructable( 'Ytlc', 3392.0, 5120.0, 270.000, 1.000, 0 )
    set gg_dest_Ytlc_0553 = CreateDestructable( 'Ytlc', 3584.0, 5120.0, 270.000, 1.000, 0 )
    set gg_dest_Ytlc_0554 = CreateDestructable( 'Ytlc', 3712.0, 5120.0, 270.000, 1.000, 0 )
    set gg_dest_Ytlc_0555 = CreateDestructable( 'Ytlc', 3520.0, 5120.0, 270.000, 1.000, 0 )
    set gg_dest_Ytlc_0556 = CreateDestructable( 'Ytlc', 4096.0, 5120.0, 270.000, 1.000, 0 )
    set gg_dest_Ytlc_0557 = CreateDestructable( 'Ytlc', 4224.0, 5120.0, 270.000, 1.000, 0 )
    set gg_dest_Ytlc_0558 = CreateDestructable( 'Ytlc', 4288.0, 5120.0, 270.000, 1.000, 0 )
    set gg_dest_Ytlc_0559 = CreateDestructable( 'Ytlc', 4480.0, 5120.0, 270.000, 1.000, 0 )
    set gg_dest_Ytlc_0560 = CreateDestructable( 'Ytlc', 4608.0, 5120.0, 270.000, 1.000, 0 )
    set gg_dest_Ytlc_0561 = CreateDestructable( 'Ytlc', 4416.0, 5120.0, 270.000, 1.000, 0 )
    set gg_dest_Ytlc_0562 = CreateDestructable( 'Ytlc', 3200.0, 3328.0, 270.000, 1.000, 0 )
    set gg_dest_Ytlc_0563 = CreateDestructable( 'Ytlc', 3328.0, 3328.0, 270.000, 1.000, 0 )
    set gg_dest_Ytlc_0564 = CreateDestructable( 'Ytlc', 3392.0, 3328.0, 270.000, 1.000, 0 )
    set gg_dest_Ytlc_0567 = CreateDestructable( 'Ytlc', 3520.0, 3328.0, 270.000, 1.000, 0 )
    set gg_dest_ZTd2_0001 = CreateDestructable( 'ZTd2', -1408.0, -256.0, 0.000, 0.900, 0 )
    set gg_dest_ZTd2_0107 = CreateDestructable( 'ZTd2', -2944.0, -256.0, 0.000, 0.900, 0 )
    set gg_dest_ZTd3_0223 = CreateDestructable( 'ZTd3', 4352.0, 3456.0, 90.000, 0.900, 0 )
    set gg_dest_ZTd3_0220 = CreateDestructable( 'ZTd3', 1792.0, 2688.0, 90.000, 0.900, 0 )
    set gg_dest_ZTd3_0221 = CreateDestructable( 'ZTd3', 4352.0, 4992.0, 90.000, 0.900, 0 )
    set gg_dest_ZTd3_0225 = CreateDestructable( 'ZTd3', 3456.0, 3456.0, 90.000, 0.900, 0 )
    set gg_dest_ZTd3_0222 = CreateDestructable( 'ZTd3', 3456.0, 4992.0, 90.000, 0.900, 0 )
    set gg_dest_ZTd3_0171 = CreateDestructable( 'ZTd3', 256.0, 3200.0, 90.000, 0.900, 0 )
endfunction

//***************************************************************************
//*
//*  Items
//*
//***************************************************************************

function CreateAllItems takes nothing returns nothing
    local integer itemID

    set gg_item_bgst_0026 = CreateItem( 'bgst', -127.6, 4343.3 )
    call CreateItem( 'cnob', 2919.8, 2193.6 )
    call CreateItem( 'gold', -711.6, -1731.7 )
    call CreateItem( 'rdis', 2493.7, -2565.6 )
    call CreateItem( 'rhe3', 3080.3, -259.9 )
    call CreateItem( 'rhe3', 2319.1, -579.0 )
    call CreateItem( 'rhe3', 4855.7, -1047.3 )
    call CreateItem( 'rhe3', 3718.1, -2627.9 )
    call CreateItem( 'rma2', 4421.0, -290.8 )
    call CreateItem( 'rma2', 3062.4, -2648.4 )
    call CreateItem( 'rma2', 4845.6, -1746.1 )
    call CreateItem( 'rma2', 3713.5, -260.9 )
    call CreateItem( 'rsps', 2319.7, -2400.0 )
    call CreateItem( 'rsps', 4603.9, -443.1 )
    call CreateItem( 'rsps', 2501.5, -389.0 )
endfunction

//***************************************************************************
//*
//*  Unit Creation
//*
//***************************************************************************

//===========================================================================
function CreateUnitsForPlayer0 takes nothing returns nothing
    local player p = Player(0)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_ucry_0020 = CreateUnit( p, 'ucry', -274.6, -3054.5, 155.028 )
    set gg_unit_ucry_0022 = CreateUnit( p, 'ucry', -422.5, -3146.0, 153.286 )
    set gg_unit_ugho_0040 = CreateUnit( p, 'ugho', -217.2, -3253.3, 131.875 )
    set gg_unit_ugho_0046 = CreateUnit( p, 'ugho', -372.8, -3300.3, 164.055 )
endfunction

//===========================================================================
function CreateUnitsForPlayer1 takes nothing returns nothing
    local player p = Player(1)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_ucry_0032 = CreateUnit( p, 'ucry', 168.3, 1997.9, 252.924 )
    set gg_unit_ucry_0067 = CreateUnit( p, 'ucry', 955.7, -1983.2, 98.034 )
    set gg_unit_ucry_0068 = CreateUnit( p, 'ucry', 1027.6, -2491.5, 122.238 )
    set gg_unit_ucry_0071 = CreateUnit( p, 'ucry', 371.8, -1924.9, 55.385 )
    set gg_unit_ucry_0073 = CreateUnit( p, 'ucry', 939.5, 1494.5, 159.680 )
    set gg_unit_ucry_0074 = CreateUnit( p, 'ucry', 698.9, 1834.6, 44.188 )
    set gg_unit_ucry_0075 = CreateUnit( p, 'ucry', 340.5, 1673.8, 304.188 )
    set gg_unit_ucry_0076 = CreateUnit( p, 'ucry', -2351.6, 3360.8, 315.174 )
    set gg_unit_ucry_0092 = CreateUnit( p, 'ucry', 1246.4, -2274.4, 98.034 )
    set gg_unit_ucry_0093 = CreateUnit( p, 'ucry', 521.0, -2385.3, 98.034 )
endfunction

//===========================================================================
function CreateUnitsForPlayer2 takes nothing returns nothing
    local player p = Player(2)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'nnwa', 3776.2, 1112.2, 308.357 )
    set gg_unit_nnwa_0002 = CreateUnit( p, 'nnwa', 3925.6, 1534.7, 316.276 )
    set gg_unit_nnwr_0003 = CreateUnit( p, 'nnwr', -2167.3, 2580.6, 295.971 )
    set gg_unit_nnwa_0005 = CreateUnit( p, 'nnwa', -2174.5, 2147.1, 257.769 )
    set u = CreateUnit( p, 'nnwr', 3305.1, 1430.4, 316.730 )
    set u = CreateUnit( p, 'nnwl', -1146.0, 2185.5, 206.152 )
    set u = CreateUnit( p, 'nnws', 3575.7, 1477.0, 322.180 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000021_DropItems )
    set u = CreateUnit( p, 'nnwl', -105.1, 1831.7, 346.563 )
    set u = CreateUnit( p, 'nnwl', -1755.5, 2473.6, 259.740 )
    call SetUnitState( u, UNIT_STATE_MANA, 0 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000091_DropItems )
    set u = CreateUnit( p, 'nnwa', 629.1, 1553.9, 125.690 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000034_DropItems )
    set gg_unit_nnwa_0037 = CreateUnit( p, 'nnwa', -1546.1, 2354.2, 248.771 )
    set gg_unit_nspd_0049 = CreateUnit( p, 'nspd', -1801.1, 2194.3, 319.712 )
    set gg_unit_nspd_0052 = CreateUnit( p, 'nspd', -2031.3, 2634.7, 22.479 )
    set gg_unit_nspd_0053 = CreateUnit( p, 'nspd', -660.7, 89.2, 276.439 )
    set gg_unit_nspd_0054 = CreateUnit( p, 'nspd', -533.9, 96.3, 265.365 )
    set gg_unit_nnwa_0063 = CreateUnit( p, 'nnwa', 108.0, 1628.7, 64.795 )
    set gg_unit_nnwl_0066 = CreateUnit( p, 'nnwl', 1026.3, 1736.0, 144.530 )
    set gg_unit_nspd_0069 = CreateUnit( p, 'nspd', 3864.5, 1809.3, 350.930 )
    set gg_unit_nnwl_0077 = CreateUnit( p, 'nnwl', 3903.5, 1284.4, 306.252 )
    set gg_unit_nspd_0082 = CreateUnit( p, 'nspd', 3514.9, 1120.9, 316.793 )
    set gg_unit_nnwl_0083 = CreateUnit( p, 'nnwl', 455.6, 1866.8, 144.424 )
    set u = CreateUnit( p, 'nnwr', 3608.1, 1808.0, 13.140 )
    call SetUnitState( u, UNIT_STATE_MANA, 0 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000064_DropItems )
    set gg_unit_nnwl_0095 = CreateUnit( p, 'nnwl', 976.9, 1962.8, 166.558 )
    set gg_unit_nnwl_0098 = CreateUnit( p, 'nnwl', -110.2, 2039.3, 0.910 )
    set gg_unit_nnwr_0101 = CreateUnit( p, 'nnwr', 3285.4, 1699.8, 328.488 )
    set u = CreateUnit( p, 'nnwa', -798.6, 241.4, 289.886 )
    set u = CreateUnit( p, 'nnwa', -447.7, 301.3, 249.174 )
    set u = CreateUnit( p, 'nnwr', -705.2, 515.6, 283.200 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000103_DropItems )
    set u = CreateUnit( p, 'nspd', -2333.9, 2451.9, 341.509 )
    set u = CreateUnit( p, 'nspd', -1408.9, 2141.0, 217.522 )
    set u = CreateUnit( p, 'nnwl', 946.5, 2138.8, 174.449 )
    set u = CreateUnit( p, 'nnwl', -2655.7, 2269.6, 301.150 )
    set gg_unit_nnwq_0149 = CreateUnit( p, 'nnwq', 4034.3, 4143.6, 179.300 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, gg_unit_nnwq_0149, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, gg_unit_nnwq_0149, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000077_DropItems )
endfunction

//===========================================================================
function CreateBuildingsForPlayer3 takes nothing returns nothing
    local player p = Player(3)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_nfgo_0017 = CreateUnit( p, 'nfgo', 3456.0, -1408.0, 270.000 )
endfunction

//===========================================================================
function CreateUnitsForPlayer3 takes nothing returns nothing
    local player p = Player(3)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'n002', 970.6, -1650.0, 274.645 )
    set u = CreateUnit( p, 'nfor', 510.0, 637.0, 301.651 )
    set u = CreateUnit( p, 'nfor', 944.7, -274.3, 150.740 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000016_DropItems )
    set u = CreateUnit( p, 'nfod', 396.6, -1249.2, 309.620 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000017_DropItems )
    set u = CreateUnit( p, 'nfor', 1316.9, -998.7, 301.651 )
    set u = CreateUnit( p, 'n002', 286.7, -1717.3, 274.645 )
    set u = CreateUnit( p, 'n002', 1847.9, 836.4, 113.382 )
    set u = CreateUnit( p, 'n002', 1020.6, 898.3, 56.823 )
    set u = CreateUnit( p, 'n002', 1519.5, 341.9, 226.578 )
    set u = CreateUnit( p, 'n002', 1348.8, -346.5, 74.215 )
    set u = CreateUnit( p, 'n002', 1125.2, 6.2, 2.582 )
    set u = CreateUnit( p, 'n002', 1352.5, -735.7, 274.732 )
    set u = CreateUnit( p, 'n002', 988.0, -1161.4, 274.645 )
    set u = CreateUnit( p, 'n002', 592.5, -637.2, 27.357 )
    set u = CreateUnit( p, 'n002', 247.1, -870.2, 282.808 )
    set gg_unit_nfot_0087 = CreateUnit( p, 'nfot', 429.0, -430.2, 25.242 )
    call SetUnitState( gg_unit_nfot_0087, UNIT_STATE_MANA, 0 )
    set gg_unit_nfot_0088 = CreateUnit( p, 'nfot', 895.9, 352.5, 43.202 )
    call SetUnitState( gg_unit_nfot_0088, UNIT_STATE_MANA, 0 )
    set gg_unit_nfor_0091 = CreateUnit( p, 'nfor', 844.3, -2539.2, 92.280 )
    call SetUnitState( gg_unit_nfor_0091, UNIT_STATE_MANA, 0 )
    set u = CreateUnit( p, 'nfor', 1253.9, -1979.1, 301.651 )
    set u = CreateUnit( p, 'nfor', 517.8, -2201.8, 84.655 )
    set u = CreateUnit( p, 'n002', 709.4, 521.8, 61.437 )
    set u = CreateUnit( p, 'n002', 457.0, -20.0, 290.696 )
    set gg_unit_nfot_0104 = CreateUnit( p, 'nfot', 1183.4, -1675.7, 131.470 )
    set u = CreateUnit( p, 'n002', 367.1, 644.5, 102.462 )
    set u = CreateUnit( p, 'n002', 257.3, 334.9, 6.383 )
    set u = CreateUnit( p, 'n002', 1380.0, -1541.4, 274.645 )
    set u = CreateUnit( p, 'n002', 790.5, -1994.1, 274.645 )
    set u = CreateUnit( p, 'n002', 350.8, -2412.4, 274.645 )
    set u = CreateUnit( p, 'n002', 1075.0, -2365.3, 274.645 )
endfunction

//===========================================================================
function CreateBuildingsForPlayer4 takes nothing returns nothing
    local player p = Player(4)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_u000_0024 = CreateUnit( p, 'u000', -2656.0, -800.0, 270.000 )
    set gg_unit_u000_0025 = CreateUnit( p, 'u000', -1696.0, -800.0, 270.000 )
    set gg_unit_u000_0027 = CreateUnit( p, 'u000', -1696.0, -480.0, 270.000 )
    set gg_unit_u000_0028 = CreateUnit( p, 'u000', -1696.0, -160.0, 270.000 )
    set gg_unit_u000_0038 = CreateUnit( p, 'u000', -1696.0, 160.0, 270.000 )
    set gg_unit_u000_0041 = CreateUnit( p, 'u000', -2656.0, -480.0, 270.000 )
    set gg_unit_u000_0042 = CreateUnit( p, 'u000', -2656.0, -160.0, 270.000 )
    set gg_unit_u000_0044 = CreateUnit( p, 'u000', -2656.0, 160.0, 270.000 )
    set gg_unit_u000_0045 = CreateUnit( p, 'u000', -1696.0, 544.0, 270.000 )
    set gg_unit_u000_0047 = CreateUnit( p, 'u000', -2656.0, 544.0, 270.000 )
endfunction

//===========================================================================
function CreateNeutralHostile takes nothing returns nothing
    local player p = Player(PLAYER_NEUTRAL_AGGRESSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'nanc', -823.8, 5069.9, 320.958 )
    set u = CreateUnit( p, 'nanb', -565.8, 4234.8, 20.094 )
    call IssueImmediateOrder( u, "burrow" )
    set u = CreateUnit( p, 'nanc', 528.0, 3972.3, 158.506 )
    set u = CreateUnit( p, 'nanb', -149.6, 4125.8, 67.129 )
    call IssueImmediateOrder( u, "burrow" )
    set u = CreateUnit( p, 'nanb', -597.3, 3722.6, 20.094 )
    call IssueImmediateOrder( u, "burrow" )
    set u = CreateUnit( p, 'nanb', 530.8, 5077.1, 20.094 )
    call IssueImmediateOrder( u, "burrow" )
    set u = CreateUnit( p, 'nanw', -460.0, 4727.1, 297.921 )
    set u = CreateUnit( p, 'nanw', 297.6, 4314.0, 207.238 )
    set u = CreateUnit( p, 'nane', -516.2, 4083.8, 19.880 )
    set u = CreateUnit( p, 'nano', 57.2, 4729.8, 245.510 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000094_DropItems )
    set u = CreateUnit( p, 'nanw', 145.6, 3709.2, 118.522 )
endfunction

//===========================================================================
function CreateNeutralPassiveBuildings takes nothing returns nothing
    local player p = Player(PLAYER_NEUTRAL_PASSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'nfoh', 1664.0, 3648.0, 270.000 )
endfunction

//===========================================================================
function CreateNeutralPassive takes nothing returns nothing
    local player p = Player(PLAYER_NEUTRAL_PASSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_nsc3_0001 = CreateUnit( p, 'nsc3', -3039.9, 4482.2, 0.000 )
    set gg_unit_nsc3_0013 = CreateUnit( p, 'nsc3', -2826.6, 4093.0, 0.000 )
    set gg_unit_nsc2_0033 = CreateUnit( p, 'nsc2', -2996.3, 4769.6, 133.466 )
    set u = CreateUnit( p, 'nsc2', -2685.1, 4869.9, 133.466 )
    set u = CreateUnit( p, 'nsc2', -3125.8, 4014.3, 302.770 )
    set u = CreateUnit( p, 'nscb', -2848.2, 4299.8, 294.585 )
    set u = CreateUnit( p, 'nscb', -3168.6, 4899.1, 32.927 )
    set u = CreateUnit( p, 'nscb', -2765.0, 4527.2, 18.710 )
    set u = CreateUnit( p, 'nscb', -2834.8, 4806.5, 68.689 )
    set u = CreateUnit( p, 'nscb', -2857.0, 3905.3, 68.381 )
    set u = CreateUnit( p, 'nscb', -3049.1, 4231.8, 141.728 )
endfunction

//===========================================================================
function CreatePlayerBuildings takes nothing returns nothing
    call CreateBuildingsForPlayer3(  )
    call CreateBuildingsForPlayer4(  )
endfunction

//===========================================================================
function CreatePlayerUnits takes nothing returns nothing
    call CreateUnitsForPlayer0(  )
    call CreateUnitsForPlayer1(  )
    call CreateUnitsForPlayer2(  )
    call CreateUnitsForPlayer3(  )
endfunction

//===========================================================================
function CreateAllUnits takes nothing returns nothing
    call CreateNeutralPassiveBuildings(  )
    call CreatePlayerBuildings(  )
    call CreateNeutralHostile(  )
    call CreateNeutralPassive(  )
    call CreatePlayerUnits(  )
endfunction

//***************************************************************************
//*
//*  Regions
//*
//***************************************************************************

function CreateRegions takes nothing returns nothing
    local weathereffect we

    set gg_rct_AnubarakIntroDest01 = Rect( -2368.0, -3072.0, -2176.0, -2880.0 )
    set gg_rct_AnubarakSpawn = Rect( -800.0, -3232.0, -608.0, -3040.0 )
    set gg_rct_Arachnathid01 = Rect( -672.0, 4160.0, -448.0, 4320.0 )
    set gg_rct_Arachnathid02 = Rect( -64.0, 4672.0, 160.0, 4832.0 )
    set gg_rct_Arachnathid03 = Rect( 192.0, 4224.0, 416.0, 4384.0 )
    set gg_rct_Arachnathid04 = Rect( -928.0, 4992.0, -704.0, 5152.0 )
    set gg_rct_Arachnathid05 = Rect( -256.0, 4064.0, -32.0, 4224.0 )
    set gg_rct_Arachnathid06 = Rect( 32.0, 3616.0, 256.0, 3776.0 )
    set gg_rct_Arachnathid07 = Rect( 416.0, 4992.0, 640.0, 5152.0 )
    set gg_rct_Arachnathid08 = Rect( -704.0, 3648.0, -480.0, 3808.0 )
    set gg_rct_Arachnathid09 = Rect( 416.0, 3904.0, 640.0, 4064.0 )
    set gg_rct_Arachnathid10 = Rect( -640.0, 4000.0, -416.0, 4160.0 )
    set gg_rct_Arachnathid11 = Rect( -576.0, 4640.0, -352.0, 4800.0 )
    set gg_rct_ArachnathidSpawn01 = Rect( -288.0, 5280.0, -128.0, 5472.0 )
    set gg_rct_ArachnathidSpawn02 = Rect( 832.0, 4832.0, 992.0, 5024.0 )
    set gg_rct_ArthasIntroDest01 = Rect( -2112.0, -2848.0, -1920.0, -2656.0 )
    set gg_rct_ArthasSpawn = Rect( -640.0, -3008.0, -448.0, -2816.0 )
    set gg_rct_BurrowTrap = Rect( -1024.0, 3488.0, 736.0, 5248.0 )
    set gg_rct_CameraReset = Rect( 2016.0, -1696.0, 2176.0, -1504.0 )
    set gg_rct_CrabArea = Rect( -3264.0, 3712.0, -2560.0, 5088.0 )
    set gg_rct_CrabAttackTarget = Rect( -2016.0, 4064.0, -1888.0, 4192.0 )
    set gg_rct_CrabAttackTripwire = Rect( -1824.0, 4032.0, -1536.0, 4672.0 )
    set gg_rct_CryptFiend01IntroDest01 = Rect( -1856.0, -3008.0, -1664.0, -2816.0 )
    set gg_rct_CryptFiend02IntroDest01 = Rect( -1856.0, -3168.0, -1664.0, -2976.0 )
    set gg_rct_EggAttackInitArea = Rect( 2912.0, 3296.0, 4256.0, 5088.0 )
    set gg_rct_EggSacks01 = Rect( 3552.0, 5216.0, 3872.0, 5536.0 )
    set gg_rct_EggSacks02 = Rect( 4320.0, 5216.0, 4640.0, 5536.0 )
    set gg_rct_EggSacks03 = Rect( 3296.0, 2784.0, 3680.0, 3072.0 )
    set gg_rct_EggSacks04 = Rect( 4224.0, 2816.0, 4640.0, 3072.0 )
    set gg_rct_FacelessFriendTarget = Rect( 4160.0, -1472.0, 4384.0, -1216.0 )
    set gg_rct_FacelessSounds = Rect( 2240.0, -1760.0, 2432.0, -1504.0 )
    set gg_rct_Fire01 = Rect( 2816.0, -1760.0, 3008.0, -1568.0 )
    set gg_rct_Fire02 = Rect( 2816.0, -1504.0, 3008.0, -1312.0 )
    set gg_rct_Fire03 = Rect( 2816.0, -1248.0, 3008.0, -1056.0 )
    set gg_rct_Fire04 = Rect( 3072.0, -960.0, 3264.0, -768.0 )
    set gg_rct_Fire05 = Rect( 3360.0, -960.0, 3552.0, -768.0 )
    set gg_rct_Fire06 = Rect( 3616.0, -960.0, 3808.0, -768.0 )
    set gg_rct_Fire07 = Rect( 3872.0, -1248.0, 4064.0, -1056.0 )
    set gg_rct_Fire08 = Rect( 3872.0, -1472.0, 4064.0, -1280.0 )
    set gg_rct_Fire09 = Rect( 3872.0, -1728.0, 4064.0, -1536.0 )
    set gg_rct_Fire10 = Rect( 3648.0, -1984.0, 3840.0, -1792.0 )
    set gg_rct_Fire11 = Rect( 3360.0, -1984.0, 3552.0, -1792.0 )
    set gg_rct_Fire12 = Rect( 3104.0, -1984.0, 3296.0, -1792.0 )
    set gg_rct_FireBlueArea = Rect( 2816.0, -1984.0, 4032.0, -736.0 )
    set gg_rct_FloodLeft = Rect( -3008.0, -1152.0, -2432.0, 864.0 )
    set gg_rct_FloodRight = Rect( -1984.0, -1120.0, -1408.0, 896.0 )
    set gg_rct_FloodWaterSound1 = Rect( -2912.0, -1024.0, -2464.0, 800.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -2688.0, -112.0, 0.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 448.0, 1824.0 )
    set gg_rct_FloodWaterSound2 = Rect( -1856.0, -1056.0, -1408.0, 768.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -1632.0, -144.0, 0.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 448.0, 1824.0 )
    set gg_rct_ForgottenOneInit = Rect( 1824.0, -1952.0, 2336.0, -1280.0 )
    set gg_rct_Ghoul01IntroDest01 = Rect( -1664.0, -3008.0, -1472.0, -2816.0 )
    set gg_rct_Ghoul02IntroDest01 = Rect( -1664.0, -3168.0, -1472.0, -2976.0 )
    set gg_rct_MoveAnubarakForVictoryCin = Rect( 4288.0, 448.0, 4576.0, 704.0 )
    set gg_rct_Prisoner01 = Rect( -2496.0, 3232.0, -2240.0, 3456.0 )
    set gg_rct_Prisoner02 = Rect( 0.0, 1888.0, 256.0, 2112.0 )
    set gg_rct_Prisoner03 = Rect( 192.0, 1536.0, 448.0, 1760.0 )
    set gg_rct_Prisoner04 = Rect( 576.0, 1728.0, 832.0, 1952.0 )
    set gg_rct_Prisoner05 = Rect( 800.0, 1376.0, 1056.0, 1600.0 )
    set gg_rct_Prisoner10 = Rect( 256.0, -2016.0, 512.0, -1792.0 )
    set gg_rct_Prisoner11 = Rect( 832.0, -2080.0, 1088.0, -1856.0 )
    set gg_rct_Prisoner12 = Rect( 416.0, -2496.0, 608.0, -2272.0 )
    set gg_rct_Prisoner13 = Rect( 1120.0, -2400.0, 1376.0, -2176.0 )
    set gg_rct_Prisoner14 = Rect( 896.0, -2624.0, 1152.0, -2400.0 )
    set gg_rct_PrisonerLastRoom = Rect( 96.0, -2688.0, 1440.0, -1376.0 )
    set gg_rct_PrisonersRoom04 = Rect( -480.0, 1248.0, 2304.0, 2592.0 )
    set gg_rct_SpawnGenerator01 = Rect( 3424.0, 5280.0, 3584.0, 5440.0 )
    set gg_rct_SpawnGenerator02 = Rect( 4256.0, 5184.0, 4416.0, 5344.0 )
    set gg_rct_SpawnGenerator03 = Rect( 3264.0, 3040.0, 3520.0, 3200.0 )
    set gg_rct_SpawnGenerator04 = Rect( 4064.0, 3008.0, 4288.0, 3200.0 )
    set gg_rct_StartingUnits = Rect( -1344.0, -3392.0, -320.0, -2496.0 )
    set gg_rct_TentacleCasterCreate01 = Rect( 1088.0, -160.0, 1216.0, -32.0 )
    set gg_rct_TentacleCasterCreate02 = Rect( 672.0, -1088.0, 800.0, -960.0 )
    set gg_rct_TentacleSpawn01 = Rect( 672.0, -64.0, 800.0, 64.0 )
    set gg_rct_TentacleSpawn02 = Rect( 1024.0, -736.0, 1152.0, -608.0 )
    set gg_rct_TentacleSpawn03 = Rect( 1152.0, 416.0, 1280.0, 544.0 )
    set gg_rct_TentacleSpawn04 = Rect( 544.0, -1440.0, 672.0, -1312.0 )
    set gg_rct_TentacleTripwire01 = Rect( 480.0, -288.0, 992.0, 288.0 )
    set gg_rct_TentacleTripwire02 = Rect( 832.0, -960.0, 1344.0, -384.0 )
    set gg_rct_TentacleTripwire03 = Rect( 960.0, 192.0, 1472.0, 768.0 )
    set gg_rct_TentacleTripwire04 = Rect( 352.0, -1664.0, 864.0, -1088.0 )
    set gg_rct_TowerAreaInit = Rect( -2624.0, -1952.0, -1728.0, -1504.0 )
    set gg_rct_TowerLeftLeverRocks = Rect( -3424.0, -1632.0, -3008.0, -1088.0 )
    set gg_rct_TowerVisibility = Rect( -3360.0, -2272.0, -320.0, 1024.0 )
    set gg_rct_VictoryAnubarakDest = Rect( 5344.0, -3488.0, 5504.0, -3328.0 )
    set gg_rct_VictoryAnubarakStart = Rect( 4096.0, -2208.0, 4256.0, -2048.0 )
    set gg_rct_VictoryArthasDest = Rect( 5536.0, -3264.0, 5696.0, -3104.0 )
    set gg_rct_VictoryArthasStart = Rect( 3776.0, -1856.0, 3936.0, -1696.0 )
    set gg_rct_VictoryCrypt01Dest = Rect( 5504.0, -3424.0, 5664.0, -3264.0 )
    set gg_rct_VictoryCrypt01Start = Rect( 3680.0, -1152.0, 3840.0, -992.0 )
    set gg_rct_VictoryCrypt02Dest = Rect( 5344.0, -3328.0, 5504.0, -3168.0 )
    set gg_rct_VictoryCrypt02Start = Rect( 3200.0, -2144.0, 3360.0, -1952.0 )
    set gg_rct_VictoryCrypt03Start = Rect( 3264.0, -1088.0, 3456.0, -896.0 )
    set gg_rct_VictoryCrypt04Start = Rect( 3040.0, -1824.0, 3200.0, -1664.0 )
    set gg_rct_VictoryCrypt05Start = Rect( 3072.0, -1568.0, 3232.0, -1408.0 )
    set gg_rct_VictoryFacelessDest = Rect( 2560.0, -1856.0, 3264.0, -1056.0 )
    set gg_rct_VictoryFacelessSpawn01 = Rect( 1184.0, -1024.0, 1408.0, -768.0 )
    set gg_rct_VictoryFacelessSpawn02 = Rect( 1024.0, -1472.0, 1248.0, -1216.0 )
    set gg_rct_VictoryFacelessSpawn03 = Rect( 928.0, -2048.0, 1152.0, -1792.0 )
    set gg_rct_VictoryFacelessSpawn04 = Rect( 1312.0, -2528.0, 1536.0, -2272.0 )
    set gg_rct_VisibilityBoss = Rect( 1792.0, -2912.0, 4960.0, 96.0 )
    set gg_rct_VisibilityEggs = Rect( 2496.0, 3456.0, 4864.0, 4928.0 )
    set gg_rct_VisibilityEggs01 = Rect( 3072.0, 4896.0, 3968.0, 5600.0 )
    set gg_rct_VisibilityEggs02 = Rect( 3968.0, 4896.0, 4736.0, 5600.0 )
    set gg_rct_VisibilityEggs03 = Rect( 2944.0, 2720.0, 3840.0, 3456.0 )
    set gg_rct_VisibilityEggs04 = Rect( 3840.0, 2720.0, 4704.0, 3456.0 )
    set gg_rct_Voiceover_Eggs = Rect( 1216.0, 3616.0, 2368.0, 4544.0 )
    set gg_rct_Voiceover_Faceless_Ones = Rect( 1248.0, 384.0, 2240.0, 1024.0 )
    set gg_rct_VoiceoverLever01 = Rect( -3008.0, -1568.0, -2656.0, -1152.0 )
    set gg_rct_VoiceoverLever02 = Rect( -1696.0, -1568.0, -1344.0, -1152.0 )
    set gg_rct_VoiceoverTraitor = Rect( -2976.0, 1408.0, -896.0, 1888.0 )
    set gg_rct_Voicover_Faceless_02 = Rect( 64.0, -384.0, 1600.0, 32.0 )
    set gg_rct_WaterSound1 = Rect( -3488.0, -1056.0, -3040.0, 1184.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -3264.0, 64.0, 0.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 448.0, 2240.0 )
    set gg_rct_WaterSound2 = Rect( -1344.0, -896.0, -928.0, 704.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -1136.0, -96.0, 0.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 416.0, 1600.0 )
    set gg_rct_WaterSound3 = Rect( -3360.0, 3744.0, -1632.0, 5152.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -2496.0, 4448.0, 0.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 1728.0, 1408.0 )
    set gg_rct_WaterSound4 = Rect( -416.0, 2784.0, 608.0, 2976.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, 96.0, 2880.0, 128.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 1024.0, 192.0 )
    set gg_rct_WaterSound5 = Rect( 576.0, 2816.0, 800.0, 3008.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, 688.0, 2912.0, -128.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 224.0, 192.0 )
    set gg_rct_WaterSound6 = Rect( 1312.0, 3424.0, 1952.0, 4672.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, 1632.0, 4048.0, 127.6 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 640.0, 1248.0 )
    set gg_rct_WaterSound7 = Rect( 1728.0, -640.0, 1920.0, 288.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, 1824.0, -176.0, 64.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 192.0, 928.0 )
    set gg_rct_VictoryCrypt03Dest = Rect( 5184.0, -3392.0, 5344.0, -3232.0 )
    set gg_rct_Coin05 = Rect( 4736.0, 1152.0, 4864.0, 1280.0 )
    set gg_rct_Gold_01 = Rect( -800.0, -1824.0, -640.0, -1664.0 )
    set gg_rct_Coin02 = Rect( -2720.0, 2784.0, -2528.0, 2976.0 )
    set gg_rct_Coin03 = Rect( 1664.0, 4288.0, 1856.0, 4480.0 )
    set gg_rct_Coin04 = Rect( 4416.0, 4416.0, 4608.0, 4608.0 )
endfunction

//***************************************************************************
//*
//*  Cameras
//*
//***************************************************************************

function CreateCameras takes nothing returns nothing

    set gg_cam_Forgotten01 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Forgotten01, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Forgotten01, CAMERA_FIELD_ROTATION, 28.4, 0.0 )
    call CameraSetupSetField( gg_cam_Forgotten01, CAMERA_FIELD_ANGLE_OF_ATTACK, 322.3, 0.0 )
    call CameraSetupSetField( gg_cam_Forgotten01, CAMERA_FIELD_TARGET_DISTANCE, 854.8, 0.0 )
    call CameraSetupSetField( gg_cam_Forgotten01, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Forgotten01, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Forgotten01, CAMERA_FIELD_FARZ, 10000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Forgotten01, 2582.4, -1504.2, 0.0 )

    set gg_cam_Forgotten02 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Forgotten02, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Forgotten02, CAMERA_FIELD_ROTATION, 54.3, 0.0 )
    call CameraSetupSetField( gg_cam_Forgotten02, CAMERA_FIELD_ANGLE_OF_ATTACK, 319.1, 0.0 )
    call CameraSetupSetField( gg_cam_Forgotten02, CAMERA_FIELD_TARGET_DISTANCE, 1497.5, 0.0 )
    call CameraSetupSetField( gg_cam_Forgotten02, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Forgotten02, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Forgotten02, CAMERA_FIELD_FARZ, 10000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Forgotten02, 3515.2, -1325.8, 0.0 )

    set gg_cam_Forgotten03 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Forgotten03, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Forgotten03, CAMERA_FIELD_ROTATION, 98.1, 0.0 )
    call CameraSetupSetField( gg_cam_Forgotten03, CAMERA_FIELD_ANGLE_OF_ATTACK, 305.6, 0.0 )
    call CameraSetupSetField( gg_cam_Forgotten03, CAMERA_FIELD_TARGET_DISTANCE, 1497.5, 0.0 )
    call CameraSetupSetField( gg_cam_Forgotten03, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Forgotten03, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Forgotten03, CAMERA_FIELD_FARZ, 10000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Forgotten03, 3531.2, -1343.6, 0.0 )

    set gg_cam_Intro_01 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_01, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_01, CAMERA_FIELD_ROTATION, 42.2, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_01, CAMERA_FIELD_ANGLE_OF_ATTACK, 322.8, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_01, CAMERA_FIELD_TARGET_DISTANCE, 1131.8, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_01, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_01, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_01, CAMERA_FIELD_FARZ, 6584.8, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_01, -1528.7, -2864.9, 0.0 )

    set gg_cam_Intro_02 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_02, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_02, CAMERA_FIELD_ROTATION, 65.5, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_02, CAMERA_FIELD_ANGLE_OF_ATTACK, 321.3, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_02, CAMERA_FIELD_TARGET_DISTANCE, 1230.8, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_02, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_02, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_02, CAMERA_FIELD_FARZ, 6584.8, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_02, -2093.4, -2800.7, 0.0 )

    set gg_cam_Victory_00 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Victory_00, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_00, CAMERA_FIELD_ROTATION, 155.1, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_00, CAMERA_FIELD_ANGLE_OF_ATTACK, 326.3, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_00, CAMERA_FIELD_TARGET_DISTANCE, 1306.2, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_00, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_00, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_00, CAMERA_FIELD_FARZ, 6584.8, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Victory_00, 2411.2, -1679.2, 0.0 )

    set gg_cam_Victory_00b = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Victory_00b, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_00b, CAMERA_FIELD_ROTATION, 167.1, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_00b, CAMERA_FIELD_ANGLE_OF_ATTACK, 326.3, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_00b, CAMERA_FIELD_TARGET_DISTANCE, 1306.2, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_00b, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_00b, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_00b, CAMERA_FIELD_FARZ, 6584.8, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Victory_00b, 2411.2, -1679.2, 0.0 )

    set gg_cam_Victory_01 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Victory_01, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_01, CAMERA_FIELD_ROTATION, 37.1, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_01, CAMERA_FIELD_ANGLE_OF_ATTACK, 315.3, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_01, CAMERA_FIELD_TARGET_DISTANCE, 2067.3, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_01, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_01, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_01, CAMERA_FIELD_FARZ, 6584.8, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Victory_01, 3747.5, -1659.3, 0.0 )

    set gg_cam_Victory_02 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Victory_02, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_02, CAMERA_FIELD_ROTATION, 320.2, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_02, CAMERA_FIELD_ANGLE_OF_ATTACK, 330.3, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_02, CAMERA_FIELD_TARGET_DISTANCE, 1625.4, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_02, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_02, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_02, CAMERA_FIELD_FARZ, 6584.8, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Victory_02, 5071.6, -2933.2, 0.0 )

endfunction

//***************************************************************************
//*
//*  Triggers
//*
//***************************************************************************

//===========================================================================
// Trigger: Initialization
//
// Template version 1.03
//===========================================================================
function Trig_Initialization_Actions takes nothing returns nothing
    call SetCampaignMenuRaceBJ( bj_CAMPAIGN_INDEX_XU )
    call SetAllyColorFilterState( 0 )
    // ************
    call SetTimeOfDay( 15.00 )
    // ************
    call ConditionalTriggerExecute( gg_trg_Init_01_Players )
    call ConditionalTriggerExecute( gg_trg_Init_02_Units )
    call ConditionalTriggerExecute( gg_trg_Init_03_Music )
    call ConditionalTriggerExecute( gg_trg_Init_03_Sounds )
    call ConditionalTriggerExecute( gg_trg_Init_04_Environment )
    call ConditionalTriggerExecute( gg_trg_Init_05_Quests )
    call ConditionalTriggerExecute( gg_trg_Init_06a_Hard )
    call ConditionalTriggerExecute( gg_trg_Init_06b_Normal )
    call ConditionalTriggerExecute( gg_trg_Init_06c_Easy )
    call ConditionalTriggerExecute( gg_trg_Init_07_Regions_to_Points )
    // Start Intro Cinematic
    call QueuedTriggerAddBJ( gg_trg_Intro_Cinematic_Q, true )
endfunction

//===========================================================================
function InitTrig_Initialization takes nothing returns nothing
    set gg_trg_Initialization = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Initialization, function Trig_Initialization_Actions )
endfunction

//===========================================================================
// Trigger: Init 01 Players
//===========================================================================
function Trig_Init_01_Players_Actions takes nothing returns nothing
    // Alliance Settings
    call SetPlayerAllianceStateBJ( udg_AP1_Player, udg_AP5_Towers, bj_ALLIANCE_NEUTRAL )
    call SetPlayerAllianceStateBJ( udg_AP2_Rescuables, Player(PLAYER_NEUTRAL_AGGRESSIVE), bj_ALLIANCE_NEUTRAL )
    call SetPlayerAllianceStateBJ( Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_AP2_Rescuables, bj_ALLIANCE_NEUTRAL )
    // Initial Resources
    // Player Colors
    call SetPlayerColorBJ( udg_AP1_Player, PLAYER_COLOR_PURPLE, true )
    call SetPlayerColorBJ( udg_AP4_FacelessOnes, PLAYER_COLOR_BLUE, true )
    call SetPlayerColorBJ( udg_AP5_Towers, GetPlayerColor(Player(2)), true )
    // Hide Excess Players
    call SetPlayerOnScoreScreenBJ( false, udg_AP2_Rescuables )
    call SetPlayerOnScoreScreenBJ( false, udg_AP5_Towers )
endfunction

//===========================================================================
function InitTrig_Init_01_Players takes nothing returns nothing
    set gg_trg_Init_01_Players = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_01_Players, function Trig_Init_01_Players_Actions )
endfunction

//===========================================================================
// Trigger: Init 02 Units
//===========================================================================
function Trig_Init_02_Units_Func007002 takes nothing returns nothing
    call GroupAddUnitSimple( GetEnumUnit(), udg_RescuableGroup )
endfunction

function Trig_Init_02_Units_Func011002 takes nothing returns nothing
    call GroupAddUnitSimple( GetEnumUnit(), udg_ArachnathidGroup )
endfunction

function Trig_Init_02_Units_Func012002 takes nothing returns nothing
    call ShowUnitHide( GetEnumUnit() )
endfunction

function Trig_Init_02_Units_Func013002 takes nothing returns nothing
    call PauseUnitBJ( true, GetEnumUnit() )
endfunction

function Trig_Init_02_Units_Actions takes nothing returns nothing
    // Heroes
    call ConditionalTriggerExecute( gg_trg_Load_Heroes_and_Gold )
    call SetPlayerHandicapXPBJ( udg_AP1_Player, 60.00 )
    // NPCs
    set udg_TheForgottenOne = gg_unit_nfgo_0017
    // Setup Rescuables
    call ForGroup( GetUnitsOfPlayerAll(udg_AP2_Rescuables), function Trig_Init_02_Units_Func007002 )
    // Setup Crabs
    call GroupAddGroup( GetUnitsInRectOfPlayer(gg_rct_CrabArea, Player(PLAYER_NEUTRAL_PASSIVE)), udg_CrabGroup )
    // Setup Arachnathids
    call ForGroup( GetUnitsInRectOfPlayer(gg_rct_BurrowTrap, Player(PLAYER_NEUTRAL_AGGRESSIVE)), function Trig_Init_02_Units_Func011002 )
    call ForGroup( udg_ArachnathidGroup, function Trig_Init_02_Units_Func012002 )
    call ForGroup( udg_ArachnathidGroup, function Trig_Init_02_Units_Func013002 )
    // Creeps
    call EnableCreepSleepBJ( false )
    call SetPlayerFlagBJ( PLAYER_STATE_GIVES_BOUNTY, false, Player(PLAYER_NEUTRAL_AGGRESSIVE) )
    // Doodads
    call SetDestructableInvulnerableBJ( gg_dest_ITg2_0031, true )
endfunction

//===========================================================================
function InitTrig_Init_02_Units takes nothing returns nothing
    set gg_trg_Init_02_Units = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_02_Units, function Trig_Init_02_Units_Actions )
endfunction

//===========================================================================
// Trigger: Init 03 Music
//===========================================================================
function Trig_Init_03_Music_Actions takes nothing returns nothing
    call ClearMapMusicBJ(  )
    call TriggerSleepAction( 0.01 )
    call PlayThematicMusicExBJ( "Sound\\Music\\mp3Music\\ArthasTheme.mp3", 15.75 )
    call SetMapMusicIndexedBJ( "music", 0 )
endfunction

//===========================================================================
function InitTrig_Init_03_Music takes nothing returns nothing
    set gg_trg_Init_03_Music = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_03_Music, function Trig_Init_03_Music_Actions )
endfunction

//===========================================================================
// Trigger: Init 03 Sounds
//===========================================================================
function Trig_Init_03_Sounds_Actions takes nothing returns nothing
    set udg_PlateActivationSound = gg_snd_Switch
    set udg_GatesRollingSound = gg_snd_Elevator
    set udg_ElevatorsSound = gg_snd_Elevator
    set udg_EarthquakeSound = gg_snd_EarthquakeLoop1
endfunction

//===========================================================================
function InitTrig_Init_03_Sounds takes nothing returns nothing
    set gg_trg_Init_03_Sounds = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_03_Sounds, function Trig_Init_03_Sounds_Actions )
endfunction

//===========================================================================
// Trigger: Init 04 Environment
//===========================================================================
function Trig_Init_04_Environment_Actions takes nothing returns nothing
    // Initial Time Of Day
    call SetTimeOfDay( 19.00 )
    // Weather Effects
    // Fog
    // Initial Visibility
    // Water
    call SetDoodadAnimationRectBJ( "stand alternate", 'IZrw', gg_rct_FloodLeft )
    call SetDoodadAnimationRectBJ( "stand alternate", 'IZrw', gg_rct_FloodRight )
endfunction

//===========================================================================
function InitTrig_Init_04_Environment takes nothing returns nothing
    set gg_trg_Init_04_Environment = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_04_Environment, function Trig_Init_04_Environment_Actions )
endfunction

//===========================================================================
// Trigger: Init 05 Quests
//===========================================================================
function Trig_Init_05_Quests_Actions takes nothing returns nothing
    // Create Quests
    call ConditionalTriggerExecute( gg_trg_Quest_Locate_the_Exit_Create )
    call ConditionalTriggerExecute( gg_trg_Quest_Forgotten_One_Create )
    call ConditionalTriggerExecute( gg_trg_Quest_Cryptfiend_Create )
    call ConditionalTriggerExecute( gg_trg_Quest_Gold_Create )
endfunction

//===========================================================================
function InitTrig_Init_05_Quests takes nothing returns nothing
    set gg_trg_Init_05_Quests = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_05_Quests, function Trig_Init_05_Quests_Actions )
endfunction

//===========================================================================
// Trigger: Init 06a Hard
//===========================================================================
function Trig_Init_06a_Hard_Conditions takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_HARD ) ) then
        return false
    endif
    return true
endfunction

function Trig_Init_06a_Hard_Actions takes nothing returns nothing
    // See Room 04 Item Trap - Trigger Item Trap
    // Set Hard Egg Variables
    set udg_MaxSpiderlingsSpawn = 16
    set udg_Eggs01 = 4.00
    set udg_Eggs02 = 4.00
    set udg_Eggs03 = 4.00
    set udg_Eggs04 = 4.00
    // Set Room 05 Eggs Room - Start Egg Machine
    // Set Forgotten One Friend SpawnTimer
    set udg_ForgottenOneFriendInterval = 15.00
endfunction

//===========================================================================
function InitTrig_Init_06a_Hard takes nothing returns nothing
    set gg_trg_Init_06a_Hard = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Init_06a_Hard, Condition( function Trig_Init_06a_Hard_Conditions ) )
    call TriggerAddAction( gg_trg_Init_06a_Hard, function Trig_Init_06a_Hard_Actions )
endfunction

//===========================================================================
// Trigger: Init 06b Normal
//===========================================================================
function Trig_Init_06b_Normal_Conditions takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_NORMAL ) ) then
        return false
    endif
    return true
endfunction

function Trig_Init_06b_Normal_Actions takes nothing returns nothing
    // REMOVE HARD UNITS
    // Replace Forgotten One With Easy Version
    call ReplaceUnitBJ( udg_TheForgottenOne, 'n003', bj_UNIT_STATE_METHOD_DEFAULTS )
    set udg_TheForgottenOne = GetLastReplacedUnitBJ()
    // Lever Area
    call RemoveUnit( gg_unit_nspd_0054 )
    call RemoveUnit( gg_unit_nspd_0053 )
    // Initial Nerubian Area
    call RemoveUnit( gg_unit_nnwa_0037 )
    call RemoveUnit( gg_unit_nnwr_0003 )
    call RemoveUnit( gg_unit_nspd_0052 )
    call RemoveUnit( gg_unit_nspd_0049 )
    // Crab Area
    call RemoveUnit( gg_unit_nsc2_0033 )
    call RemoveUnit( gg_unit_nsc3_0013 )
    // First Rescue Room
    call RemoveUnit( gg_unit_nnwa_0063 )
    call RemoveUnit( gg_unit_nnwl_0095 )
    call RemoveUnit( gg_unit_nnwl_0098 )
    call RemoveUnit( gg_unit_nnwl_0066 )
    // Throne Room
    call RemoveUnit( gg_unit_nspd_0069 )
    call RemoveUnit( gg_unit_nnwl_0077 )
    call RemoveUnit( gg_unit_nspd_0082 )
    call RemoveUnit( gg_unit_nnwr_0101 )
    // Tentacle Room
    call RemoveUnit( gg_unit_nfor_0091 )
    call RemoveUnit( gg_unit_nfot_0088 )
    call RemoveUnit( gg_unit_nfot_0087 )
    call RemoveUnit( gg_unit_nfot_0104 )
    // Set Egg Variables
    set udg_MaxSpiderlingsSpawn = 12
    set udg_Eggs01 = 6.00
    set udg_Eggs02 = 6.00
    set udg_Eggs03 = 6.00
    set udg_Eggs04 = 6.00
    // Set Forgotten One Friend SpawnTimer
    set udg_ForgottenOneFriendInterval = 25.00
endfunction

//===========================================================================
function InitTrig_Init_06b_Normal takes nothing returns nothing
    set gg_trg_Init_06b_Normal = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Init_06b_Normal, Condition( function Trig_Init_06b_Normal_Conditions ) )
    call TriggerAddAction( gg_trg_Init_06b_Normal, function Trig_Init_06b_Normal_Actions )
endfunction

//===========================================================================
// Trigger: Init 06c Easy
//===========================================================================
function Trig_Init_06c_Easy_Conditions takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_EASY ) ) then
        return false
    endif
    return true
endfunction

function Trig_Init_06c_Easy_Actions takes nothing returns nothing
    // Remove Units on Easy
    // REMOVE HARD UNITS
    // Replace Forgotten One With Easy Version
    call ReplaceUnitBJ( udg_TheForgottenOne, 'n003', bj_UNIT_STATE_METHOD_DEFAULTS )
    set udg_TheForgottenOne = GetLastReplacedUnitBJ()
    // Lever Area
    call RemoveUnit( gg_unit_nspd_0054 )
    call RemoveUnit( gg_unit_nspd_0053 )
    // Initial Nerubian Area
    call RemoveUnit( gg_unit_nnwa_0037 )
    call RemoveUnit( gg_unit_nnwr_0003 )
    call RemoveUnit( gg_unit_nspd_0052 )
    call RemoveUnit( gg_unit_nspd_0049 )
    // Crab Area
    call RemoveUnit( gg_unit_nsc2_0033 )
    call RemoveUnit( gg_unit_nsc3_0013 )
    // First Rescue Room
    call RemoveUnit( gg_unit_nnwa_0063 )
    call RemoveUnit( gg_unit_nnwl_0095 )
    call RemoveUnit( gg_unit_nnwl_0098 )
    call RemoveUnit( gg_unit_nnwl_0066 )
    // Throne Room
    call RemoveUnit( gg_unit_nspd_0069 )
    call RemoveUnit( gg_unit_nnwl_0077 )
    call RemoveUnit( gg_unit_nspd_0082 )
    call RemoveUnit( gg_unit_nnwr_0101 )
    // Tentacle Room
    call RemoveUnit( gg_unit_nfor_0091 )
    call RemoveUnit( gg_unit_nfot_0088 )
    call RemoveUnit( gg_unit_nfot_0087 )
    call RemoveUnit( gg_unit_nfot_0104 )
    // Set Egg Variables
    set udg_MaxSpiderlingsSpawn = 12
    set udg_Eggs01 = 6.00
    set udg_Eggs02 = 6.00
    set udg_Eggs03 = 6.00
    set udg_Eggs04 = 6.00
    // Set Forgotten One Friend SpawnTimer
    set udg_ForgottenOneFriendInterval = 25.00
    // Handicap All Opponents
    call SetPlayerHandicapBJ( udg_AP3_Nerubians, bj_HANDICAP_EASY )
    call SetPlayerHandicapBJ( udg_AP4_FacelessOnes, bj_HANDICAP_EASY )
    call SetPlayerHandicapBJ( Player(PLAYER_NEUTRAL_AGGRESSIVE), bj_HANDICAP_EASY )
endfunction

//===========================================================================
function InitTrig_Init_06c_Easy takes nothing returns nothing
    set gg_trg_Init_06c_Easy = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Init_06c_Easy, Condition( function Trig_Init_06c_Easy_Conditions ) )
    call TriggerAddAction( gg_trg_Init_06c_Easy, function Trig_Init_06c_Easy_Actions )
endfunction

//===========================================================================
// Trigger: Init 07 Regions to Points
//===========================================================================
function Trig_Init_07_Regions_to_Points_Actions takes nothing returns nothing
    set udg_PointVictoryFacelessSpawn04 = GetRectCenter(gg_rct_VictoryFacelessSpawn04)
    set udg_PointBurrowTrap = GetRectCenter(gg_rct_BurrowTrap)
    set udg_PointEggAttackInitArea = GetRectCenter(gg_rct_EggAttackInitArea)
    set udg_PointSpawnGenerator01 = GetRectCenter(gg_rct_SpawnGenerator01)
    set udg_PointSpawnGenerator02 = GetRectCenter(gg_rct_SpawnGenerator02)
    set udg_PointSpawnGenerator03 = GetRectCenter(gg_rct_SpawnGenerator03)
    set udg_PointSpawnGenerator04 = GetRectCenter(gg_rct_SpawnGenerator04)
    set udg_PointTentacleCasterCreate01 = GetRectCenter(gg_rct_TentacleCasterCreate01)
endfunction

//===========================================================================
function InitTrig_Init_07_Regions_to_Points takes nothing returns nothing
    set gg_trg_Init_07_Regions_to_Points = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_07_Regions_to_Points, function Trig_Init_07_Regions_to_Points_Actions )
endfunction

//===========================================================================
// Trigger: Load Heroes and Gold
//===========================================================================
function Trig_Load_Heroes_and_Gold_Actions takes nothing returns nothing
    // Create The Game Cache
    call InitGameCacheBJ( "Campaigns.w3v" )
    // Get Gold Amount
    call SetPlayerStateBJ( udg_AP1_Player, PLAYER_STATE_RESOURCE_GOLD, GetStoredIntegerBJ("Gold", "UndeadX07b", GetLastCreatedGameCacheBJ()) )
    // Load Each Hero
    call ConditionalTriggerExecute( gg_trg_Load_Arthas )
    call ConditionalTriggerExecute( gg_trg_Load_Anubarak )
    // Disable Experience
    call SuspendHeroXPBJ( false, udg_Arthas )
    set udg_ExpDisabledForArthas = true
endfunction

//===========================================================================
function InitTrig_Load_Heroes_and_Gold takes nothing returns nothing
    set gg_trg_Load_Heroes_and_Gold = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Load_Heroes_and_Gold, function Trig_Load_Heroes_and_Gold_Actions )
endfunction

//===========================================================================
// Trigger: Load Arthas
//===========================================================================
function Trig_Load_Arthas_Func004C takes nothing returns boolean
    if ( not ( udg_Arthas != null ) ) then
        return false
    endif
    return true
endfunction

function Trig_Load_Arthas_Actions takes nothing returns nothing
    // Load Hero From Cache
    call RestoreUnitLocFacingAngleBJ( "Arthas", "UndeadX07b", GetLastCreatedGameCacheBJ(), udg_AP1_Player, GetRectCenter(gg_rct_ArthasSpawn), 180.00 )
    set udg_Arthas = GetLastRestoredUnitBJ()
    if ( Trig_Load_Arthas_Func004C() ) then
        // De-level Hero
        call SetHeroLevelBJ( udg_Arthas, 3, false )
        call SetHeroLevelBJ( udg_Arthas, 4, false )
        call SelectHeroSkill( udg_Arthas, 'AUdc' )
    else
        // Create Default Hero
        call CreateNUnitsAtLoc( 1, 'Uear', udg_AP1_Player, GetRectCenter(gg_rct_ArthasSpawn), 180.00 )
        call SetHeroLevelBJ( GetLastCreatedUnit(), 4, false )
        call SelectHeroSkill( GetLastCreatedUnit(), 'AUdc' )
        call SelectHeroSkill( GetLastCreatedUnit(), 'AUdc' )
        call SelectHeroSkill( GetLastCreatedUnit(), 'AUdp' )
        call SelectHeroSkill( GetLastCreatedUnit(), 'AUau' )
        set udg_Arthas = GetLastCreatedUnit()
    endif
endfunction

//===========================================================================
function InitTrig_Load_Arthas takes nothing returns nothing
    set gg_trg_Load_Arthas = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Load_Arthas, function Trig_Load_Arthas_Actions )
endfunction

//===========================================================================
// Trigger: Load Anubarak
//===========================================================================
function Trig_Load_Anubarak_Func004001 takes nothing returns boolean
    return ( udg_Anubarak != null )
endfunction

function Trig_Load_Anubarak_Actions takes nothing returns nothing
    // Load Hero From Cache
    call RestoreUnitLocFacingAngleBJ( "Anub", "UndeadX07b", GetLastCreatedGameCacheBJ(), udg_AP1_Player, GetRectCenter(gg_rct_AnubarakSpawn), 180.00 )
    set udg_Anubarak = GetLastRestoredUnitBJ()
    if ( Trig_Load_Anubarak_Func004001() ) then
        return
    else
        call DoNothing(  )
    endif
    // Create Default Hero
    call CreateNUnitsAtLoc( 1, 'Uanb', udg_AP1_Player, GetRectCenter(gg_rct_AnubarakSpawn), 180.00 )
    call SetHeroLevelBJ( GetLastCreatedUnit(), 6, false )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AUim' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AUim' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AUts' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AUcb' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AUcb' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AUls' )
    set udg_Anubarak = GetLastCreatedUnit()
endfunction

//===========================================================================
function InitTrig_Load_Anubarak takes nothing returns nothing
    set gg_trg_Load_Anubarak = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Load_Anubarak, function Trig_Load_Anubarak_Actions )
endfunction

//===========================================================================
// Trigger: Experience Cap Anubarak
//===========================================================================
function Trig_Experience_Cap_Anubarak_Conditions takes nothing returns boolean
    if ( not ( GetLevelingUnit() == udg_Anubarak ) ) then
        return false
    endif
    if ( not ( GetHeroLevel(GetLevelingUnit()) >= 7 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Experience_Cap_Anubarak_Actions takes nothing returns nothing
    call SuspendHeroXPBJ( false, udg_Anubarak )
    set udg_ExpDisabledForAnuburak = true
endfunction

//===========================================================================
function InitTrig_Experience_Cap_Anubarak takes nothing returns nothing
    set gg_trg_Experience_Cap_Anubarak = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Experience_Cap_Anubarak, Player(0), EVENT_PLAYER_HERO_LEVEL )
    call TriggerAddCondition( gg_trg_Experience_Cap_Anubarak, Condition( function Trig_Experience_Cap_Anubarak_Conditions ) )
    call TriggerAddAction( gg_trg_Experience_Cap_Anubarak, function Trig_Experience_Cap_Anubarak_Actions )
endfunction

//===========================================================================
// Trigger: Crab Elevator Setup
//===========================================================================
function Trig_Crab_Elevator_Setup_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    // Elevators
    call ChangeElevatorHeight( gg_dest_DTrf_0103, 2 )
    call ChangeElevatorHeight( gg_dest_DTrf_0172, 2 )
    call ChangeElevatorHeight( gg_dest_DTrf_0186, 2 )
    call ChangeElevatorHeight( gg_dest_DTrf_0210, 2 )
    call ChangeElevatorHeight( gg_dest_DTrf_0173, 2 )
    call ChangeElevatorHeight( gg_dest_DTrf_0170, 2 )
    call ChangeElevatorHeight( gg_dest_DTrf_0211, 2 )
    call ChangeElevatorHeight( gg_dest_DTrf_0310, 2 )
    call ChangeElevatorHeight( gg_dest_DTrf_0212, 2 )
    // Elevator Walls
    call ChangeElevatorWalls( false, bj_ELEVATOR_WALL_TYPE_WEST, gg_dest_DTrf_0103 )
    call ChangeElevatorWalls( false, bj_ELEVATOR_WALL_TYPE_WEST, gg_dest_DTrf_0172 )
    call ChangeElevatorWalls( false, bj_ELEVATOR_WALL_TYPE_WEST, gg_dest_DTrf_0186 )
    call ChangeElevatorWalls( false, bj_ELEVATOR_WALL_TYPE_NORTH, gg_dest_DTrf_0186 )
    call ChangeElevatorWalls( false, bj_ELEVATOR_WALL_TYPE_NORTH, gg_dest_DTrf_0210 )
    call ChangeElevatorWalls( false, bj_ELEVATOR_WALL_TYPE_NORTH, gg_dest_DTrf_0212 )
endfunction

//===========================================================================
function InitTrig_Crab_Elevator_Setup takes nothing returns nothing
    set gg_trg_Crab_Elevator_Setup = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Crab_Elevator_Setup, function Trig_Crab_Elevator_Setup_Actions )
endfunction

//===========================================================================
// Trigger: Init Crab Door
//===========================================================================
function Trig_Init_Crab_Door_Actions takes nothing returns nothing
    call ModifyGateBJ( bj_GATEOPERATION_OPEN, gg_dest_DTg7_0303 )
    call SetDestructableInvulnerableBJ( gg_dest_DTg7_0303, true )
endfunction

//===========================================================================
function InitTrig_Init_Crab_Door takes nothing returns nothing
    set gg_trg_Init_Crab_Door = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_Crab_Door, function Trig_Init_Crab_Door_Actions )
endfunction

//===========================================================================
// Trigger: Init Item Trap Floor Plate
//===========================================================================
function Trig_Init_Item_Trap_Floor_Plate_Actions takes nothing returns nothing
    call SetDestructableAnimationBJ( gg_dest_DTfp_0217, "stand alternate" )
    set udg_ItemFootSwitchPoint = GetDestructableLoc(gg_dest_DTfp_0217)
endfunction

//===========================================================================
function InitTrig_Init_Item_Trap_Floor_Plate takes nothing returns nothing
    set gg_trg_Init_Item_Trap_Floor_Plate = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_Item_Trap_Floor_Plate, function Trig_Init_Item_Trap_Floor_Plate_Actions )
endfunction

//===========================================================================
// Trigger: Init Forgotten One Area
//===========================================================================
function Trig_Init_Forgotten_One_Area_Actions takes nothing returns nothing
    call ChangeElevatorWalls( false, bj_ELEVATOR_WALL_TYPE_WEST, gg_dest_DTrf_0016 )
    call ChangeElevatorWalls( false, bj_ELEVATOR_WALL_TYPE_WEST, gg_dest_DTrf_0022 )
    call ChangeElevatorWalls( false, bj_ELEVATOR_WALL_TYPE_WEST, gg_dest_DTrf_0017 )
endfunction

//===========================================================================
function InitTrig_Init_Forgotten_One_Area takes nothing returns nothing
    set gg_trg_Init_Forgotten_One_Area = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_Forgotten_One_Area, function Trig_Init_Forgotten_One_Area_Actions )
endfunction

//===========================================================================
// Trigger: Intro Cinematic Q
//===========================================================================
function Trig_Intro_Cinematic_Q_Func029001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Actions takes nothing returns nothing
    call Preloader( "Scripts\\UndeadX07b.pld" )
    set udg_InCinematic = true
    // Fade Out
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 0.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    // Set Up Scene
    call CinematicModeBJ( true, udg_APG1_Player )
    call ConditionalTriggerExecute( gg_trg_Intro_Setup )
    call CameraSetupApplyForPlayer( true, gg_cam_Intro_01, udg_AP1_Player, 0 )
    call CameraSetupApplyForPlayer( true, gg_cam_Intro_02, udg_AP1_Player, ( GetSoundDurationBJ(gg_snd_L07BAnubarak01) + 6.00 ) )
    // Fade In
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 2.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    call IssuePointOrderLocBJ( udg_Arthas, "move", GetRectCenter(gg_rct_ArthasIntroDest01) )
    call PlaySoundOnUnitBJ( gg_snd_HorseLoop3, 70.00, udg_Arthas )
    call IssuePointOrderLocBJ( udg_Anubarak, "move", GetRectCenter(gg_rct_AnubarakIntroDest01) )
    call TriggerSleepAction( 1.00 )
    call IssuePointOrderLocBJ( gg_unit_ucry_0020, "move", GetRectCenter(gg_rct_CryptFiend01IntroDest01) )
    call IssuePointOrderLocBJ( gg_unit_ucry_0022, "move", GetRectCenter(gg_rct_CryptFiend02IntroDest01) )
    call TriggerSleepAction( 0.50 )
    call IssuePointOrderLocBJ( gg_unit_ugho_0040, "move", GetRectCenter(gg_rct_Ghoul01IntroDest01) )
    call IssuePointOrderLocBJ( gg_unit_ugho_0046, "move", GetRectCenter(gg_rct_Ghoul02IntroDest01) )
    call TriggerSleepAction( 0.50 )
    call EnableTrigger( gg_trg_Intro_Skipped )
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    // CINEMATIC BEGINS - Cinematic Can Now Be Skipped
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Anubarak, "TRIGSTR_074", gg_snd_L07BAnubarak01, "TRIGSTR_075", bj_TIMETYPE_ADD, 0, true )
    call WaitForSoundBJ( gg_snd_L07BAnubarak01, 0 )
    if ( Trig_Intro_Cinematic_Q_Func029001() ) then
        return
    else
        call DoNothing(  )
    endif
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    // CINEMATIC ENDS - Cinematic Can No Longer Be Skipped
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    call DisableTrigger( gg_trg_Intro_Skipped )
    // Fade Out
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    // Cleanup
    call ConditionalTriggerExecute( gg_trg_Intro_Cleanup )
    // Start AI, Let AI Settle Down
    call TriggerSleepAction( 1.00 )
    call CinematicModeBJ( false, udg_APG1_Player )
    // Fade In
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    // Start Game
    call ConditionalTriggerExecute( gg_trg_Gameplay )
    set udg_InCinematic = false
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Intro_Cinematic_Q takes nothing returns nothing
    set gg_trg_Intro_Cinematic_Q = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Intro_Cinematic_Q, function Trig_Intro_Cinematic_Q_Actions )
endfunction

//===========================================================================
// Trigger: Arthas Facing
//===========================================================================
function Trig_Arthas_Facing_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Arthas ) ) then
        return false
    endif
    return true
endfunction

function Trig_Arthas_Facing_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 0.50 )
    call SetUnitFacingTimed( udg_Arthas, 90.00, 0 )
endfunction

//===========================================================================
function InitTrig_Arthas_Facing takes nothing returns nothing
    set gg_trg_Arthas_Facing = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Arthas_Facing, gg_rct_ArthasIntroDest01 )
    call TriggerAddCondition( gg_trg_Arthas_Facing, Condition( function Trig_Arthas_Facing_Conditions ) )
    call TriggerAddAction( gg_trg_Arthas_Facing, function Trig_Arthas_Facing_Actions )
endfunction

//===========================================================================
// Trigger: Anubarak Facing
//===========================================================================
function Trig_Anubarak_Facing_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Anubarak ) ) then
        return false
    endif
    return true
endfunction

function Trig_Anubarak_Facing_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 0.50 )
    call SetUnitFacingTimed( udg_Anubarak, 90.00, 0 )
endfunction

//===========================================================================
function InitTrig_Anubarak_Facing takes nothing returns nothing
    set gg_trg_Anubarak_Facing = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Anubarak_Facing, gg_rct_AnubarakIntroDest01 )
    call TriggerAddCondition( gg_trg_Anubarak_Facing, Condition( function Trig_Anubarak_Facing_Conditions ) )
    call TriggerAddAction( gg_trg_Anubarak_Facing, function Trig_Anubarak_Facing_Actions )
endfunction

//===========================================================================
// Trigger: Intro Skipped
//===========================================================================
function Trig_Intro_Skipped_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_IntroSkipped = true
    // Fade Out
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 0.50, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 0.50 )
    // Cleanup
    call ConditionalTriggerExecute( gg_trg_Intro_Cleanup )
    // Start AI, Let AI Settle Down
    call TriggerSleepAction( 1.00 )
    call CinematicModeBJ( false, udg_APG1_Player )
    // Fade In
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 0.50, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 0.50 )
    // Start Game
    call ConditionalTriggerExecute( gg_trg_Gameplay )
    set udg_InCinematic = false
    call QueuedTriggerRemoveBJ( gg_trg_Intro_Cinematic_Q )
endfunction

//===========================================================================
function InitTrig_Intro_Skipped takes nothing returns nothing
    set gg_trg_Intro_Skipped = CreateTrigger(  )
    call DisableTrigger( gg_trg_Intro_Skipped )
    call TriggerRegisterPlayerEventEndCinematic( gg_trg_Intro_Skipped, Player(0) )
    call TriggerAddAction( gg_trg_Intro_Skipped, function Trig_Intro_Skipped_Actions )
endfunction

//===========================================================================
// Trigger: Intro Setup
//===========================================================================
function Trig_Intro_Setup_Func012002 takes nothing returns nothing
    call ShowUnitHide( GetEnumUnit() )
endfunction

function Trig_Intro_Setup_Func014002 takes nothing returns nothing
    call SetItemVisibleBJ( false, GetEnumItem() )
endfunction

function Trig_Intro_Setup_Func020002 takes nothing returns nothing
    call UnitRemoveBuffsBJ( bj_REMOVEBUFFS_NONTLIFE, GetEnumUnit() )
endfunction

function Trig_Intro_Setup_Func025002 takes nothing returns nothing
    call GroupAddUnitSimple( GetEnumUnit(), udg_StartingUnits )
endfunction

function Trig_Intro_Setup_Actions takes nothing returns nothing
    // Set Sky
    call SetSkyModel( "Environment\\Sky\\LordaeronSummerSky\\LordaeronSummerSky.mdl" )
    // Disable XP Gain
    call SuspendHeroXPBJ( false, udg_Arthas )
    call SuspendHeroXPBJ( false, udg_Anubarak )
    // Pause Time Of Day
    call UseTimeOfDayBJ( false )
    // Pause Units
    // Hide Units
    call GroupRemoveUnitSimple( udg_Arthas, udg_HiddenUnits )
    call GroupRemoveUnitSimple( udg_Anubarak, udg_HiddenUnits )
    call ForGroup( udg_HiddenUnits, function Trig_Intro_Setup_Func012002 )
    // Hide Items
    call EnumItemsInRectBJ( GetPlayableMapRect(), function Trig_Intro_Setup_Func014002 )
    // Disable Abilities
    call SetPlayerAbilityAvailableBJ( false, 'AUau', udg_AP1_Player )
    // Open Door
    // Visibility
    // Remove Buffs
    call ForGroup( GetUnitsOfPlayerAll(udg_AP1_Player), function Trig_Intro_Setup_Func020002 )
    // Alliances
    call SetPlayerAllianceStateBJ( udg_AP1_Player, udg_AP3_Nerubians, bj_ALLIANCE_ALLIED )
    call SetPlayerAllianceStateBJ( udg_AP3_Nerubians, udg_AP1_Player, bj_ALLIANCE_ALLIED )
    // Set Walk Speed
    call ForGroup( GetUnitsInRectAll(gg_rct_StartingUnits), function Trig_Intro_Setup_Func025002 )
endfunction

//===========================================================================
function InitTrig_Intro_Setup takes nothing returns nothing
    set gg_trg_Intro_Setup = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Intro_Setup, function Trig_Intro_Setup_Actions )
endfunction

//===========================================================================
// Trigger: Intro Cleanup
//===========================================================================
function Trig_Intro_Cleanup_Func004002 takes nothing returns nothing
    call SetUnitMoveSpeed( GetEnumUnit(), GetUnitDefaultMoveSpeed(GetEnumUnit()) )
endfunction

function Trig_Intro_Cleanup_Func009002 takes nothing returns nothing
    call SetItemVisibleBJ( true, GetEnumItem() )
endfunction

function Trig_Intro_Cleanup_Func011002 takes nothing returns nothing
    call ShowUnitShow( GetEnumUnit() )
endfunction

function Trig_Intro_Cleanup_Func015001 takes nothing returns boolean
    return ( udg_ExpDisabledForAnuburak == false )
endfunction

function Trig_Intro_Cleanup_Actions takes nothing returns nothing
    // Restore Abilities
    call SetPlayerAbilityAvailableBJ( true, 'AUau', udg_AP1_Player )
    // Reset Walk Speed
    call ForGroup( udg_StartingUnits, function Trig_Intro_Cleanup_Func004002 )
    // Move Units
    call SetUnitPositionLocFacingBJ( udg_Arthas, GetRectCenter(gg_rct_ArthasIntroDest01), 90.00 )
    call SetUnitPositionLocFacingBJ( udg_Anubarak, GetRectCenter(gg_rct_AnubarakIntroDest01), 90.00 )
    // Unhide Items
    call EnumItemsInRectBJ( GetPlayableMapRect(), function Trig_Intro_Cleanup_Func009002 )
    // Unhide Units
    call ForGroup( udg_HiddenUnits, function Trig_Intro_Cleanup_Func011002 )
    // Unpause Units
    // Pause Time Of Day
    // Re-enable XP Gain
    if ( Trig_Intro_Cleanup_Func015001() ) then
        call SuspendHeroXPBJ( true, udg_Anubarak )
    else
        call DoNothing(  )
    endif
    // Restore Selection
    call SelectUnitSingle( udg_Arthas )
    // Reset Sky
    call SetSkyModel( null )
    // Reset Camera
    call CameraResetSmoothingFactorBJ(  )
    call ResetToGameCameraForPlayer( udg_AP1_Player, 0 )
    call PanCameraToTimedLocForPlayer( udg_AP1_Player, CameraSetupGetDestPositionLoc(gg_cam_Intro_02), 0 )
    // Initial Harvesting
    // Alliances
    call SetPlayerAllianceStateBJ( udg_AP1_Player, udg_AP3_Nerubians, bj_ALLIANCE_UNALLIED )
    call SetPlayerAllianceStateBJ( udg_AP3_Nerubians, udg_AP1_Player, bj_ALLIANCE_UNALLIED )
    // Wipe Visibility
    call CreateFogModifierRectBJ( true, udg_AP1_Player, FOG_OF_WAR_MASKED, GetPlayableMapRect() )
    call DestroyFogModifier( GetLastCreatedFogModifier() )
endfunction

//===========================================================================
function InitTrig_Intro_Cleanup takes nothing returns nothing
    set gg_trg_Intro_Cleanup = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Intro_Cleanup, function Trig_Intro_Cleanup_Actions )
endfunction

//===========================================================================
// Trigger: Gameplay
//===========================================================================
function Trig_Gameplay_Actions takes nothing returns nothing
    // Do initial gameplay stuff, like quest messages and hints
    call TriggerSleepAction( 2.00 )
    call QueuedTriggerAddBJ( gg_trg_Quest_Exit_Discover_Q, true )
endfunction

//===========================================================================
function InitTrig_Gameplay takes nothing returns nothing
    set gg_trg_Gameplay = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Gameplay, function Trig_Gameplay_Actions )
endfunction

//===========================================================================
// Trigger: Forgotten One Init
//===========================================================================
function Trig_Forgotten_One_Init_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'uloc' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Forgotten_One_Init_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Forgotten_One_Cinematic_Q, true )
endfunction

//===========================================================================
function InitTrig_Forgotten_One_Init takes nothing returns nothing
    set gg_trg_Forgotten_One_Init = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Forgotten_One_Init, gg_rct_ForgottenOneInit )
    call TriggerAddCondition( gg_trg_Forgotten_One_Init, Condition( function Trig_Forgotten_One_Init_Conditions ) )
    call TriggerAddAction( gg_trg_Forgotten_One_Init, function Trig_Forgotten_One_Init_Actions )
endfunction

//===========================================================================
// Trigger: Forgotten One Cinematic Q
//===========================================================================
function Trig_Forgotten_One_Cinematic_Q_Func023001 takes nothing returns boolean
    return ( udg_MidCinForgottenOneSkipped == true )
endfunction

function Trig_Forgotten_One_Cinematic_Q_Func028001 takes nothing returns boolean
    return ( udg_MidCinForgottenOneSkipped == true )
endfunction

function Trig_Forgotten_One_Cinematic_Q_Func033001 takes nothing returns boolean
    return ( udg_MidCinForgottenOneSkipped == true )
endfunction

function Trig_Forgotten_One_Cinematic_Q_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_InCinematic = true
    // Fade Out
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    // Set Up Scene
    call CinematicModeBJ( true, udg_APG1_Player )
    call TriggerSleepAction( 0.25 )
    call ConditionalTriggerExecute( gg_trg_Forgotten_One_Setup )
    call TriggerSleepAction( 0.25 )
    call CameraSetupApplyForPlayer( true, gg_cam_Forgotten01, udg_AP1_Player, 0 )
    call CameraSetupApplyForPlayer( true, gg_cam_Forgotten02, udg_AP1_Player, 10.00 )
    // Units
    // Fade In
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 3.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    call EnableTrigger( gg_trg_Forgotten_One_Skipped )
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    // CINEMATIC BEGINS - Cinematic Can Now Be Skipped
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Anubarak, "TRIGSTR_279", gg_snd_L07BAnubarak42, "TRIGSTR_280", bj_TIMETYPE_ADD, 0, false )
    call TriggerSleepAction( 2.50 )
    if ( Trig_Forgotten_One_Cinematic_Q_Func023001() ) then
        return
    else
        call DoNothing(  )
    endif
    call ConditionalTriggerExecute( gg_trg_Forgotton_One_Quake_Shake )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Anubarak, "TRIGSTR_281", gg_snd_L07BAnubarak43, "TRIGSTR_282", bj_TIMETYPE_ADD, 0, false )
    call ConditionalTriggerExecute( gg_trg_OuterFOElevatorRingUp )
    call TriggerSleepAction( 1.00 )
    if ( Trig_Forgotten_One_Cinematic_Q_Func028001() ) then
        return
    else
        call DoNothing(  )
    endif
    call ConditionalTriggerExecute( gg_trg_Forgotten_One_Elevator_Sounds )
    call CameraSetupApplyForPlayer( true, gg_cam_Forgotten03, udg_AP1_Player, 10.00 )
    call ConditionalTriggerExecute( gg_trg_InnerFOElevatorRingUp )
    call WaitForSoundBJ( gg_snd_L07BAnubarak43, 0 )
    if ( Trig_Forgotten_One_Cinematic_Q_Func033001() ) then
        return
    else
        call DoNothing(  )
    endif
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    // CINEMATIC ENDS - Cinematic Can No Longer Be Skipped
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    call DisableTrigger( gg_trg_Forgotten_One_Skipped )
    // Fade Out
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call StopSoundBJ( udg_EarthquakeSound, true )
    call TriggerSleepAction( 1.00 )
    // Cleanup
    call ConditionalTriggerExecute( gg_trg_Forgotten_One_Cleanup )
    call CinematicModeBJ( false, udg_APG1_Player )
    // Fade In
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    set udg_InCinematic = false
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
    call StartTimerBJ( udg_SpawnFacelessFriendsTimer, true, udg_ForgottenOneFriendInterval )
    call ConditionalTriggerExecute( gg_trg_SpawnFacelessFriendsTimerExpire )
    call EnableTrigger( gg_trg_FOFriendsHeartbeat )
    call ConditionalTriggerExecute( gg_trg_Gameplay_Forgotten_One )
endfunction

//===========================================================================
function InitTrig_Forgotten_One_Cinematic_Q takes nothing returns nothing
    set gg_trg_Forgotten_One_Cinematic_Q = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Forgotten_One_Cinematic_Q, function Trig_Forgotten_One_Cinematic_Q_Actions )
endfunction

//===========================================================================
// Trigger: Forgotton One Quake Shake
//===========================================================================
function Trig_Forgotton_One_Quake_Shake_Actions takes nothing returns nothing
    call CameraSetSourceNoiseForPlayer( udg_AP1_Player, ( 20.00 * GetRandomReal(0.60, 1.40) ), ( 1000.00 * GetRandomReal(0.60, 1.40) ) )
    call SetSoundVolumeBJ( gg_snd_EarthquakeLoop1, 80.00 )
    call PlaySoundBJ( udg_EarthquakeSound )
    call TriggerSleepAction( 2 )
    call CameraClearNoiseForPlayer( udg_AP1_Player )
    call StopSoundBJ( udg_EarthquakeSound, true )
endfunction

//===========================================================================
function InitTrig_Forgotton_One_Quake_Shake takes nothing returns nothing
    set gg_trg_Forgotton_One_Quake_Shake = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Forgotton_One_Quake_Shake, function Trig_Forgotton_One_Quake_Shake_Actions )
endfunction

//===========================================================================
// Trigger: Forgotten One Skipped
//===========================================================================
function Trig_Forgotten_One_Skipped_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_MidCinForgottenOneSkipped = true
    // Fade Out
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 0.50, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call StopSoundBJ( udg_EarthquakeSound, true )
    call StopSoundBJ( udg_ElevatorsSound, true )
    call StopSoundBJ( gg_snd_Elevator01, true )
    call TriggerSleepAction( 0.50 )
    // Cleanup
    call ConditionalTriggerExecute( gg_trg_Forgotten_One_Cleanup )
    call CinematicModeBJ( false, udg_APG1_Player )
    // Fade In
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 0.50, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 0.50 )
    set udg_InCinematic = false
    call QueuedTriggerRemoveBJ( gg_trg_Forgotten_One_Cinematic_Q )
    call EnableTrigger( gg_trg_FOFriendsHeartbeat )
    call StartTimerBJ( udg_SpawnFacelessFriendsTimer, true, udg_ForgottenOneFriendInterval )
    call ConditionalTriggerExecute( gg_trg_Gameplay_Forgotten_One )
endfunction

//===========================================================================
function InitTrig_Forgotten_One_Skipped takes nothing returns nothing
    set gg_trg_Forgotten_One_Skipped = CreateTrigger(  )
    call DisableTrigger( gg_trg_Forgotten_One_Skipped )
    call TriggerRegisterPlayerEventEndCinematic( gg_trg_Forgotten_One_Skipped, Player(0) )
    call TriggerAddAction( gg_trg_Forgotten_One_Skipped, function Trig_Forgotten_One_Skipped_Actions )
endfunction

//===========================================================================
// Trigger: Forgotten One Setup
//===========================================================================
function Trig_Forgotten_One_Setup_Func022002 takes nothing returns nothing
    call ShowUnitHide( GetEnumUnit() )
endfunction

function Trig_Forgotten_One_Setup_Func024002 takes nothing returns nothing
    call UnitRemoveBuffsBJ( bj_REMOVEBUFFS_NONTLIFE, GetEnumUnit() )
endfunction

function Trig_Forgotten_One_Setup_Actions takes nothing returns nothing
    // Save Camera Position
    set udg_CameraReturnPoint = GetCameraTargetPositionLoc()
    // Set Sky
    call SetSkyModel( "Environment\\Sky\\LordaeronWinterSkyRed\\LordaeronWinterSkyRed.mdl" )
    // Save Selection
    set udg_SelectedUnits = GetUnitsSelectedAll(udg_AP1_Player)
    call ClearSelection(  )
    // Revive Hero
    call SetUnitFacingTimed( udg_Arthas, 0.00, 0.00 )
    call SetUnitFacingTimed( udg_Anubarak, 0.00, 0.00 )
    // Disable XP Gain
    call SuspendHeroXPBJ( false, udg_Anubarak )
    // Pause Time Of Day
    call UseTimeOfDayBJ( false )
    // Setup Units
    // Setup Doodads
    // Disable Abilities
    call SetPlayerAbilityAvailableBJ( false, 'AUau', udg_AP1_Player )
    // Pause Units
    call PauseAllUnitsBJ( true )
    // Hide Units
    call ForGroup( udg_HiddenUnits, function Trig_Forgotten_One_Setup_Func022002 )
    // Remove Buffs
    call ForGroup( GetUnitsOfPlayerAll(udg_AP1_Player), function Trig_Forgotten_One_Setup_Func024002 )
    // Music Theme
    call PlayThematicMusicBJ( "Sound\\Music\\mp3Music\\Tension.mp3" )
    // Alliances
    // Turn on triggers
endfunction

//===========================================================================
function InitTrig_Forgotten_One_Setup takes nothing returns nothing
    set gg_trg_Forgotten_One_Setup = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Forgotten_One_Setup, function Trig_Forgotten_One_Setup_Actions )
endfunction

//===========================================================================
// Trigger: Forgotten One Cleanup
//===========================================================================
function Trig_Forgotten_One_Cleanup_Func002002 takes nothing returns nothing
    call ShowUnitShow( GetEnumUnit() )
endfunction

function Trig_Forgotten_One_Cleanup_Func003002 takes nothing returns nothing
    call ShowUnitShow( GetEnumUnit() )
endfunction

function Trig_Forgotten_One_Cleanup_Func007Func001A takes nothing returns nothing
    call PauseUnitBJ( true, GetEnumUnit() )
endfunction

function Trig_Forgotten_One_Cleanup_Func007C takes nothing returns boolean
    if ( not ( udg_ItemTrapAmbushDone == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Forgotten_One_Cleanup_Func011001 takes nothing returns boolean
    return ( udg_ExpDisabledForAnuburak == false )
endfunction

function Trig_Forgotten_One_Cleanup_Actions takes nothing returns nothing
    // Unhide Units
    call ForGroup( udg_HiddenUnits, function Trig_Forgotten_One_Cleanup_Func002002 )
    call ForGroup( udg_HiddenUnitsCreep, function Trig_Forgotten_One_Cleanup_Func003002 )
    // Unpause Units
    call PauseAllUnitsBJ( false )
    // Repause Arachnathids if necessary
    if ( Trig_Forgotten_One_Cleanup_Func007C() ) then
        call ForGroupBJ( udg_ArachnathidGroup, function Trig_Forgotten_One_Cleanup_Func007Func001A )
    else
    endif
    // Move units
    // Pause Time Of Day
    // Re-enable XP Gain
    if ( Trig_Forgotten_One_Cleanup_Func011001() ) then
        call SuspendHeroXPBJ( true, udg_Anubarak )
    else
        call DoNothing(  )
    endif
    // Return Heroes
    // Restore Selection
    call SelectGroupBJ( udg_SelectedUnits )
    // Reset Sky
    call SetSkyModel( null )
    // Replace Building
    // Reset Camera
    call CameraResetSmoothingFactorBJ(  )
    call ResetToGameCameraForPlayer( udg_AP1_Player, 0 )
    call PanCameraToTimedLocForPlayer( udg_AP1_Player, GetRectCenter(gg_rct_CameraReset), 0 )
    call CameraClearNoiseForPlayer( udg_AP1_Player )
    // Alliances
    // Kill Units
    // Elevators
    call ConditionalTriggerExecute( gg_trg_OuterFOElevatorRingUpInstant )
    call ConditionalTriggerExecute( gg_trg_InnerFOElevatorRingUpInstant )
    call SetDoodadAnimationRectBJ( "death", 'YOfb', gg_rct_FireBlueArea )
endfunction

//===========================================================================
function InitTrig_Forgotten_One_Cleanup takes nothing returns nothing
    set gg_trg_Forgotten_One_Cleanup = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Forgotten_One_Cleanup, function Trig_Forgotten_One_Cleanup_Actions )
endfunction

//===========================================================================
// Trigger: OuterFOElevatorRingUp
//===========================================================================
function Trig_OuterFOElevatorRingUp_Actions takes nothing returns nothing
    // WestOuter
    call ChangeElevatorHeight( gg_dest_DTrf_0017, 3 )
    call TriggerSleepAction( 0.15 )
    call ChangeElevatorHeight( gg_dest_DTrf_0016, 3 )
    call TriggerSleepAction( 0.15 )
    call ChangeElevatorHeight( gg_dest_DTrf_0022, 3 )
    call TriggerSleepAction( 0.15 )
    call ChangeElevatorHeight( gg_dest_DTrf_0003, 3 )
    call TriggerSleepAction( 0.15 )
    // NorthOuter
    call ChangeElevatorHeight( gg_dest_DTrf_0065, 3 )
    call TriggerSleepAction( 0.15 )
    call ChangeElevatorHeight( gg_dest_DTrf_0027, 3 )
    call TriggerSleepAction( 0.15 )
    call ChangeElevatorHeight( gg_dest_DTrf_0023, 3 )
    call TriggerSleepAction( 0.15 )
    call ChangeElevatorHeight( gg_dest_DTrf_0024, 3 )
    call TriggerSleepAction( 0.15 )
    // EastOuter
    call ChangeElevatorHeight( gg_dest_DTrf_0030, 3 )
    call TriggerSleepAction( 0.15 )
    call ChangeElevatorHeight( gg_dest_DTrf_0028, 3 )
    call TriggerSleepAction( 0.15 )
    call ChangeElevatorHeight( gg_dest_DTrf_0021, 3 )
    call TriggerSleepAction( 0.15 )
    call ChangeElevatorHeight( gg_dest_DTrf_0020, 3 )
    call TriggerSleepAction( 0.15 )
    // SouthOuter
    call ChangeElevatorHeight( gg_dest_DTrf_0019, 3 )
    call TriggerSleepAction( 0.15 )
    call ChangeElevatorHeight( gg_dest_DTrf_0025, 3 )
    call TriggerSleepAction( 0.15 )
    call ChangeElevatorHeight( gg_dest_DTrf_0026, 3 )
    call TriggerSleepAction( 0.15 )
    call ChangeElevatorHeight( gg_dest_DTrf_0018, 3 )
    // Outer Walls
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_WEST, gg_dest_DTrf_0017 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_WEST, gg_dest_DTrf_0016 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_WEST, gg_dest_DTrf_0022 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_WEST, gg_dest_DTrf_0003 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_NORTH, gg_dest_DTrf_0003 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_WEST, gg_dest_DTrf_0065 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_NORTH, gg_dest_DTrf_0065 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_NORTH, gg_dest_DTrf_0027 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_NORTH, gg_dest_DTrf_0023 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_NORTH, gg_dest_DTrf_0024 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_EAST, gg_dest_DTrf_0024 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_NORTH, gg_dest_DTrf_0030 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_EAST, gg_dest_DTrf_0030 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_EAST, gg_dest_DTrf_0028 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_EAST, gg_dest_DTrf_0021 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_EAST, gg_dest_DTrf_0020 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_SOUTH, gg_dest_DTrf_0020 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_EAST, gg_dest_DTrf_0019 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_SOUTH, gg_dest_DTrf_0019 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_SOUTH, gg_dest_DTrf_0025 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_SOUTH, gg_dest_DTrf_0026 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_SOUTH, gg_dest_DTrf_0018 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_WEST, gg_dest_DTrf_0018 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_SOUTH, gg_dest_DTrf_0017 )
endfunction

//===========================================================================
function InitTrig_OuterFOElevatorRingUp takes nothing returns nothing
    set gg_trg_OuterFOElevatorRingUp = CreateTrigger(  )
    call TriggerAddAction( gg_trg_OuterFOElevatorRingUp, function Trig_OuterFOElevatorRingUp_Actions )
endfunction

//===========================================================================
// Trigger: OuterFOElevatorRingUpInstant
//===========================================================================
function Trig_OuterFOElevatorRingUpInstant_Actions takes nothing returns nothing
    // WestOuter
    call ChangeElevatorHeight( gg_dest_DTrf_0017, 3 )
    call ChangeElevatorHeight( gg_dest_DTrf_0016, 3 )
    call ChangeElevatorHeight( gg_dest_DTrf_0022, 3 )
    call ChangeElevatorHeight( gg_dest_DTrf_0003, 3 )
    // NorthOuter
    call ChangeElevatorHeight( gg_dest_DTrf_0065, 3 )
    call ChangeElevatorHeight( gg_dest_DTrf_0027, 3 )
    call ChangeElevatorHeight( gg_dest_DTrf_0023, 3 )
    call ChangeElevatorHeight( gg_dest_DTrf_0024, 3 )
    // EastOuter
    call ChangeElevatorHeight( gg_dest_DTrf_0030, 3 )
    call ChangeElevatorHeight( gg_dest_DTrf_0028, 3 )
    call ChangeElevatorHeight( gg_dest_DTrf_0021, 3 )
    call ChangeElevatorHeight( gg_dest_DTrf_0020, 3 )
    // SouthOuter
    call ChangeElevatorHeight( gg_dest_DTrf_0019, 3 )
    call ChangeElevatorHeight( gg_dest_DTrf_0025, 3 )
    call ChangeElevatorHeight( gg_dest_DTrf_0026, 3 )
    call ChangeElevatorHeight( gg_dest_DTrf_0018, 3 )
    // Outer Walls
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_WEST, gg_dest_DTrf_0017 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_WEST, gg_dest_DTrf_0016 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_WEST, gg_dest_DTrf_0022 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_WEST, gg_dest_DTrf_0003 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_NORTH, gg_dest_DTrf_0003 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_WEST, gg_dest_DTrf_0065 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_NORTH, gg_dest_DTrf_0065 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_NORTH, gg_dest_DTrf_0027 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_NORTH, gg_dest_DTrf_0023 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_NORTH, gg_dest_DTrf_0024 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_EAST, gg_dest_DTrf_0024 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_NORTH, gg_dest_DTrf_0030 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_EAST, gg_dest_DTrf_0030 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_EAST, gg_dest_DTrf_0028 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_EAST, gg_dest_DTrf_0021 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_EAST, gg_dest_DTrf_0020 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_SOUTH, gg_dest_DTrf_0020 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_EAST, gg_dest_DTrf_0019 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_SOUTH, gg_dest_DTrf_0019 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_SOUTH, gg_dest_DTrf_0025 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_SOUTH, gg_dest_DTrf_0026 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_SOUTH, gg_dest_DTrf_0018 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_WEST, gg_dest_DTrf_0018 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_SOUTH, gg_dest_DTrf_0017 )
endfunction

//===========================================================================
function InitTrig_OuterFOElevatorRingUpInstant takes nothing returns nothing
    set gg_trg_OuterFOElevatorRingUpInstant = CreateTrigger(  )
    call TriggerAddAction( gg_trg_OuterFOElevatorRingUpInstant, function Trig_OuterFOElevatorRingUpInstant_Actions )
endfunction

//===========================================================================
// Trigger: InnerFOElevatorRingUp
//===========================================================================
function Trig_InnerFOElevatorRingUp_Actions takes nothing returns nothing
    // Inner Elevators
    call SetDoodadAnimationRectBJ( "death", 'YOfb', gg_rct_Fire01 )
    call ChangeElevatorHeight( gg_dest_DTrf_0012, 3 )
    call TriggerSleepAction( 0.15 )
    call SetDoodadAnimationRectBJ( "death", 'YOfb', gg_rct_Fire02 )
    call ChangeElevatorHeight( gg_dest_DTrf_0004, 3 )
    call TriggerSleepAction( 0.15 )
    call SetDoodadAnimationRectBJ( "death", 'YOfb', gg_rct_Fire03 )
    call ChangeElevatorHeight( gg_dest_DTrf_0005, 3 )
    call TriggerSleepAction( 0.15 )
    call SetDoodadAnimationRectBJ( "death", 'YOfb', gg_rct_Fire04 )
    call ChangeElevatorHeight( gg_dest_DTrf_0015, 3 )
    call TriggerSleepAction( 0.15 )
    call SetDoodadAnimationRectBJ( "death", 'YOfb', gg_rct_Fire05 )
    call ChangeElevatorHeight( gg_dest_DTrf_0014, 3 )
    call TriggerSleepAction( 0.15 )
    call SetDoodadAnimationRectBJ( "death", 'YOfb', gg_rct_Fire06 )
    call ChangeElevatorHeight( gg_dest_DTrf_0013, 3 )
    call TriggerSleepAction( 0.15 )
    call SetDoodadAnimationRectBJ( "death", 'YOfb', gg_rct_Fire07 )
    call ChangeElevatorHeight( gg_dest_DTrf_0011, 3 )
    call TriggerSleepAction( 0.15 )
    call SetDoodadAnimationRectBJ( "death", 'YOfb', gg_rct_Fire08 )
    call ChangeElevatorHeight( gg_dest_DTrf_0009, 3 )
    call TriggerSleepAction( 0.15 )
    call SetDoodadAnimationRectBJ( "death", 'YOfb', gg_rct_Fire09 )
    call ChangeElevatorHeight( gg_dest_DTrf_0007, 3 )
    call TriggerSleepAction( 0.15 )
    call SetDoodadAnimationRectBJ( "death", 'YOfb', gg_rct_Fire10 )
    call ChangeElevatorHeight( gg_dest_DTrf_0008, 3 )
    call TriggerSleepAction( 0.15 )
    call SetDoodadAnimationRectBJ( "death", 'YOfb', gg_rct_Fire11 )
    call ChangeElevatorHeight( gg_dest_DTrf_0010, 3 )
    call TriggerSleepAction( 0.15 )
    call SetDoodadAnimationRectBJ( "death", 'YOfb', gg_rct_Fire12 )
    call ChangeElevatorHeight( gg_dest_DTrf_0006, 3 )
    call TriggerSleepAction( 0.15 )
    // Inner Walls
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_EAST, gg_dest_DTrf_0004 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_EAST, gg_dest_DTrf_0005 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_SOUTH, gg_dest_DTrf_0014 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_SOUTH, gg_dest_DTrf_0013 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_WEST, gg_dest_DTrf_0009 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_WEST, gg_dest_DTrf_0007 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_NORTH, gg_dest_DTrf_0010 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_NORTH, gg_dest_DTrf_0006 )
endfunction

//===========================================================================
function InitTrig_InnerFOElevatorRingUp takes nothing returns nothing
    set gg_trg_InnerFOElevatorRingUp = CreateTrigger(  )
    call TriggerAddAction( gg_trg_InnerFOElevatorRingUp, function Trig_InnerFOElevatorRingUp_Actions )
endfunction

//===========================================================================
// Trigger: InnerFOElevatorRingUpInstant
//===========================================================================
function Trig_InnerFOElevatorRingUpInstant_Actions takes nothing returns nothing
    // Inner Elevators
    call ChangeElevatorHeight( gg_dest_DTrf_0012, 3 )
    call ChangeElevatorHeight( gg_dest_DTrf_0004, 3 )
    call ChangeElevatorHeight( gg_dest_DTrf_0005, 3 )
    call ChangeElevatorHeight( gg_dest_DTrf_0015, 3 )
    call ChangeElevatorHeight( gg_dest_DTrf_0014, 3 )
    call ChangeElevatorHeight( gg_dest_DTrf_0013, 3 )
    call ChangeElevatorHeight( gg_dest_DTrf_0011, 3 )
    call ChangeElevatorHeight( gg_dest_DTrf_0009, 3 )
    call ChangeElevatorHeight( gg_dest_DTrf_0007, 3 )
    call ChangeElevatorHeight( gg_dest_DTrf_0008, 3 )
    call ChangeElevatorHeight( gg_dest_DTrf_0010, 3 )
    call ChangeElevatorHeight( gg_dest_DTrf_0006, 3 )
    // Inner Walls
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_EAST, gg_dest_DTrf_0004 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_EAST, gg_dest_DTrf_0005 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_SOUTH, gg_dest_DTrf_0014 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_SOUTH, gg_dest_DTrf_0013 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_WEST, gg_dest_DTrf_0009 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_WEST, gg_dest_DTrf_0007 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_NORTH, gg_dest_DTrf_0010 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_NORTH, gg_dest_DTrf_0006 )
endfunction

//===========================================================================
function InitTrig_InnerFOElevatorRingUpInstant takes nothing returns nothing
    set gg_trg_InnerFOElevatorRingUpInstant = CreateTrigger(  )
    call TriggerAddAction( gg_trg_InnerFOElevatorRingUpInstant, function Trig_InnerFOElevatorRingUpInstant_Actions )
endfunction

//===========================================================================
// Trigger: Forgotten One Elevator Sounds
//===========================================================================
function Trig_Forgotten_One_Elevator_Sounds_Actions takes nothing returns nothing
    call PlaySoundAtPointBJ( udg_ElevatorsSound, 100, GetRectCenter(gg_rct_FireBlueArea), 0 )
    call TriggerSleepAction( 1.50 )
    call PlaySoundAtPointBJ( gg_snd_Elevator01, 100, GetRectCenter(gg_rct_FireBlueArea), 0 )
    call TriggerSleepAction( 1.50 )
    call PlaySoundAtPointBJ( udg_ElevatorsSound, 100, GetRectCenter(gg_rct_FireBlueArea), 0 )
endfunction

//===========================================================================
function InitTrig_Forgotten_One_Elevator_Sounds takes nothing returns nothing
    set gg_trg_Forgotten_One_Elevator_Sounds = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Forgotten_One_Elevator_Sounds, function Trig_Forgotten_One_Elevator_Sounds_Actions )
endfunction

//===========================================================================
// Trigger: Gameplay Forgotten One
//===========================================================================
function Trig_Gameplay_Forgotten_One_Actions takes nothing returns nothing
    // Do initial gameplay stuff, like quest messages and hints
    call TriggerSleepAction( 2.00 )
    call QueuedTriggerAddBJ( gg_trg_Quest_Exit_Completed_Q, true )
    call QueuedTriggerAddBJ( gg_trg_Quest_Forgotten_One_Discover_Q, true )
endfunction

//===========================================================================
function InitTrig_Gameplay_Forgotten_One takes nothing returns nothing
    set gg_trg_Gameplay_Forgotten_One = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Gameplay_Forgotten_One, function Trig_Gameplay_Forgotten_One_Actions )
endfunction

//===========================================================================
// Trigger: Victory Cinematic Q
//===========================================================================
function Trig_Victory_Cinematic_Q_Func022001 takes nothing returns boolean
    return ( udg_VictorySkipped == true )
endfunction

function Trig_Victory_Cinematic_Q_Func025001 takes nothing returns boolean
    return ( udg_VictorySkipped == true )
endfunction

function Trig_Victory_Cinematic_Q_Func028001 takes nothing returns boolean
    return ( udg_VictorySkipped == true )
endfunction

function Trig_Victory_Cinematic_Q_Func039001 takes nothing returns boolean
    return ( udg_VictorySkipped == true )
endfunction

function Trig_Victory_Cinematic_Q_Func042001 takes nothing returns boolean
    return ( udg_VictorySkipped == true )
endfunction

function Trig_Victory_Cinematic_Q_Func046001 takes nothing returns boolean
    return ( udg_VictorySkipped == true )
endfunction

function Trig_Victory_Cinematic_Q_Actions takes nothing returns nothing
    set udg_InCinematic = true
    // Fade Out
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    // Set Up Scene
    call CinematicModeBJ( true, udg_APG1_Player )
    call TriggerSleepAction( 0.25 )
    call ConditionalTriggerExecute( gg_trg_Next_Level_Prep )
    call ConditionalTriggerExecute( gg_trg_Victory_Setup )
    call ConditionalTriggerExecute( gg_trg_Victory_Create_Mass_of__Faceless )
    call TriggerSleepAction( 0.25 )
    call CameraSetupApplyForPlayer( true, gg_cam_Victory_00, udg_AP1_Player, 0 )
    call CameraSetupApplyForPlayer( true, gg_cam_Victory_00b, udg_AP1_Player, 7.00 )
    // Fade In
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    call EnableTrigger( gg_trg_Victory_Skipped )
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    // CINEMATIC BEGINS - Cinematic Can Now Be Skipped
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    call TriggerSleepAction( 2.50 )
    if ( Trig_Victory_Cinematic_Q_Func022001() ) then
        return
    else
        call DoNothing(  )
    endif
    call PlaySoundAtPointBJ( gg_snd_FacelessOneYes2, 70.00, GetRectCenter(gg_rct_FacelessSounds), 0 )
    call TriggerSleepAction( 1.50 )
    if ( Trig_Victory_Cinematic_Q_Func025001() ) then
        return
    else
        call DoNothing(  )
    endif
    call PlaySoundAtPointBJ( gg_snd_FacelessOneYes1, 70.00, GetRectCenter(gg_rct_FacelessSounds), 0 )
    call TriggerSleepAction( 1.00 )
    if ( Trig_Victory_Cinematic_Q_Func028001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CameraSetupApplyForPlayer( true, gg_cam_Victory_01, udg_AP1_Player, 0 )
    call CameraSetupApplyForPlayer( true, gg_cam_Victory_02, udg_AP1_Player, ( GetSoundDurationBJ(gg_snd_L07BAnubarak44) + 4.00 ) )
    // Move units
    call IssuePointOrderLocBJ( udg_FakeAnubarak, "move", GetRectCenter(gg_rct_VictoryAnubarakDest) )
    call SetUnitMoveSpeed( udg_FakeAnubarak, 200.00 )
    call IssuePointOrderLocBJ( udg_Arthas, "move", GetRectCenter(gg_rct_VictoryArthasDest) )
    call ConditionalTriggerExecute( gg_trg_ArthasRunSound )
    call SetUnitMoveSpeed( udg_Arthas, 200.00 )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_FakeAnubarak, "TRIGSTR_139", gg_snd_L07BAnubarak44, "TRIGSTR_140", bj_TIMETYPE_ADD, 0, false )
    call TriggerSleepAction( 1.00 )
    if ( Trig_Victory_Cinematic_Q_Func039001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( udg_CryptVictory02, "move", GetRectCenter(gg_rct_VictoryCrypt02Dest) )
    call TriggerSleepAction( 0.75 )
    if ( Trig_Victory_Cinematic_Q_Func042001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( udg_CryptVictory01, "move", GetRectCenter(gg_rct_VictoryCrypt01Dest) )
    call IssuePointOrderLocBJ( udg_CryptVictory03, "move", GetRectCenter(gg_rct_VictoryCrypt03Dest) )
    call TriggerSleepAction( 4.25 )
    if ( Trig_Victory_Cinematic_Q_Func046001() ) then
        return
    else
        call DoNothing(  )
    endif
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    // CINEMATIC ENDS - Cinematic Can No Longer Be Skipped
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    call DisableTrigger( gg_trg_Victory_Skipped )
    // Fade Out
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 2.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    call StopSoundBJ( gg_snd_HorseLoop301, true )
    call TriggerSleepAction( 1.00 )
    call SetUnitMoveSpeed( udg_Arthas, GetUnitDefaultMoveSpeed(udg_Arthas) )
    call SetUnitMoveSpeed( udg_FakeAnubarak, GetUnitDefaultMoveSpeed(udg_Anubarak) )
    call RemoveUnit( udg_FakeAnubarak )
    call ConditionalTriggerExecute( gg_trg_Next_Level_Run )
endfunction

//===========================================================================
function InitTrig_Victory_Cinematic_Q takes nothing returns nothing
    set gg_trg_Victory_Cinematic_Q = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Victory_Cinematic_Q, function Trig_Victory_Cinematic_Q_Actions )
endfunction

//===========================================================================
// Trigger: Victory Create Mass of  Faceless
//===========================================================================
function Trig_Victory_Create_Mass_of__Faceless_Actions takes nothing returns nothing
    call CreateNUnitsAtLoc( 1, 'nfor', udg_AP4_FacelessOnes, GetRectCenter(gg_rct_VictoryFacelessSpawn01), 270.00 )
    set udg_RandomVictoryPoint = GetRandomLocInRect(gg_rct_VictoryFacelessDest)
    call IssuePointOrderLocBJ( GetLastCreatedUnit(), "move", udg_RandomVictoryPoint )
    call CreateNUnitsAtLoc( 1, 'nfot', udg_AP4_FacelessOnes, GetRectCenter(gg_rct_VictoryFacelessSpawn02), 270.00 )
    set udg_RandomVictoryPoint = GetRandomLocInRect(gg_rct_VictoryFacelessDest)
    call IssuePointOrderLocBJ( GetLastCreatedUnit(), "move", udg_RandomVictoryPoint )
    call CreateNUnitsAtLoc( 1, 'nfor', udg_AP4_FacelessOnes, GetRectCenter(gg_rct_VictoryFacelessSpawn03), 270.00 )
    set udg_RandomVictoryPoint = GetRandomLocInRect(gg_rct_VictoryFacelessDest)
    call IssuePointOrderLocBJ( GetLastCreatedUnit(), "move", udg_RandomVictoryPoint )
    call TriggerSleepAction( 0.50 )
    call CreateNUnitsAtLoc( 1, 'nfod', udg_AP4_FacelessOnes, GetRectCenter(gg_rct_VictoryFacelessSpawn01), 270.00 )
    set udg_RandomVictoryPoint = GetRandomLocInRect(gg_rct_VictoryFacelessDest)
    call IssuePointOrderLocBJ( GetLastCreatedUnit(), "move", udg_RandomVictoryPoint )
    call CreateNUnitsAtLoc( 1, 'nfor', udg_AP4_FacelessOnes, GetRectCenter(gg_rct_VictoryFacelessSpawn02), 270.00 )
    set udg_RandomVictoryPoint = GetRandomLocInRect(gg_rct_VictoryFacelessDest)
    call IssuePointOrderLocBJ( GetLastCreatedUnit(), "move", udg_RandomVictoryPoint )
    call CreateNUnitsAtLoc( 1, 'nfor', udg_AP4_FacelessOnes, GetRectCenter(gg_rct_VictoryFacelessSpawn04), 270.00 )
    set udg_RandomVictoryPoint = GetRandomLocInRect(gg_rct_VictoryFacelessDest)
    call IssuePointOrderLocBJ( GetLastCreatedUnit(), "move", udg_RandomVictoryPoint )
    call TriggerSleepAction( 0.50 )
    call CreateNUnitsAtLoc( 1, 'nfor', udg_AP4_FacelessOnes, GetRectCenter(gg_rct_VictoryFacelessSpawn01), 270.00 )
    set udg_RandomVictoryPoint = GetRandomLocInRect(gg_rct_VictoryFacelessDest)
    call IssuePointOrderLocBJ( GetLastCreatedUnit(), "move", udg_RandomVictoryPoint )
    call CreateNUnitsAtLoc( 1, 'nfor', udg_AP4_FacelessOnes, GetRectCenter(gg_rct_VictoryFacelessSpawn03), 270.00 )
    set udg_RandomVictoryPoint = GetRandomLocInRect(gg_rct_VictoryFacelessDest)
    call IssuePointOrderLocBJ( GetLastCreatedUnit(), "move", udg_RandomVictoryPoint )
    call CreateNUnitsAtLoc( 1, 'nfod', udg_AP4_FacelessOnes, GetRectCenter(gg_rct_VictoryFacelessSpawn04), 270.00 )
    set udg_RandomVictoryPoint = GetRandomLocInRect(gg_rct_VictoryFacelessDest)
    call IssuePointOrderLocBJ( GetLastCreatedUnit(), "move", udg_RandomVictoryPoint )
    call TriggerSleepAction( 0.50 )
    call PlaySoundAtPointBJ( gg_snd_FacelessOneWhat2, 70.00, GetRectCenter(gg_rct_FacelessSounds), 0 )
    call CreateNUnitsAtLoc( 1, 'nfor', udg_AP4_FacelessOnes, GetRectCenter(gg_rct_VictoryFacelessSpawn02), 270.00 )
    set udg_RandomVictoryPoint = GetRandomLocInRect(gg_rct_VictoryFacelessDest)
    call IssuePointOrderLocBJ( GetLastCreatedUnit(), "move", udg_RandomVictoryPoint )
    call CreateNUnitsAtLoc( 1, 'nfot', udg_AP4_FacelessOnes, GetRectCenter(gg_rct_VictoryFacelessSpawn03), 270.00 )
    set udg_RandomVictoryPoint = GetRandomLocInRect(gg_rct_VictoryFacelessDest)
    call IssuePointOrderLocBJ( GetLastCreatedUnit(), "move", udg_RandomVictoryPoint )
    call CreateNUnitsAtLoc( 1, 'nfor', udg_AP4_FacelessOnes, GetRectCenter(gg_rct_VictoryFacelessSpawn04), 270.00 )
    set udg_RandomVictoryPoint = GetRandomLocInRect(gg_rct_VictoryFacelessDest)
    call IssuePointOrderLocBJ( GetLastCreatedUnit(), "move", udg_RandomVictoryPoint )
endfunction

//===========================================================================
function InitTrig_Victory_Create_Mass_of__Faceless takes nothing returns nothing
    set gg_trg_Victory_Create_Mass_of__Faceless = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Victory_Create_Mass_of__Faceless, function Trig_Victory_Create_Mass_of__Faceless_Actions )
endfunction

//===========================================================================
// Trigger: Victory Skipped
//===========================================================================
function Trig_Victory_Skipped_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_VictorySkipped = true
    // Fade Out
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 2.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call StopSoundBJ( gg_snd_HorseLoop1, true )
    call StopSoundBJ( gg_snd_HorseLoop2, true )
    call StopSoundBJ( gg_snd_HorseLoop3, true )
    call StopSoundBJ( gg_snd_HorseLoop301, true )
    call TriggerSleepAction( 2.00 )
    call RemoveUnit( udg_FakeAnubarak )
    call ConditionalTriggerExecute( gg_trg_Next_Level_Run )
endfunction

//===========================================================================
function InitTrig_Victory_Skipped takes nothing returns nothing
    set gg_trg_Victory_Skipped = CreateTrigger(  )
    call DisableTrigger( gg_trg_Victory_Skipped )
    call TriggerRegisterPlayerEventEndCinematic( gg_trg_Victory_Skipped, Player(0) )
    call TriggerAddAction( gg_trg_Victory_Skipped, function Trig_Victory_Skipped_Actions )
endfunction

//===========================================================================
// Trigger: Victory Setup
//===========================================================================
function Trig_Victory_Setup_Func006002 takes nothing returns nothing
    call RemoveUnit( GetEnumUnit() )
endfunction

function Trig_Victory_Setup_Func033002002 takes nothing returns boolean
    return ( IsUnitHiddenBJ(GetFilterUnit()) == false )
endfunction

function Trig_Victory_Setup_Func042002 takes nothing returns nothing
    call ShowUnitHide( GetEnumUnit() )
endfunction

function Trig_Victory_Setup_Func044002 takes nothing returns nothing
    call SetItemVisibleBJ( false, GetEnumItem() )
endfunction

function Trig_Victory_Setup_Func046002 takes nothing returns nothing
    call UnitRemoveBuffsBJ( bj_REMOVEBUFFS_NONTLIFE, GetEnumUnit() )
endfunction

function Trig_Victory_Setup_Actions takes nothing returns nothing
    // Set Sky
    call SetTerrainFogExBJ( 0, 600.00, 3500.00, 500.00, 15.00, 50.00, 75.00 )
    // Clear Selection
    call ClearSelection(  )
    // Move Anubarak along with his flys
    call ForGroup( GetUnitsOfTypeIdAll('uloc'), function Trig_Victory_Setup_Func006002 )
    call SetUnitPositionLocFacingBJ( udg_Anubarak, GetRectCenter(gg_rct_MoveAnubarakForVictoryCin), 340.00 )
    // Move Hero
    call SetUnitPositionLocFacingBJ( udg_Arthas, GetRectCenter(gg_rct_VictoryArthasStart), 210.00 )
    call CreateNUnitsAtLoc( 1, 'Uanb', udg_AP2_Rescuables, GetRectCenter(gg_rct_VictoryAnubarakStart), 310.00 )
    set udg_FakeAnubarak = GetLastCreatedUnit()
    call SetUnitColor( udg_FakeAnubarak, GetPlayerColor(udg_AP1_Player) )
    call CreateNUnitsAtLoc( 1, 'ucry', udg_AP1_Player, GetRectCenter(gg_rct_VictoryCrypt01Start), 190.00 )
    set udg_CryptVictory01 = GetLastCreatedUnit()
    call CreateNUnitsAtLoc( 1, 'ucry', udg_AP1_Player, GetRectCenter(gg_rct_VictoryCrypt02Start), 120.00 )
    set udg_CryptVictory02 = GetLastCreatedUnit()
    call CreateNUnitsAtLoc( 1, 'ucry', udg_AP1_Player, GetRectCenter(gg_rct_VictoryCrypt03Start), 120.00 )
    set udg_CryptVictory03 = GetLastCreatedUnit()
    call SetHeroLevelBJ( udg_FakeAnubarak, 2, false )
    call SelectHeroSkill( udg_FakeAnubarak, 'AUts' )
    // Disable XP Gain
    call SuspendHeroXPBJ( false, udg_Anubarak )
    // Pause Time Of Day
    call UseTimeOfDayBJ( false )
    // Pause Units
    call PauseAllUnitsBJ( true )
    call PauseUnitBJ( false, udg_Arthas )
    call PauseUnitBJ( false, udg_FakeAnubarak )
    call PauseUnitBJ( false, udg_CryptVictory01 )
    call PauseUnitBJ( false, udg_CryptVictory02 )
    call PauseUnitBJ( false, udg_CryptVictory03 )
    // Hide Units
    set udg_HiddenUnits = GetUnitsOfPlayerMatching(udg_AP1_Player, Condition(function Trig_Victory_Setup_Func033002002))
    call GroupAddGroup( GetUnitsOfPlayerAll(udg_AP2_Rescuables), udg_HiddenUnits )
    call GroupAddGroup( GetUnitsOfPlayerAll(udg_AP3_Nerubians), udg_HiddenUnits )
    call GroupAddGroup( GetUnitsOfPlayerAll(udg_AP4_FacelessOnes), udg_HiddenUnits )
    call GroupRemoveUnitSimple( udg_Arthas, udg_HiddenUnits )
    call GroupRemoveUnitSimple( udg_FakeAnubarak, udg_HiddenUnits )
    call GroupRemoveUnitSimple( udg_CryptVictory01, udg_HiddenUnits )
    call GroupRemoveUnitSimple( udg_CryptVictory02, udg_HiddenUnits )
    call GroupRemoveUnitSimple( udg_CryptVictory03, udg_HiddenUnits )
    call ForGroup( udg_HiddenUnits, function Trig_Victory_Setup_Func042002 )
    // Hide Items
    call EnumItemsInRectBJ( GetPlayableMapRect(), function Trig_Victory_Setup_Func044002 )
    // Remove Buffs
    call ForGroup( GetUnitsOfPlayerAll(udg_AP1_Player), function Trig_Victory_Setup_Func046002 )
    // Disable Abilities
    call SetPlayerAbilityAvailableBJ( false, 'AUau', udg_AP1_Player )
    // Doodads
    call ModifyGateBJ( bj_GATEOPERATION_OPEN, gg_dest_ITg2_0031 )
    // Music Theme
    call PlayThematicMusicBJ( "Sound\\Music\\mp3Music\\DarkVictory.mp3" )
    // Setup Alliance
    call SetPlayerAllianceStateBJ( udg_AP1_Player, udg_AP4_FacelessOnes, bj_ALLIANCE_NEUTRAL )
    call SetPlayerAllianceStateBJ( udg_AP4_FacelessOnes, udg_AP1_Player, bj_ALLIANCE_NEUTRAL )
endfunction

//===========================================================================
function InitTrig_Victory_Setup takes nothing returns nothing
    set gg_trg_Victory_Setup = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Victory_Setup, function Trig_Victory_Setup_Actions )
endfunction

//===========================================================================
// Trigger: ArthasRunSound
//===========================================================================
function Trig_ArthasRunSound_Actions takes nothing returns nothing
    call PlaySoundOnUnitBJ( gg_snd_HorseLoop3, 70.00, udg_Arthas )
    call TriggerSleepAction( 2 )
    call PlaySoundOnUnitBJ( gg_snd_HorseLoop2, 70.00, udg_Arthas )
    call TriggerSleepAction( 1.50 )
    call PlaySoundOnUnitBJ( gg_snd_HorseLoop1, 70.00, udg_Arthas )
    call TriggerSleepAction( 1.50 )
    call PlaySoundOnUnitBJ( gg_snd_HorseLoop301, 70.00, udg_Arthas )
endfunction

//===========================================================================
function InitTrig_ArthasRunSound takes nothing returns nothing
    set gg_trg_ArthasRunSound = CreateTrigger(  )
    call TriggerAddAction( gg_trg_ArthasRunSound, function Trig_ArthasRunSound_Actions )
endfunction

//===========================================================================
// Trigger: Quest Locate the Exit Create
//===========================================================================
function Trig_Quest_Locate_the_Exit_Create_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Quest_Locate_the_Exit_Create_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    // Create the quest objects
    call CreateQuestBJ( bj_QUESTTYPE_REQ_UNDISCOVERED, "TRIGSTR_076", "TRIGSTR_077", "ReplaceableTextures\\CommandButtons\\BTNNerubian.tga" )
    set udg_QuestExit = GetLastCreatedQuestBJ()
    call CreateQuestItemBJ( udg_QuestExit, "TRIGSTR_078" )
    set udg_QuestLocateExitReq = GetLastCreatedQuestItemBJ()
    call CreateQuestItemBJ( udg_QuestExit, "TRIGSTR_079" )
    set udg_QuestMustSurviveExitReq = GetLastCreatedQuestItemBJ()
endfunction

//===========================================================================
function InitTrig_Quest_Locate_the_Exit_Create takes nothing returns nothing
    set gg_trg_Quest_Locate_the_Exit_Create = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Quest_Locate_the_Exit_Create, Condition( function Trig_Quest_Locate_the_Exit_Create_Conditions ) )
    call TriggerAddAction( gg_trg_Quest_Locate_the_Exit_Create, function Trig_Quest_Locate_the_Exit_Create_Actions )
endfunction

//===========================================================================
// Trigger: Quest Locate the Exit Discover
//===========================================================================
function Trig_Quest_Locate_the_Exit_Discover_Actions takes nothing returns nothing
    // Ensure that the quest exists
    call ConditionalTriggerExecute( gg_trg_Quest_Locate_the_Exit_Create )
    // Update the quest
    call QuestSetDiscoveredBJ( udg_QuestExit, true )
    // Display a quest message.
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_080" )
endfunction

//===========================================================================
function InitTrig_Quest_Locate_the_Exit_Discover takes nothing returns nothing
    set gg_trg_Quest_Locate_the_Exit_Discover = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Quest_Locate_the_Exit_Discover, function Trig_Quest_Locate_the_Exit_Discover_Actions )
endfunction

//===========================================================================
// Trigger: Quest Locate the Exit Completed
//===========================================================================
function Trig_Quest_Locate_the_Exit_Completed_Actions takes nothing returns nothing
    // Ensure that the quest exists
    call ConditionalTriggerExecute( gg_trg_Quest_Locate_the_Exit_Create )
    // Update the quest
    call QuestSetDiscoveredBJ( udg_QuestExit, true )
    call QuestItemSetCompletedBJ( udg_QuestLocateExitReq, true )
    call QuestItemSetCompletedBJ( udg_QuestMustSurviveExitReq, true )
    call QuestSetCompletedBJ( udg_QuestExit, true )
    call QuestSetCompletedBJ( udg_QuestExit, true )
    // Display a quest message.
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_COMPLETED, "TRIGSTR_081" )
endfunction

//===========================================================================
function InitTrig_Quest_Locate_the_Exit_Completed takes nothing returns nothing
    set gg_trg_Quest_Locate_the_Exit_Completed = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Quest_Locate_the_Exit_Completed, function Trig_Quest_Locate_the_Exit_Completed_Actions )
endfunction

//===========================================================================
// Trigger: Quest Forgotten One Create
//===========================================================================
function Trig_Quest_Forgotten_One_Create_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Quest_Forgotten_One_Create_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    // Create the quest objects
    call CreateQuestBJ( bj_QUESTTYPE_REQ_UNDISCOVERED, "TRIGSTR_347", "TRIGSTR_348", "ReplaceableTextures\\CommandButtons\\BTNForgottenOne.tga" )
    set udg_QuestForgottenOne = GetLastCreatedQuestBJ()
    call CreateQuestItemBJ( udg_QuestForgottenOne, "TRIGSTR_349" )
    set udg_QuestForgottenOneReq = GetLastCreatedQuestItemBJ()
    call CreateQuestItemBJ( udg_QuestForgottenOne, "TRIGSTR_350" )
    set udg_QuestMustSurviveForgottenReq = GetLastCreatedQuestItemBJ()
endfunction

//===========================================================================
function InitTrig_Quest_Forgotten_One_Create takes nothing returns nothing
    set gg_trg_Quest_Forgotten_One_Create = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Quest_Forgotten_One_Create, Condition( function Trig_Quest_Forgotten_One_Create_Conditions ) )
    call TriggerAddAction( gg_trg_Quest_Forgotten_One_Create, function Trig_Quest_Forgotten_One_Create_Actions )
endfunction

//===========================================================================
// Trigger: Quest Forgotten One Discover
//===========================================================================
function Trig_Quest_Forgotten_One_Discover_Actions takes nothing returns nothing
    // Ensure that the quest exists
    call ConditionalTriggerExecute( gg_trg_Quest_Forgotten_One_Create )
    // Update the quest
    call QuestSetDiscoveredBJ( udg_QuestForgottenOne, true )
    // Display a quest message.
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_351" )
endfunction

//===========================================================================
function InitTrig_Quest_Forgotten_One_Discover takes nothing returns nothing
    set gg_trg_Quest_Forgotten_One_Discover = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Quest_Forgotten_One_Discover, function Trig_Quest_Forgotten_One_Discover_Actions )
endfunction

//===========================================================================
// Trigger: Quest Forgotten One Completed
//===========================================================================
function Trig_Quest_Forgotten_One_Completed_Actions takes nothing returns nothing
    // Ensure that the quest exists
    call ConditionalTriggerExecute( gg_trg_Quest_Forgotten_One_Create )
    // Update the quest
    call QuestSetDiscoveredBJ( udg_QuestForgottenOne, true )
    call QuestItemSetCompletedBJ( udg_QuestForgottenOneReq, true )
    call QuestItemSetCompletedBJ( udg_QuestMustSurviveForgottenReq, true )
    call QuestSetCompletedBJ( udg_QuestForgottenOne, true )
    // Display a quest message.
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_COMPLETED, "TRIGSTR_352" )
endfunction

//===========================================================================
function InitTrig_Quest_Forgotten_One_Completed takes nothing returns nothing
    set gg_trg_Quest_Forgotten_One_Completed = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Quest_Forgotten_One_Completed, function Trig_Quest_Forgotten_One_Completed_Actions )
endfunction

//===========================================================================
// Trigger: Quest Cryptfiend Create
//===========================================================================
function Trig_Quest_Cryptfiend_Create_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Quest_Cryptfiend_Create_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    // Create the quest objects
    call CreateQuestBJ( bj_QUESTTYPE_OPT_UNDISCOVERED, "TRIGSTR_143", "TRIGSTR_144", "ReplaceableTextures\\CommandButtons\\BTNCrypt.tga" )
    set udg_QuestCryptfiend = GetLastCreatedQuestBJ()
    call CreateQuestItemBJ( udg_QuestCryptfiend, "TRIGSTR_145" )
    set udg_QuestCryptfiendReq01 = GetLastCreatedQuestItemBJ()
endfunction

//===========================================================================
function InitTrig_Quest_Cryptfiend_Create takes nothing returns nothing
    set gg_trg_Quest_Cryptfiend_Create = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Quest_Cryptfiend_Create, Condition( function Trig_Quest_Cryptfiend_Create_Conditions ) )
    call TriggerAddAction( gg_trg_Quest_Cryptfiend_Create, function Trig_Quest_Cryptfiend_Create_Actions )
endfunction

//===========================================================================
// Trigger: Quest Cryptfiend Discover
//===========================================================================
function Trig_Quest_Cryptfiend_Discover_Actions takes nothing returns nothing
    // Ensure that the quest exists
    call ConditionalTriggerExecute( gg_trg_Quest_Cryptfiend_Create )
    // Update the quest
    call QuestSetDiscoveredBJ( udg_QuestCryptfiend, true )
    // Display a quest message.
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_148" )
endfunction

//===========================================================================
function InitTrig_Quest_Cryptfiend_Discover takes nothing returns nothing
    set gg_trg_Quest_Cryptfiend_Discover = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Quest_Cryptfiend_Discover, function Trig_Quest_Cryptfiend_Discover_Actions )
endfunction

//===========================================================================
// Trigger: Quest Cryptfiend Completed
//===========================================================================
function Trig_Quest_Cryptfiend_Completed_Actions takes nothing returns nothing
    // Ensure that the quest exists
    call ConditionalTriggerExecute( gg_trg_Quest_Cryptfiend_Create )
    // Update the quest
    call QuestSetDiscoveredBJ( udg_QuestCryptfiend, true )
    call QuestItemSetCompletedBJ( udg_QuestCryptfiendReq01, true )
    call QuestSetCompletedBJ( udg_QuestCryptfiend, true )
    // Display a quest message.
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_COMPLETED, "TRIGSTR_149" )
endfunction

//===========================================================================
function InitTrig_Quest_Cryptfiend_Completed takes nothing returns nothing
    set gg_trg_Quest_Cryptfiend_Completed = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Quest_Cryptfiend_Completed, function Trig_Quest_Cryptfiend_Completed_Actions )
endfunction

//===========================================================================
// Trigger: Quest Gold Create
//===========================================================================
function Trig_Quest_Gold_Create_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Quest_Gold_Create_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    // Create the quest objects
    call CreateQuestBJ( bj_QUESTTYPE_OPT_UNDISCOVERED, "TRIGSTR_307", "TRIGSTR_308", "ReplaceableTextures\\CommandButtons\\BTNChestOfGold.tga" )
    set udg_QuestGold = GetLastCreatedQuestBJ()
    call CreateQuestItemBJ( udg_QuestGold, "TRIGSTR_309" )
    set udg_QuestGold0Req = GetLastCreatedQuestItemBJ()
endfunction

//===========================================================================
function InitTrig_Quest_Gold_Create takes nothing returns nothing
    set gg_trg_Quest_Gold_Create = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Quest_Gold_Create, Condition( function Trig_Quest_Gold_Create_Conditions ) )
    call TriggerAddAction( gg_trg_Quest_Gold_Create, function Trig_Quest_Gold_Create_Actions )
endfunction

//===========================================================================
// Trigger: Quest Gold Discover
//===========================================================================
function Trig_Quest_Gold_Discover_Actions takes nothing returns nothing
    // Ensure that the quest exists
    call ConditionalTriggerExecute( gg_trg_Quest_Gold_Create )
    // Update the quest
    call QuestSetDiscoveredBJ( udg_QuestGold, true )
    // Display a quest message.
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_310" )
endfunction

//===========================================================================
function InitTrig_Quest_Gold_Discover takes nothing returns nothing
    set gg_trg_Quest_Gold_Discover = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Quest_Gold_Discover, function Trig_Quest_Gold_Discover_Actions )
endfunction

//===========================================================================
// Trigger: Quest Gold Completed
//===========================================================================
function Trig_Quest_Gold_Completed_Actions takes nothing returns nothing
    // Ensure that the quest exists
    call ConditionalTriggerExecute( gg_trg_Quest_Gold_Create )
    // Update the quest
    call QuestItemSetDescriptionBJ( udg_QuestGold0Req, "TRIGSTR_311" )
    call QuestSetDiscoveredBJ( udg_QuestGold, true )
    call QuestItemSetCompletedBJ( udg_QuestGold0Req, true )
    call QuestSetCompletedBJ( udg_QuestGold, true )
    // Display a quest message.
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_COMPLETED, "TRIGSTR_312" )
endfunction

//===========================================================================
function InitTrig_Quest_Gold_Completed takes nothing returns nothing
    set gg_trg_Quest_Gold_Completed = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Quest_Gold_Completed, function Trig_Quest_Gold_Completed_Actions )
endfunction

//===========================================================================
// Trigger: Gold 02 Found
//===========================================================================
function Trig_Gold_02_Found_Actions takes nothing returns nothing
    // Ensure that the quest exists
    call ConditionalTriggerExecute( gg_trg_Quest_Gold_Create )
    // Update the quest
    call QuestItemSetDescriptionBJ( udg_QuestGold0Req, "TRIGSTR_313" )
    // Display update
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_UPDATED, "TRIGSTR_314" )
endfunction

//===========================================================================
function InitTrig_Gold_02_Found takes nothing returns nothing
    set gg_trg_Gold_02_Found = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Gold_02_Found, function Trig_Gold_02_Found_Actions )
endfunction

//===========================================================================
// Trigger: Gold 03 Found
//===========================================================================
function Trig_Gold_03_Found_Actions takes nothing returns nothing
    // Ensure that the quest exists
    call ConditionalTriggerExecute( gg_trg_Quest_Gold_Create )
    // Update the quest
    call QuestItemSetDescriptionBJ( udg_QuestGold0Req, "TRIGSTR_315" )
    // Display update
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_UPDATED, "TRIGSTR_316" )
endfunction

//===========================================================================
function InitTrig_Gold_03_Found takes nothing returns nothing
    set gg_trg_Gold_03_Found = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Gold_03_Found, function Trig_Gold_03_Found_Actions )
endfunction

//===========================================================================
// Trigger: Gold 04 Found
//===========================================================================
function Trig_Gold_04_Found_Actions takes nothing returns nothing
    // Ensure that the quest exists
    call ConditionalTriggerExecute( gg_trg_Quest_Gold_Create )
    // Update the quest
    call QuestItemSetDescriptionBJ( udg_QuestGold0Req, "TRIGSTR_317" )
    // Display update
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_UPDATED, "TRIGSTR_318" )
endfunction

//===========================================================================
function InitTrig_Gold_04_Found takes nothing returns nothing
    set gg_trg_Gold_04_Found = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Gold_04_Found, function Trig_Gold_04_Found_Actions )
endfunction

//===========================================================================
// Trigger: Mission Failed Arthas Dead
//===========================================================================
function Trig_Mission_Failed_Arthas_Dead_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_MISSIONFAILED, "TRIGSTR_089" )
endfunction

//===========================================================================
function InitTrig_Mission_Failed_Arthas_Dead takes nothing returns nothing
    set gg_trg_Mission_Failed_Arthas_Dead = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Mission_Failed_Arthas_Dead, function Trig_Mission_Failed_Arthas_Dead_Actions )
endfunction

//===========================================================================
// Trigger: Mission Failed Anubarak Dead
//===========================================================================
function Trig_Mission_Failed_Anubarak_Dead_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_MISSIONFAILED, "TRIGSTR_090" )
endfunction

//===========================================================================
function InitTrig_Mission_Failed_Anubarak_Dead takes nothing returns nothing
    set gg_trg_Mission_Failed_Anubarak_Dead = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Mission_Failed_Anubarak_Dead, function Trig_Mission_Failed_Anubarak_Dead_Actions )
endfunction

//===========================================================================
// Trigger: Player Reaches Towers
//===========================================================================
function Trig_Player_Reaches_Towers_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'uloc' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Player_Reaches_Towers_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Voiceover_Towers_Q, true )
endfunction

//===========================================================================
function InitTrig_Player_Reaches_Towers takes nothing returns nothing
    set gg_trg_Player_Reaches_Towers = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Player_Reaches_Towers, gg_rct_TowerAreaInit )
    call TriggerAddCondition( gg_trg_Player_Reaches_Towers, Condition( function Trig_Player_Reaches_Towers_Conditions ) )
    call TriggerAddAction( gg_trg_Player_Reaches_Towers, function Trig_Player_Reaches_Towers_Actions )
endfunction

//===========================================================================
// Trigger: Voiceover Towers Q
//===========================================================================
function Trig_Voiceover_Towers_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Towers_Q_Func007C takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Towers_Q_Func008C takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Towers_Q_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call SetCameraQuickPositionLocForPlayer( udg_AP1_Player, GetRectCenter(gg_rct_TowerVisibility) )
    call SetSpeechVolumeGroupsBJ(  )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Anubarak, "TRIGSTR_125", gg_snd_L07BAnubarak09, "TRIGSTR_126", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_L07BAnubarak09, 0 )
    if ( Trig_Voiceover_Towers_Q_Func007C() ) then
        call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Arthas, "TRIGSTR_127", gg_snd_L07BArthas10, "TRIGSTR_128", bj_TIMETYPE_ADD, 0, false )
        call WaitForSoundBJ( gg_snd_L07BArthas10, 0 )
    else
    endif
    if ( Trig_Voiceover_Towers_Q_Func008C() ) then
        call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Anubarak, "TRIGSTR_129", gg_snd_L07BAnubarak11, "TRIGSTR_130", bj_TIMETYPE_ADD, 0, false )
        call WaitForSoundBJ( gg_snd_L07BAnubarak11, 0 )
    else
    endif
    call VolumeGroupResetBJ(  )
    // -----------
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Voiceover_Towers_Q takes nothing returns nothing
    set gg_trg_Voiceover_Towers_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Voiceover_Towers_Q, Condition( function Trig_Voiceover_Towers_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Voiceover_Towers_Q, function Trig_Voiceover_Towers_Q_Actions )
endfunction

//===========================================================================
// Trigger: Voiceover Traitor
//===========================================================================
function Trig_Voiceover_Traitor_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'uloc' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Traitor_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Voiceover_Traitor_Q, true )
endfunction

//===========================================================================
function InitTrig_Voiceover_Traitor takes nothing returns nothing
    set gg_trg_Voiceover_Traitor = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Voiceover_Traitor, gg_rct_VoiceoverTraitor )
    call TriggerAddCondition( gg_trg_Voiceover_Traitor, Condition( function Trig_Voiceover_Traitor_Conditions ) )
    call TriggerAddAction( gg_trg_Voiceover_Traitor, function Trig_Voiceover_Traitor_Actions )
endfunction

//===========================================================================
// Trigger: Voiceover Traitor Q
//===========================================================================
function Trig_Voiceover_Traitor_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Traitor_Q_Func008C takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Traitor_Q_Func009C takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Traitor_Q_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 1.50 )
    call SetCameraQuickPositionLocForPlayer( udg_AP1_Player, GetRectCenter(gg_rct_VoiceoverTraitor) )
    call SetSpeechVolumeGroupsBJ(  )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), gg_unit_nnwa_0005, "TRIGSTR_131", gg_snd_L07BNerubian14, "TRIGSTR_132", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_L07BNerubian14, 0 )
    if ( Trig_Voiceover_Traitor_Q_Func008C() ) then
        call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Arthas, "TRIGSTR_133", gg_snd_L07BArthas15, "TRIGSTR_134", bj_TIMETYPE_ADD, 0, false )
        call WaitForSoundBJ( gg_snd_L07BArthas15, 0 )
    else
    endif
    if ( Trig_Voiceover_Traitor_Q_Func009C() ) then
        call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Anubarak, "TRIGSTR_135", gg_snd_L07BAnubarak16, "TRIGSTR_136", bj_TIMETYPE_ADD, 0, false )
        call WaitForSoundBJ( gg_snd_L07BAnubarak16, 0 )
    else
    endif
    call VolumeGroupResetBJ(  )
    // -----------
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Voiceover_Traitor_Q takes nothing returns nothing
    set gg_trg_Voiceover_Traitor_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Voiceover_Traitor_Q, Condition( function Trig_Voiceover_Traitor_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Voiceover_Traitor_Q, function Trig_Voiceover_Traitor_Q_Actions )
endfunction

//===========================================================================
// Trigger: Voiceover Drive Them Back
//===========================================================================
function Trig_Voiceover_Drive_Them_Back_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Voiceover_Drive_Them_Back_Q, true )
endfunction

//===========================================================================
function InitTrig_Voiceover_Drive_Them_Back takes nothing returns nothing
    set gg_trg_Voiceover_Drive_Them_Back = CreateTrigger(  )
    call TriggerRegisterUnitEvent( gg_trg_Voiceover_Drive_Them_Back, gg_unit_nnwa_0002, EVENT_UNIT_ACQUIRED_TARGET )
    call TriggerAddAction( gg_trg_Voiceover_Drive_Them_Back, function Trig_Voiceover_Drive_Them_Back_Actions )
endfunction

//===========================================================================
// Trigger: Voiceover Drive Them Back Q
//===========================================================================
function Trig_Voiceover_Drive_Them_Back_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Drive_Them_Back_Q_Func006C takes nothing returns boolean
    if ( not ( IsUnitAliveBJ(gg_unit_nnwa_0002) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Drive_Them_Back_Q_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 1.50 )
    call SetCameraQuickPositionLocForPlayer( udg_AP1_Player, GetRectCenter(gg_rct_VoiceoverTraitor) )
    call SetSpeechVolumeGroupsBJ(  )
    if ( Trig_Voiceover_Drive_Them_Back_Q_Func006C() ) then
        call TransmissionFromUnitWithNameBJ( GetPlayersAll(), gg_unit_nnwa_0002, "TRIGSTR_335", gg_snd_L07BNerubian18, "TRIGSTR_336", bj_TIMETYPE_ADD, 0, true )
        call WaitForSoundBJ( gg_snd_L07BNerubian18, 0 )
    else
    endif
    call VolumeGroupResetBJ(  )
    // -----------
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Voiceover_Drive_Them_Back_Q takes nothing returns nothing
    set gg_trg_Voiceover_Drive_Them_Back_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Voiceover_Drive_Them_Back_Q, Condition( function Trig_Voiceover_Drive_Them_Back_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Voiceover_Drive_Them_Back_Q, function Trig_Voiceover_Drive_Them_Back_Q_Actions )
endfunction

//===========================================================================
// Trigger: Voiceover Slay the Intruders
//===========================================================================
function Trig_Voiceover_Slay_the_Intruders_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Voiceover_Slay_the_Intruders_Q, true )
endfunction

//===========================================================================
function InitTrig_Voiceover_Slay_the_Intruders takes nothing returns nothing
    set gg_trg_Voiceover_Slay_the_Intruders = CreateTrigger(  )
    call TriggerRegisterUnitEvent( gg_trg_Voiceover_Slay_the_Intruders, gg_unit_nnwl_0083, EVENT_UNIT_ACQUIRED_TARGET )
    call TriggerAddAction( gg_trg_Voiceover_Slay_the_Intruders, function Trig_Voiceover_Slay_the_Intruders_Actions )
endfunction

//===========================================================================
// Trigger: Voiceover Slay the Intruders Q
//===========================================================================
function Trig_Voiceover_Slay_the_Intruders_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Slay_the_Intruders_Q_Func006C takes nothing returns boolean
    if ( not ( IsUnitAliveBJ(gg_unit_nnwl_0083) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Slay_the_Intruders_Q_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 1.50 )
    call SetCameraQuickPositionLocForPlayer( udg_AP1_Player, GetRectCenter(gg_rct_VoiceoverTraitor) )
    call SetSpeechVolumeGroupsBJ(  )
    if ( Trig_Voiceover_Slay_the_Intruders_Q_Func006C() ) then
        call TransmissionFromUnitWithNameBJ( GetPlayersAll(), gg_unit_nnwl_0083, "TRIGSTR_339", gg_snd_L07BNerubian17, "TRIGSTR_340", bj_TIMETYPE_ADD, 0, true )
        call WaitForSoundBJ( gg_snd_L07BNerubian17, 0 )
    else
    endif
    call VolumeGroupResetBJ(  )
    // -----------
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Voiceover_Slay_the_Intruders_Q takes nothing returns nothing
    set gg_trg_Voiceover_Slay_the_Intruders_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Voiceover_Slay_the_Intruders_Q, Condition( function Trig_Voiceover_Slay_the_Intruders_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Voiceover_Slay_the_Intruders_Q, function Trig_Voiceover_Slay_the_Intruders_Q_Actions )
endfunction

//===========================================================================
// Trigger: Voiceover Death to the Servants
//===========================================================================
function Trig_Voiceover_Death_to_the_Servants_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Voiceover_Death_to_the_Servants_Q, true )
endfunction

//===========================================================================
function InitTrig_Voiceover_Death_to_the_Servants takes nothing returns nothing
    set gg_trg_Voiceover_Death_to_the_Servants = CreateTrigger(  )
    call TriggerRegisterUnitEvent( gg_trg_Voiceover_Death_to_the_Servants, gg_unit_nnwq_0149, EVENT_UNIT_ACQUIRED_TARGET )
    call TriggerAddAction( gg_trg_Voiceover_Death_to_the_Servants, function Trig_Voiceover_Death_to_the_Servants_Actions )
endfunction

//===========================================================================
// Trigger: Voiceover Death to the Servants Q
//===========================================================================
function Trig_Voiceover_Death_to_the_Servants_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Death_to_the_Servants_Q_Func006C takes nothing returns boolean
    if ( not ( IsUnitAliveBJ(gg_unit_nnwq_0149) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Death_to_the_Servants_Q_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 1.50 )
    call SetCameraQuickPositionLocForPlayer( udg_AP1_Player, GetRectCenter(gg_rct_VoiceoverTraitor) )
    call SetSpeechVolumeGroupsBJ(  )
    if ( Trig_Voiceover_Death_to_the_Servants_Q_Func006C() ) then
        call TransmissionFromUnitWithNameBJ( GetPlayersAll(), gg_unit_nnwq_0149, "TRIGSTR_343", gg_snd_L07BNerubian19, "TRIGSTR_344", bj_TIMETYPE_ADD, 0, true )
        call WaitForSoundBJ( gg_snd_L07BNerubian19, 0 )
    else
    endif
    call VolumeGroupResetBJ(  )
    // -----------
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Voiceover_Death_to_the_Servants_Q takes nothing returns nothing
    set gg_trg_Voiceover_Death_to_the_Servants_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Voiceover_Death_to_the_Servants_Q, Condition( function Trig_Voiceover_Death_to_the_Servants_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Voiceover_Death_to_the_Servants_Q, function Trig_Voiceover_Death_to_the_Servants_Q_Actions )
endfunction

//===========================================================================
// Trigger: Voiceover Guardians
//===========================================================================
function Trig_Voiceover_Guardians_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Voiceover_Guardians_Q, true )
endfunction

//===========================================================================
function InitTrig_Voiceover_Guardians takes nothing returns nothing
    set gg_trg_Voiceover_Guardians = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Voiceover_Guardians, function Trig_Voiceover_Guardians_Actions )
endfunction

//===========================================================================
// Trigger: Voiceover Guardians Q
//===========================================================================
function Trig_Voiceover_Guardians_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Guardians_Q_Func006C takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Guardians_Q_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 1.50 )
    call SetCameraQuickPositionLocForPlayer( udg_AP1_Player, udg_PointBurrowTrap )
    call SetSpeechVolumeGroupsBJ(  )
    if ( Trig_Voiceover_Guardians_Q_Func006C() ) then
        call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Arthas, "TRIGSTR_237", gg_snd_L07BArthas07, "TRIGSTR_238", bj_TIMETYPE_ADD, 0, false )
        call WaitForSoundBJ( gg_snd_L07BArthas07, 0 )
    else
    endif
    call VolumeGroupResetBJ(  )
    // -----------
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Voiceover_Guardians_Q takes nothing returns nothing
    set gg_trg_Voiceover_Guardians_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Voiceover_Guardians_Q, Condition( function Trig_Voiceover_Guardians_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Voiceover_Guardians_Q, function Trig_Voiceover_Guardians_Q_Actions )
endfunction

//===========================================================================
// Trigger: Voiceover Hostile Eggs
//===========================================================================
function Trig_Voiceover_Hostile_Eggs_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Voiceover_Hostile_Eggs_Q, true )
endfunction

//===========================================================================
function InitTrig_Voiceover_Hostile_Eggs takes nothing returns nothing
    set gg_trg_Voiceover_Hostile_Eggs = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Voiceover_Hostile_Eggs, function Trig_Voiceover_Hostile_Eggs_Actions )
endfunction

//===========================================================================
// Trigger: Voiceover Hostile Eggs Q
//===========================================================================
function Trig_Voiceover_Hostile_Eggs_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Hostile_Eggs_Q_Func008C takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Hostile_Eggs_Q_Func009C takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Hostile_Eggs_Q_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 1.50 )
    call SetCameraQuickPositionLocForPlayer( udg_AP1_Player, GetRectCenter(gg_rct_EggAttackInitArea) )
    call SetSpeechVolumeGroupsBJ(  )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Anubarak, "TRIGSTR_345", gg_snd_L07BAnubarak29, "TRIGSTR_346", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_L07BAnubarak29, 0 )
    if ( Trig_Voiceover_Hostile_Eggs_Q_Func008C() ) then
        call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Arthas, "TRIGSTR_261", gg_snd_L07BArthas30, "TRIGSTR_262", bj_TIMETYPE_ADD, 0, false )
        call WaitForSoundBJ( gg_snd_L07BArthas30, 0 )
    else
    endif
    if ( Trig_Voiceover_Hostile_Eggs_Q_Func009C() ) then
        call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Anubarak, "TRIGSTR_269", gg_snd_L07BAnubarak31, "TRIGSTR_270", bj_TIMETYPE_ADD, 0, false )
        call WaitForSoundBJ( gg_snd_L07BAnubarak31, 0 )
    else
    endif
    call VolumeGroupResetBJ(  )
    // -----------
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Voiceover_Hostile_Eggs_Q takes nothing returns nothing
    set gg_trg_Voiceover_Hostile_Eggs_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Voiceover_Hostile_Eggs_Q, Condition( function Trig_Voiceover_Hostile_Eggs_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Voiceover_Hostile_Eggs_Q, function Trig_Voiceover_Hostile_Eggs_Q_Actions )
endfunction

//===========================================================================
// Trigger: Voiceover Faceless Ones 01
//===========================================================================
function Trig_Voiceover_Faceless_Ones_01_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'uloc' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Faceless_Ones_01_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Voiceover_Faceless_Ones_01_Q, true )
endfunction

//===========================================================================
function InitTrig_Voiceover_Faceless_Ones_01 takes nothing returns nothing
    set gg_trg_Voiceover_Faceless_Ones_01 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Voiceover_Faceless_Ones_01, gg_rct_Voiceover_Faceless_Ones )
    call TriggerAddCondition( gg_trg_Voiceover_Faceless_Ones_01, Condition( function Trig_Voiceover_Faceless_Ones_01_Conditions ) )
    call TriggerAddAction( gg_trg_Voiceover_Faceless_Ones_01, function Trig_Voiceover_Faceless_Ones_01_Actions )
endfunction

//===========================================================================
// Trigger: Voiceover Faceless Ones 01 Q
//===========================================================================
function Trig_Voiceover_Faceless_Ones_01_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Faceless_Ones_01_Q_Func008C takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Faceless_Ones_01_Q_Func009C takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Faceless_Ones_01_Q_Func010C takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Faceless_Ones_01_Q_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 1.50 )
    call SetCameraQuickPositionLocForPlayer( udg_AP1_Player, GetRectCenter(gg_rct_Voiceover_Faceless_Ones) )
    call SetSpeechVolumeGroupsBJ(  )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Arthas, "TRIGSTR_275", gg_snd_L07BArthas33, "TRIGSTR_276", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_L07BArthas33, 0 )
    if ( Trig_Voiceover_Faceless_Ones_01_Q_Func008C() ) then
        call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Anubarak, "TRIGSTR_285", gg_snd_L07BAnubarak34, "TRIGSTR_286", bj_TIMETYPE_ADD, 0, false )
        call WaitForSoundBJ( gg_snd_L07BAnubarak34, 0 )
    else
    endif
    if ( Trig_Voiceover_Faceless_Ones_01_Q_Func009C() ) then
        call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Arthas, "TRIGSTR_283", gg_snd_L07BArthas35, "TRIGSTR_284", bj_TIMETYPE_ADD, 0, false )
        call WaitForSoundBJ( gg_snd_L07BArthas35, 0 )
    else
    endif
    if ( Trig_Voiceover_Faceless_Ones_01_Q_Func010C() ) then
        call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Anubarak, "TRIGSTR_277", gg_snd_L07BAnubarak36, "TRIGSTR_278", bj_TIMETYPE_ADD, 0, false )
        call WaitForSoundBJ( gg_snd_L07BAnubarak36, 0 )
    else
    endif
    call VolumeGroupResetBJ(  )
    // -----------
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Voiceover_Faceless_Ones_01_Q takes nothing returns nothing
    set gg_trg_Voiceover_Faceless_Ones_01_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Voiceover_Faceless_Ones_01_Q, Condition( function Trig_Voiceover_Faceless_Ones_01_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Voiceover_Faceless_Ones_01_Q, function Trig_Voiceover_Faceless_Ones_01_Q_Actions )
endfunction

//===========================================================================
// Trigger: Voiceover Thats done it
//===========================================================================
function Trig_Voiceover_Thats_done_it_Conditions takes nothing returns boolean
    if ( not ( udg_TowerLeft == true ) ) then
        return false
    endif
    if ( not ( udg_TowerRight == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Thats_done_it_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Voiceover_Thats_done_it_Q, true )
endfunction

//===========================================================================
function InitTrig_Voiceover_Thats_done_it takes nothing returns nothing
    set gg_trg_Voiceover_Thats_done_it = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Voiceover_Thats_done_it, Condition( function Trig_Voiceover_Thats_done_it_Conditions ) )
    call TriggerAddAction( gg_trg_Voiceover_Thats_done_it, function Trig_Voiceover_Thats_done_it_Actions )
endfunction

//===========================================================================
// Trigger: Voiceover Thats done it Q
//===========================================================================
function Trig_Voiceover_Thats_done_it_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Thats_done_it_Q_Func006C takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Voiceover_Thats_done_it_Q_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 1.50 )
    call SetCameraQuickPositionLocForPlayer( udg_AP1_Player, GetRectCenter(gg_rct_TowerAreaInit) )
    call SetSpeechVolumeGroupsBJ(  )
    if ( Trig_Voiceover_Thats_done_it_Q_Func006C() ) then
        call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Arthas, "TRIGSTR_241", gg_snd_L07BArthas13, "TRIGSTR_242", bj_TIMETYPE_ADD, 0, false )
        call WaitForSoundBJ( gg_snd_L07BArthas13, 0 )
    else
    endif
    call VolumeGroupResetBJ(  )
    // -----------
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Voiceover_Thats_done_it_Q takes nothing returns nothing
    set gg_trg_Voiceover_Thats_done_it_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Voiceover_Thats_done_it_Q, Condition( function Trig_Voiceover_Thats_done_it_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Voiceover_Thats_done_it_Q, function Trig_Voiceover_Thats_done_it_Q_Actions )
endfunction

//===========================================================================
// Trigger: Coin Found
//===========================================================================
function Trig_Coin_Found_Conditions takes nothing returns boolean
    if ( not ( GetItemTypeId(GetManipulatedItem()) == 'gold' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Coin_Found_Func002001 takes nothing returns boolean
    return ( udg_GoldCoinsFound == 1 )
endfunction

function Trig_Coin_Found_Func003001 takes nothing returns boolean
    return ( udg_GoldCoinsFound == 2 )
endfunction

function Trig_Coin_Found_Func004001 takes nothing returns boolean
    return ( udg_GoldCoinsFound == 3 )
endfunction

function Trig_Coin_Found_Func005001 takes nothing returns boolean
    return ( udg_GoldCoinsFound == 4 )
endfunction

function Trig_Coin_Found_Func006001 takes nothing returns boolean
    return ( udg_GoldCoinsFound == 5 )
endfunction

function Trig_Coin_Found_Actions takes nothing returns nothing
    set udg_GoldCoinsFound = ( udg_GoldCoinsFound + 1 )
    if ( Trig_Coin_Found_Func002001() ) then
        call QueuedTriggerAddBJ( gg_trg_First_Coin_Found_Q, true )
    else
        call DoNothing(  )
    endif
    if ( Trig_Coin_Found_Func003001() ) then
        call QueuedTriggerAddBJ( gg_trg_Second_Coin_Found_Q, true )
    else
        call DoNothing(  )
    endif
    if ( Trig_Coin_Found_Func004001() ) then
        call QueuedTriggerAddBJ( gg_trg_Third_Coin_Found_Q, true )
    else
        call DoNothing(  )
    endif
    if ( Trig_Coin_Found_Func005001() ) then
        call QueuedTriggerAddBJ( gg_trg_Fourth_Coin_Found_Q, true )
    else
        call DoNothing(  )
    endif
    if ( Trig_Coin_Found_Func006001() ) then
        call QueuedTriggerAddBJ( gg_trg_Fifth_Coin_Found_Q, true )
    else
        call DoNothing(  )
    endif
endfunction

//===========================================================================
function InitTrig_Coin_Found takes nothing returns nothing
    set gg_trg_Coin_Found = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Coin_Found, Player(0), EVENT_PLAYER_UNIT_PICKUP_ITEM )
    call TriggerAddCondition( gg_trg_Coin_Found, Condition( function Trig_Coin_Found_Conditions ) )
    call TriggerAddAction( gg_trg_Coin_Found, function Trig_Coin_Found_Actions )
endfunction

//===========================================================================
// Trigger: First Coin Found Q
//===========================================================================
function Trig_First_Coin_Found_Q_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call SetSpeechVolumeGroupsBJ(  )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Arthas, "TRIGSTR_323", gg_snd_L07BArthas23, "TRIGSTR_324", bj_TIMETYPE_ADD, 0, true )
    call WaitForSoundBJ( gg_snd_L07BArthas23, 0 )
    call VolumeGroupResetBJ(  )
    // -----------
    call ConditionalTriggerExecute( gg_trg_Quest_Gold_Discover )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_First_Coin_Found_Q takes nothing returns nothing
    set gg_trg_First_Coin_Found_Q = CreateTrigger(  )
    call TriggerAddAction( gg_trg_First_Coin_Found_Q, function Trig_First_Coin_Found_Q_Actions )
endfunction

//===========================================================================
// Trigger: Second Coin Found Q
//===========================================================================
function Trig_Second_Coin_Found_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Second_Coin_Found_Q_Actions takes nothing returns nothing
    // Quest Update
    call ConditionalTriggerExecute( gg_trg_Gold_02_Found )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Second_Coin_Found_Q takes nothing returns nothing
    set gg_trg_Second_Coin_Found_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Second_Coin_Found_Q, Condition( function Trig_Second_Coin_Found_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Second_Coin_Found_Q, function Trig_Second_Coin_Found_Q_Actions )
endfunction

//===========================================================================
// Trigger: Third Coin Found Q
//===========================================================================
function Trig_Third_Coin_Found_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Third_Coin_Found_Q_Actions takes nothing returns nothing
    // Quest Update
    call ConditionalTriggerExecute( gg_trg_Gold_03_Found )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Third_Coin_Found_Q takes nothing returns nothing
    set gg_trg_Third_Coin_Found_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Third_Coin_Found_Q, Condition( function Trig_Third_Coin_Found_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Third_Coin_Found_Q, function Trig_Third_Coin_Found_Q_Actions )
endfunction

//===========================================================================
// Trigger: Fourth Coin Found Q
//===========================================================================
function Trig_Fourth_Coin_Found_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Fourth_Coin_Found_Q_Actions takes nothing returns nothing
    // Quest Update
    call ConditionalTriggerExecute( gg_trg_Gold_04_Found )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Fourth_Coin_Found_Q takes nothing returns nothing
    set gg_trg_Fourth_Coin_Found_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Fourth_Coin_Found_Q, Condition( function Trig_Fourth_Coin_Found_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Fourth_Coin_Found_Q, function Trig_Fourth_Coin_Found_Q_Actions )
endfunction

//===========================================================================
// Trigger: Fifth Coin Found Q
//===========================================================================
function Trig_Fifth_Coin_Found_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Fifth_Coin_Found_Q_Actions takes nothing returns nothing
    // Quest Update
    call ConditionalTriggerExecute( gg_trg_Quest_Gold_Completed )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Fifth_Coin_Found_Q takes nothing returns nothing
    set gg_trg_Fifth_Coin_Found_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Fifth_Coin_Found_Q, Condition( function Trig_Fifth_Coin_Found_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Fifth_Coin_Found_Q, function Trig_Fifth_Coin_Found_Q_Actions )
endfunction

//===========================================================================
// Trigger: Quest Exit Discover Q
//===========================================================================
function Trig_Quest_Exit_Discover_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Quest_Exit_Discover_Q_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Quest_Locate_the_Exit_Discover )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Quest_Exit_Discover_Q takes nothing returns nothing
    set gg_trg_Quest_Exit_Discover_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Quest_Exit_Discover_Q, Condition( function Trig_Quest_Exit_Discover_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Quest_Exit_Discover_Q, function Trig_Quest_Exit_Discover_Q_Actions )
endfunction

//===========================================================================
// Trigger: Quest Exit Completed Q
//===========================================================================
function Trig_Quest_Exit_Completed_Q_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Quest_Locate_the_Exit_Completed )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Quest_Exit_Completed_Q takes nothing returns nothing
    set gg_trg_Quest_Exit_Completed_Q = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Quest_Exit_Completed_Q, function Trig_Quest_Exit_Completed_Q_Actions )
endfunction

//===========================================================================
// Trigger: Quest Forgotten One Discover Q
//===========================================================================
function Trig_Quest_Forgotten_One_Discover_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Quest_Forgotten_One_Discover_Q_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Quest_Forgotten_One_Discover )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Quest_Forgotten_One_Discover_Q takes nothing returns nothing
    set gg_trg_Quest_Forgotten_One_Discover_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Quest_Forgotten_One_Discover_Q, Condition( function Trig_Quest_Forgotten_One_Discover_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Quest_Forgotten_One_Discover_Q, function Trig_Quest_Forgotten_One_Discover_Q_Actions )
endfunction

//===========================================================================
// Trigger: Quest Forgotten One Completed Q
//===========================================================================
function Trig_Quest_Forgotten_One_Completed_Q_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Quest_Forgotten_One_Completed )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Quest_Forgotten_One_Completed_Q takes nothing returns nothing
    set gg_trg_Quest_Forgotten_One_Completed_Q = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Quest_Forgotten_One_Completed_Q, function Trig_Quest_Forgotten_One_Completed_Q_Actions )
endfunction

//===========================================================================
// Trigger: Crypt Fiend Rescued
//===========================================================================
function Trig_Crypt_Fiend_Rescued_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Quest_Rescue_CryptFiend_Discover_Q, true )
endfunction

//===========================================================================
function InitTrig_Crypt_Fiend_Rescued takes nothing returns nothing
    set gg_trg_Crypt_Fiend_Rescued = CreateTrigger(  )
    call TriggerRegisterUnitEvent( gg_trg_Crypt_Fiend_Rescued, gg_unit_ucry_0076, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( gg_trg_Crypt_Fiend_Rescued, function Trig_Crypt_Fiend_Rescued_Actions )
endfunction

//===========================================================================
// Trigger: Quest Rescue CryptFiend Discover Q
//===========================================================================
function Trig_Quest_Rescue_CryptFiend_Discover_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Quest_Rescue_CryptFiend_Discover_Q_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call SetCameraQuickPositionLocForPlayer( udg_AP1_Player, GetRectCenter(gg_rct_Prisoner01) )
    call SetSpeechVolumeGroupsBJ(  )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), gg_unit_ucry_0076, "TRIGSTR_327", gg_snd_L07BCryptFiend22, "TRIGSTR_328", bj_TIMETYPE_ADD, 0, true )
    call WaitForSoundBJ( gg_snd_L07BCryptFiend22, 0 )
    call VolumeGroupResetBJ(  )
    // -----------
    call ConditionalTriggerExecute( gg_trg_Quest_Cryptfiend_Discover )
    call PolledWait( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Quest_Rescue_CryptFiend_Discover_Q takes nothing returns nothing
    set gg_trg_Quest_Rescue_CryptFiend_Discover_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Quest_Rescue_CryptFiend_Discover_Q, Condition( function Trig_Quest_Rescue_CryptFiend_Discover_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Quest_Rescue_CryptFiend_Discover_Q, function Trig_Quest_Rescue_CryptFiend_Discover_Q_Actions )
endfunction

//===========================================================================
// Trigger: Check for All Rescued
//===========================================================================
function Trig_Check_for_All_Rescued_Conditions takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAll(udg_AP2_Rescuables)) == 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Check_for_All_Rescued_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Quest_All_Cryptfiend_Rescued_Q, true )
endfunction

//===========================================================================
function InitTrig_Check_for_All_Rescued takes nothing returns nothing
    set gg_trg_Check_for_All_Rescued = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Check_for_All_Rescued, 1.00 )
    call TriggerAddCondition( gg_trg_Check_for_All_Rescued, Condition( function Trig_Check_for_All_Rescued_Conditions ) )
    call TriggerAddAction( gg_trg_Check_for_All_Rescued, function Trig_Check_for_All_Rescued_Actions )
endfunction

//===========================================================================
// Trigger: Quest All Cryptfiend Rescued Q
//===========================================================================
function Trig_Quest_All_Cryptfiend_Rescued_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Quest_All_Cryptfiend_Rescued_Q_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Quest_Cryptfiend_Completed )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Quest_All_Cryptfiend_Rescued_Q takes nothing returns nothing
    set gg_trg_Quest_All_Cryptfiend_Rescued_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Quest_All_Cryptfiend_Rescued_Q, Condition( function Trig_Quest_All_Cryptfiend_Rescued_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Quest_All_Cryptfiend_Rescued_Q, function Trig_Quest_All_Cryptfiend_Rescued_Q_Actions )
endfunction

//===========================================================================
// Trigger: RevealerStartTown02
//===========================================================================
function Trig_RevealerStartTown02_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == Player(0) ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'uloc' ) ) then
        return false
    endif
    return true
endfunction

function Trig_RevealerStartTown02_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CreateFogModifierRectBJ( true, udg_AP1_Player, FOG_OF_WAR_VISIBLE, gg_rct_TowerVisibility )
    set udg_VisibilityTower = GetLastCreatedFogModifier()
endfunction

//===========================================================================
function InitTrig_RevealerStartTown02 takes nothing returns nothing
    set gg_trg_RevealerStartTown02 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_RevealerStartTown02, gg_rct_TowerVisibility )
    call TriggerAddCondition( gg_trg_RevealerStartTown02, Condition( function Trig_RevealerStartTown02_Conditions ) )
    call TriggerAddAction( gg_trg_RevealerStartTown02, function Trig_RevealerStartTown02_Actions )
endfunction

//===========================================================================
// Trigger: RevealerGroupAddTower
//===========================================================================
function Trig_RevealerGroupAddTower_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == Player(0) ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'uloc' ) ) then
        return false
    endif
    return true
endfunction

function Trig_RevealerGroupAddTower_Actions takes nothing returns nothing
    call GroupAddUnitSimple( GetEnteringUnit(), udg_TowerRevealerGroup )
    call ConditionalTriggerExecute( gg_trg_RevealerCheckTower )
endfunction

//===========================================================================
function InitTrig_RevealerGroupAddTower takes nothing returns nothing
    set gg_trg_RevealerGroupAddTower = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_RevealerGroupAddTower, gg_rct_TowerVisibility )
    call TriggerAddCondition( gg_trg_RevealerGroupAddTower, Condition( function Trig_RevealerGroupAddTower_Conditions ) )
    call TriggerAddAction( gg_trg_RevealerGroupAddTower, function Trig_RevealerGroupAddTower_Actions )
endfunction

//===========================================================================
// Trigger: RevealerGroupSubtractTower
//===========================================================================
function Trig_RevealerGroupSubtractTower_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetLeavingUnit()) == Player(0) ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'uloc' ) ) then
        return false
    endif
    return true
endfunction

function Trig_RevealerGroupSubtractTower_Actions takes nothing returns nothing
    call GroupRemoveUnitSimple( GetLeavingUnit(), udg_TowerRevealerGroup )
    call ConditionalTriggerExecute( gg_trg_RevealerCheckTower )
endfunction

//===========================================================================
function InitTrig_RevealerGroupSubtractTower takes nothing returns nothing
    set gg_trg_RevealerGroupSubtractTower = CreateTrigger(  )
    call TriggerRegisterLeaveRectSimple( gg_trg_RevealerGroupSubtractTower, gg_rct_TowerVisibility )
    call TriggerAddCondition( gg_trg_RevealerGroupSubtractTower, Condition( function Trig_RevealerGroupSubtractTower_Conditions ) )
    call TriggerAddAction( gg_trg_RevealerGroupSubtractTower, function Trig_RevealerGroupSubtractTower_Actions )
endfunction

//===========================================================================
// Trigger: RevealerCheckTower
//===========================================================================
function Trig_RevealerCheckTower_Func001001 takes nothing returns boolean
    return ( CountUnitsInGroup(udg_TowerRevealerGroup) >= 1 )
endfunction

function Trig_RevealerCheckTower_Actions takes nothing returns nothing
    if ( Trig_RevealerCheckTower_Func001001() ) then
        call FogModifierStart( udg_VisibilityTower )
    else
        call FogModifierStop( udg_VisibilityTower )
    endif
endfunction

//===========================================================================
function InitTrig_RevealerCheckTower takes nothing returns nothing
    set gg_trg_RevealerCheckTower = CreateTrigger(  )
    call TriggerAddAction( gg_trg_RevealerCheckTower, function Trig_RevealerCheckTower_Actions )
endfunction

//===========================================================================
// Trigger: RevealerTowerSafety
//===========================================================================
function Trig_RevealerTowerSafety_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetDyingUnit(), udg_TowerRevealerGroup) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_RevealerTowerSafety_Actions takes nothing returns nothing
    call GroupRemoveUnitSimple( GetDyingUnit(), udg_TowerRevealerGroup )
    call ConditionalTriggerExecute( gg_trg_RevealerCheckTower )
endfunction

//===========================================================================
function InitTrig_RevealerTowerSafety takes nothing returns nothing
    set gg_trg_RevealerTowerSafety = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_RevealerTowerSafety, Player(0), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_RevealerTowerSafety, Condition( function Trig_RevealerTowerSafety_Conditions ) )
    call TriggerAddAction( gg_trg_RevealerTowerSafety, function Trig_RevealerTowerSafety_Actions )
endfunction

//===========================================================================
// Trigger: RevealerBoss
//===========================================================================
function Trig_RevealerBoss_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == Player(0) ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'uloc' ) ) then
        return false
    endif
    return true
endfunction

function Trig_RevealerBoss_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CreateFogModifierRectBJ( true, udg_AP1_Player, FOG_OF_WAR_VISIBLE, gg_rct_VisibilityBoss )
    set udg_VisibilityBoss = GetLastCreatedFogModifier()
endfunction

//===========================================================================
function InitTrig_RevealerBoss takes nothing returns nothing
    set gg_trg_RevealerBoss = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_RevealerBoss, gg_rct_VisibilityBoss )
    call TriggerAddCondition( gg_trg_RevealerBoss, Condition( function Trig_RevealerBoss_Conditions ) )
    call TriggerAddAction( gg_trg_RevealerBoss, function Trig_RevealerBoss_Actions )
endfunction

//===========================================================================
// Trigger: RevealerGroupAddBoss
//===========================================================================
function Trig_RevealerGroupAddBoss_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == Player(0) ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'uloc' ) ) then
        return false
    endif
    return true
endfunction

function Trig_RevealerGroupAddBoss_Actions takes nothing returns nothing
    call GroupAddUnitSimple( GetEnteringUnit(), udg_BossRevealerGroup )
    call ConditionalTriggerExecute( gg_trg_RevealerCheckBoss )
endfunction

//===========================================================================
function InitTrig_RevealerGroupAddBoss takes nothing returns nothing
    set gg_trg_RevealerGroupAddBoss = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_RevealerGroupAddBoss, gg_rct_VisibilityBoss )
    call TriggerAddCondition( gg_trg_RevealerGroupAddBoss, Condition( function Trig_RevealerGroupAddBoss_Conditions ) )
    call TriggerAddAction( gg_trg_RevealerGroupAddBoss, function Trig_RevealerGroupAddBoss_Actions )
endfunction

//===========================================================================
// Trigger: RevealerGroupSubtractBoss
//===========================================================================
function Trig_RevealerGroupSubtractBoss_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetLeavingUnit()) == Player(0) ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'uloc' ) ) then
        return false
    endif
    return true
endfunction

function Trig_RevealerGroupSubtractBoss_Actions takes nothing returns nothing
    call GroupRemoveUnitSimple( GetLeavingUnit(), udg_BossRevealerGroup )
    call ConditionalTriggerExecute( gg_trg_RevealerCheckBoss )
endfunction

//===========================================================================
function InitTrig_RevealerGroupSubtractBoss takes nothing returns nothing
    set gg_trg_RevealerGroupSubtractBoss = CreateTrigger(  )
    call TriggerRegisterLeaveRectSimple( gg_trg_RevealerGroupSubtractBoss, gg_rct_VisibilityBoss )
    call TriggerAddCondition( gg_trg_RevealerGroupSubtractBoss, Condition( function Trig_RevealerGroupSubtractBoss_Conditions ) )
    call TriggerAddAction( gg_trg_RevealerGroupSubtractBoss, function Trig_RevealerGroupSubtractBoss_Actions )
endfunction

//===========================================================================
// Trigger: RevealerCheckBoss
//===========================================================================
function Trig_RevealerCheckBoss_Func001001 takes nothing returns boolean
    return ( CountUnitsInGroup(udg_BossRevealerGroup) >= 1 )
endfunction

function Trig_RevealerCheckBoss_Actions takes nothing returns nothing
    if ( Trig_RevealerCheckBoss_Func001001() ) then
        call FogModifierStart( udg_VisibilityBoss )
    else
        call FogModifierStop( udg_VisibilityBoss )
    endif
endfunction

//===========================================================================
function InitTrig_RevealerCheckBoss takes nothing returns nothing
    set gg_trg_RevealerCheckBoss = CreateTrigger(  )
    call TriggerAddAction( gg_trg_RevealerCheckBoss, function Trig_RevealerCheckBoss_Actions )
endfunction

//===========================================================================
// Trigger: RevealerBossSafety
//===========================================================================
function Trig_RevealerBossSafety_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetDyingUnit(), udg_BossRevealerGroup) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_RevealerBossSafety_Actions takes nothing returns nothing
    call GroupRemoveUnitSimple( GetDyingUnit(), udg_BossRevealerGroup )
    call ConditionalTriggerExecute( gg_trg_RevealerCheckBoss )
endfunction

//===========================================================================
function InitTrig_RevealerBossSafety takes nothing returns nothing
    set gg_trg_RevealerBossSafety = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_RevealerBossSafety, Player(0), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_RevealerBossSafety, Condition( function Trig_RevealerBossSafety_Conditions ) )
    call TriggerAddAction( gg_trg_RevealerBossSafety, function Trig_RevealerBossSafety_Actions )
endfunction

//===========================================================================
// Trigger: RevealerEggs
//===========================================================================
function Trig_RevealerEggs_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == Player(0) ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'uloc' ) ) then
        return false
    endif
    return true
endfunction

function Trig_RevealerEggs_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call EnableTrigger( gg_trg_Door01 )
    call EnableTrigger( gg_trg_Door02 )
    call EnableTrigger( gg_trg_Door03 )
    call EnableTrigger( gg_trg_Door04 )
    call CreateFogModifierRectBJ( true, udg_AP1_Player, FOG_OF_WAR_VISIBLE, gg_rct_VisibilityEggs )
    set udg_VisibilityEggsMain = GetLastCreatedFogModifier()
    call CreateFogModifierRectBJ( true, udg_AP1_Player, FOG_OF_WAR_VISIBLE, gg_rct_VisibilityEggs01 )
    set udg_VisibilityEggs01 = GetLastCreatedFogModifier()
    call CreateFogModifierRectBJ( true, udg_AP1_Player, FOG_OF_WAR_VISIBLE, gg_rct_VisibilityEggs02 )
    set udg_VisibilityEggs02 = GetLastCreatedFogModifier()
    call CreateFogModifierRectBJ( true, udg_AP1_Player, FOG_OF_WAR_VISIBLE, gg_rct_VisibilityEggs03 )
    set udg_VisibilityEggs03 = GetLastCreatedFogModifier()
    call CreateFogModifierRectBJ( true, udg_AP1_Player, FOG_OF_WAR_VISIBLE, gg_rct_VisibilityEggs04 )
    set udg_VisibilityEggs04 = GetLastCreatedFogModifier()
endfunction

//===========================================================================
function InitTrig_RevealerEggs takes nothing returns nothing
    set gg_trg_RevealerEggs = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_RevealerEggs, gg_rct_VisibilityEggs )
    call TriggerAddCondition( gg_trg_RevealerEggs, Condition( function Trig_RevealerEggs_Conditions ) )
    call TriggerAddAction( gg_trg_RevealerEggs, function Trig_RevealerEggs_Actions )
endfunction

//===========================================================================
// Trigger: RevealerGroupAddEggs
//===========================================================================
function Trig_RevealerGroupAddEggs_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == Player(0) ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'uloc' ) ) then
        return false
    endif
    return true
endfunction

function Trig_RevealerGroupAddEggs_Actions takes nothing returns nothing
    call GroupAddUnitSimple( GetEnteringUnit(), udg_EggsRevealerGroup )
    call ConditionalTriggerExecute( gg_trg_RevealerCheckEggs )
endfunction

//===========================================================================
function InitTrig_RevealerGroupAddEggs takes nothing returns nothing
    set gg_trg_RevealerGroupAddEggs = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_RevealerGroupAddEggs, gg_rct_VisibilityEggs )
    call TriggerAddCondition( gg_trg_RevealerGroupAddEggs, Condition( function Trig_RevealerGroupAddEggs_Conditions ) )
    call TriggerAddAction( gg_trg_RevealerGroupAddEggs, function Trig_RevealerGroupAddEggs_Actions )
endfunction

//===========================================================================
// Trigger: RevealerGroupSubtractEggs
//===========================================================================
function Trig_RevealerGroupSubtractEggs_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetLeavingUnit()) == Player(0) ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'uloc' ) ) then
        return false
    endif
    return true
endfunction

function Trig_RevealerGroupSubtractEggs_Actions takes nothing returns nothing
    call GroupRemoveUnitSimple( GetLeavingUnit(), udg_EggsRevealerGroup )
    call ConditionalTriggerExecute( gg_trg_RevealerCheckEggs )
endfunction

//===========================================================================
function InitTrig_RevealerGroupSubtractEggs takes nothing returns nothing
    set gg_trg_RevealerGroupSubtractEggs = CreateTrigger(  )
    call TriggerRegisterLeaveRectSimple( gg_trg_RevealerGroupSubtractEggs, gg_rct_VisibilityEggs )
    call TriggerAddCondition( gg_trg_RevealerGroupSubtractEggs, Condition( function Trig_RevealerGroupSubtractEggs_Conditions ) )
    call TriggerAddAction( gg_trg_RevealerGroupSubtractEggs, function Trig_RevealerGroupSubtractEggs_Actions )
endfunction

//===========================================================================
// Trigger: RevealerCheckEggs
//===========================================================================
function Trig_RevealerCheckEggs_Func001Func015001 takes nothing returns boolean
    return ( udg_Eggs01Done == false )
endfunction

function Trig_RevealerCheckEggs_Func001Func016001 takes nothing returns boolean
    return ( udg_Eggs02Done == false )
endfunction

function Trig_RevealerCheckEggs_Func001Func017001 takes nothing returns boolean
    return ( udg_Eggs03Done == false )
endfunction

function Trig_RevealerCheckEggs_Func001Func018001 takes nothing returns boolean
    return ( udg_Eggs04Done == false )
endfunction

function Trig_RevealerCheckEggs_Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(udg_EggsRevealerGroup) >= 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_RevealerCheckEggs_Actions takes nothing returns nothing
    if ( Trig_RevealerCheckEggs_Func001C() ) then
        call EnableTrigger( gg_trg_Door01 )
        call EnableTrigger( gg_trg_Door02 )
        call EnableTrigger( gg_trg_Door03 )
        call EnableTrigger( gg_trg_Door04 )
        call FogModifierStart( udg_VisibilityEggsMain )
        if ( Trig_RevealerCheckEggs_Func001Func015001() ) then
            call FogModifierStart( udg_VisibilityEggs01 )
        else
            call DoNothing(  )
        endif
        if ( Trig_RevealerCheckEggs_Func001Func016001() ) then
            call FogModifierStart( udg_VisibilityEggs02 )
        else
            call DoNothing(  )
        endif
        if ( Trig_RevealerCheckEggs_Func001Func017001() ) then
            call FogModifierStart( udg_VisibilityEggs03 )
        else
            call DoNothing(  )
        endif
        if ( Trig_RevealerCheckEggs_Func001Func018001() ) then
            call FogModifierStart( udg_VisibilityEggs04 )
        else
            call DoNothing(  )
        endif
    else
        call DisableTrigger( gg_trg_Door01 )
        call DisableTrigger( gg_trg_Door02 )
        call DisableTrigger( gg_trg_Door03 )
        call DisableTrigger( gg_trg_Door04 )
        call FogModifierStop( udg_VisibilityEggsMain )
        call FogModifierStop( udg_VisibilityEggs01 )
        call FogModifierStop( udg_VisibilityEggs02 )
        call FogModifierStop( udg_VisibilityEggs03 )
        call FogModifierStop( udg_VisibilityEggs04 )
    endif
endfunction

//===========================================================================
function InitTrig_RevealerCheckEggs takes nothing returns nothing
    set gg_trg_RevealerCheckEggs = CreateTrigger(  )
    call TriggerAddAction( gg_trg_RevealerCheckEggs, function Trig_RevealerCheckEggs_Actions )
endfunction

//===========================================================================
// Trigger: RevealerSafetyEggs
//===========================================================================
function Trig_RevealerSafetyEggs_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetDyingUnit(), udg_EggsRevealerGroup) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_RevealerSafetyEggs_Actions takes nothing returns nothing
    call GroupRemoveUnitSimple( GetDyingUnit(), udg_EggsRevealerGroup )
    call ConditionalTriggerExecute( gg_trg_RevealerCheckEggs )
endfunction

//===========================================================================
function InitTrig_RevealerSafetyEggs takes nothing returns nothing
    set gg_trg_RevealerSafetyEggs = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_RevealerSafetyEggs, Player(0), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_RevealerSafetyEggs, Condition( function Trig_RevealerSafetyEggs_Conditions ) )
    call TriggerAddAction( gg_trg_RevealerSafetyEggs, function Trig_RevealerSafetyEggs_Actions )
endfunction

//===========================================================================
// Trigger: Door01
//===========================================================================
function Trig_Door01_Func001Func001C takes nothing returns boolean
    if ( not ( IsDestructableAliveBJ(gg_dest_ZTd3_0222) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Door01_Func001C takes nothing returns boolean
    if ( not ( IsDestructableDeadBJ(gg_dest_ZTd3_0222) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Door01_Actions takes nothing returns nothing
    if ( Trig_Door01_Func001C() ) then
        call KillDestructable( gg_dest_Ytlc_0550 )
        call KillDestructable( gg_dest_Ytlc_0551 )
        call KillDestructable( gg_dest_Ytlc_0552 )
        call KillDestructable( gg_dest_Ytlc_0555 )
        call KillDestructable( gg_dest_Ytlc_0553 )
        call KillDestructable( gg_dest_Ytlc_0554 )
    else
        if ( Trig_Door01_Func001Func001C() ) then
            call DestructableRestoreLife( gg_dest_Ytlc_0550, GetDestructableMaxLife(GetLastCreatedDestructable()), false )
            call DestructableRestoreLife( gg_dest_Ytlc_0551, GetDestructableMaxLife(GetLastCreatedDestructable()), false )
            call DestructableRestoreLife( gg_dest_Ytlc_0552, GetDestructableMaxLife(GetLastCreatedDestructable()), false )
            call DestructableRestoreLife( gg_dest_Ytlc_0555, GetDestructableMaxLife(GetLastCreatedDestructable()), false )
            call DestructableRestoreLife( gg_dest_Ytlc_0553, GetDestructableMaxLife(GetLastCreatedDestructable()), false )
            call DestructableRestoreLife( gg_dest_Ytlc_0554, GetDestructableMaxLife(GetLastCreatedDestructable()), false )
        else
        endif
    endif
endfunction

//===========================================================================
function InitTrig_Door01 takes nothing returns nothing
    set gg_trg_Door01 = CreateTrigger(  )
    call DisableTrigger( gg_trg_Door01 )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Door01, 0.50 )
    call TriggerAddAction( gg_trg_Door01, function Trig_Door01_Actions )
endfunction

//===========================================================================
// Trigger: Door02
//===========================================================================
function Trig_Door02_Func001Func001C takes nothing returns boolean
    if ( not ( IsDestructableAliveBJ(gg_dest_ZTd3_0221) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Door02_Func001C takes nothing returns boolean
    if ( not ( IsDestructableDeadBJ(gg_dest_ZTd3_0221) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Door02_Actions takes nothing returns nothing
    if ( Trig_Door02_Func001C() ) then
        call KillDestructable( gg_dest_Ytlc_0556 )
        call KillDestructable( gg_dest_Ytlc_0557 )
        call KillDestructable( gg_dest_Ytlc_0558 )
        call KillDestructable( gg_dest_Ytlc_0561 )
        call KillDestructable( gg_dest_Ytlc_0559 )
        call KillDestructable( gg_dest_Ytlc_0560 )
    else
        if ( Trig_Door02_Func001Func001C() ) then
            call DestructableRestoreLife( gg_dest_Ytlc_0556, GetDestructableMaxLife(GetLastCreatedDestructable()), false )
            call DestructableRestoreLife( gg_dest_Ytlc_0557, GetDestructableMaxLife(GetLastCreatedDestructable()), false )
            call DestructableRestoreLife( gg_dest_Ytlc_0558, GetDestructableMaxLife(GetLastCreatedDestructable()), false )
            call DestructableRestoreLife( gg_dest_Ytlc_0561, GetDestructableMaxLife(GetLastCreatedDestructable()), false )
            call DestructableRestoreLife( gg_dest_Ytlc_0559, GetDestructableMaxLife(GetLastCreatedDestructable()), false )
            call DestructableRestoreLife( gg_dest_Ytlc_0560, GetDestructableMaxLife(GetLastCreatedDestructable()), false )
        else
        endif
    endif
endfunction

//===========================================================================
function InitTrig_Door02 takes nothing returns nothing
    set gg_trg_Door02 = CreateTrigger(  )
    call DisableTrigger( gg_trg_Door02 )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Door02, 0.50 )
    call TriggerAddAction( gg_trg_Door02, function Trig_Door02_Actions )
endfunction

//===========================================================================
// Trigger: Door03
//===========================================================================
function Trig_Door03_Func001Func001C takes nothing returns boolean
    if ( not ( IsDestructableAliveBJ(gg_dest_ZTd3_0225) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Door03_Func001C takes nothing returns boolean
    if ( not ( IsDestructableDeadBJ(gg_dest_ZTd3_0225) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Door03_Actions takes nothing returns nothing
    if ( Trig_Door03_Func001C() ) then
        call KillDestructable( gg_dest_Ytlc_0562 )
        call KillDestructable( gg_dest_Ytlc_0563 )
        call KillDestructable( gg_dest_Ytlc_0564 )
        call KillDestructable( gg_dest_Ytlc_0567 )
        call KillDestructable( gg_dest_Ytlc_0565 )
        call KillDestructable( gg_dest_Ytlc_0566 )
    else
        if ( Trig_Door03_Func001Func001C() ) then
            call DestructableRestoreLife( gg_dest_Ytlc_0562, GetDestructableMaxLife(GetLastCreatedDestructable()), false )
            call DestructableRestoreLife( gg_dest_Ytlc_0563, GetDestructableMaxLife(GetLastCreatedDestructable()), false )
            call DestructableRestoreLife( gg_dest_Ytlc_0564, GetDestructableMaxLife(GetLastCreatedDestructable()), false )
            call DestructableRestoreLife( gg_dest_Ytlc_0567, GetDestructableMaxLife(GetLastCreatedDestructable()), false )
            call DestructableRestoreLife( gg_dest_Ytlc_0565, GetDestructableMaxLife(GetLastCreatedDestructable()), false )
            call DestructableRestoreLife( gg_dest_Ytlc_0566, GetDestructableMaxLife(GetLastCreatedDestructable()), false )
        else
        endif
    endif
endfunction

//===========================================================================
function InitTrig_Door03 takes nothing returns nothing
    set gg_trg_Door03 = CreateTrigger(  )
    call DisableTrigger( gg_trg_Door03 )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Door03, 0.50 )
    call TriggerAddAction( gg_trg_Door03, function Trig_Door03_Actions )
endfunction

//===========================================================================
// Trigger: Door04
//===========================================================================
function Trig_Door04_Func001Func001C takes nothing returns boolean
    if ( not ( IsDestructableAliveBJ(gg_dest_ZTd3_0223) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Door04_Func001C takes nothing returns boolean
    if ( not ( IsDestructableDeadBJ(gg_dest_ZTd3_0223) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Door04_Actions takes nothing returns nothing
    if ( Trig_Door04_Func001C() ) then
        call KillDestructable( gg_dest_Ytlc_0568 )
        call KillDestructable( gg_dest_Ytlc_0569 )
        call KillDestructable( gg_dest_Ytlc_0570 )
        call KillDestructable( gg_dest_Ytlc_0573 )
        call KillDestructable( gg_dest_Ytlc_0571 )
        call KillDestructable( gg_dest_Ytlc_0572 )
    else
        if ( Trig_Door04_Func001Func001C() ) then
            call DestructableRestoreLife( gg_dest_Ytlc_0568, GetDestructableMaxLife(GetLastCreatedDestructable()), false )
            call DestructableRestoreLife( gg_dest_Ytlc_0569, GetDestructableMaxLife(GetLastCreatedDestructable()), false )
            call DestructableRestoreLife( gg_dest_Ytlc_0570, GetDestructableMaxLife(GetLastCreatedDestructable()), false )
            call DestructableRestoreLife( gg_dest_Ytlc_0573, GetDestructableMaxLife(GetLastCreatedDestructable()), false )
            call DestructableRestoreLife( gg_dest_Ytlc_0571, GetDestructableMaxLife(GetLastCreatedDestructable()), false )
            call DestructableRestoreLife( gg_dest_Ytlc_0572, GetDestructableMaxLife(GetLastCreatedDestructable()), false )
        else
        endif
    endif
endfunction

//===========================================================================
function InitTrig_Door04 takes nothing returns nothing
    set gg_trg_Door04 = CreateTrigger(  )
    call DisableTrigger( gg_trg_Door04 )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Door04, 0.50 )
    call TriggerAddAction( gg_trg_Door04, function Trig_Door04_Actions )
endfunction

//===========================================================================
// Trigger: Lower Crab Elevator
//===========================================================================
function Trig_Lower_Crab_Elevator_Actions takes nothing returns nothing
    call PlaySoundAtPointBJ( udg_ElevatorsSound, 100, GetDestructableLoc(gg_dest_DTrf_0173), 0 )
    // Elevators
    call ChangeElevatorHeight( gg_dest_DTrf_0103, 1 )
    call ChangeElevatorHeight( gg_dest_DTrf_0172, 1 )
    call ChangeElevatorHeight( gg_dest_DTrf_0186, 1 )
    call ChangeElevatorHeight( gg_dest_DTrf_0210, 1 )
    call ChangeElevatorHeight( gg_dest_DTrf_0173, 1 )
    call ChangeElevatorHeight( gg_dest_DTrf_0170, 1 )
    call ChangeElevatorHeight( gg_dest_DTrf_0211, 1 )
    call ChangeElevatorHeight( gg_dest_DTrf_0310, 1 )
    call ChangeElevatorHeight( gg_dest_DTrf_0212, 1 )
    // Elevator Walls
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_WEST, gg_dest_DTrf_0103 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_WEST, gg_dest_DTrf_0172 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_WEST, gg_dest_DTrf_0186 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_NORTH, gg_dest_DTrf_0186 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_NORTH, gg_dest_DTrf_0210 )
    call ChangeElevatorWalls( true, bj_ELEVATOR_WALL_TYPE_NORTH, gg_dest_DTrf_0212 )
endfunction

//===========================================================================
function InitTrig_Lower_Crab_Elevator takes nothing returns nothing
    set gg_trg_Lower_Crab_Elevator = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Lower_Crab_Elevator, function Trig_Lower_Crab_Elevator_Actions )
endfunction

//===========================================================================
// Trigger: Rock Breaks on Left
//===========================================================================
function Trig_Rock_Breaks_on_Left_Conditions takes nothing returns boolean
    if ( not ( GetDestructableTypeId(GetDyingDestructable()) == 'DTrc' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Rock_Breaks_on_Left_Func002Func001C takes nothing returns boolean
    if ( not ( GetDestructableTypeId(GetEnumDestructable()) == 'DTrc' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Rock_Breaks_on_Left_Func002A takes nothing returns nothing
    if ( Trig_Rock_Breaks_on_Left_Func002Func001C() ) then
        call KillDestructable( GetEnumDestructable() )
    else
    endif
endfunction

function Trig_Rock_Breaks_on_Left_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call EnumDestructablesInRectAll( gg_rct_TowerLeftLeverRocks, function Trig_Rock_Breaks_on_Left_Func002A )
endfunction

//===========================================================================
function InitTrig_Rock_Breaks_on_Left takes nothing returns nothing
    set gg_trg_Rock_Breaks_on_Left = CreateTrigger(  )
    call TriggerRegisterDestDeathInRegionEvent( gg_trg_Rock_Breaks_on_Left, gg_rct_TowerLeftLeverRocks )
    call TriggerAddCondition( gg_trg_Rock_Breaks_on_Left, Condition( function Trig_Rock_Breaks_on_Left_Conditions ) )
    call TriggerAddAction( gg_trg_Rock_Breaks_on_Left, function Trig_Rock_Breaks_on_Left_Actions )
endfunction

//===========================================================================
// Trigger: Tower Lever Left
//===========================================================================
function Trig_Tower_Lever_Left_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call ModifyGateBJ( bj_GATEOPERATION_OPEN, gg_dest_ZTd2_0107 )
    call PlaySoundAtPointBJ( udg_GatesRollingSound, 100, GetDestructableLoc(gg_dest_ZTd2_0107), 0 )
    call TriggerSleepAction( 2 )
    call ConditionalTriggerExecute( gg_trg_Flood_Left )
    call SetDoodadAnimationRectBJ( "stand upgrade", 'IZrw', gg_rct_FloodLeft )
    set udg_TowerLeft = true
    call ConditionalTriggerExecute( gg_trg_Voiceover_Thats_done_it )
endfunction

//===========================================================================
function InitTrig_Tower_Lever_Left takes nothing returns nothing
    set gg_trg_Tower_Lever_Left = CreateTrigger(  )
    call TriggerRegisterDeathEvent( gg_trg_Tower_Lever_Left, gg_dest_DTlv_0108 )
    call TriggerAddAction( gg_trg_Tower_Lever_Left, function Trig_Tower_Lever_Left_Actions )
endfunction

//===========================================================================
// Trigger: Tower Lever Right
//===========================================================================
function Trig_Tower_Lever_Right_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call ModifyGateBJ( bj_GATEOPERATION_OPEN, gg_dest_ZTd2_0001 )
    call PlaySoundAtPointBJ( udg_GatesRollingSound, 100, GetDestructableLoc(gg_dest_ZTd2_0001), 0 )
    call TriggerSleepAction( 2 )
    call ConditionalTriggerExecute( gg_trg_Flood_Right )
    call SetDoodadAnimationRectBJ( "stand", 'IZrw', gg_rct_FloodRight )
    set udg_TowerRight = true
    call ConditionalTriggerExecute( gg_trg_Voiceover_Thats_done_it )
endfunction

//===========================================================================
function InitTrig_Tower_Lever_Right takes nothing returns nothing
    set gg_trg_Tower_Lever_Right = CreateTrigger(  )
    call TriggerRegisterDeathEvent( gg_trg_Tower_Lever_Right, gg_dest_DTlv_0109 )
    call TriggerAddAction( gg_trg_Tower_Lever_Right, function Trig_Tower_Lever_Right_Actions )
endfunction

//===========================================================================
// Trigger: Flood Left
//===========================================================================
function Trig_Flood_Left_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call PlaySoundAtPointBJ( gg_snd_WaterLakeLoop1, 100, GetRectCenter(gg_rct_FloodWaterSound1), 0 )
    call TriggerSleepAction( 1.50 )
    call KillUnit( gg_unit_u000_0042 )
    call TriggerSleepAction( 1.50 )
    call KillUnit( gg_unit_u000_0044 )
    call KillUnit( gg_unit_u000_0041 )
    call TriggerSleepAction( 0.50 )
    call KillUnit( gg_unit_u000_0047 )
    call KillUnit( gg_unit_u000_0024 )
endfunction

//===========================================================================
function InitTrig_Flood_Left takes nothing returns nothing
    set gg_trg_Flood_Left = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Flood_Left, function Trig_Flood_Left_Actions )
endfunction

//===========================================================================
// Trigger: Flood Right
//===========================================================================
function Trig_Flood_Right_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call PlaySoundAtPointBJ( gg_snd_WaterLakeLoop1, 100, GetRectCenter(gg_rct_FloodWaterSound2), 0 )
    call TriggerSleepAction( 0.50 )
    call KillUnit( gg_unit_u000_0028 )
    call TriggerSleepAction( 1.25 )
    call KillUnit( gg_unit_u000_0027 )
    call KillUnit( gg_unit_u000_0038 )
    call TriggerSleepAction( 0.50 )
    call KillUnit( gg_unit_u000_0045 )
    call KillUnit( gg_unit_u000_0025 )
endfunction

//===========================================================================
function InitTrig_Flood_Right takes nothing returns nothing
    set gg_trg_Flood_Right = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Flood_Right, function Trig_Flood_Right_Actions )
endfunction

//===========================================================================
// Trigger: Crab Wander
//===========================================================================
function Trig_Crab_Wander_Func001Func002C takes nothing returns boolean
    if ( not ( udg_RandomNumber <= 0.15 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Crab_Wander_Func001A takes nothing returns nothing
    set udg_RandomNumber = GetRandomReal(0, 1)
    if ( Trig_Crab_Wander_Func001Func002C() ) then
        set udg_RandomCrabPoint = GetRandomLocInRect(gg_rct_CrabArea)
        call IssuePointOrderLocBJ( GetEnumUnit(), "move", udg_RandomCrabPoint )
        call RemoveLocation( udg_RandomCrabPoint )
    else
    endif
endfunction

function Trig_Crab_Wander_Actions takes nothing returns nothing
    call ForGroupBJ( udg_CrabGroup, function Trig_Crab_Wander_Func001A )
endfunction

//===========================================================================
function InitTrig_Crab_Wander takes nothing returns nothing
    set gg_trg_Crab_Wander = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Crab_Wander, 3.00 )
    call TriggerAddAction( gg_trg_Crab_Wander, function Trig_Crab_Wander_Actions )
endfunction

//===========================================================================
// Trigger: Crab Attacked
//===========================================================================
function Trig_Crab_Attacked_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetAttackedUnitBJ(), udg_CrabGroup) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Crab_Attacked_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call DisableTrigger( gg_trg_Unit_hits_Crab_Tripwire )
    call ConditionalTriggerExecute( gg_trg_Trigger_Crab_Encounter )
endfunction

//===========================================================================
function InitTrig_Crab_Attacked takes nothing returns nothing
    set gg_trg_Crab_Attacked = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Crab_Attacked, Player(PLAYER_NEUTRAL_PASSIVE), EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_Crab_Attacked, Condition( function Trig_Crab_Attacked_Conditions ) )
    call TriggerAddAction( gg_trg_Crab_Attacked, function Trig_Crab_Attacked_Actions )
endfunction

//===========================================================================
// Trigger: Unit hits Crab Tripwire
//===========================================================================
function Trig_Unit_hits_Crab_Tripwire_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'uloc' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Unit_hits_Crab_Tripwire_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call DisableTrigger( gg_trg_Crab_Attacked )
    call ConditionalTriggerExecute( gg_trg_Trigger_Crab_Encounter )
endfunction

//===========================================================================
function InitTrig_Unit_hits_Crab_Tripwire takes nothing returns nothing
    set gg_trg_Unit_hits_Crab_Tripwire = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Unit_hits_Crab_Tripwire, gg_rct_CrabAttackTripwire )
    call TriggerAddCondition( gg_trg_Unit_hits_Crab_Tripwire, Condition( function Trig_Unit_hits_Crab_Tripwire_Conditions ) )
    call TriggerAddAction( gg_trg_Unit_hits_Crab_Tripwire, function Trig_Unit_hits_Crab_Tripwire_Actions )
endfunction

//===========================================================================
// Trigger: Trigger Crab Encounter
//===========================================================================
function Trig_Trigger_Crab_Encounter_Func004A takes nothing returns nothing
    call SetUnitOwner( GetEnumUnit(), Player(PLAYER_NEUTRAL_AGGRESSIVE), false )
    set udg_TempPoint = GetRectCenter(gg_rct_CrabAttackTarget)
    call IssuePointOrderLocBJ( GetEnumUnit(), "attack", udg_TempPoint )
    call RemoveLocation( udg_TempPoint )
endfunction

function Trig_Trigger_Crab_Encounter_Actions takes nothing returns nothing
    call ModifyGateBJ( bj_GATEOPERATION_CLOSE, gg_dest_DTg7_0303 )
    call DisableTrigger( gg_trg_Crab_Wander )
    call ConditionalTriggerExecute( gg_trg_Lower_Crab_Elevator )
    call ForGroupBJ( udg_CrabGroup, function Trig_Trigger_Crab_Encounter_Func004A )
endfunction

//===========================================================================
function InitTrig_Trigger_Crab_Encounter takes nothing returns nothing
    set gg_trg_Trigger_Crab_Encounter = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Trigger_Crab_Encounter, function Trig_Trigger_Crab_Encounter_Actions )
endfunction

//===========================================================================
// Trigger: Crab Dies
//===========================================================================
function Trig_Crab_Dies_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetDyingUnit(), udg_CrabGroup) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Crab_Dies_Actions takes nothing returns nothing
    call GroupRemoveUnitSimple( GetDyingUnit(), udg_CrabGroup )
endfunction

//===========================================================================
function InitTrig_Crab_Dies takes nothing returns nothing
    set gg_trg_Crab_Dies = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Crab_Dies, Player(PLAYER_NEUTRAL_PASSIVE), EVENT_PLAYER_UNIT_DEATH )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Crab_Dies, Player(PLAYER_NEUTRAL_AGGRESSIVE), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Crab_Dies, Condition( function Trig_Crab_Dies_Conditions ) )
    call TriggerAddAction( gg_trg_Crab_Dies, function Trig_Crab_Dies_Actions )
endfunction

//===========================================================================
// Trigger: Check for All Crab Death
//===========================================================================
function Trig_Check_for_All_Crab_Death_Conditions takes nothing returns boolean
    if ( not ( CountUnitsInGroup(udg_CrabGroup) == 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Check_for_All_Crab_Death_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call DisableTrigger( gg_trg_Crab_Dies )
    call SetDestructableInvulnerableBJ( gg_dest_DTg7_0303, false )
    call ModifyGateBJ( bj_GATEOPERATION_OPEN, gg_dest_DTg7_0303 )
endfunction

//===========================================================================
function InitTrig_Check_for_All_Crab_Death takes nothing returns nothing
    set gg_trg_Check_for_All_Crab_Death = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Check_for_All_Crab_Death, 1.00 )
    call TriggerAddCondition( gg_trg_Check_for_All_Crab_Death, Condition( function Trig_Check_for_All_Crab_Death_Conditions ) )
    call TriggerAddAction( gg_trg_Check_for_All_Crab_Death, function Trig_Check_for_All_Crab_Death_Actions )
endfunction

//===========================================================================
// Trigger: Behemoth Crab Dies
//===========================================================================
function Trig_Behemoth_Crab_Dies_Actions takes nothing returns nothing
    call CreateItemLoc( 'rde2', GetUnitLoc(GetDyingUnit()) )
endfunction

//===========================================================================
function InitTrig_Behemoth_Crab_Dies takes nothing returns nothing
    set gg_trg_Behemoth_Crab_Dies = CreateTrigger(  )
    call TriggerRegisterUnitEvent( gg_trg_Behemoth_Crab_Dies, gg_unit_nsc3_0001, EVENT_UNIT_DEATH )
    call TriggerAddAction( gg_trg_Behemoth_Crab_Dies, function Trig_Behemoth_Crab_Dies_Actions )
endfunction

//===========================================================================
// Trigger: Check for Plate Visibility
//===========================================================================
function Trig_Check_for_Plate_Visibility_Func001C takes nothing returns boolean
    if ( not ( IsLocationVisibleToPlayer(udg_ItemFootSwitchPoint, udg_AP1_Player) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Check_for_Plate_Visibility_Actions takes nothing returns nothing
    if ( Trig_Check_for_Plate_Visibility_Func001C() ) then
        call SetDestructableAnimationBJ( gg_dest_DTfp_0217, "stand" )
    else
        call SetDestructableAnimationBJ( gg_dest_DTfp_0217, "stand alternate" )
    endif
endfunction

//===========================================================================
function InitTrig_Check_for_Plate_Visibility takes nothing returns nothing
    set gg_trg_Check_for_Plate_Visibility = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Check_for_Plate_Visibility, 0.50 )
    call TriggerAddAction( gg_trg_Check_for_Plate_Visibility, function Trig_Check_for_Plate_Visibility_Actions )
endfunction

//===========================================================================
// Trigger: Open Item Trap Doors
//===========================================================================
function Trig_Open_Item_Trap_Doors_Actions takes nothing returns nothing
    call ModifyGateBJ( bj_GATEOPERATION_OPEN, gg_dest_DTg7_0303 )
    call ModifyGateBJ( bj_GATEOPERATION_OPEN, gg_dest_DTg7_0302 )
    call ModifyGateBJ( bj_GATEOPERATION_OPEN, gg_dest_ZTd3_0171 )
endfunction

//===========================================================================
function InitTrig_Open_Item_Trap_Doors takes nothing returns nothing
    set gg_trg_Open_Item_Trap_Doors = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Open_Item_Trap_Doors, function Trig_Open_Item_Trap_Doors_Actions )
endfunction

//===========================================================================
// Trigger: Close Item Trap Doors
//===========================================================================
function Trig_Close_Item_Trap_Doors_Actions takes nothing returns nothing
    call ModifyGateBJ( bj_GATEOPERATION_CLOSE, gg_dest_DTg7_0303 )
    call ModifyGateBJ( bj_GATEOPERATION_CLOSE, gg_dest_DTg7_0302 )
    call ModifyGateBJ( bj_GATEOPERATION_CLOSE, gg_dest_ZTd3_0171 )
endfunction

//===========================================================================
function InitTrig_Close_Item_Trap_Doors takes nothing returns nothing
    set gg_trg_Close_Item_Trap_Doors = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Close_Item_Trap_Doors, function Trig_Close_Item_Trap_Doors_Actions )
endfunction

//===========================================================================
// Trigger: Trigger Item Trap
//===========================================================================
function Trig_Trigger_Item_Trap_Conditions takes nothing returns boolean
    if ( not ( GetManipulatedItem() == gg_item_bgst_0026 ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Trigger_Item_Trap_Func013C takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_HARD ) ) then
        return false
    endif
    return true
endfunction

function Trig_Trigger_Item_Trap_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call DisableTrigger( gg_trg_Check_for_Plate_Visibility )
    set udg_ItemTrapAmbushDone = true
    call KillDestructable( gg_dest_DTfp_0217 )
    call PlaySoundAtPointBJ( udg_PlateActivationSound, 100, udg_PointBurrowTrap, 0 )
    call ConditionalTriggerExecute( gg_trg_Close_Item_Trap_Doors )
    call ConditionalTriggerExecute( gg_trg_Quake_Shake )
    call TriggerSleepAction( 1.00 )
    call ConditionalTriggerExecute( gg_trg_Trap_Unburrow )
    call TriggerSleepAction( 1.00 )
    call ConditionalTriggerExecute( gg_trg_Voiceover_Guardians )
    set udg_ItemTrapAmbushDone = true
    if ( Trig_Trigger_Item_Trap_Func013C() ) then
        set udg_TempPoint = GetRectCenter(gg_rct_ArachnathidSpawn01)
        call CreateNUnitsAtLoc( 1, 'nane', Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_TempPoint, 270.00 )
        call RemoveLocation( udg_TempPoint )
        call IssuePointOrderLocBJ( GetLastCreatedUnit(), "attack", udg_PointBurrowTrap )
        set udg_TempPoint = GetRectCenter(gg_rct_ArachnathidSpawn02)
        call CreateNUnitsAtLoc( 1, 'nane', Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_TempPoint, 180.00 )
        call RemoveLocation( udg_TempPoint )
        call IssuePointOrderLocBJ( GetLastCreatedUnit(), "attack", udg_PointBurrowTrap )
    else
    endif
endfunction

//===========================================================================
function InitTrig_Trigger_Item_Trap takes nothing returns nothing
    set gg_trg_Trigger_Item_Trap = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Trigger_Item_Trap, Player(0), EVENT_PLAYER_UNIT_PICKUP_ITEM )
    call TriggerAddCondition( gg_trg_Trigger_Item_Trap, Condition( function Trig_Trigger_Item_Trap_Conditions ) )
    call TriggerAddAction( gg_trg_Trigger_Item_Trap, function Trig_Trigger_Item_Trap_Actions )
endfunction

//===========================================================================
// Trigger: Trap Unburrow
//===========================================================================
function Trig_Trap_Unburrow_Func004A takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Uproot_Picked_Fiend )
endfunction

function Trig_Trap_Unburrow_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call SetPlayerAllianceStateBJ( udg_AP1_Player, Player(PLAYER_NEUTRAL_AGGRESSIVE), bj_ALLIANCE_UNALLIED )
    call SetPlayerAllianceStateBJ( Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_AP1_Player, bj_ALLIANCE_UNALLIED )
    call ForGroupBJ( udg_ArachnathidGroup, function Trig_Trap_Unburrow_Func004A )
endfunction

//===========================================================================
function InitTrig_Trap_Unburrow takes nothing returns nothing
    set gg_trg_Trap_Unburrow = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Trap_Unburrow, function Trig_Trap_Unburrow_Actions )
endfunction

//===========================================================================
// Trigger: Uproot Picked Fiend
//===========================================================================
function Trig_Uproot_Picked_Fiend_Actions takes nothing returns nothing
    local unit ambusher = GetEnumUnit()
    call TriggerSleepAction( GetRandomReal(0, 3.00) )
    set udg_TempUnit = ambusher
    // Unhide and Unburrow
    call ShowUnitShow( udg_TempUnit )
    call SetUnitAnimation( udg_TempUnit, "morph alternate" )
    call TriggerSleepAction( 1.00 )
    set udg_TempUnit = ambusher
    // Unpause
    call PauseUnitBJ( false, udg_TempUnit )
    call IssuePointOrderLocBJ( udg_TempUnit, "attack", udg_PointBurrowTrap )
endfunction

//===========================================================================
function InitTrig_Uproot_Picked_Fiend takes nothing returns nothing
    set gg_trg_Uproot_Picked_Fiend = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Uproot_Picked_Fiend, function Trig_Uproot_Picked_Fiend_Actions )
endfunction

//===========================================================================
// Trigger: RollingDoorOpenSound1
//===========================================================================
function Trig_RollingDoorOpenSound1_Actions takes nothing returns nothing
    call PlaySoundAtPointBJ( udg_ElevatorsSound, 100, GetDestructableLoc(gg_dest_ZTd3_0171), 0 )
endfunction

//===========================================================================
function InitTrig_RollingDoorOpenSound1 takes nothing returns nothing
    set gg_trg_RollingDoorOpenSound1 = CreateTrigger(  )
    call TriggerRegisterDeathEvent( gg_trg_RollingDoorOpenSound1, gg_dest_ZTd3_0171 )
    call TriggerAddAction( gg_trg_RollingDoorOpenSound1, function Trig_RollingDoorOpenSound1_Actions )
endfunction

//===========================================================================
// Trigger: RollingDoorOpenSound2
//===========================================================================
function Trig_RollingDoorOpenSound2_Actions takes nothing returns nothing
    call PlaySoundAtPointBJ( udg_ElevatorsSound, 100, GetDestructableLoc(gg_dest_ZTd3_0220), 0 )
endfunction

//===========================================================================
function InitTrig_RollingDoorOpenSound2 takes nothing returns nothing
    set gg_trg_RollingDoorOpenSound2 = CreateTrigger(  )
    call TriggerRegisterDeathEvent( gg_trg_RollingDoorOpenSound2, gg_dest_ZTd3_0220 )
    call TriggerAddAction( gg_trg_RollingDoorOpenSound2, function Trig_RollingDoorOpenSound2_Actions )
endfunction

//===========================================================================
// Trigger: Eggs Tripwire
//===========================================================================
function Trig_Eggs_Tripwire_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'uloc' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Eggs_Tripwire_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call DisableTrigger( gg_trg_Queen_Attacked )
    call ConditionalTriggerExecute( gg_trg_Start_Egg_Machine )
endfunction

//===========================================================================
function InitTrig_Eggs_Tripwire takes nothing returns nothing
    set gg_trg_Eggs_Tripwire = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Eggs_Tripwire, gg_rct_EggAttackInitArea )
    call TriggerAddCondition( gg_trg_Eggs_Tripwire, Condition( function Trig_Eggs_Tripwire_Conditions ) )
    call TriggerAddAction( gg_trg_Eggs_Tripwire, function Trig_Eggs_Tripwire_Actions )
endfunction

//===========================================================================
// Trigger: Queen Attacked
//===========================================================================
function Trig_Queen_Attacked_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetAttacker()) == udg_AP1_Player ) ) then
        return false
    endif
    return true
endfunction

function Trig_Queen_Attacked_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call DisableTrigger( gg_trg_Eggs_Tripwire )
    call ConditionalTriggerExecute( gg_trg_Start_Egg_Machine )
endfunction

//===========================================================================
function InitTrig_Queen_Attacked takes nothing returns nothing
    set gg_trg_Queen_Attacked = CreateTrigger(  )
    call TriggerRegisterUnitEvent( gg_trg_Queen_Attacked, gg_unit_nnwq_0149, EVENT_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_Queen_Attacked, Condition( function Trig_Queen_Attacked_Conditions ) )
    call TriggerAddAction( gg_trg_Queen_Attacked, function Trig_Queen_Attacked_Actions )
endfunction

//===========================================================================
// Trigger: Start Egg Machine
//===========================================================================
function Trig_Start_Egg_Machine_Func007C takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_HARD ) ) then
        return false
    endif
    return true
endfunction

function Trig_Start_Egg_Machine_Func013C takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_HARD ) ) then
        return false
    endif
    return true
endfunction

function Trig_Start_Egg_Machine_Func019C takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_HARD ) ) then
        return false
    endif
    return true
endfunction

function Trig_Start_Egg_Machine_Func025C takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_HARD ) ) then
        return false
    endif
    return true
endfunction

function Trig_Start_Egg_Machine_Actions takes nothing returns nothing
    call EnableTrigger( gg_trg_Spiderling_Heartbeat )
    call GroupClear( udg_SpiderlingGroup )
    call PlaySoundAtPointBJ( udg_GatesRollingSound, 100, GetDestructableLoc(gg_dest_ZTd3_0222), 0 )
    call ModifyGateBJ( bj_GATEOPERATION_OPEN, gg_dest_ZTd3_0222 )
    call StartTimerBJ( udg_Eggs01Timer, true, udg_Eggs01 )
    call ConditionalTriggerExecute( gg_trg_Eggs_Generator_01 )
    if ( Trig_Start_Egg_Machine_Func007C() ) then
        call ConditionalTriggerExecute( gg_trg_Eggs_Generator_01 )
    else
    endif
    call TriggerSleepAction( 2.00 )
    call PlaySoundAtPointBJ( udg_GatesRollingSound, 100, GetDestructableLoc(gg_dest_ZTd3_0221), 0 )
    call ModifyGateBJ( bj_GATEOPERATION_OPEN, gg_dest_ZTd3_0221 )
    call StartTimerBJ( udg_Eggs02Timer, true, udg_Eggs02 )
    call ConditionalTriggerExecute( gg_trg_Eggs_Generator_02 )
    if ( Trig_Start_Egg_Machine_Func013C() ) then
        call ConditionalTriggerExecute( gg_trg_Eggs_Generator_02 )
    else
    endif
    call TriggerSleepAction( 2.00 )
    call PlaySoundAtPointBJ( udg_GatesRollingSound, 100, GetDestructableLoc(gg_dest_ZTd3_0225), 0 )
    call ModifyGateBJ( bj_GATEOPERATION_OPEN, gg_dest_ZTd3_0225 )
    call StartTimerBJ( udg_Eggs03Timer, true, udg_Eggs03 )
    call ConditionalTriggerExecute( gg_trg_Eggs_Generator_03 )
    if ( Trig_Start_Egg_Machine_Func019C() ) then
        call ConditionalTriggerExecute( gg_trg_Eggs_Generator_03 )
    else
    endif
    call TriggerSleepAction( 2.00 )
    call PlaySoundAtPointBJ( udg_GatesRollingSound, 100, GetDestructableLoc(gg_dest_ZTd3_0223), 0 )
    call ModifyGateBJ( bj_GATEOPERATION_OPEN, gg_dest_ZTd3_0223 )
    call StartTimerBJ( udg_Eggs04Timer, true, udg_Eggs04 )
    call ConditionalTriggerExecute( gg_trg_Eggs_Generator_04 )
    if ( Trig_Start_Egg_Machine_Func025C() ) then
        call ConditionalTriggerExecute( gg_trg_Eggs_Generator_04 )
    else
    endif
    call ConditionalTriggerExecute( gg_trg_Voiceover_Hostile_Eggs )
endfunction

//===========================================================================
function InitTrig_Start_Egg_Machine takes nothing returns nothing
    set gg_trg_Start_Egg_Machine = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Start_Egg_Machine, function Trig_Start_Egg_Machine_Actions )
endfunction

//===========================================================================
// Trigger: Eggs Generator 01
//===========================================================================
function Trig_Eggs_Generator_01_Conditions takes nothing returns boolean
    if ( not ( CountUnitsInGroup(udg_SpiderlingGroup) <= udg_MaxSpiderlingsSpawn ) ) then
        return false
    endif
    return true
endfunction

function Trig_Eggs_Generator_01_Func001001002 takes nothing returns boolean
    return ( IsDestructableAliveBJ(GetFilterDestructable()) == true )
endfunction

function Trig_Eggs_Generator_01_Actions takes nothing returns nothing
    call KillDestructable( RandomDestructableInRectBJ(gg_rct_EggSacks01, Condition(function Trig_Eggs_Generator_01_Func001001002)) )
    call CreateNUnitsAtLoc( 1, 'nspd', udg_AP3_Nerubians, udg_PointSpawnGenerator01, 230.00 )
    call IssuePointOrderLocBJ( GetLastCreatedUnit(), "attack", udg_PointEggAttackInitArea )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SpiderlingGroup )
endfunction

//===========================================================================
function InitTrig_Eggs_Generator_01 takes nothing returns nothing
    set gg_trg_Eggs_Generator_01 = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Eggs_Generator_01, udg_Eggs01Timer )
    call TriggerAddCondition( gg_trg_Eggs_Generator_01, Condition( function Trig_Eggs_Generator_01_Conditions ) )
    call TriggerAddAction( gg_trg_Eggs_Generator_01, function Trig_Eggs_Generator_01_Actions )
endfunction

//===========================================================================
// Trigger: Eggs Generator 02
//===========================================================================
function Trig_Eggs_Generator_02_Conditions takes nothing returns boolean
    if ( not ( CountUnitsInGroup(udg_SpiderlingGroup) <= udg_MaxSpiderlingsSpawn ) ) then
        return false
    endif
    return true
endfunction

function Trig_Eggs_Generator_02_Func001001002 takes nothing returns boolean
    return ( IsDestructableAliveBJ(GetFilterDestructable()) == true )
endfunction

function Trig_Eggs_Generator_02_Actions takes nothing returns nothing
    call KillDestructable( RandomDestructableInRectBJ(gg_rct_EggSacks02, Condition(function Trig_Eggs_Generator_02_Func001001002)) )
    call CreateNUnitsAtLoc( 1, 'nspd', udg_AP3_Nerubians, udg_PointSpawnGenerator02, 230.00 )
    call IssuePointOrderLocBJ( GetLastCreatedUnit(), "attack", udg_PointEggAttackInitArea )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SpiderlingGroup )
endfunction

//===========================================================================
function InitTrig_Eggs_Generator_02 takes nothing returns nothing
    set gg_trg_Eggs_Generator_02 = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Eggs_Generator_02, udg_Eggs02Timer )
    call TriggerAddCondition( gg_trg_Eggs_Generator_02, Condition( function Trig_Eggs_Generator_02_Conditions ) )
    call TriggerAddAction( gg_trg_Eggs_Generator_02, function Trig_Eggs_Generator_02_Actions )
endfunction

//===========================================================================
// Trigger: Eggs Generator 03
//===========================================================================
function Trig_Eggs_Generator_03_Conditions takes nothing returns boolean
    if ( not ( CountUnitsInGroup(udg_SpiderlingGroup) <= udg_MaxSpiderlingsSpawn ) ) then
        return false
    endif
    return true
endfunction

function Trig_Eggs_Generator_03_Func001001002 takes nothing returns boolean
    return ( IsDestructableAliveBJ(GetFilterDestructable()) == true )
endfunction

function Trig_Eggs_Generator_03_Actions takes nothing returns nothing
    call KillDestructable( RandomDestructableInRectBJ(gg_rct_EggSacks03, Condition(function Trig_Eggs_Generator_03_Func001001002)) )
    call CreateNUnitsAtLoc( 1, 'nspd', udg_AP3_Nerubians, udg_PointSpawnGenerator03, 90.00 )
    call IssuePointOrderLocBJ( GetLastCreatedUnit(), "attack", udg_PointEggAttackInitArea )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SpiderlingGroup )
endfunction

//===========================================================================
function InitTrig_Eggs_Generator_03 takes nothing returns nothing
    set gg_trg_Eggs_Generator_03 = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Eggs_Generator_03, udg_Eggs03Timer )
    call TriggerAddCondition( gg_trg_Eggs_Generator_03, Condition( function Trig_Eggs_Generator_03_Conditions ) )
    call TriggerAddAction( gg_trg_Eggs_Generator_03, function Trig_Eggs_Generator_03_Actions )
endfunction

//===========================================================================
// Trigger: Eggs Generator 04
//===========================================================================
function Trig_Eggs_Generator_04_Conditions takes nothing returns boolean
    if ( not ( CountUnitsInGroup(udg_SpiderlingGroup) <= udg_MaxSpiderlingsSpawn ) ) then
        return false
    endif
    return true
endfunction

function Trig_Eggs_Generator_04_Func001001002 takes nothing returns boolean
    return ( IsDestructableAliveBJ(GetFilterDestructable()) == true )
endfunction

function Trig_Eggs_Generator_04_Actions takes nothing returns nothing
    call KillDestructable( RandomDestructableInRectBJ(gg_rct_EggSacks04, Condition(function Trig_Eggs_Generator_04_Func001001002)) )
    call CreateNUnitsAtLoc( 1, 'nspd', udg_AP3_Nerubians, udg_PointSpawnGenerator04, 90.00 )
    call IssuePointOrderLocBJ( GetLastCreatedUnit(), "attack", udg_PointEggAttackInitArea )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SpiderlingGroup )
endfunction

//===========================================================================
function InitTrig_Eggs_Generator_04 takes nothing returns nothing
    set gg_trg_Eggs_Generator_04 = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Eggs_Generator_04, udg_Eggs04Timer )
    call TriggerAddCondition( gg_trg_Eggs_Generator_04, Condition( function Trig_Eggs_Generator_04_Conditions ) )
    call TriggerAddAction( gg_trg_Eggs_Generator_04, function Trig_Eggs_Generator_04_Actions )
endfunction

//===========================================================================
// Trigger: Spiderling Dies
//===========================================================================
function Trig_Spiderling_Dies_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetDyingUnit(), udg_SpiderlingGroup) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Spiderling_Dies_Actions takes nothing returns nothing
    call GroupRemoveUnitSimple( GetDyingUnit(), udg_SpiderlingGroup )
endfunction

//===========================================================================
function InitTrig_Spiderling_Dies takes nothing returns nothing
    set gg_trg_Spiderling_Dies = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Spiderling_Dies, Player(2), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Spiderling_Dies, Condition( function Trig_Spiderling_Dies_Conditions ) )
    call TriggerAddAction( gg_trg_Spiderling_Dies, function Trig_Spiderling_Dies_Actions )
endfunction

//===========================================================================
// Trigger: Spiderling Heartbeat
//===========================================================================
function Trig_Spiderling_Heartbeat_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Spiderling_Heartbeat_Actions takes nothing returns nothing
    call GroupPointOrderLocBJ( udg_SpiderlingGroup, "attack", udg_PointEggAttackInitArea )
endfunction

//===========================================================================
function InitTrig_Spiderling_Heartbeat takes nothing returns nothing
    set gg_trg_Spiderling_Heartbeat = CreateTrigger(  )
    call DisableTrigger( gg_trg_Spiderling_Heartbeat )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Spiderling_Heartbeat, 3.00 )
    call TriggerAddCondition( gg_trg_Spiderling_Heartbeat, Condition( function Trig_Spiderling_Heartbeat_Conditions ) )
    call TriggerAddAction( gg_trg_Spiderling_Heartbeat, function Trig_Spiderling_Heartbeat_Actions )
endfunction

//===========================================================================
// Trigger: Eggs01 Destroyed
//===========================================================================
function Trig_Eggs01_Destroyed_Func002C takes nothing returns boolean
    if ( not ( udg_Eggs01DeadCount >= 10 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Eggs01_Destroyed_Actions takes nothing returns nothing
    set udg_Eggs01DeadCount = ( udg_Eggs01DeadCount + 1 )
    if ( Trig_Eggs01_Destroyed_Func002C() ) then
        call PauseTimerBJ( true, udg_Eggs01Timer )
        set udg_Eggs01Done = true
        call ConditionalTriggerExecute( gg_trg_Eggs_All_Stopped_Check )
    else
    endif
endfunction

//===========================================================================
function InitTrig_Eggs01_Destroyed takes nothing returns nothing
    set gg_trg_Eggs01_Destroyed = CreateTrigger(  )
    call TriggerRegisterDestDeathInRegionEvent( gg_trg_Eggs01_Destroyed, gg_rct_EggSacks01 )
    call TriggerAddAction( gg_trg_Eggs01_Destroyed, function Trig_Eggs01_Destroyed_Actions )
endfunction

//===========================================================================
// Trigger: Eggs02 Destroyed
//===========================================================================
function Trig_Eggs02_Destroyed_Func002C takes nothing returns boolean
    if ( not ( udg_Eggs02DeadCount >= 10 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Eggs02_Destroyed_Actions takes nothing returns nothing
    set udg_Eggs02DeadCount = ( udg_Eggs02DeadCount + 1 )
    if ( Trig_Eggs02_Destroyed_Func002C() ) then
        call PauseTimerBJ( true, udg_Eggs02Timer )
        set udg_Eggs02Done = true
        call ConditionalTriggerExecute( gg_trg_Eggs_All_Stopped_Check )
    else
    endif
endfunction

//===========================================================================
function InitTrig_Eggs02_Destroyed takes nothing returns nothing
    set gg_trg_Eggs02_Destroyed = CreateTrigger(  )
    call TriggerRegisterDestDeathInRegionEvent( gg_trg_Eggs02_Destroyed, gg_rct_EggSacks02 )
    call TriggerAddAction( gg_trg_Eggs02_Destroyed, function Trig_Eggs02_Destroyed_Actions )
endfunction

//===========================================================================
// Trigger: Eggs03 Destroyed
//===========================================================================
function Trig_Eggs03_Destroyed_Func002C takes nothing returns boolean
    if ( not ( udg_Eggs03DeadCount >= 10 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Eggs03_Destroyed_Actions takes nothing returns nothing
    set udg_Eggs03DeadCount = ( udg_Eggs03DeadCount + 1 )
    if ( Trig_Eggs03_Destroyed_Func002C() ) then
        call PauseTimerBJ( true, udg_Eggs03Timer )
        set udg_Eggs03Done = true
        call ConditionalTriggerExecute( gg_trg_Eggs_All_Stopped_Check )
    else
    endif
endfunction

//===========================================================================
function InitTrig_Eggs03_Destroyed takes nothing returns nothing
    set gg_trg_Eggs03_Destroyed = CreateTrigger(  )
    call TriggerRegisterDestDeathInRegionEvent( gg_trg_Eggs03_Destroyed, gg_rct_EggSacks03 )
    call TriggerAddAction( gg_trg_Eggs03_Destroyed, function Trig_Eggs03_Destroyed_Actions )
endfunction

//===========================================================================
// Trigger: Eggs04 Destroyed
//===========================================================================
function Trig_Eggs04_Destroyed_Func002C takes nothing returns boolean
    if ( not ( udg_Eggs04DeadCount >= 10 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Eggs04_Destroyed_Actions takes nothing returns nothing
    set udg_Eggs04DeadCount = ( udg_Eggs04DeadCount + 1 )
    if ( Trig_Eggs04_Destroyed_Func002C() ) then
        call PauseTimerBJ( true, udg_Eggs04Timer )
        set udg_Eggs04Done = true
        call ConditionalTriggerExecute( gg_trg_Eggs_All_Stopped_Check )
    else
    endif
endfunction

//===========================================================================
function InitTrig_Eggs04_Destroyed takes nothing returns nothing
    set gg_trg_Eggs04_Destroyed = CreateTrigger(  )
    call TriggerRegisterDestDeathInRegionEvent( gg_trg_Eggs04_Destroyed, gg_rct_EggSacks04 )
    call TriggerAddAction( gg_trg_Eggs04_Destroyed, function Trig_Eggs04_Destroyed_Actions )
endfunction

//===========================================================================
// Trigger: Eggs01 Lever
//===========================================================================
function Trig_Eggs01_Lever_Actions takes nothing returns nothing
    call FogModifierStop( udg_VisibilityEggs01 )
    call SetDestructableAnimationBJ( gg_dest_ZTd3_0222, "birth" )
    call PauseTimerBJ( true, udg_Eggs01Timer )
    set udg_Eggs01Done = true
    call ConditionalTriggerExecute( gg_trg_Eggs_All_Stopped_Check )
    call PlaySoundAtPointBJ( udg_ElevatorsSound, 100, GetDestructableLoc(gg_dest_ZTd3_0222), 0 )
    call TriggerSleepAction( 1.50 )
    call ModifyGateBJ( bj_GATEOPERATION_CLOSE, gg_dest_ZTd3_0222 )
endfunction

//===========================================================================
function InitTrig_Eggs01_Lever takes nothing returns nothing
    set gg_trg_Eggs01_Lever = CreateTrigger(  )
    call TriggerRegisterDeathEvent( gg_trg_Eggs01_Lever, gg_dest_DTlv_0371 )
    call TriggerAddAction( gg_trg_Eggs01_Lever, function Trig_Eggs01_Lever_Actions )
endfunction

//===========================================================================
// Trigger: Eggs02 Lever
//===========================================================================
function Trig_Eggs02_Lever_Actions takes nothing returns nothing
    call FogModifierStop( udg_VisibilityEggs02 )
    call SetDestructableAnimationBJ( gg_dest_ZTd3_0221, "birth" )
    call PauseTimerBJ( true, udg_Eggs02Timer )
    set udg_Eggs02Done = true
    call ConditionalTriggerExecute( gg_trg_Eggs_All_Stopped_Check )
    call PlaySoundAtPointBJ( udg_ElevatorsSound, 100, GetDestructableLoc(gg_dest_ZTd3_0221), 0 )
    call TriggerSleepAction( 1.50 )
    call ModifyGateBJ( bj_GATEOPERATION_CLOSE, gg_dest_ZTd3_0221 )
endfunction

//===========================================================================
function InitTrig_Eggs02_Lever takes nothing returns nothing
    set gg_trg_Eggs02_Lever = CreateTrigger(  )
    call TriggerRegisterDeathEvent( gg_trg_Eggs02_Lever, gg_dest_DTlv_0372 )
    call TriggerAddAction( gg_trg_Eggs02_Lever, function Trig_Eggs02_Lever_Actions )
endfunction

//===========================================================================
// Trigger: Eggs03 Lever
//===========================================================================
function Trig_Eggs03_Lever_Actions takes nothing returns nothing
    call FogModifierStop( udg_VisibilityEggs03 )
    call SetDestructableAnimationBJ( gg_dest_ZTd3_0225, "birth" )
    call PauseTimerBJ( true, udg_Eggs03Timer )
    set udg_Eggs03Done = true
    call ConditionalTriggerExecute( gg_trg_Eggs_All_Stopped_Check )
    call PlaySoundAtPointBJ( udg_ElevatorsSound, 100, GetDestructableLoc(gg_dest_ZTd3_0225), 0 )
    call TriggerSleepAction( 1.50 )
    call ModifyGateBJ( bj_GATEOPERATION_CLOSE, gg_dest_ZTd3_0225 )
endfunction

//===========================================================================
function InitTrig_Eggs03_Lever takes nothing returns nothing
    set gg_trg_Eggs03_Lever = CreateTrigger(  )
    call TriggerRegisterDeathEvent( gg_trg_Eggs03_Lever, gg_dest_DTlv_0373 )
    call TriggerAddAction( gg_trg_Eggs03_Lever, function Trig_Eggs03_Lever_Actions )
endfunction

//===========================================================================
// Trigger: Eggs04 Lever
//===========================================================================
function Trig_Eggs04_Lever_Actions takes nothing returns nothing
    call FogModifierStop( udg_VisibilityEggs04 )
    call SetDestructableAnimationBJ( gg_dest_ZTd3_0223, "birth" )
    call PauseTimerBJ( true, udg_Eggs04Timer )
    set udg_Eggs04Done = true
    call ConditionalTriggerExecute( gg_trg_Eggs_All_Stopped_Check )
    call PlaySoundAtPointBJ( udg_ElevatorsSound, 100, GetDestructableLoc(gg_dest_ZTd3_0223), 0 )
    call TriggerSleepAction( 1.50 )
    call ModifyGateBJ( bj_GATEOPERATION_CLOSE, gg_dest_ZTd3_0223 )
endfunction

//===========================================================================
function InitTrig_Eggs04_Lever takes nothing returns nothing
    set gg_trg_Eggs04_Lever = CreateTrigger(  )
    call TriggerRegisterDeathEvent( gg_trg_Eggs04_Lever, gg_dest_DTlv_0374 )
    call TriggerAddAction( gg_trg_Eggs04_Lever, function Trig_Eggs04_Lever_Actions )
endfunction

//===========================================================================
// Trigger: Eggs All Stopped Check
//===========================================================================
function Trig_Eggs_All_Stopped_Check_Conditions takes nothing returns boolean
    if ( not ( udg_Eggs01Done == true ) ) then
        return false
    endif
    if ( not ( udg_Eggs02Done == true ) ) then
        return false
    endif
    if ( not ( udg_Eggs03Done == true ) ) then
        return false
    endif
    if ( not ( udg_Eggs04Done == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Eggs_All_Stopped_Check_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_Spiderling_Heartbeat )
endfunction

//===========================================================================
function InitTrig_Eggs_All_Stopped_Check takes nothing returns nothing
    set gg_trg_Eggs_All_Stopped_Check = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Eggs_All_Stopped_Check, Condition( function Trig_Eggs_All_Stopped_Check_Conditions ) )
    call TriggerAddAction( gg_trg_Eggs_All_Stopped_Check, function Trig_Eggs_All_Stopped_Check_Actions )
endfunction

//===========================================================================
// Trigger: EggsRollingDoorSound1
//===========================================================================
function Trig_EggsRollingDoorSound1_Actions takes nothing returns nothing
    call PlaySoundAtPointBJ( udg_ElevatorsSound, 100, GetDestructableLoc(gg_dest_ZTd3_0222), 0 )
endfunction

//===========================================================================
function InitTrig_EggsRollingDoorSound1 takes nothing returns nothing
    set gg_trg_EggsRollingDoorSound1 = CreateTrigger(  )
    call TriggerRegisterDeathEvent( gg_trg_EggsRollingDoorSound1, gg_dest_ZTd3_0222 )
    call TriggerAddAction( gg_trg_EggsRollingDoorSound1, function Trig_EggsRollingDoorSound1_Actions )
endfunction

//===========================================================================
// Trigger: EggsRollingDoorSound2
//===========================================================================
function Trig_EggsRollingDoorSound2_Actions takes nothing returns nothing
    call PlaySoundAtPointBJ( udg_ElevatorsSound, 100, GetDestructableLoc(gg_dest_ZTd3_0221), 0 )
endfunction

//===========================================================================
function InitTrig_EggsRollingDoorSound2 takes nothing returns nothing
    set gg_trg_EggsRollingDoorSound2 = CreateTrigger(  )
    call TriggerRegisterDeathEvent( gg_trg_EggsRollingDoorSound2, gg_dest_ZTd3_0221 )
    call TriggerAddAction( gg_trg_EggsRollingDoorSound2, function Trig_EggsRollingDoorSound2_Actions )
endfunction

//===========================================================================
// Trigger: EggsRollingDoorSound3
//===========================================================================
function Trig_EggsRollingDoorSound3_Actions takes nothing returns nothing
    call PlaySoundAtPointBJ( udg_ElevatorsSound, 100, GetDestructableLoc(gg_dest_ZTd3_0223), 0 )
endfunction

//===========================================================================
function InitTrig_EggsRollingDoorSound3 takes nothing returns nothing
    set gg_trg_EggsRollingDoorSound3 = CreateTrigger(  )
    call TriggerRegisterDeathEvent( gg_trg_EggsRollingDoorSound3, gg_dest_ZTd3_0223 )
    call TriggerAddAction( gg_trg_EggsRollingDoorSound3, function Trig_EggsRollingDoorSound3_Actions )
endfunction

//===========================================================================
// Trigger: EggsRollingDoorSound4
//===========================================================================
function Trig_EggsRollingDoorSound4_Actions takes nothing returns nothing
    call PlaySoundAtPointBJ( udg_ElevatorsSound, 100, GetDestructableLoc(gg_dest_ZTd3_0225), 0 )
endfunction

//===========================================================================
function InitTrig_EggsRollingDoorSound4 takes nothing returns nothing
    set gg_trg_EggsRollingDoorSound4 = CreateTrigger(  )
    call TriggerRegisterDeathEvent( gg_trg_EggsRollingDoorSound4, gg_dest_ZTd3_0225 )
    call TriggerAddAction( gg_trg_EggsRollingDoorSound4, function Trig_EggsRollingDoorSound4_Actions )
endfunction

//===========================================================================
// Trigger: SpawnTentacle01
//===========================================================================
function Trig_SpawnTentacle01_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'uloc' ) ) then
        return false
    endif
    return true
endfunction

function Trig_SpawnTentacle01_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_TentacleSpawnPoint = GetRectCenter(gg_rct_TentacleSpawn01)
    call CreateNUnitsAtLoc( 1, 'hsor', udg_AP4_FacelessOnes, udg_PointTentacleCasterCreate01, bj_UNIT_FACING )
    set udg_TentacleCaster01 = GetLastCreatedUnit()
    call ShowUnitHide( udg_TentacleCaster01 )
    call SetUnitManaPercentBJ( udg_TentacleCaster01, 100 )
    call UnitResetCooldown( udg_TentacleCaster01 )
    call IssuePointOrderLocBJ( udg_TentacleCaster01, "ward", udg_TentacleSpawnPoint )
    call TriggerSleepAction( 0.50 )
    call RemoveUnit( udg_TentacleCaster01 )
endfunction

//===========================================================================
function InitTrig_SpawnTentacle01 takes nothing returns nothing
    set gg_trg_SpawnTentacle01 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_SpawnTentacle01, gg_rct_TentacleTripwire01 )
    call TriggerAddCondition( gg_trg_SpawnTentacle01, Condition( function Trig_SpawnTentacle01_Conditions ) )
    call TriggerAddAction( gg_trg_SpawnTentacle01, function Trig_SpawnTentacle01_Actions )
endfunction

//===========================================================================
// Trigger: SpawnTentacle02
//===========================================================================
function Trig_SpawnTentacle02_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'uloc' ) ) then
        return false
    endif
    return true
endfunction

function Trig_SpawnTentacle02_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_TentacleSpawnPoint = GetRectCenter(gg_rct_TentacleSpawn02)
    call CreateNUnitsAtLoc( 1, 'hsor', udg_AP4_FacelessOnes, udg_PointTentacleCasterCreate01, bj_UNIT_FACING )
    set udg_TentacleCaster02 = GetLastCreatedUnit()
    call ShowUnitHide( udg_TentacleCaster02 )
    call SetUnitManaPercentBJ( udg_TentacleCaster02, 100 )
    call UnitResetCooldown( udg_TentacleCaster02 )
    call IssuePointOrderLocBJ( udg_TentacleCaster02, "ward", udg_TentacleSpawnPoint )
    call TriggerSleepAction( 0.50 )
    call RemoveUnit( udg_TentacleCaster02 )
endfunction

//===========================================================================
function InitTrig_SpawnTentacle02 takes nothing returns nothing
    set gg_trg_SpawnTentacle02 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_SpawnTentacle02, gg_rct_TentacleTripwire02 )
    call TriggerAddCondition( gg_trg_SpawnTentacle02, Condition( function Trig_SpawnTentacle02_Conditions ) )
    call TriggerAddAction( gg_trg_SpawnTentacle02, function Trig_SpawnTentacle02_Actions )
endfunction

//===========================================================================
// Trigger: SpawnTentacle03
//===========================================================================
function Trig_SpawnTentacle03_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'uloc' ) ) then
        return false
    endif
    return true
endfunction

function Trig_SpawnTentacle03_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_TentacleSpawnPoint = GetRectCenter(gg_rct_TentacleSpawn03)
    call CreateNUnitsAtLoc( 1, 'hsor', udg_AP4_FacelessOnes, udg_PointTentacleCasterCreate01, bj_UNIT_FACING )
    set udg_TentacleCaster03 = GetLastCreatedUnit()
    call ShowUnitHide( udg_TentacleCaster03 )
    call SetUnitManaPercentBJ( udg_TentacleCaster03, 100 )
    call UnitResetCooldown( udg_TentacleCaster03 )
    call IssuePointOrderLocBJ( udg_TentacleCaster03, "ward", udg_TentacleSpawnPoint )
    call TriggerSleepAction( 0.50 )
    call RemoveUnit( udg_TentacleCaster03 )
endfunction

//===========================================================================
function InitTrig_SpawnTentacle03 takes nothing returns nothing
    set gg_trg_SpawnTentacle03 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_SpawnTentacle03, gg_rct_TentacleTripwire03 )
    call TriggerAddCondition( gg_trg_SpawnTentacle03, Condition( function Trig_SpawnTentacle03_Conditions ) )
    call TriggerAddAction( gg_trg_SpawnTentacle03, function Trig_SpawnTentacle03_Actions )
endfunction

//===========================================================================
// Trigger: SpawnTentacle04
//===========================================================================
function Trig_SpawnTentacle04_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'uloc' ) ) then
        return false
    endif
    return true
endfunction

function Trig_SpawnTentacle04_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_TentacleSpawnPoint = GetRectCenter(gg_rct_TentacleSpawn04)
    set udg_TempPoint = GetRectCenter(gg_rct_TentacleCasterCreate02)
    call CreateNUnitsAtLoc( 1, 'hsor', udg_AP4_FacelessOnes, udg_TempPoint, bj_UNIT_FACING )
    call RemoveLocation( udg_TempPoint )
    set udg_TentacleCaster04 = GetLastCreatedUnit()
    call ShowUnitHide( udg_TentacleCaster04 )
    call SetUnitManaPercentBJ( udg_TentacleCaster04, 100 )
    call UnitResetCooldown( udg_TentacleCaster04 )
    call IssuePointOrderLocBJ( udg_TentacleCaster04, "ward", udg_TentacleSpawnPoint )
    call TriggerSleepAction( 0.50 )
    call RemoveUnit( udg_TentacleCaster04 )
endfunction

//===========================================================================
function InitTrig_SpawnTentacle04 takes nothing returns nothing
    set gg_trg_SpawnTentacle04 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_SpawnTentacle04, gg_rct_TentacleTripwire04 )
    call TriggerAddCondition( gg_trg_SpawnTentacle04, Condition( function Trig_SpawnTentacle04_Conditions ) )
    call TriggerAddAction( gg_trg_SpawnTentacle04, function Trig_SpawnTentacle04_Actions )
endfunction

//===========================================================================
// Trigger: SpawnFacelessFriendsTimerExpire
//===========================================================================
function Trig_SpawnFacelessFriendsTimerExpire_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( udg_InFOCombat == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_SpawnFacelessFriendsTimerExpire_Func003C takes nothing returns boolean
    if ( not ( udg_FacelessFriendCounter < 3 ) ) then
        return false
    endif
    return true
endfunction

function Trig_SpawnFacelessFriendsTimerExpire_Actions takes nothing returns nothing
    set udg_FacelessFriendCounter = ( udg_FacelessFriendCounter + 1 )
    set udg_TempPoint = GetRectCenter(gg_rct_FacelessFriendTarget)
    if ( Trig_SpawnFacelessFriendsTimerExpire_Func003C() ) then
        call CreateNUnitsAtLoc( 1, 'nfor', udg_AP4_FacelessOnes, udg_PointVictoryFacelessSpawn04, bj_UNIT_FACING )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_FOFriends )
        call IssuePointOrderLocBJ( GetLastCreatedUnit(), "attack", udg_TempPoint )
    else
        call CreateNUnitsAtLoc( 1, 'nfot', udg_AP4_FacelessOnes, udg_PointVictoryFacelessSpawn04, bj_UNIT_FACING )
        call IssuePointOrderLocBJ( GetLastCreatedUnit(), "attack", udg_TempPoint )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_FOFriends )
        set udg_FacelessFriendCounter = 0
    endif
    call RemoveLocation( udg_TempPoint )
endfunction

//===========================================================================
function InitTrig_SpawnFacelessFriendsTimerExpire takes nothing returns nothing
    set gg_trg_SpawnFacelessFriendsTimerExpire = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_SpawnFacelessFriendsTimerExpire, udg_SpawnFacelessFriendsTimer )
    call TriggerAddCondition( gg_trg_SpawnFacelessFriendsTimerExpire, Condition( function Trig_SpawnFacelessFriendsTimerExpire_Conditions ) )
    call TriggerAddAction( gg_trg_SpawnFacelessFriendsTimerExpire, function Trig_SpawnFacelessFriendsTimerExpire_Actions )
endfunction

//===========================================================================
// Trigger: ForgottenOneCombatDetected01
//===========================================================================
function Trig_ForgottenOneCombatDetected01_Conditions takes nothing returns boolean
    if ( not ( GetAttacker() == udg_TheForgottenOne ) ) then
        return false
    endif
    return true
endfunction

function Trig_ForgottenOneCombatDetected01_Actions takes nothing returns nothing
    call StartTimerBJ( udg_CombatCheckTimer, false, 3.00 )
    set udg_InFOCombat = true
endfunction

//===========================================================================
function InitTrig_ForgottenOneCombatDetected01 takes nothing returns nothing
    set gg_trg_ForgottenOneCombatDetected01 = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_ForgottenOneCombatDetected01, Player(0), EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_ForgottenOneCombatDetected01, Condition( function Trig_ForgottenOneCombatDetected01_Conditions ) )
    call TriggerAddAction( gg_trg_ForgottenOneCombatDetected01, function Trig_ForgottenOneCombatDetected01_Actions )
endfunction

//===========================================================================
// Trigger: ForgottenOneCombatDetected02
//===========================================================================
function Trig_ForgottenOneCombatDetected02_Conditions takes nothing returns boolean
    if ( not ( GetAttackedUnitBJ() == udg_TheForgottenOne ) ) then
        return false
    endif
    return true
endfunction

function Trig_ForgottenOneCombatDetected02_Actions takes nothing returns nothing
    call StartTimerBJ( udg_CombatCheckTimer, false, 3.00 )
    set udg_InFOCombat = true
endfunction

//===========================================================================
function InitTrig_ForgottenOneCombatDetected02 takes nothing returns nothing
    set gg_trg_ForgottenOneCombatDetected02 = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_ForgottenOneCombatDetected02, Player(3), EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_ForgottenOneCombatDetected02, Condition( function Trig_ForgottenOneCombatDetected02_Conditions ) )
    call TriggerAddAction( gg_trg_ForgottenOneCombatDetected02, function Trig_ForgottenOneCombatDetected02_Actions )
endfunction

//===========================================================================
// Trigger: ForgottenOneCombatResolved
//===========================================================================
function Trig_ForgottenOneCombatResolved_Actions takes nothing returns nothing
    set udg_InFOCombat = false
endfunction

//===========================================================================
function InitTrig_ForgottenOneCombatResolved takes nothing returns nothing
    set gg_trg_ForgottenOneCombatResolved = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_ForgottenOneCombatResolved, udg_CombatCheckTimer )
    call TriggerAddAction( gg_trg_ForgottenOneCombatResolved, function Trig_ForgottenOneCombatResolved_Actions )
endfunction

//===========================================================================
// Trigger: FOFriendsHeartbeat
//===========================================================================
function Trig_FOFriendsHeartbeat_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( CountUnitsInGroup(udg_FOFriends) > 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_FOFriendsHeartbeat_Func001A takes nothing returns nothing
    set udg_TempPoint = GetUnitLoc(GroupPickRandomUnit(GetUnitsInRectOfPlayer(gg_rct_VisibilityBoss, udg_AP1_Player)))
    call IssuePointOrderLocBJ( GetEnumUnit(), "attack", udg_TempPoint )
    call RemoveLocation( udg_TempPoint )
endfunction

function Trig_FOFriendsHeartbeat_Actions takes nothing returns nothing
    call ForGroupBJ( udg_FOFriends, function Trig_FOFriendsHeartbeat_Func001A )
endfunction

//===========================================================================
function InitTrig_FOFriendsHeartbeat takes nothing returns nothing
    set gg_trg_FOFriendsHeartbeat = CreateTrigger(  )
    call DisableTrigger( gg_trg_FOFriendsHeartbeat )
    call TriggerRegisterTimerEventPeriodic( gg_trg_FOFriendsHeartbeat, 2.00 )
    call TriggerAddCondition( gg_trg_FOFriendsHeartbeat, Condition( function Trig_FOFriendsHeartbeat_Conditions ) )
    call TriggerAddAction( gg_trg_FOFriendsHeartbeat, function Trig_FOFriendsHeartbeat_Actions )
endfunction

//===========================================================================
// Trigger: FOFriend Dies
//===========================================================================
function Trig_FOFriend_Dies_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetDyingUnit(), udg_FOFriends) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_FOFriend_Dies_Actions takes nothing returns nothing
    call GroupRemoveUnitSimple( GetDyingUnit(), udg_FOFriends )
endfunction

//===========================================================================
function InitTrig_FOFriend_Dies takes nothing returns nothing
    set gg_trg_FOFriend_Dies = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_FOFriend_Dies, Player(3), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_FOFriend_Dies, Condition( function Trig_FOFriend_Dies_Conditions ) )
    call TriggerAddAction( gg_trg_FOFriend_Dies, function Trig_FOFriend_Dies_Actions )
endfunction

//===========================================================================
// Trigger: Prisoners Setup
//===========================================================================
function Trig_Prisoners_Setup_Func005A takes nothing returns nothing
    call SetUnitLifeBJ( GetEnumUnit(), ( GetUnitStateSwap(UNIT_STATE_LIFE, GetEnumUnit()) - ( GetRandomReal(0.50, 0.80) * GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetEnumUnit()) ) ) )
endfunction

function Trig_Prisoners_Setup_Func008A takes nothing returns nothing
    call SetUnitLifeBJ( GetEnumUnit(), ( GetUnitStateSwap(UNIT_STATE_LIFE, GetEnumUnit()) - ( GetRandomReal(0.50, 0.80) * GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetEnumUnit()) ) ) )
endfunction

function Trig_Prisoners_Setup_Func012A takes nothing returns nothing
    call SetUnitLifePercentBJ( gg_unit_ucry_0076, 62.00 )
    call AddSpecialEffectTargetUnitBJ( "origin", GetEnumUnit(), "Abilities\\Spells\\Orc\\Ensnare\\ensnareTarget.mdl" )
    set udg_Ensnare01 = GetLastCreatedEffectBJ()
endfunction

function Trig_Prisoners_Setup_Func015A takes nothing returns nothing
    call AddSpecialEffectTargetUnitBJ( "origin", GetEnumUnit(), "Abilities\\Spells\\Orc\\Ensnare\\ensnareTarget.mdl" )
    set udg_Ensnare02 = GetLastCreatedEffectBJ()
endfunction

function Trig_Prisoners_Setup_Func018A takes nothing returns nothing
    call AddSpecialEffectTargetUnitBJ( "origin", GetEnumUnit(), "Abilities\\Spells\\Orc\\Ensnare\\ensnareTarget.mdl" )
    set udg_Ensnare03 = GetLastCreatedEffectBJ()
endfunction

function Trig_Prisoners_Setup_Func021A takes nothing returns nothing
    call AddSpecialEffectTargetUnitBJ( "origin", GetEnumUnit(), "Abilities\\Spells\\Orc\\Ensnare\\ensnareTarget.mdl" )
    set udg_Ensnare04 = GetLastCreatedEffectBJ()
endfunction

function Trig_Prisoners_Setup_Func024A takes nothing returns nothing
    call AddSpecialEffectTargetUnitBJ( "origin", GetEnumUnit(), "Abilities\\Spells\\Orc\\Ensnare\\ensnareTarget.mdl" )
    set udg_Ensnare05 = GetLastCreatedEffectBJ()
endfunction

function Trig_Prisoners_Setup_Func027A takes nothing returns nothing
    call AddSpecialEffectTargetUnitBJ( "origin", GetEnumUnit(), "Abilities\\Spells\\Orc\\Ensnare\\ensnareTarget.mdl" )
    set udg_Ensnare10 = GetLastCreatedEffectBJ()
endfunction

function Trig_Prisoners_Setup_Func030A takes nothing returns nothing
    call AddSpecialEffectTargetUnitBJ( "origin", GetEnumUnit(), "Abilities\\Spells\\Orc\\Ensnare\\ensnareTarget.mdl" )
    set udg_Ensnare11 = GetLastCreatedEffectBJ()
endfunction

function Trig_Prisoners_Setup_Func033A takes nothing returns nothing
    call AddSpecialEffectTargetUnitBJ( "origin", GetEnumUnit(), "Abilities\\Spells\\Orc\\Ensnare\\ensnareTarget.mdl" )
    set udg_Ensnare12 = GetLastCreatedEffectBJ()
endfunction

function Trig_Prisoners_Setup_Func036A takes nothing returns nothing
    call AddSpecialEffectTargetUnitBJ( "origin", GetEnumUnit(), "Abilities\\Spells\\Orc\\Ensnare\\ensnareTarget.mdl" )
    set udg_Ensnare13 = GetLastCreatedEffectBJ()
endfunction

function Trig_Prisoners_Setup_Func039A takes nothing returns nothing
    call AddSpecialEffectTargetUnitBJ( "origin", GetEnumUnit(), "Abilities\\Spells\\Orc\\Ensnare\\ensnareTarget.mdl" )
    set udg_Ensnare14 = GetLastCreatedEffectBJ()
endfunction

function Trig_Prisoners_Setup_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    // All Prisoners
    set udg_TempUnitGroup = GetUnitsInRectOfPlayer(gg_rct_PrisonersRoom04, udg_AP2_Rescuables)
    call ForGroupBJ( udg_TempUnitGroup, function Trig_Prisoners_Setup_Func005A )
    call DestroyGroup( udg_TempUnitGroup )
    set udg_TempUnitGroup = GetUnitsInRectOfPlayer(gg_rct_PrisonerLastRoom, udg_AP2_Rescuables)
    call ForGroupBJ( udg_TempUnitGroup, function Trig_Prisoners_Setup_Func008A )
    call DestroyGroup( udg_TempUnitGroup )
    // Individual Prisoners
    set udg_TempUnitGroup = GetUnitsInRectOfPlayer(gg_rct_Prisoner01, udg_AP2_Rescuables)
    call ForGroupBJ( udg_TempUnitGroup, function Trig_Prisoners_Setup_Func012A )
    call DestroyGroup( udg_TempUnitGroup )
    set udg_TempUnitGroup = GetUnitsInRectOfPlayer(gg_rct_Prisoner02, udg_AP2_Rescuables)
    call ForGroupBJ( udg_TempUnitGroup, function Trig_Prisoners_Setup_Func015A )
    call DestroyGroup( udg_TempUnitGroup )
    set udg_TempUnitGroup = GetUnitsInRectOfPlayer(gg_rct_Prisoner03, udg_AP2_Rescuables)
    call ForGroupBJ( udg_TempUnitGroup, function Trig_Prisoners_Setup_Func018A )
    call DestroyGroup( udg_TempUnitGroup )
    set udg_TempUnitGroup = GetUnitsInRectOfPlayer(gg_rct_Prisoner04, udg_AP2_Rescuables)
    call ForGroupBJ( udg_TempUnitGroup, function Trig_Prisoners_Setup_Func021A )
    call DestroyGroup( udg_TempUnitGroup )
    set udg_TempUnitGroup = GetUnitsInRectOfPlayer(gg_rct_Prisoner05, udg_AP2_Rescuables)
    call ForGroupBJ( udg_TempUnitGroup, function Trig_Prisoners_Setup_Func024A )
    call DestroyGroup( udg_TempUnitGroup )
    set udg_TempUnitGroup = GetUnitsInRectOfPlayer(gg_rct_Prisoner10, udg_AP2_Rescuables)
    call ForGroupBJ( udg_TempUnitGroup, function Trig_Prisoners_Setup_Func027A )
    call DestroyGroup( udg_TempUnitGroup )
    set udg_TempUnitGroup = GetUnitsInRectOfPlayer(gg_rct_Prisoner11, udg_AP2_Rescuables)
    call ForGroupBJ( udg_TempUnitGroup, function Trig_Prisoners_Setup_Func030A )
    call DestroyGroup( udg_TempUnitGroup )
    set udg_TempUnitGroup = GetUnitsInRectOfPlayer(gg_rct_Prisoner12, udg_AP2_Rescuables)
    call ForGroupBJ( udg_TempUnitGroup, function Trig_Prisoners_Setup_Func033A )
    call DestroyGroup( udg_TempUnitGroup )
    set udg_TempUnitGroup = GetUnitsInRectOfPlayer(gg_rct_Prisoner13, udg_AP2_Rescuables)
    call ForGroupBJ( udg_TempUnitGroup, function Trig_Prisoners_Setup_Func036A )
    call DestroyGroup( udg_TempUnitGroup )
    set udg_TempUnitGroup = GetUnitsInRectOfPlayer(gg_rct_Prisoner14, udg_AP2_Rescuables)
    call ForGroupBJ( udg_TempUnitGroup, function Trig_Prisoners_Setup_Func039A )
    call DestroyGroup( udg_TempUnitGroup )
endfunction

//===========================================================================
function InitTrig_Prisoners_Setup takes nothing returns nothing
    set gg_trg_Prisoners_Setup = CreateTrigger(  )
    call TriggerRegisterTimerEventSingle( gg_trg_Prisoners_Setup, 1.00 )
    call TriggerAddAction( gg_trg_Prisoners_Setup, function Trig_Prisoners_Setup_Actions )
endfunction

//===========================================================================
// Trigger: Prisoners01 Release
//===========================================================================
function Trig_Prisoners01_Release_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call DestroyEffectBJ( udg_Ensnare01 )
endfunction

//===========================================================================
function InitTrig_Prisoners01_Release takes nothing returns nothing
    set gg_trg_Prisoners01_Release = CreateTrigger(  )
    call TriggerRegisterUnitEvent( gg_trg_Prisoners01_Release, gg_unit_ucry_0076, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( gg_trg_Prisoners01_Release, function Trig_Prisoners01_Release_Actions )
endfunction

//===========================================================================
// Trigger: Prisoners02 Release
//===========================================================================
function Trig_Prisoners02_Release_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call DestroyEffectBJ( udg_Ensnare02 )
endfunction

//===========================================================================
function InitTrig_Prisoners02_Release takes nothing returns nothing
    set gg_trg_Prisoners02_Release = CreateTrigger(  )
    call TriggerRegisterUnitEvent( gg_trg_Prisoners02_Release, gg_unit_ucry_0032, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( gg_trg_Prisoners02_Release, function Trig_Prisoners02_Release_Actions )
endfunction

//===========================================================================
// Trigger: Prisoners03 Release
//===========================================================================
function Trig_Prisoners03_Release_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call DestroyEffectBJ( udg_Ensnare03 )
endfunction

//===========================================================================
function InitTrig_Prisoners03_Release takes nothing returns nothing
    set gg_trg_Prisoners03_Release = CreateTrigger(  )
    call TriggerRegisterUnitEvent( gg_trg_Prisoners03_Release, gg_unit_ucry_0075, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( gg_trg_Prisoners03_Release, function Trig_Prisoners03_Release_Actions )
endfunction

//===========================================================================
// Trigger: Prisoners04 Release
//===========================================================================
function Trig_Prisoners04_Release_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call DestroyEffectBJ( udg_Ensnare04 )
endfunction

//===========================================================================
function InitTrig_Prisoners04_Release takes nothing returns nothing
    set gg_trg_Prisoners04_Release = CreateTrigger(  )
    call TriggerRegisterUnitEvent( gg_trg_Prisoners04_Release, gg_unit_ucry_0074, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( gg_trg_Prisoners04_Release, function Trig_Prisoners04_Release_Actions )
endfunction

//===========================================================================
// Trigger: Prisoners05 Release
//===========================================================================
function Trig_Prisoners05_Release_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call DestroyEffectBJ( udg_Ensnare05 )
endfunction

//===========================================================================
function InitTrig_Prisoners05_Release takes nothing returns nothing
    set gg_trg_Prisoners05_Release = CreateTrigger(  )
    call TriggerRegisterUnitEvent( gg_trg_Prisoners05_Release, gg_unit_ucry_0073, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( gg_trg_Prisoners05_Release, function Trig_Prisoners05_Release_Actions )
endfunction

//===========================================================================
// Trigger: Prisoners10 Release
//===========================================================================
function Trig_Prisoners10_Release_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call DestroyEffectBJ( udg_Ensnare10 )
endfunction

//===========================================================================
function InitTrig_Prisoners10_Release takes nothing returns nothing
    set gg_trg_Prisoners10_Release = CreateTrigger(  )
    call TriggerRegisterUnitEvent( gg_trg_Prisoners10_Release, gg_unit_ucry_0071, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( gg_trg_Prisoners10_Release, function Trig_Prisoners10_Release_Actions )
endfunction

//===========================================================================
// Trigger: Prisoners11 Release
//===========================================================================
function Trig_Prisoners11_Release_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call DestroyEffectBJ( udg_Ensnare11 )
endfunction

//===========================================================================
function InitTrig_Prisoners11_Release takes nothing returns nothing
    set gg_trg_Prisoners11_Release = CreateTrigger(  )
    call TriggerRegisterUnitEvent( gg_trg_Prisoners11_Release, gg_unit_ucry_0067, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( gg_trg_Prisoners11_Release, function Trig_Prisoners11_Release_Actions )
endfunction

//===========================================================================
// Trigger: Prisoners12 Release
//===========================================================================
function Trig_Prisoners12_Release_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call DestroyEffectBJ( udg_Ensnare12 )
endfunction

//===========================================================================
function InitTrig_Prisoners12_Release takes nothing returns nothing
    set gg_trg_Prisoners12_Release = CreateTrigger(  )
    call TriggerRegisterUnitEvent( gg_trg_Prisoners12_Release, gg_unit_ucry_0093, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( gg_trg_Prisoners12_Release, function Trig_Prisoners12_Release_Actions )
endfunction

//===========================================================================
// Trigger: Prisoners13 Release
//===========================================================================
function Trig_Prisoners13_Release_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call DestroyEffectBJ( udg_Ensnare13 )
endfunction

//===========================================================================
function InitTrig_Prisoners13_Release takes nothing returns nothing
    set gg_trg_Prisoners13_Release = CreateTrigger(  )
    call TriggerRegisterUnitEvent( gg_trg_Prisoners13_Release, gg_unit_ucry_0092, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( gg_trg_Prisoners13_Release, function Trig_Prisoners13_Release_Actions )
endfunction

//===========================================================================
// Trigger: Prisoners14 Release
//===========================================================================
function Trig_Prisoners14_Release_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call DestroyEffectBJ( udg_Ensnare14 )
endfunction

//===========================================================================
function InitTrig_Prisoners14_Release takes nothing returns nothing
    set gg_trg_Prisoners14_Release = CreateTrigger(  )
    call TriggerRegisterUnitEvent( gg_trg_Prisoners14_Release, gg_unit_ucry_0068, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( gg_trg_Prisoners14_Release, function Trig_Prisoners14_Release_Actions )
endfunction

//===========================================================================
// Trigger: Quake Shake
//===========================================================================
function Trig_Quake_Shake_Actions takes nothing returns nothing
    call CameraSetSourceNoiseForPlayer( udg_AP1_Player, ( 20.00 * GetRandomReal(0.60, 1.40) ), ( 1000.00 * GetRandomReal(0.60, 1.40) ) )
    call SetSoundVolumeBJ( gg_snd_EarthquakeLoop1, 80.00 )
    call PlaySoundBJ( udg_EarthquakeSound )
    call TriggerSleepAction( ( 2.00 * GetRandomReal(0.75, 1.25) ) )
    call CameraClearNoiseForPlayer( udg_AP1_Player )
    call StopSoundBJ( udg_EarthquakeSound, true )
endfunction

//===========================================================================
function InitTrig_Quake_Shake takes nothing returns nothing
    set gg_trg_Quake_Shake = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Quake_Shake, function Trig_Quake_Shake_Actions )
endfunction

//===========================================================================
// Trigger: Fountain Plate
//===========================================================================
function Trig_Fountain_Plate_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    return true
endfunction

function Trig_Fountain_Plate_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    // Activate Plate
    call TriggerSleepAction( 0.80 )
    // Plate Effect
    call ChangeElevatorHeight( udg_FountainElevator, 2 )
    call TriggerSleepAction( 1.30 )
endfunction

//===========================================================================
function InitTrig_Fountain_Plate takes nothing returns nothing
    set gg_trg_Fountain_Plate = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Fountain_Plate, Condition( function Trig_Fountain_Plate_Conditions ) )
    call TriggerAddAction( gg_trg_Fountain_Plate, function Trig_Fountain_Plate_Actions )
endfunction

//===========================================================================
// Trigger: Coins 01
//===========================================================================
function Trig_Coins_01_Actions takes nothing returns nothing
    call SetItemInvulnerableBJ( RandomItemInRectSimpleBJ(gg_rct_Gold_01), true )
endfunction

//===========================================================================
function InitTrig_Coins_01 takes nothing returns nothing
    set gg_trg_Coins_01 = CreateTrigger(  )
    call TriggerRegisterTimerEventSingle( gg_trg_Coins_01, 1.00 )
    call TriggerAddAction( gg_trg_Coins_01, function Trig_Coins_01_Actions )
endfunction

//===========================================================================
// Trigger: Coins 02
//===========================================================================
function Trig_Coins_02_Actions takes nothing returns nothing
    call CreateItemLoc( 'gold', GetRectCenter(gg_rct_Coin02) )
    call SetItemInvulnerableBJ( GetLastCreatedItem(), true )
endfunction

//===========================================================================
function InitTrig_Coins_02 takes nothing returns nothing
    set gg_trg_Coins_02 = CreateTrigger(  )
    call TriggerRegisterDeathEvent( gg_trg_Coins_02, gg_dest_LTcr_0503 )
    call TriggerAddAction( gg_trg_Coins_02, function Trig_Coins_02_Actions )
endfunction

//===========================================================================
// Trigger: Coins 03
//===========================================================================
function Trig_Coins_03_Actions takes nothing returns nothing
    call CreateItemLoc( 'gold', GetRectCenter(gg_rct_Coin03) )
    call SetItemInvulnerableBJ( GetLastCreatedItem(), true )
endfunction

//===========================================================================
function InitTrig_Coins_03 takes nothing returns nothing
    set gg_trg_Coins_03 = CreateTrigger(  )
    call TriggerRegisterDeathEvent( gg_trg_Coins_03, gg_dest_DTes_0368 )
    call TriggerAddAction( gg_trg_Coins_03, function Trig_Coins_03_Actions )
endfunction

//===========================================================================
// Trigger: Coins 04
//===========================================================================
function Trig_Coins_04_Actions takes nothing returns nothing
    call CreateItemLoc( 'gold', GetRectCenter(gg_rct_Coin04) )
    call SetItemInvulnerableBJ( GetLastCreatedItem(), true )
endfunction

//===========================================================================
function InitTrig_Coins_04 takes nothing returns nothing
    set gg_trg_Coins_04 = CreateTrigger(  )
    call TriggerRegisterDeathEvent( gg_trg_Coins_04, gg_dest_DTes_0267 )
    call TriggerAddAction( gg_trg_Coins_04, function Trig_Coins_04_Actions )
endfunction

//===========================================================================
// Trigger: Coins 05
//===========================================================================
function Trig_Coins_05_Actions takes nothing returns nothing
    call CreateItemLoc( 'gold', GetRectCenter(gg_rct_Coin05) )
    call SetItemInvulnerableBJ( GetLastCreatedItem(), true )
endfunction

//===========================================================================
function InitTrig_Coins_05 takes nothing returns nothing
    set gg_trg_Coins_05 = CreateTrigger(  )
    call TriggerRegisterDeathEvent( gg_trg_Coins_05, gg_dest_LTcr_0489 )
    call TriggerAddAction( gg_trg_Coins_05, function Trig_Coins_05_Actions )
endfunction

//===========================================================================
// Trigger: Next Level Prep
//===========================================================================
function Trig_Next_Level_Prep_Actions takes nothing returns nothing
    // Remove Quest Items
    // Save Heroes
    call InitGameCacheBJ( "Campaigns.w3v" )
    call StoreUnitBJ( udg_Arthas, "Arthas", "UndeadX07c", GetLastCreatedGameCacheBJ() )
    call StoreUnitBJ( udg_Anubarak, "Anub", "UndeadX07c", GetLastCreatedGameCacheBJ() )
    // Save Gold
    call StoreIntegerBJ( GetPlayerState(udg_AP1_Player, PLAYER_STATE_RESOURCE_GOLD), "Gold", "UndeadX07c", GetLastCreatedGameCacheBJ() )
    // Save Cache
    call SaveGameCacheBJ( GetLastCreatedGameCacheBJ() )
    // Enable Missions, Campaigns, Cinematics
    call SetMissionAvailableBJ( true, bj_MISSION_INDEX_XU10 )
endfunction

//===========================================================================
function InitTrig_Next_Level_Prep takes nothing returns nothing
    set gg_trg_Next_Level_Prep = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Next_Level_Prep, function Trig_Next_Level_Prep_Actions )
endfunction

//===========================================================================
// Trigger: Next Level Run
//===========================================================================
function Trig_Next_Level_Run_Actions takes nothing returns nothing
    // Set Next Level and Victory
    call SetNextLevelBJ( "Maps\\FrozenThrone\\Campaign\\UndeadX07c.w3x" )
    call CustomVictoryBJ( udg_AP1_Player, true, true )
endfunction

//===========================================================================
function InitTrig_Next_Level_Run takes nothing returns nothing
    set gg_trg_Next_Level_Run = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Next_Level_Run, function Trig_Next_Level_Run_Actions )
endfunction

//===========================================================================
// Trigger: Victory Cheat
//===========================================================================
function Trig_Victory_Cheat_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Victory_Cheat_Actions takes nothing returns nothing
    set udg_GameOver = true
    call ConditionalTriggerExecute( gg_trg_Next_Level_Prep )
    call ConditionalTriggerExecute( gg_trg_Next_Level_Run )
endfunction

//===========================================================================
function InitTrig_Victory_Cheat takes nothing returns nothing
    set gg_trg_Victory_Cheat = CreateTrigger(  )
    call TriggerRegisterPlayerEventVictory( gg_trg_Victory_Cheat, Player(0) )
    call TriggerAddCondition( gg_trg_Victory_Cheat, Condition( function Trig_Victory_Cheat_Conditions ) )
    call TriggerAddAction( gg_trg_Victory_Cheat, function Trig_Victory_Cheat_Actions )
endfunction

//===========================================================================
// Trigger: Defeat Cheat
//===========================================================================
function Trig_Defeat_Cheat_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Defeat_Cheat_Actions takes nothing returns nothing
    set udg_GameOver = true
    call CustomDefeatBJ( udg_AP1_Player, "TRIGSTR_043" )
endfunction

//===========================================================================
function InitTrig_Defeat_Cheat takes nothing returns nothing
    set gg_trg_Defeat_Cheat = CreateTrigger(  )
    call TriggerRegisterPlayerEventDefeat( gg_trg_Defeat_Cheat, Player(0) )
    call TriggerAddCondition( gg_trg_Defeat_Cheat, Condition( function Trig_Defeat_Cheat_Conditions ) )
    call TriggerAddAction( gg_trg_Defeat_Cheat, function Trig_Defeat_Cheat_Actions )
endfunction

//===========================================================================
// Trigger: Victory Door Open
//===========================================================================
function Trig_Victory_Door_Open_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( GetDyingUnit() == udg_TheForgottenOne ) ) then
        return false
    endif
    return true
endfunction

function Trig_Victory_Door_Open_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_GameOver = true
    call SetUnitInvulnerable( udg_Arthas, true )
    call SetUnitInvulnerable( udg_Anubarak, true )
    // Quest update
    call QueuedTriggerAddBJ( gg_trg_Quest_Forgotten_One_Completed_Q, true )
    call QueuedTriggerAddBJ( gg_trg_Victory_Cinematic_Q, true )
endfunction

//===========================================================================
function InitTrig_Victory_Door_Open takes nothing returns nothing
    set gg_trg_Victory_Door_Open = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Victory_Door_Open, Player(3), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Victory_Door_Open, Condition( function Trig_Victory_Door_Open_Conditions ) )
    call TriggerAddAction( gg_trg_Victory_Door_Open, function Trig_Victory_Door_Open_Actions )
endfunction

//===========================================================================
// Trigger: Defeat Arthas Dead
//===========================================================================
function Trig_Defeat_Arthas_Dead_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( GetDyingUnit() == udg_Arthas ) ) then
        return false
    endif
    return true
endfunction

function Trig_Defeat_Arthas_Dead_Actions takes nothing returns nothing
    set udg_GameOver = true
    call TriggerSleepAction( 2 )
    call ConditionalTriggerExecute( gg_trg_Mission_Failed_Arthas_Dead )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call CustomDefeatBJ( udg_AP1_Player, "TRIGSTR_072" )
endfunction

//===========================================================================
function InitTrig_Defeat_Arthas_Dead takes nothing returns nothing
    set gg_trg_Defeat_Arthas_Dead = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Defeat_Arthas_Dead, Player(0), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Defeat_Arthas_Dead, Condition( function Trig_Defeat_Arthas_Dead_Conditions ) )
    call TriggerAddAction( gg_trg_Defeat_Arthas_Dead, function Trig_Defeat_Arthas_Dead_Actions )
endfunction

//===========================================================================
// Trigger: Defeat Anubarak Dead
//===========================================================================
function Trig_Defeat_Anubarak_Dead_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( GetDyingUnit() == udg_Anubarak ) ) then
        return false
    endif
    return true
endfunction

function Trig_Defeat_Anubarak_Dead_Actions takes nothing returns nothing
    set udg_GameOver = true
    call TriggerSleepAction( 2 )
    call ConditionalTriggerExecute( gg_trg_Mission_Failed_Anubarak_Dead )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call CustomDefeatBJ( udg_AP1_Player, "TRIGSTR_301" )
endfunction

//===========================================================================
function InitTrig_Defeat_Anubarak_Dead takes nothing returns nothing
    set gg_trg_Defeat_Anubarak_Dead = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Defeat_Anubarak_Dead, Player(0), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Defeat_Anubarak_Dead, Condition( function Trig_Defeat_Anubarak_Dead_Conditions ) )
    call TriggerAddAction( gg_trg_Defeat_Anubarak_Dead, function Trig_Defeat_Anubarak_Dead_Actions )
endfunction

//===========================================================================
function InitCustomTriggers takes nothing returns nothing
    call InitTrig_Initialization(  )
    call InitTrig_Init_01_Players(  )
    call InitTrig_Init_02_Units(  )
    call InitTrig_Init_03_Music(  )
    call InitTrig_Init_03_Sounds(  )
    call InitTrig_Init_04_Environment(  )
    call InitTrig_Init_05_Quests(  )
    call InitTrig_Init_06a_Hard(  )
    call InitTrig_Init_06b_Normal(  )
    call InitTrig_Init_06c_Easy(  )
    call InitTrig_Init_07_Regions_to_Points(  )
    call InitTrig_Load_Heroes_and_Gold(  )
    call InitTrig_Load_Arthas(  )
    call InitTrig_Load_Anubarak(  )
    call InitTrig_Experience_Cap_Anubarak(  )
    call InitTrig_Crab_Elevator_Setup(  )
    call InitTrig_Init_Crab_Door(  )
    call InitTrig_Init_Item_Trap_Floor_Plate(  )
    call InitTrig_Init_Forgotten_One_Area(  )
    call InitTrig_Intro_Cinematic_Q(  )
    call InitTrig_Arthas_Facing(  )
    call InitTrig_Anubarak_Facing(  )
    call InitTrig_Intro_Skipped(  )
    call InitTrig_Intro_Setup(  )
    call InitTrig_Intro_Cleanup(  )
    call InitTrig_Gameplay(  )
    call InitTrig_Forgotten_One_Init(  )
    call InitTrig_Forgotten_One_Cinematic_Q(  )
    call InitTrig_Forgotton_One_Quake_Shake(  )
    call InitTrig_Forgotten_One_Skipped(  )
    call InitTrig_Forgotten_One_Setup(  )
    call InitTrig_Forgotten_One_Cleanup(  )
    call InitTrig_OuterFOElevatorRingUp(  )
    call InitTrig_OuterFOElevatorRingUpInstant(  )
    call InitTrig_InnerFOElevatorRingUp(  )
    call InitTrig_InnerFOElevatorRingUpInstant(  )
    call InitTrig_Forgotten_One_Elevator_Sounds(  )
    call InitTrig_Gameplay_Forgotten_One(  )
    call InitTrig_Victory_Cinematic_Q(  )
    call InitTrig_Victory_Create_Mass_of__Faceless(  )
    call InitTrig_Victory_Skipped(  )
    call InitTrig_Victory_Setup(  )
    call InitTrig_ArthasRunSound(  )
    call InitTrig_Quest_Locate_the_Exit_Create(  )
    call InitTrig_Quest_Locate_the_Exit_Discover(  )
    call InitTrig_Quest_Locate_the_Exit_Completed(  )
    call InitTrig_Quest_Forgotten_One_Create(  )
    call InitTrig_Quest_Forgotten_One_Discover(  )
    call InitTrig_Quest_Forgotten_One_Completed(  )
    call InitTrig_Quest_Cryptfiend_Create(  )
    call InitTrig_Quest_Cryptfiend_Discover(  )
    call InitTrig_Quest_Cryptfiend_Completed(  )
    call InitTrig_Quest_Gold_Create(  )
    call InitTrig_Quest_Gold_Discover(  )
    call InitTrig_Quest_Gold_Completed(  )
    call InitTrig_Gold_02_Found(  )
    call InitTrig_Gold_03_Found(  )
    call InitTrig_Gold_04_Found(  )
    call InitTrig_Mission_Failed_Arthas_Dead(  )
    call InitTrig_Mission_Failed_Anubarak_Dead(  )
    call InitTrig_Player_Reaches_Towers(  )
    call InitTrig_Voiceover_Towers_Q(  )
    call InitTrig_Voiceover_Traitor(  )
    call InitTrig_Voiceover_Traitor_Q(  )
    call InitTrig_Voiceover_Drive_Them_Back(  )
    call InitTrig_Voiceover_Drive_Them_Back_Q(  )
    call InitTrig_Voiceover_Slay_the_Intruders(  )
    call InitTrig_Voiceover_Slay_the_Intruders_Q(  )
    call InitTrig_Voiceover_Death_to_the_Servants(  )
    call InitTrig_Voiceover_Death_to_the_Servants_Q(  )
    call InitTrig_Voiceover_Guardians(  )
    call InitTrig_Voiceover_Guardians_Q(  )
    call InitTrig_Voiceover_Hostile_Eggs(  )
    call InitTrig_Voiceover_Hostile_Eggs_Q(  )
    call InitTrig_Voiceover_Faceless_Ones_01(  )
    call InitTrig_Voiceover_Faceless_Ones_01_Q(  )
    call InitTrig_Voiceover_Thats_done_it(  )
    call InitTrig_Voiceover_Thats_done_it_Q(  )
    call InitTrig_Coin_Found(  )
    call InitTrig_First_Coin_Found_Q(  )
    call InitTrig_Second_Coin_Found_Q(  )
    call InitTrig_Third_Coin_Found_Q(  )
    call InitTrig_Fourth_Coin_Found_Q(  )
    call InitTrig_Fifth_Coin_Found_Q(  )
    call InitTrig_Quest_Exit_Discover_Q(  )
    call InitTrig_Quest_Exit_Completed_Q(  )
    call InitTrig_Quest_Forgotten_One_Discover_Q(  )
    call InitTrig_Quest_Forgotten_One_Completed_Q(  )
    call InitTrig_Crypt_Fiend_Rescued(  )
    call InitTrig_Quest_Rescue_CryptFiend_Discover_Q(  )
    call InitTrig_Check_for_All_Rescued(  )
    call InitTrig_Quest_All_Cryptfiend_Rescued_Q(  )
    call InitTrig_RevealerStartTown02(  )
    call InitTrig_RevealerGroupAddTower(  )
    call InitTrig_RevealerGroupSubtractTower(  )
    call InitTrig_RevealerCheckTower(  )
    call InitTrig_RevealerTowerSafety(  )
    call InitTrig_RevealerBoss(  )
    call InitTrig_RevealerGroupAddBoss(  )
    call InitTrig_RevealerGroupSubtractBoss(  )
    call InitTrig_RevealerCheckBoss(  )
    call InitTrig_RevealerBossSafety(  )
    call InitTrig_RevealerEggs(  )
    call InitTrig_RevealerGroupAddEggs(  )
    call InitTrig_RevealerGroupSubtractEggs(  )
    call InitTrig_RevealerCheckEggs(  )
    call InitTrig_RevealerSafetyEggs(  )
    call InitTrig_Door01(  )
    call InitTrig_Door02(  )
    call InitTrig_Door03(  )
    call InitTrig_Door04(  )
    call InitTrig_Lower_Crab_Elevator(  )
    call InitTrig_Rock_Breaks_on_Left(  )
    call InitTrig_Tower_Lever_Left(  )
    call InitTrig_Tower_Lever_Right(  )
    call InitTrig_Flood_Left(  )
    call InitTrig_Flood_Right(  )
    call InitTrig_Crab_Wander(  )
    call InitTrig_Crab_Attacked(  )
    call InitTrig_Unit_hits_Crab_Tripwire(  )
    call InitTrig_Trigger_Crab_Encounter(  )
    call InitTrig_Crab_Dies(  )
    call InitTrig_Check_for_All_Crab_Death(  )
    call InitTrig_Behemoth_Crab_Dies(  )
    call InitTrig_Check_for_Plate_Visibility(  )
    call InitTrig_Open_Item_Trap_Doors(  )
    call InitTrig_Close_Item_Trap_Doors(  )
    call InitTrig_Trigger_Item_Trap(  )
    call InitTrig_Trap_Unburrow(  )
    call InitTrig_Uproot_Picked_Fiend(  )
    call InitTrig_RollingDoorOpenSound1(  )
    call InitTrig_RollingDoorOpenSound2(  )
    call InitTrig_Eggs_Tripwire(  )
    call InitTrig_Queen_Attacked(  )
    call InitTrig_Start_Egg_Machine(  )
    call InitTrig_Eggs_Generator_01(  )
    call InitTrig_Eggs_Generator_02(  )
    call InitTrig_Eggs_Generator_03(  )
    call InitTrig_Eggs_Generator_04(  )
    call InitTrig_Spiderling_Dies(  )
    call InitTrig_Spiderling_Heartbeat(  )
    call InitTrig_Eggs01_Destroyed(  )
    call InitTrig_Eggs02_Destroyed(  )
    call InitTrig_Eggs03_Destroyed(  )
    call InitTrig_Eggs04_Destroyed(  )
    call InitTrig_Eggs01_Lever(  )
    call InitTrig_Eggs02_Lever(  )
    call InitTrig_Eggs03_Lever(  )
    call InitTrig_Eggs04_Lever(  )
    call InitTrig_Eggs_All_Stopped_Check(  )
    call InitTrig_EggsRollingDoorSound1(  )
    call InitTrig_EggsRollingDoorSound2(  )
    call InitTrig_EggsRollingDoorSound3(  )
    call InitTrig_EggsRollingDoorSound4(  )
    call InitTrig_SpawnTentacle01(  )
    call InitTrig_SpawnTentacle02(  )
    call InitTrig_SpawnTentacle03(  )
    call InitTrig_SpawnTentacle04(  )
    call InitTrig_SpawnFacelessFriendsTimerExpire(  )
    call InitTrig_ForgottenOneCombatDetected01(  )
    call InitTrig_ForgottenOneCombatDetected02(  )
    call InitTrig_ForgottenOneCombatResolved(  )
    call InitTrig_FOFriendsHeartbeat(  )
    call InitTrig_FOFriend_Dies(  )
    call InitTrig_Prisoners_Setup(  )
    call InitTrig_Prisoners01_Release(  )
    call InitTrig_Prisoners02_Release(  )
    call InitTrig_Prisoners03_Release(  )
    call InitTrig_Prisoners04_Release(  )
    call InitTrig_Prisoners05_Release(  )
    call InitTrig_Prisoners10_Release(  )
    call InitTrig_Prisoners11_Release(  )
    call InitTrig_Prisoners12_Release(  )
    call InitTrig_Prisoners13_Release(  )
    call InitTrig_Prisoners14_Release(  )
    call InitTrig_Quake_Shake(  )
    call InitTrig_Fountain_Plate(  )
    call InitTrig_Coins_01(  )
    call InitTrig_Coins_02(  )
    call InitTrig_Coins_03(  )
    call InitTrig_Coins_04(  )
    call InitTrig_Coins_05(  )
    call InitTrig_Next_Level_Prep(  )
    call InitTrig_Next_Level_Run(  )
    call InitTrig_Victory_Cheat(  )
    call InitTrig_Defeat_Cheat(  )
    call InitTrig_Victory_Door_Open(  )
    call InitTrig_Defeat_Arthas_Dead(  )
    call InitTrig_Defeat_Anubarak_Dead(  )
endfunction

//===========================================================================
function RunInitializationTriggers takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Initialization )
    call ConditionalTriggerExecute( gg_trg_Crab_Elevator_Setup )
    call ConditionalTriggerExecute( gg_trg_Init_Crab_Door )
    call ConditionalTriggerExecute( gg_trg_Init_Item_Trap_Floor_Plate )
    call ConditionalTriggerExecute( gg_trg_Init_Forgotten_One_Area )
endfunction

//***************************************************************************
//*
//*  Upgrades
//*
//***************************************************************************

function InitUpgrades_Player0 takes nothing returns nothing
    call SetPlayerTechResearched( Player(0), 'Ruac', 1 )
    call SetPlayerTechMaxAllowed( Player(0), 'Ruwb', 0 )
    call SetPlayerTechResearched( Player(0), 'Rubu', 1 )
    call SetPlayerTechResearched( Player(0), 'Rume', 2 )
    call SetPlayerTechResearched( Player(0), 'Rura', 2 )
    call SetPlayerTechResearched( Player(0), 'Ruar', 2 )
    call SetPlayerTechResearched( Player(0), 'Rucr', 2 )
endfunction

function InitUpgrades takes nothing returns nothing
    call InitUpgrades_Player0(  )
endfunction

//***************************************************************************
//*
//*  Players
//*
//***************************************************************************

function InitCustomPlayerSlots takes nothing returns nothing

    // Player 0
    call SetPlayerStartLocation( Player(0), 0 )
    call ForcePlayerStartLocation( Player(0), 0 )
    call SetPlayerColor( Player(0), ConvertPlayerColor(0) )
    call SetPlayerRacePreference( Player(0), RACE_PREF_UNDEAD )
    call SetPlayerRaceSelectable( Player(0), false )
    call SetPlayerController( Player(0), MAP_CONTROL_USER )

    // Player 1
    call SetPlayerStartLocation( Player(1), 1 )
    call ForcePlayerStartLocation( Player(1), 1 )
    call SetPlayerColor( Player(1), ConvertPlayerColor(1) )
    call SetPlayerRacePreference( Player(1), RACE_PREF_UNDEAD )
    call SetPlayerRaceSelectable( Player(1), false )
    call SetPlayerController( Player(1), MAP_CONTROL_RESCUABLE )
    call SetPlayerAlliance( Player(1), Player(0), ALLIANCE_RESCUABLE, true )

    // Player 2
    call SetPlayerStartLocation( Player(2), 2 )
    call ForcePlayerStartLocation( Player(2), 2 )
    call SetPlayerColor( Player(2), ConvertPlayerColor(2) )
    call SetPlayerRacePreference( Player(2), RACE_PREF_UNDEAD )
    call SetPlayerRaceSelectable( Player(2), false )
    call SetPlayerController( Player(2), MAP_CONTROL_COMPUTER )

    // Player 3
    call SetPlayerStartLocation( Player(3), 3 )
    call ForcePlayerStartLocation( Player(3), 3 )
    call SetPlayerColor( Player(3), ConvertPlayerColor(3) )
    call SetPlayerRacePreference( Player(3), RACE_PREF_UNDEAD )
    call SetPlayerRaceSelectable( Player(3), false )
    call SetPlayerController( Player(3), MAP_CONTROL_COMPUTER )

    // Player 4
    call SetPlayerStartLocation( Player(4), 4 )
    call ForcePlayerStartLocation( Player(4), 4 )
    call SetPlayerColor( Player(4), ConvertPlayerColor(4) )
    call SetPlayerRacePreference( Player(4), RACE_PREF_UNDEAD )
    call SetPlayerRaceSelectable( Player(4), false )
    call SetPlayerController( Player(4), MAP_CONTROL_COMPUTER )

endfunction

function InitCustomTeams takes nothing returns nothing
    // Force: TRIGSTR_006
    call SetPlayerTeam( Player(0), 0 )
    call SetPlayerTeam( Player(1), 0 )

    //   Allied
    call SetPlayerAllianceStateAllyBJ( Player(0), Player(1), true )
    call SetPlayerAllianceStateAllyBJ( Player(1), Player(0), true )

    // Force: TRIGSTR_059
    call SetPlayerTeam( Player(2), 1 )
    call SetPlayerTeam( Player(3), 1 )
    call SetPlayerTeam( Player(4), 1 )

    //   Allied
    call SetPlayerAllianceStateAllyBJ( Player(2), Player(3), true )
    call SetPlayerAllianceStateAllyBJ( Player(2), Player(4), true )
    call SetPlayerAllianceStateAllyBJ( Player(3), Player(2), true )
    call SetPlayerAllianceStateAllyBJ( Player(3), Player(4), true )
    call SetPlayerAllianceStateAllyBJ( Player(4), Player(2), true )
    call SetPlayerAllianceStateAllyBJ( Player(4), Player(3), true )

    //   Shared Vision
    call SetPlayerAllianceStateVisionBJ( Player(2), Player(3), true )
    call SetPlayerAllianceStateVisionBJ( Player(2), Player(4), true )
    call SetPlayerAllianceStateVisionBJ( Player(3), Player(2), true )
    call SetPlayerAllianceStateVisionBJ( Player(3), Player(4), true )
    call SetPlayerAllianceStateVisionBJ( Player(4), Player(2), true )
    call SetPlayerAllianceStateVisionBJ( Player(4), Player(3), true )

endfunction

function InitAllyPriorities takes nothing returns nothing

    call SetStartLocPrioCount( 1, 3 )
    call SetStartLocPrio( 1, 0, 2, MAP_LOC_PRIO_LOW )
    call SetStartLocPrio( 1, 1, 3, MAP_LOC_PRIO_LOW )

    call SetStartLocPrioCount( 2, 3 )
    call SetStartLocPrio( 2, 0, 1, MAP_LOC_PRIO_LOW )
    call SetStartLocPrio( 2, 1, 3, MAP_LOC_PRIO_LOW )

    call SetStartLocPrioCount( 3, 3 )
    call SetStartLocPrio( 3, 0, 1, MAP_LOC_PRIO_LOW )
    call SetStartLocPrio( 3, 1, 2, MAP_LOC_PRIO_LOW )

    call SetStartLocPrioCount( 4, 3 )
    call SetStartLocPrio( 4, 0, 1, MAP_LOC_PRIO_LOW )
    call SetStartLocPrio( 4, 1, 2, MAP_LOC_PRIO_LOW )
    call SetStartLocPrio( 4, 2, 3, MAP_LOC_PRIO_LOW )
endfunction

//***************************************************************************
//*
//*  Main Initialization
//*
//***************************************************************************

//===========================================================================
function main takes nothing returns nothing
    call SetCameraBounds( -3328.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), -3584.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM), 5760.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), 5632.0 - GetCameraMargin(CAMERA_MARGIN_TOP), -3328.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), 5632.0 - GetCameraMargin(CAMERA_MARGIN_TOP), 5760.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), -3584.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM) )
    call SetDayNightModels( "Environment\\DNC\\DNCLordaeron\\DNCLordaeronTerrain\\DNCLordaeronTerrain.mdl", "Environment\\DNC\\DNCLordaeron\\DNCLordaeronUnit\\DNCLordaeronUnit.mdl" )
    call NewSoundEnvironment( "Dungeon" )
    call SetAmbientDaySound( "IceCrownDay" )
    call SetAmbientNightSound( "IceCrownNight" )
    call SetMapMusic( "Music", true, 0 )
    call InitSounds(  )
    call CreateRegions(  )
    call CreateCameras(  )
    call InitUpgrades(  )
    call CreateAllDestructables(  )
    call CreateAllItems(  )
    call CreateAllUnits(  )
    call InitBlizzard(  )
    call InitGlobals(  )
    call InitCustomTriggers(  )
    call RunInitializationTriggers(  )

endfunction

//***************************************************************************
//*
//*  Map Configuration
//*
//***************************************************************************

function config takes nothing returns nothing
    call SetMapName( "TRIGSTR_001" )
    call SetMapDescription( "TRIGSTR_003" )
    call SetPlayers( 5 )
    call SetTeams( 5 )
    call SetGamePlacement( MAP_PLACEMENT_USE_MAP_SETTINGS )

    call DefineStartLocation( 0, -2176.0, -2752.0 )
    call DefineStartLocation( 1, -640.0, -2240.0 )
    call DefineStartLocation( 2, -512.0, -3392.0 )
    call DefineStartLocation( 3, -576.0, -2560.0 )
    call DefineStartLocation( 4, -256.0, -2560.0 )

    // Player setup
    call InitCustomPlayerSlots(  )
    call InitCustomTeams(  )
    call InitAllyPriorities(  )
endfunction

