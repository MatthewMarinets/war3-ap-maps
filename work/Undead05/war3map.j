//===========================================================================
// 
// Undead05
// 
//   Warcraft III map script
//   Generated by the Warcraft III World Editor
//   Date: Sun Jun 02 13:54:11 2002
//   Map Author: Blizzard Entertainment
// 
//===========================================================================

//***************************************************************************
//*
//*  Global Variables
//*
//***************************************************************************

globals
    // User-defined
    boolean             udg_IntroCinematicRunning
    boolean             udg_IntroCinematicEscape
    boolean             udg_ExitCinematicEscape
    boolean             udg_ExitCinematicRunning
    unit                udg_Arthas                 = null
    weathereffect       udg_WeatherSunbeams        = null
    player              udg_PlayerSylvanus         = null
    player              udg_PlayerSilvermoon       = null
    player              udg_PlayerArthas           = null
    effect              udg_EffectDarkSummoning    = null
    player              udg_PlayerTichondrius      = null
    unit                udg_Tichondrius            = null
    unit                udg_Sylvanas               = null
    group               udg_SylvanasAttackGroup    = null
    timer               udg_TimerSylvanasAttack    = null
    unit                udg_SylvanasIntro          = null
    unit                udg_SilvermoonArchMage     = null
    timer               udg_TimerReinforcementWarning = null
    quest               udg_QuestSunwell           = null
    quest               udg_QuestSilvanus          = null
    quest               udg_QuestRunners           = null
    timer               udg_TimerFirstMessenger    = null
    unit                udg_Runner                 = null
    group               udg_GargoyleGroup          = null
    boolean             udg_RunnerActive
    timer               udg_TimerRunner            = null
    boolean             udg_SylvanasCinematicEscape
    boolean             udg_SylvanasCinematicRunning
    unit                udg_SylvanasBanshee        = null
    boolean             udg_AISilvermoonActive
    boolean             udg_AIBlueActive
    boolean             udg_SylvanasBansheeCreated
    questitem           udg_QuestReqSunwellGuardians = null
    questitem           udg_QuestReqSunwellArthas  = null
    questitem           udg_QuestReqSilvanus       = null
    questitem           udg_QuestReqRunners        = null
    boolean             udg_ArthasAtSunwell
    group               udg_GuardianGroup          = null
    boolean             udg_GuardiansDead
    unit                udg_ExitDeathSceneAFarm01  = null
    unit                udg_ExitDeathSceneAFarm02  = null
    unit                udg_ExitDeathSceneBFarm01  = null
    unit                udg_ExitDeathSceneBFarm04  = null
    unit                udg_ExitKelthuzadGhost     = null
    unit                udg_ExitKelthuzadLich      = null
    timer               udg_TimerBansheeHint       = null
    player              udg_PlayerSilvermoonBrown  = null
    unit                udg_ExitDeathSceneAElf     = null
    unit                udg_ExitDeathSceneBElf01   = null
    rect                udg_RunnerVariableTarget   = null
    real                udg_RandomRegion
    real                udg_RunnerTimerLength
    unit                udg_ExitDeathSceneBElf02   = null
    unit                udg_ExitDeathSceneBElf03   = null
    real                udg_RunnerMovementSpeedHandicap
    timer               udg_TimerStartSylvanusAI   = null
    questitem           udg_QuestReqNoAttackSilvermoon = null
    timer               udg_TimerStoneFormHint     = null
    real                udg_FadeIn
    real                udg_FadeOut
    location            udg_ArthasInitialPosition  = null
    real                udg_RunnerRandomLine
    boolean             udg_GargoyleCinematicRunning
    boolean             udg_GargoyleCinematicEscape
    unit                udg_RunnerSpawnBuilding    = null
    timer               udg_TimerRunnerFailsafe    = null
    leaderboard         udg_LeaderboardRunner      = null
    timerdialog         udg_TimerWindowRunner      = null
    effect              udg_EffectLichRes          = null
    group               udg_UnitGroupSelection     = null
    unit                udg_UnitVillager01         = null
    unit                udg_UnitVillager02         = null
    unit                udg_UnitVillager03         = null
    unit                udg_UnitVillager04         = null
    unit                udg_UnitVillager05         = null
    unit                udg_UnitAltar              = null
    location            udg_PointArthasRevivePosition = null
    unit                udg_UnitExitDeathSceneGhoul = null
    boolean             udg_GameOver

    // Generated
    rect                gg_rct_ExitDeathSceneAClear = null
    rect                gg_rct_ExitDeathSceneAFarm01 = null
    rect                gg_rct_ExitDeathSceneAFarm02 = null
    rect                gg_rct_ExitDeathSceneAGhoul01 = null
    rect                gg_rct_ExitDeathSceneAGhoul02 = null
    rect                gg_rct_ExitDeathSceneAGhoul03 = null
    rect                gg_rct_ExitDeathSceneAVillager = null
    rect                gg_rct_ExitDeathSceneBClear = null
    rect                gg_rct_ExitDeathSceneBFarm01 = null
    rect                gg_rct_ExitDeathSceneBFarm02 = null
    rect                gg_rct_ExitDeathSceneBFarm03 = null
    rect                gg_rct_ExitDeathSceneBFarm04 = null
    rect                gg_rct_ExitDeathSceneBMeatWagon01 = null
    rect                gg_rct_ExitDeathSceneBMeatWagon02 = null
    rect                gg_rct_ExitDeathSceneBMeatWagon03 = null
    rect                gg_rct_ExitDeathSceneBVillager01 = null
    rect                gg_rct_ExitDeathSceneBVillager03 = null
    rect                gg_rct_ExitSpawnKelThuzadGhost = null
    rect                gg_rct_Gargoyle01          = null
    rect                gg_rct_Gargoyle02          = null
    rect                gg_rct_Gargoyle03          = null
    rect                gg_rct_Gargoyle04          = null
    rect                gg_rct_GargoylePing        = null
    rect                gg_rct_InitialArthasLocation = null
    rect                gg_rct_IntroSpawnTicho_Talk = null
    rect                gg_rct_IntroTichoItem      = null
    rect                gg_rct_RunnerSpawn         = null
    rect                gg_rct_RunnerTargetEast    = null
    rect                gg_rct_RunnerTargetWest    = null
    rect                gg_rct_RegionRedirectB     = null
    rect                gg_rct_RegionRedirectC     = null
    rect                gg_rct_RegionRedirectD     = null
    rect                gg_rct_SunwellCOP          = null
    rect                gg_rct_SylvanasAttackTarget = null
    rect                gg_rct_SylvanasBansheeFacing = null
    rect                gg_rct_SylvanasBuildingFailsafe = null
    rect                gg_rct_SylvanasInitialArthas = null
    rect                gg_rct_SylvanasInitialSylvanus = null
    rect                gg_rct_SylvanasIntroGroup  = null
    rect                gg_rct_SylvanusIntroFailsafe = null
    rect                gg_rct_WeatherSunlight     = null
    rect                gg_rct_VisibilitySunwell   = null
    rect                gg_rct_IntroSpawnTicho     = null
    rect                gg_rct_SylvanusIntroRevive = null
    rect                gg_rct_GargoyleInitialRunner = null
    rect                gg_rct_GargoyleFinalRunner = null
    rect                gg_rct_RunnerVis2          = null
    rect                gg_rct_RunnerVis3          = null
    rect                gg_rct_RunnerVis4          = null
    rect                gg_rct_RunnerVis1          = null
    rect                gg_rct_FountainSound       = null
    rect                gg_rct_StreamLoop01        = null
    rect                gg_rct_StreamLoop02        = null
    rect                gg_rct_StreamLoop03        = null
    rect                gg_rct_StreamLoop04        = null
    rect                gg_rct_StreamLoop05        = null
    rect                gg_rct_StreamLoop06        = null
    rect                gg_rct_StreamLoop07        = null
    rect                gg_rct_StreamLoop08        = null
    rect                gg_rct_StreamLoop09        = null
    rect                gg_rct_StreamLoop10        = null
    rect                gg_rct_StreamLoop11        = null
    rect                gg_rct_StreamLoop12        = null
    rect                gg_rct_StreamLoop13        = null
    rect                gg_rct_StreamLoop14        = null
    rect                gg_rct_Villager04Patrol    = null
    rect                gg_rct_Villager03Patrol    = null
    rect                gg_rct_Villager05Patrol    = null
    rect                gg_rct_Villager02Patrol    = null
    rect                gg_rct_Villager01Patrol    = null
    rect                gg_rct_Villager01Flee      = null
    rect                gg_rct_Villager02Flee      = null
    rect                gg_rct_Villager03Flee      = null
    rect                gg_rct_Villager04Flee      = null
    rect                gg_rct_Villager05Flee      = null
    camerasetup         gg_cam_IntroInitialCam     = null
    camerasetup         gg_cam_IntroTichoCloseup   = null
    camerasetup         gg_cam_IntroArthasCloseup  = null
    camerasetup         gg_cam_IntroSunWell        = null
    camerasetup         gg_cam_IntroSunWellCloseup = null
    camerasetup         gg_cam_SylvanusCamera      = null
    camerasetup         gg_cam_SylvanusFight       = null
    camerasetup         gg_cam_ExitInitialSunwell  = null
    camerasetup         gg_cam_ExitDeathSceneA     = null
    camerasetup         gg_cam_ExitDeathSceneB     = null
    camerasetup         gg_cam_GargoyleView        = null
    sound               gg_snd_AltarOfDarknessWhat = null
    sound               gg_snd_BansheeDeath        = null
    sound               gg_snd_CityscapeFountainLoop1 = null
    sound               gg_snd_CityScapeMagicRunesLoop1 = null
    sound               gg_snd_DarkRitualTarget1   = null
    sound               gg_snd_DarkSummoningTarget1 = null
    sound               gg_snd_InvisibilityTarget  = null
    sound               gg_snd_QuestCompleted      = null
    sound               gg_snd_QuestFailed         = null
    sound               gg_snd_U04AArthas09        = null
    sound               gg_snd_U04AArthas19        = null
    sound               gg_snd_U04AArthas22        = null
    sound               gg_snd_U04AKelThuzad08     = null
    sound               gg_snd_U04ASylvanas20      = null
    sound               gg_snd_U04ASylvanas21      = null
    sound               gg_snd_U04ASylvanas23      = null
    sound               gg_snd_U05AArthas02        = null
    sound               gg_snd_U05AArthas04        = null
    sound               gg_snd_U05AArthas06        = null
    sound               gg_snd_U05AArthas12        = null
    sound               gg_snd_U05AArthas14        = null
    sound               gg_snd_U05AArthas22        = null
    sound               gg_snd_U05AArthas30        = null
    sound               gg_snd_U05AArthas32        = null
    sound               gg_snd_U05AKelThuzad07     = null
    sound               gg_snd_U05AKelThuzad31     = null
    sound               gg_snd_U05AKelThuzad33     = null
    sound               gg_snd_U05ANecromancer11   = null
    sound               gg_snd_U05ANecromancer13   = null
    sound               gg_snd_U05ANecromancer13A  = null
    sound               gg_snd_U05ANecromancer15   = null
    sound               gg_snd_U05ANecromancer16   = null
    sound               gg_snd_U05ASylvanas08      = null
    sound               gg_snd_U05ATichondrius01   = null
    sound               gg_snd_U05ATichondrius03   = null
    sound               gg_snd_U05ATichondrius05   = null
    sound               gg_snd_WaterStreamLoop1    = null
    sound               gg_snd_ReviveHuman         = null
    sound               gg_snd_GargoyleMorph1      = null
    trigger             gg_trg_StartInitializationSequence = null
    trigger             gg_trg_Initialize_Variables = null
    trigger             gg_trg_Initial_Resources   = null
    trigger             gg_trg_Initial_Weather     = null
    trigger             gg_trg_Initial_Alliances   = null
    trigger             gg_trg_Initial_Quests      = null
    trigger             gg_trg_Initial_Music       = null
    trigger             gg_trg_Setup_Scorescreen   = null
    trigger             gg_trg_Easy                = null
    trigger             gg_trg_Normal              = null
    trigger             gg_trg_Hard                = null
    trigger             gg_trg_BlueGold            = null
    trigger             gg_trg_BlueLumber          = null
    trigger             gg_trg_TealGold            = null
    trigger             gg_trg_TealLumber          = null
    trigger             gg_trg_BrownGold           = null
    trigger             gg_trg_BrownLumber         = null
    trigger             gg_trg_Initial_Heroes      = null
    trigger             gg_trg_Load_Arthas         = null
    trigger             gg_trg_Limit_Arthas_XP     = null
    trigger             gg_trg_Villager01Patrol    = null
    trigger             gg_trg_Villager01Panic     = null
    trigger             gg_trg_Villager01Remove    = null
    trigger             gg_trg_Villager02Patrol    = null
    trigger             gg_trg_Villager02Panic     = null
    trigger             gg_trg_Villager02Remove    = null
    trigger             gg_trg_Villager03Patrol    = null
    trigger             gg_trg_Villager03Panic     = null
    trigger             gg_trg_Villager03Remove    = null
    trigger             gg_trg_Villager04Patrol    = null
    trigger             gg_trg_Villager04Panic     = null
    trigger             gg_trg_Villager04Remove    = null
    trigger             gg_trg_Villager05Patrol    = null
    trigger             gg_trg_Villager05Panic     = null
    trigger             gg_trg_Villager05Remove    = null
    trigger             gg_trg_Gargoyles_Available = null
    trigger             gg_trg_Gargoyles_Available_Message = null
    trigger             gg_trg_TriggerIntroCinematic = null
    trigger             gg_trg_IntroEnvironment    = null
    trigger             gg_trg_IntroCinematicMode  = null
    trigger             gg_trg_IntroActorSetup     = null
    trigger             gg_trg_IntroInitialCamera  = null
    trigger             gg_trg_IntroTichoTalks     = null
    trigger             gg_trg_IntroCinematicEnd   = null
    trigger             gg_trg_IntroCinematicEscape = null
    trigger             gg_trg_Solidify_A          = null
    trigger             gg_trg_Dissolve_A          = null
    trigger             gg_trg_InitialSylvanasPlacement = null
    trigger             gg_trg_IntroSylvanasDies   = null
    trigger             gg_trg_SylvanasTimerElapses = null
    trigger             gg_trg_SylvanasAttacks     = null
    trigger             gg_trg_SylvanusAttacksMessage = null
    trigger             gg_trg_OrderSylvanasFailsafe = null
    trigger             gg_trg_CheckForWaveDeath   = null
    trigger             gg_trg_Reinforcement       = null
    trigger             gg_trg_ReinforcementMessage = null
    trigger             gg_trg_AI_BlueAttacked     = null
    trigger             gg_trg_AI_TealAttackedSylvanusActive = null
    trigger             gg_trg_AI_TealAttackedSylvanusDead = null
    trigger             gg_trg_AI_BrownAttackedSylvanusActive = null
    trigger             gg_trg_AI_BrownAttackedSylvanusDead = null
    trigger             gg_trg_Silvermoon_Quest_Failure_Message = null
    trigger             gg_trg_AI_RunnerReaches    = null
    trigger             gg_trg_AI_SylvanusLaunch   = null
    trigger             gg_trg_InitialTimerExpires = null
    trigger             gg_trg_InitialTimerExpiresMessage = null
    trigger             gg_trg_RunnerDies          = null
    trigger             gg_trg_ReoccuringRunnerTimerExpires = null
    trigger             gg_trg_ReoccuringRunnerTimerExpiresMessage = null
    trigger             gg_trg_RandomizePath       = null
    trigger             gg_trg_RunnerHeartbeat     = null
    trigger             gg_trg_PathBRedirect       = null
    trigger             gg_trg_PathCRedirect       = null
    trigger             gg_trg_PathDRedirect       = null
    trigger             gg_trg_RunnerReachesSilvermoonEast = null
    trigger             gg_trg_RunnerReachesSilvermoonEastMessage = null
    trigger             gg_trg_RunnerReachesSilvermoonWest = null
    trigger             gg_trg_RunnerReachesSilvermoonWestMessage = null
    trigger             gg_trg_RunnerFailsafeTimerExpires = null
    trigger             gg_trg_CreateLeaderboard   = null
    trigger             gg_trg_CreateTimerWindow   = null
    trigger             gg_trg_RunnerSpawnBuilding_Dies = null
    trigger             gg_trg_TriggerGargoyleCinematic = null
    trigger             gg_trg_GargoyleEnvironment = null
    trigger             gg_trg_GargoyleInitialCamera = null
    trigger             gg_trg_GargoyleActorSetup  = null
    trigger             gg_trg_GargoyleNarrative   = null
    trigger             gg_trg_GargoyleFakeRunnerVisibilty = null
    trigger             gg_trg_GargoyleCinematicEscape = null
    trigger             gg_trg_TriggerSylvanasCinematic = null
    trigger             gg_trg_SylvanusStart       = null
    trigger             gg_trg_SylvanasEnvironment = null
    trigger             gg_trg_SylvanasInitialCamera = null
    trigger             gg_trg_SylvanasActorSetup  = null
    trigger             gg_trg_SylvanasFacesArthas = null
    trigger             gg_trg_SylvanasFalls       = null
    trigger             gg_trg_SylvanasEnd         = null
    trigger             gg_trg_MarkRunnerQuestCompleted = null
    trigger             gg_trg_SylvanasCinematicEscape = null
    trigger             gg_trg_BansheesBuildable   = null
    trigger             gg_trg_BansheesBuildableMessage = null
    trigger             gg_trg_TriggerExitCinematic = null
    trigger             gg_trg_ExitEnvironment     = null
    trigger             gg_trg_ExitCinematicMode   = null
    trigger             gg_trg_ExitInitialCamera   = null
    trigger             gg_trg_ExitActorSetup      = null
    trigger             gg_trg_ExitCeremony        = null
    trigger             gg_trg_ExitLichRevive      = null
    trigger             gg_trg_ExitDeathSceneA     = null
    trigger             gg_trg_ExitDeathSceneB     = null
    trigger             gg_trg_ExitCinematicEnd    = null
    trigger             gg_trg_ExitCinematicEscape = null
    trigger             gg_trg_Level_Enabling      = null
    trigger             gg_trg_Level_Victory       = null
    trigger             gg_trg_Level_Defeat        = null
    trigger             gg_trg_ArthasEntersCOP     = null
    trigger             gg_trg_ArthasLeavesCOP     = null
    trigger             gg_trg_ArthasDies          = null
    trigger             gg_trg_AllGuardiansDestroyed = null
    trigger             gg_trg_AllGuardiansDestroyedMessage = null
    trigger             gg_trg_BothRequirementsMet = null
    trigger             gg_trg_BothRequirementsMetMessage = null
    trigger             gg_trg_AllPlayerBuildingsDestroyed = null
    trigger             gg_trg_Victory_Cheat       = null
    trigger             gg_trg_Defeat_Cheat        = null
    trigger             gg_trg_debugelf            = null
    trigger             gg_trg_debugexitcinematic  = null
    unit                gg_unit_Hamg_0203          = null
    unit                gg_unit_hcas_0004          = null
    unit                gg_unit_negt_0005          = null
    unit                gg_unit_ugho_0050          = null
    unit                gg_unit_nheb_0015          = null
    unit                gg_unit_ugol_0044          = null
    unit                gg_unit_ncp3_0202          = null
    unit                gg_unit_uaco_0122          = null
    unit                gg_unit_ugho_0052          = null
    unit                gg_unit_negt_0066          = null
    unit                gg_unit_negt_0067          = null
    unit                gg_unit_negt_0068          = null
    unit                gg_unit_negt_0069          = null
    unit                gg_unit_uaco_0065          = null
    unit                gg_unit_uaco_0119          = null
    unit                gg_unit_uaco_0120          = null
    unit                gg_unit_uaco_0121          = null
    unit                gg_unit_Hvwd_0128          = null
    unit                gg_unit_nggr_0135          = null
    unit                gg_unit_nggr_0049          = null
    unit                gg_unit_nggr_0136          = null
    unit                gg_unit_nggr_0134          = null
    unit                gg_unit_Hvwd_0167          = null
    unit                gg_unit_nhef_0035          = null
    unit                gg_unit_nhef_0039          = null
    unit                gg_unit_nhef_0040          = null
    unit                gg_unit_nhef_0051          = null
    unit                gg_unit_nhef_0055          = null
    unit                gg_unit_nheb_0056          = null
endglobals

function InitGlobals takes nothing returns nothing
    set udg_IntroCinematicRunning                  = false
    set udg_IntroCinematicEscape                   = false
    set udg_ExitCinematicEscape                    = false
    set udg_ExitCinematicRunning                   = false
    set udg_SylvanasAttackGroup                    = CreateGroup()
    set udg_TimerSylvanasAttack                    = CreateTimer()
    set udg_TimerReinforcementWarning              = CreateTimer()
    set udg_TimerFirstMessenger                    = CreateTimer()
    set udg_GargoyleGroup                          = CreateGroup()
    set udg_RunnerActive                           = true
    set udg_TimerRunner                            = CreateTimer()
    set udg_SylvanasCinematicEscape                = false
    set udg_SylvanasCinematicRunning               = false
    set udg_AISilvermoonActive                     = false
    set udg_AIBlueActive                           = false
    set udg_SylvanasBansheeCreated                 = false
    set udg_ArthasAtSunwell                        = false
    set udg_GuardianGroup                          = CreateGroup()
    set udg_GuardiansDead                          = false
    set udg_TimerBansheeHint                       = CreateTimer()
    set udg_RandomRegion                           = 0
    set udg_RunnerTimerLength                      = 240.00
    set udg_RunnerMovementSpeedHandicap            = 0
    set udg_TimerStartSylvanusAI                   = CreateTimer()
    set udg_TimerStoneFormHint                     = CreateTimer()
    set udg_FadeIn                                 = 100.00
    set udg_FadeOut                                = 0.00
    set udg_RunnerRandomLine                       = 0
    set udg_GargoyleCinematicRunning               = false
    set udg_GargoyleCinematicEscape                = false
    set udg_RunnerSpawnBuilding                    = null
    set udg_TimerRunnerFailsafe                    = CreateTimer()
    set udg_UnitGroupSelection                     = CreateGroup()
    set udg_GameOver                               = false
endfunction

//***************************************************************************
//*
//*  Sounds
//*
//***************************************************************************

function InitSounds takes nothing returns nothing
    set gg_snd_AltarOfDarknessWhat = CreateSound( "Buildings\\Undead\\AltarOfDarkness\\AltarOfDarknessWhat.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_AltarOfDarknessWhat, "AltarOfDarknessWhat" )
    call SetSoundDuration( gg_snd_AltarOfDarknessWhat, 5523 )
    set gg_snd_BansheeDeath = CreateSound( "Units\\Undead\\Banshee\\BansheeDeath.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_BansheeDeath, "BansheeDeath" )
    call SetSoundDuration( gg_snd_BansheeDeath, 2380 )
    set gg_snd_CityscapeFountainLoop1 = CreateSound( "Sound\\Ambient\\DoodadEffects\\CityscapeFountainLoop1.wav", true, true, true, 10, 10, "DoodadsEAX" )
    call SetSoundParamsFromLabel( gg_snd_CityscapeFountainLoop1, "FountainLoop" )
    call SetSoundDuration( gg_snd_CityscapeFountainLoop1, 2537 )
    set gg_snd_CityScapeMagicRunesLoop1 = CreateSound( "Sound\\Ambient\\DoodadEffects\\CityScapeMagicRunesLoop1.wav", true, true, true, 10, 10, "DoodadsEAX" )
    call SetSoundParamsFromLabel( gg_snd_CityScapeMagicRunesLoop1, "MagicRunesLoop" )
    call SetSoundDuration( gg_snd_CityScapeMagicRunesLoop1, 1149 )
    set gg_snd_DarkRitualTarget1 = CreateSound( "Abilities\\Spells\\Undead\\DarkRitual\\DarkRitualTarget1.wav", false, true, true, 10, 10, "SpellsEAX" )
    call SetSoundParamsFromLabel( gg_snd_DarkRitualTarget1, "DarkRitual" )
    call SetSoundDuration( gg_snd_DarkRitualTarget1, 3007 )
    set gg_snd_DarkSummoningTarget1 = CreateSound( "Abilities\\Spells\\Undead\\DarkSummoning\\DarkSummoningTarget1.wav", false, true, true, 10, 10, "SpellsEAX" )
    call SetSoundParamsFromLabel( gg_snd_DarkSummoningTarget1, "DarkSummoningTarget" )
    call SetSoundDuration( gg_snd_DarkSummoningTarget1, 3320 )
    set gg_snd_InvisibilityTarget = CreateSound( "Abilities\\Spells\\Human\\Invisibility\\InvisibilityTarget.wav", false, true, true, 10, 10, "SpellsEAX" )
    call SetSoundParamsFromLabel( gg_snd_InvisibilityTarget, "Invisibility" )
    call SetSoundDuration( gg_snd_InvisibilityTarget, 2043 )
    set gg_snd_QuestCompleted = CreateSound( "Sound\\Interface\\QuestCompleted.wav", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_QuestCompleted, "QuestCompleted" )
    call SetSoundDuration( gg_snd_QuestCompleted, 5155 )
    set gg_snd_QuestFailed = CreateSound( "Sound\\Interface\\QuestFailed.wav", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_QuestFailed, "QuestFailed" )
    call SetSoundDuration( gg_snd_QuestFailed, 4690 )
    set gg_snd_U04AArthas09 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead04A\\U04AArthas09.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_U04AArthas09, "U04AArthas09" )
    call SetSoundDuration( gg_snd_U04AArthas09, 1646 )
    set gg_snd_U04AArthas19 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead04A\\U04AArthas19.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_U04AArthas19, "U04AArthas19" )
    call SetSoundDuration( gg_snd_U04AArthas19, 4624 )
    set gg_snd_U04AArthas22 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead04A\\U04AArthas22.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_U04AArthas22, "U04AArthas22" )
    call SetSoundDuration( gg_snd_U04AArthas22, 5564 )
    set gg_snd_U04AKelThuzad08 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead04A\\U04AKelThuzad08.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_U04AKelThuzad08, "U04AKelThuzad08" )
    call SetSoundDuration( gg_snd_U04AKelThuzad08, 6113 )
    set gg_snd_U04ASylvanas20 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead04A\\U04ASylvanas20.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_U04ASylvanas20, "U04ASylvanas20" )
    call SetSoundDuration( gg_snd_U04ASylvanas20, 5016 )
    set gg_snd_U04ASylvanas21 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead04A\\U04ASylvanas21.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_U04ASylvanas21, "U04ASylvanas21" )
    call SetSoundDuration( gg_snd_U04ASylvanas21, 6714 )
    set gg_snd_U04ASylvanas23 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead04A\\U04ASylvanas23.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_U04ASylvanas23, "U04ASylvanas23" )
    call SetSoundDuration( gg_snd_U04ASylvanas23, 3866 )
    set gg_snd_U05AArthas02 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead05A\\U05AArthas02.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_U05AArthas02, "U05AArthas02" )
    call SetSoundDuration( gg_snd_U05AArthas02, 1881 )
    set gg_snd_U05AArthas04 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead05A\\U05AArthas04.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_U05AArthas04, "U05AArthas04" )
    call SetSoundDuration( gg_snd_U05AArthas04, 3683 )
    set gg_snd_U05AArthas06 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead05A\\U05AArthas06.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_U05AArthas06, "U05AArthas06" )
    call SetSoundDuration( gg_snd_U05AArthas06, 3135 )
    set gg_snd_U05AArthas12 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead05A\\U05AArthas12.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_U05AArthas12, "U05AArthas12" )
    call SetSoundDuration( gg_snd_U05AArthas12, 3291 )
    set gg_snd_U05AArthas14 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead05A\\U05AArthas14.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_U05AArthas14, "U05AArthas14" )
    call SetSoundDuration( gg_snd_U05AArthas14, 6217 )
    set gg_snd_U05AArthas22 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead05A\\U05AArthas22.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_U05AArthas22, "U05AArthas22" )
    call SetSoundDuration( gg_snd_U05AArthas22, 17998 )
    set gg_snd_U05AArthas30 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead05A\\U05AArthas30.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_U05AArthas30, "U05AArthas30" )
    call SetSoundDuration( gg_snd_U05AArthas30, 5616 )
    set gg_snd_U05AArthas32 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead05A\\U05AArthas32.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_U05AArthas32, "U05AArthas32" )
    call SetSoundDuration( gg_snd_U05AArthas32, 5094 )
    set gg_snd_U05AKelThuzad07 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead05A\\U05AKelThuzad07.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_U05AKelThuzad07, "U05AKelThuzad07" )
    call SetSoundDuration( gg_snd_U05AKelThuzad07, 14838 )
    set gg_snd_U05AKelThuzad31 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead05A\\U05AKelThuzad31.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_U05AKelThuzad31, "U05AKelThuzad31" )
    call SetSoundDuration( gg_snd_U05AKelThuzad31, 7079 )
    set gg_snd_U05AKelThuzad33 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead05A\\U05AKelThuzad33.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_U05AKelThuzad33, "U05AKelThuzad33" )
    call SetSoundDuration( gg_snd_U05AKelThuzad33, 8464 )
    set gg_snd_U05ANecromancer11 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead05A\\U05ANecromancer11.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_U05ANecromancer11, "U05ANecromancer11" )
    call SetSoundDuration( gg_snd_U05ANecromancer11, 4572 )
    set gg_snd_U05ANecromancer13 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead05A\\U05ANecromancer13.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_U05ANecromancer13, "U05ANecromancer13" )
    call SetSoundDuration( gg_snd_U05ANecromancer13, 6243 )
    set gg_snd_U05ANecromancer13A = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead05A\\U05ANecromancer13A.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_U05ANecromancer13A, "U05ANecromancer13A" )
    call SetSoundDuration( gg_snd_U05ANecromancer13A, 3683 )
    set gg_snd_U05ANecromancer15 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead05A\\U05ANecromancer15.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_U05ANecromancer15, "U05ANecromancer15" )
    call SetSoundDuration( gg_snd_U05ANecromancer15, 3370 )
    set gg_snd_U05ANecromancer16 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead05A\\U05ANecromancer16.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_U05ANecromancer16, "U05ANecromancer16" )
    call SetSoundDuration( gg_snd_U05ANecromancer16, 5146 )
    set gg_snd_U05ASylvanas08 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead05A\\U05ASylvanas08.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_U05ASylvanas08, "U05ASylvanas08" )
    call SetSoundDuration( gg_snd_U05ASylvanas08, 3918 )
    set gg_snd_U05ATichondrius01 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead05A\\U05ATichondrius01.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_U05ATichondrius01, "U05ATichondrius01" )
    call SetSoundDuration( gg_snd_U05ATichondrius01, 6217 )
    set gg_snd_U05ATichondrius03 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead05A\\U05ATichondrius03.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_U05ATichondrius03, "U05ATichondrius03" )
    call SetSoundDuration( gg_snd_U05ATichondrius03, 6792 )
    set gg_snd_U05ATichondrius05 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead05A\\U05ATichondrius05.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_U05ATichondrius05, "U05ATichondrius05" )
    call SetSoundDuration( gg_snd_U05ATichondrius05, 8803 )
    set gg_snd_WaterStreamLoop1 = CreateSound( "Sound\\Ambient\\DoodadEffects\\WaterStreamLoop1.wav", true, true, true, 10, 10, "DoodadsEAX" )
    call SetSoundParamsFromLabel( gg_snd_WaterStreamLoop1, "StreamLoop" )
    call SetSoundDuration( gg_snd_WaterStreamLoop1, 2009 )
    set gg_snd_ReviveHuman = CreateSound( "Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.wav", false, true, true, 10, 10, "SpellsEAX" )
    call SetSoundParamsFromLabel( gg_snd_ReviveHuman, "ReviveHuman" )
    call SetSoundDuration( gg_snd_ReviveHuman, 3196 )
    set gg_snd_GargoyleMorph1 = CreateSound( "Units\\Undead\\Gargoyle\\GargoyleMorph1.wav", false, true, true, 10, 10, "SpellsEAX" )
    call SetSoundParamsFromLabel( gg_snd_GargoyleMorph1, "StoneFormMorph1" )
    call SetSoundDuration( gg_snd_GargoyleMorph1, 1636 )
endfunction

//***************************************************************************
//*
//*  Dropped Unit Items
//*
//***************************************************************************

function Unit000040_DropItems takes nothing returns nothing
    local unit trigUnit
    local integer itemID

    set trigUnit = GetTriggerUnit()
    if (not IsUnitHidden(trigUnit)) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'pgma', 100 )
        set itemID = RandomDistChoose(  )
        call UnitDropItem( trigUnit, itemID )

    endif

    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000057_DropItems takes nothing returns nothing
    local unit trigUnit
    local integer itemID

    set trigUnit = GetTriggerUnit()
    if (not IsUnitHidden(trigUnit)) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'sror', 100 )
        set itemID = RandomDistChoose(  )
        call UnitDropItem( trigUnit, itemID )

    endif

    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000062_DropItems takes nothing returns nothing
    local unit trigUnit
    local integer itemID

    set trigUnit = GetTriggerUnit()
    if (not IsUnitHidden(trigUnit)) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rlif', 100 )
        set itemID = RandomDistChoose(  )
        call UnitDropItem( trigUnit, itemID )

    endif

    call DestroyTrigger(GetTriggeringTrigger())
endfunction


//***************************************************************************
//*
//*  Unit Creation
//*
//***************************************************************************

//===========================================================================
function CreateBuildingsForPlayer1 takes nothing returns nothing
    local player p = Player(1)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_hcas_0004 = CreateUnit( p, 'hcas', -3136.0, 5056.0, 270.000 )
    set gg_unit_negt_0005 = CreateUnit( p, 'negt', -2496.0, 3520.0, 270.000 )
    set u = CreateUnit( p, 'negt', -1664.0, 4224.0, 270.000 )
    set u = CreateUnit( p, 'negt', -4160.0, 4800.0, 270.000 )
    set u = CreateUnit( p, 'negt', -2944.0, 5568.0, 270.000 )
    set u = CreateUnit( p, 'negt', -4672.0, 3712.0, 270.000 )
    set u = CreateUnit( p, 'nheb', -2304.0, 4672.0, 270.000 )
    set gg_unit_nheb_0015 = CreateUnit( p, 'nheb', -4224.0, 3712.0, 270.000 )
    set u = CreateUnit( p, 'hlum', -3936.0, 5536.0, 270.000 )
    set u = CreateUnit( p, 'hars', -2304.0, 5312.0, 270.000 )
    set u = CreateUnit( p, 'hbla', -3968.0, 3072.0, 270.000 )
    set u = CreateUnit( p, 'nefm', -2976.0, 3744.0, 270.000 )
    set u = CreateUnit( p, 'nefm', -2976.0, 3936.0, 270.000 )
    set u = CreateUnit( p, 'halt', -3680.0, 4064.0, 270.000 )
    set u = CreateUnit( p, 'nefm', -3680.0, 3488.0, 270.000 )
    set u = CreateUnit( p, 'nefm', -3488.0, 3488.0, 270.000 )
    set u = CreateUnit( p, 'nefm', -3552.0, 3296.0, 270.000 )
    set u = CreateUnit( p, 'nefm', -4640.0, 4704.0, 270.000 )
    set u = CreateUnit( p, 'nefm', -2656.0, 5792.0, 270.000 )
    set u = CreateUnit( p, 'nefm', -2848.0, 5984.0, 270.000 )
    set u = CreateUnit( p, 'nefm', -4448.0, 4640.0, 270.000 )
endfunction

//===========================================================================
function CreateUnitsForPlayer1 takes nothing returns nothing
    local player p = Player(1)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'hhes', -3893.2, 5170.8, 35.267 )
    set u = CreateUnit( p, 'nhea', -4308.2, 4403.0, 344.882 )
    set u = CreateUnit( p, 'hpea', -3351.5, 5558.0, 118.623 )
    set u = CreateUnit( p, 'hpea', -3333.0, 5421.6, 254.638 )
    set u = CreateUnit( p, 'hpea', -3218.6, 5338.9, 234.060 )
    set gg_unit_Hvwd_0128 = CreateUnit( p, 'Hvwd', -2555.1, 4657.7, 251.220 )
    set u = CreateUnit( p, 'hmpr', -3368.4, 4137.5, 358.011 )
    set u = CreateUnit( p, 'ebal', -3787.6, 4558.9, 81.191 )
    set u = CreateUnit( p, 'hmpr', -3637.2, 6008.4, 134.817 )
    set u = CreateUnit( p, 'hsor', -2376.1, 5054.4, 318.141 )
    set u = CreateUnit( p, 'hpea', -3747.5, 5707.1, 304.638 )
    set u = CreateUnit( p, 'hhes', -3962.2, 3346.1, 159.230 )
    set u = CreateUnit( p, 'hhes', -1853.8, 4200.2, 215.108 )
endfunction

//===========================================================================
function CreateBuildingsForPlayer2 takes nothing returns nothing
    local player p = Player(2)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_nheb_0056 = CreateUnit( p, 'nheb', 3456.0, -6592.0, 270.000 )
    set u = CreateUnit( p, 'negt', 4800.0, -7232.0, 270.000 )
    set u = CreateUnit( p, 'negt', 4480.0, -6144.0, 270.000 )
    set u = CreateUnit( p, 'negt', 3648.0, -5312.0, 270.000 )
    set u = CreateUnit( p, 'negt', 1472.0, -3136.0, 270.000 )
    set u = CreateUnit( p, 'negt', 2752.0, -4416.0, 270.000 )
    set u = CreateUnit( p, 'negt', 2240.0, -3904.0, 270.000 )
    set u = CreateUnit( p, 'negt', 704.0, -2368.0, 270.000 )
    set u = CreateUnit( p, 'negt', -64.0, -1600.0, 270.000 )
    set u = CreateUnit( p, 'negt', -960.0, -1600.0, 270.000 )
    set u = CreateUnit( p, 'negt', -1856.0, -1600.0, 270.000 )
    set u = CreateUnit( p, 'hcas', 2048.0, -6272.0, 270.000 )
    set u = CreateUnit( p, 'nefm', -1248.0, -2208.0, 270.000 )
    set u = CreateUnit( p, 'nheb', 2368.0, -5376.0, 270.000 )
    set u = CreateUnit( p, 'hars', 1344.0, -4288.0, 270.000 )
    set u = CreateUnit( p, 'nefm', -2080.0, -2336.0, 270.000 )
    set u = CreateUnit( p, 'nefm', 96.0, -2144.0, 270.000 )
    set u = CreateUnit( p, 'nefm', 224.0, -2336.0, 270.000 )
    set u = CreateUnit( p, 'nefm', -480.0, -2336.0, 270.000 )
    set u = CreateUnit( p, 'nefm', 736.0, -3552.0, 270.000 )
    set u = CreateUnit( p, 'nefm', 544.0, -4000.0, 270.000 )
    set u = CreateUnit( p, 'nefm', 3872.0, -6752.0, 270.000 )
    set u = CreateUnit( p, 'hlum', 3552.0, -7200.0, 270.000 )
    set u = CreateUnit( p, 'nefm', 4640.0, -6624.0, 270.000 )
    set u = CreateUnit( p, 'nefm', 4320.0, -7328.0, 270.000 )
    set u = CreateUnit( p, 'nefm', 4128.0, -6112.0, 270.000 )
    set u = CreateUnit( p, 'negt', 2432.0, -6720.0, 270.000 )
    set u = CreateUnit( p, 'halt', 2784.0, -5920.0, 270.000 )
    set u = CreateUnit( p, 'hbla', 3456.0, -5696.0, 270.000 )
    set u = CreateUnit( p, 'nefm', 4576.0, -6944.0, 270.000 )
    set u = CreateUnit( p, 'nefm', -736.0, -2080.0, 270.000 )
    set u = CreateUnit( p, 'nefm', -1568.0, -2080.0, 270.000 )
endfunction

//===========================================================================
function CreateUnitsForPlayer2 takes nothing returns nothing
    local player p = Player(2)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'hsor', 1365.5, -4506.6, 144.442 )
    set u = CreateUnit( p, 'hhes', 2272.4, -5836.4, 12.393 )
    set u = CreateUnit( p, 'nhea', 4223.2, -6588.0, 340.587 )
    set u = CreateUnit( p, 'hhes', 2071.8, -4209.2, 47.627 )
    set u = CreateUnit( p, 'ebal', 3089.2, -5968.0, 170.480 )
    set u = CreateUnit( p, 'hpea', 1785.0, -6537.5, 9.525 )
    set u = CreateUnit( p, 'hpea', 1681.1, -6669.0, 356.133 )
    set u = CreateUnit( p, 'hpea', 1723.6, -6819.7, 91.145 )
    set u = CreateUnit( p, 'hhes', 3514.2, -6888.3, 238.674 )
    set u = CreateUnit( p, 'nhea', 2411.7, -4759.6, 134.916 )
    set u = CreateUnit( p, 'nhem', -1899.0, -2272.8, 300.203 )
    set u = CreateUnit( p, 'nhea', -495.6, -2575.6, 195.936 )
    set u = CreateUnit( p, 'hsor', 931.8, -5293.8, 152.308 )
    set u = CreateUnit( p, 'hmpr', 1032.6, -3103.2, 219.887 )
    set u = CreateUnit( p, 'nws1', -1229.0, -2824.9, 150.782 )
    set u = CreateUnit( p, 'nws1', 3650.8, -6224.6, 91.189 )
    set gg_unit_Hamg_0203 = CreateUnit( p, 'Hamg', 765.1, -4122.2, 38.989 )
endfunction

//===========================================================================
function CreateBuildingsForPlayer3 takes nothing returns nothing
    local player p = Player(3)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'unp1', 5824.0, 2624.0, 270.000 )
    set u = CreateUnit( p, 'ugrv', 4544.0, 3264.0, 270.000 )
    set gg_unit_ugol_0044 = CreateBlightedGoldmine( p, 6656.0, 2176.0, 270.000 )
    call SetResourceAmount( gg_unit_ugol_0044, 25000 )
    set u = CreateUnit( p, 'uzg1', 4640.0, 2336.0, 270.000 )
    set u = CreateUnit( p, 'uzg1', 5216.0, 3808.0, 270.000 )
    set u = CreateUnit( p, 'usep', 5056.0, 2816.0, 270.000 )
    set u = CreateUnit( p, 'uaod', 6048.0, 2016.0, 270.000 )
    set u = CreateUnit( p, 'uzg1', 5344.0, 1440.0, 270.000 )
endfunction

//===========================================================================
function CreateUnitsForPlayer3 takes nothing returns nothing
    local player p = Player(3)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'ucry', 5432.3, 2947.1, 265.704 )
    set gg_unit_ugho_0050 = CreateUnit( p, 'ugho', 4302.9, 3134.5, 180.644 )
    set gg_unit_ugho_0052 = CreateUnit( p, 'ugho', 4264.1, 3635.1, 338.389 )
    set u = CreateUnit( p, 'ucry', 5983.2, 2371.8, 184.624 )
    set u = CreateUnit( p, 'ucry', 5668.9, 2859.5, 206.754 )
    set gg_unit_uaco_0065 = CreateUnit( p, 'uaco', 6874.5, 2326.9, 199.792 )
    set gg_unit_uaco_0119 = CreateUnit( p, 'uaco', 6870.4, 1990.8, 145.496 )
    set gg_unit_uaco_0120 = CreateUnit( p, 'uaco', 6496.3, 1989.5, 242.904 )
    set gg_unit_uaco_0121 = CreateUnit( p, 'uaco', 6432.9, 2374.2, 131.466 )
    set gg_unit_uaco_0122 = CreateUnit( p, 'uaco', 6684.6, 2451.1, 210.296 )
    set u = CreateUnit( p, 'unec', 5950.1, 2259.0, 173.807 )
endfunction

//===========================================================================
function CreateBuildingsForPlayer5 takes nothing returns nothing
    local player p = Player(5)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_ncp3_0202 = CreateUnit( p, 'ncp3', -768.0, -6656.0, 270.000 )
endfunction

//===========================================================================
function CreateUnitsForPlayer9 takes nothing returns nothing
    local player p = Player(9)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'hhes', 3674.5, 5596.3, 237.664 )
    set gg_unit_Hvwd_0167 = CreateUnit( p, 'Hvwd', 3833.0, 5776.0, 331.303 )
    set u = CreateUnit( p, 'nhea', 3492.0, 5886.7, 169.557 )
endfunction

//===========================================================================
function CreateUnitsForPlayer10 takes nothing returns nothing
    local player p = Player(10)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_nggr_0049 = CreateUnit( p, 'nggr', -341.1, -6036.9, 221.216 )
    set gg_unit_nggr_0134 = CreateUnit( p, 'nggr', -1159.5, -6021.6, 316.863 )
    set gg_unit_nggr_0135 = CreateUnit( p, 'nggr', -1221.8, -6855.5, 44.339 )
    set gg_unit_nggr_0136 = CreateUnit( p, 'nggr', -325.9, -6890.8, 131.207 )
endfunction

//===========================================================================
function CreateBuildingsForPlayer11 takes nothing returns nothing
    local player p = Player(11)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'negt', -1344.0, -6976.0, 270.000 )
    set u = CreateUnit( p, 'negt', -1344.0, -5824.0, 270.000 )
    set u = CreateUnit( p, 'negt', -192.0, -5824.0, 270.000 )
    set u = CreateUnit( p, 'negt', -192.0, -6976.0, 270.000 )
    set u = CreateUnit( p, 'negt', -2752.0, -2496.0, 270.000 )
    set u = CreateUnit( p, 'negt', -2752.0, -3392.0, 270.000 )
    set u = CreateUnit( p, 'negt', -3776.0, -4416.0, 270.000 )
    set u = CreateUnit( p, 'negt', -4544.0, -4416.0, 270.000 )
    set u = CreateUnit( p, 'nefm', -5216.0, -4640.0, 270.000 )
    set u = CreateUnit( p, 'negt', -5824.0, -4928.0, 270.000 )
    set u = CreateUnit( p, 'negt', -6720.0, -4928.0, 270.000 )
    set u = CreateUnit( p, 'nheb', -3136.0, -4992.0, 270.000 )
    set u = CreateUnit( p, 'hlum', -6624.0, -6688.0, 270.000 )
    set u = CreateUnit( p, 'hars', -2112.0, -4032.0, 270.000 )
    set u = CreateUnit( p, 'hbla', -6976.0, -5760.0, 270.000 )
    set u = CreateUnit( p, 'nefm', -4896.0, -4640.0, 270.000 )
    set u = CreateUnit( p, 'nefm', -5472.0, -5024.0, 270.000 )
    set u = CreateUnit( p, 'nefm', -5344.0, -5408.0, 270.000 )
    set u = CreateUnit( p, 'nefm', -5408.0, -7072.0, 270.000 )
    set u = CreateUnit( p, 'negt', -3904.0, -6144.0, 270.000 )
    set u = CreateUnit( p, 'negt', -6144.0, -6464.0, 270.000 )
    set u = CreateUnit( p, 'hcas', -4416.0, -6080.0, 270.000 )
    set u = CreateUnit( p, 'nefm', -4320.0, -4704.0, 270.000 )
    set u = CreateUnit( p, 'nefm', -5664.0, -5728.0, 270.000 )
    set u = CreateUnit( p, 'nefm', -5856.0, -5472.0, 270.000 )
    set u = CreateUnit( p, 'nefm', -6496.0, -5600.0, 270.000 )
    set u = CreateUnit( p, 'nefm', -6560.0, -5344.0, 270.000 )
    set u = CreateUnit( p, 'nefm', -7008.0, -6304.0, 270.000 )
    set u = CreateUnit( p, 'nefm', -4384.0, -7392.0, 270.000 )
    set u = CreateUnit( p, 'nefm', -4576.0, -7136.0, 270.000 )
    set u = CreateUnit( p, 'nefm', -5280.0, -7456.0, 270.000 )
endfunction

//===========================================================================
function CreateUnitsForPlayer11 takes nothing returns nothing
    local player p = Player(11)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'hpea', -6407.7, -6810.8, 333.566 )
    set u = CreateUnit( p, 'hpea', -6529.3, -6890.2, 339.092 )
    set u = CreateUnit( p, 'hhes', -2389.3, -3018.0, 94.299 )
    set u = CreateUnit( p, 'nhea', -2855.5, -3828.0, 143.178 )
    set u = CreateUnit( p, 'ebal', -2364.3, -5162.4, 5.504 )
    set u = CreateUnit( p, 'hsor', -2028.6, -4588.2, 270.085 )
    set u = CreateUnit( p, 'hmpr', -3229.7, -6073.8, 347.475 )
    call SetUnitState( u, UNIT_STATE_MANA, 0 )
    set u = CreateUnit( p, 'hmpr', -6119.0, -6040.5, 99.770 )
    call SetUnitState( u, UNIT_STATE_MANA, 0 )
    set u = CreateUnit( p, 'hsor', -4611.3, -5599.9, 287.082 )
    call SetUnitState( u, UNIT_STATE_MANA, 0 )
    set u = CreateUnit( p, 'nws1', -3841.3, -5037.8, 314.317 )
    set u = CreateUnit( p, 'hhes', -5002.0, -5307.5, 253.770 )
    set u = CreateUnit( p, 'nws1', -6573.3, -6037.5, 274.282 )
    set u = CreateUnit( p, 'hhes', -5012.8, -6885.4, 166.217 )
endfunction

//===========================================================================
function CreateNeutralHostile takes nothing returns nothing
    local player p = Player(PLAYER_NEUTRAL_AGGRESSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'ngnb', -3843.6, 1736.5, 238.788 )
    set u = CreateUnit( p, 'ngno', -4319.3, 1492.2, 315.940 )
    set u = CreateUnit( p, 'ngno', -4208.2, 1591.9, 297.406 )
    set u = CreateUnit( p, 'ngnv', -4052.8, 1773.7, 267.300 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerAddAction( t, function Unit000040_DropItems )
    set u = CreateUnit( p, 'ngnv', 6781.1, -1977.7, 219.390 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerAddAction( t, function Unit000057_DropItems )
    set u = CreateUnit( p, 'ngnw', 6552.6, -1891.9, 237.696 )
    set u = CreateUnit( p, 'ngnw', 6811.0, -2419.6, 157.932 )
    set u = CreateUnit( p, 'ngnb', 6674.1, -2458.1, 139.720 )
    set u = CreateUnit( p, 'ngst', 7157.1, 4571.7, 155.850 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerAddAction( t, function Unit000062_DropItems )
    set u = CreateUnit( p, 'ngst', 6831.0, 4526.2, 84.702 )
    set u = CreateUnit( p, 'nomg', -6740.4, -2975.6, 42.129 )
    set u = CreateUnit( p, 'nogr', -6913.1, -2482.7, 39.233 )
    set u = CreateUnit( p, 'nogm', -6390.5, -2798.2, 105.878 )
    set u = CreateUnit( p, 'nfsh', -6706.4, -2687.3, 68.977 )
    set u = CreateUnit( p, 'nftr', -6583.4, -2886.4, 111.632 )
endfunction

//===========================================================================
function CreateNeutralPassiveBuildings takes nothing returns nothing
    local player p = Player(PLAYER_NEUTRAL_PASSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'ngol', -3328.0, 5824.0, 270.000 )
    call SetResourceAmount( u, 20000 )
    set u = CreateUnit( p, 'nfoh', 6848.0, -6848.0, 270.000 )
    set u = CreateUnit( p, 'nmoo', -1920.0, 1664.0, 270.000 )
    set u = CreateUnit( p, 'ngnh', -3936.0, 2016.0, 270.000 )
    set u = CreateUnit( p, 'ngt2', -4384.0, 1760.0, 270.000 )
    set u = CreateUnit( p, 'ngnh', 6880.0, -2144.0, 270.000 )
    set u = CreateUnit( p, 'ngme', 576.0, 3968.0, 270.000 )
    set u = CreateUnit( p, 'nmer', -6976.0, -2880.0, 270.000 )
    call SetUnitColor( u, ConvertPlayerColor(0) )
    set u = CreateUnit( p, 'ngol', 1536.0, -7040.0, 270.000 )
    call SetResourceAmount( u, 30000 )
    set u = CreateUnit( p, 'nef7', -2144.0, 5920.0, 270.000 )
    set u = CreateUnit( p, 'nef1', -1568.0, 6560.0, 270.000 )
    set u = CreateUnit( p, 'nef3', -992.0, 6560.0, 270.000 )
    set u = CreateUnit( p, 'nef2', -416.0, 5216.0, 270.000 )
    set u = CreateUnit( p, 'nef2', -800.0, 1696.0, 270.000 )
    set u = CreateUnit( p, 'nef3', -416.0, 992.0, 270.000 )
    set u = CreateUnit( p, 'nef2', -864.0, 32.0, 270.000 )
    set u = CreateUnit( p, 'nef7', -1504.0, 160.0, 270.000 )
    set u = CreateUnit( p, 'nef2', 3040.0, -1184.0, 270.000 )
    set u = CreateUnit( p, 'nef6', 2016.0, -544.0, 270.000 )
    set u = CreateUnit( p, 'nef3', 5984.0, -5600.0, 270.000 )
    set u = CreateUnit( p, 'nef6', 6304.0, -5152.0, 270.000 )
    set u = CreateUnit( p, 'nef3', 7072.0, -4576.0, 270.000 )
endfunction

//===========================================================================
function CreateNeutralPassive takes nothing returns nothing
    local player p = Player(PLAYER_NEUTRAL_PASSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_nhef_0035 = CreateUnit( p, 'nhef', -730.0, 1325.3, 255.386 )
    set gg_unit_nhef_0039 = CreateUnit( p, 'nhef', -1191.6, 292.2, 255.386 )
    set gg_unit_nhef_0040 = CreateUnit( p, 'nhef', -1601.3, 6193.6, 255.386 )
    set gg_unit_nhef_0051 = CreateUnit( p, 'nhef', 2191.5, -883.3, 255.386 )
    set gg_unit_nhef_0055 = CreateUnit( p, 'nhef', 6860.0, -4914.0, 255.386 )
endfunction

//===========================================================================
function CreatePlayerBuildings takes nothing returns nothing
    call CreateBuildingsForPlayer1(  )
    call CreateBuildingsForPlayer2(  )
    call CreateBuildingsForPlayer3(  )
    call CreateBuildingsForPlayer5(  )
    call CreateBuildingsForPlayer11(  )
endfunction

//===========================================================================
function CreatePlayerUnits takes nothing returns nothing
    call CreateUnitsForPlayer1(  )
    call CreateUnitsForPlayer2(  )
    call CreateUnitsForPlayer3(  )
    call CreateUnitsForPlayer9(  )
    call CreateUnitsForPlayer10(  )
    call CreateUnitsForPlayer11(  )
endfunction

//===========================================================================
function CreateAllUnits takes nothing returns nothing
    call CreateNeutralPassiveBuildings(  )
    call CreatePlayerBuildings(  )
    call CreateNeutralHostile(  )
    call CreateNeutralPassive(  )
    call CreatePlayerUnits(  )
endfunction

//***************************************************************************
//*
//*  Regions
//*
//***************************************************************************

function CreateRegions takes nothing returns nothing
    local weathereffect we

    set gg_rct_ExitDeathSceneAClear = Rect( -576.0, -3008.0, 864.0, -1440.0 )
    set gg_rct_ExitDeathSceneAFarm01 = Rect( 0.0, -2240.0, 192.0, -2048.0 )
    set gg_rct_ExitDeathSceneAFarm02 = Rect( 128.0, -2432.0, 320.0, -2240.0 )
    set gg_rct_ExitDeathSceneAGhoul01 = Rect( -128.0, -2112.0, -32.0, -2016.0 )
    set gg_rct_ExitDeathSceneAGhoul02 = Rect( -64.0, -2464.0, 32.0, -2368.0 )
    set gg_rct_ExitDeathSceneAGhoul03 = Rect( 384.0, -2528.0, 480.0, -2432.0 )
    set gg_rct_ExitDeathSceneAVillager = Rect( 64.0, -2336.0, 128.0, -2272.0 )
    set gg_rct_ExitDeathSceneBClear = Rect( -5920.0, -6464.0, -3296.0, -4288.0 )
    set gg_rct_ExitDeathSceneBFarm01 = Rect( -4992.0, -4736.0, -4800.0, -4544.0 )
    set gg_rct_ExitDeathSceneBFarm02 = Rect( -5312.0, -4736.0, -5120.0, -4544.0 )
    set gg_rct_ExitDeathSceneBFarm03 = Rect( -5568.0, -5120.0, -5376.0, -4928.0 )
    set gg_rct_ExitDeathSceneBFarm04 = Rect( -5440.0, -5504.0, -5248.0, -5312.0 )
    set gg_rct_ExitDeathSceneBMeatWagon01 = Rect( -4352.0, -4992.0, -4224.0, -4864.0 )
    set gg_rct_ExitDeathSceneBMeatWagon02 = Rect( -4480.0, -5376.0, -4352.0, -5248.0 )
    set gg_rct_ExitDeathSceneBMeatWagon03 = Rect( -4736.0, -5632.0, -4608.0, -5504.0 )
    set gg_rct_ExitDeathSceneBVillager01 = Rect( -5088.0, -4960.0, -5024.0, -4896.0 )
    set gg_rct_ExitDeathSceneBVillager03 = Rect( -5216.0, -5184.0, -5152.0, -5120.0 )
    set gg_rct_ExitSpawnKelThuzadGhost = Rect( -1088.0, -6496.0, -960.0, -6368.0 )
    set gg_rct_Gargoyle01 = Rect( -6016.0, 64.0, -5888.0, 192.0 )
    set gg_rct_Gargoyle02 = Rect( -6688.0, -512.0, -6560.0, -384.0 )
    set gg_rct_Gargoyle03 = Rect( -5632.0, -1344.0, -5504.0, -1216.0 )
    set gg_rct_Gargoyle04 = Rect( -4896.0, -1248.0, -4768.0, -1120.0 )
    set gg_rct_GargoylePing = Rect( -5760.0, -640.0, -5568.0, -448.0 )
    set gg_rct_InitialArthasLocation = Rect( 5248.0, 2496.0, 5376.0, 2624.0 )
    set gg_rct_IntroSpawnTicho_Talk = Rect( 5504.0, 1952.0, 5664.0, 2080.0 )
    set gg_rct_IntroTichoItem = Rect( 5632.0, 7040.0, 5760.0, 7168.0 )
    set gg_rct_RunnerSpawn = Rect( -3200.0, 4992.0, -3072.0, 5120.0 )
    set gg_rct_RunnerTargetEast = Rect( 2560.0, -4096.0, 2816.0, -3840.0 )
    set gg_rct_RunnerTargetWest = Rect( -3456.0, -3968.0, -3200.0, -3712.0 )
    set gg_rct_RegionRedirectB = Rect( -1536.0, 896.0, -1280.0, 1152.0 )
    set gg_rct_RegionRedirectC = Rect( -1280.0, 896.0, -1024.0, 1152.0 )
    set gg_rct_RegionRedirectD = Rect( 2048.0, 4608.0, 2304.0, 4864.0 )
    set gg_rct_SunwellCOP = Rect( -896.0, -6784.0, -640.0, -6528.0 )
    set gg_rct_SylvanasAttackTarget = Rect( 6016.0, 1792.0, 6144.0, 1920.0 )
    set gg_rct_SylvanasBansheeFacing = Rect( -3712.0, 3104.0, -3648.0, 3168.0 )
    set gg_rct_SylvanasBuildingFailsafe = Rect( -4192.0, 3584.0, -3072.0, 4672.0 )
    set gg_rct_SylvanasInitialArthas = Rect( -3840.0, 3168.0, -3712.0, 3296.0 )
    set gg_rct_SylvanasInitialSylvanus = Rect( -3520.0, 3104.0, -3392.0, 3232.0 )
    set gg_rct_SylvanasIntroGroup = Rect( 3360.0, 5504.0, 3936.0, 6048.0 )
    set gg_rct_SylvanusIntroFailsafe = Rect( 4288.0, 4608.0, 5888.0, 4864.0 )
    set gg_rct_WeatherSunlight = Rect( -1152.0, -6784.0, -384.0, -6016.0 )
    set gg_rct_VisibilitySunwell = Rect( -1280.0, -6912.0, -256.0, -5888.0 )
    set gg_rct_IntroSpawnTicho = Rect( 4544.0, 864.0, 4704.0, 992.0 )
    set gg_rct_SylvanusIntroRevive = Rect( -3744.0, 3808.0, -3616.0, 3936.0 )
    set gg_rct_GargoyleInitialRunner = Rect( -5504.0, 896.0, -5376.0, 1024.0 )
    set gg_rct_GargoyleFinalRunner = Rect( -5632.0, -512.0, -5504.0, -384.0 )
    set gg_rct_RunnerVis2 = Rect( -5504.0, 3200.0, -5376.0, 3328.0 )
    set gg_rct_RunnerVis3 = Rect( -6016.0, 2432.0, -5888.0, 2560.0 )
    set gg_rct_RunnerVis4 = Rect( -6016.0, 1408.0, -5888.0, 1536.0 )
    set gg_rct_RunnerVis1 = Rect( -4864.0, 3712.0, -4736.0, 3840.0 )
    set gg_rct_FountainSound = Rect( -896.0, -6496.0, -640.0, -6272.0 )
    set gg_rct_StreamLoop01 = Rect( -4640.0, -2944.0, -3712.0, -2624.0 )
    set gg_rct_StreamLoop02 = Rect( -4320.0, -3456.0, -3584.0, -2752.0 )
    set gg_rct_StreamLoop03 = Rect( 2880.0, -3616.0, 3648.0, -2944.0 )
    set gg_rct_StreamLoop04 = Rect( 3200.0, -3424.0, 3904.0, -2560.0 )
    set gg_rct_StreamLoop05 = Rect( 5504.0, -3776.0, 6272.0, -3488.0 )
    set gg_rct_StreamLoop06 = Rect( 5664.0, -4448.0, 6624.0, -3840.0 )
    set gg_rct_StreamLoop07 = Rect( -2752.0, -192.0, -2048.0, 448.0 )
    set gg_rct_StreamLoop08 = Rect( -2432.0, 32.0, -1792.0, 832.0 )
    set gg_rct_StreamLoop09 = Rect( 96.0, -352.0, 640.0, 384.0 )
    set gg_rct_StreamLoop10 = Rect( 576.0, -448.0, 1184.0, 672.0 )
    set gg_rct_StreamLoop11 = Rect( -2176.0, 3104.0, -1600.0, 3584.0 )
    set gg_rct_StreamLoop12 = Rect( -1760.0, 2560.0, -1184.0, 3360.0 )
    set gg_rct_StreamLoop13 = Rect( 160.0, 5280.0, 736.0, 5856.0 )
    set gg_rct_StreamLoop14 = Rect( 640.0, 5152.0, 1376.0, 6112.0 )
    set gg_rct_Villager04Patrol = Rect( -896.0, 1152.0, -576.0, 1536.0 )
    set gg_rct_Villager03Patrol = Rect( -1344.0, 96.0, -1024.0, 480.0 )
    set gg_rct_Villager05Patrol = Rect( -1728.0, 6048.0, -1408.0, 6400.0 )
    set gg_rct_Villager02Patrol = Rect( 2016.0, -1088.0, 2368.0, -672.0 )
    set gg_rct_Villager01Patrol = Rect( 6656.0, -5120.0, 7040.0, -4736.0 )
    set gg_rct_Villager01Flee = Rect( 6976.0, -4672.0, 7168.0, -4480.0 )
    set gg_rct_Villager02Flee = Rect( 1920.0, -640.0, 2112.0, -448.0 )
    set gg_rct_Villager03Flee = Rect( -1600.0, 64.0, -1408.0, 256.0 )
    set gg_rct_Villager04Flee = Rect( -896.0, 1600.0, -704.0, 1792.0 )
    set gg_rct_Villager05Flee = Rect( -1664.0, 6464.0, -1472.0, 6656.0 )
endfunction

//***************************************************************************
//*
//*  Cameras
//*
//***************************************************************************

function CreateCameras takes nothing returns nothing

    set gg_cam_IntroInitialCam = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_IntroInitialCam, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_IntroInitialCam, CAMERA_FIELD_ROTATION, 18.6, 0.0 )
    call CameraSetupSetField( gg_cam_IntroInitialCam, CAMERA_FIELD_ANGLE_OF_ATTACK, 327.8, 0.0 )
    call CameraSetupSetField( gg_cam_IntroInitialCam, CAMERA_FIELD_TARGET_DISTANCE, 1102.3, 0.0 )
    call CameraSetupSetField( gg_cam_IntroInitialCam, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_IntroInitialCam, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_IntroInitialCam, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_IntroInitialCam, 5622.7, 2354.9, 0.0 )

    set gg_cam_IntroTichoCloseup = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_IntroTichoCloseup, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_IntroTichoCloseup, CAMERA_FIELD_ROTATION, 310.8, 0.0 )
    call CameraSetupSetField( gg_cam_IntroTichoCloseup, CAMERA_FIELD_ANGLE_OF_ATTACK, 331.8, 0.0 )
    call CameraSetupSetField( gg_cam_IntroTichoCloseup, CAMERA_FIELD_TARGET_DISTANCE, 860.8, 0.0 )
    call CameraSetupSetField( gg_cam_IntroTichoCloseup, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_IntroTichoCloseup, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_IntroTichoCloseup, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_IntroTichoCloseup, 5677.9, 1887.7, 0.0 )

    set gg_cam_IntroArthasCloseup = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_IntroArthasCloseup, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_IntroArthasCloseup, CAMERA_FIELD_ROTATION, 50.8, 0.0 )
    call CameraSetupSetField( gg_cam_IntroArthasCloseup, CAMERA_FIELD_ANGLE_OF_ATTACK, 335.7, 0.0 )
    call CameraSetupSetField( gg_cam_IntroArthasCloseup, CAMERA_FIELD_TARGET_DISTANCE, 930.2, 0.0 )
    call CameraSetupSetField( gg_cam_IntroArthasCloseup, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_IntroArthasCloseup, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_IntroArthasCloseup, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_IntroArthasCloseup, 5474.9, 2711.4, 0.0 )

    set gg_cam_IntroSunWell = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_IntroSunWell, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_IntroSunWell, CAMERA_FIELD_ROTATION, 90.0, 0.0 )
    call CameraSetupSetField( gg_cam_IntroSunWell, CAMERA_FIELD_ANGLE_OF_ATTACK, 323.5, 0.0 )
    call CameraSetupSetField( gg_cam_IntroSunWell, CAMERA_FIELD_TARGET_DISTANCE, 1922.0, 0.0 )
    call CameraSetupSetField( gg_cam_IntroSunWell, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_IntroSunWell, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_IntroSunWell, CAMERA_FIELD_FARZ, 5500.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_IntroSunWell, -764.4, -6343.9, 0.0 )

    set gg_cam_IntroSunWellCloseup = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_IntroSunWellCloseup, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_IntroSunWellCloseup, CAMERA_FIELD_ROTATION, 90.0, 0.0 )
    call CameraSetupSetField( gg_cam_IntroSunWellCloseup, CAMERA_FIELD_ANGLE_OF_ATTACK, 323.5, 0.0 )
    call CameraSetupSetField( gg_cam_IntroSunWellCloseup, CAMERA_FIELD_TARGET_DISTANCE, 1097.9, 0.0 )
    call CameraSetupSetField( gg_cam_IntroSunWellCloseup, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_IntroSunWellCloseup, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_IntroSunWellCloseup, CAMERA_FIELD_FARZ, 5500.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_IntroSunWellCloseup, -764.4, -6343.9, 0.0 )

    set gg_cam_SylvanusCamera = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_SylvanusCamera, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_SylvanusCamera, CAMERA_FIELD_ROTATION, 59.1, 0.0 )
    call CameraSetupSetField( gg_cam_SylvanusCamera, CAMERA_FIELD_ANGLE_OF_ATTACK, 317.4, 0.0 )
    call CameraSetupSetField( gg_cam_SylvanusCamera, CAMERA_FIELD_TARGET_DISTANCE, 1106.1, 0.0 )
    call CameraSetupSetField( gg_cam_SylvanusCamera, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_SylvanusCamera, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_SylvanusCamera, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_SylvanusCamera, -3475.7, 3275.0, 0.0 )

    set gg_cam_SylvanusFight = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_SylvanusFight, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_SylvanusFight, CAMERA_FIELD_ROTATION, 92.0, 0.0 )
    call CameraSetupSetField( gg_cam_SylvanusFight, CAMERA_FIELD_ANGLE_OF_ATTACK, 320.3, 0.0 )
    call CameraSetupSetField( gg_cam_SylvanusFight, CAMERA_FIELD_TARGET_DISTANCE, 831.1, 0.0 )
    call CameraSetupSetField( gg_cam_SylvanusFight, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_SylvanusFight, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_SylvanusFight, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_SylvanusFight, -3531.7, 3274.4, 0.0 )

    set gg_cam_ExitInitialSunwell = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_ExitInitialSunwell, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_ExitInitialSunwell, CAMERA_FIELD_ROTATION, 28.7, 0.0 )
    call CameraSetupSetField( gg_cam_ExitInitialSunwell, CAMERA_FIELD_ANGLE_OF_ATTACK, 325.9, 0.0 )
    call CameraSetupSetField( gg_cam_ExitInitialSunwell, CAMERA_FIELD_TARGET_DISTANCE, 1197.4, 0.0 )
    call CameraSetupSetField( gg_cam_ExitInitialSunwell, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_ExitInitialSunwell, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_ExitInitialSunwell, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_ExitInitialSunwell, -784.1, -6477.1, 0.0 )

    set gg_cam_ExitDeathSceneA = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_ExitDeathSceneA, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_ExitDeathSceneA, CAMERA_FIELD_ROTATION, 72.1, 0.0 )
    call CameraSetupSetField( gg_cam_ExitDeathSceneA, CAMERA_FIELD_ANGLE_OF_ATTACK, 324.7, 0.0 )
    call CameraSetupSetField( gg_cam_ExitDeathSceneA, CAMERA_FIELD_TARGET_DISTANCE, 1126.2, 0.0 )
    call CameraSetupSetField( gg_cam_ExitDeathSceneA, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_ExitDeathSceneA, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_ExitDeathSceneA, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_ExitDeathSceneA, 225.4, -2176.7, 0.0 )

    set gg_cam_ExitDeathSceneB = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_ExitDeathSceneB, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_ExitDeathSceneB, CAMERA_FIELD_ROTATION, 88.7, 0.0 )
    call CameraSetupSetField( gg_cam_ExitDeathSceneB, CAMERA_FIELD_ANGLE_OF_ATTACK, 306.3, 0.0 )
    call CameraSetupSetField( gg_cam_ExitDeathSceneB, CAMERA_FIELD_TARGET_DISTANCE, 1561.6, 0.0 )
    call CameraSetupSetField( gg_cam_ExitDeathSceneB, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_ExitDeathSceneB, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_ExitDeathSceneB, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_ExitDeathSceneB, -4868.5, -5201.9, 0.0 )

    set gg_cam_GargoyleView = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_GargoyleView, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_GargoyleView, CAMERA_FIELD_ROTATION, 89.8, 0.0 )
    call CameraSetupSetField( gg_cam_GargoyleView, CAMERA_FIELD_ANGLE_OF_ATTACK, 317.2, 0.0 )
    call CameraSetupSetField( gg_cam_GargoyleView, CAMERA_FIELD_TARGET_DISTANCE, 2303.5, 0.0 )
    call CameraSetupSetField( gg_cam_GargoyleView, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_GargoyleView, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_GargoyleView, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_GargoyleView, -5554.6, -434.4, 0.0 )

endfunction

//***************************************************************************
//*
//*  Triggers
//*
//***************************************************************************

//===========================================================================
// Trigger: StartInitializationSequence
//===========================================================================
function Trig_StartInitializationSequence_Actions takes nothing returns nothing
    call SetCampaignMenuRaceBJ( bj_CAMPAIGN_INDEX_U )
    call TriggerExecute( gg_trg_Initialize_Variables )
    call TriggerExecute( gg_trg_Initial_Resources )
    call TriggerExecute( gg_trg_Initial_Alliances )
    call TriggerExecute( gg_trg_Initial_Weather )
    call TriggerExecute( gg_trg_Initial_Heroes )
    call TriggerExecute( gg_trg_Initial_Quests )
    call TriggerExecute( gg_trg_Initial_Music )
    call TriggerExecute( gg_trg_Setup_Scorescreen )
    call TriggerExecute( gg_trg_TriggerIntroCinematic )
endfunction

//===========================================================================
function InitTrig_StartInitializationSequence takes nothing returns nothing
    set gg_trg_StartInitializationSequence = CreateTrigger(  )
    call TriggerAddAction( gg_trg_StartInitializationSequence, function Trig_StartInitializationSequence_Actions )
endfunction

//===========================================================================
// Trigger: Initialize Variables
//===========================================================================
function Trig_Initialize_Variables_Func011002 takes nothing returns nothing
    call GroupAddUnitSimple( GetEnumUnit(), udg_SylvanasAttackGroup )
endfunction

function Trig_Initialize_Variables_Actions takes nothing returns nothing
    set udg_PlayerTichondrius = Player(0)
    set udg_PlayerSylvanus = Player(1)
    set udg_PlayerSilvermoon = Player(2)
    set udg_PlayerArthas = Player(3)
    set udg_PlayerSilvermoonBrown = Player(11)
    call SetPlayerColorBJ( Player(9), PLAYER_COLOR_BLUE, true )
    call SetPlayerColorBJ( Player(11), PLAYER_COLOR_CYAN, true )
    set udg_Sylvanas = gg_unit_Hvwd_0128
    set udg_SilvermoonArchMage = gg_unit_Hamg_0203
    set udg_SylvanasIntro = gg_unit_Hvwd_0167
    call ForGroup( GetUnitsInRectOfPlayer(gg_rct_SylvanasIntroGroup, Player(9)), function Trig_Initialize_Variables_Func011002 )
    call GroupAddUnitSimple( gg_unit_nggr_0134, udg_GuardianGroup )
    call GroupAddUnitSimple( gg_unit_nggr_0049, udg_GuardianGroup )
    call GroupAddUnitSimple( gg_unit_nggr_0135, udg_GuardianGroup )
    call GroupAddUnitSimple( gg_unit_nggr_0136, udg_GuardianGroup )
    call SetPlayerColorBJ( Player(5), PLAYER_COLOR_YELLOW, true )
    call SetUnitColor( gg_unit_ncp3_0202, GetPlayerColor(Player(3)) )
    set udg_RunnerSpawnBuilding = gg_unit_hcas_0004
    set udg_RunnerVariableTarget = gg_rct_RunnerTargetWest
    call CommentString( "VILLAGERS" )
    set udg_UnitVillager01 = gg_unit_nhef_0055
    set udg_UnitVillager02 = gg_unit_nhef_0051
    set udg_UnitVillager03 = gg_unit_nhef_0039
    set udg_UnitVillager04 = gg_unit_nhef_0035
    set udg_UnitVillager05 = gg_unit_nhef_0040
endfunction

//===========================================================================
function InitTrig_Initialize_Variables takes nothing returns nothing
    set gg_trg_Initialize_Variables = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Initialize_Variables, function Trig_Initialize_Variables_Actions )
endfunction

//===========================================================================
// Trigger: Initial Resources
//===========================================================================
function Trig_Initial_Resources_Actions takes nothing returns nothing
    call SetPlayerStateBJ( udg_PlayerSylvanus, PLAYER_STATE_RESOURCE_GOLD, 1000 )
    call SetPlayerStateBJ( udg_PlayerSylvanus, PLAYER_STATE_RESOURCE_LUMBER, 1000 )
    call SetPlayerStateBJ( udg_PlayerSilvermoon, PLAYER_STATE_RESOURCE_GOLD, 1000 )
    call SetPlayerStateBJ( udg_PlayerSilvermoon, PLAYER_STATE_RESOURCE_LUMBER, 1000 )
endfunction

//===========================================================================
function InitTrig_Initial_Resources takes nothing returns nothing
    set gg_trg_Initial_Resources = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Initial_Resources, function Trig_Initial_Resources_Actions )
endfunction

//===========================================================================
// Trigger: Initial Weather
//===========================================================================
function Trig_Initial_Weather_Actions takes nothing returns nothing
    call AddWeatherEffectSaveLast( gg_rct_WeatherSunlight, 'LRaa' )
    set udg_WeatherSunbeams = GetLastCreatedWeatherEffect()
    call EnableWeatherEffect( udg_WeatherSunbeams, true )
endfunction

//===========================================================================
function InitTrig_Initial_Weather takes nothing returns nothing
    set gg_trg_Initial_Weather = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Initial_Weather, function Trig_Initial_Weather_Actions )
endfunction

//===========================================================================
// Trigger: Initial Alliances
//===========================================================================
function Trig_Initial_Alliances_Actions takes nothing returns nothing
    call SetPlayerAllianceBJ( Player(1), ALLIANCE_PASSIVE, true, Player(PLAYER_NEUTRAL_AGGRESSIVE) )
    call SetPlayerAllianceBJ( Player(2), ALLIANCE_PASSIVE, true, Player(PLAYER_NEUTRAL_AGGRESSIVE) )
    call SetPlayerAllianceBJ( Player(4), ALLIANCE_PASSIVE, true, Player(PLAYER_NEUTRAL_AGGRESSIVE) )
    call SetPlayerAllianceBJ( Player(11), ALLIANCE_PASSIVE, true, Player(PLAYER_NEUTRAL_AGGRESSIVE) )
    call SetPlayerAllianceBJ( Player(PLAYER_NEUTRAL_AGGRESSIVE), ALLIANCE_PASSIVE, true, Player(1) )
    call SetPlayerAllianceBJ( Player(PLAYER_NEUTRAL_AGGRESSIVE), ALLIANCE_PASSIVE, true, Player(2) )
    call SetPlayerAllianceBJ( Player(PLAYER_NEUTRAL_AGGRESSIVE), ALLIANCE_PASSIVE, true, Player(4) )
    call SetPlayerAllianceBJ( Player(PLAYER_NEUTRAL_AGGRESSIVE), ALLIANCE_PASSIVE, true, Player(11) )
endfunction

//===========================================================================
function InitTrig_Initial_Alliances takes nothing returns nothing
    set gg_trg_Initial_Alliances = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Initial_Alliances, function Trig_Initial_Alliances_Actions )
endfunction

//===========================================================================
// Trigger: Initial Quests
//===========================================================================
function Trig_Initial_Quests_Actions takes nothing returns nothing
    call CreateQuestBJ( bj_QUESTTYPE_REQ_DISCOVERED, "TRIGSTR_029", "TRIGSTR_030", "ReplaceableTextures\\CommandButtons\\BTNManaRecharge.tga" )
    set udg_QuestSunwell = GetLastCreatedQuestBJ()
    call CreateQuestItemBJ( udg_QuestSunwell, "TRIGSTR_035" )
    set udg_QuestReqSunwellGuardians = GetLastCreatedQuestItemBJ()
    call CreateQuestBJ( bj_QUESTTYPE_OPT_UNDISCOVERED, "TRIGSTR_031", "TRIGSTR_032", "ReplaceableTextures\\CommandButtons\\BTNSylvanusWindrunner.tga" )
    set udg_QuestSilvanus = GetLastCreatedQuestBJ()
    call CreateQuestItemBJ( udg_QuestSilvanus, "TRIGSTR_037" )
    set udg_QuestReqSilvanus = GetLastCreatedQuestItemBJ()
    call CreateQuestBJ( bj_QUESTTYPE_OPT_UNDISCOVERED, "TRIGSTR_040", "TRIGSTR_041", "ReplaceableTextures\\CommandButtons\\BTNCallToArms.tga" )
    set udg_QuestRunners = GetLastCreatedQuestBJ()
    call CreateQuestItemBJ( udg_QuestRunners, "TRIGSTR_042" )
    set udg_QuestReqRunners = GetLastCreatedQuestItemBJ()
    call CreateQuestItemBJ( udg_QuestRunners, "TRIGSTR_111" )
    set udg_QuestReqNoAttackSilvermoon = GetLastCreatedQuestItemBJ()
endfunction

//===========================================================================
function InitTrig_Initial_Quests takes nothing returns nothing
    set gg_trg_Initial_Quests = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Initial_Quests, function Trig_Initial_Quests_Actions )
endfunction

//===========================================================================
// Trigger: Initial Music
//===========================================================================
function Trig_Initial_Music_Actions takes nothing returns nothing
    call ClearMapMusicBJ(  )
    call TriggerSleepAction( 0.01 )
    call PlayThematicMusicBJ( "Sound\\Music\\mp3Music\\DarkAgents.mp3" )
    call SetMapMusicIndexedBJ( "music", 1 )
endfunction

//===========================================================================
function InitTrig_Initial_Music takes nothing returns nothing
    set gg_trg_Initial_Music = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Initial_Music, function Trig_Initial_Music_Actions )
endfunction

//===========================================================================
// Trigger: Setup Scorescreen
//===========================================================================
function Trig_Setup_Scorescreen_Actions takes nothing returns nothing
    call SetPlayerOnScoreScreenBJ( false, udg_PlayerTichondrius )
    call SetPlayerOnScoreScreenBJ( false, udg_PlayerSilvermoonBrown )
    call SetPlayerOnScoreScreenBJ( false, Player(4) )
    call SetPlayerOnScoreScreenBJ( false, Player(5) )
    call SetPlayerOnScoreScreenBJ( false, Player(9) )
    call SetPlayerOnScoreScreenBJ( false, Player(10) )
endfunction

//===========================================================================
function InitTrig_Setup_Scorescreen takes nothing returns nothing
    set gg_trg_Setup_Scorescreen = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Setup_Scorescreen, function Trig_Setup_Scorescreen_Actions )
endfunction

//===========================================================================
// Trigger: Easy
//===========================================================================
function Trig_Easy_Conditions takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_EASY ) ) then
        return false
    endif
    return true
endfunction

function Trig_Easy_Actions takes nothing returns nothing
    set udg_RunnerTimerLength = 240.00
    set udg_RunnerMovementSpeedHandicap = 40.00
    call RemoveGuardPosition( gg_unit_nheb_0015 )
    call CommentString( "REMOVE UNITS" )
    call RemoveUnit( gg_unit_nheb_0015 )
    call RemoveUnit( gg_unit_negt_0005 )
    call RemoveUnit( gg_unit_nheb_0056 )
    call CommentString( "HANDICAP" )
    call SetPlayerHandicapBJ( Player(1), bj_HANDICAP_EASY )
    call SetPlayerHandicapBJ( Player(2), bj_HANDICAP_EASY )
    call SetPlayerHandicapBJ( Player(4), bj_HANDICAP_EASY )
    call SetPlayerHandicapBJ( Player(9), bj_HANDICAP_EASY )
    call SetPlayerHandicapBJ( Player(10), bj_HANDICAP_EASY )
    call SetPlayerHandicapBJ( Player(11), bj_HANDICAP_EASY )
    call SetPlayerHandicapBJ( Player(PLAYER_NEUTRAL_AGGRESSIVE), bj_HANDICAP_EASY )
endfunction

//===========================================================================
function InitTrig_Easy takes nothing returns nothing
    set gg_trg_Easy = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Easy, Condition( function Trig_Easy_Conditions ) )
    call TriggerAddAction( gg_trg_Easy, function Trig_Easy_Actions )
endfunction

//===========================================================================
// Trigger: Normal
//===========================================================================
function Trig_Normal_Conditions takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_NORMAL ) ) then
        return false
    endif
    return true
endfunction

function Trig_Normal_Actions takes nothing returns nothing
    set udg_RunnerTimerLength = 240.00
    set udg_RunnerMovementSpeedHandicap = 40.00
    call RemoveGuardPosition( gg_unit_nheb_0015 )
    call CommentString( "REMOVE UNITS" )
    call RemoveUnit( gg_unit_nheb_0015 )
    call RemoveUnit( gg_unit_negt_0005 )
    call RemoveUnit( gg_unit_nheb_0056 )
endfunction

//===========================================================================
function InitTrig_Normal takes nothing returns nothing
    set gg_trg_Normal = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Normal, Condition( function Trig_Normal_Conditions ) )
    call TriggerAddAction( gg_trg_Normal, function Trig_Normal_Actions )
endfunction

//===========================================================================
// Trigger: Hard
//===========================================================================
function Trig_Hard_Conditions takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_HARD ) ) then
        return false
    endif
    return true
endfunction

function Trig_Hard_Actions takes nothing returns nothing
    set udg_RunnerTimerLength = 180.00
    set udg_RunnerMovementSpeedHandicap = 0.00
endfunction

//===========================================================================
function InitTrig_Hard takes nothing returns nothing
    set gg_trg_Hard = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Hard, Condition( function Trig_Hard_Conditions ) )
    call TriggerAddAction( gg_trg_Hard, function Trig_Hard_Actions )
endfunction

//===========================================================================
// Trigger: BlueGold
//===========================================================================
function Trig_BlueGold_Actions takes nothing returns nothing
    call AdjustPlayerStateBJ( 1000, Player(1), PLAYER_STATE_RESOURCE_GOLD )
endfunction

//===========================================================================
function InitTrig_BlueGold takes nothing returns nothing
    set gg_trg_BlueGold = CreateTrigger(  )
    call TriggerRegisterPlayerStateEvent( gg_trg_BlueGold, Player(1), PLAYER_STATE_RESOURCE_GOLD, LESS_THAN, 1000 )
    call TriggerAddAction( gg_trg_BlueGold, function Trig_BlueGold_Actions )
endfunction

//===========================================================================
// Trigger: BlueLumber
//===========================================================================
function Trig_BlueLumber_Actions takes nothing returns nothing
    call AdjustPlayerStateBJ( 1000, Player(1), PLAYER_STATE_RESOURCE_LUMBER )
endfunction

//===========================================================================
function InitTrig_BlueLumber takes nothing returns nothing
    set gg_trg_BlueLumber = CreateTrigger(  )
    call TriggerRegisterPlayerStateEvent( gg_trg_BlueLumber, Player(1), PLAYER_STATE_RESOURCE_LUMBER, LESS_THAN, 1000 )
    call TriggerAddAction( gg_trg_BlueLumber, function Trig_BlueLumber_Actions )
endfunction

//===========================================================================
// Trigger: TealGold
//===========================================================================
function Trig_TealGold_Actions takes nothing returns nothing
    call AdjustPlayerStateBJ( 1000, Player(2), PLAYER_STATE_RESOURCE_GOLD )
endfunction

//===========================================================================
function InitTrig_TealGold takes nothing returns nothing
    set gg_trg_TealGold = CreateTrigger(  )
    call TriggerRegisterPlayerStateEvent( gg_trg_TealGold, Player(2), PLAYER_STATE_RESOURCE_GOLD, LESS_THAN, 1000 )
    call TriggerAddAction( gg_trg_TealGold, function Trig_TealGold_Actions )
endfunction

//===========================================================================
// Trigger: TealLumber
//===========================================================================
function Trig_TealLumber_Actions takes nothing returns nothing
    call AdjustPlayerStateBJ( 1000, Player(2), PLAYER_STATE_RESOURCE_LUMBER )
endfunction

//===========================================================================
function InitTrig_TealLumber takes nothing returns nothing
    set gg_trg_TealLumber = CreateTrigger(  )
    call TriggerRegisterPlayerStateEvent( gg_trg_TealLumber, Player(2), PLAYER_STATE_RESOURCE_LUMBER, LESS_THAN, 1000 )
    call TriggerAddAction( gg_trg_TealLumber, function Trig_TealLumber_Actions )
endfunction

//===========================================================================
// Trigger: BrownGold
//===========================================================================
function Trig_BrownGold_Actions takes nothing returns nothing
    call AdjustPlayerStateBJ( 1000, Player(11), PLAYER_STATE_RESOURCE_GOLD )
endfunction

//===========================================================================
function InitTrig_BrownGold takes nothing returns nothing
    set gg_trg_BrownGold = CreateTrigger(  )
    call TriggerRegisterPlayerStateEvent( gg_trg_BrownGold, Player(11), PLAYER_STATE_RESOURCE_GOLD, LESS_THAN, 1000 )
    call TriggerAddAction( gg_trg_BrownGold, function Trig_BrownGold_Actions )
endfunction

//===========================================================================
// Trigger: BrownLumber
//===========================================================================
function Trig_BrownLumber_Actions takes nothing returns nothing
    call AdjustPlayerStateBJ( 1000, Player(11), PLAYER_STATE_RESOURCE_LUMBER )
endfunction

//===========================================================================
function InitTrig_BrownLumber takes nothing returns nothing
    set gg_trg_BrownLumber = CreateTrigger(  )
    call TriggerRegisterPlayerStateEvent( gg_trg_BrownLumber, Player(11), PLAYER_STATE_RESOURCE_LUMBER, LESS_THAN, 1000 )
    call TriggerAddAction( gg_trg_BrownLumber, function Trig_BrownLumber_Actions )
endfunction

//===========================================================================
// Trigger: Initial Heroes
//===========================================================================
function Trig_Initial_Heroes_Actions takes nothing returns nothing
    call TriggerExecute( gg_trg_Load_Arthas )
    call SetHeroLevel( udg_Sylvanas, 7, false )
    call SelectHeroSkill( udg_Sylvanas, 'AHca' )
    call SelectHeroSkill( udg_Sylvanas, 'AHca' )
    call SelectHeroSkill( udg_Sylvanas, 'AHca' )
    call SelectHeroSkill( udg_Sylvanas, 'AEar' )
    call SelectHeroSkill( udg_Sylvanas, 'AEar' )
    call SelectHeroSkill( udg_Sylvanas, 'AEar' )
    call SuspendHeroXPBJ( false, udg_Sylvanas )
    call SetHeroLevel( udg_SilvermoonArchMage, 6, false )
    call SelectHeroSkill( udg_SilvermoonArchMage, 'AHbz' )
    call SelectHeroSkill( udg_SilvermoonArchMage, 'AHbz' )
    call SelectHeroSkill( udg_SilvermoonArchMage, 'AHwe' )
    call SelectHeroSkill( udg_SilvermoonArchMage, 'AHwe' )
    call SelectHeroSkill( udg_SilvermoonArchMage, 'AHab' )
    call SelectHeroSkill( udg_SilvermoonArchMage, 'AHab' )
    call SuspendHeroXPBJ( false, udg_SilvermoonArchMage )
    call SetHeroLevel( udg_SylvanasIntro, 7, false )
    call SelectHeroSkill( udg_SylvanasIntro, 'AHca' )
    call SelectHeroSkill( udg_SylvanasIntro, 'AHca' )
    call SelectHeroSkill( udg_SylvanasIntro, 'AHca' )
    call SelectHeroSkill( udg_SylvanasIntro, 'AEar' )
    call SelectHeroSkill( udg_SylvanasIntro, 'AEar' )
    call SelectHeroSkill( udg_SylvanasIntro, 'AEar' )
    call SuspendHeroXPBJ( false, udg_SylvanasIntro )
endfunction

//===========================================================================
function InitTrig_Initial_Heroes takes nothing returns nothing
    set gg_trg_Initial_Heroes = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Initial_Heroes, function Trig_Initial_Heroes_Actions )
endfunction

//===========================================================================
// Trigger: Load Arthas
//===========================================================================
function Trig_Load_Arthas_Func004001 takes nothing returns boolean
    return ( udg_Arthas != null )
endfunction

function Trig_Load_Arthas_Actions takes nothing returns nothing
    call InitGameCacheBJ( "Campaigns.w3v" )
    call RestoreUnitLocFacingAngleBJ( "Arthas", "Undead05", GetLastCreatedGameCacheBJ(), udg_PlayerArthas, GetRectCenter(gg_rct_InitialArthasLocation), 180.00 )
    set udg_Arthas = GetLastRestoredUnitBJ()
    if ( Trig_Load_Arthas_Func004001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CreateNUnitsAtLoc( 1, 'Uear', udg_PlayerArthas, GetRectCenter(gg_rct_InitialArthasLocation), 180.00 )
    set udg_Arthas = GetLastCreatedUnit()
    call SetHeroLevel( udg_Arthas, 5, false )
    call SelectHeroSkill( udg_Arthas, 'AUdc' )
    call SelectHeroSkill( udg_Arthas, 'AUdc' )
    call SelectHeroSkill( udg_Arthas, 'AUau' )
    call SelectHeroSkill( udg_Arthas, 'AUau' )
    call SelectHeroSkill( udg_Arthas, 'AUdp' )
    call SetPlayerHandicapXPBJ( Player(3), 50.00 )
    call UnitAddItemByIdSwapped( 'ktrm', udg_Arthas )
    call SetItemDroppableBJ( GetLastCreatedItem(), false )
endfunction

//===========================================================================
function InitTrig_Load_Arthas takes nothing returns nothing
    set gg_trg_Load_Arthas = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Load_Arthas, function Trig_Load_Arthas_Actions )
endfunction

//===========================================================================
// Trigger: Limit Arthas XP
//===========================================================================
function Trig_Limit_Arthas_XP_Conditions takes nothing returns boolean
    if ( not ( GetHeroLevel(udg_Arthas) >= 6 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Limit_Arthas_XP_Actions takes nothing returns nothing
    call SuspendHeroXPBJ( false, udg_Arthas )
    call TriggerSleepAction( 0.10 )
    call SetHeroXP( udg_Arthas, 2000, false )
endfunction

//===========================================================================
function InitTrig_Limit_Arthas_XP takes nothing returns nothing
    set gg_trg_Limit_Arthas_XP = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Limit_Arthas_XP, Player(3), EVENT_PLAYER_HERO_LEVEL )
    call TriggerAddCondition( gg_trg_Limit_Arthas_XP, Condition( function Trig_Limit_Arthas_XP_Conditions ) )
    call TriggerAddAction( gg_trg_Limit_Arthas_XP, function Trig_Limit_Arthas_XP_Actions )
endfunction

//===========================================================================
// Trigger: Villager01Patrol
//===========================================================================
function Trig_Villager01Patrol_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ( udg_UnitVillager01, "move", GetRandomLocInRect(gg_rct_Villager01Patrol) )
endfunction

//===========================================================================
function InitTrig_Villager01Patrol takes nothing returns nothing
    set gg_trg_Villager01Patrol = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Villager01Patrol, 6.00 )
    call TriggerAddAction( gg_trg_Villager01Patrol, function Trig_Villager01Patrol_Actions )
endfunction

//===========================================================================
// Trigger: Villager01Panic
//===========================================================================
function Trig_Villager01Panic_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetTriggerUnit()) == Player(3) ) ) then
        return false
    endif
    return true
endfunction

function Trig_Villager01Panic_Actions takes nothing returns nothing
    call SetUnitPathing( udg_UnitVillager01, false )
    call IssuePointOrderLocBJ( udg_UnitVillager01, "move", GetRectCenter(gg_rct_Villager01Flee) )
endfunction

//===========================================================================
function InitTrig_Villager01Panic takes nothing returns nothing
    set gg_trg_Villager01Panic = CreateTrigger(  )
    call TriggerRegisterUnitInRangeSimple( gg_trg_Villager01Panic, 512.00, gg_unit_nhef_0055 )
    call TriggerAddCondition( gg_trg_Villager01Panic, Condition( function Trig_Villager01Panic_Conditions ) )
    call TriggerAddAction( gg_trg_Villager01Panic, function Trig_Villager01Panic_Actions )
endfunction

//===========================================================================
// Trigger: Villager01Remove
//===========================================================================
function Trig_Villager01Remove_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetEnteringUnit()) == 'nhef' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Villager01Remove_Actions takes nothing returns nothing
    call RemoveUnit( udg_UnitVillager01 )
endfunction

//===========================================================================
function InitTrig_Villager01Remove takes nothing returns nothing
    set gg_trg_Villager01Remove = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Villager01Remove, gg_rct_Villager01Flee )
    call TriggerAddCondition( gg_trg_Villager01Remove, Condition( function Trig_Villager01Remove_Conditions ) )
    call TriggerAddAction( gg_trg_Villager01Remove, function Trig_Villager01Remove_Actions )
endfunction

//===========================================================================
// Trigger: Villager02Patrol
//===========================================================================
function Trig_Villager02Patrol_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ( udg_UnitVillager02, "move", GetRandomLocInRect(gg_rct_Villager02Patrol) )
endfunction

//===========================================================================
function InitTrig_Villager02Patrol takes nothing returns nothing
    set gg_trg_Villager02Patrol = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Villager02Patrol, 7.00 )
    call TriggerAddAction( gg_trg_Villager02Patrol, function Trig_Villager02Patrol_Actions )
endfunction

//===========================================================================
// Trigger: Villager02Panic
//===========================================================================
function Trig_Villager02Panic_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetTriggerUnit()) == Player(3) ) ) then
        return false
    endif
    return true
endfunction

function Trig_Villager02Panic_Actions takes nothing returns nothing
    call SetUnitPathing( udg_UnitVillager02, false )
    call IssuePointOrderLocBJ( udg_UnitVillager02, "move", GetRectCenter(gg_rct_Villager02Flee) )
endfunction

//===========================================================================
function InitTrig_Villager02Panic takes nothing returns nothing
    set gg_trg_Villager02Panic = CreateTrigger(  )
    call TriggerRegisterUnitInRangeSimple( gg_trg_Villager02Panic, 512.00, gg_unit_nhef_0051 )
    call TriggerAddCondition( gg_trg_Villager02Panic, Condition( function Trig_Villager02Panic_Conditions ) )
    call TriggerAddAction( gg_trg_Villager02Panic, function Trig_Villager02Panic_Actions )
endfunction

//===========================================================================
// Trigger: Villager02Remove
//===========================================================================
function Trig_Villager02Remove_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetEnteringUnit()) == 'nhef' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Villager02Remove_Actions takes nothing returns nothing
    call RemoveUnit( udg_UnitVillager02 )
endfunction

//===========================================================================
function InitTrig_Villager02Remove takes nothing returns nothing
    set gg_trg_Villager02Remove = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Villager02Remove, gg_rct_Villager02Flee )
    call TriggerAddCondition( gg_trg_Villager02Remove, Condition( function Trig_Villager02Remove_Conditions ) )
    call TriggerAddAction( gg_trg_Villager02Remove, function Trig_Villager02Remove_Actions )
endfunction

//===========================================================================
// Trigger: Villager03Patrol
//===========================================================================
function Trig_Villager03Patrol_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ( udg_UnitVillager03, "move", GetRandomLocInRect(gg_rct_Villager03Patrol) )
endfunction

//===========================================================================
function InitTrig_Villager03Patrol takes nothing returns nothing
    set gg_trg_Villager03Patrol = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Villager03Patrol, 8.00 )
    call TriggerAddAction( gg_trg_Villager03Patrol, function Trig_Villager03Patrol_Actions )
endfunction

//===========================================================================
// Trigger: Villager03Panic
//===========================================================================
function Trig_Villager03Panic_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetTriggerUnit()) == Player(3) ) ) then
        return false
    endif
    return true
endfunction

function Trig_Villager03Panic_Actions takes nothing returns nothing
    call SetUnitPathing( udg_UnitVillager03, false )
    call IssuePointOrderLocBJ( udg_UnitVillager03, "move", GetRectCenter(gg_rct_Villager03Flee) )
endfunction

//===========================================================================
function InitTrig_Villager03Panic takes nothing returns nothing
    set gg_trg_Villager03Panic = CreateTrigger(  )
    call TriggerRegisterUnitInRangeSimple( gg_trg_Villager03Panic, 512.00, gg_unit_nhef_0039 )
    call TriggerAddCondition( gg_trg_Villager03Panic, Condition( function Trig_Villager03Panic_Conditions ) )
    call TriggerAddAction( gg_trg_Villager03Panic, function Trig_Villager03Panic_Actions )
endfunction

//===========================================================================
// Trigger: Villager03Remove
//===========================================================================
function Trig_Villager03Remove_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetEnteringUnit()) == 'nhef' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Villager03Remove_Actions takes nothing returns nothing
    call RemoveUnit( udg_UnitVillager03 )
endfunction

//===========================================================================
function InitTrig_Villager03Remove takes nothing returns nothing
    set gg_trg_Villager03Remove = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Villager03Remove, gg_rct_Villager03Flee )
    call TriggerAddCondition( gg_trg_Villager03Remove, Condition( function Trig_Villager03Remove_Conditions ) )
    call TriggerAddAction( gg_trg_Villager03Remove, function Trig_Villager03Remove_Actions )
endfunction

//===========================================================================
// Trigger: Villager04Patrol
//===========================================================================
function Trig_Villager04Patrol_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ( udg_UnitVillager04, "move", GetRandomLocInRect(gg_rct_Villager04Patrol) )
endfunction

//===========================================================================
function InitTrig_Villager04Patrol takes nothing returns nothing
    set gg_trg_Villager04Patrol = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Villager04Patrol, 5.00 )
    call TriggerAddAction( gg_trg_Villager04Patrol, function Trig_Villager04Patrol_Actions )
endfunction

//===========================================================================
// Trigger: Villager04Panic
//===========================================================================
function Trig_Villager04Panic_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetTriggerUnit()) == Player(3) ) ) then
        return false
    endif
    return true
endfunction

function Trig_Villager04Panic_Actions takes nothing returns nothing
    call SetUnitPathing( udg_UnitVillager04, false )
    call IssuePointOrderLocBJ( udg_UnitVillager04, "move", GetRectCenter(gg_rct_Villager04Flee) )
endfunction

//===========================================================================
function InitTrig_Villager04Panic takes nothing returns nothing
    set gg_trg_Villager04Panic = CreateTrigger(  )
    call TriggerRegisterUnitInRangeSimple( gg_trg_Villager04Panic, 512.00, gg_unit_nhef_0035 )
    call TriggerAddCondition( gg_trg_Villager04Panic, Condition( function Trig_Villager04Panic_Conditions ) )
    call TriggerAddAction( gg_trg_Villager04Panic, function Trig_Villager04Panic_Actions )
endfunction

//===========================================================================
// Trigger: Villager04Remove
//===========================================================================
function Trig_Villager04Remove_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetEnteringUnit()) == 'nhef' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Villager04Remove_Actions takes nothing returns nothing
    call RemoveUnit( udg_UnitVillager04 )
endfunction

//===========================================================================
function InitTrig_Villager04Remove takes nothing returns nothing
    set gg_trg_Villager04Remove = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Villager04Remove, gg_rct_Villager04Flee )
    call TriggerAddCondition( gg_trg_Villager04Remove, Condition( function Trig_Villager04Remove_Conditions ) )
    call TriggerAddAction( gg_trg_Villager04Remove, function Trig_Villager04Remove_Actions )
endfunction

//===========================================================================
// Trigger: Villager05Patrol
//===========================================================================
function Trig_Villager05Patrol_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ( udg_UnitVillager05, "move", GetRandomLocInRect(gg_rct_Villager05Patrol) )
endfunction

//===========================================================================
function InitTrig_Villager05Patrol takes nothing returns nothing
    set gg_trg_Villager05Patrol = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Villager05Patrol, 6.00 )
    call TriggerAddAction( gg_trg_Villager05Patrol, function Trig_Villager05Patrol_Actions )
endfunction

//===========================================================================
// Trigger: Villager05Panic
//===========================================================================
function Trig_Villager05Panic_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetTriggerUnit()) == Player(3) ) ) then
        return false
    endif
    return true
endfunction

function Trig_Villager05Panic_Actions takes nothing returns nothing
    call SetUnitPathing( udg_UnitVillager05, false )
    call IssuePointOrderLocBJ( udg_UnitVillager05, "move", GetRectCenter(gg_rct_Villager05Flee) )
endfunction

//===========================================================================
function InitTrig_Villager05Panic takes nothing returns nothing
    set gg_trg_Villager05Panic = CreateTrigger(  )
    call TriggerRegisterUnitInRangeSimple( gg_trg_Villager05Panic, 512.00, gg_unit_nhef_0040 )
    call TriggerAddCondition( gg_trg_Villager05Panic, Condition( function Trig_Villager05Panic_Conditions ) )
    call TriggerAddAction( gg_trg_Villager05Panic, function Trig_Villager05Panic_Actions )
endfunction

//===========================================================================
// Trigger: Villager05Remove
//===========================================================================
function Trig_Villager05Remove_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetEnteringUnit()) == 'nhef' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Villager05Remove_Actions takes nothing returns nothing
    call RemoveUnit( udg_UnitVillager05 )
endfunction

//===========================================================================
function InitTrig_Villager05Remove takes nothing returns nothing
    set gg_trg_Villager05Remove = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Villager05Remove, gg_rct_Villager05Flee )
    call TriggerAddCondition( gg_trg_Villager05Remove, Condition( function Trig_Villager05Remove_Conditions ) )
    call TriggerAddAction( gg_trg_Villager05Remove, function Trig_Villager05Remove_Actions )
endfunction

//===========================================================================
// Trigger: Gargoyles Available
//===========================================================================
function Trig_Gargoyles_Available_Actions takes nothing returns nothing
    call QueuedTriggerAddBJ( gg_trg_Gargoyles_Available_Message, true )
endfunction

//===========================================================================
function InitTrig_Gargoyles_Available takes nothing returns nothing
    set gg_trg_Gargoyles_Available = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Gargoyles_Available, udg_TimerStoneFormHint )
    call TriggerAddAction( gg_trg_Gargoyles_Available, function Trig_Gargoyles_Available_Actions )
endfunction

//===========================================================================
// Trigger: Gargoyles Available Message
//===========================================================================
function Trig_Gargoyles_Available_Message_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Gargoyles_Available_Message_Actions takes nothing returns nothing
    call QuestMessageBJ( bj_FORCE_PLAYER[3], bj_QUESTMESSAGE_UNITAVAILABLE, "TRIGSTR_113" )
    call TriggerSleepAction( bj_QUEUE_DELAY_HINT )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Gargoyles_Available_Message takes nothing returns nothing
    set gg_trg_Gargoyles_Available_Message = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Gargoyles_Available_Message, Condition( function Trig_Gargoyles_Available_Message_Conditions ) )
    call TriggerAddAction( gg_trg_Gargoyles_Available_Message, function Trig_Gargoyles_Available_Message_Actions )
endfunction

//===========================================================================
// Trigger: TriggerIntroCinematic
//===========================================================================
function Trig_TriggerIntroCinematic_Actions takes nothing returns nothing
    set udg_IntroCinematicRunning = true
    call SetStackedSoundBJ( true, gg_snd_WaterStreamLoop1, gg_rct_StreamLoop01 )
    call SetStackedSoundBJ( true, gg_snd_WaterStreamLoop1, gg_rct_StreamLoop02 )
    call SetStackedSoundBJ( true, gg_snd_WaterStreamLoop1, gg_rct_StreamLoop03 )
    call SetStackedSoundBJ( true, gg_snd_WaterStreamLoop1, gg_rct_StreamLoop04 )
    call SetStackedSoundBJ( true, gg_snd_WaterStreamLoop1, gg_rct_StreamLoop05 )
    call SetStackedSoundBJ( true, gg_snd_WaterStreamLoop1, gg_rct_StreamLoop06 )
    call SetStackedSoundBJ( true, gg_snd_WaterStreamLoop1, gg_rct_StreamLoop07 )
    call SetStackedSoundBJ( true, gg_snd_WaterStreamLoop1, gg_rct_StreamLoop08 )
    call SetStackedSoundBJ( true, gg_snd_WaterStreamLoop1, gg_rct_StreamLoop09 )
    call SetStackedSoundBJ( true, gg_snd_WaterStreamLoop1, gg_rct_StreamLoop10 )
    call SetStackedSoundBJ( true, gg_snd_WaterStreamLoop1, gg_rct_StreamLoop11 )
    call SetStackedSoundBJ( true, gg_snd_WaterStreamLoop1, gg_rct_StreamLoop12 )
    call SetStackedSoundBJ( true, gg_snd_WaterStreamLoop1, gg_rct_StreamLoop13 )
    call SetStackedSoundBJ( true, gg_snd_WaterStreamLoop1, gg_rct_StreamLoop14 )
    call EnableTrigger( gg_trg_IntroCinematicEscape )
    call TriggerExecute( gg_trg_IntroEnvironment )
    call TriggerExecute( gg_trg_IntroCinematicMode )
    call TriggerExecute( gg_trg_IntroActorSetup )
    call TriggerExecute( gg_trg_IntroInitialCamera )
endfunction

//===========================================================================
function InitTrig_TriggerIntroCinematic takes nothing returns nothing
    set gg_trg_TriggerIntroCinematic = CreateTrigger(  )
    call TriggerAddAction( gg_trg_TriggerIntroCinematic, function Trig_TriggerIntroCinematic_Actions )
endfunction

//===========================================================================
// Trigger: IntroEnvironment
//===========================================================================
function Trig_IntroEnvironment_Actions takes nothing returns nothing
    call SetSkyModel( "Environment\\Sky\\LordaeronSummerSky\\LordaeronSummerSky.mdl" )
    call SetDoodadAnimationRectBJ( "stand", 'YOsw', gg_rct_WeatherSunlight )
    call ShowUnitHide( gg_unit_ncp3_0202 )
endfunction

//===========================================================================
function InitTrig_IntroEnvironment takes nothing returns nothing
    set gg_trg_IntroEnvironment = CreateTrigger(  )
    call TriggerAddAction( gg_trg_IntroEnvironment, function Trig_IntroEnvironment_Actions )
endfunction

//===========================================================================
// Trigger: IntroCinematicMode
//===========================================================================
function Trig_IntroCinematicMode_Actions takes nothing returns nothing
    call CinematicModeBJ( true, GetPlayersAll() )
endfunction

//===========================================================================
function InitTrig_IntroCinematicMode takes nothing returns nothing
    set gg_trg_IntroCinematicMode = CreateTrigger(  )
    call TriggerAddAction( gg_trg_IntroCinematicMode, function Trig_IntroCinematicMode_Actions )
endfunction

//===========================================================================
// Trigger: IntroActorSetup
//===========================================================================
function Trig_IntroActorSetup_Actions takes nothing returns nothing
    call IssueTargetOrderBJ( gg_unit_uaco_0121, "harvest", gg_unit_ugol_0044 )
    call IssueTargetOrderBJ( gg_unit_uaco_0065, "harvest", gg_unit_ugol_0044 )
    call IssueTargetOrderBJ( gg_unit_uaco_0122, "harvest", gg_unit_ugol_0044 )
    call IssueTargetOrderBJ( gg_unit_uaco_0119, "harvest", gg_unit_ugol_0044 )
    call IssueTargetOrderBJ( gg_unit_uaco_0120, "harvest", gg_unit_ugol_0044 )
    call IssueImmediateOrderBJ( gg_unit_ugho_0050, "autoharvestlumber" )
    call IssueImmediateOrderBJ( gg_unit_ugho_0052, "autoharvestlumber" )
endfunction

//===========================================================================
function InitTrig_IntroActorSetup takes nothing returns nothing
    set gg_trg_IntroActorSetup = CreateTrigger(  )
    call TriggerAddAction( gg_trg_IntroActorSetup, function Trig_IntroActorSetup_Actions )
endfunction

//===========================================================================
// Trigger: IntroInitialCamera
//===========================================================================
function Trig_IntroInitialCamera_Func004001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_IntroInitialCamera_Func007001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_IntroInitialCamera_Actions takes nothing returns nothing
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 0.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call CameraSetupApplyForPlayer( true, gg_cam_IntroInitialCam, udg_PlayerArthas, 0 )
    call TriggerSleepAction( 1.00 )
    if ( Trig_IntroInitialCamera_Func004001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 2, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 2 )
    if ( Trig_IntroInitialCamera_Func007001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TriggerExecute( gg_trg_IntroTichoTalks )
endfunction

//===========================================================================
function InitTrig_IntroInitialCamera takes nothing returns nothing
    set gg_trg_IntroInitialCamera = CreateTrigger(  )
    call TriggerAddAction( gg_trg_IntroInitialCamera, function Trig_IntroInitialCamera_Actions )
endfunction

//===========================================================================
// Trigger: IntroTichoTalks
//===========================================================================
function Trig_IntroTichoTalks_Func006001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_IntroTichoTalks_Func015001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_IntroTichoTalks_Func019001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_IntroTichoTalks_Func022001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_IntroTichoTalks_Func024001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_IntroTichoTalks_Func026001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_IntroTichoTalks_Func029001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_IntroTichoTalks_Func032001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_IntroTichoTalks_Func036001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_IntroTichoTalks_Func039001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_IntroTichoTalks_Func049001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_IntroTichoTalks_Func059001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_IntroTichoTalks_Func062001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_IntroTichoTalks_Func065001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_IntroTichoTalks_Func067001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_IntroTichoTalks_Func069001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_IntroTichoTalks_Actions takes nothing returns nothing
    call AddSpecialEffectLocBJ( GetRectCenter(gg_rct_IntroSpawnTicho_Talk), "Abilities\\Spells\\Undead\\DarkSummoning\\DarkSummonTarget.mdl" )
    call SetSoundPositionLocBJ( gg_snd_DarkSummoningTarget1, GetRectCenter(gg_rct_IntroSpawnTicho_Talk), 0 )
    call PlaySoundBJ( gg_snd_DarkSummoningTarget1 )
    set udg_EffectDarkSummoning = GetLastCreatedEffectBJ()
    call TriggerSleepAction( 0.20 )
    if ( Trig_IntroTichoTalks_Func006001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CreateNUnitsAtLocFacingLocBJ( 1, 'Utic', udg_PlayerTichondrius, GetRectCenter(gg_rct_IntroSpawnTicho), GetUnitLoc(udg_Arthas) )
    set udg_Tichondrius = GetLastCreatedUnit()
    call ShowUnitHide( udg_Tichondrius )
    call TriggerSleepAction( 1.00 )
    call SetUnitPositionLocFacingLocBJ( udg_Tichondrius, GetRectCenter(gg_rct_IntroSpawnTicho_Talk), GetRectCenter(gg_rct_InitialArthasLocation) )
    call ConditionalTriggerExecute( gg_trg_Solidify_A )
    call UnitAddItemByIdSwapped( 'ofir', udg_Tichondrius )
    call TriggerSleepAction( 2.00 )
    if ( Trig_IntroTichoTalks_Func015001() ) then
        return
    else
        call DoNothing(  )
    endif
    call DestroyEffectBJ( udg_EffectDarkSummoning )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Tichondrius, "TRIGSTR_011", gg_snd_U05ATichondrius01, "TRIGSTR_012", bj_TIMETYPE_ADD, 0, false )
    call TriggerSleepAction( ( 0.20 * GetSoundDurationBJ(gg_snd_U05ATichondrius01) ) )
    if ( Trig_IntroTichoTalks_Func019001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitFacingToFaceUnitTimed( udg_Arthas, udg_Tichondrius, 0.30 )
    call TriggerSleepAction( ( 0.80 * GetSoundDurationBJ(gg_snd_U05ATichondrius01) ) )
    if ( Trig_IntroTichoTalks_Func022001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TriggerSleepAction( 0.50 )
    if ( Trig_IntroTichoTalks_Func024001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Arthas, "TRIGSTR_013", gg_snd_U05AArthas02, "TRIGSTR_014", bj_TIMETYPE_ADD, 0, true )
    if ( Trig_IntroTichoTalks_Func026001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CameraSetupApplyForPlayer( true, gg_cam_IntroTichoCloseup, udg_PlayerArthas, 0 )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Tichondrius, "TRIGSTR_015", gg_snd_U05ATichondrius03, "TRIGSTR_016", bj_TIMETYPE_ADD, 0, true )
    if ( Trig_IntroTichoTalks_Func029001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CameraSetupApplyForPlayer( true, gg_cam_IntroArthasCloseup, udg_PlayerArthas, 0 )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Arthas, "TRIGSTR_017", gg_snd_U05AArthas04, "TRIGSTR_018", bj_TIMETYPE_ADD, 0, true )
    if ( Trig_IntroTichoTalks_Func032001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CameraSetupApplyForPlayer( true, gg_cam_IntroTichoCloseup, udg_PlayerArthas, 0 )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Tichondrius, "TRIGSTR_019", gg_snd_U05ATichondrius05, "TRIGSTR_020", bj_TIMETYPE_ADD, 0, false )
    call TriggerSleepAction( ( 0.15 * GetSoundDurationBJ(gg_snd_U05ATichondrius05) ) )
    if ( Trig_IntroTichoTalks_Func036001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CameraSetupApplyForPlayer( true, gg_cam_IntroSunWell, udg_PlayerArthas, 0 )
    call TriggerSleepAction( 0.01 )
    if ( Trig_IntroTichoTalks_Func039001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetSoundPositionLocBJ( gg_snd_CityScapeMagicRunesLoop1, GetRectCenter(gg_rct_FountainSound), 0 )
    call PlaySoundBJ( gg_snd_CityScapeMagicRunesLoop1 )
    call SetSoundPositionLocBJ( gg_snd_CityscapeFountainLoop1, GetRectCenter(gg_rct_FountainSound), 0 )
    call PlaySoundBJ( gg_snd_CityscapeFountainLoop1 )
    call SetSoundPositionLocBJ( gg_snd_InvisibilityTarget, GetRectCenter(gg_rct_FountainSound), 0 )
    call SetSoundVolumeBJ( gg_snd_InvisibilityTarget, 60.00 )
    call PlaySoundBJ( gg_snd_InvisibilityTarget )
    call CameraSetupApplyForPlayer( true, gg_cam_IntroSunWellCloseup, udg_PlayerArthas, ( 0.80 * GetSoundDurationBJ(gg_snd_U05ATichondrius05) ) )
    call TriggerSleepAction( ( 0.80 * GetSoundDurationBJ(gg_snd_U05ATichondrius05) ) )
    if ( Trig_IntroTichoTalks_Func049001() ) then
        return
    else
        call DoNothing(  )
    endif
    call StopSoundBJ( gg_snd_CityScapeMagicRunesLoop1, true )
    call StopSoundBJ( gg_snd_CityscapeFountainLoop1, true )
    call CameraSetupApplyForPlayer( true, gg_cam_IntroTichoCloseup, udg_PlayerArthas, 0 )
    call AddSpecialEffectLocBJ( GetRectCenter(gg_rct_IntroSpawnTicho_Talk), "Abilities\\Spells\\Undead\\DarkSummoning\\DarkSummonTarget.mdl" )
    call SetSoundPositionLocBJ( gg_snd_DarkSummoningTarget1, GetRectCenter(gg_rct_IntroSpawnTicho_Talk), 0 )
    call PlaySoundBJ( gg_snd_DarkSummoningTarget1 )
    set udg_EffectDarkSummoning = GetLastCreatedEffectBJ()
    call ConditionalTriggerExecute( gg_trg_Dissolve_A )
    call TriggerSleepAction( 3.50 )
    if ( Trig_IntroTichoTalks_Func059001() ) then
        return
    else
        call DoNothing(  )
    endif
    call DestroyEffectBJ( udg_EffectDarkSummoning )
    call TriggerSleepAction( 0.50 )
    if ( Trig_IntroTichoTalks_Func062001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CameraSetupApplyForPlayer( true, gg_cam_IntroArthasCloseup, udg_PlayerArthas, 0 )
    call WaitForSoundBJ( gg_snd_U05ATichondrius05, 0 )
    if ( Trig_IntroTichoTalks_Func065001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Arthas, "TRIGSTR_021", gg_snd_U05AArthas06, "TRIGSTR_022", bj_TIMETYPE_ADD, 0, true )
    if ( Trig_IntroTichoTalks_Func067001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), udg_PlayerArthas, 'uktg', "TRIGSTR_025", GetPlayerStartLocationLoc(Player(3)), gg_snd_U05AKelThuzad07, "TRIGSTR_026", bj_TIMETYPE_ADD, 0, true )
    if ( Trig_IntroTichoTalks_Func069001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TriggerExecute( gg_trg_IntroCinematicEnd )
endfunction

//===========================================================================
function InitTrig_IntroTichoTalks takes nothing returns nothing
    set gg_trg_IntroTichoTalks = CreateTrigger(  )
    call TriggerAddAction( gg_trg_IntroTichoTalks, function Trig_IntroTichoTalks_Actions )
endfunction

//===========================================================================
// Trigger: IntroCinematicEnd
//===========================================================================
function Trig_IntroCinematicEnd_Actions takes nothing returns nothing
    set udg_IntroCinematicRunning = false
    call DisableTrigger( gg_trg_IntroCinematicEscape )
    call CinematicModeBJ( false, GetPlayersAll() )
    call SelectUnitSingle( udg_Arthas )
    call ResetToGameCameraForPlayer( udg_PlayerArthas, 0.00 )
    call SetSkyModel( null )
    call SetResourceAmount( gg_unit_ugol_0044, 20000 )
    call SetPlayerStateBJ( udg_PlayerArthas, PLAYER_STATE_RESOURCE_GOLD, 750 )
    call SetPlayerStateBJ( udg_PlayerArthas, PLAYER_STATE_RESOURCE_LUMBER, 250 )
    call StartTimerBJ( udg_TimerSylvanasAttack, false, 25.00 )
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_008" )
    call ShowUnitShow( gg_unit_ncp3_0202 )
    call StartCampaignAI( Player(1), "u05_blue.ai" )
    call StartCampaignAI( Player(2), "u05_teal.ai" )
    call StartCampaignAI( Player(11), "u05_brown.ai" )
    call CreateFogModifierRadiusLocBJ( true, udg_PlayerArthas, FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_VisibilitySunwell), 640.00 )
    call DestroyFogModifier( GetLastCreatedFogModifier() )
    call PingMinimapLocForForce( bj_FORCE_PLAYER[3], GetRectCenter(gg_rct_VisibilitySunwell), 1 )
    call SetCameraQuickPositionLocForPlayer( Player(3), GetRectCenter(gg_rct_VisibilitySunwell) )
endfunction

//===========================================================================
function InitTrig_IntroCinematicEnd takes nothing returns nothing
    set gg_trg_IntroCinematicEnd = CreateTrigger(  )
    call TriggerAddAction( gg_trg_IntroCinematicEnd, function Trig_IntroCinematicEnd_Actions )
endfunction

//===========================================================================
// Trigger: IntroCinematicEscape
//===========================================================================
function Trig_IntroCinematicEscape_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_IntroCinematicEscape = true
    set udg_IntroCinematicRunning = false
    call StopSoundBJ( GetLastPlayedSound(), true )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 0.40, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 0.60 )
    call CameraSetupApplyForPlayer( true, gg_cam_IntroArthasCloseup, Player(3), 0 )
    call ShowUnitHide( udg_Tichondrius )
    call TriggerSleepAction( 0.20 )
    call SetUnitFacingToFaceUnitTimed( udg_Arthas, udg_Tichondrius, 0.00 )
    call DestroyEffectBJ( udg_EffectDarkSummoning )
    call SetResourceAmount( gg_unit_ugol_0044, 20000 )
    call SetPlayerStateBJ( Player(3), PLAYER_STATE_RESOURCE_GOLD, 750 )
    call SetPlayerStateBJ( Player(3), PLAYER_STATE_RESOURCE_LUMBER, 250 )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 0.40, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call CinematicModeBJ( false, GetPlayersAll() )
    call SelectUnitSingle( udg_Arthas )
    call ResetToGameCameraForPlayer( udg_PlayerArthas, 0.00 )
    call SetSkyModel( null )
    call StartTimerBJ( udg_TimerSylvanasAttack, false, 25.00 )
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_058" )
    call ShowUnitShow( gg_unit_ncp3_0202 )
    call StartCampaignAI( Player(1), "u05_blue.ai" )
    call StartCampaignAI( Player(2), "u05_teal.ai" )
    call StartCampaignAI( Player(11), "u05_brown.ai" )
    call CreateFogModifierRadiusLocBJ( true, udg_PlayerArthas, FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_VisibilitySunwell), 640.00 )
    call DestroyFogModifier( GetLastCreatedFogModifier() )
    call PingMinimapLocForForce( bj_FORCE_PLAYER[3], GetRectCenter(gg_rct_VisibilitySunwell), 1 )
    call SetCameraQuickPositionLocForPlayer( Player(3), GetRectCenter(gg_rct_VisibilitySunwell) )
endfunction

//===========================================================================
function InitTrig_IntroCinematicEscape takes nothing returns nothing
    set gg_trg_IntroCinematicEscape = CreateTrigger(  )
    call DisableTrigger( gg_trg_IntroCinematicEscape )
    call TriggerRegisterPlayerEventEndCinematic( gg_trg_IntroCinematicEscape, Player(3) )
    call TriggerAddAction( gg_trg_IntroCinematicEscape, function Trig_IntroCinematicEscape_Actions )
endfunction

//===========================================================================
// Trigger: Solidify A
//===========================================================================
function Trig_Solidify_A_Func002001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_Solidify_A_Func006001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_Solidify_A_Func009001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_Solidify_A_Func012001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_Solidify_A_Func015001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_Solidify_A_Func018001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_Solidify_A_Func021001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_Solidify_A_Func024001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_Solidify_A_Func027001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_Solidify_A_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.25 )
    if ( Trig_Solidify_A_Func002001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitVertexColorBJ( udg_Tichondrius, 10.00, 40.00, 10.00, 100.00 )
    call ShowUnitShow( udg_Tichondrius )
    call TriggerSleepAction( 0.10 )
    if ( Trig_Solidify_A_Func006001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitVertexColorBJ( udg_Tichondrius, 25.00, 50.00, 25.00, 85.00 )
    call TriggerSleepAction( 0.10 )
    if ( Trig_Solidify_A_Func009001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitVertexColorBJ( udg_Tichondrius, 40.00, 60.00, 40.00, 70.00 )
    call TriggerSleepAction( 0.15 )
    if ( Trig_Solidify_A_Func012001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitVertexColorBJ( udg_Tichondrius, 55.00, 70.00, 55.00, 65.00 )
    call TriggerSleepAction( 0.10 )
    if ( Trig_Solidify_A_Func015001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitVertexColorBJ( udg_Tichondrius, 70.00, 70.00, 70.00, 45.00 )
    call TriggerSleepAction( 0.10 )
    if ( Trig_Solidify_A_Func018001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitVertexColorBJ( udg_Tichondrius, 85.00, 80.00, 85.00, 30.00 )
    call TriggerSleepAction( 0.15 )
    if ( Trig_Solidify_A_Func021001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitVertexColorBJ( udg_Tichondrius, 100.00, 90.00, 100.00, 15.00 )
    call TriggerSleepAction( 0.10 )
    if ( Trig_Solidify_A_Func024001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitVertexColorBJ( udg_Tichondrius, 100.00, 100.00, 100.00, 0.00 )
    call TriggerSleepAction( 0.10 )
    if ( Trig_Solidify_A_Func027001() ) then
        return
    else
        call DoNothing(  )
    endif
endfunction

//===========================================================================
function InitTrig_Solidify_A takes nothing returns nothing
    set gg_trg_Solidify_A = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Solidify_A, function Trig_Solidify_A_Actions )
endfunction

//===========================================================================
// Trigger: Dissolve A
//===========================================================================
function Trig_Dissolve_A_Func002001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_Dissolve_A_Func005001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_Dissolve_A_Func008001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_Dissolve_A_Func011001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_Dissolve_A_Func014001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_Dissolve_A_Func017001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_Dissolve_A_Func020001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_Dissolve_A_Func023001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_Dissolve_A_Func026001 takes nothing returns boolean
    return ( udg_IntroCinematicEscape == true )
endfunction

function Trig_Dissolve_A_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.25 )
    if ( Trig_Dissolve_A_Func002001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitVertexColorBJ( udg_Tichondrius, 100.00, 100.00, 100.00, 0.00 )
    call TriggerSleepAction( 0.10 )
    if ( Trig_Dissolve_A_Func005001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitVertexColorBJ( udg_Tichondrius, 100.00, 90.00, 100.00, 15.00 )
    call TriggerSleepAction( 0.10 )
    if ( Trig_Dissolve_A_Func008001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitVertexColorBJ( udg_Tichondrius, 85.00, 80.00, 85.00, 30.00 )
    call TriggerSleepAction( 0.15 )
    if ( Trig_Dissolve_A_Func011001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitVertexColorBJ( udg_Tichondrius, 70.00, 70.00, 70.00, 45.00 )
    call TriggerSleepAction( 0.10 )
    if ( Trig_Dissolve_A_Func014001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitVertexColorBJ( udg_Tichondrius, 55.00, 70.00, 55.00, 65.00 )
    call TriggerSleepAction( 0.10 )
    if ( Trig_Dissolve_A_Func017001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitVertexColorBJ( udg_Tichondrius, 25.00, 50.00, 25.00, 85.00 )
    call TriggerSleepAction( 0.15 )
    if ( Trig_Dissolve_A_Func020001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitVertexColorBJ( udg_Tichondrius, 40.00, 60.00, 40.00, 70.00 )
    call TriggerSleepAction( 0.10 )
    if ( Trig_Dissolve_A_Func023001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitVertexColorBJ( udg_Tichondrius, 10.00, 40.00, 10.00, 100.00 )
    call TriggerSleepAction( 0.10 )
    if ( Trig_Dissolve_A_Func026001() ) then
        return
    else
        call DoNothing(  )
    endif
    call ShowUnitHide( udg_Tichondrius )
endfunction

//===========================================================================
function InitTrig_Dissolve_A takes nothing returns nothing
    set gg_trg_Dissolve_A = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Dissolve_A, function Trig_Dissolve_A_Actions )
endfunction

//===========================================================================
// Trigger: InitialSylvanasPlacement
//===========================================================================
function Trig_InitialSylvanasPlacement_Actions takes nothing returns nothing
    call ShowUnitHide( udg_Sylvanas )
    call PauseUnitBJ( true, udg_Sylvanas )
endfunction

//===========================================================================
function InitTrig_InitialSylvanasPlacement takes nothing returns nothing
    set gg_trg_InitialSylvanasPlacement = CreateTrigger(  )
    call TriggerRegisterTimerEventSingle( gg_trg_InitialSylvanasPlacement, 1.00 )
    call TriggerAddAction( gg_trg_InitialSylvanasPlacement, function Trig_InitialSylvanasPlacement_Actions )
endfunction

//===========================================================================
// Trigger: IntroSylvanasDies
//===========================================================================
function Trig_IntroSylvanasDies_Actions takes nothing returns nothing
    call SetUnitPositionLoc( udg_Sylvanas, GetRectCenter(gg_rct_SylvanusIntroRevive) )
    call ShowUnitShow( udg_Sylvanas )
    call PauseUnitBJ( false, udg_Sylvanas )
    call AddSpecialEffectTargetUnitBJ( "overhead", udg_Sylvanas, "Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl" )
    call TriggerSleepAction( 2 )
    call DestroyEffectBJ( GetLastCreatedEffectBJ() )
endfunction

//===========================================================================
function InitTrig_IntroSylvanasDies takes nothing returns nothing
    set gg_trg_IntroSylvanasDies = CreateTrigger(  )
    call TriggerRegisterUnitEvent( gg_trg_IntroSylvanasDies, gg_unit_Hvwd_0167, EVENT_UNIT_DEATH )
    call TriggerAddAction( gg_trg_IntroSylvanasDies, function Trig_IntroSylvanasDies_Actions )
endfunction

//===========================================================================
// Trigger: SylvanasTimerElapses
//===========================================================================
function Trig_SylvanasTimerElapses_Actions takes nothing returns nothing
    call GroupPointOrderLocBJ( udg_SylvanasAttackGroup, "attack", GetRectCenter(gg_rct_SylvanasAttackTarget) )
    call DisableTrigger( gg_trg_OrderSylvanasFailsafe )
endfunction

//===========================================================================
function InitTrig_SylvanasTimerElapses takes nothing returns nothing
    set gg_trg_SylvanasTimerElapses = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_SylvanasTimerElapses, udg_TimerSylvanasAttack )
    call TriggerAddAction( gg_trg_SylvanasTimerElapses, function Trig_SylvanasTimerElapses_Actions )
endfunction

//===========================================================================
// Trigger: SylvanasAttacks
//===========================================================================
function Trig_SylvanasAttacks_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetAttacker(), GetUnitsOfPlayerAll(Player(9))) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_SylvanasAttacks_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_SylvanusAttacksMessage, true )
endfunction

//===========================================================================
function InitTrig_SylvanasAttacks takes nothing returns nothing
    set gg_trg_SylvanasAttacks = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_SylvanasAttacks, Player(3), EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_SylvanasAttacks, Condition( function Trig_SylvanasAttacks_Conditions ) )
    call TriggerAddAction( gg_trg_SylvanasAttacks, function Trig_SylvanasAttacks_Actions )
endfunction

//===========================================================================
// Trigger: SylvanusAttacksMessage
//===========================================================================
function Trig_SylvanusAttacksMessage_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_SylvanusAttacksMessage_Actions takes nothing returns nothing
    call SetSpeechVolumeGroupsBJ(  )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_SylvanasIntro, "TRIGSTR_114", gg_snd_U05ASylvanas08, "TRIGSTR_115", bj_TIMETYPE_ADD, 0, true )
    call TransmissionFromUnitTypeWithNameBJ( bj_FORCE_PLAYER[3], Player(3), 'uktg', "TRIGSTR_116", GetPlayerStartLocationLoc(Player(3)), gg_snd_U04AKelThuzad08, "TRIGSTR_117", bj_TIMETYPE_ADD, 0, true )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Arthas, "TRIGSTR_118", gg_snd_U04AArthas09, "TRIGSTR_119", bj_TIMETYPE_ADD, 0, true )
    call VolumeGroupResetBJ(  )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_SylvanusAttacksMessage takes nothing returns nothing
    set gg_trg_SylvanusAttacksMessage = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_SylvanusAttacksMessage, Condition( function Trig_SylvanusAttacksMessage_Conditions ) )
    call TriggerAddAction( gg_trg_SylvanusAttacksMessage, function Trig_SylvanusAttacksMessage_Actions )
endfunction

//===========================================================================
// Trigger: OrderSylvanasFailsafe
//===========================================================================
function Trig_OrderSylvanasFailsafe_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_PlayerArthas ) ) then
        return false
    endif
    return true
endfunction

function Trig_OrderSylvanasFailsafe_Actions takes nothing returns nothing
    call GroupPointOrderLocBJ( udg_SylvanasAttackGroup, "attack", GetRectCenter(gg_rct_SylvanasAttackTarget) )
    call DisableTrigger( gg_trg_SylvanasTimerElapses )
endfunction

//===========================================================================
function InitTrig_OrderSylvanasFailsafe takes nothing returns nothing
    set gg_trg_OrderSylvanasFailsafe = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_OrderSylvanasFailsafe, gg_rct_SylvanusIntroFailsafe )
    call TriggerAddCondition( gg_trg_OrderSylvanasFailsafe, Condition( function Trig_OrderSylvanasFailsafe_Conditions ) )
    call TriggerAddAction( gg_trg_OrderSylvanasFailsafe, function Trig_OrderSylvanasFailsafe_Actions )
endfunction

//===========================================================================
// Trigger: CheckForWaveDeath
//===========================================================================
function Trig_CheckForWaveDeath_Conditions takes nothing returns boolean
    if ( not ( IsUnitGroupDeadBJ(udg_SylvanasAttackGroup) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_CheckForWaveDeath_Actions takes nothing returns nothing
    call StartTimerBJ( udg_TimerReinforcementWarning, false, 10.00 )
    call StartTimerBJ( udg_TimerStartSylvanusAI, false, 60.00 )
    call DisableTrigger( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_CheckForWaveDeath takes nothing returns nothing
    set gg_trg_CheckForWaveDeath = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_CheckForWaveDeath, Player(9), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_CheckForWaveDeath, Condition( function Trig_CheckForWaveDeath_Conditions ) )
    call TriggerAddAction( gg_trg_CheckForWaveDeath, function Trig_CheckForWaveDeath_Actions )
endfunction

//===========================================================================
// Trigger: Reinforcement
//===========================================================================
function Trig_Reinforcement_Conditions takes nothing returns boolean
    if ( not ( udg_ExitCinematicRunning == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Reinforcement_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_ReinforcementMessage, true )
endfunction

//===========================================================================
function InitTrig_Reinforcement takes nothing returns nothing
    set gg_trg_Reinforcement = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Reinforcement, udg_TimerReinforcementWarning )
    call TriggerAddCondition( gg_trg_Reinforcement, Condition( function Trig_Reinforcement_Conditions ) )
    call TriggerAddAction( gg_trg_Reinforcement, function Trig_Reinforcement_Actions )
endfunction

//===========================================================================
// Trigger: ReinforcementMessage
//===========================================================================
function Trig_ReinforcementMessage_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_ReinforcementMessage_Func004001 takes nothing returns boolean
    return ( IsUnitAliveBJ(udg_Arthas) == true )
endfunction

function Trig_ReinforcementMessage_Actions takes nothing returns nothing
    call SetSpeechVolumeGroupsBJ(  )
    call TransmissionFromUnitTypeWithNameBJ( bj_FORCE_PLAYER[3], Player(3), 'unec', "TRIGSTR_124", GetPlayerStartLocationLoc(Player(3)), gg_snd_U05ANecromancer11, "TRIGSTR_125", bj_TIMETYPE_ADD, 0, true )
    if ( Trig_ReinforcementMessage_Func004001() ) then
        call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Arthas, "TRIGSTR_126", gg_snd_U05AArthas12, "TRIGSTR_127", bj_TIMETYPE_ADD, 0, true )
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call QuestSetDiscoveredBJ( udg_QuestSilvanus, true )
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_130" )
    call TriggerSleepAction( 10.00 )
    call QuestSetDiscoveredBJ( udg_QuestRunners, true )
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_131" )
    call StartTimerBJ( udg_TimerFirstMessenger, false, 25.00 )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_ReinforcementMessage takes nothing returns nothing
    set gg_trg_ReinforcementMessage = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_ReinforcementMessage, Condition( function Trig_ReinforcementMessage_Conditions ) )
    call TriggerAddAction( gg_trg_ReinforcementMessage, function Trig_ReinforcementMessage_Actions )
endfunction

//===========================================================================
// Trigger: AI BlueAttacked
//===========================================================================
function Trig_AI_BlueAttacked_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetAttacker()) == udg_PlayerArthas ) ) then
        return false
    endif
    if ( not ( udg_AIBlueActive == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_AI_BlueAttacked_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommandAI( Player(1), 0, 0 )
    set udg_AIBlueActive = true
endfunction

//===========================================================================
function InitTrig_AI_BlueAttacked takes nothing returns nothing
    set gg_trg_AI_BlueAttacked = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_AI_BlueAttacked, Player(1), EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_AI_BlueAttacked, Condition( function Trig_AI_BlueAttacked_Conditions ) )
    call TriggerAddAction( gg_trg_AI_BlueAttacked, function Trig_AI_BlueAttacked_Actions )
endfunction

//===========================================================================
// Trigger: AI TealAttackedSylvanusActive
//===========================================================================
function Trig_AI_TealAttackedSylvanusActive_Conditions takes nothing returns boolean
    if ( not ( udg_ExitCinematicRunning == false ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(GetAttacker()) == udg_PlayerArthas ) ) then
        return false
    endif
    if ( not ( udg_AISilvermoonActive == false ) ) then
        return false
    endif
    if ( not ( IsQuestCompleted(udg_QuestSilvanus) == false ) ) then
        return false
    endif
    if ( not ( IsQuestDiscovered(udg_QuestRunners) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_AI_TealAttackedSylvanusActive_Func008001 takes nothing returns boolean
    return ( IsUnitAliveBJ(udg_Runner) == true )
endfunction

function Trig_AI_TealAttackedSylvanusActive_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call LeaderboardDisplayBJ( false, udg_LeaderboardRunner )
    call TimerDialogDisplayBJ( false, udg_TimerWindowRunner )
    set udg_AISilvermoonActive = true
    call CommandAI( Player(2), 0, 0 )
    set udg_RunnerActive = false
    if ( Trig_AI_TealAttackedSylvanusActive_Func008001() ) then
        call RemoveUnit( udg_Runner )
    else
        call DoNothing(  )
    endif
    call QuestSetFailedBJ( udg_QuestRunners, true )
    call StopSoundBJ( gg_snd_U05ANecromancer13, true )
    call QueuedTriggerAddBJ( gg_trg_Silvermoon_Quest_Failure_Message, true )
endfunction

//===========================================================================
function InitTrig_AI_TealAttackedSylvanusActive takes nothing returns nothing
    set gg_trg_AI_TealAttackedSylvanusActive = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_AI_TealAttackedSylvanusActive, Player(2), EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_AI_TealAttackedSylvanusActive, Condition( function Trig_AI_TealAttackedSylvanusActive_Conditions ) )
    call TriggerAddAction( gg_trg_AI_TealAttackedSylvanusActive, function Trig_AI_TealAttackedSylvanusActive_Actions )
endfunction

//===========================================================================
// Trigger: AI TealAttackedSylvanusDead
//===========================================================================
function Trig_AI_TealAttackedSylvanusDead_Conditions takes nothing returns boolean
    if ( not ( udg_ExitCinematicRunning == false ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(GetAttacker()) == udg_PlayerArthas ) ) then
        return false
    endif
    if ( not ( udg_AISilvermoonActive == false ) ) then
        return false
    endif
    if ( not ( IsQuestCompleted(udg_QuestSilvanus) == true ) ) then
        return false
    endif
    if ( not ( IsQuestDiscovered(udg_QuestRunners) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_AI_TealAttackedSylvanusDead_Func006001 takes nothing returns boolean
    return ( IsUnitAliveBJ(udg_Runner) == true )
endfunction

function Trig_AI_TealAttackedSylvanusDead_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call LeaderboardDisplayBJ( false, udg_LeaderboardRunner )
    call TimerDialogDisplayBJ( false, udg_TimerWindowRunner )
    set udg_AISilvermoonActive = true
    if ( Trig_AI_TealAttackedSylvanusDead_Func006001() ) then
        call RemoveUnit( udg_Runner )
    else
        call DoNothing(  )
    endif
    call CommandAI( Player(2), 0, 0 )
endfunction

//===========================================================================
function InitTrig_AI_TealAttackedSylvanusDead takes nothing returns nothing
    set gg_trg_AI_TealAttackedSylvanusDead = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_AI_TealAttackedSylvanusDead, Player(2), EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_AI_TealAttackedSylvanusDead, Condition( function Trig_AI_TealAttackedSylvanusDead_Conditions ) )
    call TriggerAddAction( gg_trg_AI_TealAttackedSylvanusDead, function Trig_AI_TealAttackedSylvanusDead_Actions )
endfunction

//===========================================================================
// Trigger: AI BrownAttackedSylvanusActive
//===========================================================================
function Trig_AI_BrownAttackedSylvanusActive_Conditions takes nothing returns boolean
    if ( not ( udg_ExitCinematicRunning == false ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(GetAttacker()) == udg_PlayerArthas ) ) then
        return false
    endif
    if ( not ( udg_AISilvermoonActive == false ) ) then
        return false
    endif
    if ( not ( IsQuestCompleted(udg_QuestSilvanus) == false ) ) then
        return false
    endif
    if ( not ( IsQuestDiscovered(udg_QuestRunners) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_AI_BrownAttackedSylvanusActive_Func008001 takes nothing returns boolean
    return ( IsUnitAliveBJ(udg_Runner) == true )
endfunction

function Trig_AI_BrownAttackedSylvanusActive_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call LeaderboardDisplayBJ( false, udg_LeaderboardRunner )
    call TimerDialogDisplayBJ( false, udg_TimerWindowRunner )
    set udg_AISilvermoonActive = true
    call CommandAI( Player(2), 0, 0 )
    set udg_RunnerActive = false
    if ( Trig_AI_BrownAttackedSylvanusActive_Func008001() ) then
        call RemoveUnit( udg_Runner )
    else
        call DoNothing(  )
    endif
    call QuestSetFailedBJ( udg_QuestRunners, true )
    call StopSoundBJ( gg_snd_U05ANecromancer13, true )
    call QueuedTriggerAddBJ( gg_trg_Silvermoon_Quest_Failure_Message, true )
endfunction

//===========================================================================
function InitTrig_AI_BrownAttackedSylvanusActive takes nothing returns nothing
    set gg_trg_AI_BrownAttackedSylvanusActive = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_AI_BrownAttackedSylvanusActive, Player(11), EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_AI_BrownAttackedSylvanusActive, Condition( function Trig_AI_BrownAttackedSylvanusActive_Conditions ) )
    call TriggerAddAction( gg_trg_AI_BrownAttackedSylvanusActive, function Trig_AI_BrownAttackedSylvanusActive_Actions )
endfunction

//===========================================================================
// Trigger: AI BrownAttackedSylvanusDead
//===========================================================================
function Trig_AI_BrownAttackedSylvanusDead_Conditions takes nothing returns boolean
    if ( not ( udg_ExitCinematicRunning == false ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(GetAttacker()) == udg_PlayerArthas ) ) then
        return false
    endif
    if ( not ( udg_AISilvermoonActive == false ) ) then
        return false
    endif
    if ( not ( IsQuestCompleted(udg_QuestSilvanus) == true ) ) then
        return false
    endif
    if ( not ( IsQuestDiscovered(udg_QuestRunners) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_AI_BrownAttackedSylvanusDead_Func006001 takes nothing returns boolean
    return ( IsUnitAliveBJ(udg_Runner) == true )
endfunction

function Trig_AI_BrownAttackedSylvanusDead_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call LeaderboardDisplayBJ( false, udg_LeaderboardRunner )
    call TimerDialogDisplayBJ( false, udg_TimerWindowRunner )
    set udg_AISilvermoonActive = true
    if ( Trig_AI_BrownAttackedSylvanusDead_Func006001() ) then
        call RemoveUnit( udg_Runner )
    else
        call DoNothing(  )
    endif
    call CommandAI( Player(2), 0, 0 )
endfunction

//===========================================================================
function InitTrig_AI_BrownAttackedSylvanusDead takes nothing returns nothing
    set gg_trg_AI_BrownAttackedSylvanusDead = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_AI_BrownAttackedSylvanusDead, Player(11), EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_AI_BrownAttackedSylvanusDead, Condition( function Trig_AI_BrownAttackedSylvanusDead_Conditions ) )
    call TriggerAddAction( gg_trg_AI_BrownAttackedSylvanusDead, function Trig_AI_BrownAttackedSylvanusDead_Actions )
endfunction

//===========================================================================
// Trigger: Silvermoon Quest Failure Message
//===========================================================================
function Trig_Silvermoon_Quest_Failure_Message_Conditions takes nothing returns boolean
    if ( not ( udg_ExitCinematicRunning == false ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Silvermoon_Quest_Failure_Message_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_FAILED, "TRIGSTR_175" )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Silvermoon_Quest_Failure_Message takes nothing returns nothing
    set gg_trg_Silvermoon_Quest_Failure_Message = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Silvermoon_Quest_Failure_Message, Condition( function Trig_Silvermoon_Quest_Failure_Message_Conditions ) )
    call TriggerAddAction( gg_trg_Silvermoon_Quest_Failure_Message, function Trig_Silvermoon_Quest_Failure_Message_Actions )
endfunction

//===========================================================================
// Trigger: AI RunnerReaches
//===========================================================================
function Trig_AI_RunnerReaches_Conditions takes nothing returns boolean
    if ( not ( udg_AISilvermoonActive == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_AI_RunnerReaches_Actions takes nothing returns nothing
    call CommandAI( Player(2), 0, 0 )
    call CommandAI( Player(11), 0, 0 )
    set udg_AISilvermoonActive = true
endfunction

//===========================================================================
function InitTrig_AI_RunnerReaches takes nothing returns nothing
    set gg_trg_AI_RunnerReaches = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_AI_RunnerReaches, Condition( function Trig_AI_RunnerReaches_Conditions ) )
    call TriggerAddAction( gg_trg_AI_RunnerReaches, function Trig_AI_RunnerReaches_Actions )
endfunction

//===========================================================================
// Trigger: AI SylvanusLaunch
//===========================================================================
function Trig_AI_SylvanusLaunch_Conditions takes nothing returns boolean
    if ( not ( udg_AIBlueActive == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_AI_SylvanusLaunch_Actions takes nothing returns nothing
    call CommandAI( Player(1), 0, 0 )
    set udg_AIBlueActive = true
endfunction

//===========================================================================
function InitTrig_AI_SylvanusLaunch takes nothing returns nothing
    set gg_trg_AI_SylvanusLaunch = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_AI_SylvanusLaunch, udg_TimerStartSylvanusAI )
    call TriggerAddCondition( gg_trg_AI_SylvanusLaunch, Condition( function Trig_AI_SylvanusLaunch_Conditions ) )
    call TriggerAddAction( gg_trg_AI_SylvanusLaunch, function Trig_AI_SylvanusLaunch_Actions )
endfunction

//===========================================================================
// Trigger: InitialTimerExpires
//===========================================================================
function Trig_InitialTimerExpires_Conditions takes nothing returns boolean
    if ( not ( udg_ExitCinematicRunning == false ) ) then
        return false
    endif
    if ( not ( IsQuestFailed(udg_QuestRunners) == false ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_InitialTimerExpires_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_InitialTimerExpiresMessage, true )
endfunction

//===========================================================================
function InitTrig_InitialTimerExpires takes nothing returns nothing
    set gg_trg_InitialTimerExpires = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_InitialTimerExpires, udg_TimerFirstMessenger )
    call TriggerAddCondition( gg_trg_InitialTimerExpires, Condition( function Trig_InitialTimerExpires_Conditions ) )
    call TriggerAddAction( gg_trg_InitialTimerExpires, function Trig_InitialTimerExpires_Actions )
endfunction

//===========================================================================
// Trigger: InitialTimerExpiresMessage
//===========================================================================
function Trig_InitialTimerExpiresMessage_Conditions takes nothing returns boolean
    if ( not ( udg_ExitCinematicRunning == false ) ) then
        return false
    endif
    if ( not ( udg_RunnerActive == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_InitialTimerExpiresMessage_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_CreateLeaderboard )
    call TriggerExecute( gg_trg_CreateTimerWindow )
    call SetSpeechVolumeGroupsBJ(  )
    call TransmissionFromUnitTypeWithNameBJ( bj_FORCE_PLAYER[3], Player(3), 'unec', "TRIGSTR_132", GetPlayerStartLocationLoc(udg_PlayerArthas), gg_snd_U05ANecromancer13, "TRIGSTR_133", bj_TIMETYPE_ADD, 0, false )
    call VolumeGroupResetBJ(  )
    call CreateNUnitsAtLoc( 1, 'hC00', Player(4), GetRectCenter(gg_rct_RunnerSpawn), 270.00 )
    set udg_Runner = GetLastCreatedUnit()
    call SetUnitInvulnerable( udg_Runner, true )
    call SetUnitMoveSpeed( udg_Runner, ( GetUnitDefaultMoveSpeed(udg_Runner) - udg_RunnerMovementSpeedHandicap ) )
    call IssuePointOrderLocBJ( udg_Runner, "move", GetRectCenter(udg_RunnerVariableTarget) )
    call PingMinimapLocForForce( bj_FORCE_PLAYER[3], GetRectCenter(gg_rct_RunnerSpawn), 2.00 )
    call SetCameraQuickPositionLocForPlayer( Player(3), GetRectCenter(gg_rct_RunnerSpawn) )
    call SetPlayerAllianceBJ( Player(4), ALLIANCE_SHARED_VISION, true, Player(3) )
    call TriggerSleepAction( ( 5.00 + GetSoundDurationBJ(gg_snd_U05ANecromancer13) ) )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_TriggerGargoyleCinematic, true )
endfunction

//===========================================================================
function InitTrig_InitialTimerExpiresMessage takes nothing returns nothing
    set gg_trg_InitialTimerExpiresMessage = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_InitialTimerExpiresMessage, Condition( function Trig_InitialTimerExpiresMessage_Conditions ) )
    call TriggerAddAction( gg_trg_InitialTimerExpiresMessage, function Trig_InitialTimerExpiresMessage_Actions )
endfunction

//===========================================================================
// Trigger: RunnerDies
//===========================================================================
function Trig_RunnerDies_Conditions takes nothing returns boolean
    if ( not ( GetDyingUnit() == udg_Runner ) ) then
        return false
    endif
    return true
endfunction

function Trig_RunnerDies_Func007001001 takes nothing returns boolean
    return ( GetGameDifficulty() == MAP_DIFFICULTY_EASY )
endfunction

function Trig_RunnerDies_Func007001002 takes nothing returns boolean
    return ( udg_RunnerTimerLength < 120.00 )
endfunction

function Trig_RunnerDies_Func007001 takes nothing returns boolean
    return GetBooleanAnd( Trig_RunnerDies_Func007001001(), Trig_RunnerDies_Func007001002() )
endfunction

function Trig_RunnerDies_Func008001001 takes nothing returns boolean
    return ( GetGameDifficulty() == MAP_DIFFICULTY_NORMAL )
endfunction

function Trig_RunnerDies_Func008001002 takes nothing returns boolean
    return ( udg_RunnerTimerLength < 120.00 )
endfunction

function Trig_RunnerDies_Func008001 takes nothing returns boolean
    return GetBooleanAnd( Trig_RunnerDies_Func008001001(), Trig_RunnerDies_Func008001002() )
endfunction

function Trig_RunnerDies_Func009001001 takes nothing returns boolean
    return ( GetGameDifficulty() == MAP_DIFFICULTY_HARD )
endfunction

function Trig_RunnerDies_Func009001002 takes nothing returns boolean
    return ( udg_RunnerTimerLength < 90.00 )
endfunction

function Trig_RunnerDies_Func009001 takes nothing returns boolean
    return GetBooleanAnd( Trig_RunnerDies_Func009001001(), Trig_RunnerDies_Func009001002() )
endfunction

function Trig_RunnerDies_Actions takes nothing returns nothing
    call LeaderboardDisplayBJ( false, udg_LeaderboardRunner )
    call TimerDialogDisplayBJ( true, udg_TimerWindowRunner )
    call DisableTrigger( gg_trg_RunnerHeartbeat )
    call StartTimerBJ( udg_TimerRunner, false, udg_RunnerTimerLength )
    set udg_RunnerTimerLength = ( udg_RunnerTimerLength - 30.00 )
    call CommentString( "DIFFICULTY MODIFIERS" )
    if ( Trig_RunnerDies_Func007001() ) then
        set udg_RunnerTimerLength = 120.00
    else
        call DoNothing(  )
    endif
    if ( Trig_RunnerDies_Func008001() ) then
        set udg_RunnerTimerLength = 120.00
    else
        call DoNothing(  )
    endif
    if ( Trig_RunnerDies_Func009001() ) then
        set udg_RunnerTimerLength = 90.00
    else
        call DoNothing(  )
    endif
    call DisableTrigger( gg_trg_PathBRedirect )
    call DisableTrigger( gg_trg_PathCRedirect )
    call DisableTrigger( gg_trg_PathDRedirect )
endfunction

//===========================================================================
function InitTrig_RunnerDies takes nothing returns nothing
    set gg_trg_RunnerDies = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_RunnerDies, Player(4), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_RunnerDies, Condition( function Trig_RunnerDies_Conditions ) )
    call TriggerAddAction( gg_trg_RunnerDies, function Trig_RunnerDies_Actions )
endfunction

//===========================================================================
// Trigger: ReoccuringRunnerTimerExpires
//===========================================================================
function Trig_ReoccuringRunnerTimerExpires_Conditions takes nothing returns boolean
    if ( not ( udg_RunnerActive == true ) ) then
        return false
    endif
    if ( not ( udg_ExitCinematicRunning == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_ReoccuringRunnerTimerExpires_Actions takes nothing returns nothing
    call QueuedTriggerAddBJ( gg_trg_ReoccuringRunnerTimerExpiresMessage, true )
endfunction

//===========================================================================
function InitTrig_ReoccuringRunnerTimerExpires takes nothing returns nothing
    set gg_trg_ReoccuringRunnerTimerExpires = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_ReoccuringRunnerTimerExpires, udg_TimerRunner )
    call TriggerAddCondition( gg_trg_ReoccuringRunnerTimerExpires, Condition( function Trig_ReoccuringRunnerTimerExpires_Conditions ) )
    call TriggerAddAction( gg_trg_ReoccuringRunnerTimerExpires, function Trig_ReoccuringRunnerTimerExpires_Actions )
endfunction

//===========================================================================
// Trigger: ReoccuringRunnerTimerExpiresMessage
//===========================================================================
function Trig_ReoccuringRunnerTimerExpiresMessage_Conditions takes nothing returns boolean
    if ( not ( udg_RunnerActive == true ) ) then
        return false
    endif
    if ( not ( udg_ExitCinematicRunning == false ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_ReoccuringRunnerTimerExpiresMessage_Func008001 takes nothing returns boolean
    return ( udg_RunnerRandomLine <= 1.00 )
endfunction

function Trig_ReoccuringRunnerTimerExpiresMessage_Actions takes nothing returns nothing
    call TimerDialogDisplayBJ( false, udg_TimerWindowRunner )
    call LeaderboardDisplayBJ( true, udg_LeaderboardRunner )
    set udg_RunnerRandomLine = GetRandomReal(0, 2.00)
    call SetSpeechVolumeGroupsBJ(  )
    if ( Trig_ReoccuringRunnerTimerExpiresMessage_Func008001() ) then
        call TransmissionFromUnitTypeWithNameBJ( bj_FORCE_PLAYER[3], Player(3), 'unec', "TRIGSTR_142", GetPlayerStartLocationLoc(Player(3)), gg_snd_U05ANecromancer15, "TRIGSTR_143", bj_TIMETYPE_ADD, 0, true )
    else
        call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(3), 'unec', "TRIGSTR_144", GetPlayerStartLocationLoc(Player(3)), gg_snd_U05ANecromancer13A, "TRIGSTR_145", bj_TIMETYPE_ADD, 0, true )
    endif
    call VolumeGroupResetBJ(  )
    call CreateNUnitsAtLoc( 1, 'hC00', Player(4), GetRectCenter(gg_rct_RunnerSpawn), 270.00 )
    set udg_Runner = GetLastCreatedUnit()
    call SetUnitMoveSpeed( udg_Runner, ( GetUnitDefaultMoveSpeed(udg_Runner) - udg_RunnerMovementSpeedHandicap ) )
    call TriggerExecute( gg_trg_RandomizePath )
    call IssuePointOrderLocBJ( udg_Runner, "move", GetRectCenter(udg_RunnerVariableTarget) )
    call EnableTrigger( gg_trg_RunnerHeartbeat )
    call PingMinimapLocForForce( bj_FORCE_PLAYER[3], GetRectCenter(gg_rct_RunnerSpawn), 2.00 )
    call SetCameraQuickPositionLocForPlayer( Player(3), GetRectCenter(gg_rct_RunnerSpawn) )
    call StartTimerBJ( udg_TimerRunnerFailsafe, false, 300.00 )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_ReoccuringRunnerTimerExpiresMessage takes nothing returns nothing
    set gg_trg_ReoccuringRunnerTimerExpiresMessage = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_ReoccuringRunnerTimerExpiresMessage, Condition( function Trig_ReoccuringRunnerTimerExpiresMessage_Conditions ) )
    call TriggerAddAction( gg_trg_ReoccuringRunnerTimerExpiresMessage, function Trig_ReoccuringRunnerTimerExpiresMessage_Actions )
endfunction

//===========================================================================
// Trigger: RandomizePath
//===========================================================================
function Trig_RandomizePath_Func002001 takes nothing returns boolean
    return ( udg_RandomRegion < 1.00 )
endfunction

function Trig_RandomizePath_Func003001001 takes nothing returns boolean
    return ( udg_RandomRegion >= 1.00 )
endfunction

function Trig_RandomizePath_Func003001002 takes nothing returns boolean
    return ( udg_RandomRegion < 2.00 )
endfunction

function Trig_RandomizePath_Func003001 takes nothing returns boolean
    return GetBooleanAnd( Trig_RandomizePath_Func003001001(), Trig_RandomizePath_Func003001002() )
endfunction

function Trig_RandomizePath_Func004001001 takes nothing returns boolean
    return ( udg_RandomRegion >= 1.00 )
endfunction

function Trig_RandomizePath_Func004001002 takes nothing returns boolean
    return ( udg_RandomRegion < 2.00 )
endfunction

function Trig_RandomizePath_Func004001 takes nothing returns boolean
    return GetBooleanAnd( Trig_RandomizePath_Func004001001(), Trig_RandomizePath_Func004001002() )
endfunction

function Trig_RandomizePath_Func005001001 takes nothing returns boolean
    return ( udg_RandomRegion >= 2.00 )
endfunction

function Trig_RandomizePath_Func005001002 takes nothing returns boolean
    return ( udg_RandomRegion < 3.00 )
endfunction

function Trig_RandomizePath_Func005001 takes nothing returns boolean
    return GetBooleanAnd( Trig_RandomizePath_Func005001001(), Trig_RandomizePath_Func005001002() )
endfunction

function Trig_RandomizePath_Func006001001 takes nothing returns boolean
    return ( udg_RandomRegion >= 2.00 )
endfunction

function Trig_RandomizePath_Func006001002 takes nothing returns boolean
    return ( udg_RandomRegion < 3.00 )
endfunction

function Trig_RandomizePath_Func006001 takes nothing returns boolean
    return GetBooleanAnd( Trig_RandomizePath_Func006001001(), Trig_RandomizePath_Func006001002() )
endfunction

function Trig_RandomizePath_Func007001 takes nothing returns boolean
    return ( udg_RandomRegion >= 3.00 )
endfunction

function Trig_RandomizePath_Func008001 takes nothing returns boolean
    return ( udg_RandomRegion >= 3.00 )
endfunction

function Trig_RandomizePath_Actions takes nothing returns nothing
    set udg_RandomRegion = GetRandomReal(0, 4.00)
    if ( Trig_RandomizePath_Func002001() ) then
        set udg_RunnerVariableTarget = gg_rct_RunnerTargetWest
    else
        call DoNothing(  )
    endif
    if ( Trig_RandomizePath_Func003001() ) then
        set udg_RunnerVariableTarget = gg_rct_RegionRedirectB
    else
        call DoNothing(  )
    endif
    if ( Trig_RandomizePath_Func004001() ) then
        call EnableTrigger( gg_trg_PathBRedirect )
    else
        call DoNothing(  )
    endif
    if ( Trig_RandomizePath_Func005001() ) then
        set udg_RunnerVariableTarget = gg_rct_RegionRedirectC
    else
        call DoNothing(  )
    endif
    if ( Trig_RandomizePath_Func006001() ) then
        call EnableTrigger( gg_trg_PathCRedirect )
    else
        call DoNothing(  )
    endif
    if ( Trig_RandomizePath_Func007001() ) then
        set udg_RunnerVariableTarget = gg_rct_RegionRedirectD
    else
        call DoNothing(  )
    endif
    if ( Trig_RandomizePath_Func008001() ) then
        call EnableTrigger( gg_trg_PathDRedirect )
    else
        call DoNothing(  )
    endif
endfunction

//===========================================================================
function InitTrig_RandomizePath takes nothing returns nothing
    set gg_trg_RandomizePath = CreateTrigger(  )
    call TriggerAddAction( gg_trg_RandomizePath, function Trig_RandomizePath_Actions )
endfunction

//===========================================================================
// Trigger: RunnerHeartbeat
//===========================================================================
function Trig_RunnerHeartbeat_Conditions takes nothing returns boolean
    if ( not ( IsUnitAliveBJ(udg_Runner) == true ) ) then
        return false
    endif
    if ( not ( udg_RunnerActive == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_RunnerHeartbeat_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ( udg_Runner, "move", GetRectCenter(udg_RunnerVariableTarget) )
endfunction

//===========================================================================
function InitTrig_RunnerHeartbeat takes nothing returns nothing
    set gg_trg_RunnerHeartbeat = CreateTrigger(  )
    call DisableTrigger( gg_trg_RunnerHeartbeat )
    call TriggerRegisterTimerEventPeriodic( gg_trg_RunnerHeartbeat, 4.00 )
    call TriggerAddCondition( gg_trg_RunnerHeartbeat, Condition( function Trig_RunnerHeartbeat_Conditions ) )
    call TriggerAddAction( gg_trg_RunnerHeartbeat, function Trig_RunnerHeartbeat_Actions )
endfunction

//===========================================================================
// Trigger: PathBRedirect
//===========================================================================
function Trig_PathBRedirect_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Runner ) ) then
        return false
    endif
    if ( not ( udg_ExitCinematicRunning == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_PathBRedirect_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_RunnerVariableTarget = gg_rct_RunnerTargetWest
    call IssuePointOrderLocBJ( udg_Runner, "move", GetRectCenter(udg_RunnerVariableTarget) )
endfunction

//===========================================================================
function InitTrig_PathBRedirect takes nothing returns nothing
    set gg_trg_PathBRedirect = CreateTrigger(  )
    call DisableTrigger( gg_trg_PathBRedirect )
    call TriggerRegisterEnterRectSimple( gg_trg_PathBRedirect, gg_rct_RegionRedirectB )
    call TriggerAddCondition( gg_trg_PathBRedirect, Condition( function Trig_PathBRedirect_Conditions ) )
    call TriggerAddAction( gg_trg_PathBRedirect, function Trig_PathBRedirect_Actions )
endfunction

//===========================================================================
// Trigger: PathCRedirect
//===========================================================================
function Trig_PathCRedirect_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Runner ) ) then
        return false
    endif
    if ( not ( udg_ExitCinematicRunning == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_PathCRedirect_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_RunnerVariableTarget = gg_rct_RunnerTargetEast
    call IssuePointOrderLocBJ( udg_Runner, "move", GetRectCenter(udg_RunnerVariableTarget) )
endfunction

//===========================================================================
function InitTrig_PathCRedirect takes nothing returns nothing
    set gg_trg_PathCRedirect = CreateTrigger(  )
    call DisableTrigger( gg_trg_PathCRedirect )
    call TriggerRegisterEnterRectSimple( gg_trg_PathCRedirect, gg_rct_RegionRedirectC )
    call TriggerAddCondition( gg_trg_PathCRedirect, Condition( function Trig_PathCRedirect_Conditions ) )
    call TriggerAddAction( gg_trg_PathCRedirect, function Trig_PathCRedirect_Actions )
endfunction

//===========================================================================
// Trigger: PathDRedirect
//===========================================================================
function Trig_PathDRedirect_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Runner ) ) then
        return false
    endif
    if ( not ( udg_ExitCinematicRunning == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_PathDRedirect_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_RunnerVariableTarget = gg_rct_RunnerTargetEast
    call IssuePointOrderLocBJ( udg_Runner, "move", GetRectCenter(udg_RunnerVariableTarget) )
endfunction

//===========================================================================
function InitTrig_PathDRedirect takes nothing returns nothing
    set gg_trg_PathDRedirect = CreateTrigger(  )
    call DisableTrigger( gg_trg_PathDRedirect )
    call TriggerRegisterEnterRectSimple( gg_trg_PathDRedirect, gg_rct_RegionRedirectD )
    call TriggerAddCondition( gg_trg_PathDRedirect, Condition( function Trig_PathDRedirect_Conditions ) )
    call TriggerAddAction( gg_trg_PathDRedirect, function Trig_PathDRedirect_Actions )
endfunction

//===========================================================================
// Trigger: RunnerReachesSilvermoonEast
//===========================================================================
function Trig_RunnerReachesSilvermoonEast_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Runner ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(udg_Runner) == Player(4) ) ) then
        return false
    endif
    if ( not ( udg_ExitCinematicRunning == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_RunnerReachesSilvermoonEast_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_RunnerReachesSilvermoonEastMessage, true )
endfunction

//===========================================================================
function InitTrig_RunnerReachesSilvermoonEast takes nothing returns nothing
    set gg_trg_RunnerReachesSilvermoonEast = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_RunnerReachesSilvermoonEast, gg_rct_RunnerTargetEast )
    call TriggerAddCondition( gg_trg_RunnerReachesSilvermoonEast, Condition( function Trig_RunnerReachesSilvermoonEast_Conditions ) )
    call TriggerAddAction( gg_trg_RunnerReachesSilvermoonEast, function Trig_RunnerReachesSilvermoonEast_Actions )
endfunction

//===========================================================================
// Trigger: RunnerReachesSilvermoonEastMessage
//===========================================================================
function Trig_RunnerReachesSilvermoonEastMessage_Conditions takes nothing returns boolean
    if ( not ( udg_ExitCinematicRunning == false ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_RunnerReachesSilvermoonEastMessage_Actions takes nothing returns nothing
    call LeaderboardDisplayBJ( false, udg_LeaderboardRunner )
    call TimerDialogDisplayBJ( false, udg_TimerWindowRunner )
    call SetSpeechVolumeGroupsBJ(  )
    call TransmissionFromUnitTypeWithNameBJ( bj_FORCE_PLAYER[3], Player(3), 'unec', "TRIGSTR_154", GetPlayerStartLocationLoc(Player(3)), gg_snd_U05ANecromancer16, "TRIGSTR_155", bj_TIMETYPE_ADD, 0, false )
    call VolumeGroupResetBJ(  )
    call PingMinimapLocForForce( bj_FORCE_PLAYER[3], GetRectCenter(gg_rct_RunnerTargetEast), 2.00 )
    call TriggerSleepAction( GetSoundDurationBJ(gg_snd_U05ANecromancer16) )
    call ShowUnitHide( udg_Runner )
    set udg_RunnerActive = false
    call QuestSetFailedBJ( udg_QuestRunners, true )
    call ConditionalTriggerExecute( gg_trg_AI_RunnerReaches )
    call QuestMessageBJ( bj_FORCE_PLAYER[3], bj_QUESTMESSAGE_FAILED, "TRIGSTR_156" )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_RunnerReachesSilvermoonEastMessage takes nothing returns nothing
    set gg_trg_RunnerReachesSilvermoonEastMessage = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_RunnerReachesSilvermoonEastMessage, Condition( function Trig_RunnerReachesSilvermoonEastMessage_Conditions ) )
    call TriggerAddAction( gg_trg_RunnerReachesSilvermoonEastMessage, function Trig_RunnerReachesSilvermoonEastMessage_Actions )
endfunction

//===========================================================================
// Trigger: RunnerReachesSilvermoonWest
//===========================================================================
function Trig_RunnerReachesSilvermoonWest_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Runner ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(udg_Runner) == Player(4) ) ) then
        return false
    endif
    if ( not ( udg_ExitCinematicRunning == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_RunnerReachesSilvermoonWest_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_RunnerReachesSilvermoonWestMessage, true )
endfunction

//===========================================================================
function InitTrig_RunnerReachesSilvermoonWest takes nothing returns nothing
    set gg_trg_RunnerReachesSilvermoonWest = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_RunnerReachesSilvermoonWest, gg_rct_RunnerTargetWest )
    call TriggerAddCondition( gg_trg_RunnerReachesSilvermoonWest, Condition( function Trig_RunnerReachesSilvermoonWest_Conditions ) )
    call TriggerAddAction( gg_trg_RunnerReachesSilvermoonWest, function Trig_RunnerReachesSilvermoonWest_Actions )
endfunction

//===========================================================================
// Trigger: RunnerReachesSilvermoonWestMessage
//===========================================================================
function Trig_RunnerReachesSilvermoonWestMessage_Conditions takes nothing returns boolean
    if ( not ( udg_ExitCinematicRunning == false ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_RunnerReachesSilvermoonWestMessage_Actions takes nothing returns nothing
    call LeaderboardDisplayBJ( false, udg_LeaderboardRunner )
    call TimerDialogDisplayBJ( false, udg_TimerWindowRunner )
    call SetSpeechVolumeGroupsBJ(  )
    call TransmissionFromUnitTypeWithNameBJ( bj_FORCE_PLAYER[3], Player(3), 'unec', "TRIGSTR_157", GetPlayerStartLocationLoc(Player(3)), gg_snd_U05ANecromancer16, "TRIGSTR_158", bj_TIMETYPE_ADD, 0, false )
    call VolumeGroupResetBJ(  )
    call PingMinimapLocForForce( bj_FORCE_PLAYER[3], GetRectCenter(gg_rct_RunnerTargetWest), 2.00 )
    call TriggerSleepAction( GetSoundDurationBJ(gg_snd_U05ANecromancer16) )
    call ShowUnitHide( udg_Runner )
    set udg_RunnerActive = false
    call QuestSetFailedBJ( udg_QuestRunners, true )
    call ConditionalTriggerExecute( gg_trg_AI_RunnerReaches )
    call QuestMessageBJ( bj_FORCE_PLAYER[3], bj_QUESTMESSAGE_FAILED, "TRIGSTR_159" )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_RunnerReachesSilvermoonWestMessage takes nothing returns nothing
    set gg_trg_RunnerReachesSilvermoonWestMessage = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_RunnerReachesSilvermoonWestMessage, Condition( function Trig_RunnerReachesSilvermoonWestMessage_Conditions ) )
    call TriggerAddAction( gg_trg_RunnerReachesSilvermoonWestMessage, function Trig_RunnerReachesSilvermoonWestMessage_Actions )
endfunction

//===========================================================================
// Trigger: RunnerFailsafeTimerExpires
//===========================================================================
function Trig_RunnerFailsafeTimerExpires_Conditions takes nothing returns boolean
    if ( not ( udg_RunnerActive == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_RunnerFailsafeTimerExpires_Func004001001 takes nothing returns boolean
    return ( GetGameDifficulty() == MAP_DIFFICULTY_EASY )
endfunction

function Trig_RunnerFailsafeTimerExpires_Func004001002 takes nothing returns boolean
    return ( udg_RunnerTimerLength < 180.00 )
endfunction

function Trig_RunnerFailsafeTimerExpires_Func004001 takes nothing returns boolean
    return GetBooleanAnd( Trig_RunnerFailsafeTimerExpires_Func004001001(), Trig_RunnerFailsafeTimerExpires_Func004001002() )
endfunction

function Trig_RunnerFailsafeTimerExpires_Func005001001 takes nothing returns boolean
    return ( GetGameDifficulty() == MAP_DIFFICULTY_NORMAL )
endfunction

function Trig_RunnerFailsafeTimerExpires_Func005001002 takes nothing returns boolean
    return ( udg_RunnerTimerLength < 120.00 )
endfunction

function Trig_RunnerFailsafeTimerExpires_Func005001 takes nothing returns boolean
    return GetBooleanAnd( Trig_RunnerFailsafeTimerExpires_Func005001001(), Trig_RunnerFailsafeTimerExpires_Func005001002() )
endfunction

function Trig_RunnerFailsafeTimerExpires_Func006001001 takes nothing returns boolean
    return ( GetGameDifficulty() == MAP_DIFFICULTY_HARD )
endfunction

function Trig_RunnerFailsafeTimerExpires_Func006001002 takes nothing returns boolean
    return ( udg_RunnerTimerLength < 30.00 )
endfunction

function Trig_RunnerFailsafeTimerExpires_Func006001 takes nothing returns boolean
    return GetBooleanAnd( Trig_RunnerFailsafeTimerExpires_Func006001001(), Trig_RunnerFailsafeTimerExpires_Func006001002() )
endfunction

function Trig_RunnerFailsafeTimerExpires_Actions takes nothing returns nothing
    call RemoveUnit( udg_Runner )
    set udg_RunnerTimerLength = ( udg_RunnerTimerLength - 30.00 )
    call CommentString( "DIFFICULTY MODIFIERS" )
    if ( Trig_RunnerFailsafeTimerExpires_Func004001() ) then
        set udg_RunnerTimerLength = 180.00
    else
        call DoNothing(  )
    endif
    if ( Trig_RunnerFailsafeTimerExpires_Func005001() ) then
        set udg_RunnerTimerLength = 120.00
    else
        call DoNothing(  )
    endif
    if ( Trig_RunnerFailsafeTimerExpires_Func006001() ) then
        set udg_RunnerTimerLength = 30.00
    else
        call DoNothing(  )
    endif
    call DisableTrigger( gg_trg_PathBRedirect )
    call DisableTrigger( gg_trg_PathCRedirect )
    call DisableTrigger( gg_trg_PathDRedirect )
    call TriggerExecute( gg_trg_ReoccuringRunnerTimerExpires )
endfunction

//===========================================================================
function InitTrig_RunnerFailsafeTimerExpires takes nothing returns nothing
    set gg_trg_RunnerFailsafeTimerExpires = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_RunnerFailsafeTimerExpires, udg_TimerRunnerFailsafe )
    call TriggerAddCondition( gg_trg_RunnerFailsafeTimerExpires, Condition( function Trig_RunnerFailsafeTimerExpires_Conditions ) )
    call TriggerAddAction( gg_trg_RunnerFailsafeTimerExpires, function Trig_RunnerFailsafeTimerExpires_Actions )
endfunction

//===========================================================================
// Trigger: CreateLeaderboard
//===========================================================================
function Trig_CreateLeaderboard_Actions takes nothing returns nothing
    call CreateLeaderboardBJ( GetPlayersAll(), "TRIGSTR_164" )
    call LeaderboardSetStyleBJ( udg_LeaderboardRunner, true, false, false, false )
    set udg_LeaderboardRunner = GetLastCreatedLeaderboard()
    call LeaderboardSetLabelColorBJ( udg_LeaderboardRunner, 0.00, 100.00, 100.00, 0 )
endfunction

//===========================================================================
function InitTrig_CreateLeaderboard takes nothing returns nothing
    set gg_trg_CreateLeaderboard = CreateTrigger(  )
    call TriggerAddAction( gg_trg_CreateLeaderboard, function Trig_CreateLeaderboard_Actions )
endfunction

//===========================================================================
// Trigger: CreateTimerWindow
//===========================================================================
function Trig_CreateTimerWindow_Actions takes nothing returns nothing
    call CreateTimerDialogBJ( udg_TimerRunner, "TRIGSTR_169" )
    set udg_TimerWindowRunner = GetLastCreatedTimerDialogBJ()
    call TimerDialogSetTitleColorBJ( GetLastCreatedTimerDialogBJ(), 100, 100, 100, 0 )
    call TimerDialogDisplayBJ( false, udg_TimerWindowRunner )
endfunction

//===========================================================================
function InitTrig_CreateTimerWindow takes nothing returns nothing
    set gg_trg_CreateTimerWindow = CreateTrigger(  )
    call TriggerAddAction( gg_trg_CreateTimerWindow, function Trig_CreateTimerWindow_Actions )
endfunction

//===========================================================================
// Trigger: RunnerSpawnBuilding Dies
//===========================================================================
function Trig_RunnerSpawnBuilding_Dies_Conditions takes nothing returns boolean
    if ( not ( GetDyingUnit() == udg_RunnerSpawnBuilding ) ) then
        return false
    endif
    return true
endfunction

function Trig_RunnerSpawnBuilding_Dies_Func001002001002001 takes nothing returns boolean
    return ( IsUnitAliveBJ(GetFilterUnit()) == true )
endfunction

function Trig_RunnerSpawnBuilding_Dies_Func001002001002002 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == true )
endfunction

function Trig_RunnerSpawnBuilding_Dies_Func001002001002 takes nothing returns boolean
    return GetBooleanAnd( Trig_RunnerSpawnBuilding_Dies_Func001002001002001(), Trig_RunnerSpawnBuilding_Dies_Func001002001002002() )
endfunction

function Trig_RunnerSpawnBuilding_Dies_Actions takes nothing returns nothing
    set udg_RunnerSpawnBuilding = GroupPickRandomUnit(GetUnitsOfPlayerMatching(Player(1), Condition(function Trig_RunnerSpawnBuilding_Dies_Func001002001002)))
    call MoveRectToLoc( gg_rct_RunnerSpawn, GetUnitLoc(udg_RunnerSpawnBuilding) )
endfunction

//===========================================================================
function InitTrig_RunnerSpawnBuilding_Dies takes nothing returns nothing
    set gg_trg_RunnerSpawnBuilding_Dies = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_RunnerSpawnBuilding_Dies, Player(1), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_RunnerSpawnBuilding_Dies, Condition( function Trig_RunnerSpawnBuilding_Dies_Conditions ) )
    call TriggerAddAction( gg_trg_RunnerSpawnBuilding_Dies, function Trig_RunnerSpawnBuilding_Dies_Actions )
endfunction

//===========================================================================
// Trigger: TriggerGargoyleCinematic
//===========================================================================
function Trig_TriggerGargoyleCinematic_Conditions takes nothing returns boolean
    if ( not ( udg_RunnerActive == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_TriggerGargoyleCinematic_Actions takes nothing returns nothing
    set udg_GargoyleCinematicRunning = true
    call TriggerExecute( gg_trg_GargoyleInitialCamera )
endfunction

//===========================================================================
function InitTrig_TriggerGargoyleCinematic takes nothing returns nothing
    set gg_trg_TriggerGargoyleCinematic = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_TriggerGargoyleCinematic, Condition( function Trig_TriggerGargoyleCinematic_Conditions ) )
    call TriggerAddAction( gg_trg_TriggerGargoyleCinematic, function Trig_TriggerGargoyleCinematic_Actions )
endfunction

//===========================================================================
// Trigger: GargoyleEnvironment
//===========================================================================
function Trig_GargoyleEnvironment_Actions takes nothing returns nothing
    call SetSkyModel( "Environment\\Sky\\LordaeronSummerSky\\LordaeronSummerSky.mdl" )
    call UseTimeOfDayBJ( false )
endfunction

//===========================================================================
function InitTrig_GargoyleEnvironment takes nothing returns nothing
    set gg_trg_GargoyleEnvironment = CreateTrigger(  )
    call TriggerAddAction( gg_trg_GargoyleEnvironment, function Trig_GargoyleEnvironment_Actions )
endfunction

//===========================================================================
// Trigger: GargoyleInitialCamera
//===========================================================================
function Trig_GargoyleInitialCamera_Func014001 takes nothing returns boolean
    return ( udg_GargoyleCinematicEscape == true )
endfunction

function Trig_GargoyleInitialCamera_Actions takes nothing returns nothing
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    call LeaderboardDisplayBJ( false, udg_LeaderboardRunner )
    call TriggerExecute( gg_trg_GargoyleEnvironment )
    call CinematicModeBJ( true, bj_FORCE_PLAYER[3] )
    call CameraSetupApplyForPlayer( true, gg_cam_GargoyleView, udg_PlayerArthas, 0.01 )
    call ClearSelection(  )
    call TriggerExecute( gg_trg_GargoyleActorSetup )
    call CommentString( "CINEMATIC BEGINS - Cinematic can now be skipped" )
    call EnableTrigger( gg_trg_GargoyleCinematicEscape )
    call TriggerSleepAction( 1.00 )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 2, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 2 )
    if ( Trig_GargoyleInitialCamera_Func014001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TriggerExecute( gg_trg_GargoyleNarrative )
endfunction

//===========================================================================
function InitTrig_GargoyleInitialCamera takes nothing returns nothing
    set gg_trg_GargoyleInitialCamera = CreateTrigger(  )
    call TriggerAddAction( gg_trg_GargoyleInitialCamera, function Trig_GargoyleInitialCamera_Actions )
endfunction

//===========================================================================
// Trigger: GargoyleActorSetup
//===========================================================================
function Trig_GargoyleActorSetup_Actions takes nothing returns nothing
    call PauseAllUnitsBJ( true )
    call PauseUnitBJ( false, udg_Runner )
    call CreateNUnitsAtLoc( 1, 'ugrm', Player(3), GetRectCenter(gg_rct_Gargoyle01), 270.00 )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_GargoyleGroup )
    call CreateNUnitsAtLoc( 1, 'ugrm', Player(3), GetRectCenter(gg_rct_Gargoyle02), 0.00 )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_GargoyleGroup )
    call CreateNUnitsAtLoc( 1, 'ugrm', Player(3), GetRectCenter(gg_rct_Gargoyle03), 90.00 )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_GargoyleGroup )
    call CreateNUnitsAtLoc( 1, 'ugrm', Player(3), GetRectCenter(gg_rct_Gargoyle04), 135.00 )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_GargoyleGroup )
    call SetUnitPositionLoc( udg_Runner, GetRectCenter(gg_rct_GargoyleInitialRunner) )
    call IssuePointOrderLocBJ( udg_Runner, "move", GetRectCenter(gg_rct_RunnerTargetWest) )
endfunction

//===========================================================================
function InitTrig_GargoyleActorSetup takes nothing returns nothing
    set gg_trg_GargoyleActorSetup = CreateTrigger(  )
    call TriggerAddAction( gg_trg_GargoyleActorSetup, function Trig_GargoyleActorSetup_Actions )
endfunction

//===========================================================================
// Trigger: GargoyleNarrative
//===========================================================================
function Trig_GargoyleNarrative_Func001001 takes nothing returns boolean
    return ( IsUnitAliveBJ(udg_Arthas) == true )
endfunction

function Trig_GargoyleNarrative_Func003001 takes nothing returns boolean
    return ( udg_GargoyleCinematicEscape == true )
endfunction

function Trig_GargoyleNarrative_Func005002 takes nothing returns nothing
    call IssueImmediateOrderBJ( GetEnumUnit(), "unstoneform" )
endfunction

function Trig_GargoyleNarrative_Func009001 takes nothing returns boolean
    return ( udg_GargoyleCinematicEscape == true )
endfunction

function Trig_GargoyleNarrative_Actions takes nothing returns nothing
    if ( Trig_GargoyleNarrative_Func001001() ) then
        call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Arthas, "TRIGSTR_097", gg_snd_U05AArthas14, "TRIGSTR_099", bj_TIMETYPE_ADD, 0, false )
    else
        call DoNothing(  )
    endif
    call TriggerSleepAction( 4.00 )
    if ( Trig_GargoyleNarrative_Func003001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TriggerExecute( gg_trg_GargoyleFakeRunnerVisibilty )
    call ForGroup( udg_GargoyleGroup, function Trig_GargoyleNarrative_Func005002 )
    call SetSoundPositionLocBJ( gg_snd_GargoyleMorph1, GetRectCenter(gg_rct_Gargoyle01), 0 )
    call PlaySoundBJ( gg_snd_GargoyleMorph1 )
    call TriggerSleepAction( ( GetSoundDurationBJ(gg_snd_U05AArthas14) - 4.00 ) )
    if ( Trig_GargoyleNarrative_Func009001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitInvulnerable( udg_Runner, false )
    call GroupTargetOrderBJ( udg_GargoyleGroup, "attack", udg_Runner )
    call SelectGroupBJ( udg_GargoyleGroup )
    call PauseAllUnitsBJ( false )
    call ResetToGameCameraForPlayer( Player(3), 2.00 )
    call CinematicModeBJ( false, GetPlayersAll() )
    call SetSkyModel( null )
    call UseTimeOfDayBJ( true )
    call StartTimerBJ( udg_TimerStoneFormHint, false, 15.00 )
    set udg_GargoyleCinematicRunning = false
    call DisableTrigger( gg_trg_GargoyleCinematicEscape )
    call LeaderboardDisplayBJ( true, udg_LeaderboardRunner )
    call QueuedTriggerRemoveBJ( gg_trg_TriggerGargoyleCinematic )
endfunction

//===========================================================================
function InitTrig_GargoyleNarrative takes nothing returns nothing
    set gg_trg_GargoyleNarrative = CreateTrigger(  )
    call TriggerAddAction( gg_trg_GargoyleNarrative, function Trig_GargoyleNarrative_Actions )
endfunction

//===========================================================================
// Trigger: GargoyleFakeRunnerVisibilty
//===========================================================================
function Trig_GargoyleFakeRunnerVisibilty_Actions takes nothing returns nothing
    call CreateFogModifierRadiusLocBJ( true, Player(3), FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_RunnerVis1), 800.00 )
    call FogModifierStop( GetLastCreatedFogModifier() )
    call CreateFogModifierRadiusLocBJ( true, Player(3), FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_RunnerVis2), 800.00 )
    call FogModifierStop( GetLastCreatedFogModifier() )
    call CreateFogModifierRadiusLocBJ( true, Player(3), FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_RunnerVis3), 800.00 )
    call FogModifierStop( GetLastCreatedFogModifier() )
    call CreateFogModifierRadiusLocBJ( true, Player(3), FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_RunnerVis4), 800.00 )
    call FogModifierStop( GetLastCreatedFogModifier() )
endfunction

//===========================================================================
function InitTrig_GargoyleFakeRunnerVisibilty takes nothing returns nothing
    set gg_trg_GargoyleFakeRunnerVisibilty = CreateTrigger(  )
    call TriggerAddAction( gg_trg_GargoyleFakeRunnerVisibilty, function Trig_GargoyleFakeRunnerVisibilty_Actions )
endfunction

//===========================================================================
// Trigger: GargoyleCinematicEscape
//===========================================================================
function Trig_GargoyleCinematicEscape_Func011002 takes nothing returns nothing
    call RemoveUnit( GetEnumUnit() )
endfunction

function Trig_GargoyleCinematicEscape_Func012002 takes nothing returns nothing
    call RemoveUnit( GetEnumUnit() )
endfunction

function Trig_GargoyleCinematicEscape_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_GargoyleCinematicEscape = true
    set udg_GargoyleCinematicRunning = false
    call StopSoundBJ( GetLastPlayedSound(), true )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 0.40, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 0.80 )
    call TriggerExecute( gg_trg_GargoyleFakeRunnerVisibilty )
    call PauseAllUnitsBJ( false )
    call GroupClear( udg_GargoyleGroup )
    call ForGroup( GetUnitsOfPlayerAndTypeId(udg_PlayerArthas, 'ugrm'), function Trig_GargoyleCinematicEscape_Func011002 )
    call ForGroup( GetUnitsOfPlayerAndTypeId(udg_PlayerArthas, 'ugar'), function Trig_GargoyleCinematicEscape_Func012002 )
    call CreateNUnitsAtLoc( 1, 'ugar', Player(3), GetRectCenter(gg_rct_Gargoyle01), 270.00 )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_GargoyleGroup )
    call CreateNUnitsAtLoc( 1, 'ugar', Player(3), GetRectCenter(gg_rct_Gargoyle02), 0.00 )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_GargoyleGroup )
    call CreateNUnitsAtLoc( 1, 'ugar', Player(3), GetRectCenter(gg_rct_Gargoyle03), 90.00 )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_GargoyleGroup )
    call CreateNUnitsAtLoc( 1, 'ugar', Player(3), GetRectCenter(gg_rct_Gargoyle04), 135.00 )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_GargoyleGroup )
    call SetUnitPositionLoc( udg_Runner, GetRectCenter(gg_rct_GargoyleFinalRunner) )
    call IssuePointOrderLocBJ( udg_Runner, "move", GetRectCenter(gg_rct_RunnerTargetWest) )
    call SetUnitInvulnerable( udg_Runner, false )
    call SelectGroupBJ( udg_GargoyleGroup )
    call GroupTargetOrderBJ( udg_GargoyleGroup, "attack", udg_Runner )
    call UseTimeOfDayBJ( true )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 0.40, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call CinematicModeBJ( false, GetPlayersAll() )
    call ResetToGameCameraForPlayer( Player(3), 0.00 )
    call SetSkyModel( null )
    call QueuedTriggerRemoveBJ( gg_trg_TriggerGargoyleCinematic )
    call LeaderboardDisplayBJ( true, udg_LeaderboardRunner )
    call StartTimerBJ( udg_TimerStoneFormHint, false, 15.00 )
endfunction

//===========================================================================
function InitTrig_GargoyleCinematicEscape takes nothing returns nothing
    set gg_trg_GargoyleCinematicEscape = CreateTrigger(  )
    call DisableTrigger( gg_trg_GargoyleCinematicEscape )
    call TriggerRegisterPlayerEventEndCinematic( gg_trg_GargoyleCinematicEscape, Player(3) )
    call TriggerAddAction( gg_trg_GargoyleCinematicEscape, function Trig_GargoyleCinematicEscape_Actions )
endfunction

//===========================================================================
// Trigger: TriggerSylvanasCinematic
//===========================================================================
function Trig_TriggerSylvanasCinematic_Func001001001002001 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == true )
endfunction

function Trig_TriggerSylvanasCinematic_Func001001001002002001 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) != 'nefm' )
endfunction

function Trig_TriggerSylvanasCinematic_Func001001001002002002 takes nothing returns boolean
    return ( IsUnitAliveBJ(GetFilterUnit()) == true )
endfunction

function Trig_TriggerSylvanasCinematic_Func001001001002002 takes nothing returns boolean
    return GetBooleanAnd( Trig_TriggerSylvanasCinematic_Func001001001002002001(), Trig_TriggerSylvanasCinematic_Func001001001002002002() )
endfunction

function Trig_TriggerSylvanasCinematic_Func001001001002 takes nothing returns boolean
    return GetBooleanAnd( Trig_TriggerSylvanasCinematic_Func001001001002001(), Trig_TriggerSylvanasCinematic_Func001001001002002() )
endfunction

function Trig_TriggerSylvanasCinematic_Conditions takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerMatching(Player(1), Condition(function Trig_TriggerSylvanasCinematic_Func001001001002))) == 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_TriggerSylvanasCinematic_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_SylvanusStart, true )
endfunction

//===========================================================================
function InitTrig_TriggerSylvanasCinematic takes nothing returns nothing
    set gg_trg_TriggerSylvanasCinematic = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_TriggerSylvanasCinematic, 2.00 )
    call TriggerAddCondition( gg_trg_TriggerSylvanasCinematic, Condition( function Trig_TriggerSylvanasCinematic_Conditions ) )
    call TriggerAddAction( gg_trg_TriggerSylvanasCinematic, function Trig_TriggerSylvanasCinematic_Actions )
endfunction

//===========================================================================
// Trigger: SylvanusStart
//===========================================================================
function Trig_SylvanusStart_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_SylvanusStart_Actions takes nothing returns nothing
    set udg_SylvanasCinematicRunning = true
    set udg_RunnerActive = false
    call TriggerExecute( gg_trg_SylvanasInitialCamera )
endfunction

//===========================================================================
function InitTrig_SylvanusStart takes nothing returns nothing
    set gg_trg_SylvanusStart = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_SylvanusStart, Condition( function Trig_SylvanusStart_Conditions ) )
    call TriggerAddAction( gg_trg_SylvanusStart, function Trig_SylvanusStart_Actions )
endfunction

//===========================================================================
// Trigger: SylvanasEnvironment
//===========================================================================
function Trig_SylvanasEnvironment_Actions takes nothing returns nothing
    call SetSkyModel( "Environment\\Sky\\LordaeronSummerSky\\LordaeronSummerSky.mdl" )
    call UseTimeOfDayBJ( false )
endfunction

//===========================================================================
function InitTrig_SylvanasEnvironment takes nothing returns nothing
    set gg_trg_SylvanasEnvironment = CreateTrigger(  )
    call TriggerAddAction( gg_trg_SylvanasEnvironment, function Trig_SylvanasEnvironment_Actions )
endfunction

//===========================================================================
// Trigger: SylvanasInitialCamera
//===========================================================================
function Trig_SylvanasInitialCamera_Func007002 takes nothing returns nothing
    call GroupAddUnitSimple( GetEnumUnit(), udg_UnitGroupSelection )
endfunction

function Trig_SylvanasInitialCamera_Func011001 takes nothing returns boolean
    return ( udg_SylvanasCinematicEscape == true )
endfunction

function Trig_SylvanasInitialCamera_Func014001 takes nothing returns boolean
    return ( udg_SylvanasCinematicEscape == true )
endfunction

function Trig_SylvanasInitialCamera_Func017001 takes nothing returns boolean
    return ( udg_SylvanasCinematicEscape == true )
endfunction

function Trig_SylvanasInitialCamera_Actions takes nothing returns nothing
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    call TriggerExecute( gg_trg_SylvanasEnvironment )
    call TimerDialogDisplayBJ( false, udg_TimerWindowRunner )
    call LeaderboardDisplayBJ( false, udg_LeaderboardRunner )
    call PlayThematicMusicBJ( "Sound\\Music\\mp3Music\\DarkAgents.mp3" )
    call ForGroup( GetUnitsSelectedAll(udg_PlayerArthas), function Trig_SylvanasInitialCamera_Func007002 )
    call CinematicModeBJ( true, bj_FORCE_PLAYER[3] )
    call TriggerExecute( gg_trg_SylvanasActorSetup )
    call EnableTrigger( gg_trg_SylvanasCinematicEscape )
    if ( Trig_SylvanasInitialCamera_Func011001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CameraSetupApplyForPlayer( true, gg_cam_SylvanusCamera, udg_PlayerArthas, 0.01 )
    call TriggerSleepAction( 1.00 )
    if ( Trig_SylvanasInitialCamera_Func014001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    if ( Trig_SylvanasInitialCamera_Func017001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TriggerExecute( gg_trg_SylvanasFacesArthas )
endfunction

//===========================================================================
function InitTrig_SylvanasInitialCamera takes nothing returns nothing
    set gg_trg_SylvanasInitialCamera = CreateTrigger(  )
    call TriggerAddAction( gg_trg_SylvanasInitialCamera, function Trig_SylvanasInitialCamera_Actions )
endfunction

//===========================================================================
// Trigger: SylvanasActorSetup
//===========================================================================
function Trig_SylvanasActorSetup_Func005001002 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false )
endfunction

function Trig_SylvanasActorSetup_Func005002 takes nothing returns nothing
    call ShowUnitHide( GetEnumUnit() )
endfunction

function Trig_SylvanasActorSetup_Func009001 takes nothing returns boolean
    return ( udg_UnitAltar == null )
endfunction

function Trig_SylvanasActorSetup_Func010001 takes nothing returns boolean
    return ( IsUnitAliveBJ(udg_Arthas) == true )
endfunction

function Trig_SylvanasActorSetup_Func011001 takes nothing returns boolean
    return ( IsUnitAliveBJ(udg_Arthas) == true )
endfunction

function Trig_SylvanasActorSetup_Func014001002 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false )
endfunction

function Trig_SylvanasActorSetup_Func014002 takes nothing returns nothing
    call ShowUnitHide( GetEnumUnit() )
endfunction

function Trig_SylvanasActorSetup_Func015001002 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == true )
endfunction

function Trig_SylvanasActorSetup_Func015002 takes nothing returns nothing
    call ShowUnitHide( GetEnumUnit() )
endfunction

function Trig_SylvanasActorSetup_Func017001 takes nothing returns boolean
    return ( IsUnitAliveBJ(udg_Sylvanas) == true )
endfunction

function Trig_SylvanasActorSetup_Actions takes nothing returns nothing
    call ClearSelection(  )
    call PauseAllUnitsBJ( true )
    call PauseUnitBJ( false, udg_Arthas )
    call PauseUnitBJ( false, udg_Sylvanas )
    call ForGroup( GetUnitsOfPlayerMatching(udg_PlayerArthas, Condition(function Trig_SylvanasActorSetup_Func005001002)), function Trig_SylvanasActorSetup_Func005002 )
    call ShowUnitShow( udg_Arthas )
    call CommentString( "Handle Arthas Positioning" )
    set udg_UnitAltar = GroupPickRandomUnit(GetUnitsOfPlayerAndTypeId(udg_PlayerArthas, 'uaod'))
    if ( Trig_SylvanasActorSetup_Func009001() ) then
        set udg_PointArthasRevivePosition = GetRectCenter(gg_rct_SylvanasInitialArthas)
    else
        set udg_PointArthasRevivePosition = OffsetLocation(GetUnitLoc(udg_UnitAltar), 0, -128.00)
    endif
    if ( Trig_SylvanasActorSetup_Func010001() ) then
        set udg_ArthasInitialPosition = GetUnitLoc(udg_Arthas)
    else
        set udg_ArthasInitialPosition = udg_PointArthasRevivePosition
    endif
    if ( Trig_SylvanasActorSetup_Func011001() ) then
        call SetUnitPositionLoc( udg_Arthas, GetRectCenter(gg_rct_SylvanasInitialArthas) )
    else
        call ReviveHeroLoc( udg_Arthas, GetRectCenter(gg_rct_SylvanasInitialArthas), false )
    endif
    call SetUnitFacingToFaceLocTimed( udg_Arthas, GetRectCenter(gg_rct_SylvanasInitialSylvanus), 0 )
    call PauseUnitBJ( true, udg_Arthas )
    call ForGroup( GetUnitsOfPlayerMatching(udg_PlayerSylvanus, Condition(function Trig_SylvanasActorSetup_Func014001002)), function Trig_SylvanasActorSetup_Func014002 )
    call ForGroup( GetUnitsInRectMatching(gg_rct_SylvanasBuildingFailsafe, Condition(function Trig_SylvanasActorSetup_Func015001002)), function Trig_SylvanasActorSetup_Func015002 )
    call ShowUnitShow( udg_Sylvanas )
    if ( Trig_SylvanasActorSetup_Func017001() ) then
        call SetUnitPositionLoc( udg_Sylvanas, GetRectCenter(gg_rct_SylvanasInitialSylvanus) )
    else
        call ReviveHeroLoc( udg_Sylvanas, GetRectCenter(gg_rct_SylvanasInitialSylvanus), false )
    endif
    call SetUnitFacingToFaceLocTimed( udg_Sylvanas, GetRectCenter(gg_rct_SylvanasInitialArthas), 0 )
    call PauseUnitBJ( true, udg_Sylvanas )
    call SetUnitInvulnerable( udg_Arthas, true )
    call SetUnitInvulnerable( udg_Sylvanas, true )
    call SuspendHeroXPBJ( false, udg_Arthas )
    call UnitRemoveBuffsBJ( bj_REMOVEBUFFS_ALL, udg_Arthas )
    call UnitRemoveBuffsBJ( bj_REMOVEBUFFS_ALL, udg_Sylvanas )
endfunction

//===========================================================================
function InitTrig_SylvanasActorSetup takes nothing returns nothing
    set gg_trg_SylvanasActorSetup = CreateTrigger(  )
    call TriggerAddAction( gg_trg_SylvanasActorSetup, function Trig_SylvanasActorSetup_Actions )
endfunction

//===========================================================================
// Trigger: SylvanasFacesArthas
//===========================================================================
function Trig_SylvanasFacesArthas_Func003001 takes nothing returns boolean
    return ( udg_SylvanasCinematicEscape == true )
endfunction

function Trig_SylvanasFacesArthas_Func005001 takes nothing returns boolean
    return ( udg_SylvanasCinematicEscape == true )
endfunction

function Trig_SylvanasFacesArthas_Actions takes nothing returns nothing
    call VolumeGroupResetBJ(  )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Arthas, "TRIGSTR_048", gg_snd_U04AArthas19, "TRIGSTR_049", bj_TIMETYPE_ADD, 0, true )
    if ( Trig_SylvanasFacesArthas_Func003001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Sylvanas, "TRIGSTR_062", gg_snd_U04ASylvanas20, "TRIGSTR_063", bj_TIMETYPE_ADD, 0, true )
    if ( Trig_SylvanasFacesArthas_Func005001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitInvulnerable( udg_Arthas, false )
    call SetUnitInvulnerable( udg_Sylvanas, false )
    call PauseUnitBJ( false, udg_Arthas )
    call PauseUnitBJ( false, udg_Sylvanas )
    call SetUnitLifeBJ( udg_Sylvanas, 60.00 )
    call IssueTargetOrderBJ( udg_Arthas, "attack", udg_Sylvanas )
    call IssueTargetOrderBJ( udg_Sylvanas, "attack", udg_Arthas )
    call CameraSetupApplyForPlayer( true, gg_cam_SylvanusFight, udg_PlayerArthas, 3.00 )
endfunction

//===========================================================================
function InitTrig_SylvanasFacesArthas takes nothing returns nothing
    set gg_trg_SylvanasFacesArthas = CreateTrigger(  )
    call TriggerAddAction( gg_trg_SylvanasFacesArthas, function Trig_SylvanasFacesArthas_Actions )
endfunction

//===========================================================================
// Trigger: SylvanasFalls
//===========================================================================
function Trig_SylvanasFalls_Conditions takes nothing returns boolean
    if ( not ( udg_SylvanasCinematicRunning == true ) ) then
        return false
    endif
    if ( not ( GetAttackedUnitBJ() == udg_Sylvanas ) ) then
        return false
    endif
    return true
endfunction

function Trig_SylvanasFalls_Func006001 takes nothing returns boolean
    return ( udg_SylvanasCinematicEscape == true )
endfunction

function Trig_SylvanasFalls_Func008001 takes nothing returns boolean
    return ( udg_SylvanasCinematicEscape == true )
endfunction

function Trig_SylvanasFalls_Func010001 takes nothing returns boolean
    return ( udg_SylvanasCinematicEscape == true )
endfunction

function Trig_SylvanasFalls_Func017001 takes nothing returns boolean
    return ( udg_SylvanasCinematicEscape == true )
endfunction

function Trig_SylvanasFalls_Func028001 takes nothing returns boolean
    return ( udg_SylvanasCinematicEscape == true )
endfunction

function Trig_SylvanasFalls_Actions takes nothing returns nothing
    call PauseUnitBJ( true, udg_Sylvanas )
    call PauseUnitBJ( true, udg_Arthas )
    call SetUnitAnimation( udg_Arthas, "stand" )
    call SetUnitAnimation( udg_Sylvanas, "death" )
    call TriggerSleepAction( 2 )
    if ( Trig_SylvanasFalls_Func006001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TransmissionFromUnitWithNameBJ( bj_FORCE_PLAYER[3], udg_Sylvanas, "TRIGSTR_064", gg_snd_U04ASylvanas21, "TRIGSTR_065", bj_TIMETYPE_ADD, 0, true )
    if ( Trig_SylvanasFalls_Func008001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TransmissionFromUnitWithNameBJ( bj_FORCE_PLAYER[3], udg_Arthas, "TRIGSTR_066", gg_snd_U04AArthas22, "TRIGSTR_067", bj_TIMETYPE_ADD, 0, true )
    if ( Trig_SylvanasFalls_Func010001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitAnimation( udg_Arthas, "spell" )
    call AddSpecialEffectLocBJ( GetUnitLoc(udg_Sylvanas), "Abilities\\Spells\\Undead\\DarkSummoning\\DarkSummonTarget.mdl" )
    call AttachSoundToUnitBJ( gg_snd_DarkSummoningTarget1, udg_Sylvanas )
    call PlaySoundBJ( gg_snd_DarkSummoningTarget1 )
    set udg_EffectDarkSummoning = GetLastCreatedEffectBJ()
    call TransmissionFromUnitWithNameBJ( bj_FORCE_PLAYER[3], udg_Sylvanas, "TRIGSTR_068", gg_snd_U04ASylvanas23, "TRIGSTR_069", bj_TIMETYPE_ADD, 0, true )
    if ( Trig_SylvanasFalls_Func017001() ) then
        return
    else
        call DoNothing(  )
    endif
    call DestroyEffectBJ( udg_EffectDarkSummoning )
    call CreateNUnitsAtLocFacingLocBJ( 1, 'uswb', udg_PlayerArthas, GetUnitLoc(udg_Sylvanas), GetRectCenter(gg_rct_SylvanasBansheeFacing) )
    set udg_SylvanasBanshee = GetLastCreatedUnit()
    set udg_SylvanasBansheeCreated = true
    call SetPlayerAllianceBJ( Player(3), ALLIANCE_PASSIVE, true, Player(1) )
    call SetPlayerAllianceBJ( Player(1), ALLIANCE_PASSIVE, true, Player(3) )
    call SetUnitAnimation( udg_SylvanasBanshee, "spell" )
    call AttachSoundToUnitBJ( gg_snd_BansheeDeath, udg_SylvanasBanshee )
    call PlaySoundBJ( gg_snd_BansheeDeath )
    call TriggerSleepAction( ( GetSoundDurationBJ(gg_snd_BansheeDeath) - 1.20 ) )
    if ( Trig_SylvanasFalls_Func028001() ) then
        return
    else
        call DoNothing(  )
    endif
    call ResetUnitAnimation( udg_SylvanasBanshee )
    call TriggerExecute( gg_trg_SylvanasEnd )
endfunction

//===========================================================================
function InitTrig_SylvanasFalls takes nothing returns nothing
    set gg_trg_SylvanasFalls = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_SylvanasFalls, Player(1), EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_SylvanasFalls, Condition( function Trig_SylvanasFalls_Conditions ) )
    call TriggerAddAction( gg_trg_SylvanasFalls, function Trig_SylvanasFalls_Actions )
endfunction

//===========================================================================
// Trigger: SylvanasEnd
//===========================================================================
function Trig_SylvanasEnd_Func007002 takes nothing returns nothing
    call ShowUnitShow( GetEnumUnit() )
endfunction

function Trig_SylvanasEnd_Func008002 takes nothing returns nothing
    call ShowUnitShow( GetEnumUnit() )
endfunction

function Trig_SylvanasEnd_Func010001 takes nothing returns boolean
    return ( IsQuestFailed(udg_QuestRunners) == true )
endfunction

function Trig_SylvanasEnd_Func019001 takes nothing returns boolean
    return ( GetHeroLevel(udg_Arthas) < 6 )
endfunction

function Trig_SylvanasEnd_Func020001 takes nothing returns boolean
    return ( IsUnitAliveBJ(udg_Runner) == true )
endfunction

function Trig_SylvanasEnd_Func025001 takes nothing returns boolean
    return ( IsQuestFailed(udg_QuestRunners) == false )
endfunction

function Trig_SylvanasEnd_Actions takes nothing returns nothing
    set udg_SylvanasCinematicRunning = false
    call DisableTrigger( gg_trg_SylvanasCinematicEscape )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 2.00 )
    call SetPlayerAllianceBJ( Player(3), ALLIANCE_PASSIVE, false, Player(1) )
    call SetPlayerAllianceBJ( Player(1), ALLIANCE_PASSIVE, false, Player(3) )
    call ForGroup( GetUnitsOfPlayerAll(udg_PlayerArthas), function Trig_SylvanasEnd_Func007002 )
    call ForGroup( GetUnitsOfPlayerAll(udg_PlayerSylvanus), function Trig_SylvanasEnd_Func008002 )
    call SetUnitPositionLoc( udg_Arthas, udg_ArthasInitialPosition )
    if ( Trig_SylvanasEnd_Func010001() ) then
        call CreateItemLoc( 'rag1', GetRectCenter(gg_rct_SylvanasBansheeFacing) )
    else
        call CreateItemLoc( 'hcun', GetRectCenter(gg_rct_SylvanasBansheeFacing) )
    endif
    call PauseAllUnitsBJ( false )
    call RemoveUnit( udg_Sylvanas )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call CinematicModeBJ( false, GetPlayersAll() )
    call SelectGroupBJ( udg_UnitGroupSelection )
    call ResetToGameCameraForPlayer( udg_PlayerArthas, 0.00 )
    call SetSkyModel( null )
    call UseTimeOfDayBJ( true )
    if ( Trig_SylvanasEnd_Func019001() ) then
        call SuspendHeroXPBJ( true, udg_Arthas )
    else
        call DoNothing(  )
    endif
    if ( Trig_SylvanasEnd_Func020001() ) then
        call ShowUnitHide( udg_Runner )
    else
        call DoNothing(  )
    endif
    call QuestSetCompletedBJ( udg_QuestSilvanus, true )
    call QuestItemSetCompletedBJ( udg_QuestReqSilvanus, true )
    call QuestMessageBJ( bj_FORCE_PLAYER[3], bj_QUESTMESSAGE_COMPLETED, "TRIGSTR_080" )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    if ( Trig_SylvanasEnd_Func025001() ) then
        call TriggerExecute( gg_trg_MarkRunnerQuestCompleted )
    else
        call DoNothing(  )
    endif
    call QueuedTriggerRemoveBJ( gg_trg_SylvanusStart )
    call StartTimerBJ( udg_TimerBansheeHint, false, 21.00 )
endfunction

//===========================================================================
function InitTrig_SylvanasEnd takes nothing returns nothing
    set gg_trg_SylvanasEnd = CreateTrigger(  )
    call TriggerAddAction( gg_trg_SylvanasEnd, function Trig_SylvanasEnd_Actions )
endfunction

//===========================================================================
// Trigger: MarkRunnerQuestCompleted
//===========================================================================
function Trig_MarkRunnerQuestCompleted_Actions takes nothing returns nothing
    call QuestSetCompletedBJ( udg_QuestRunners, true )
    call QuestItemSetCompletedBJ( udg_QuestReqRunners, true )
    call QuestItemSetCompletedBJ( udg_QuestReqNoAttackSilvermoon, true )
    call QuestMessageBJ( bj_FORCE_PLAYER[3], bj_QUESTMESSAGE_COMPLETED, "TRIGSTR_167" )
    call FlashQuestDialogButtonBJ(  )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
endfunction

//===========================================================================
function InitTrig_MarkRunnerQuestCompleted takes nothing returns nothing
    set gg_trg_MarkRunnerQuestCompleted = CreateTrigger(  )
    call TriggerAddAction( gg_trg_MarkRunnerQuestCompleted, function Trig_MarkRunnerQuestCompleted_Actions )
endfunction

//===========================================================================
// Trigger: SylvanasCinematicEscape
//===========================================================================
function Trig_SylvanasCinematicEscape_Func008002 takes nothing returns nothing
    call ShowUnitShow( GetEnumUnit() )
endfunction

function Trig_SylvanasCinematicEscape_Func009002 takes nothing returns nothing
    call ShowUnitShow( GetEnumUnit() )
endfunction

function Trig_SylvanasCinematicEscape_Func011001 takes nothing returns boolean
    return ( IsQuestFailed(udg_QuestRunners) == true )
endfunction

function Trig_SylvanasCinematicEscape_Func012001 takes nothing returns boolean
    return ( udg_Sylvanas != null )
endfunction

function Trig_SylvanasCinematicEscape_Func013001 takes nothing returns boolean
    return ( udg_SylvanasBansheeCreated == false )
endfunction

function Trig_SylvanasCinematicEscape_Func014001 takes nothing returns boolean
    return ( udg_SylvanasBansheeCreated == false )
endfunction

function Trig_SylvanasCinematicEscape_Func023001 takes nothing returns boolean
    return ( GetHeroLevel(udg_Arthas) < 6 )
endfunction

function Trig_SylvanasCinematicEscape_Func024001 takes nothing returns boolean
    return ( IsUnitAliveBJ(udg_Runner) == true )
endfunction

function Trig_SylvanasCinematicEscape_Func029001 takes nothing returns boolean
    return ( IsQuestFailed(udg_QuestRunners) == false )
endfunction

function Trig_SylvanasCinematicEscape_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_SylvanasCinematicEscape = true
    set udg_SylvanasCinematicRunning = false
    call StopSoundBJ( GetLastPlayedSound(), true )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 2.00 )
    call DestroyEffectBJ( udg_EffectDarkSummoning )
    call ForGroup( GetUnitsOfPlayerAll(udg_PlayerArthas), function Trig_SylvanasCinematicEscape_Func008002 )
    call ForGroup( GetUnitsOfPlayerAll(udg_PlayerSylvanus), function Trig_SylvanasCinematicEscape_Func009002 )
    call SetUnitPositionLoc( udg_Arthas, udg_ArthasInitialPosition )
    if ( Trig_SylvanasCinematicEscape_Func011001() ) then
        call CreateItemLoc( 'rag1', GetRectCenter(gg_rct_SylvanasBansheeFacing) )
    else
        call CreateItemLoc( 'hcun', GetRectCenter(gg_rct_SylvanasBansheeFacing) )
    endif
    if ( Trig_SylvanasCinematicEscape_Func012001() ) then
        call RemoveUnit( udg_Sylvanas )
    else
        call DoNothing(  )
    endif
    if ( Trig_SylvanasCinematicEscape_Func013001() ) then
        call CreateNUnitsAtLocFacingLocBJ( 1, 'uswb', udg_PlayerArthas, GetRectCenter(gg_rct_SylvanasInitialSylvanus), GetRectCenter(gg_rct_SylvanasBansheeFacing) )
    else
        return
    endif
    if ( Trig_SylvanasCinematicEscape_Func014001() ) then
        set udg_SylvanasBanshee = GetLastCreatedUnit()
    else
        call DoNothing(  )
    endif
    call PauseAllUnitsBJ( false )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call CinematicModeBJ( false, GetPlayersAll() )
    call SelectGroupBJ( udg_UnitGroupSelection )
    call SetUnitInvulnerable( udg_Arthas, false )
    call ResetToGameCameraForPlayer( udg_PlayerArthas, 0.00 )
    call SetSkyModel( null )
    call UseTimeOfDayBJ( true )
    if ( Trig_SylvanasCinematicEscape_Func023001() ) then
        call SuspendHeroXPBJ( true, udg_Arthas )
    else
        call DoNothing(  )
    endif
    if ( Trig_SylvanasCinematicEscape_Func024001() ) then
        call ShowUnitHide( udg_Runner )
    else
        call DoNothing(  )
    endif
    call QuestSetCompletedBJ( udg_QuestSilvanus, true )
    call QuestItemSetCompletedBJ( udg_QuestReqSilvanus, true )
    call QuestMessageBJ( bj_FORCE_PLAYER[3], bj_QUESTMESSAGE_COMPLETED, "TRIGSTR_100" )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    if ( Trig_SylvanasCinematicEscape_Func029001() ) then
        call TriggerExecute( gg_trg_MarkRunnerQuestCompleted )
    else
        call DoNothing(  )
    endif
    call QueuedTriggerRemoveBJ( gg_trg_SylvanusStart )
    call StartTimerBJ( udg_TimerBansheeHint, false, 5.00 )
endfunction

//===========================================================================
function InitTrig_SylvanasCinematicEscape takes nothing returns nothing
    set gg_trg_SylvanasCinematicEscape = CreateTrigger(  )
    call DisableTrigger( gg_trg_SylvanasCinematicEscape )
    call TriggerRegisterPlayerEventEndCinematic( gg_trg_SylvanasCinematicEscape, Player(3) )
    call TriggerAddAction( gg_trg_SylvanasCinematicEscape, function Trig_SylvanasCinematicEscape_Actions )
endfunction

//===========================================================================
// Trigger: BansheesBuildable
//===========================================================================
function Trig_BansheesBuildable_Actions takes nothing returns nothing
    call QueuedTriggerAddBJ( gg_trg_BansheesBuildableMessage, true )
endfunction

//===========================================================================
function InitTrig_BansheesBuildable takes nothing returns nothing
    set gg_trg_BansheesBuildable = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_BansheesBuildable, udg_TimerBansheeHint )
    call TriggerAddAction( gg_trg_BansheesBuildable, function Trig_BansheesBuildable_Actions )
endfunction

//===========================================================================
// Trigger: BansheesBuildableMessage
//===========================================================================
function Trig_BansheesBuildableMessage_Conditions takes nothing returns boolean
    if ( not ( udg_ExitCinematicRunning == false ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_BansheesBuildableMessage_Actions takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'uban', true, Player(3) )
    call SetPlayerTechMaxAllowedSwap( 'Ruba', 2, Player(3) )
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_HINT, "TRIGSTR_160" )
    call TriggerSleepAction( bj_QUEUE_DELAY_HINT )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_BansheesBuildableMessage takes nothing returns nothing
    set gg_trg_BansheesBuildableMessage = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_BansheesBuildableMessage, Condition( function Trig_BansheesBuildableMessage_Conditions ) )
    call TriggerAddAction( gg_trg_BansheesBuildableMessage, function Trig_BansheesBuildableMessage_Actions )
endfunction

//===========================================================================
// Trigger: TriggerExitCinematic
//===========================================================================
function Trig_TriggerExitCinematic_Actions takes nothing returns nothing
    call TriggerExecute( gg_trg_Level_Enabling )
    set udg_ExitCinematicRunning = true
    call TimerDialogDisplayBJ( false, udg_TimerWindowRunner )
    call LeaderboardDisplayBJ( false, udg_LeaderboardRunner )
    call RemoveAllGuardPositions( Player(2) )
    call RemoveAllGuardPositions( Player(11) )
    call TriggerExecute( gg_trg_ExitInitialCamera )
endfunction

//===========================================================================
function InitTrig_TriggerExitCinematic takes nothing returns nothing
    set gg_trg_TriggerExitCinematic = CreateTrigger(  )
    call TriggerAddAction( gg_trg_TriggerExitCinematic, function Trig_TriggerExitCinematic_Actions )
endfunction

//===========================================================================
// Trigger: ExitEnvironment
//===========================================================================
function Trig_ExitEnvironment_Actions takes nothing returns nothing
    call SetSkyModel( "Environment\\Sky\\LordaeronSummerSky\\LordaeronSummerSky.mdl" )
    call UseTimeOfDayBJ( false )
endfunction

//===========================================================================
function InitTrig_ExitEnvironment takes nothing returns nothing
    set gg_trg_ExitEnvironment = CreateTrigger(  )
    call TriggerAddAction( gg_trg_ExitEnvironment, function Trig_ExitEnvironment_Actions )
endfunction

//===========================================================================
// Trigger: ExitCinematicMode
//===========================================================================
function Trig_ExitCinematicMode_Actions takes nothing returns nothing
    call CinematicModeBJ( true, bj_FORCE_PLAYER[3] )
endfunction

//===========================================================================
function InitTrig_ExitCinematicMode takes nothing returns nothing
    set gg_trg_ExitCinematicMode = CreateTrigger(  )
    call TriggerAddAction( gg_trg_ExitCinematicMode, function Trig_ExitCinematicMode_Actions )
endfunction

//===========================================================================
// Trigger: ExitInitialCamera
//===========================================================================
function Trig_ExitInitialCamera_Func003001 takes nothing returns boolean
    return ( udg_ExitCinematicEscape == true )
endfunction

function Trig_ExitInitialCamera_Func010001 takes nothing returns boolean
    return ( udg_ExitCinematicEscape == true )
endfunction

function Trig_ExitInitialCamera_Func014001 takes nothing returns boolean
    return ( udg_ExitCinematicEscape == true )
endfunction

function Trig_ExitInitialCamera_Actions takes nothing returns nothing
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    if ( Trig_ExitInitialCamera_Func003001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TriggerExecute( gg_trg_ExitEnvironment )
    call TriggerExecute( gg_trg_ExitCinematicMode )
    call PlayThematicMusicBJ( "Sound\\Music\\mp3Music\\DarkVictory.mp3" )
    call EnableTrigger( gg_trg_ExitCinematicEscape )
    call CameraSetupApplyForPlayer( true, gg_cam_ExitInitialSunwell, udg_PlayerArthas, 0 )
    call TriggerSleepAction( 1.00 )
    if ( Trig_ExitInitialCamera_Func010001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TriggerExecute( gg_trg_ExitActorSetup )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 2, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 2 )
    if ( Trig_ExitInitialCamera_Func014001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TriggerExecute( gg_trg_ExitCeremony )
endfunction

//===========================================================================
function InitTrig_ExitInitialCamera takes nothing returns nothing
    set gg_trg_ExitInitialCamera = CreateTrigger(  )
    call TriggerAddAction( gg_trg_ExitInitialCamera, function Trig_ExitInitialCamera_Actions )
endfunction

//===========================================================================
// Trigger: ExitActorSetup
//===========================================================================
function Trig_ExitActorSetup_Func006001002 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false )
endfunction

function Trig_ExitActorSetup_Func006002 takes nothing returns nothing
    call ShowUnitHide( GetEnumUnit() )
endfunction

function Trig_ExitActorSetup_Func008001 takes nothing returns boolean
    return ( IsUnitAliveBJ(udg_Arthas) == true )
endfunction

function Trig_ExitActorSetup_Func010001002 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false )
endfunction

function Trig_ExitActorSetup_Func010002 takes nothing returns nothing
    call ShowUnitHide( GetEnumUnit() )
endfunction

function Trig_ExitActorSetup_Func011001002 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false )
endfunction

function Trig_ExitActorSetup_Func011002 takes nothing returns nothing
    call ShowUnitHide( GetEnumUnit() )
endfunction

function Trig_ExitActorSetup_Func012001002 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false )
endfunction

function Trig_ExitActorSetup_Func012002 takes nothing returns nothing
    call ShowUnitHide( GetEnumUnit() )
endfunction

function Trig_ExitActorSetup_Actions takes nothing returns nothing
    call SetPlayerAllianceBJ( udg_PlayerArthas, ALLIANCE_PASSIVE, true, udg_PlayerSylvanus )
    call SetPlayerAllianceBJ( udg_PlayerArthas, ALLIANCE_PASSIVE, true, udg_PlayerSilvermoon )
    call SetPlayerAllianceBJ( udg_PlayerArthas, ALLIANCE_PASSIVE, true, udg_PlayerSilvermoonBrown )
    call ClearSelection(  )
    call UnitRemoveBuffsBJ( bj_REMOVEBUFFS_ALL, udg_Arthas )
    call ForGroup( GetUnitsOfPlayerMatching(udg_PlayerArthas, Condition(function Trig_ExitActorSetup_Func006001002)), function Trig_ExitActorSetup_Func006002 )
    call ShowUnitShow( udg_Arthas )
    if ( Trig_ExitActorSetup_Func008001() ) then
        call SetUnitPositionLoc( udg_Arthas, GetRectCenter(gg_rct_SunwellCOP) )
    else
        call ReviveHeroLoc( udg_Arthas, GetRectCenter(gg_rct_SunwellCOP), false )
    endif
    call SetUnitFacingToFaceLocTimed( udg_Arthas, GetRectCenter(gg_rct_WeatherSunlight), 0 )
    call ForGroup( GetUnitsOfPlayerMatching(udg_PlayerSylvanus, Condition(function Trig_ExitActorSetup_Func010001002)), function Trig_ExitActorSetup_Func010002 )
    call ForGroup( GetUnitsOfPlayerMatching(udg_PlayerSilvermoon, Condition(function Trig_ExitActorSetup_Func011001002)), function Trig_ExitActorSetup_Func011002 )
    call ForGroup( GetUnitsOfPlayerMatching(udg_PlayerSilvermoonBrown, Condition(function Trig_ExitActorSetup_Func012001002)), function Trig_ExitActorSetup_Func012002 )
    call PauseAllUnitsBJ( true )
    call PauseUnitBJ( false, udg_Arthas )
    call SetUnitAnimationWithRarity( udg_Arthas, "stand", RARITY_FREQUENT )
    call RemoveUnit( gg_unit_ncp3_0202 )
    call SetTimeOfDay( 12.00 )
endfunction

//===========================================================================
function InitTrig_ExitActorSetup takes nothing returns nothing
    set gg_trg_ExitActorSetup = CreateTrigger(  )
    call TriggerAddAction( gg_trg_ExitActorSetup, function Trig_ExitActorSetup_Actions )
endfunction

//===========================================================================
// Trigger: ExitCeremony
//===========================================================================
function Trig_ExitCeremony_Func003001 takes nothing returns boolean
    return ( udg_ExitCinematicEscape == true )
endfunction

function Trig_ExitCeremony_Func006001 takes nothing returns boolean
    return ( udg_ExitCinematicEscape == true )
endfunction

function Trig_ExitCeremony_Func009001 takes nothing returns boolean
    return ( udg_ExitCinematicEscape == true )
endfunction

function Trig_ExitCeremony_Func014001 takes nothing returns boolean
    return ( udg_ExitCinematicEscape == true )
endfunction

function Trig_ExitCeremony_Func017001 takes nothing returns boolean
    return ( udg_ExitCinematicEscape == true )
endfunction

function Trig_ExitCeremony_Func018002 takes nothing returns nothing
    call ShowUnitHide( GetEnumUnit() )
endfunction

function Trig_ExitCeremony_Func019001 takes nothing returns boolean
    return ( udg_ExitCinematicEscape == true )
endfunction

function Trig_ExitCeremony_Func023001 takes nothing returns boolean
    return ( udg_ExitCinematicEscape == true )
endfunction

function Trig_ExitCeremony_Func029001 takes nothing returns boolean
    return ( udg_ExitCinematicEscape == true )
endfunction

function Trig_ExitCeremony_Func032001 takes nothing returns boolean
    return ( udg_ExitCinematicEscape == true )
endfunction

function Trig_ExitCeremony_Func040001 takes nothing returns boolean
    return ( udg_ExitCinematicEscape == true )
endfunction

function Trig_ExitCeremony_Func044001 takes nothing returns boolean
    return ( udg_ExitCinematicEscape == true )
endfunction

function Trig_ExitCeremony_Func050001 takes nothing returns boolean
    return ( udg_ExitCinematicEscape == true )
endfunction

function Trig_ExitCeremony_Func052001 takes nothing returns boolean
    return ( udg_ExitCinematicEscape == true )
endfunction

function Trig_ExitCeremony_Func062001 takes nothing returns boolean
    return ( udg_ExitCinematicEscape == true )
endfunction

function Trig_ExitCeremony_Func064001 takes nothing returns boolean
    return ( udg_ExitCinematicEscape == true )
endfunction

function Trig_ExitCeremony_Func067001 takes nothing returns boolean
    return ( udg_ExitCinematicEscape == true )
endfunction

function Trig_ExitCeremony_Func069001 takes nothing returns boolean
    return ( udg_ExitCinematicEscape == true )
endfunction

function Trig_ExitCeremony_Actions takes nothing returns nothing
    call TransmissionFromUnitWithNameBJ( bj_FORCE_PLAYER[3], udg_Arthas, "TRIGSTR_073", gg_snd_U05AArthas22, "TRIGSTR_074", bj_TIMETYPE_ADD, 0, false )
    call TriggerSleepAction( 2.00 )
    if ( Trig_ExitCeremony_Func003001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TriggerExecute( gg_trg_ExitDeathSceneA )
    call TriggerSleepAction( 2.00 )
    if ( Trig_ExitCeremony_Func006001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssueTargetOrderBJ( udg_UnitExitDeathSceneGhoul, "attack", udg_ExitDeathSceneAFarm02 )
    call TriggerSleepAction( 2.00 )
    if ( Trig_ExitCeremony_Func009001() ) then
        return
    else
        call DoNothing(  )
    endif
    call PauseAllUnitsBJ( true )
    call PauseUnitBJ( false, udg_Arthas )
    call TriggerExecute( gg_trg_ExitDeathSceneB )
    call TriggerSleepAction( 4.00 )
    if ( Trig_ExitCeremony_Func014001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 0.40, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 0.80 )
    if ( Trig_ExitCeremony_Func017001() ) then
        return
    else
        call DoNothing(  )
    endif
    call ForGroup( GetUnitsOfPlayerAll(Player(2)), function Trig_ExitCeremony_Func018002 )
    if ( Trig_ExitCeremony_Func019001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 0.40, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call CameraSetupApplyForPlayer( true, gg_cam_ExitInitialSunwell, udg_PlayerArthas, 0 )
    call WaitForSoundBJ( gg_snd_U05AArthas22, 0 )
    if ( Trig_ExitCeremony_Func023001() ) then
        return
    else
        call DoNothing(  )
    endif
    call EndThematicMusicBJ(  )
    call PlayThematicMusicBJ( "Sound\\Music\\mp3Music\\DarkAgents.mp3" )
    call TransmissionFromUnitWithNameBJ( bj_FORCE_PLAYER[3], udg_Arthas, "TRIGSTR_081", gg_snd_U05AArthas30, "TRIGSTR_087", bj_TIMETYPE_ADD, 0, false )
    call SetUnitFacingToFaceLocTimed( udg_Arthas, GetRectCenter(gg_rct_ExitSpawnKelThuzadGhost), 0.30 )
    call TriggerSleepAction( 0.40 )
    if ( Trig_ExitCeremony_Func029001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitAnimation( udg_Arthas, "spell" )
    call TriggerSleepAction( 1.00 )
    if ( Trig_ExitCeremony_Func032001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitAnimationWithRarity( udg_Arthas, "stand", RARITY_FREQUENT )
    call CreateNUnitsAtLocFacingLocBJ( 1, 'uktg', Player(3), GetRectCenter(gg_rct_ExitSpawnKelThuzadGhost), GetUnitLoc(udg_Arthas) )
    call SetSoundPositionLocBJ( gg_snd_DarkRitualTarget1, GetRectCenter(gg_rct_ExitSpawnKelThuzadGhost), 0 )
    call PlaySoundBJ( gg_snd_DarkRitualTarget1 )
    set udg_ExitKelthuzadGhost = GetLastCreatedUnit()
    call PauseUnitBJ( false, udg_ExitKelthuzadGhost )
    call TriggerSleepAction( ( GetSoundDurationBJ(gg_snd_U05AArthas30) - 1.40 ) )
    if ( Trig_ExitCeremony_Func040001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitPathing( udg_ExitKelthuzadGhost, false )
    call IssuePointOrderLocBJ( udg_ExitKelthuzadGhost, "move", GetRectCenter(gg_rct_WeatherSunlight) )
    call TriggerSleepAction( 1.00 )
    if ( Trig_ExitCeremony_Func044001() ) then
        return
    else
        call DoNothing(  )
    endif
    call RemoveWeatherEffectBJ( udg_WeatherSunbeams )
    call SetSoundPositionLocBJ( gg_snd_AltarOfDarknessWhat, GetRectCenter(gg_rct_FountainSound), 0 )
    call PlaySoundBJ( gg_snd_AltarOfDarknessWhat )
    call SetDoodadAnimationRectBJ( "stand second", 'YOsw', gg_rct_WeatherSunlight )
    call RemoveUnit( udg_ExitKelthuzadGhost )
    if ( Trig_ExitCeremony_Func050001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TriggerSleepAction( 4.00 )
    if ( Trig_ExitCeremony_Func052001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetDoodadAnimationRectBJ( "stand third", 'YOsw', gg_rct_WeatherSunlight )
    call TriggerExecute( gg_trg_ExitLichRevive )
    call CreateNUnitsAtLoc( 1, 'Uktl', Player(3), GetRectCenter(gg_rct_ExitSpawnKelThuzadGhost), 180.00 )
    call SetSoundPositionLocBJ( gg_snd_DarkSummoningTarget1, GetRectCenter(gg_rct_FountainSound), 0 )
    call PlaySoundBJ( gg_snd_DarkSummoningTarget1 )
    set udg_ExitKelthuzadLich = GetLastCreatedUnit()
    call PauseUnitBJ( false, udg_ExitKelthuzadLich )
    call SetUnitAnimationWithRarity( udg_ExitKelthuzadLich, "stand", RARITY_FREQUENT )
    call TransmissionFromUnitWithNameBJ( bj_FORCE_PLAYER[3], udg_ExitKelthuzadLich, "TRIGSTR_088", gg_snd_U05AKelThuzad31, "TRIGSTR_089", bj_TIMETYPE_ADD, 0, true )
    if ( Trig_ExitCeremony_Func062001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TransmissionFromUnitWithNameBJ( bj_FORCE_PLAYER[3], udg_Arthas, "TRIGSTR_090", gg_snd_U05AArthas32, "TRIGSTR_091", bj_TIMETYPE_ADD, 0, true )
    if ( Trig_ExitCeremony_Func064001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitFacingToFaceUnitTimed( udg_ExitKelthuzadLich, udg_Arthas, 0.40 )
    call TriggerSleepAction( 0.40 )
    if ( Trig_ExitCeremony_Func067001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TransmissionFromUnitWithNameBJ( bj_FORCE_PLAYER[3], udg_ExitKelthuzadLich, "TRIGSTR_092", gg_snd_U05AKelThuzad33, "TRIGSTR_093", bj_TIMETYPE_ADD, 0, true )
    if ( Trig_ExitCeremony_Func069001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TriggerExecute( gg_trg_ExitCinematicEnd )
endfunction

//===========================================================================
function InitTrig_ExitCeremony takes nothing returns nothing
    set gg_trg_ExitCeremony = CreateTrigger(  )
    call TriggerAddAction( gg_trg_ExitCeremony, function Trig_ExitCeremony_Actions )
endfunction

//===========================================================================
// Trigger: ExitLichRevive
//===========================================================================
function Trig_ExitLichRevive_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call AddSpecialEffectLocBJ( GetRectCenter(gg_rct_ExitSpawnKelThuzadGhost), "Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl" )
    set udg_EffectLichRes = GetLastCreatedEffectBJ()
    call SetSoundPositionLocBJ( gg_snd_ReviveHuman, GetRectCenter(gg_rct_ExitSpawnKelThuzadGhost), 0 )
    call SetSoundVolumeBJ( gg_snd_ReviveHuman, 80.00 )
    call PlaySoundBJ( gg_snd_ReviveHuman )
    call TriggerSleepAction( 2 )
    call DestroyEffectBJ( udg_EffectLichRes )
endfunction

//===========================================================================
function InitTrig_ExitLichRevive takes nothing returns nothing
    set gg_trg_ExitLichRevive = CreateTrigger(  )
    call TriggerAddAction( gg_trg_ExitLichRevive, function Trig_ExitLichRevive_Actions )
endfunction

//===========================================================================
// Trigger: ExitDeathSceneA
//===========================================================================
function Trig_ExitDeathSceneA_Func004001 takes nothing returns boolean
    return ( udg_ExitCinematicEscape == true )
endfunction

function Trig_ExitDeathSceneA_Func006002 takes nothing returns nothing
    call RemoveUnit( GetEnumUnit() )
endfunction

function Trig_ExitDeathSceneA_Actions takes nothing returns nothing
    call SetPlayerTechResearchedSwap( 'Ruac', 1, Player(3) )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 0.40, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 0.80 )
    if ( Trig_ExitDeathSceneA_Func004001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CameraSetupApplyForPlayer( true, gg_cam_ExitDeathSceneA, udg_PlayerArthas, 0 )
    call ForGroup( GetUnitsInRectAll(gg_rct_ExitDeathSceneAClear), function Trig_ExitDeathSceneA_Func006002 )
    call CreateNUnitsAtLoc( 1, 'nefm', Player(2), GetRectCenter(gg_rct_ExitDeathSceneAFarm01), bj_UNIT_FACING )
    set udg_ExitDeathSceneAFarm01 = GetLastCreatedUnit()
    call SetUnitLifeBJ( udg_ExitDeathSceneAFarm01, 75.00 )
    call CreateNUnitsAtLoc( 1, 'nefm', Player(2), GetRectCenter(gg_rct_ExitDeathSceneAFarm02), bj_UNIT_FACING )
    set udg_ExitDeathSceneAFarm02 = GetLastCreatedUnit()
    call SetUnitLifeBJ( udg_ExitDeathSceneAFarm02, 300.00 )
    call CreateNUnitsAtLoc( 1, 'hhes', Player(2), GetRectCenter(gg_rct_ExitDeathSceneAVillager), 225.00 )
    set udg_ExitDeathSceneAElf = GetLastCreatedUnit()
    call RemoveGuardPosition( GetLastCreatedUnit() )
    call SetUnitLifeBJ( udg_ExitDeathSceneAElf, 5.00 )
    call CreateNUnitsAtLoc( 1, 'ugho', Player(3), GetRectCenter(gg_rct_ExitDeathSceneAGhoul01), 0.00 )
    call IssueTargetOrderBJ( GetLastCreatedUnit(), "attack", udg_ExitDeathSceneAFarm01 )
    call CreateNUnitsAtLoc( 1, 'ugho', Player(3), GetRectCenter(gg_rct_ExitDeathSceneAGhoul02), 45.00 )
    call SetUnitLifePercentBJ( GetLastCreatedUnit(), 50.00 )
    call IssueTargetOrderBJ( GetLastCreatedUnit(), "attack", udg_ExitDeathSceneAElf )
    set udg_UnitExitDeathSceneGhoul = GetLastCreatedUnit()
    call IssueTargetOrderBJ( udg_ExitDeathSceneAElf, "attack", GetLastCreatedUnit() )
    call CreateNUnitsAtLoc( 1, 'ugho', Player(3), GetRectCenter(gg_rct_ExitDeathSceneAGhoul03), 135.00 )
    call IssueTargetOrderBJ( GetLastCreatedUnit(), "attack", udg_ExitDeathSceneAFarm02 )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 0.40, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
endfunction

//===========================================================================
function InitTrig_ExitDeathSceneA takes nothing returns nothing
    set gg_trg_ExitDeathSceneA = CreateTrigger(  )
    call TriggerAddAction( gg_trg_ExitDeathSceneA, function Trig_ExitDeathSceneA_Actions )
endfunction

//===========================================================================
// Trigger: ExitDeathSceneB
//===========================================================================
function Trig_ExitDeathSceneB_Func003001 takes nothing returns boolean
    return ( udg_ExitCinematicEscape == true )
endfunction

function Trig_ExitDeathSceneB_Func005002 takes nothing returns nothing
    call RemoveUnit( GetEnumUnit() )
endfunction

function Trig_ExitDeathSceneB_Actions takes nothing returns nothing
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 0.40, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 0.80 )
    if ( Trig_ExitDeathSceneB_Func003001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CameraSetupApplyForPlayer( true, gg_cam_ExitDeathSceneB, udg_PlayerArthas, 0 )
    call ForGroup( GetUnitsInRectAll(gg_rct_ExitDeathSceneBClear), function Trig_ExitDeathSceneB_Func005002 )
    call CreateNUnitsAtLoc( 1, 'nefm', Player(2), GetRectCenter(gg_rct_ExitDeathSceneBFarm01), bj_UNIT_FACING )
    set udg_ExitDeathSceneBFarm01 = GetLastCreatedUnit()
    call SetUnitLifeBJ( GetLastCreatedUnit(), 50.00 )
    call CreateNUnitsAtLoc( 1, 'nefm', Player(2), GetRectCenter(gg_rct_ExitDeathSceneBFarm02), bj_UNIT_FACING )
    call SetUnitLifeBJ( GetLastCreatedUnit(), 200.00 )
    call CreateNUnitsAtLoc( 1, 'nefm', Player(2), GetRectCenter(gg_rct_ExitDeathSceneBFarm03), bj_UNIT_FACING )
    call SetUnitLifeBJ( GetLastCreatedUnit(), 500.00 )
    call CreateNUnitsAtLoc( 1, 'nefm', Player(2), GetRectCenter(gg_rct_ExitDeathSceneBFarm04), bj_UNIT_FACING )
    set udg_ExitDeathSceneBFarm04 = GetLastCreatedUnit()
    call SetUnitLifeBJ( GetLastCreatedUnit(), 100.00 )
    call CreateNUnitsAtLoc( 1, 'nhea', Player(2), GetRectCenter(gg_rct_ExitDeathSceneBVillager01), 90.00 )
    call SetUnitLifeBJ( GetLastCreatedUnit(), 5.00 )
    call RemoveGuardPosition( GetLastCreatedUnit() )
    set udg_ExitDeathSceneBElf01 = GetLastCreatedUnit()
    call CreateNUnitsAtLoc( 1, 'hsor', Player(2), GetRectCenter(gg_rct_ExitDeathSceneBVillager03), 225.00 )
    call SetUnitLifeBJ( GetLastCreatedUnit(), 5.00 )
    call RemoveGuardPosition( GetLastCreatedUnit() )
    set udg_ExitDeathSceneBElf03 = GetLastCreatedUnit()
    call CreateNUnitsAtLoc( 1, 'umtw', Player(3), GetRectCenter(gg_rct_ExitDeathSceneBMeatWagon01), 135.00 )
    call IssueTargetOrderBJ( GetLastCreatedUnit(), "attack", udg_ExitDeathSceneBFarm01 )
    call IssueTargetOrderBJ( udg_ExitDeathSceneBElf01, "attack", GetLastCreatedUnit() )
    call CreateNUnitsAtLoc( 1, 'umtw', Player(3), GetRectCenter(gg_rct_ExitDeathSceneBMeatWagon02), 135.00 )
    call IssueTargetOrderBJ( GetLastCreatedUnit(), "attack", udg_ExitDeathSceneBElf01 )
    call IssueTargetOrderBJ( udg_ExitDeathSceneBElf02, "attack", GetLastCreatedUnit() )
    call CreateNUnitsAtLoc( 1, 'umtw', Player(3), GetRectCenter(gg_rct_ExitDeathSceneBMeatWagon03), 135.00 )
    call IssueTargetOrderBJ( GetLastCreatedUnit(), "attack", udg_ExitDeathSceneBElf03 )
    call IssueTargetOrderBJ( udg_ExitDeathSceneBElf03, "attack", GetLastCreatedUnit() )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 0.40, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
endfunction

//===========================================================================
function InitTrig_ExitDeathSceneB takes nothing returns nothing
    set gg_trg_ExitDeathSceneB = CreateTrigger(  )
    call TriggerAddAction( gg_trg_ExitDeathSceneB, function Trig_ExitDeathSceneB_Actions )
endfunction

//===========================================================================
// Trigger: ExitCinematicEnd
//===========================================================================
function Trig_ExitCinematicEnd_Actions takes nothing returns nothing
    call DisableTrigger( gg_trg_ExitCinematicEscape )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 2.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call SetStackedSoundBJ( false, gg_snd_WaterStreamLoop1, gg_rct_StreamLoop01 )
    call SetStackedSoundBJ( false, gg_snd_WaterStreamLoop1, gg_rct_StreamLoop02 )
    call SetStackedSoundBJ( false, gg_snd_WaterStreamLoop1, gg_rct_StreamLoop03 )
    call SetStackedSoundBJ( false, gg_snd_WaterStreamLoop1, gg_rct_StreamLoop04 )
    call SetStackedSoundBJ( false, gg_snd_WaterStreamLoop1, gg_rct_StreamLoop05 )
    call SetStackedSoundBJ( false, gg_snd_WaterStreamLoop1, gg_rct_StreamLoop06 )
    call SetStackedSoundBJ( false, gg_snd_WaterStreamLoop1, gg_rct_StreamLoop07 )
    call SetStackedSoundBJ( false, gg_snd_WaterStreamLoop1, gg_rct_StreamLoop08 )
    call SetStackedSoundBJ( false, gg_snd_WaterStreamLoop1, gg_rct_StreamLoop09 )
    call SetStackedSoundBJ( false, gg_snd_WaterStreamLoop1, gg_rct_StreamLoop10 )
    call SetStackedSoundBJ( false, gg_snd_WaterStreamLoop1, gg_rct_StreamLoop11 )
    call SetStackedSoundBJ( false, gg_snd_WaterStreamLoop1, gg_rct_StreamLoop12 )
    call SetStackedSoundBJ( false, gg_snd_WaterStreamLoop1, gg_rct_StreamLoop13 )
    call SetStackedSoundBJ( false, gg_snd_WaterStreamLoop1, gg_rct_StreamLoop14 )
    call TriggerSleepAction( 2.00 )
    call TriggerExecute( gg_trg_Level_Victory )
endfunction

//===========================================================================
function InitTrig_ExitCinematicEnd takes nothing returns nothing
    set gg_trg_ExitCinematicEnd = CreateTrigger(  )
    call TriggerAddAction( gg_trg_ExitCinematicEnd, function Trig_ExitCinematicEnd_Actions )
endfunction

//===========================================================================
// Trigger: ExitCinematicEscape
//===========================================================================
function Trig_ExitCinematicEscape_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_ExitCinematicEscape = true
    set udg_ExitCinematicRunning = false
    call StopSoundBJ( GetLastPlayedSound(), true )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 2.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 2.00 )
    call TriggerExecute( gg_trg_Level_Victory )
endfunction

//===========================================================================
function InitTrig_ExitCinematicEscape takes nothing returns nothing
    set gg_trg_ExitCinematicEscape = CreateTrigger(  )
    call DisableTrigger( gg_trg_ExitCinematicEscape )
    call TriggerRegisterPlayerEventEndCinematic( gg_trg_ExitCinematicEscape, Player(3) )
    call TriggerAddAction( gg_trg_ExitCinematicEscape, function Trig_ExitCinematicEscape_Actions )
endfunction

//===========================================================================
// Trigger: Level Enabling
//===========================================================================
function Trig_Level_Enabling_Func003001 takes nothing returns boolean
    return ( GetItemTypeId(UnitItemInSlotBJ(udg_Arthas, 1)) == 'ktrm' )
endfunction

function Trig_Level_Enabling_Func004001 takes nothing returns boolean
    return ( GetItemTypeId(UnitItemInSlotBJ(udg_Arthas, 2)) == 'ktrm' )
endfunction

function Trig_Level_Enabling_Func005001 takes nothing returns boolean
    return ( GetItemTypeId(UnitItemInSlotBJ(udg_Arthas, 3)) == 'ktrm' )
endfunction

function Trig_Level_Enabling_Func006001 takes nothing returns boolean
    return ( GetItemTypeId(UnitItemInSlotBJ(udg_Arthas, 4)) == 'ktrm' )
endfunction

function Trig_Level_Enabling_Func007001 takes nothing returns boolean
    return ( GetItemTypeId(UnitItemInSlotBJ(udg_Arthas, 5)) == 'ktrm' )
endfunction

function Trig_Level_Enabling_Func008001 takes nothing returns boolean
    return ( GetItemTypeId(UnitItemInSlotBJ(udg_Arthas, 6)) == 'ktrm' )
endfunction

function Trig_Level_Enabling_Actions takes nothing returns nothing
    call SetMissionAvailableBJ( true, bj_MISSION_INDEX_U08 )
    call SetMissionAvailableBJ( true, bj_MISSION_INDEX_U09 )
    if ( Trig_Level_Enabling_Func003001() ) then
        call RemoveItem( UnitItemInSlotBJ(udg_Arthas, 1) )
    else
        call DoNothing(  )
    endif
    if ( Trig_Level_Enabling_Func004001() ) then
        call RemoveItem( UnitItemInSlotBJ(udg_Arthas, 2) )
    else
        call DoNothing(  )
    endif
    if ( Trig_Level_Enabling_Func005001() ) then
        call RemoveItem( UnitItemInSlotBJ(udg_Arthas, 3) )
    else
        call DoNothing(  )
    endif
    if ( Trig_Level_Enabling_Func006001() ) then
        call RemoveItem( UnitItemInSlotBJ(udg_Arthas, 4) )
    else
        call DoNothing(  )
    endif
    if ( Trig_Level_Enabling_Func007001() ) then
        call RemoveItem( UnitItemInSlotBJ(udg_Arthas, 5) )
    else
        call DoNothing(  )
    endif
    if ( Trig_Level_Enabling_Func008001() ) then
        call RemoveItem( UnitItemInSlotBJ(udg_Arthas, 6) )
    else
        call DoNothing(  )
    endif
    call StoreUnitBJ( udg_Arthas, "Arthas", "Undead06", GetLastCreatedGameCacheBJ() )
    call SaveGameCacheBJ( GetLastCreatedGameCacheBJ() )
endfunction

//===========================================================================
function InitTrig_Level_Enabling takes nothing returns nothing
    set gg_trg_Level_Enabling = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Level_Enabling, function Trig_Level_Enabling_Actions )
endfunction

//===========================================================================
// Trigger: Level Victory
//===========================================================================
function Trig_Level_Victory_Actions takes nothing returns nothing
    call SetNextLevelBJ( "Maps\\Campaign\\Undead05Interlude.w3m" )
    call CustomVictoryBJ( Player(3), true, true )
endfunction

//===========================================================================
function InitTrig_Level_Victory takes nothing returns nothing
    set gg_trg_Level_Victory = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Level_Victory, function Trig_Level_Victory_Actions )
endfunction

//===========================================================================
// Trigger: Level Defeat
//===========================================================================
function Trig_Level_Defeat_Actions takes nothing returns nothing
    call CustomDefeatBJ( Player(3), "TRIGSTR_085" )
endfunction

//===========================================================================
function InitTrig_Level_Defeat takes nothing returns nothing
    set gg_trg_Level_Defeat = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Level_Defeat, function Trig_Level_Defeat_Actions )
endfunction

//===========================================================================
// Trigger: ArthasEntersCOP
//===========================================================================
function Trig_ArthasEntersCOP_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Arthas ) ) then
        return false
    endif
    return true
endfunction

function Trig_ArthasEntersCOP_Actions takes nothing returns nothing
    set udg_ArthasAtSunwell = true
endfunction

//===========================================================================
function InitTrig_ArthasEntersCOP takes nothing returns nothing
    set gg_trg_ArthasEntersCOP = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_ArthasEntersCOP, gg_rct_SunwellCOP )
    call TriggerAddCondition( gg_trg_ArthasEntersCOP, Condition( function Trig_ArthasEntersCOP_Conditions ) )
    call TriggerAddAction( gg_trg_ArthasEntersCOP, function Trig_ArthasEntersCOP_Actions )
endfunction

//===========================================================================
// Trigger: ArthasLeavesCOP
//===========================================================================
function Trig_ArthasLeavesCOP_Conditions takes nothing returns boolean
    if ( not ( GetLeavingUnit() == udg_Arthas ) ) then
        return false
    endif
    return true
endfunction

function Trig_ArthasLeavesCOP_Actions takes nothing returns nothing
    set udg_ArthasAtSunwell = false
endfunction

//===========================================================================
function InitTrig_ArthasLeavesCOP takes nothing returns nothing
    set gg_trg_ArthasLeavesCOP = CreateTrigger(  )
    call TriggerRegisterLeaveRectSimple( gg_trg_ArthasLeavesCOP, gg_rct_SunwellCOP )
    call TriggerAddCondition( gg_trg_ArthasLeavesCOP, Condition( function Trig_ArthasLeavesCOP_Conditions ) )
    call TriggerAddAction( gg_trg_ArthasLeavesCOP, function Trig_ArthasLeavesCOP_Actions )
endfunction

//===========================================================================
// Trigger: ArthasDies
//===========================================================================
function Trig_ArthasDies_Conditions takes nothing returns boolean
    if ( not ( GetDyingUnit() == udg_Arthas ) ) then
        return false
    endif
    return true
endfunction

function Trig_ArthasDies_Actions takes nothing returns nothing
    set udg_ArthasAtSunwell = false
endfunction

//===========================================================================
function InitTrig_ArthasDies takes nothing returns nothing
    set gg_trg_ArthasDies = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_ArthasDies, Player(3), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_ArthasDies, Condition( function Trig_ArthasDies_Conditions ) )
    call TriggerAddAction( gg_trg_ArthasDies, function Trig_ArthasDies_Actions )
endfunction

//===========================================================================
// Trigger: AllGuardiansDestroyed
//===========================================================================
function Trig_AllGuardiansDestroyed_Conditions takes nothing returns boolean
    if ( not ( GetPlayerUnitCount(Player(10), false) == 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_AllGuardiansDestroyed_Actions takes nothing returns nothing
    set udg_GuardiansDead = true
    call QueuedTriggerAddBJ( gg_trg_AllGuardiansDestroyedMessage, true )
endfunction

//===========================================================================
function InitTrig_AllGuardiansDestroyed takes nothing returns nothing
    set gg_trg_AllGuardiansDestroyed = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_AllGuardiansDestroyed, Player(10), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_AllGuardiansDestroyed, Condition( function Trig_AllGuardiansDestroyed_Conditions ) )
    call TriggerAddAction( gg_trg_AllGuardiansDestroyed, function Trig_AllGuardiansDestroyed_Actions )
endfunction

//===========================================================================
// Trigger: AllGuardiansDestroyedMessage
//===========================================================================
function Trig_AllGuardiansDestroyedMessage_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_AllGuardiansDestroyedMessage_Actions takes nothing returns nothing
    call QuestItemSetCompletedBJ( udg_QuestReqSunwellGuardians, true )
    call CreateQuestItemBJ( udg_QuestSunwell, "TRIGSTR_161" )
    set udg_QuestReqSunwellArthas = GetLastCreatedQuestItemBJ()
    call QuestMessageBJ( bj_FORCE_PLAYER[3], bj_QUESTMESSAGE_UPDATED, "TRIGSTR_162" )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_AllGuardiansDestroyedMessage takes nothing returns nothing
    set gg_trg_AllGuardiansDestroyedMessage = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_AllGuardiansDestroyedMessage, Condition( function Trig_AllGuardiansDestroyedMessage_Conditions ) )
    call TriggerAddAction( gg_trg_AllGuardiansDestroyedMessage, function Trig_AllGuardiansDestroyedMessage_Actions )
endfunction

//===========================================================================
// Trigger: BothRequirementsMet
//===========================================================================
function Trig_BothRequirementsMet_Conditions takes nothing returns boolean
    if ( not ( udg_GuardiansDead == true ) ) then
        return false
    endif
    if ( not ( udg_ArthasAtSunwell == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_BothRequirementsMet_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call DisableTrigger( gg_trg_AllPlayerBuildingsDestroyed )
    set udg_RunnerActive = false
    call SetUnitInvulnerable( udg_Arthas, true )
    call QueuedTriggerAddBJ( gg_trg_BothRequirementsMetMessage, true )
endfunction

//===========================================================================
function InitTrig_BothRequirementsMet takes nothing returns nothing
    set gg_trg_BothRequirementsMet = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_BothRequirementsMet, 1.00 )
    call TriggerAddCondition( gg_trg_BothRequirementsMet, Condition( function Trig_BothRequirementsMet_Conditions ) )
    call TriggerAddAction( gg_trg_BothRequirementsMet, function Trig_BothRequirementsMet_Actions )
endfunction

//===========================================================================
// Trigger: BothRequirementsMetMessage
//===========================================================================
function Trig_BothRequirementsMetMessage_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_BothRequirementsMetMessage_Actions takes nothing returns nothing
    call QuestItemSetCompletedBJ( udg_QuestReqSunwellArthas, true )
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_COMPLETED, "TRIGSTR_163" )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerClearBJ(  )
    call TriggerExecute( gg_trg_TriggerExitCinematic )
endfunction

//===========================================================================
function InitTrig_BothRequirementsMetMessage takes nothing returns nothing
    set gg_trg_BothRequirementsMetMessage = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_BothRequirementsMetMessage, Condition( function Trig_BothRequirementsMetMessage_Conditions ) )
    call TriggerAddAction( gg_trg_BothRequirementsMetMessage, function Trig_BothRequirementsMetMessage_Actions )
endfunction

//===========================================================================
// Trigger: AllPlayerBuildingsDestroyed
//===========================================================================
function Trig_AllPlayerBuildingsDestroyed_Conditions takes nothing returns boolean
    if ( not ( GetPlayerStructureCount(Player(3), false) == 0 ) ) then
        return false
    endif
    if ( not ( udg_GargoyleCinematicRunning == false ) ) then
        return false
    endif
    if ( not ( udg_SylvanasCinematicRunning == false ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_AllPlayerBuildingsDestroyed_Actions takes nothing returns nothing
    set udg_GameOver = true
    call DisableTrigger( GetTriggeringTrigger() )
    call DisableTrigger( gg_trg_BothRequirementsMet )
    call DisableTrigger( gg_trg_TriggerSylvanasCinematic )
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_FAILED, "TRIGSTR_034" )
    call QueuedTriggerClearBJ(  )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call TriggerExecute( gg_trg_Level_Defeat )
endfunction

//===========================================================================
function InitTrig_AllPlayerBuildingsDestroyed takes nothing returns nothing
    set gg_trg_AllPlayerBuildingsDestroyed = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_AllPlayerBuildingsDestroyed, 1.00 )
    call TriggerAddCondition( gg_trg_AllPlayerBuildingsDestroyed, Condition( function Trig_AllPlayerBuildingsDestroyed_Conditions ) )
    call TriggerAddAction( gg_trg_AllPlayerBuildingsDestroyed, function Trig_AllPlayerBuildingsDestroyed_Actions )
endfunction

//===========================================================================
// Trigger: Victory Cheat
//===========================================================================
function Trig_Victory_Cheat_Actions takes nothing returns nothing
    call TriggerExecute( gg_trg_Level_Enabling )
    call TriggerExecute( gg_trg_Level_Victory )
endfunction

//===========================================================================
function InitTrig_Victory_Cheat takes nothing returns nothing
    set gg_trg_Victory_Cheat = CreateTrigger(  )
    call TriggerRegisterPlayerEventVictory( gg_trg_Victory_Cheat, Player(3) )
    call TriggerAddAction( gg_trg_Victory_Cheat, function Trig_Victory_Cheat_Actions )
endfunction

//===========================================================================
// Trigger: Defeat Cheat
//===========================================================================
function Trig_Defeat_Cheat_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Level_Defeat )
endfunction

//===========================================================================
function InitTrig_Defeat_Cheat takes nothing returns nothing
    set gg_trg_Defeat_Cheat = CreateTrigger(  )
    call TriggerRegisterPlayerEventDefeat( gg_trg_Defeat_Cheat, Player(3) )
    call TriggerAddAction( gg_trg_Defeat_Cheat, function Trig_Defeat_Cheat_Actions )
endfunction

//===========================================================================
function InitCustomTriggers takes nothing returns nothing
    call InitTrig_StartInitializationSequence(  )
    call InitTrig_Initialize_Variables(  )
    call InitTrig_Initial_Resources(  )
    call InitTrig_Initial_Weather(  )
    call InitTrig_Initial_Alliances(  )
    call InitTrig_Initial_Quests(  )
    call InitTrig_Initial_Music(  )
    call InitTrig_Setup_Scorescreen(  )
    call InitTrig_Easy(  )
    call InitTrig_Normal(  )
    call InitTrig_Hard(  )
    call InitTrig_BlueGold(  )
    call InitTrig_BlueLumber(  )
    call InitTrig_TealGold(  )
    call InitTrig_TealLumber(  )
    call InitTrig_BrownGold(  )
    call InitTrig_BrownLumber(  )
    call InitTrig_Initial_Heroes(  )
    call InitTrig_Load_Arthas(  )
    call InitTrig_Limit_Arthas_XP(  )
    call InitTrig_Villager01Patrol(  )
    call InitTrig_Villager01Panic(  )
    call InitTrig_Villager01Remove(  )
    call InitTrig_Villager02Patrol(  )
    call InitTrig_Villager02Panic(  )
    call InitTrig_Villager02Remove(  )
    call InitTrig_Villager03Patrol(  )
    call InitTrig_Villager03Panic(  )
    call InitTrig_Villager03Remove(  )
    call InitTrig_Villager04Patrol(  )
    call InitTrig_Villager04Panic(  )
    call InitTrig_Villager04Remove(  )
    call InitTrig_Villager05Patrol(  )
    call InitTrig_Villager05Panic(  )
    call InitTrig_Villager05Remove(  )
    call InitTrig_Gargoyles_Available(  )
    call InitTrig_Gargoyles_Available_Message(  )
    call InitTrig_TriggerIntroCinematic(  )
    call InitTrig_IntroEnvironment(  )
    call InitTrig_IntroCinematicMode(  )
    call InitTrig_IntroActorSetup(  )
    call InitTrig_IntroInitialCamera(  )
    call InitTrig_IntroTichoTalks(  )
    call InitTrig_IntroCinematicEnd(  )
    call InitTrig_IntroCinematicEscape(  )
    call InitTrig_Solidify_A(  )
    call InitTrig_Dissolve_A(  )
    call InitTrig_InitialSylvanasPlacement(  )
    call InitTrig_IntroSylvanasDies(  )
    call InitTrig_SylvanasTimerElapses(  )
    call InitTrig_SylvanasAttacks(  )
    call InitTrig_SylvanusAttacksMessage(  )
    call InitTrig_OrderSylvanasFailsafe(  )
    call InitTrig_CheckForWaveDeath(  )
    call InitTrig_Reinforcement(  )
    call InitTrig_ReinforcementMessage(  )
    call InitTrig_AI_BlueAttacked(  )
    call InitTrig_AI_TealAttackedSylvanusActive(  )
    call InitTrig_AI_TealAttackedSylvanusDead(  )
    call InitTrig_AI_BrownAttackedSylvanusActive(  )
    call InitTrig_AI_BrownAttackedSylvanusDead(  )
    call InitTrig_Silvermoon_Quest_Failure_Message(  )
    call InitTrig_AI_RunnerReaches(  )
    call InitTrig_AI_SylvanusLaunch(  )
    call InitTrig_InitialTimerExpires(  )
    call InitTrig_InitialTimerExpiresMessage(  )
    call InitTrig_RunnerDies(  )
    call InitTrig_ReoccuringRunnerTimerExpires(  )
    call InitTrig_ReoccuringRunnerTimerExpiresMessage(  )
    call InitTrig_RandomizePath(  )
    call InitTrig_RunnerHeartbeat(  )
    call InitTrig_PathBRedirect(  )
    call InitTrig_PathCRedirect(  )
    call InitTrig_PathDRedirect(  )
    call InitTrig_RunnerReachesSilvermoonEast(  )
    call InitTrig_RunnerReachesSilvermoonEastMessage(  )
    call InitTrig_RunnerReachesSilvermoonWest(  )
    call InitTrig_RunnerReachesSilvermoonWestMessage(  )
    call InitTrig_RunnerFailsafeTimerExpires(  )
    call InitTrig_CreateLeaderboard(  )
    call InitTrig_CreateTimerWindow(  )
    call InitTrig_RunnerSpawnBuilding_Dies(  )
    call InitTrig_TriggerGargoyleCinematic(  )
    call InitTrig_GargoyleEnvironment(  )
    call InitTrig_GargoyleInitialCamera(  )
    call InitTrig_GargoyleActorSetup(  )
    call InitTrig_GargoyleNarrative(  )
    call InitTrig_GargoyleFakeRunnerVisibilty(  )
    call InitTrig_GargoyleCinematicEscape(  )
    call InitTrig_TriggerSylvanasCinematic(  )
    call InitTrig_SylvanusStart(  )
    call InitTrig_SylvanasEnvironment(  )
    call InitTrig_SylvanasInitialCamera(  )
    call InitTrig_SylvanasActorSetup(  )
    call InitTrig_SylvanasFacesArthas(  )
    call InitTrig_SylvanasFalls(  )
    call InitTrig_SylvanasEnd(  )
    call InitTrig_MarkRunnerQuestCompleted(  )
    call InitTrig_SylvanasCinematicEscape(  )
    call InitTrig_BansheesBuildable(  )
    call InitTrig_BansheesBuildableMessage(  )
    call InitTrig_TriggerExitCinematic(  )
    call InitTrig_ExitEnvironment(  )
    call InitTrig_ExitCinematicMode(  )
    call InitTrig_ExitInitialCamera(  )
    call InitTrig_ExitActorSetup(  )
    call InitTrig_ExitCeremony(  )
    call InitTrig_ExitLichRevive(  )
    call InitTrig_ExitDeathSceneA(  )
    call InitTrig_ExitDeathSceneB(  )
    call InitTrig_ExitCinematicEnd(  )
    call InitTrig_ExitCinematicEscape(  )
    call InitTrig_Level_Enabling(  )
    call InitTrig_Level_Victory(  )
    call InitTrig_Level_Defeat(  )
    call InitTrig_ArthasEntersCOP(  )
    call InitTrig_ArthasLeavesCOP(  )
    call InitTrig_ArthasDies(  )
    call InitTrig_AllGuardiansDestroyed(  )
    call InitTrig_AllGuardiansDestroyedMessage(  )
    call InitTrig_BothRequirementsMet(  )
    call InitTrig_BothRequirementsMetMessage(  )
    call InitTrig_AllPlayerBuildingsDestroyed(  )
    call InitTrig_Victory_Cheat(  )
    call InitTrig_Defeat_Cheat(  )
endfunction

//===========================================================================
function RunInitializationTriggers takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_StartInitializationSequence )
    call ConditionalTriggerExecute( gg_trg_Easy )
    call ConditionalTriggerExecute( gg_trg_Normal )
    call ConditionalTriggerExecute( gg_trg_Hard )
endfunction

//***************************************************************************
//*
//*  Upgrades
//*
//***************************************************************************

function InitUpgrades_Player3 takes nothing returns nothing
    call SetPlayerTechMaxAllowed( Player(3), 'Rume', 2 )
    call SetPlayerTechMaxAllowed( Player(3), 'Rura', 2 )
    call SetPlayerTechMaxAllowed( Player(3), 'Ruar', 2 )
    call SetPlayerTechMaxAllowed( Player(3), 'Rufb', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'Rucr', 2 )
    call SetPlayerTechResearched( Player(3), 'Rusf', 1 )
    call SetPlayerTechMaxAllowed( Player(3), 'Rupc', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'Rune', 1 )
    call SetPlayerTechResearched( Player(3), 'Ruba', 2 )
endfunction

function InitUpgrades takes nothing returns nothing
    call InitUpgrades_Player3(  )
endfunction

//***************************************************************************
//*
//*  TechTree
//*
//***************************************************************************

function InitTechTree_Player0 takes nothing returns nothing
    call SetPlayerTechMaxAllowed( Player(0), 'Hpal', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Hamg', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Hmkg', 0 )
endfunction

function InitTechTree_Player1 takes nothing returns nothing
    call SetPlayerTechMaxAllowed( Player(1), 'Hpal', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Hamg', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Hmkg', 0 )
endfunction

function InitTechTree_Player2 takes nothing returns nothing
    call SetPlayerTechMaxAllowed( Player(2), 'Hpal', 0 )
    call SetPlayerTechMaxAllowed( Player(2), 'Hamg', 0 )
    call SetPlayerTechMaxAllowed( Player(2), 'Hmkg', 0 )
endfunction

function InitTechTree_Player3 takes nothing returns nothing
    call SetPlayerTechMaxAllowed( Player(3), 'ufro', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'Udea', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'Ulic', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'Udre', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'ubon', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'uban', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'uabo', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'usap', 0 )
endfunction

function InitTechTree_Player9 takes nothing returns nothing
    call SetPlayerTechMaxAllowed( Player(9), 'Hpal', 0 )
    call SetPlayerTechMaxAllowed( Player(9), 'Hamg', 0 )
    call SetPlayerTechMaxAllowed( Player(9), 'Hmkg', 0 )
endfunction

function InitTechTree takes nothing returns nothing
    call InitTechTree_Player0(  )
    call InitTechTree_Player1(  )
    call InitTechTree_Player2(  )
    call InitTechTree_Player3(  )
    call InitTechTree_Player9(  )
endfunction

//***************************************************************************
//*
//*  Players
//*
//***************************************************************************

function InitCustomPlayerSlots takes nothing returns nothing

    // Player 0
    call SetPlayerStartLocation( Player(0), 0 )
    call ForcePlayerStartLocation( Player(0), 0 )
    call SetPlayerColor( Player(0), ConvertPlayerColor(0) )
    call SetPlayerRacePreference( Player(0), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(0), true )
    call SetPlayerController( Player(0), MAP_CONTROL_NEUTRAL )

    // Player 1
    call SetPlayerStartLocation( Player(1), 1 )
    call ForcePlayerStartLocation( Player(1), 1 )
    call SetPlayerColor( Player(1), ConvertPlayerColor(1) )
    call SetPlayerRacePreference( Player(1), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(1), true )
    call SetPlayerController( Player(1), MAP_CONTROL_COMPUTER )

    // Player 2
    call SetPlayerStartLocation( Player(2), 2 )
    call ForcePlayerStartLocation( Player(2), 2 )
    call SetPlayerColor( Player(2), ConvertPlayerColor(2) )
    call SetPlayerRacePreference( Player(2), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(2), true )
    call SetPlayerController( Player(2), MAP_CONTROL_COMPUTER )

    // Player 3
    call SetPlayerStartLocation( Player(3), 3 )
    call ForcePlayerStartLocation( Player(3), 3 )
    call SetPlayerColor( Player(3), ConvertPlayerColor(3) )
    call SetPlayerRacePreference( Player(3), RACE_PREF_UNDEAD )
    call SetPlayerRaceSelectable( Player(3), true )
    call SetPlayerController( Player(3), MAP_CONTROL_USER )

    // Player 4
    call SetPlayerStartLocation( Player(4), 4 )
    call ForcePlayerStartLocation( Player(4), 4 )
    call SetPlayerColor( Player(4), ConvertPlayerColor(4) )
    call SetPlayerRacePreference( Player(4), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(4), true )
    call SetPlayerController( Player(4), MAP_CONTROL_COMPUTER )

    // Player 5
    call SetPlayerStartLocation( Player(5), 5 )
    call ForcePlayerStartLocation( Player(5), 5 )
    call SetPlayerColor( Player(5), ConvertPlayerColor(5) )
    call SetPlayerRacePreference( Player(5), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(5), true )
    call SetPlayerController( Player(5), MAP_CONTROL_NEUTRAL )

    // Player 9
    call SetPlayerStartLocation( Player(9), 6 )
    call ForcePlayerStartLocation( Player(9), 6 )
    call SetPlayerColor( Player(9), ConvertPlayerColor(9) )
    call SetPlayerRacePreference( Player(9), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(9), true )
    call SetPlayerController( Player(9), MAP_CONTROL_COMPUTER )

    // Player 10
    call SetPlayerStartLocation( Player(10), 7 )
    call ForcePlayerStartLocation( Player(10), 7 )
    call SetPlayerColor( Player(10), ConvertPlayerColor(10) )
    call SetPlayerRacePreference( Player(10), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(10), true )
    call SetPlayerController( Player(10), MAP_CONTROL_COMPUTER )

    // Player 11
    call SetPlayerStartLocation( Player(11), 8 )
    call ForcePlayerStartLocation( Player(11), 8 )
    call SetPlayerColor( Player(11), ConvertPlayerColor(11) )
    call SetPlayerRacePreference( Player(11), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(11), true )
    call SetPlayerController( Player(11), MAP_CONTROL_COMPUTER )

endfunction

function InitCustomTeams takes nothing returns nothing
    // Force: TRIGSTR_084
    call SetPlayerTeam( Player(1), 0 )
    call SetPlayerTeam( Player(2), 0 )
    call SetPlayerTeam( Player(4), 0 )
    call SetPlayerTeam( Player(5), 0 )
    call SetPlayerTeam( Player(9), 0 )
    call SetPlayerTeam( Player(10), 0 )
    call SetPlayerTeam( Player(11), 0 )

    //   Allied
    call SetPlayerAlliance( Player(1), Player(2), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(1), Player(4), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(1), Player(5), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(1), Player(9), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(1), Player(10), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(1), Player(11), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(2), Player(1), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(2), Player(4), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(2), Player(5), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(2), Player(9), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(2), Player(10), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(2), Player(11), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(4), Player(1), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(4), Player(2), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(4), Player(5), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(4), Player(9), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(4), Player(10), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(4), Player(11), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(5), Player(1), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(5), Player(2), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(5), Player(4), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(5), Player(9), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(5), Player(10), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(5), Player(11), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(9), Player(1), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(9), Player(2), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(9), Player(4), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(9), Player(5), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(9), Player(10), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(9), Player(11), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(10), Player(1), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(10), Player(2), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(10), Player(4), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(10), Player(5), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(10), Player(9), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(10), Player(11), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(11), Player(1), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(11), Player(2), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(11), Player(4), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(11), Player(5), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(11), Player(9), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(11), Player(10), ALLIANCE_PASSIVE, true )

    //   Shared Vision
    call SetPlayerAlliance( Player(1), Player(2), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(1), Player(4), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(1), Player(5), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(1), Player(9), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(1), Player(10), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(1), Player(11), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(2), Player(1), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(2), Player(4), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(2), Player(5), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(2), Player(9), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(2), Player(10), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(2), Player(11), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(4), Player(1), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(4), Player(2), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(4), Player(5), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(4), Player(9), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(4), Player(10), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(4), Player(11), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(5), Player(1), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(5), Player(2), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(5), Player(4), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(5), Player(9), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(5), Player(10), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(5), Player(11), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(9), Player(1), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(9), Player(2), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(9), Player(4), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(9), Player(5), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(9), Player(10), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(9), Player(11), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(10), Player(1), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(10), Player(2), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(10), Player(4), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(10), Player(5), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(10), Player(9), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(10), Player(11), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(11), Player(1), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(11), Player(2), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(11), Player(4), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(11), Player(5), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(11), Player(9), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(11), Player(10), ALLIANCE_SHARED_VISION, true )

    // Force: TRIGSTR_173
    call SetPlayerTeam( Player(0), 1 )
    call SetPlayerTeam( Player(3), 1 )

endfunction

function InitAllyPriorities takes nothing returns nothing

    call SetStartLocPrioCount( 0, 1 )
    call SetStartLocPrio( 0, 0, 5, MAP_LOC_PRIO_LOW )

    call SetStartLocPrioCount( 1, 1 )
    call SetStartLocPrio( 1, 0, 5, MAP_LOC_PRIO_LOW )

    call SetStartLocPrioCount( 2, 1 )
    call SetStartLocPrio( 2, 0, 5, MAP_LOC_PRIO_LOW )

    call SetStartLocPrioCount( 4, 1 )
    call SetStartLocPrio( 4, 0, 5, MAP_LOC_PRIO_LOW )

    call SetStartLocPrioCount( 5, 7 )
    call SetStartLocPrio( 5, 0, 1, MAP_LOC_PRIO_LOW )
    call SetStartLocPrio( 5, 1, 2, MAP_LOC_PRIO_LOW )
    call SetStartLocPrio( 5, 2, 3, MAP_LOC_PRIO_LOW )
    call SetStartLocPrio( 5, 3, 6, MAP_LOC_PRIO_LOW )
    call SetStartLocPrio( 5, 4, 7, MAP_LOC_PRIO_LOW )
    call SetStartLocPrio( 5, 5, 8, MAP_LOC_PRIO_LOW )

    call SetStartLocPrioCount( 6, 1 )
    call SetStartLocPrio( 6, 0, 5, MAP_LOC_PRIO_LOW )

    call SetStartLocPrioCount( 7, 1 )
    call SetStartLocPrio( 7, 0, 5, MAP_LOC_PRIO_LOW )

    call SetStartLocPrioCount( 8, 1 )
    call SetStartLocPrio( 8, 0, 5, MAP_LOC_PRIO_LOW )
endfunction

//***************************************************************************
//*
//*  Main Initialization
//*
//***************************************************************************

//===========================================================================
function main takes nothing returns nothing
    call SetCameraBounds( -7424.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), -7680.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM), 7424.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), 7168.0 - GetCameraMargin(CAMERA_MARGIN_TOP), -7424.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), 7168.0 - GetCameraMargin(CAMERA_MARGIN_TOP), 7424.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), -7680.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM) )
    call SetDayNightModels( "Environment\\DNC\\DNCLordaeron\\DNCLordaeronTerrain\\DNCLordaeronTerrain.mdl", "Environment\\DNC\\DNCLordaeron\\DNCLordaeronUnit\\DNCLordaeronUnit.mdl" )
    call SetAmbientDaySound( "LordaeronSummerDay" )
    call SetAmbientNightSound( "LordaeronSummerNight" )
    call SetMapMusic( "Music", true, 0 )
    call InitSounds(  )
    call CreateRegions(  )
    call CreateCameras(  )
    call InitUpgrades(  )
    call InitTechTree(  )
    call CreateAllUnits(  )
    call InitBlizzard(  )
    call InitGlobals(  )
    call InitCustomTriggers(  )
    call RunInitializationTriggers(  )

endfunction

//***************************************************************************
//*
//*  Map Configuration
//*
//***************************************************************************

function config takes nothing returns nothing
    call SetMapName( "TRIGSTR_002" )
    call SetMapDescription( "TRIGSTR_174" )
    call SetPlayers( 9 )
    call SetTeams( 9 )
    call SetGamePlacement( MAP_PLACEMENT_USE_MAP_SETTINGS )

    call DefineStartLocation( 0, 6464.0, 5184.0 )
    call DefineStartLocation( 1, -3136.0, 4544.0 )
    call DefineStartLocation( 2, 1024.0, -3840.0 )
    call DefineStartLocation( 3, 5824.0, 2624.0 )
    call DefineStartLocation( 4, -5248.0, 5376.0 )
    call DefineStartLocation( 5, -768.0, -7168.0 )
    call DefineStartLocation( 6, 3392.0, 5504.0 )
    call DefineStartLocation( 7, -2432.0, -6400.0 )
    call DefineStartLocation( 8, -4416.0, -6080.0 )

    // Player setup
    call InitCustomPlayerSlots(  )
    call InitCustomTeams(  )
    call InitAllyPriorities(  )
endfunction

