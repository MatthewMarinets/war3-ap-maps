//===========================================================================
// 
// HumanX03Secret
// 
//   Warcraft III map script
//   Generated by the Warcraft III World Editor
//   Date: Mon May 12 14:57:46 2003
//   Map Author: Blizzard Entertainment
// 
//===========================================================================

//***************************************************************************
//*
//*  Global Variables
//*
//***************************************************************************

globals
    // User-defined
    player                  udg_AP1_Player             = null
    unit                    udg_Kael                   = null
    unit                    udg_Vashj                  = null
    unit                    udg_RevivalHero            = null
    location                udg_RevivalSpot            = null
    unit                    udg_RevivalAltar           = null
    boolean                 udg_ExpDisabledForKael     = false
    location                udg_RevivalReturnSpot      = null
    boolean                 udg_ExpDisabledForVashj    = false
    force                   udg_APG1_Player            = null
    boolean                 udg_IntroSkipped           = false
    group                   udg_HiddenUnits            = null
    boolean                 udg_GameOver               = false
    location                udg_KaelReturnSpot         = null
    location                udg_VashjReturnSpot        = null
    boolean                 udg_VictorySkipped         = false
    quest                   udg_QuestDefend            = null
    questitem               udg_QuestDefendReq1        = null
    timer                   udg_CombatCheckTimer       = null
    boolean                 udg_InCinematic            = false
    boolean                 udg_InCombat               = false
    player                  udg_P02_Escapees           = null
    timer                   udg_DefendTimer            = null
    timerdialog             udg_DefendTimerWindow      = null
    destructable            udg_MainGate               = null
    timer                   udg_PeasantTimer           = null
    unit                    udg_TempUnit               = null
    timer                   udg_TimeWarning1Timer      = null
    timer                   udg_TimeWarning2Timer      = null
    destructable            udg_SewerGate              = null
    timer                   udg_EnableTower3Timer      = null
    timer                   udg_EnableTower4Timer      = null
    timer                   udg_EnableTower5Timer      = null
    unit                    udg_Observatory            = null
    real                    udg_ObservatoryVisionRadius = 0
    fogmodifier             udg_ObservatoryVision      = null
    timer                   udg_VaultFoundTimer        = null
    boolean                 udg_Vault01Done            = false
    boolean                 udg_Vault02Done            = false
    boolean                 udg_Vault03Done            = false
    unit                    udg_Garithos               = null
    unit                    udg_Speaker                = null
    real                    udg_SpeakingDistance       = 0
    unit                    udg_EngineerWorker01       = null
    unit                    udg_EngineerWorker02       = null
    unit                    udg_EngineerWorker03       = null
    unit                    udg_EngineerForeman01      = null
    unit                    udg_EngineerForeman02      = null
    unit                    udg_EngineerForeman03      = null
    unit                    udg_EPitTower3             = null
    unit                    udg_EPitTower4             = null
    unit                    udg_EPitTower5             = null
    unit                    udg_Portal                 = null
    player                  udg_P07_HumansWave         = null
    player                  udg_P06_HumansBase         = null
    effect                  udg_EscapeEffect01         = null
    group                   udg_ExodusPeasants         = null
    group                   udg_EngineerUnits          = null
    effect                  udg_ForemanSleepEffect01   = null
    effect                  udg_ForemanSleepEffect02   = null
    effect                  udg_ForemanSleepEffect03   = null
    unit                    udg_Vault01                = null
    unit                    udg_Vault02                = null
    unit                    udg_Vault03                = null
    timer                   udg_TroopTimer             = null
    group                   udg_ExodusTroops           = null
    group                   udg_ExodusUnits            = null
    boolean                 udg_EscapeEffectRecent     = false
    boolean                 udg_EscapeEffect01Busy     = false
    boolean                 udg_EscapeEffect02Busy     = false
    effect                  udg_EscapeEffect02         = null
    integer                 udg_TempInteger            = 0
    real                    udg_ExodusMoveSpeed        = 0
    real                    udg_minutes                = 0
    timer array             udg_WaveTimer
    group                   udg_AttackingUnits         = null
    destructable            udg_EnemyGate              = null
    unit array              udg_WaitingArray
    integer                 udg_WaitingCount           = 0
    location array          udg_WaitingSpots
    location                udg_BoomSpot               = null
    group                   udg_BoomKillUnits          = null
    integer                 udg_PortalAttackedMessage  = 0
    integer array           udg_WaveUnitTypes
    integer array           udg_WaveUnitCounts
    integer                 udg_Wave                   = 0
    integer array           udg_WaveUnitSource
    location                udg_SpawnPointLeft         = null
    location                udg_SpawnPointRight        = null
    location                udg_SpawnPoint             = null
    integer                 udg_SendingCount           = 0
    integer                 udg_Source1_Barracks       = 0
    integer                 udg_Source0_Castle         = 0
    integer                 udg_Source3_Aviary         = 0
    integer                 udg_Source4_MercCamp       = 0
    location                udg_RedirectPoint          = null
    location                udg_TempPoint              = null
    integer                 udg_N                      = 0
    real                    udg_TempReal               = 0
    real                    udg_SpawnTime              = 0
    real                    udg_SpawnTimePerUnit       = 0
    real array              udg_WaveSendTime
    integer                 udg_EnemyGateUsers         = 0
    unit array              udg_SendingArray
    integer array           udg_WaveLeaderTypes
    integer                 udg_Source2_Workshop       = 0
    integer                 udg_RedirectIndex          = 0
    integer                 udg_SendingIndex           = 0
    integer                 udg_SpawnIndex             = 0
    unit                    udg_WaitingLeader          = null
    real                    udg_SendingTimePerUnit     = 0
    unit                    udg_SendingLeader          = null
    integer                 udg_Source5_DragRoost      = 0
    integer                 udg_Source6_Beast          = 0
    integer                 udg_ZeppelinSpawns01       = 0
    integer                 udg_ZeppelinSpawnType01    = 0
    integer                 udg_ZeppelinType01         = 0
    timer                   udg_HintBuildTimer         = null
    timer                   udg_HintTrainTimer         = null
    group array             udg_UnitsOnPath
    rect array              udg_PathTarget
    integer                 udg_SubspawnIndex          = 0
    integer                 udg_PathTargets            = 0
    integer                 udg_DyingPathTarget        = 0
    integer array           udg_WaveAttach
    integer                 udg_Attach1_HandLeft       = 0
    integer                 udg_Attach2_HandRight      = 0
    integer                 udg_Attach0_None           = 0
    string                  udg_ExplosiveArt
    integer                 udg_Attach3_Base           = 0
    string                  udg_AttachPoint
    integer                 udg_ZeppelinType02         = 0
    integer                 udg_ZeppelinSpawns02       = 0
    integer                 udg_SubspawnType           = 0
    integer                 udg_ZeppelinSpawnType02    = 0
    leaderboard             udg_PortalLeaderboard      = null
    boolean                 udg_PortalLeaderboardCreated = false
    group                   udg_BoomExplodeUnits       = null
    real                    udg_PortalLifePercent      = 0
    real                    udg_HandicapValue          = 0
    integer                 udg_PathIndex              = 0
    boolean                 udg_HeroActiveHpal         = false
    boolean                 udg_HeroActiveHamg         = false
    boolean                 udg_HeroActiveHmkg         = false
    trigger array           udg_WaveHeroConfig
    group                   udg_EngineerWorkers        = null
    questitem               udg_QuestDefendReq2        = null
    unit                    udg_HeroHmkg               = null
    timer                   udg_ReleaseBeastsTimer     = null
    unit                    udg_Engineer01Cin          = null
    unit                    udg_Engineer02Cin          = null
    unit                    udg_Engineer03Cin          = null
    unit                    udg_Engineer04Cin          = null
    unit                    udg_FootmanSpy             = null
    texttag                 udg_GoldFloatingText       = null
    unit                    udg_GoldFloatTextUnit      = null
    integer                 udg_CurrentWaveInt         = 0
    group                   udg_FinalWaveGroup         = null
    integer                 udg_FinalWaveHighScore     = 0
    integer                 udg_HighScoreEasy          = 0
    integer                 udg_HighScoreNormal        = 0
    integer                 udg_HighScoreHard          = 0
    effect                  udg_Trevfx1                = null
    effect                  udg_Trevfx2                = null
    boolean                 udg_ScoreScreenPlaying     = false
    integer                 udg_WavesRemainingInt      = 0
    location                udg_PointPathTarget01      = null
    location                udg_PointPathTarget02      = null
    location                udg_PointPathTarget03      = null
    location                udg_PointPathTarget04      = null
    location                udg_PointPathTarget05      = null
    location                udg_PointPathTarget06      = null
    location                udg_PointPathTarget07      = null
    location                udg_PointPathTarget08      = null
    location                udg_PointPathTarget00      = null
    location                udg_PointPathTarget09      = null
    location                udg_PointPathTarget10      = null
    location                udg_PointPathTarget11      = null
    location                udg_PointPathTarget12      = null
    location                udg_PointPathTarget13      = null
    location                udg_PointPathTarget14      = null
    location                udg_PointPathTarget15      = null
    location                udg_PointPathTarget16      = null
    location                udg_PointPathTarget17      = null
    location                udg_PointPathTarget18      = null
    location                udg_PointPathTarget19      = null
    location                udg_PointPathTarget20      = null
    location                udg_PointPathTarget21      = null
    location                udg_PointPathTarget22      = null
    location                udg_PointPathTarget23      = null
    location                udg_PointPathTarget24      = null
    location                udg_PointGateSound         = null
    location array          udg_PointPathTargetArray
    location                udg_TempPathPointRandom    = null
    location                udg_PointSource0CastleLeft = null
    location                udg_PointSource0CastleRight = null
    location                udg_PointSource1BarracksRight = null
    location                udg_PointSource1BarracksLeft = null
    location                udg_PointSource2WorkshopLeft = null
    location                udg_PointSource2WorkshopRight = null
    location                udg_PointSource3AviaryLeft = null
    location                udg_PointSource3AviaryRight = null
    location                udg_PointSource4MercLeft   = null
    location                udg_PointSource4MercRight  = null
    location                udg_PointSource5DragRight  = null
    location                udg_PointSource5DragLeft   = null
    location                udg_PointSource6BeastsLeft = null
    location                udg_PointSource6BeastsRight = null
    location                udg_PointWaitingRedirect01Right = null
    location                udg_PointWaitingRedirect01Left = null
    location                udg_SourceAltar            = null
    location                udg_PointSourceAltar       = null
    location                udg_PointEscapePortalEffect = null
    location                udg_PointEscapePortalTarget = null
    location                udg_PointEscapePath1A      = null
    location                udg_PointEscapePath1B      = null
    location                udg_PointEscapePath1C      = null
    location                udg_PointEscapePath2A      = null
    location                udg_PointEscapePath2B      = null
    location                udg_PointEscapePath3A      = null
    location                udg_PointEscapePath3B      = null
    location                udg_PointEscapePath3C      = null
    location                udg_PointExodusTroopSpawn  = null
    location                udg_PointExodusPeasantSpawn = null
    group                   udg_TempUnitGroup          = null
    group                   udg_TempUnitGroup2         = null
    location                udg_PointPortal            = null
    location                udg_PointWaitingLeaderSpot = null
    location                udg_PointExplosivesFaceTarget = null
    group                   udg_GoldDroppers           = null

    // Generated
    rect                    gg_rct_Attack_Target       = null
    rect                    gg_rct_Engineer_Pit        = null
    rect                    gg_rct_EPitTower3_Worker01 = null
    rect                    gg_rct_EPitTower3_Worker02 = null
    rect                    gg_rct_EPitTower3_Worker03 = null
    rect                    gg_rct_EPitTower4_Worker01 = null
    rect                    gg_rct_EPitTower4_Worker02 = null
    rect                    gg_rct_EPitTower4_Worker03 = null
    rect                    gg_rct_EPitTower5_Worker01 = null
    rect                    gg_rct_EPitTower5_Worker02 = null
    rect                    gg_rct_EPitTower5_Worker03 = null
    rect                    gg_rct_Escape_Path1A       = null
    rect                    gg_rct_Escape_Path1B       = null
    rect                    gg_rct_Escape_Path1C       = null
    rect                    gg_rct_Escape_Path2A       = null
    rect                    gg_rct_Escape_Path2B       = null
    rect                    gg_rct_Escape_Path3A       = null
    rect                    gg_rct_Escape_Path3B       = null
    rect                    gg_rct_Escape_Path3C       = null
    rect                    gg_rct_Escape_Portal_Target = null
    rect                    gg_rct_Escape_Portal_Tripwire = null
    rect                    gg_rct_Exodus_Peasant_Spawn = null
    rect                    gg_rct_Exodus_Troop_Spawn  = null
    rect                    gg_rct_Explosives_Face_Target = null
    rect                    gg_rct_Gameplay_Kael_Start = null
    rect                    gg_rct_Gameplay_Vashj_Start = null
    rect                    gg_rct_Intro_Kael_Start    = null
    rect                    gg_rct_Intro_Vashj_Start   = null
    rect                    gg_rct_Path_Target_01      = null
    rect                    gg_rct_Path_Target_02      = null
    rect                    gg_rct_Path_Target_03      = null
    rect                    gg_rct_Path_Target_04      = null
    rect                    gg_rct_Path_Target_05      = null
    rect                    gg_rct_Path_Target_06      = null
    rect                    gg_rct_Path_Target_07      = null
    rect                    gg_rct_Path_Target_08      = null
    rect                    gg_rct_Path_Target_09      = null
    rect                    gg_rct_Path_Target_10      = null
    rect                    gg_rct_Path_Target_11      = null
    rect                    gg_rct_Path_Target_12      = null
    rect                    gg_rct_Path_Target_13      = null
    rect                    gg_rct_Path_Target_14      = null
    rect                    gg_rct_Path_Target_15      = null
    rect                    gg_rct_Path_Target_16      = null
    rect                    gg_rct_Path_Target_17      = null
    rect                    gg_rct_Path_Target_18      = null
    rect                    gg_rct_Path_Target_19      = null
    rect                    gg_rct_Path_Target_20      = null
    rect                    gg_rct_Path_Target_21      = null
    rect                    gg_rct_Path_Target_22      = null
    rect                    gg_rct_Path_Target_23      = null
    rect                    gg_rct_Path_Target_24      = null
    rect                    gg_rct_Path_Tripwire_01    = null
    rect                    gg_rct_Path_Tripwire_02    = null
    rect                    gg_rct_Path_Tripwire_03    = null
    rect                    gg_rct_Path_Tripwire_04    = null
    rect                    gg_rct_Path_Tripwire_05    = null
    rect                    gg_rct_Path_Tripwire_06    = null
    rect                    gg_rct_Path_Tripwire_07    = null
    rect                    gg_rct_Path_Tripwire_08    = null
    rect                    gg_rct_Path_Tripwire_09    = null
    rect                    gg_rct_Path_Tripwire_10    = null
    rect                    gg_rct_Path_Tripwire_11    = null
    rect                    gg_rct_Path_Tripwire_12    = null
    rect                    gg_rct_Path_Tripwire_13    = null
    rect                    gg_rct_Path_Tripwire_14    = null
    rect                    gg_rct_Path_Tripwire_15    = null
    rect                    gg_rct_Path_Tripwire_16    = null
    rect                    gg_rct_Path_Tripwire_17    = null
    rect                    gg_rct_Path_Tripwire_18    = null
    rect                    gg_rct_Path_Tripwire_19    = null
    rect                    gg_rct_Path_Tripwire_20    = null
    rect                    gg_rct_Path_Tripwire_21    = null
    rect                    gg_rct_Path_Tripwire_22    = null
    rect                    gg_rct_Path_Tripwire_23    = null
    rect                    gg_rct_Path_Tripwire_24    = null
    rect                    gg_rct_Pathing_Disabler    = null
    rect                    gg_rct_Source_Altar        = null
    rect                    gg_rct_Source0_Castle_Left = null
    rect                    gg_rct_Source0_Castle_Right = null
    rect                    gg_rct_Source1_Barracks_Left = null
    rect                    gg_rct_Source1_Barracks_Right = null
    rect                    gg_rct_Source2_Workshop_Left = null
    rect                    gg_rct_Source2_Workshop_Right = null
    rect                    gg_rct_Source3_Aviary_Left = null
    rect                    gg_rct_Source3_Aviary_Right = null
    rect                    gg_rct_Source4_Merc_Left   = null
    rect                    gg_rct_Source4_Merc_Right  = null
    rect                    gg_rct_Source5_Drag_Left   = null
    rect                    gg_rct_Source5_Drag_Right  = null
    rect                    gg_rct_Source6_Beasts_Left = null
    rect                    gg_rct_Source6_Beasts_Right = null
    rect                    gg_rct_Starting_Tower_01   = null
    rect                    gg_rct_Starting_Tower_02   = null
    rect                    gg_rct_TownHall            = null
    rect                    gg_rct_Vault_01            = null
    rect                    gg_rct_Vault_02            = null
    rect                    gg_rct_Vault_03            = null
    rect                    gg_rct_Vault_Early_TripwireA = null
    rect                    gg_rct_Vault_Early_TripwireB = null
    rect                    gg_rct_Vault_Early_TripwireC = null
    rect                    gg_rct_Victory_Kael_Start  = null
    rect                    gg_rct_Victory_Vashj_Start = null
    rect                    gg_rct_Waiting_Leader_Spot = null
    rect                    gg_rct_Waiting_Redirect_01_Left = null
    rect                    gg_rct_Waiting_Redirect_01_Right = null
    rect                    gg_rct_Waiting_Unit_Spot_01 = null
    rect                    gg_rct_Waiting_Unit_Spot_02 = null
    rect                    gg_rct_Waiting_Unit_Spot_03 = null
    rect                    gg_rct_Waiting_Unit_Spot_04 = null
    rect                    gg_rct_Waiting_Unit_Spot_05 = null
    rect                    gg_rct_Waiting_Unit_Spot_06 = null
    rect                    gg_rct_Waiting_Unit_Spot_07 = null
    rect                    gg_rct_Waiting_Unit_Spot_08 = null
    rect                    gg_rct_Waiting_Unit_Spot_09 = null
    rect                    gg_rct_Waiting_Unit_Spot_10 = null
    rect                    gg_rct_Waiting_Unit_Spot_11 = null
    rect                    gg_rct_Waiting_Unit_Spot_12 = null
    rect                    gg_rct_Waiting_Unit_Spot_13 = null
    rect                    gg_rct_Waiting_Unit_Spot_14 = null
    rect                    gg_rct_Waiting_Unit_Spot_15 = null
    rect                    gg_rct_Waiting_Unit_Spot_16 = null
    rect                    gg_rct_Waiting_Unit_Spot_17 = null
    rect                    gg_rct_Waiting_Unit_Spot_18 = null
    rect                    gg_rct_Waiting_Unit_Spot_19 = null
    rect                    gg_rct_Waiting_Unit_Spot_20 = null
    rect                    gg_rct_Waiting_Unit_Spot_21 = null
    rect                    gg_rct_Waiting_Unit_Spot_22 = null
    rect                    gg_rct_Waiting_Unit_Spot_23 = null
    rect                    gg_rct_Waiting_Unit_Spot_24 = null
    rect                    gg_rct_Waiting_Zone        = null
    rect                    gg_rct_Intro_Kael_Dest01   = null
    rect                    gg_rct_Intro_Vashj_Dest01  = null
    rect                    gg_rct_Intro_Eng01Dest01   = null
    rect                    gg_rct_Intro_Eng02Dest01   = null
    rect                    gg_rct_Intro_Eng03Dest01   = null
    rect                    gg_rct_Intro_Eng04Dest01   = null
    rect                    gg_rct_Intro_Spy_Spawn     = null
    rect                    gg_rct_Intro_Spy_Dest01    = null
    rect                    gg_rct_Intro_Vashj_MoveUnit = null
    rect                    gg_rct_Victory_Create_unit_01 = null
    rect                    gg_rct_Victory_Create_unit_02 = null
    rect                    gg_rct_StartingEngineer01  = null
    rect                    gg_rct_StartingEngineer02  = null
    rect                    gg_rct_Escape_Portal_Effect = null
    rect                    gg_rct_Brewmaster          = null
    rect                    gg_rct_Trev                = null
    rect                    gg_rct_PuddleSound1        = null
    rect                    gg_rct_PuddleSound3        = null
    rect                    gg_rct_PuddleSound4        = null
    rect                    gg_rct_PuddleSound5        = null
    rect                    gg_rct_PuddleSound6        = null
    rect                    gg_rct_PuddleSound7        = null
    rect                    gg_rct_PuddleSound8        = null
    rect                    gg_rct_PuddleSound9        = null
    rect                    gg_rct_PuddleSound10       = null
    rect                    gg_rct_PuddleSound11       = null
    rect                    gg_rct_PuddleSound12       = null
    rect                    gg_rct_PuddleSound13       = null
    rect                    gg_rct_PuddleSound14       = null
    rect                    gg_rct_PuddleSound15       = null
    rect                    gg_rct_PuddleSound16       = null
    rect                    gg_rct_PuddleSound17       = null
    rect                    gg_rct_PuddleSound18       = null
    rect                    gg_rct_PuddleSound19       = null
    rect                    gg_rct_PuddleSound20       = null
    rect                    gg_rct_PuddleSound21       = null
    rect                    gg_rct_PuddleSound22       = null
    rect                    gg_rct_PuddleSound23       = null
    rect                    gg_rct_PuddleSound24       = null
    rect                    gg_rct_PuddleSound25       = null
    rect                    gg_rct_PuddleSound26       = null
    rect                    gg_rct_PuddleSound27       = null
    rect                    gg_rct_PuddleSound28       = null
    rect                    gg_rct_GateSound           = null
    rect                    gg_rct_Explosives          = null
    rect                    gg_rct_DestroyPlayerSummonedUnits = null
    rect                    gg_rct_YOULOSEEMITTER      = null
    camerasetup             gg_cam_Intro_01            = null
    camerasetup             gg_cam_Intro_02            = null
    camerasetup             gg_cam_Intro_03            = null
    camerasetup             gg_cam_Intro_04            = null
    camerasetup             gg_cam_Intro_Engineer_Pit_01 = null
    camerasetup             gg_cam_Intro_Engineer_Pit_02 = null
    camerasetup             gg_cam_Intro_Garrithos_Shot = null
    camerasetup             gg_cam_Intro_Kael_Closeup  = null
    camerasetup             gg_cam_Intro_Skipped       = null
    camerasetup             gg_cam_Intro_Starting_Towers_01 = null
    camerasetup             gg_cam_Victory_01          = null
    camerasetup             gg_cam_Intro_Explosives_01 = null
    camerasetup             gg_cam_Victory_02          = null
    camerasetup             gg_cam_Victory_04          = null
    camerasetup             gg_cam_Victory_05          = null
    camerasetup             gg_cam_Victory_06          = null
    camerasetup             gg_cam_Intro_trev_A1       = null
    camerasetup             gg_cam_Intro_trev_A2       = null
    camerasetup             gg_cam_Intro_trev_Gate_Cam = null
    camerasetup             gg_cam_SCORESCREENCAM      = null
    sound                   gg_snd_A04BloodElfEngineer49 = null
    sound                   gg_snd_A04BloodElfEngineer50 = null
    sound                   gg_snd_A04BloodElfEngineer51 = null
    sound                   gg_snd_A04EngineerOne02    = null
    sound                   gg_snd_A04Garithos05       = null
    sound                   gg_snd_A04Garithos43       = null
    sound                   gg_snd_A04Garithos44       = null
    sound                   gg_snd_A04Garithos46       = null
    sound                   gg_snd_A04Garithos47       = null
    sound                   gg_snd_A04Kael01           = null
    sound                   gg_snd_A04Kael03           = null
    sound                   gg_snd_A04Kael07           = null
    sound                   gg_snd_A04Kael16           = null
    sound                   gg_snd_A04Kael17           = null
    sound                   gg_snd_A04Kael18           = null
    sound                   gg_snd_A04Kael32           = null
    sound                   gg_snd_A04LadyVashj04      = null
    sound                   gg_snd_A04LadyVashj06      = null
    sound                   gg_snd_A04LadyVashj08      = null
    sound                   gg_snd_A04LadyVashj19      = null
    sound                   gg_snd_A04LadyVashj20      = null
    sound                   gg_snd_A04LadyVashj21      = null
    sound                   gg_snd_A04LadyVashj22      = null
    sound                   gg_snd_A04LadyVashj25      = null
    sound                   gg_snd_A04LadyVashj31      = null
    sound                   gg_snd_A04LadyVashj33      = null
    sound                   gg_snd_BuildingDeathSmallHuman = null
    sound                   gg_snd_ShimmeringPortalBirth = null
    sound                   gg_snd_ShimmeringPortalEntrance = null
    sound                   gg_snd_ShimmeringPortalDeath = null
    sound                   gg_snd_RunesGlow           = null
    sound                   gg_snd_WaterLakeLoop1      = null
    sound                   gg_snd_CityScapeMagicRunesLoop1 = null
    sound                   gg_snd_EarthquakeLoop1     = null
    sound                   gg_snd_LargeCityGateOpen1  = null
    sound                   gg_snd_ShimmeringPortalEntrance01 = null
    sound                   gg_snd_ShimmeringPortalEntrance02 = null
    sound                   gg_snd_PandarenBrewmasterPissed3 = null
    sound                   gg_snd_PandarenBrewmasterPissed8 = null
    sound                   gg_snd_PandarenBrewmasterYesAttack3 = null
    trigger                 gg_trg_Initialization      = null
    trigger                 gg_trg_Init_01_Players     = null
    trigger                 gg_trg_Init_02_Units       = null
    trigger                 gg_trg_Init_03_Music       = null
    trigger                 gg_trg_Init_04_Environment = null
    trigger                 gg_trg_Init_05_Quests      = null
    trigger                 gg_trg_Init_06c_Easy       = null
    trigger                 gg_trg_Init_06b_Normal     = null
    trigger                 gg_trg_Init_06a_Hard       = null
    trigger                 gg_trg_Init_07_Waves       = null
    trigger                 gg_trg_Init_08_HighScore   = null
    trigger                 gg_trg_Load_Heroes         = null
    trigger                 gg_trg_Load_Kael           = null
    trigger                 gg_trg_Load_Vashj          = null
    trigger                 gg_trg_Cinematic_Revival   = null
    trigger                 gg_trg_DEBUG_End           = null
    trigger                 gg_trg_DEBUG_Towers        = null
    trigger                 gg_trg_DEBUG_Tower3        = null
    trigger                 gg_trg_DEBUG_Tower4        = null
    trigger                 gg_trg_DEBUG_Tower5        = null
    trigger                 gg_trg_DEBUG_Wave          = null
    trigger                 gg_trg_DEBUG_Event_Notarg  = null
    trigger                 gg_trg_Intro_Cinematic_Q   = null
    trigger                 gg_trg_Intro_Spawn_Engineer = null
    trigger                 gg_trg_Intro_Spy_Return    = null
    trigger                 gg_trg_Intro_Skipped       = null
    trigger                 gg_trg_Intro_Setup         = null
    trigger                 gg_trg_Intro_Cleanup       = null
    trigger                 gg_trg_Gameplay            = null
    trigger                 gg_trg_Start_Timed_Events  = null
    trigger                 gg_trg_Quest_Defend_Q      = null
    trigger                 gg_trg_Victory_Cinematic_Q = null
    trigger                 gg_trg_Victory_Skipped     = null
    trigger                 gg_trg_Victory_Setup       = null
    trigger                 gg_trg_Victory_Travel_to_Outland = null
    trigger                 gg_trg_Score               = null
    trigger                 gg_trg_Next_Level_Prep     = null
    trigger                 gg_trg_Next_Level_Run      = null
    trigger                 gg_trg_Save_High_Score     = null
    trigger                 gg_trg_Victory_Cheat       = null
    trigger                 gg_trg_Defeat_Cheat        = null
    trigger                 gg_trg_Quest_Defend_Create = null
    trigger                 gg_trg_Quest_Defend_Discover = null
    trigger                 gg_trg_Quest_Defend_Completed = null
    trigger                 gg_trg_Quest_Defend_Failed = null
    trigger                 gg_trg_Mission_Failed_Base_Dead = null
    trigger                 gg_trg_Hint_Build_Event    = null
    trigger                 gg_trg_Hint_Build_Towers_Q = null
    trigger                 gg_trg_Hint_Train_Event    = null
    trigger                 gg_trg_Hint_Train_Engineers_Q = null
    trigger                 gg_trg_New_Unit_Tower3     = null
    trigger                 gg_trg_New_Unit_Tower4     = null
    trigger                 gg_trg_New_Unit_Tower5     = null
    trigger                 gg_trg_WARNING_Wave_Sent_Q = null
    trigger                 gg_trg_Victory_Portal_Dying = null
    trigger                 gg_trg_Victory_Final_Wave  = null
    trigger                 gg_trg_Defeat_Units_Dead   = null
    trigger                 gg_trg_Remove_Dead_From_Final_Wave_Group = null
    trigger                 gg_trg_Combat_Detected     = null
    trigger                 gg_trg_Combat_Resolved     = null
    trigger                 gg_trg_Time_Warning1       = null
    trigger                 gg_trg_Time_Warning1_Q     = null
    trigger                 gg_trg_Time_Warning2       = null
    trigger                 gg_trg_Time_Warning2_Q     = null
    trigger                 gg_trg_Release_The_Beasts  = null
    trigger                 gg_trg_Release_The_Beasts_Q = null
    trigger                 gg_trg_Portal_Attacked     = null
    trigger                 gg_trg_Portal_Attacked_1_Q = null
    trigger                 gg_trg_Portal_Attacked_2_Q = null
    trigger                 gg_trg_Portal_Attacked_3_Q = null
    trigger                 gg_trg_Vault1_Opened       = null
    trigger                 gg_trg_Vault1_Opened_Q     = null
    trigger                 gg_trg_Vault2_Opened       = null
    trigger                 gg_trg_Vault2_Opened_Q     = null
    trigger                 gg_trg_Vault3_Opened       = null
    trigger                 gg_trg_Vault3_Opened_Q     = null
    trigger                 gg_trg_Disable_Advanced_Towers = null
    trigger                 gg_trg_TowerType3_Enabled  = null
    trigger                 gg_trg_TowerType3_Enabled_Q = null
    trigger                 gg_trg_TowerType4_Enabled  = null
    trigger                 gg_trg_TowerType4_Enabled_Q = null
    trigger                 gg_trg_TowerType5_Enabled  = null
    trigger                 gg_trg_TowerType5_Enabled_Q = null
    trigger                 gg_trg_Start_Tower_Research = null
    trigger                 gg_trg_Finish_TowerType3   = null
    trigger                 gg_trg_Finish_TowerType4   = null
    trigger                 gg_trg_Finish_TowerType5   = null
    trigger                 gg_trg_Engineer_Dies       = null
    trigger                 gg_trg_Observatory_Vision  = null
    trigger                 gg_trg_Observatory_Dies    = null
    trigger                 gg_trg_Escape_Gold_Float_Text = null
    trigger                 gg_trg_Start_Exodus        = null
    trigger                 gg_trg_Escape_Spawn_Peasant = null
    trigger                 gg_trg_Escape_Spawn_Troop  = null
    trigger                 gg_trg_Escape_Path1A       = null
    trigger                 gg_trg_Escape_Path1B       = null
    trigger                 gg_trg_Escape_Path1C_Gold  = null
    trigger                 gg_trg_Escape_Path2A       = null
    trigger                 gg_trg_Escape_Path2B       = null
    trigger                 gg_trg_Escape_Path3A       = null
    trigger                 gg_trg_Escape_Path3B       = null
    trigger                 gg_trg_Escape_Path3C       = null
    trigger                 gg_trg_Escape_Portal_Tripwire = null
    trigger                 gg_trg_Escape_Effect       = null
    trigger                 gg_trg_Escape_Effect_01    = null
    trigger                 gg_trg_Escape_Effect_02    = null
    trigger                 gg_trg_Leaderboard_Create  = null
    trigger                 gg_trg_Leaderboard_Update  = null
    trigger                 gg_trg_Leaderboard_Update_Color_01 = null
    trigger                 gg_trg_Leaderboard_Update_Color_02 = null
    trigger                 gg_trg_Leaders_Drop_Gold   = null
    trigger                 gg_trg_No_Player_Units_May_Enter = null
    trigger                 gg_trg_No_Summoned_Units   = null
    trigger                 gg_trg_Wave_Data           = null
    trigger                 gg_trg_Wave_Units_01_to_05 = null
    trigger                 gg_trg_Wave_Units_06_to_10 = null
    trigger                 gg_trg_Wave_Units_11_to_15 = null
    trigger                 gg_trg_Wave_Units_16_to_20 = null
    trigger                 gg_trg_Wave_Units_21_to_25 = null
    trigger                 gg_trg_Wave_Units_26_to_30 = null
    trigger                 gg_trg_Wave_Timing         = null
    trigger                 gg_trg_Wave_Hero_01_MountainKing = null
    trigger                 gg_trg_Wave_Hero_02_Paladin = null
    trigger                 gg_trg_Wave_Hero_03_Archmage = null
    trigger                 gg_trg_Wave_Hero_04_MountainKing = null
    trigger                 gg_trg_Wave_Hero_05_Paladin = null
    trigger                 gg_trg_Wave_Hero_06_MountainKing = null
    trigger                 gg_trg_Wave_Hero_07_Archmage = null
    trigger                 gg_trg_Wave_Hero_08_Brewmaster = null
    trigger                 gg_trg_Spawn_Wave          = null
    trigger                 gg_trg_Spawn_Wave_Unit_Single = null
    trigger                 gg_trg_Spawn_Wave_Leader_Single = null
    trigger                 gg_trg_Spawn_Wave_Pathing_Disabler = null
    trigger                 gg_trg_Spawn_Wave_Redirect = null
    trigger                 gg_trg_Pick_Spawn_Points   = null
    trigger                 gg_trg_Pick_Attachment_Points = null
    trigger                 gg_trg_Wave_Events         = null
    trigger                 gg_trg_Send_Wave           = null
    trigger                 gg_trg_Calculate_Sending_Time = null
    trigger                 gg_trg_Attacker_Dies       = null
    trigger                 gg_trg_Calculate_Dying_Path_Target = null
    trigger                 gg_trg_Send_Zeppelin_Subspawn = null
    trigger                 gg_trg_Avatar_Check        = null
    trigger                 gg_trg_Reincarnation_Check = null
    trigger                 gg_trg_Path_Data           = null
    trigger                 gg_trg_Path_Reached_01     = null
    trigger                 gg_trg_Path_Reached_02     = null
    trigger                 gg_trg_Path_Reached_03     = null
    trigger                 gg_trg_Path_Reached_04     = null
    trigger                 gg_trg_Path_Reached_05     = null
    trigger                 gg_trg_Path_Reached_06     = null
    trigger                 gg_trg_Path_Reached_07     = null
    trigger                 gg_trg_Path_Reached_08     = null
    trigger                 gg_trg_Path_Reached_09     = null
    trigger                 gg_trg_Path_Reached_10     = null
    trigger                 gg_trg_Path_Reached_11     = null
    trigger                 gg_trg_Path_Reached_12     = null
    trigger                 gg_trg_Path_Reached_13     = null
    trigger                 gg_trg_Path_Reached_14     = null
    trigger                 gg_trg_Path_Reached_15     = null
    trigger                 gg_trg_Path_Reached_16     = null
    trigger                 gg_trg_Path_Reached_17     = null
    trigger                 gg_trg_Path_Reached_18     = null
    trigger                 gg_trg_Path_Reached_19     = null
    trigger                 gg_trg_Path_Reached_20     = null
    trigger                 gg_trg_Path_Reached_21     = null
    trigger                 gg_trg_Path_Reached_22     = null
    trigger                 gg_trg_Path_Reached_23     = null
    trigger                 gg_trg_Path_Reached_24     = null
    trigger                 gg_trg_Attacker_Reaches_Portal = null
    trigger                 gg_trg_Boom_Effect         = null
    trigger                 gg_trg_Quake_Shake         = null
    unit                    gg_unit_h004_0003          = null
    unit                    gg_unit_Hlgr_0001          = null
    unit                    gg_unit_n007_0125          = null
    unit                    gg_unit_h009_0007          = null
    unit                    gg_unit_n009_0077          = null
    unit                    gg_unit_n009_0076          = null
    unit                    gg_unit_n009_0030          = null
    unit                    gg_unit_n007_0121          = null
    unit                    gg_unit_ntt1_0089          = null
    unit                    gg_unit_n007_0083          = null
    unit                    gg_unit_n007_0119          = null
    unit                    gg_unit_nft1_0079          = null
    unit                    gg_unit_h000_0002          = null
    unit                    gg_unit_ndt1_0022          = null
    unit                    gg_unit_n007_0004          = null
    unit                    gg_unit_n007_0049          = null
    unit                    gg_unit_n007_0024          = null
    unit                    gg_unit_n007_0058          = null
    destructable            gg_dest_ATg1_0114          = null
    destructable            gg_dest_DTg3_0002          = null
    destructable            gg_dest_ATg1_0003          = null
    trigger                 gg_trg_Experience_Cap_Vashj = null
    trigger                 gg_trg_Experience_Cap_Kael = null
endglobals

function InitGlobals takes nothing returns nothing
    local integer i = 0
    set udg_AP1_Player = Player(0)
    set udg_ExpDisabledForKael = false
    set udg_ExpDisabledForVashj = false
    set udg_APG1_Player = bj_FORCE_PLAYER[0]
    set udg_IntroSkipped = false
    set udg_HiddenUnits = CreateGroup()
    set udg_GameOver = false
    set udg_VictorySkipped = false
    set udg_CombatCheckTimer = CreateTimer()
    set udg_InCinematic = false
    set udg_InCombat = false
    set udg_P02_Escapees = Player(1)
    set udg_DefendTimer = CreateTimer()
    set udg_PeasantTimer = CreateTimer()
    set udg_TimeWarning1Timer = CreateTimer()
    set udg_TimeWarning2Timer = CreateTimer()
    set udg_EnableTower3Timer = CreateTimer()
    set udg_EnableTower4Timer = CreateTimer()
    set udg_EnableTower5Timer = CreateTimer()
    set udg_ObservatoryVisionRadius = 7700.00
    set udg_VaultFoundTimer = CreateTimer()
    set udg_Vault01Done = false
    set udg_Vault02Done = false
    set udg_Vault03Done = false
    set udg_SpeakingDistance = 1500.00
    set udg_P07_HumansWave = Player(6)
    set udg_P06_HumansBase = Player(5)
    set udg_ExodusPeasants = CreateGroup()
    set udg_EngineerUnits = CreateGroup()
    set udg_TroopTimer = CreateTimer()
    set udg_ExodusTroops = CreateGroup()
    set udg_ExodusUnits = CreateGroup()
    set udg_EscapeEffectRecent = false
    set udg_EscapeEffect01Busy = false
    set udg_EscapeEffect02Busy = false
    set udg_TempInteger = 0
    set udg_ExodusMoveSpeed = 190.00
    set udg_minutes = 60.00
    set i = 0
    loop
        exitwhen (i > 40)
        set udg_WaveTimer[i] = CreateTimer()
        set i = i + 1
    endloop

    set udg_AttackingUnits = CreateGroup()
    set i = 0
    loop
        exitwhen (i > 24)
        set udg_WaitingArray[i] = null
        set i = i + 1
    endloop

    set udg_WaitingCount = 0
    set udg_BoomKillUnits = CreateGroup()
    set udg_PortalAttackedMessage = 0
    set i = 0
    loop
        exitwhen (i > 40)
        set udg_WaveUnitTypes[i] = 'hfoo'
        set i = i + 1
    endloop

    set i = 0
    loop
        exitwhen (i > 40)
        set udg_WaveUnitCounts[i] = 20
        set i = i + 1
    endloop

    set udg_Wave = 0
    set i = 0
    loop
        exitwhen (i > 40)
        set udg_WaveUnitSource[i] = 0
        set i = i + 1
    endloop

    set udg_SendingCount = 0
    set udg_Source1_Barracks = 1
    set udg_Source0_Castle = 0
    set udg_Source3_Aviary = 3
    set udg_Source4_MercCamp = 4
    set udg_N = 0
    set udg_TempReal = 0
    set udg_SpawnTime = 0
    set udg_SpawnTimePerUnit = 0
    set i = 0
    loop
        exitwhen (i > 40)
        set udg_WaveSendTime[i] = 0
        set i = i + 1
    endloop

    set udg_EnemyGateUsers = 0
    set i = 0
    loop
        exitwhen (i > 40)
        set udg_WaveLeaderTypes[i] = 'hfoo'
        set i = i + 1
    endloop

    set udg_Source2_Workshop = 2
    set udg_RedirectIndex = 0
    set udg_SendingIndex = 0
    set udg_SpawnIndex = 0
    set udg_SendingTimePerUnit = 0
    set udg_Source5_DragRoost = 5
    set udg_Source6_Beast = 6
    set udg_ZeppelinSpawns01 = 0
    set udg_HintBuildTimer = CreateTimer()
    set udg_HintTrainTimer = CreateTimer()
    set i = 0
    loop
        exitwhen (i > 30)
        set udg_UnitsOnPath[i] = CreateGroup()
        set i = i + 1
    endloop

    set udg_SubspawnIndex = 0
    set udg_PathTargets = 0
    set udg_DyingPathTarget = 0
    set i = 0
    loop
        exitwhen (i > 40)
        set udg_WaveAttach[i] = 0
        set i = i + 1
    endloop

    set udg_Attach1_HandLeft = 1
    set udg_Attach2_HandRight = 2
    set udg_Attach0_None = 0
    set udg_ExplosiveArt = ""
    set udg_Attach3_Base = 3
    set udg_AttachPoint = ""
    set udg_ZeppelinSpawns02 = 0
    set udg_PortalLeaderboardCreated = false
    set udg_BoomExplodeUnits = CreateGroup()
    set udg_PortalLifePercent = 0
    set udg_HandicapValue = 0
    set udg_PathIndex = 0
    set udg_HeroActiveHpal = false
    set udg_HeroActiveHamg = false
    set udg_HeroActiveHmkg = false
    set udg_EngineerWorkers = CreateGroup()
    set udg_ReleaseBeastsTimer = CreateTimer()
    set udg_CurrentWaveInt = 0
    set udg_FinalWaveGroup = CreateGroup()
    set udg_FinalWaveHighScore = 0
    set udg_HighScoreEasy = 0
    set udg_HighScoreNormal = 0
    set udg_HighScoreHard = 0
    set udg_ScoreScreenPlaying = false
    set udg_WavesRemainingInt = 30
    set udg_TempUnitGroup = CreateGroup()
    set udg_TempUnitGroup2 = CreateGroup()
    set udg_GoldDroppers = CreateGroup()
endfunction

//***************************************************************************
//*
//*  Unit Item Tables
//*
//***************************************************************************

function Unit000039_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'shar', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction


//***************************************************************************
//*
//*  Destructible Item Tables
//*
//***************************************************************************

function Doodad000164_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rres', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad000242_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'tdex', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad000243_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'pspd', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad000320_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rman', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad000321_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rat9', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad000325_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rman', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad000326_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rspd', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad000328_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rej5', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad000331_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'pghe', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad000336_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rspd', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad000337_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'sand', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad000342_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rde1', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad000345_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rlif', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction


//***************************************************************************
//*
//*  Sounds
//*
//***************************************************************************

function InitSounds takes nothing returns nothing
    set gg_snd_A04BloodElfEngineer49 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human04x\\A04BloodElfEngineer49.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A04BloodElfEngineer49, "A04BloodElfEngineer49" )
    call SetSoundDuration( gg_snd_A04BloodElfEngineer49, 3161 )
    set gg_snd_A04BloodElfEngineer50 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human04x\\A04BloodElfEngineer50.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A04BloodElfEngineer50, "A04BloodElfEngineer50" )
    call SetSoundDuration( gg_snd_A04BloodElfEngineer50, 3344 )
    set gg_snd_A04BloodElfEngineer51 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human04x\\A04BloodElfEngineer51.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A04BloodElfEngineer51, "A04BloodElfEngineer51" )
    call SetSoundDuration( gg_snd_A04BloodElfEngineer51, 4154 )
    set gg_snd_A04EngineerOne02 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human04x\\A04EngineerOne02.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A04EngineerOne02, "A04EngineerOne02" )
    call SetSoundDuration( gg_snd_A04EngineerOne02, 10344 )
    set gg_snd_A04Garithos05 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human04x\\A04Garithos05.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A04Garithos05, "A04Garithos05" )
    call SetSoundDuration( gg_snd_A04Garithos05, 11834 )
    set gg_snd_A04Garithos43 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human04x\\A04Garithos43.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A04Garithos43, "A04Garithos43" )
    call SetSoundDuration( gg_snd_A04Garithos43, 2560 )
    set gg_snd_A04Garithos44 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human04x\\A04Garithos44.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A04Garithos44, "A04Garithos44" )
    call SetSoundDuration( gg_snd_A04Garithos44, 2821 )
    set gg_snd_A04Garithos46 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human04x\\A04Garithos46.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A04Garithos46, "A04Garithos46" )
    call SetSoundDuration( gg_snd_A04Garithos46, 4545 )
    set gg_snd_A04Garithos47 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human04x\\A04Garithos47.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A04Garithos47, "A04Garithos47" )
    call SetSoundDuration( gg_snd_A04Garithos47, 2717 )
    set gg_snd_A04Kael01 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human04x\\A04Kael01.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A04Kael01, "A04Kael01" )
    call SetSoundDuration( gg_snd_A04Kael01, 4571 )
    set gg_snd_A04Kael03 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human04x\\A04Kael03.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A04Kael03, "A04Kael03" )
    call SetSoundDuration( gg_snd_A04Kael03, 1776 )
    set gg_snd_A04Kael07 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human04x\\A04Kael07.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A04Kael07, "A04Kael07" )
    call SetSoundDuration( gg_snd_A04Kael07, 7523 )
    set gg_snd_A04Kael16 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human04x\\A04Kael16.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A04Kael16, "A04Kael16" )
    call SetSoundDuration( gg_snd_A04Kael16, 1959 )
    set gg_snd_A04Kael17 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human04x\\A04Kael17.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A04Kael17, "A04Kael17" )
    call SetSoundDuration( gg_snd_A04Kael17, 2612 )
    set gg_snd_A04Kael18 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human04x\\A04Kael18.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A04Kael18, "A04Kael18" )
    call SetSoundDuration( gg_snd_A04Kael18, 4180 )
    set gg_snd_A04Kael32 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human04x\\A04Kael32.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A04Kael32, "A04Kael32" )
    call SetSoundDuration( gg_snd_A04Kael32, 2560 )
    set gg_snd_A04LadyVashj04 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human04x\\A04LadyVashj04.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A04LadyVashj04, "A04LadyVashj04" )
    call SetSoundDuration( gg_snd_A04LadyVashj04, 4571 )
    set gg_snd_A04LadyVashj06 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human04x\\A04LadyVashj06.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A04LadyVashj06, "A04LadyVashj06" )
    call SetSoundDuration( gg_snd_A04LadyVashj06, 4806 )
    set gg_snd_A04LadyVashj08 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human04x\\A04LadyVashj08.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A04LadyVashj08, "A04LadyVashj08" )
    call SetSoundDuration( gg_snd_A04LadyVashj08, 4859 )
    set gg_snd_A04LadyVashj19 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human04x\\A04LadyVashj19.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A04LadyVashj19, "A04LadyVashj19" )
    call SetSoundDuration( gg_snd_A04LadyVashj19, 3683 )
    set gg_snd_A04LadyVashj20 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human04x\\A04LadyVashj20.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A04LadyVashj20, "A04LadyVashj20" )
    call SetSoundDuration( gg_snd_A04LadyVashj20, 1515 )
    set gg_snd_A04LadyVashj21 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human04x\\A04LadyVashj21.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A04LadyVashj21, "A04LadyVashj21" )
    call SetSoundDuration( gg_snd_A04LadyVashj21, 2926 )
    set gg_snd_A04LadyVashj22 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human04x\\A04LadyVashj22.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A04LadyVashj22, "A04LadyVashj22" )
    call SetSoundDuration( gg_snd_A04LadyVashj22, 5251 )
    set gg_snd_A04LadyVashj25 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human04x\\A04LadyVashj25.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A04LadyVashj25, "A04LadyVashj25" )
    call SetSoundDuration( gg_snd_A04LadyVashj25, 5068 )
    set gg_snd_A04LadyVashj31 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human04x\\A04LadyVashj31.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A04LadyVashj31, "A04LadyVashj31" )
    call SetSoundDuration( gg_snd_A04LadyVashj31, 4728 )
    set gg_snd_A04LadyVashj33 = CreateSound( "Sound\\Dialogue\\HumanExpCamp\\Human04x\\A04LadyVashj33.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_A04LadyVashj33, "A04LadyVashj33" )
    call SetSoundDuration( gg_snd_A04LadyVashj33, 5878 )
    set gg_snd_BuildingDeathSmallHuman = CreateSound( "Sound\\Buildings\\Death\\BuildingDeathSmallHuman.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_BuildingDeathSmallHuman, "RockWallDeath" )
    call SetSoundDuration( gg_snd_BuildingDeathSmallHuman, 2368 )
    set gg_snd_ShimmeringPortalBirth = CreateSound( "Sound\\Ambient\\DoodadEffects\\ShimmeringPortalBirth.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_ShimmeringPortalBirth, "ShimmeringPortalBirth" )
    call SetSoundDuration( gg_snd_ShimmeringPortalBirth, 8529 )
    set gg_snd_ShimmeringPortalEntrance = CreateSound( "Sound\\Ambient\\DoodadEffects\\ShimmeringPortalEntrance.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_ShimmeringPortalEntrance, "EnterShimmeringPortal" )
    call SetSoundDuration( gg_snd_ShimmeringPortalEntrance, 1829 )
    set gg_snd_ShimmeringPortalDeath = CreateSound( "Sound\\Ambient\\DoodadEffects\\ShimmeringPortalDeath.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_ShimmeringPortalDeath, "ShimmeringPortalDeath" )
    call SetSoundDuration( gg_snd_ShimmeringPortalDeath, 4783 )
    set gg_snd_RunesGlow = CreateSound( "Sound\\Ambient\\DoodadEffects\\RunesGlow.wav", true, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_RunesGlow, "RunesGlowLoop" )
    call SetSoundDuration( gg_snd_RunesGlow, 5000 )
    set gg_snd_WaterLakeLoop1 = CreateSound( "Sound\\Ambient\\DoodadEffects\\WaterLakeLoop1.wav", true, true, true, 10, 10, "DoodadsEAX" )
    call SetSoundParamsFromLabel( gg_snd_WaterLakeLoop1, "LakeLoop" )
    call SetSoundDuration( gg_snd_WaterLakeLoop1, 3297 )
    set gg_snd_CityScapeMagicRunesLoop1 = CreateSound( "Sound\\Ambient\\DoodadEffects\\CityScapeMagicRunesLoop1.wav", true, true, true, 10, 10, "DoodadsEAX" )
    call SetSoundParamsFromLabel( gg_snd_CityScapeMagicRunesLoop1, "MagicRunesLoop" )
    call SetSoundDuration( gg_snd_CityScapeMagicRunesLoop1, 1149 )
    set gg_snd_EarthquakeLoop1 = CreateSound( "Abilities\\Spells\\Orc\\Earthquake\\EarthquakeLoop1.wav", true, true, true, 10, 10, "SpellsEAX" )
    call SetSoundParamsFromLabel( gg_snd_EarthquakeLoop1, "EarthquakeLoop" )
    call SetSoundDuration( gg_snd_EarthquakeLoop1, 1962 )
    set gg_snd_LargeCityGateOpen1 = CreateSound( "Sound\\Ambient\\DoodadEffects\\LargeCityGateOpen1.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_LargeCityGateOpen1, "GateOpenSound" )
    call SetSoundDuration( gg_snd_LargeCityGateOpen1, 1445 )
    set gg_snd_ShimmeringPortalEntrance01 = CreateSound( "Sound\\Ambient\\DoodadEffects\\ShimmeringPortalEntrance.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_ShimmeringPortalEntrance01, "EnterShimmeringPortal" )
    call SetSoundDuration( gg_snd_ShimmeringPortalEntrance01, 1829 )
    set gg_snd_ShimmeringPortalEntrance02 = CreateSound( "Sound\\Ambient\\DoodadEffects\\ShimmeringPortalEntrance.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_ShimmeringPortalEntrance02, "EnterShimmeringPortal" )
    call SetSoundDuration( gg_snd_ShimmeringPortalEntrance02, 1829 )
    set gg_snd_PandarenBrewmasterPissed3 = CreateSound( "Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed3.wav", false, false, true, 10, 10, "HeroAcksEAX" )
    call SetSoundParamsFromLabel( gg_snd_PandarenBrewmasterPissed3, "PandarenBrewmasterPissed" )
    call SetSoundDuration( gg_snd_PandarenBrewmasterPissed3, 2139 )
    set gg_snd_PandarenBrewmasterPissed8 = CreateSound( "Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed8.wav", false, false, true, 10, 10, "HeroAcksEAX" )
    call SetSoundParamsFromLabel( gg_snd_PandarenBrewmasterPissed8, "PandarenBrewmasterPissed" )
    call SetSoundDuration( gg_snd_PandarenBrewmasterPissed8, 1651 )
    set gg_snd_PandarenBrewmasterYesAttack3 = CreateSound( "Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterYesAttack3.wav", false, false, true, 10, 10, "HeroAcksEAX" )
    call SetSoundParamsFromLabel( gg_snd_PandarenBrewmasterYesAttack3, "PandarenBrewmasterYesAttack" )
    call SetSoundDuration( gg_snd_PandarenBrewmasterYesAttack3, 2368 )
endfunction

//***************************************************************************
//*
//*  Destructable Objects
//*
//***************************************************************************

function CreateAllDestructables takes nothing returns nothing
    local destructable d
    local trigger t
    local real life
    set gg_dest_ATg1_0003 = CreateDestructable( 'ATg1', 0.0, -3328.0, 270.000, 0.900, 0 )
    set gg_dest_ATg1_0114 = CreateDestructable( 'ATg1', 0.0, 5184.0, 270.000, 0.900, 0 )
    set gg_dest_DTg3_0002 = CreateDestructable( 'DTg3', 1728.0, -4864.0, 0.000, 0.900, 0 )
    set d = CreateDestructable( 'LTbr', 2336.0, 3424.0, 227.000, 1.415, 0 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, d )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad000342_DropItems )
    set d = CreateDestructable( 'LTbs', -2592.0, 1056.0, 109.000, 1.390, 0 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, d )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad000243_DropItems )
    set d = CreateDestructable( 'LTbs', 2080.0, 160.0, 282.000, 1.131, 0 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, d )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad000326_DropItems )
    set d = CreateDestructable( 'LTbs', -2528.0, 288.0, 0.000, 1.497, 0 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, d )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad000336_DropItems )
    set d = CreateDestructable( 'LTbs', 2912.0, 5792.0, 44.000, 1.259, 0 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, d )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad000345_DropItems )
    set d = CreateDestructable( 'LTbs', -1952.0, -2336.0, 183.000, 1.187, 0 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, d )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad000242_DropItems )
    set d = CreateDestructable( 'LTbx', 2016.0, 224.0, 144.000, 1.364, 0 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, d )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad000325_DropItems )
    set d = CreateDestructable( 'LTbx', 2336.0, -992.0, 27.000, 1.234, 0 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, d )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad000328_DropItems )
    set d = CreateDestructable( 'LTcr', 0.0, 1536.0, 247.000, 0.866, 0 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, d )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad000321_DropItems )
    set d = CreateDestructable( 'LTcr', -2944.0, 2176.0, 185.000, 0.917, 1 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, d )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad000337_DropItems )
    set d = CreateDestructable( 'LTcr', -1984.0, 4224.0, 105.000, 0.962, 0 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, d )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad000320_DropItems )
    set d = CreateDestructable( 'LTcr', -64.0, 3648.0, 109.000, 0.921, 1 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, d )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad000164_DropItems )
    set d = CreateDestructable( 'LTcr', -3008.0, -576.0, 280.000, 1.040, 1 )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, d )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad000331_DropItems )
endfunction

//***************************************************************************
//*
//*  Unit Creation
//*
//***************************************************************************

//===========================================================================
function CreateBuildingsForPlayer0 takes nothing returns nothing
    local player p = Player(0)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_h004_0003 = CreateUnit( p, 'h004', -448.0, -2752.0, 270.000 )
    set u = CreateUnit( p, 'halt', 480.0, -2720.0, 270.000 )
endfunction

//===========================================================================
function CreateUnitsForPlayer0 takes nothing returns nothing
    local player p = Player(0)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_h000_0002 = CreateUnit( p, 'h000', 1.0, -1971.8, 270.000 )
    set gg_unit_n007_0024 = CreateUnit( p, 'n007', 503.1, 2206.7, 153.044 )
    set gg_unit_n007_0058 = CreateUnit( p, 'n007', 320.2, 2214.5, 11.756 )
endfunction

//===========================================================================
function CreateBuildingsForPlayer1 takes nothing returns nothing
    local player p = Player(1)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'nbt1', -1600.0, -4480.0, 270.000 )
    set gg_unit_ndt1_0022 = CreateUnit( p, 'ndt1', -1408.0, -4864.0, 270.000 )
    set gg_unit_nft1_0079 = CreateUnit( p, 'nft1', -1600.0, -5184.0, 270.000 )
    set gg_unit_ntt1_0089 = CreateUnit( p, 'ntt1', -2048.0, -4992.0, 270.000 )
    set u = CreateUnit( p, 'net1', -1216.0, -4544.0, 270.000 )
endfunction

//===========================================================================
function CreateUnitsForPlayer1 takes nothing returns nothing
    local player p = Player(1)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_n007_0004 = CreateUnit( p, 'n007', -1696.4, -5147.6, 342.765 )
    set gg_unit_n007_0049 = CreateUnit( p, 'n007', -2010.9, -5270.8, 61.434 )
    set gg_unit_n007_0083 = CreateUnit( p, 'n007', -1508.6, -5155.8, 205.515 )
    set gg_unit_n007_0119 = CreateUnit( p, 'n007', -1328.2, -5069.7, 198.867 )
    set gg_unit_n007_0121 = CreateUnit( p, 'n007', -1607.2, -5278.8, 93.605 )
    set gg_unit_n007_0125 = CreateUnit( p, 'n007', -1662.8, -4650.2, 219.277 )
endfunction

//===========================================================================
function CreateBuildingsForPlayer5 takes nothing returns nothing
    local player p = Player(5)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'hgtw', 2752.0, 6272.0, 270.000 )
    set u = CreateUnit( p, 'hctw', -576.0, 5376.0, 270.000 )
    set u = CreateUnit( p, 'hgtw', 768.0, 5824.0, 270.000 )
    set u = CreateUnit( p, 'hgtw', -1600.0, 6272.0, 270.000 )
    set u = CreateUnit( p, 'hgtw', -2752.0, 6272.0, 270.000 )
    set u = CreateUnit( p, 'hgtw', -2368.0, 6272.0, 270.000 )
    set u = CreateUnit( p, 'hgtw', 896.0, 5440.0, 270.000 )
    set u = CreateUnit( p, 'hctw', 768.0, 5952.0, 270.000 )
    set u = CreateUnit( p, 'hctw', 576.0, 5376.0, 270.000 )
    set u = CreateUnit( p, 'hgtw', -768.0, 5824.0, 270.000 )
    set u = CreateUnit( p, 'hgtw', -896.0, 5440.0, 270.000 )
    set u = CreateUnit( p, 'hgtw', 576.0, 6464.0, 270.000 )
    set u = CreateUnit( p, 'hgtw', -576.0, 6464.0, 270.000 )
    set u = CreateUnit( p, 'hgtw', -1216.0, 6272.0, 270.000 )
    set u = CreateUnit( p, 'hgtw', 576.0, 7488.0, 270.000 )
    set u = CreateUnit( p, 'hgtw', -576.0, 7488.0, 270.000 )
    set u = CreateUnit( p, 'hgtw', 896.0, 7488.0, 270.000 )
    set u = CreateUnit( p, 'hgtw', 1600.0, 6272.0, 270.000 )
    set u = CreateUnit( p, 'hgtw', -896.0, 7488.0, 270.000 )
    set u = CreateUnit( p, 'hctw', -768.0, 5952.0, 270.000 )
    set u = CreateUnit( p, 'hcas', 0.0, 8320.0, 270.000 )
    set u = CreateUnit( p, 'hhou', -1792.0, 8384.0, 270.000 )
    set u = CreateUnit( p, 'hhou', -1792.0, 8192.0, 270.000 )
    set u = CreateUnit( p, 'hgra', 640.0, 8384.0, 270.000 )
    set u = CreateUnit( p, 'hgtw', 1216.0, 6272.0, 270.000 )
    set u = CreateUnit( p, 'hvlt', 1728.0, 7232.0, 270.000 )
    set u = CreateUnit( p, 'hhou', -1664.0, 8384.0, 270.000 )
    set u = CreateUnit( p, 'hhou', -1664.0, 8192.0, 270.000 )
    set u = CreateUnit( p, 'harm', -1664.0, 7616.0, 270.000 )
    set u = CreateUnit( p, 'hbar', 1344.0, 7424.0, 270.000 )
    set u = CreateUnit( p, 'hbar', -1280.0, 7360.0, 270.000 )
    set u = CreateUnit( p, 'hlum', 1824.0, 7648.0, 270.000 )
    set u = CreateUnit( p, 'hctw', -2752.0, 6976.0, 270.000 )
    set u = CreateUnit( p, 'hhou', 1792.0, 8384.0, 270.000 )
    set u = CreateUnit( p, 'hhou', 1792.0, 8256.0, 270.000 )
    set u = CreateUnit( p, 'hgtw', -2752.0, 6592.0, 270.000 )
    set u = CreateUnit( p, 'hbla', -1344.0, 8448.0, 270.000 )
    set u = CreateUnit( p, 'hvlt', -1728.0, 7168.0, 270.000 )
    set u = CreateUnit( p, 'hctw', -2752.0, 8128.0, 270.000 )
    set u = CreateUnit( p, 'hgtw', 2368.0, 6272.0, 270.000 )
    set u = CreateUnit( p, 'hctw', 1984.0, 6272.0, 270.000 )
    set u = CreateUnit( p, 'hctw', -1984.0, 6272.0, 270.000 )
    set u = CreateUnit( p, 'hctw', 2752.0, 6976.0, 270.000 )
    set u = CreateUnit( p, 'hctw', 2752.0, 8128.0, 270.000 )
    set u = CreateUnit( p, 'hgtw', 384.0, 8064.0, 270.000 )
    set u = CreateUnit( p, 'hgtw', 2752.0, 8512.0, 270.000 )
    set u = CreateUnit( p, 'hgtw', -384.0, 8064.0, 270.000 )
    set u = CreateUnit( p, 'hatw', -448.0, 5376.0, 270.000 )
    set u = CreateUnit( p, 'halt', -544.0, 8352.0, 270.000 )
    set u = CreateUnit( p, 'hgtw', -2752.0, 7360.0, 270.000 )
    set u = CreateUnit( p, 'hatw', 448.0, 5376.0, 270.000 )
    set u = CreateUnit( p, 'hhou', 1920.0, 8320.0, 270.000 )
    set u = CreateUnit( p, 'hhou', 1920.0, 8192.0, 270.000 )
    set u = CreateUnit( p, 'hgtw', 2752.0, 7744.0, 270.000 )
    set u = CreateUnit( p, 'hgtw', 2752.0, 7360.0, 270.000 )
    set u = CreateUnit( p, 'hgtw', 2752.0, 6592.0, 270.000 )
    set u = CreateUnit( p, 'hgtw', -2752.0, 7744.0, 270.000 )
    set u = CreateUnit( p, 'hgtw', -2752.0, 8512.0, 270.000 )
endfunction

//===========================================================================
function CreateUnitsForPlayer5 takes nothing returns nothing
    local player p = Player(5)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_Hlgr_0001 = CreateUnit( p, 'Hlgr', -19.3, 7936.3, 314.230 )
    call SetHeroLevel( gg_unit_Hlgr_0001, 5, false )
    set u = CreateUnit( p, 'hkni', 280.4, 8197.5, 229.643 )
    set u = CreateUnit( p, 'hkni', -216.1, 7929.9, 316.150 )
endfunction

//===========================================================================
function CreateNeutralPassiveBuildings takes nothing returns nothing
    local player p = Player(PLAYER_NEUTRAL_PASSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_h009_0007 = CreateUnit( p, 'h009', 64.0, 960.0, 270.000 )
    set u = CreateUnit( p, 'n00A', 256.0, 7296.0, 270.000 )
    set u = CreateUnit( p, 'n00A', -256.0, 7296.0, 270.000 )
    set u = CreateUnit( p, 'nmoo', -768.0, 1088.0, 270.000 )
    set gg_unit_n009_0030 = CreateUnit( p, 'n009', -1792.0, -3456.0, 270.000 )
    set u = CreateUnit( p, 'n00C', 1536.0, 8192.0, 270.000 )
    set u = CreateUnit( p, 'ngme', -2816.0, -896.0, 270.000 )
    set u = CreateUnit( p, 'nwc1', 2752.0, -320.0, 270.000 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_CHANGE_OWNER )
    call TriggerAddAction( t, function Unit000039_DropItems )
    set gg_unit_n009_0076 = CreateUnit( p, 'n009', 1280.0, 3904.0, 270.000 )
    set gg_unit_n009_0077 = CreateUnit( p, 'n009', 3072.0, 1280.0, 270.000 )
endfunction

//===========================================================================
function CreatePlayerBuildings takes nothing returns nothing
    call CreateBuildingsForPlayer0(  )
    call CreateBuildingsForPlayer1(  )
    call CreateBuildingsForPlayer5(  )
endfunction

//===========================================================================
function CreatePlayerUnits takes nothing returns nothing
    call CreateUnitsForPlayer0(  )
    call CreateUnitsForPlayer1(  )
    call CreateUnitsForPlayer5(  )
endfunction

//===========================================================================
function CreateAllUnits takes nothing returns nothing
    call CreateNeutralPassiveBuildings(  )
    call CreatePlayerBuildings(  )
    call CreatePlayerUnits(  )
endfunction

//***************************************************************************
//*
//*  Regions
//*
//***************************************************************************

function CreateRegions takes nothing returns nothing
    local weathereffect we

    set gg_rct_Attack_Target = Rect( -96.0, -2016.0, 96.0, -1888.0 )
    set gg_rct_Engineer_Pit = Rect( -2432.0, -5376.0, -896.0, -4224.0 )
    set gg_rct_EPitTower3_Worker01 = Rect( -1728.0, -5184.0, -1664.0, -5120.0 )
    set gg_rct_EPitTower3_Worker02 = Rect( -1632.0, -5312.0, -1568.0, -5248.0 )
    set gg_rct_EPitTower3_Worker03 = Rect( -1536.0, -5184.0, -1472.0, -5120.0 )
    set gg_rct_EPitTower4_Worker01 = Rect( -1536.0, -4864.0, -1472.0, -4800.0 )
    set gg_rct_EPitTower4_Worker02 = Rect( -1440.0, -4992.0, -1376.0, -4928.0 )
    set gg_rct_EPitTower4_Worker03 = Rect( -1344.0, -4864.0, -1280.0, -4800.0 )
    set gg_rct_EPitTower5_Worker01 = Rect( -2176.0, -4992.0, -2112.0, -4928.0 )
    set gg_rct_EPitTower5_Worker02 = Rect( -2080.0, -5120.0, -2016.0, -5056.0 )
    set gg_rct_EPitTower5_Worker03 = Rect( -1984.0, -4992.0, -1920.0, -4928.0 )
    set gg_rct_Escape_Path1A = Rect( -64.0, -4992.0, 64.0, -4864.0 )
    set gg_rct_Escape_Path1B = Rect( -160.0, -3680.0, -32.0, -3552.0 )
    set gg_rct_Escape_Path1C = Rect( -384.0, -2848.0, -256.0, -2720.0 )
    set gg_rct_Escape_Path2A = Rect( -256.0, -4864.0, -128.0, -4736.0 )
    set gg_rct_Escape_Path2B = Rect( -96.0, -3616.0, 32.0, -3488.0 )
    set gg_rct_Escape_Path3A = Rect( 64.0, -4864.0, 192.0, -4736.0 )
    set gg_rct_Escape_Path3B = Rect( 0.0, -3808.0, 128.0, -3680.0 )
    set gg_rct_Escape_Path3C = Rect( -160.0, -2880.0, -32.0, -2752.0 )
    set gg_rct_Escape_Portal_Target = Rect( -96.0, -2048.0, 96.0, -1824.0 )
    set gg_rct_Escape_Portal_Tripwire = Rect( -64.0, -2016.0, 64.0, -1888.0 )
    set gg_rct_Exodus_Peasant_Spawn = Rect( 1696.0, -4960.0, 1824.0, -4832.0 )
    set gg_rct_Exodus_Troop_Spawn = Rect( 1696.0, -4832.0, 1824.0, -4704.0 )
    set gg_rct_Explosives_Face_Target = Rect( -64.0, 6624.0, 64.0, 6752.0 )
    set gg_rct_Gameplay_Kael_Start = Rect( 320.0, 1760.0, 448.0, 1888.0 )
    set gg_rct_Gameplay_Vashj_Start = Rect( 512.0, 1760.0, 640.0, 1888.0 )
    set gg_rct_Intro_Kael_Start = Rect( 1024.0, -5024.0, 1152.0, -4896.0 )
    set gg_rct_Intro_Vashj_Start = Rect( 1152.0, -4896.0, 1280.0, -4768.0 )
    set gg_rct_Path_Target_01 = Rect( -64.0, 5248.0, 64.0, 5376.0 )
    set gg_rct_Path_Target_02 = Rect( -96.0, 4000.0, 96.0, 4128.0 )
    set gg_rct_Path_Target_03 = Rect( -1248.0, 4000.0, -1120.0, 4192.0 )
    set gg_rct_Path_Target_04 = Rect( -1184.0, 2976.0, -992.0, 3104.0 )
    set gg_rct_Path_Target_05 = Rect( 192.0, 3040.0, 320.0, 3232.0 )
    set gg_rct_Path_Target_06 = Rect( 1440.0, 3040.0, 1568.0, 3232.0 )
    set gg_rct_Path_Target_07 = Rect( 1376.0, 2080.0, 1568.0, 2208.0 )
    set gg_rct_Path_Target_08 = Rect( 992.0, 2144.0, 1120.0, 2336.0 )
    set gg_rct_Path_Target_09 = Rect( 1056.0, 1696.0, 1248.0, 1824.0 )
    set gg_rct_Path_Target_10 = Rect( 224.0, 1760.0, 352.0, 1952.0 )
    set gg_rct_Path_Target_11 = Rect( 288.0, 2272.0, 480.0, 2400.0 )
    set gg_rct_Path_Target_12 = Rect( -800.0, 2144.0, -672.0, 2336.0 )
    set gg_rct_Path_Target_13 = Rect( -736.0, 1440.0, -544.0, 1568.0 )
    set gg_rct_Path_Target_14 = Rect( -2016.0, 1504.0, -1888.0, 1696.0 )
    set gg_rct_Path_Target_15 = Rect( -1952.0, 224.0, -1760.0, 352.0 )
    set gg_rct_Path_Target_16 = Rect( -1312.0, 352.0, -1184.0, 544.0 )
    set gg_rct_Path_Target_17 = Rect( -1440.0, -480.0, -1248.0, -352.0 )
    set gg_rct_Path_Target_18 = Rect( -416.0, -416.0, -288.0, -224.0 )
    set gg_rct_Path_Target_19 = Rect( -544.0, 192.0, -352.0, 320.0 )
    set gg_rct_Path_Target_20 = Rect( 128.0, 32.0, 256.0, 224.0 )
    set gg_rct_Path_Target_21 = Rect( 576.0, -160.0, 704.0, 32.0 )
    set gg_rct_Path_Target_22 = Rect( 1152.0, -192.0, 1280.0, 0.0 )
    set gg_rct_Path_Target_23 = Rect( 1056.0, -1376.0, 1248.0, -1248.0 )
    set gg_rct_Path_Target_24 = Rect( -160.0, -1312.0, -32.0, -1120.0 )
    set gg_rct_Path_Tripwire_01 = Rect( -128.0, 5248.0, 128.0, 5376.0 )
    set gg_rct_Path_Tripwire_02 = Rect( -192.0, 3936.0, 192.0, 4192.0 )
    set gg_rct_Path_Tripwire_03 = Rect( -1312.0, 3904.0, -1056.0, 4288.0 )
    set gg_rct_Path_Tripwire_04 = Rect( -1280.0, 2912.0, -896.0, 3168.0 )
    set gg_rct_Path_Tripwire_05 = Rect( 128.0, 2944.0, 384.0, 3328.0 )
    set gg_rct_Path_Tripwire_06 = Rect( 1376.0, 2944.0, 1632.0, 3328.0 )
    set gg_rct_Path_Tripwire_07 = Rect( 1280.0, 2016.0, 1664.0, 2272.0 )
    set gg_rct_Path_Tripwire_08 = Rect( 928.0, 2048.0, 1184.0, 2432.0 )
    set gg_rct_Path_Tripwire_09 = Rect( 960.0, 1632.0, 1344.0, 1888.0 )
    set gg_rct_Path_Tripwire_10 = Rect( 160.0, 1664.0, 416.0, 2048.0 )
    set gg_rct_Path_Tripwire_11 = Rect( 192.0, 2208.0, 576.0, 2464.0 )
    set gg_rct_Path_Tripwire_12 = Rect( -864.0, 2048.0, -608.0, 2432.0 )
    set gg_rct_Path_Tripwire_13 = Rect( -832.0, 1376.0, -448.0, 1632.0 )
    set gg_rct_Path_Tripwire_14 = Rect( -2080.0, 1408.0, -1824.0, 1792.0 )
    set gg_rct_Path_Tripwire_15 = Rect( -2048.0, 160.0, -1664.0, 416.0 )
    set gg_rct_Path_Tripwire_16 = Rect( -1376.0, 256.0, -1120.0, 640.0 )
    set gg_rct_Path_Tripwire_17 = Rect( -1536.0, -544.0, -1152.0, -288.0 )
    set gg_rct_Path_Tripwire_18 = Rect( -480.0, -512.0, -224.0, -128.0 )
    set gg_rct_Path_Tripwire_19 = Rect( -640.0, 128.0, -256.0, 384.0 )
    set gg_rct_Path_Tripwire_20 = Rect( 64.0, -64.0, 320.0, 320.0 )
    set gg_rct_Path_Tripwire_21 = Rect( 512.0, -256.0, 768.0, 128.0 )
    set gg_rct_Path_Tripwire_22 = Rect( 1088.0, -288.0, 1344.0, 96.0 )
    set gg_rct_Path_Tripwire_23 = Rect( 960.0, -1440.0, 1344.0, -1184.0 )
    set gg_rct_Path_Tripwire_24 = Rect( -224.0, -1408.0, 32.0, -1024.0 )
    set gg_rct_Pathing_Disabler = Rect( -384.0, 6464.0, 384.0, 6784.0 )
    set gg_rct_Source_Altar = Rect( -736.0, 8128.0, -608.0, 8256.0 )
    set gg_rct_Source0_Castle_Left = Rect( -256.0, 8032.0, -128.0, 8160.0 )
    set gg_rct_Source0_Castle_Right = Rect( 128.0, 8032.0, 256.0, 8160.0 )
    set gg_rct_Source1_Barracks_Left = Rect( -1184.0, 7168.0, -1056.0, 7296.0 )
    set gg_rct_Source1_Barracks_Right = Rect( 1120.0, 7232.0, 1248.0, 7360.0 )
    set gg_rct_Source2_Workshop_Left = Rect( -1696.0, 7392.0, -1568.0, 7520.0 )
    set gg_rct_Source2_Workshop_Right = Rect( -1568.0, 7616.0, -1440.0, 7744.0 )
    set gg_rct_Source3_Aviary_Left = Rect( 416.0, 8224.0, 544.0, 8352.0 )
    set gg_rct_Source3_Aviary_Right = Rect( 704.0, 8160.0, 832.0, 8288.0 )
    set gg_rct_Source4_Merc_Left = Rect( -352.0, 7072.0, -224.0, 7200.0 )
    set gg_rct_Source4_Merc_Right = Rect( 256.0, 7072.0, 384.0, 7200.0 )
    set gg_rct_Source5_Drag_Left = Rect( 1248.0, 7968.0, 1376.0, 8096.0 )
    set gg_rct_Source5_Drag_Right = Rect( 1600.0, 7904.0, 1728.0, 8032.0 )
    set gg_rct_Source6_Beasts_Left = Rect( -1632.0, 7040.0, -1504.0, 7168.0 )
    set gg_rct_Source6_Beasts_Right = Rect( 1504.0, 7104.0, 1632.0, 7232.0 )
    set gg_rct_Starting_Tower_01 = Rect( 64.0, 1856.0, 192.0, 1984.0 )
    set gg_rct_Starting_Tower_02 = Rect( 576.0, 2112.0, 704.0, 2240.0 )
    set gg_rct_TownHall = Rect( -640.0, -2944.0, -256.0, -2560.0 )
    set gg_rct_Vault_01 = Rect( -1920.0, -3584.0, -1664.0, -3328.0 )
    set gg_rct_Vault_02 = Rect( 1152.0, 3776.0, 1408.0, 4032.0 )
    set gg_rct_Vault_03 = Rect( 2944.0, 1184.0, 3200.0, 1440.0 )
    set gg_rct_Vault_Early_TripwireA = Rect( -2816.0, -3712.0, -1536.0, -2816.0 )
    set gg_rct_Vault_Early_TripwireB = Rect( 768.0, 3712.0, 2688.0, 4224.0 )
    set gg_rct_Vault_Early_TripwireC = Rect( 2432.0, 1024.0, 3328.0, 2176.0 )
    set gg_rct_Victory_Kael_Start = Rect( 0.0, -1216.0, 128.0, -1088.0 )
    set gg_rct_Victory_Vashj_Start = Rect( -352.0, -1824.0, -224.0, -1696.0 )
    set gg_rct_Waiting_Leader_Spot = Rect( -64.0, 5440.0, 64.0, 5568.0 )
    set gg_rct_Waiting_Redirect_01_Left = Rect( -192.0, 6592.0, -64.0, 6720.0 )
    set gg_rct_Waiting_Redirect_01_Right = Rect( 64.0, 6592.0, 192.0, 6720.0 )
    set gg_rct_Waiting_Unit_Spot_01 = Rect( -128.0, 5568.0, 0.0, 5696.0 )
    set gg_rct_Waiting_Unit_Spot_02 = Rect( 0.0, 5568.0, 128.0, 5696.0 )
    set gg_rct_Waiting_Unit_Spot_03 = Rect( -256.0, 5568.0, -128.0, 5696.0 )
    set gg_rct_Waiting_Unit_Spot_04 = Rect( 128.0, 5568.0, 256.0, 5696.0 )
    set gg_rct_Waiting_Unit_Spot_05 = Rect( -128.0, 5696.0, 0.0, 5824.0 )
    set gg_rct_Waiting_Unit_Spot_06 = Rect( 0.0, 5696.0, 128.0, 5824.0 )
    set gg_rct_Waiting_Unit_Spot_07 = Rect( -256.0, 5696.0, -128.0, 5824.0 )
    set gg_rct_Waiting_Unit_Spot_08 = Rect( 128.0, 5696.0, 256.0, 5824.0 )
    set gg_rct_Waiting_Unit_Spot_09 = Rect( -128.0, 5824.0, 0.0, 5952.0 )
    set gg_rct_Waiting_Unit_Spot_10 = Rect( 0.0, 5824.0, 128.0, 5952.0 )
    set gg_rct_Waiting_Unit_Spot_11 = Rect( -256.0, 5824.0, -128.0, 5952.0 )
    set gg_rct_Waiting_Unit_Spot_12 = Rect( 128.0, 5824.0, 256.0, 5952.0 )
    set gg_rct_Waiting_Unit_Spot_13 = Rect( -128.0, 5952.0, 0.0, 6080.0 )
    set gg_rct_Waiting_Unit_Spot_14 = Rect( 0.0, 5952.0, 128.0, 6080.0 )
    set gg_rct_Waiting_Unit_Spot_15 = Rect( -256.0, 5952.0, -128.0, 6080.0 )
    set gg_rct_Waiting_Unit_Spot_16 = Rect( 128.0, 5952.0, 256.0, 6080.0 )
    set gg_rct_Waiting_Unit_Spot_17 = Rect( -128.0, 6080.0, 0.0, 6208.0 )
    set gg_rct_Waiting_Unit_Spot_18 = Rect( 0.0, 6080.0, 128.0, 6208.0 )
    set gg_rct_Waiting_Unit_Spot_19 = Rect( -256.0, 6080.0, -128.0, 6208.0 )
    set gg_rct_Waiting_Unit_Spot_20 = Rect( 128.0, 6080.0, 256.0, 6208.0 )
    set gg_rct_Waiting_Unit_Spot_21 = Rect( -128.0, 6208.0, 0.0, 6336.0 )
    set gg_rct_Waiting_Unit_Spot_22 = Rect( 0.0, 6208.0, 128.0, 6336.0 )
    set gg_rct_Waiting_Unit_Spot_23 = Rect( -256.0, 6208.0, -128.0, 6336.0 )
    set gg_rct_Waiting_Unit_Spot_24 = Rect( 128.0, 6208.0, 256.0, 6336.0 )
    set gg_rct_Waiting_Zone = Rect( -288.0, 5408.0, 288.0, 6368.0 )
    set gg_rct_Intro_Kael_Dest01 = Rect( -320.0, -2112.0, -192.0, -1952.0 )
    set gg_rct_Intro_Vashj_Dest01 = Rect( 192.0, -2208.0, 320.0, -2080.0 )
    set gg_rct_Intro_Eng01Dest01 = Rect( -832.0, -5056.0, -704.0, -4928.0 )
    set gg_rct_Intro_Eng02Dest01 = Rect( -832.0, -4896.0, -704.0, -4768.0 )
    set gg_rct_Intro_Eng03Dest01 = Rect( -256.0, -928.0, -128.0, -800.0 )
    set gg_rct_Intro_Eng04Dest01 = Rect( -96.0, -928.0, 32.0, -800.0 )
    set gg_rct_Intro_Spy_Spawn = Rect( 576.0, 7840.0, 704.0, 7968.0 )
    set gg_rct_Intro_Spy_Dest01 = Rect( -32.0, 7872.0, 96.0, 8000.0 )
    set gg_rct_Intro_Vashj_MoveUnit = Rect( 480.0, 352.0, 608.0, 480.0 )
    set gg_rct_Victory_Create_unit_01 = Rect( 928.0, -32.0, 1120.0, 128.0 )
    set gg_rct_Victory_Create_unit_02 = Rect( -1280.0, -32.0, -1088.0, 160.0 )
    set gg_rct_StartingEngineer01 = Rect( 256.0, 2144.0, 384.0, 2240.0 )
    set gg_rct_StartingEngineer02 = Rect( 448.0, 2144.0, 544.0, 2240.0 )
    set gg_rct_Escape_Portal_Effect = Rect( -32.0, -2048.0, 32.0, -1952.0 )
    set gg_rct_Brewmaster = Rect( 704.0, 1824.0, 896.0, 2048.0 )
    set gg_rct_Trev = Rect( -32.0, -1984.0, 32.0, -1920.0 )
    set gg_rct_PuddleSound1 = Rect( -832.0, -4640.0, -576.0, -4096.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -704.0, -4368.0, -128.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 256.0, 544.0 )
    set gg_rct_PuddleSound3 = Rect( -2752.0, -6144.0, 1280.0, -5600.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -736.0, -5872.0, -128.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 4032.0, 544.0 )
    set gg_rct_PuddleSound4 = Rect( -3136.0, -5920.0, -2752.0, -2016.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -2944.0, -3968.0, -128.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 384.0, 3904.0 )
    set gg_rct_PuddleSound5 = Rect( -2784.0, -3616.0, -2240.0, -1920.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -2512.0, -2768.0, -128.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 544.0, 1696.0 )
    set gg_rct_PuddleSound6 = Rect( -2272.0, -3072.0, -1856.0, -2272.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -2064.0, -2672.0, -128.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 416.0, 800.0 )
    set gg_rct_PuddleSound7 = Rect( -1888.0, -3168.0, -1568.0, -2400.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -1728.0, -2784.0, -128.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 320.0, 768.0 )
    set gg_rct_PuddleSound8 = Rect( -1600.0, -3136.0, -1344.0, -2592.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -1472.0, -2864.0, -128.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 256.0, 544.0 )
    set gg_rct_PuddleSound9 = Rect( -832.0, -5632.0, 576.0, -5344.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -128.0, -5488.0, -128.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 1408.0, 288.0 )
    set gg_rct_PuddleSound10 = Rect( 576.0, -4640.0, 832.0, -4064.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, 704.0, -4352.0, -128.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 256.0, 576.0 )
    set gg_rct_PuddleSound11 = Rect( 992.0, -4064.0, 1568.0, -3680.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, 1280.0, -3872.0, -128.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 576.0, 384.0 )
    set gg_rct_PuddleSound12 = Rect( 1568.0, -4096.0, 2880.0, -3904.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, 2224.0, -4000.0, -128.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 1312.0, 192.0 )
    set gg_rct_PuddleSound13 = Rect( 2240.0, -3904.0, 2816.0, -2016.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, 2528.0, -2960.0, -128.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 576.0, 1888.0 )
    set gg_rct_PuddleSound14 = Rect( 1824.0, -3104.0, 2272.0, -2272.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, 2048.0, -2688.0, -128.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 448.0, 832.0 )
    set gg_rct_PuddleSound15 = Rect( 1408.0, -3104.0, 1856.0, -2560.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, 1632.0, -2832.0, -128.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 448.0, 544.0 )
    set gg_rct_PuddleSound16 = Rect( 832.0, 512.0, 3296.0, 960.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, 2064.0, 736.0, -128.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 2464.0, 448.0 )
    set gg_rct_PuddleSound17 = Rect( 2144.0, 6624.0, 2496.0, 8736.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, 2320.0, 7680.0, 0.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 352.0, 2112.0 )
    set gg_rct_PuddleSound18 = Rect( 1472.0, 6624.0, 2144.0, 6816.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, 1808.0, 6720.0, 0.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 672.0, 192.0 )
    set gg_rct_PuddleSound19 = Rect( -2496.0, 6656.0, -2112.0, 8672.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -2304.0, 7664.0, 0.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 384.0, 2016.0 )
    set gg_rct_PuddleSound20 = Rect( -2144.0, 6624.0, -1504.0, 6816.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -1824.0, 6720.0, 0.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 640.0, 192.0 )
    set gg_rct_PuddleSound21 = Rect( -3392.0, 5344.0, -3136.0, 8672.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -3264.0, 7008.0, -128.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 256.0, 3328.0 )
    set gg_rct_PuddleSound22 = Rect( -3168.0, 5600.0, -2624.0, 5792.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -2896.0, 5696.0, -128.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 544.0, 192.0 )
    set gg_rct_PuddleSound23 = Rect( 3136.0, 5856.0, 3264.0, 6144.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, 3200.0, 6000.0, -128.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 128.0, 288.0 )
    set gg_rct_PuddleSound24 = Rect( -2752.0, 2976.0, -2496.0, 4512.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -2624.0, 3744.0, -128.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 256.0, 1536.0 )
    set gg_rct_PuddleSound25 = Rect( -3328.0, 4416.0, -2752.0, 4544.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -3040.0, 4480.0, -128.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 576.0, 128.0 )
    set gg_rct_PuddleSound26 = Rect( -3008.0, 2656.0, -2240.0, 2976.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -2624.0, 2816.0, -128.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 768.0, 320.0 )
    set gg_rct_PuddleSound27 = Rect( -3168.0, 384.0, 3296.0, 544.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, 64.0, 464.0, -6.8 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 6464.0, 160.0 )
    set gg_rct_PuddleSound28 = Rect( -3392.0, 96.0, -3136.0, 672.0 )
    call SetSoundPosition( gg_snd_WaterLakeLoop1, -3264.0, 384.0, -128.0 )
    call RegisterStackedSound( gg_snd_WaterLakeLoop1, true, 256.0, 576.0 )
    set gg_rct_GateSound = Rect( -128.0, 5120.0, 128.0, 5248.0 )
    set gg_rct_Explosives = Rect( -128.0, 6624.0, 96.0, 6880.0 )
    set gg_rct_DestroyPlayerSummonedUnits = Rect( -672.0, 5216.0, 704.0, 7360.0 )
    set gg_rct_YOULOSEEMITTER = Rect( -1184.0, 6048.0, -1088.0, 6176.0 )
endfunction

//***************************************************************************
//*
//*  Cameras
//*
//***************************************************************************

function CreateCameras takes nothing returns nothing

    set gg_cam_Intro_01 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_01, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_01, CAMERA_FIELD_ROTATION, 130.9, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_01, CAMERA_FIELD_ANGLE_OF_ATTACK, 323.9, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_01, CAMERA_FIELD_TARGET_DISTANCE, 1487.7, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_01, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_01, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_01, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_01, 1129.1, -4951.1, 0.0 )

    set gg_cam_Intro_02 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_02, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_02, CAMERA_FIELD_ROTATION, 130.9, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_02, CAMERA_FIELD_ANGLE_OF_ATTACK, 323.9, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_02, CAMERA_FIELD_TARGET_DISTANCE, 1487.7, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_02, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_02, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_02, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_02, 595.5, -4866.1, 0.0 )

    set gg_cam_Intro_03 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_03, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_03, CAMERA_FIELD_ROTATION, 62.4, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_03, CAMERA_FIELD_ANGLE_OF_ATTACK, 318.2, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_03, CAMERA_FIELD_TARGET_DISTANCE, 1211.3, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_03, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_03, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_03, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_03, -100.0, -2181.8, 0.0 )

    set gg_cam_Intro_04 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_04, CAMERA_FIELD_ZOFFSET, 20.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_04, CAMERA_FIELD_ROTATION, 72.9, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_04, CAMERA_FIELD_ANGLE_OF_ATTACK, 318.1, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_04, CAMERA_FIELD_TARGET_DISTANCE, 1211.3, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_04, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_04, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_04, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_04, -30.6, -1916.3, 0.0 )

    set gg_cam_Intro_Engineer_Pit_01 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_Engineer_Pit_01, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Engineer_Pit_01, CAMERA_FIELD_ROTATION, 135.3, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Engineer_Pit_01, CAMERA_FIELD_ANGLE_OF_ATTACK, 328.7, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Engineer_Pit_01, CAMERA_FIELD_TARGET_DISTANCE, 1566.2, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Engineer_Pit_01, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Engineer_Pit_01, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Engineer_Pit_01, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_Engineer_Pit_01, -1550.0, -4939.5, 0.0 )

    set gg_cam_Intro_Engineer_Pit_02 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_Engineer_Pit_02, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Engineer_Pit_02, CAMERA_FIELD_ROTATION, 99.2, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Engineer_Pit_02, CAMERA_FIELD_ANGLE_OF_ATTACK, 323.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Engineer_Pit_02, CAMERA_FIELD_TARGET_DISTANCE, 1294.3, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Engineer_Pit_02, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Engineer_Pit_02, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Engineer_Pit_02, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_Engineer_Pit_02, -1550.0, -4939.5, 0.0 )

    set gg_cam_Intro_Garrithos_Shot = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_Garrithos_Shot, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Garrithos_Shot, CAMERA_FIELD_ROTATION, 91.8, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Garrithos_Shot, CAMERA_FIELD_ANGLE_OF_ATTACK, 323.8, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Garrithos_Shot, CAMERA_FIELD_TARGET_DISTANCE, 1118.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Garrithos_Shot, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Garrithos_Shot, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Garrithos_Shot, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_Garrithos_Shot, -1.7, 8097.6, 0.0 )

    set gg_cam_Intro_Kael_Closeup = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_Kael_Closeup, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Kael_Closeup, CAMERA_FIELD_ROTATION, 299.5, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Kael_Closeup, CAMERA_FIELD_ANGLE_OF_ATTACK, 328.7, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Kael_Closeup, CAMERA_FIELD_TARGET_DISTANCE, 946.1, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Kael_Closeup, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Kael_Closeup, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Kael_Closeup, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_Kael_Closeup, 396.3, -5223.3, 0.0 )

    set gg_cam_Intro_Skipped = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_Skipped, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Skipped, CAMERA_FIELD_ROTATION, 90.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Skipped, CAMERA_FIELD_ANGLE_OF_ATTACK, 304.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Skipped, CAMERA_FIELD_TARGET_DISTANCE, 1650.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Skipped, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Skipped, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Skipped, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_Skipped, 384.0, 1920.0, 0.0 )

    set gg_cam_Intro_Starting_Towers_01 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_Starting_Towers_01, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Starting_Towers_01, CAMERA_FIELD_ROTATION, 129.2, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Starting_Towers_01, CAMERA_FIELD_ANGLE_OF_ATTACK, 328.2, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Starting_Towers_01, CAMERA_FIELD_TARGET_DISTANCE, 2337.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Starting_Towers_01, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Starting_Towers_01, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Starting_Towers_01, CAMERA_FIELD_FARZ, 5496.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_Starting_Towers_01, 72.7, 1893.5, 0.0 )

    set gg_cam_Victory_01 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Victory_01, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_01, CAMERA_FIELD_ROTATION, 30.5, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_01, CAMERA_FIELD_ANGLE_OF_ATTACK, 320.8, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_01, CAMERA_FIELD_TARGET_DISTANCE, 1384.4, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_01, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_01, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_01, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Victory_01, 22.3, -1945.2, 0.0 )

    set gg_cam_Intro_Explosives_01 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_Explosives_01, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Explosives_01, CAMERA_FIELD_ROTATION, 118.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Explosives_01, CAMERA_FIELD_ANGLE_OF_ATTACK, 320.4, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Explosives_01, CAMERA_FIELD_TARGET_DISTANCE, 764.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Explosives_01, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Explosives_01, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_Explosives_01, CAMERA_FIELD_FARZ, 5496.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_Explosives_01, 8.4, 6720.6, 0.0 )

    set gg_cam_Victory_02 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Victory_02, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_02, CAMERA_FIELD_ROTATION, 75.5, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_02, CAMERA_FIELD_ANGLE_OF_ATTACK, 320.9, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_02, CAMERA_FIELD_TARGET_DISTANCE, 1384.4, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_02, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_02, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_02, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Victory_02, 9.7, -1011.4, 0.0 )

    set gg_cam_Victory_04 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Victory_04, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_04, CAMERA_FIELD_ROTATION, 75.5, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_04, CAMERA_FIELD_ANGLE_OF_ATTACK, 320.9, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_04, CAMERA_FIELD_TARGET_DISTANCE, 1384.4, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_04, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_04, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_04, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Victory_04, 769.3, -617.5, 0.0 )

    set gg_cam_Victory_05 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Victory_05, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_05, CAMERA_FIELD_ROTATION, 75.5, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_05, CAMERA_FIELD_ANGLE_OF_ATTACK, 320.9, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_05, CAMERA_FIELD_TARGET_DISTANCE, 1384.4, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_05, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_05, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_05, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Victory_05, 95.4, -1625.7, 0.0 )

    set gg_cam_Victory_06 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Victory_06, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_06, CAMERA_FIELD_ROTATION, 289.7, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_06, CAMERA_FIELD_ANGLE_OF_ATTACK, 324.1, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_06, CAMERA_FIELD_TARGET_DISTANCE, 1421.3, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_06, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_06, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Victory_06, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Victory_06, 56.1, -1995.6, 0.0 )

    set gg_cam_Intro_trev_A1 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_trev_A1, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_trev_A1, CAMERA_FIELD_ROTATION, 121.5, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_trev_A1, CAMERA_FIELD_ANGLE_OF_ATTACK, 318.6, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_trev_A1, CAMERA_FIELD_TARGET_DISTANCE, 1211.3, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_trev_A1, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_trev_A1, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_trev_A1, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_trev_A1, 69.4, -2164.2, 0.0 )

    set gg_cam_Intro_trev_A2 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_trev_A2, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_trev_A2, CAMERA_FIELD_ROTATION, 121.5, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_trev_A2, CAMERA_FIELD_ANGLE_OF_ATTACK, 318.6, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_trev_A2, CAMERA_FIELD_TARGET_DISTANCE, 1211.3, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_trev_A2, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_trev_A2, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_trev_A2, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_trev_A2, -47.6, -2149.0, 0.0 )

    set gg_cam_Intro_trev_Gate_Cam = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Intro_trev_Gate_Cam, CAMERA_FIELD_ZOFFSET, 80.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_trev_Gate_Cam, CAMERA_FIELD_ROTATION, 66.3, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_trev_Gate_Cam, CAMERA_FIELD_ANGLE_OF_ATTACK, 322.7, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_trev_Gate_Cam, CAMERA_FIELD_TARGET_DISTANCE, 1211.3, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_trev_Gate_Cam, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_trev_Gate_Cam, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Intro_trev_Gate_Cam, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Intro_trev_Gate_Cam, 66.6, -1811.6, 0.0 )

    set gg_cam_SCORESCREENCAM = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_SCORESCREENCAM, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_SCORESCREENCAM, CAMERA_FIELD_ROTATION, 227.2, 0.0 )
    call CameraSetupSetField( gg_cam_SCORESCREENCAM, CAMERA_FIELD_ANGLE_OF_ATTACK, 332.0, 0.0 )
    call CameraSetupSetField( gg_cam_SCORESCREENCAM, CAMERA_FIELD_TARGET_DISTANCE, 1127.0, 0.0 )
    call CameraSetupSetField( gg_cam_SCORESCREENCAM, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_SCORESCREENCAM, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_SCORESCREENCAM, CAMERA_FIELD_FARZ, 4545.5, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_SCORESCREENCAM, -1481.7, 5834.9, 0.0 )

endfunction

//***************************************************************************
//*
//*  Triggers
//*
//***************************************************************************

//===========================================================================
// Trigger: Initialization
//
// Template version 1.01
//===========================================================================
function Trig_Initialization_Actions takes nothing returns nothing
    call SetCampaignMenuRaceBJ( bj_CAMPAIGN_INDEX_XH )
    call SetAllyColorFilterState( 0 )
    call ConditionalTriggerExecute( gg_trg_Init_01_Players )
    call ConditionalTriggerExecute( gg_trg_Init_02_Units )
    call ConditionalTriggerExecute( gg_trg_Init_03_Music )
    call ConditionalTriggerExecute( gg_trg_Init_04_Environment )
    call ConditionalTriggerExecute( gg_trg_Init_05_Quests )
    call ConditionalTriggerExecute( gg_trg_Init_06a_Hard )
    call ConditionalTriggerExecute( gg_trg_Init_06b_Normal )
    call ConditionalTriggerExecute( gg_trg_Init_06c_Easy )
    call ConditionalTriggerExecute( gg_trg_Init_07_Waves )
    call ConditionalTriggerExecute( gg_trg_Init_08_HighScore )
    // Start Intro Cinematic
    call QueuedTriggerAddBJ( gg_trg_Intro_Cinematic_Q, true )
endfunction

//===========================================================================
function InitTrig_Initialization takes nothing returns nothing
    set gg_trg_Initialization = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Initialization, function Trig_Initialization_Actions )
endfunction

//===========================================================================
// Trigger: Init 01 Players
//===========================================================================
function Trig_Init_01_Players_Actions takes nothing returns nothing
    // Alliance Settings - Player and Escapees
    call SetPlayerAllianceStateBJ( udg_AP1_Player, udg_P02_Escapees, bj_ALLIANCE_ALLIED_VISION )
    call SetPlayerAllianceStateBJ( udg_AP1_Player, Player(PLAYER_NEUTRAL_AGGRESSIVE), bj_ALLIANCE_NEUTRAL )
    call SetPlayerAllianceStateBJ( udg_P02_Escapees, udg_AP1_Player, bj_ALLIANCE_ALLIED_VISION )
    call SetPlayerAllianceStateBJ( udg_P02_Escapees, Player(PLAYER_NEUTRAL_AGGRESSIVE), bj_ALLIANCE_NEUTRAL )
    // Alliance Settings - Humans
    call SetPlayerAllianceStateBJ( udg_P06_HumansBase, udg_AP1_Player, bj_ALLIANCE_UNALLIED )
    call SetPlayerAllianceStateBJ( udg_P06_HumansBase, udg_P02_Escapees, bj_ALLIANCE_NEUTRAL )
    call SetPlayerAllianceStateBJ( udg_P06_HumansBase, Player(PLAYER_NEUTRAL_AGGRESSIVE), bj_ALLIANCE_UNALLIED )
    call SetPlayerAllianceStateBJ( udg_P07_HumansWave, udg_AP1_Player, bj_ALLIANCE_NEUTRAL )
    call SetPlayerAllianceStateBJ( udg_P07_HumansWave, udg_P02_Escapees, bj_ALLIANCE_NEUTRAL )
    call SetPlayerAllianceStateBJ( udg_P07_HumansWave, Player(PLAYER_NEUTRAL_AGGRESSIVE), bj_ALLIANCE_UNALLIED )
    // Alliance Settings - Neutrals
    call SetPlayerAllianceStateBJ( Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_AP1_Player, bj_ALLIANCE_NEUTRAL )
    call SetPlayerAllianceStateBJ( Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_P02_Escapees, bj_ALLIANCE_NEUTRAL )
    call SetPlayerAllianceStateBJ( Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_P06_HumansBase, bj_ALLIANCE_NEUTRAL )
    call SetPlayerAllianceStateBJ( Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_P07_HumansWave, bj_ALLIANCE_NEUTRAL )
    // Initial Resources
    call SetPlayerStateBJ( udg_AP1_Player, PLAYER_STATE_RESOURCE_GOLD, 450 )
    call SetPlayerStateBJ( udg_AP1_Player, PLAYER_STATE_RESOURCE_LUMBER, 0 )
    // Player Colors
    call SetPlayerColorBJ( udg_AP1_Player, PLAYER_COLOR_RED, true )
    call SetPlayerColorBJ( udg_P02_Escapees, PLAYER_COLOR_ORANGE, true )
    call SetPlayerColorBJ( udg_P06_HumansBase, PLAYER_COLOR_LIGHT_BLUE, true )
    call SetPlayerColorBJ( udg_P07_HumansWave, PLAYER_COLOR_LIGHT_BLUE, true )
    // Hide Excess Players
    call SetPlayerOnScoreScreenBJ( false, udg_P02_Escapees )
    call SetPlayerOnScoreScreenBJ( false, udg_P07_HumansWave )
    // Disable Advanced Towers
    call ConditionalTriggerExecute( gg_trg_Disable_Advanced_Towers )
endfunction

//===========================================================================
function InitTrig_Init_01_Players takes nothing returns nothing
    set gg_trg_Init_01_Players = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_01_Players, function Trig_Init_01_Players_Actions )
endfunction

//===========================================================================
// Trigger: Init 02 Units
//===========================================================================
function Trig_Init_02_Units_Func016002002001 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == udg_P02_Escapees )
endfunction

function Trig_Init_02_Units_Func016002002002 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'n007' )
endfunction

function Trig_Init_02_Units_Func016002002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Init_02_Units_Func016002002001(), Trig_Init_02_Units_Func016002002002() )
endfunction

function Trig_Init_02_Units_Actions takes nothing returns nothing
    // Heroes
    call ConditionalTriggerExecute( gg_trg_Load_Heroes )
    call SetPlayerHandicapXPBJ( udg_AP1_Player, 50.00 )
    // NPCs
    set udg_Garithos = gg_unit_Hlgr_0001
    call SetUnitColor( udg_Garithos, PLAYER_COLOR_LIGHT_GRAY )
    set udg_Observatory = gg_unit_h009_0007
    set udg_Portal = gg_unit_h000_0002
    // Engineers
    set udg_EngineerWorker01 = gg_unit_n007_0004
    set udg_EngineerWorker02 = gg_unit_n007_0121
    set udg_EngineerWorker03 = gg_unit_n007_0083
    set udg_EngineerForeman01 = gg_unit_n007_0049
    set udg_EngineerForeman02 = gg_unit_n007_0119
    set udg_EngineerForeman03 = gg_unit_n007_0125
    set udg_EngineerUnits = GetUnitsInRectMatching(gg_rct_Engineer_Pit, Condition(function Trig_Init_02_Units_Func016002002))
    call GroupAddGroup( udg_EngineerUnits, udg_ExodusUnits )
    call GroupAddUnitSimple( udg_EngineerWorker01, udg_EngineerWorkers )
    call GroupAddUnitSimple( udg_EngineerWorker02, udg_EngineerWorkers )
    call GroupAddUnitSimple( udg_EngineerWorker03, udg_EngineerWorkers )
    // Engineer Pit
    set udg_EPitTower3 = gg_unit_nft1_0079
    set udg_EPitTower4 = gg_unit_ndt1_0022
    set udg_EPitTower5 = gg_unit_ntt1_0089
    // Vaults
    set udg_Vault01 = gg_unit_n009_0030
    set udg_Vault02 = gg_unit_n009_0076
    set udg_Vault03 = gg_unit_n009_0077
endfunction

//===========================================================================
function InitTrig_Init_02_Units takes nothing returns nothing
    set gg_trg_Init_02_Units = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_02_Units, function Trig_Init_02_Units_Actions )
endfunction

//===========================================================================
// Trigger: Init 03 Music
//===========================================================================
function Trig_Init_03_Music_Actions takes nothing returns nothing
    call ClearMapMusicBJ(  )
    call TriggerSleepAction( 0.01 )
    call PlayThematicMusicExBJ( "Sound\\Music\\mp3Music\\BloodElfTheme.mp3", 3.00 )
    call SetMapMusicIndexedBJ( "music", 0 )
endfunction

//===========================================================================
function InitTrig_Init_03_Music takes nothing returns nothing
    set gg_trg_Init_03_Music = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_03_Music, function Trig_Init_03_Music_Actions )
endfunction

//===========================================================================
// Trigger: Init 04 Environment
//===========================================================================
function Trig_Init_04_Environment_Func016A takes nothing returns nothing
    call SetDestructableInvulnerableBJ( GetEnumDestructable(), true )
endfunction

function Trig_Init_04_Environment_Actions takes nothing returns nothing
    // Initial Time Of Day
    call SetTimeOfDay( 8.00 )
    // Weather Effects
    // Fog
    call SetTerrainFogExBJ( 0, 1000.00, 9000.00, 0, 80.00, 30.00, 100 )
    // Initial Visibility
    call ConditionalTriggerExecute( gg_trg_Observatory_Vision )
    // Bridges, Gates, etc.
    set udg_MainGate = gg_dest_ATg1_0003
    call ModifyGateBJ( bj_GATEOPERATION_OPEN, udg_MainGate )
    set udg_SewerGate = gg_dest_DTg3_0002
    call ModifyGateBJ( bj_GATEOPERATION_OPEN, udg_SewerGate )
    set udg_EnemyGate = gg_dest_ATg1_0114
    call SetDestructableInvulnerableBJ( udg_EnemyGate, true )
    // Explosives Invulnerable
    call EnumDestructablesInRectAll( gg_rct_Explosives, function Trig_Init_04_Environment_Func016A )
endfunction

//===========================================================================
function InitTrig_Init_04_Environment takes nothing returns nothing
    set gg_trg_Init_04_Environment = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_04_Environment, function Trig_Init_04_Environment_Actions )
endfunction

//===========================================================================
// Trigger: Init 05 Quests
//===========================================================================
function Trig_Init_05_Quests_Actions takes nothing returns nothing
    // Create Quests
    call ConditionalTriggerExecute( gg_trg_Quest_Defend_Create )
endfunction

//===========================================================================
function InitTrig_Init_05_Quests takes nothing returns nothing
    set gg_trg_Init_05_Quests = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_05_Quests, function Trig_Init_05_Quests_Actions )
endfunction

//===========================================================================
// Trigger: Init 06c Easy
//===========================================================================
function Trig_Init_06c_Easy_Conditions takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_EASY ) ) then
        return false
    endif
    return true
endfunction

function Trig_Init_06c_Easy_Actions takes nothing returns nothing
    // Handicap All Opponents
    set udg_HandicapValue = bj_HANDICAP_EASY
    call SetPlayerHandicapBJ( udg_P06_HumansBase, udg_HandicapValue )
    call SetPlayerHandicapBJ( udg_P07_HumansWave, udg_HandicapValue )
    call SetPlayerHandicapBJ( Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_HandicapValue )
endfunction

//===========================================================================
function InitTrig_Init_06c_Easy takes nothing returns nothing
    set gg_trg_Init_06c_Easy = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Init_06c_Easy, Condition( function Trig_Init_06c_Easy_Conditions ) )
    call TriggerAddAction( gg_trg_Init_06c_Easy, function Trig_Init_06c_Easy_Actions )
endfunction

//===========================================================================
// Trigger: Init 06b Normal
//===========================================================================
function Trig_Init_06b_Normal_Conditions takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_NORMAL ) ) then
        return false
    endif
    return true
endfunction

function Trig_Init_06b_Normal_Actions takes nothing returns nothing
    // Handicap All Opponents
    set udg_HandicapValue = ( ( bj_HANDICAP_EASY + 100.00 ) / 2.00 )
    call SetPlayerHandicapBJ( udg_P06_HumansBase, udg_HandicapValue )
    call SetPlayerHandicapBJ( udg_P07_HumansWave, udg_HandicapValue )
    call SetPlayerHandicapBJ( Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_HandicapValue )
endfunction

//===========================================================================
function InitTrig_Init_06b_Normal takes nothing returns nothing
    set gg_trg_Init_06b_Normal = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Init_06b_Normal, Condition( function Trig_Init_06b_Normal_Conditions ) )
    call TriggerAddAction( gg_trg_Init_06b_Normal, function Trig_Init_06b_Normal_Actions )
endfunction

//===========================================================================
// Trigger: Init 06a Hard
//===========================================================================
function Trig_Init_06a_Hard_Conditions takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_HARD ) ) then
        return false
    endif
    return true
endfunction

function Trig_Init_06a_Hard_Actions takes nothing returns nothing
    // Handicap All Opponents
    set udg_HandicapValue = 100.00
    call SetPlayerHandicapBJ( udg_P06_HumansBase, udg_HandicapValue )
    call SetPlayerHandicapBJ( udg_P07_HumansWave, udg_HandicapValue )
    call SetPlayerHandicapBJ( Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_HandicapValue )
endfunction

//===========================================================================
function InitTrig_Init_06a_Hard takes nothing returns nothing
    set gg_trg_Init_06a_Hard = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Init_06a_Hard, Condition( function Trig_Init_06a_Hard_Conditions ) )
    call TriggerAddAction( gg_trg_Init_06a_Hard, function Trig_Init_06a_Hard_Actions )
endfunction

//===========================================================================
// Trigger: Init 07 Waves
//===========================================================================
function Trig_Init_07_Waves_Actions takes nothing returns nothing
    // Path Data
    call ConditionalTriggerExecute( gg_trg_Path_Data )
    // Wave Data
    call ConditionalTriggerExecute( gg_trg_Wave_Data )
    // Waiting Area
    set udg_WaitingSpots[1] = GetRectCenter(gg_rct_Waiting_Unit_Spot_01)
    set udg_WaitingSpots[2] = GetRectCenter(gg_rct_Waiting_Unit_Spot_02)
    set udg_WaitingSpots[3] = GetRectCenter(gg_rct_Waiting_Unit_Spot_03)
    set udg_WaitingSpots[4] = GetRectCenter(gg_rct_Waiting_Unit_Spot_04)
    set udg_WaitingSpots[5] = GetRectCenter(gg_rct_Waiting_Unit_Spot_05)
    set udg_WaitingSpots[6] = GetRectCenter(gg_rct_Waiting_Unit_Spot_06)
    set udg_WaitingSpots[7] = GetRectCenter(gg_rct_Waiting_Unit_Spot_07)
    set udg_WaitingSpots[8] = GetRectCenter(gg_rct_Waiting_Unit_Spot_08)
    set udg_WaitingSpots[9] = GetRectCenter(gg_rct_Waiting_Unit_Spot_09)
    set udg_WaitingSpots[10] = GetRectCenter(gg_rct_Waiting_Unit_Spot_10)
    set udg_WaitingSpots[11] = GetRectCenter(gg_rct_Waiting_Unit_Spot_11)
    set udg_WaitingSpots[12] = GetRectCenter(gg_rct_Waiting_Unit_Spot_12)
    set udg_WaitingSpots[13] = GetRectCenter(gg_rct_Waiting_Unit_Spot_13)
    set udg_WaitingSpots[14] = GetRectCenter(gg_rct_Waiting_Unit_Spot_14)
    set udg_WaitingSpots[15] = GetRectCenter(gg_rct_Waiting_Unit_Spot_15)
    set udg_WaitingSpots[16] = GetRectCenter(gg_rct_Waiting_Unit_Spot_16)
    set udg_WaitingSpots[17] = GetRectCenter(gg_rct_Waiting_Unit_Spot_17)
    set udg_WaitingSpots[18] = GetRectCenter(gg_rct_Waiting_Unit_Spot_18)
    set udg_WaitingSpots[19] = GetRectCenter(gg_rct_Waiting_Unit_Spot_19)
    set udg_WaitingSpots[20] = GetRectCenter(gg_rct_Waiting_Unit_Spot_20)
    set udg_WaitingSpots[21] = GetRectCenter(gg_rct_Waiting_Unit_Spot_21)
    set udg_WaitingSpots[22] = GetRectCenter(gg_rct_Waiting_Unit_Spot_22)
    set udg_WaitingSpots[23] = GetRectCenter(gg_rct_Waiting_Unit_Spot_23)
    set udg_WaitingSpots[24] = GetRectCenter(gg_rct_Waiting_Unit_Spot_24)
    // Convert Regions to Points
    set udg_PointPathTarget01 = GetRectCenter(gg_rct_Path_Target_01)
    set udg_PointPathTarget02 = GetRectCenter(gg_rct_Path_Target_02)
    set udg_PointPathTarget03 = GetRectCenter(gg_rct_Path_Target_03)
    set udg_PointPathTarget04 = GetRectCenter(gg_rct_Path_Target_04)
    set udg_PointPathTarget05 = GetRectCenter(gg_rct_Path_Target_05)
    set udg_PointPathTarget06 = GetRectCenter(gg_rct_Path_Target_06)
    set udg_PointPathTarget07 = GetRectCenter(gg_rct_Path_Target_07)
    set udg_PointPathTarget08 = GetRectCenter(gg_rct_Path_Target_08)
    set udg_PointPathTarget09 = GetRectCenter(gg_rct_Path_Target_09)
    set udg_PointPathTarget10 = GetRectCenter(gg_rct_Path_Target_10)
    set udg_PointPathTarget11 = GetRectCenter(gg_rct_Path_Target_11)
    set udg_PointPathTarget12 = GetRectCenter(gg_rct_Path_Target_12)
    set udg_PointPathTarget13 = GetRectCenter(gg_rct_Path_Target_13)
    set udg_PointPathTarget14 = GetRectCenter(gg_rct_Path_Target_14)
    set udg_PointPathTarget15 = GetRectCenter(gg_rct_Path_Target_15)
    set udg_PointPathTarget16 = GetRectCenter(gg_rct_Path_Target_16)
    set udg_PointPathTarget17 = GetRectCenter(gg_rct_Path_Target_17)
    set udg_PointPathTarget18 = GetRectCenter(gg_rct_Path_Target_18)
    set udg_PointPathTarget19 = GetRectCenter(gg_rct_Path_Target_19)
    set udg_PointPathTarget20 = GetRectCenter(gg_rct_Path_Target_20)
    set udg_PointPathTarget21 = GetRectCenter(gg_rct_Path_Target_21)
    set udg_PointPathTarget22 = GetRectCenter(gg_rct_Path_Target_22)
    set udg_PointPathTarget23 = GetRectCenter(gg_rct_Path_Target_23)
    set udg_PointPathTarget24 = GetRectCenter(gg_rct_Path_Target_24)
    set udg_PointGateSound = GetRectCenter(gg_rct_GateSound)
    set udg_PointWaitingRedirect01Left = GetRectCenter(gg_rct_Waiting_Redirect_01_Left)
    set udg_PointWaitingRedirect01Right = GetRectCenter(gg_rct_Waiting_Redirect_01_Right)
    set udg_PointSourceAltar = GetRectCenter(gg_rct_Source_Altar)
    set udg_PointEscapePortalEffect = GetRectCenter(gg_rct_Escape_Portal_Effect)
    set udg_PointEscapePortalTarget = GetRectCenter(gg_rct_Escape_Portal_Target)
    set udg_PointExodusTroopSpawn = GetRectCenter(gg_rct_Exodus_Troop_Spawn)
    set udg_PointExodusPeasantSpawn = GetRectCenter(gg_rct_Exodus_Peasant_Spawn)
    set udg_PointEscapePath1A = GetRectCenter(gg_rct_Escape_Path1A)
    set udg_PointEscapePath1B = GetRectCenter(gg_rct_Escape_Path1B)
    set udg_PointEscapePath1C = GetRectCenter(gg_rct_Escape_Path1C)
    set udg_PointEscapePath2A = GetRectCenter(gg_rct_Escape_Path2A)
    set udg_PointEscapePath2B = GetRectCenter(gg_rct_Escape_Path2B)
    set udg_PointEscapePath3A = GetRectCenter(gg_rct_Escape_Path3A)
    set udg_PointEscapePath3B = GetRectCenter(gg_rct_Escape_Path3B)
    set udg_PointEscapePath3C = GetRectCenter(gg_rct_Escape_Path3C)
    set udg_PointWaitingRedirect01Left = GetRectCenter(gg_rct_Waiting_Redirect_01_Left)
    set udg_PointWaitingRedirect01Right = GetRectCenter(gg_rct_Waiting_Redirect_01_Right)
    set udg_PointSource0CastleLeft = GetRectCenter(gg_rct_Source0_Castle_Left)
    set udg_PointSource0CastleRight = GetRectCenter(gg_rct_Source0_Castle_Right)
    set udg_PointSource1BarracksLeft = GetRectCenter(gg_rct_Source1_Barracks_Left)
    set udg_PointSource1BarracksRight = GetRectCenter(gg_rct_Source1_Barracks_Right)
    set udg_PointSource2WorkshopLeft = GetRectCenter(gg_rct_Source2_Workshop_Left)
    set udg_PointSource2WorkshopRight = GetRectCenter(gg_rct_Source2_Workshop_Right)
    set udg_PointSource3AviaryLeft = GetRectCenter(gg_rct_Source3_Aviary_Left)
    set udg_PointSource3AviaryRight = GetRectCenter(gg_rct_Source3_Aviary_Right)
    set udg_PointSource4MercLeft = GetRectCenter(gg_rct_Source4_Merc_Left)
    set udg_PointSource4MercRight = GetRectCenter(gg_rct_Source4_Merc_Right)
    set udg_PointSource5DragLeft = GetRectCenter(gg_rct_Source5_Drag_Left)
    set udg_PointSource5DragRight = GetRectCenter(gg_rct_Source5_Drag_Right)
    set udg_PointSource6BeastsLeft = GetRectCenter(gg_rct_Source6_Beasts_Left)
    set udg_PointSource6BeastsRight = GetRectCenter(gg_rct_Source6_Beasts_Right)
    set udg_PointPortal = GetUnitLoc(gg_unit_h000_0002)
    set udg_PointWaitingLeaderSpot = GetRectCenter(gg_rct_Waiting_Leader_Spot)
    set udg_PointExplosivesFaceTarget = GetRectCenter(gg_rct_Explosives_Face_Target)
endfunction

//===========================================================================
function InitTrig_Init_07_Waves takes nothing returns nothing
    set gg_trg_Init_07_Waves = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_07_Waves, function Trig_Init_07_Waves_Actions )
endfunction

//===========================================================================
// Trigger: Init 08 HighScore
//===========================================================================
function Trig_Init_08_HighScore_Func005C takes nothing returns boolean
    if ( not ( udg_HighScoreEasy == 31 ) ) then
        return false
    endif
    if ( not ( udg_HighScoreNormal == 31 ) ) then
        return false
    endif
    if ( not ( udg_HighScoreHard == 31 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Init_08_HighScore_Actions takes nothing returns nothing
    call InitGameCacheBJ( "Campaigns.w3v" )
    set udg_HighScoreEasy = GetStoredIntegerBJ("FinalWaveEasy", "HumanX03s", GetLastCreatedGameCacheBJ())
    set udg_HighScoreNormal = GetStoredIntegerBJ("FinalWaveNormal", "HumanX03s", GetLastCreatedGameCacheBJ())
    set udg_HighScoreHard = GetStoredIntegerBJ("FinalWaveHard", "HumanX03s", GetLastCreatedGameCacheBJ())
    if ( Trig_Init_08_HighScore_Func005C() ) then
    else
    endif
endfunction

//===========================================================================
function InitTrig_Init_08_HighScore takes nothing returns nothing
    set gg_trg_Init_08_HighScore = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Init_08_HighScore, function Trig_Init_08_HighScore_Actions )
endfunction

//===========================================================================
// Trigger: Load Heroes
//===========================================================================
function Trig_Load_Heroes_Actions takes nothing returns nothing
    // Create The Game Cache
    call InitGameCacheBJ( "Campaigns.w3v" )
    // Load Each Hero
    call ConditionalTriggerExecute( gg_trg_Load_Kael )
    call ConditionalTriggerExecute( gg_trg_Load_Vashj )
endfunction

//===========================================================================
function InitTrig_Load_Heroes takes nothing returns nothing
    set gg_trg_Load_Heroes = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Load_Heroes, function Trig_Load_Heroes_Actions )
endfunction

//===========================================================================
// Trigger: Load Kael
//===========================================================================
function Trig_Load_Kael_Func004C takes nothing returns boolean
    if ( not ( udg_Kael == null ) ) then
        return false
    endif
    return true
endfunction

function Trig_Load_Kael_Func006C takes nothing returns boolean
    if ( not ( GetHeroLevel(udg_Kael) >= 5 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Load_Kael_Actions takes nothing returns nothing
    // Load Hero From Cache
    call RestoreUnitLocFacingAngleBJ( "Kael", "HumanX04", GetLastCreatedGameCacheBJ(), udg_AP1_Player, GetRectCenter(gg_rct_Intro_Kael_Start), 315.00 )
    set udg_Kael = GetLastRestoredUnitBJ()
    if ( Trig_Load_Kael_Func004C() ) then
        // Create Default Hero
        call CreateNUnitsAtLoc( 1, 'Hkal', udg_AP1_Player, GetRectCenter(gg_rct_Intro_Kael_Start), 315.00 )
        call SetHeroLevelBJ( GetLastCreatedUnit(), 5, false )
        call SelectHeroSkill( GetLastCreatedUnit(), 'AHfs' )
        call SelectHeroSkill( GetLastCreatedUnit(), 'AHfs' )
        call SelectHeroSkill( GetLastCreatedUnit(), 'AHbn' )
        call SelectHeroSkill( GetLastCreatedUnit(), 'AHdr' )
        call SelectHeroSkill( GetLastCreatedUnit(), 'AHdr' )
        set udg_Kael = GetLastCreatedUnit()
    else
    endif
    // Cap XP if already at level 5
    if ( Trig_Load_Kael_Func006C() ) then
        call SuspendHeroXPBJ( false, udg_Kael )
        set udg_ExpDisabledForKael = true
    else
    endif
endfunction

//===========================================================================
function InitTrig_Load_Kael takes nothing returns nothing
    set gg_trg_Load_Kael = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Load_Kael, function Trig_Load_Kael_Actions )
endfunction

//===========================================================================
// Trigger: Load Vashj
//===========================================================================
function Trig_Load_Vashj_Func004C takes nothing returns boolean
    if ( not ( udg_Vashj == null ) ) then
        return false
    endif
    return true
endfunction

function Trig_Load_Vashj_Func006C takes nothing returns boolean
    if ( not ( GetHeroLevel(udg_Vashj) >= 5 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Load_Vashj_Actions takes nothing returns nothing
    // Load Hero From Cache
    call RestoreUnitLocFacingAngleBJ( "Vashj", "HumanX04", GetLastCreatedGameCacheBJ(), udg_AP1_Player, GetRectCenter(gg_rct_Intro_Vashj_Start), 225.00 )
    set udg_Vashj = GetLastRestoredUnitBJ()
    if ( Trig_Load_Vashj_Func004C() ) then
        // Create Default Hero
        call CreateNUnitsAtLoc( 1, 'Hvsh', udg_AP1_Player, GetRectCenter(gg_rct_Intro_Vashj_Start), 225.00 )
        call SetHeroLevelBJ( GetLastCreatedUnit(), 5, false )
        call SelectHeroSkill( GetLastCreatedUnit(), 'ANfl' )
        call SelectHeroSkill( GetLastCreatedUnit(), 'ANfl' )
        call SelectHeroSkill( GetLastCreatedUnit(), 'ANfa' )
        call SelectHeroSkill( GetLastCreatedUnit(), 'ANfa' )
        call SelectHeroSkill( GetLastCreatedUnit(), 'ANms' )
        set udg_Vashj = GetLastCreatedUnit()
    else
    endif
    // Cap XP if already at level 5
    if ( Trig_Load_Vashj_Func006C() ) then
        call SuspendHeroXPBJ( false, udg_Vashj )
        set udg_ExpDisabledForVashj = true
    else
    endif
endfunction

//===========================================================================
function InitTrig_Load_Vashj takes nothing returns nothing
    set gg_trg_Load_Vashj = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Load_Vashj, function Trig_Load_Vashj_Actions )
endfunction

//===========================================================================
// Trigger: Cinematic Revival
//
// Before running this in a cinematic, do the following:
//   - Set "RevivalHero" to the hero you wish to revive.
//   - Set "RevivalSpot" to the place at which you wish the hero to be revived.
// After running this, set the unit facing for the revived hero.
// After the cinematic, move the hero instantly to RevivalReturnSpot.
//===========================================================================
function Trig_Cinematic_Revival_Func003001 takes nothing returns boolean
    return ( IsUnitAliveBJ(udg_RevivalHero) == true )
endfunction

function Trig_Cinematic_Revival_Func006002001002001 takes nothing returns boolean
    return ( IsUnitAliveBJ(GetFilterUnit()) == true )
endfunction

function Trig_Cinematic_Revival_Func006002001002002001001 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'halt' )
endfunction

function Trig_Cinematic_Revival_Func006002001002002001002 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'oalt' )
endfunction

function Trig_Cinematic_Revival_Func006002001002002001 takes nothing returns boolean
    return GetBooleanOr( Trig_Cinematic_Revival_Func006002001002002001001(), Trig_Cinematic_Revival_Func006002001002002001002() )
endfunction

function Trig_Cinematic_Revival_Func006002001002002002001 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'uaod' )
endfunction

function Trig_Cinematic_Revival_Func006002001002002002002 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'eate' )
endfunction

function Trig_Cinematic_Revival_Func006002001002002002 takes nothing returns boolean
    return GetBooleanOr( Trig_Cinematic_Revival_Func006002001002002002001(), Trig_Cinematic_Revival_Func006002001002002002002() )
endfunction

function Trig_Cinematic_Revival_Func006002001002002 takes nothing returns boolean
    return GetBooleanOr( Trig_Cinematic_Revival_Func006002001002002001(), Trig_Cinematic_Revival_Func006002001002002002() )
endfunction

function Trig_Cinematic_Revival_Func006002001002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Cinematic_Revival_Func006002001002001(), Trig_Cinematic_Revival_Func006002001002002() )
endfunction

function Trig_Cinematic_Revival_Func007001 takes nothing returns boolean
    return ( udg_RevivalAltar != null )
endfunction

function Trig_Cinematic_Revival_Actions takes nothing returns nothing
    set udg_RevivalReturnSpot = GetUnitLoc(udg_RevivalHero)
    call SetUnitPositionLoc( udg_RevivalHero, udg_RevivalSpot )
    if ( Trig_Cinematic_Revival_Func003001() ) then
        return
    else
        call DoNothing(  )
    endif
    call ReviveHeroLoc( udg_RevivalHero, udg_RevivalSpot, false )
    set udg_RevivalReturnSpot = udg_RevivalSpot
    set udg_RevivalAltar = GroupPickRandomUnit(GetUnitsOfPlayerMatching(GetOwningPlayer(udg_RevivalHero), Condition(function Trig_Cinematic_Revival_Func006002001002)))
    if ( Trig_Cinematic_Revival_Func007001() ) then
        set udg_RevivalReturnSpot = OffsetLocation(GetUnitLoc(udg_RevivalAltar), 0, -128.00)
    else
        call DoNothing(  )
    endif
endfunction

//===========================================================================
function InitTrig_Cinematic_Revival takes nothing returns nothing
    set gg_trg_Cinematic_Revival = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Cinematic_Revival, function Trig_Cinematic_Revival_Actions )
endfunction

//===========================================================================
// Trigger: Intro Cinematic Q
//===========================================================================
function Trig_Intro_Cinematic_Q_Func027001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func029001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func037001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func039001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func042001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func050001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func054001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func058001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func066001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func070001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func076001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func080001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func090001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func093001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func097001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func102001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func111001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Func115001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinematic_Q_Actions takes nothing returns nothing
    call Preloader( "Scripts\\HumanX03Secret.pld" )
    set udg_InCinematic = true
    // Fade Out
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 0.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    // Set Up Scene
    call CinematicModeBJ( true, udg_APG1_Player )
    call ConditionalTriggerExecute( gg_trg_Intro_Setup )
    call CameraSetupApplyForPlayer( true, gg_cam_Intro_01, Player(0), 0 )
    call CameraSetupApplyForPlayer( true, gg_cam_Intro_02, udg_AP1_Player, 10.00 )
    call IssuePointOrderLocBJ( udg_Kael, "move", GetRectCenter(gg_rct_Intro_Kael_Dest01) )
    call IssuePointOrderLocBJ( udg_Vashj, "move", GetRectCenter(gg_rct_Intro_Vashj_Dest01) )
    call ConditionalTriggerExecute( gg_trg_Intro_Spawn_Engineer )
    call AddSpecialEffectLocBJ( GetRectCenter(gg_rct_Trev), "Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl" )
    set udg_Trevfx1 = GetLastCreatedEffectBJ()
    call AddSpecialEffectLocBJ( GetRectCenter(gg_rct_Trev), "Abilities\\Spells\\Orc\\LightningShield\\LightningShieldTarget.mdl" )
    set udg_Trevfx2 = GetLastCreatedEffectBJ()
    // Fade In
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 2.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 2.00 )
    call EnableTrigger( gg_trg_Intro_Skipped )
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    // CINEMATIC BEGINS - Cinematic Can Now Be Skipped
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    // Line
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Kael, "TRIGSTR_019", gg_snd_A04Kael01, "TRIGSTR_020", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_A04Kael01, 0 )
    if ( Trig_Intro_Cinematic_Q_Func027001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TriggerSleepAction( 2 )
    if ( Trig_Intro_Cinematic_Q_Func029001() ) then
        return
    else
        call DoNothing(  )
    endif
    // Camera
    call CameraSetupApplyForPlayer( true, gg_cam_Intro_trev_A1, Player(0), 0 )
    call CameraSetupApplyForPlayer( true, gg_cam_Intro_trev_A2, Player(0), ( GetSoundDurationBJ(gg_snd_A04LadyVashj04) + ( 1 + 0.70 ) ) )
    // Line
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Vashj, "TRIGSTR_294", gg_snd_A04LadyVashj04, "TRIGSTR_295", bj_TIMETYPE_ADD, 0, false )
    call PlaySoundAtPointBJ( gg_snd_RunesGlow, 60.00, GetRectCenter(gg_rct_Escape_Portal_Target), 0 )
    call WaitForSoundBJ( gg_snd_A04LadyVashj04, 0 )
    if ( Trig_Intro_Cinematic_Q_Func037001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TriggerSleepAction( 1.00 )
    if ( Trig_Intro_Cinematic_Q_Func039001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( udg_Kael, "move", GetRectCenter(gg_rct_Gameplay_Kael_Start) )
    call TriggerSleepAction( 0.50 )
    if ( Trig_Intro_Cinematic_Q_Func042001() ) then
        return
    else
        call DoNothing(  )
    endif
    call StopSoundBJ( gg_snd_RunesGlow, true )
    // Camera
    call CameraSetupApplyForPlayer( true, gg_cam_Intro_Engineer_Pit_01, Player(0), 0 )
    call CameraSetupApplyForPlayer( true, gg_cam_Intro_Engineer_Pit_02, Player(0), ( GetSoundDurationBJ(gg_snd_A04Kael03) + ( GetSoundDurationBJ(gg_snd_A04EngineerOne02) + 1 ) ) )
    // Line
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_EngineerForeman01, "TRIGSTR_123", gg_snd_A04EngineerOne02, "TRIGSTR_124", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_A04EngineerOne02, 0 )
    if ( Trig_Intro_Cinematic_Q_Func050001() ) then
        return
    else
        call DoNothing(  )
    endif
    // Line
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Kael, "TRIGSTR_125", gg_snd_A04Kael03, "TRIGSTR_126", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_A04Kael03, 0 )
    if ( Trig_Intro_Cinematic_Q_Func054001() ) then
        return
    else
        call DoNothing(  )
    endif
    // Camera
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    if ( Trig_Intro_Cinematic_Q_Func058001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CameraSetupApplyForPlayer( true, gg_cam_Intro_Garrithos_Shot, udg_AP1_Player, 0.00 )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call CreateNUnitsAtLoc( 1, 'hfoo', udg_P06_HumansBase, GetRectCenter(gg_rct_Intro_Spy_Spawn), bj_UNIT_FACING )
    set udg_FootmanSpy = GetLastCreatedUnit()
    call AddSpecialEffectTargetUnitBJ( "hand left", udg_FootmanSpy, "Objects\\InventoryItems\\ThunderLizardEgg\\ThunderLizardEgg.mdl" )
    call IssuePointOrderLocBJ( udg_FootmanSpy, "move", GetRectCenter(gg_rct_Intro_Spy_Dest01) )
    call TriggerSleepAction( 4.00 )
    if ( Trig_Intro_Cinematic_Q_Func066001() ) then
        return
    else
        call DoNothing(  )
    endif
    // Line
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Garithos, "TRIGSTR_127", gg_snd_A04Garithos05, "TRIGSTR_128", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_A04Garithos05, 0 )
    if ( Trig_Intro_Cinematic_Q_Func070001() ) then
        return
    else
        call DoNothing(  )
    endif
    // Camera
    call CameraSetupApplyForPlayer( true, gg_cam_Intro_Explosives_01, udg_AP1_Player, 0.00 )
    // Line
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Garithos, "TRIGSTR_278", gg_snd_A04Garithos43, "TRIGSTR_279", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_A04Garithos43, 0 )
    if ( Trig_Intro_Cinematic_Q_Func076001() ) then
        return
    else
        call DoNothing(  )
    endif
    // Line
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Garithos, "TRIGSTR_127", gg_snd_A04Garithos44, "TRIGSTR_262", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_A04Garithos44, 0 )
    if ( Trig_Intro_Cinematic_Q_Func080001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitAnimation( udg_Portal, "stand alternate" )
    call SetDoodadAnimationRectBJ( "death", 'YOlb', gg_rct_Trev )
    call DestroyEffectBJ( udg_Trevfx1 )
    call DestroyEffectBJ( udg_Trevfx2 )
    // Camera
    call CameraSetupApplyForPlayer( true, gg_cam_Intro_trev_Gate_Cam, udg_AP1_Player, 0.00 )
    call SetUnitAnimationWithRarity( gg_unit_h000_0002, "birth", RARITY_RARE )
    call PlaySoundAtPointBJ( gg_snd_ShimmeringPortalBirth, 100.00, GetRectCenter(gg_rct_Escape_Portal_Target), 0 )
    call TriggerSleepAction( 6.30 )
    if ( Trig_Intro_Cinematic_Q_Func090001() ) then
        return
    else
        call DoNothing(  )
    endif
    call PlaySoundAtPointBJ( gg_snd_CityScapeMagicRunesLoop1, 100.00, GetRectCenter(gg_rct_Escape_Portal_Target), 0 )
    call TriggerSleepAction( 1.00 )
    if ( Trig_Intro_Cinematic_Q_Func093001() ) then
        return
    else
        call DoNothing(  )
    endif
    // Line
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Vashj, "TRIGSTR_129", gg_snd_A04LadyVashj06, "TRIGSTR_130", bj_TIMETYPE_ADD, 0, false )
    call TriggerSleepAction( 2.00 )
    if ( Trig_Intro_Cinematic_Q_Func097001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssueBuildOrderByIdLocBJ( gg_unit_n007_0058, 'net1', GetRectCenter(gg_rct_Starting_Tower_01) )
    call IssueBuildOrderByIdLocBJ( gg_unit_n007_0024, 'nbt1', GetRectCenter(gg_rct_Starting_Tower_02) )
    call IssuePointOrderLocBJ( udg_Vashj, "move", GetRectCenter(gg_rct_Gameplay_Vashj_Start) )
    call TriggerSleepAction( 2.78 )
    if ( Trig_Intro_Cinematic_Q_Func102001() ) then
        return
    else
        call DoNothing(  )
    endif
    call StopSoundBJ( gg_snd_CityScapeMagicRunesLoop1, true )
    // Camera
    call CameraSetupApplyForPlayer( true, gg_cam_Intro_Starting_Towers_01, Player(0), 0.00 )
    call SetUnitPositionLoc( udg_Vashj, GetRectCenter(gg_rct_Intro_Vashj_MoveUnit) )
    call IssuePointOrderLocBJ( udg_Vashj, "move", GetRectCenter(gg_rct_Gameplay_Vashj_Start) )
    // Line
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Kael, "TRIGSTR_131", gg_snd_A04Kael07, "TRIGSTR_132", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_A04Kael07, 0 )
    if ( Trig_Intro_Cinematic_Q_Func111001() ) then
        return
    else
        call DoNothing(  )
    endif
    // Line
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Vashj, "TRIGSTR_133", gg_snd_A04LadyVashj08, "TRIGSTR_134", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_A04LadyVashj08, 0 )
    if ( Trig_Intro_Cinematic_Q_Func115001() ) then
        return
    else
        call DoNothing(  )
    endif
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    // CINEMATIC ENDS - Cinematic Can No Longer Be Skipped
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    call DisableTrigger( gg_trg_Intro_Skipped )
    // Fade Out
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    // Cleanup
    call ConditionalTriggerExecute( gg_trg_Intro_Cleanup )
    // Start AI, Let AI Settle Down
    call TriggerSleepAction( 0.50 )
    call CinematicModeBJ( false, udg_APG1_Player )
    // Fade In
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call SetStackedSoundBJ( true, gg_snd_CityScapeMagicRunesLoop1, gg_rct_Escape_Portal_Target )
    call TriggerSleepAction( 1.00 )
    // Start Game
    call ConditionalTriggerExecute( gg_trg_Gameplay )
    set udg_InCinematic = false
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Intro_Cinematic_Q takes nothing returns nothing
    set gg_trg_Intro_Cinematic_Q = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Intro_Cinematic_Q, function Trig_Intro_Cinematic_Q_Actions )
endfunction

//===========================================================================
// Trigger: Intro Spawn Engineer
//===========================================================================
function Trig_Intro_Spawn_Engineer_Func006001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Spawn_Engineer_Func011001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Spawn_Engineer_Func016001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Spawn_Engineer_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CreateNUnitsAtLoc( 1, 'n007', Player(0), GetRectCenter(gg_rct_Exodus_Peasant_Spawn), 180.00 )
    set udg_Engineer01Cin = GetLastCreatedUnit()
    call IssuePointOrderLocBJ( udg_Engineer01Cin, "move", GetRectCenter(gg_rct_Intro_Eng01Dest01) )
    call TriggerSleepAction( 0.20 )
    if ( Trig_Intro_Spawn_Engineer_Func006001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CreateNUnitsAtLoc( 1, 'n007', Player(0), GetRectCenter(gg_rct_Exodus_Peasant_Spawn), 180.00 )
    set udg_Engineer02Cin = GetLastCreatedUnit()
    call IssuePointOrderLocBJ( udg_Engineer02Cin, "move", GetRectCenter(gg_rct_Intro_Eng02Dest01) )
    call TriggerSleepAction( 0.20 )
    if ( Trig_Intro_Spawn_Engineer_Func011001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CreateNUnitsAtLoc( 1, 'n007', Player(0), GetRectCenter(gg_rct_Exodus_Peasant_Spawn), 180.00 )
    set udg_Engineer03Cin = GetLastCreatedUnit()
    call IssuePointOrderLocBJ( udg_Engineer03Cin, "move", GetRectCenter(gg_rct_Intro_Eng03Dest01) )
    call TriggerSleepAction( 1.00 )
    if ( Trig_Intro_Spawn_Engineer_Func016001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CreateNUnitsAtLoc( 1, 'n007', Player(0), GetRectCenter(gg_rct_Exodus_Peasant_Spawn), 180.00 )
    set udg_Engineer04Cin = GetLastCreatedUnit()
    call IssuePointOrderLocBJ( udg_Engineer04Cin, "move", GetRectCenter(gg_rct_Intro_Eng04Dest01) )
endfunction

//===========================================================================
function InitTrig_Intro_Spawn_Engineer takes nothing returns nothing
    set gg_trg_Intro_Spawn_Engineer = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Intro_Spawn_Engineer, function Trig_Intro_Spawn_Engineer_Actions )
endfunction

//===========================================================================
// Trigger: Intro Spy Return
//===========================================================================
function Trig_Intro_Spy_Return_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_FootmanSpy ) ) then
        return false
    endif
    return true
endfunction

function Trig_Intro_Spy_Return_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ( udg_FootmanSpy, "move", GetRectCenter(gg_rct_Intro_Spy_Spawn) )
    call DestroyEffectBJ( GetLastCreatedEffectBJ() )
endfunction

//===========================================================================
function InitTrig_Intro_Spy_Return takes nothing returns nothing
    set gg_trg_Intro_Spy_Return = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Intro_Spy_Return, gg_rct_Intro_Spy_Dest01 )
    call TriggerAddCondition( gg_trg_Intro_Spy_Return, Condition( function Trig_Intro_Spy_Return_Conditions ) )
    call TriggerAddAction( gg_trg_Intro_Spy_Return, function Trig_Intro_Spy_Return_Actions )
endfunction

//===========================================================================
// Trigger: Intro Skipped
//===========================================================================
function Trig_Intro_Skipped_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_IntroSkipped = true
    // Fade Out
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 0.50, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 0.50 )
    // Cleanup
    call ConditionalTriggerExecute( gg_trg_Intro_Cleanup )
    // Start AI, Let AI Settle Down
    call TriggerSleepAction( 0.50 )
    call CinematicModeBJ( false, udg_APG1_Player )
    // Fade In
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 0.50, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call SetStackedSoundBJ( true, gg_snd_CityScapeMagicRunesLoop1, gg_rct_Escape_Portal_Target )
    call TriggerSleepAction( 0.50 )
    // Start Game
    call ConditionalTriggerExecute( gg_trg_Gameplay )
    set udg_InCinematic = false
    call QueuedTriggerRemoveBJ( gg_trg_Intro_Cinematic_Q )
endfunction

//===========================================================================
function InitTrig_Intro_Skipped takes nothing returns nothing
    set gg_trg_Intro_Skipped = CreateTrigger(  )
    call DisableTrigger( gg_trg_Intro_Skipped )
    call TriggerRegisterPlayerEventEndCinematic( gg_trg_Intro_Skipped, Player(0) )
    call TriggerAddAction( gg_trg_Intro_Skipped, function Trig_Intro_Skipped_Actions )
endfunction

//===========================================================================
// Trigger: Intro Setup
//===========================================================================
function Trig_Intro_Setup_Actions takes nothing returns nothing
    // Set Sky
    call SetSkyModel( "Environment\\Sky\\LordaeronSummerSky\\LordaeronSummerSky.mdl" )
    // Disable XP Gain
    call SuspendHeroXPBJ( false, udg_Kael )
    call SuspendHeroXPBJ( false, udg_Vashj )
    // Pause Time Of Day
    call UseTimeOfDayBJ( false )
    // Pause Units
    call PauseAllUnitsBJ( true )
    call PauseUnitBJ( false, udg_Kael )
    call PauseUnitBJ( false, udg_Vashj )
    call PauseUnitBJ( false, gg_unit_n007_0058 )
    call PauseUnitBJ( false, gg_unit_n007_0024 )
    // Hide Units
    // Disable Abilities
    call SetPlayerAbilityAvailableBJ( false, 'AIba', udg_AP1_Player )
    call SetPlayerAbilityAvailableBJ( false, 'AHad', udg_P06_HumansBase )
    // Portal
    call SetUnitAnimationWithRarity( gg_unit_h000_0002, "death", RARITY_RARE )
endfunction

//===========================================================================
function InitTrig_Intro_Setup takes nothing returns nothing
    set gg_trg_Intro_Setup = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Intro_Setup, function Trig_Intro_Setup_Actions )
endfunction

//===========================================================================
// Trigger: Intro Cleanup
//===========================================================================
function Trig_Intro_Cleanup_Func005002 takes nothing returns nothing
    call RemoveUnit( GetEnumUnit() )
endfunction

function Trig_Intro_Cleanup_Func006002 takes nothing returns nothing
    call RemoveUnit( GetEnumUnit() )
endfunction

function Trig_Intro_Cleanup_Func029001 takes nothing returns boolean
    return ( udg_ExpDisabledForKael == false )
endfunction

function Trig_Intro_Cleanup_Func030001 takes nothing returns boolean
    return ( udg_ExpDisabledForVashj == false )
endfunction

function Trig_Intro_Cleanup_Actions takes nothing returns nothing
    // Destroy Effects
    call DestroyEffectBJ( udg_Trevfx1 )
    call DestroyEffectBJ( udg_Trevfx2 )
    // Remove and Create Towers
    call ForGroupBJ( GetUnitsOfPlayerAndTypeId(Player(0), 'net1'), function Trig_Intro_Cleanup_Func005002 )
    call ForGroupBJ( GetUnitsOfPlayerAndTypeId(Player(0), 'nbt1'), function Trig_Intro_Cleanup_Func006002 )
    call CreateNUnitsAtLoc( 1, 'net1', udg_AP1_Player, GetRectCenter(gg_rct_Starting_Tower_01), bj_UNIT_FACING )
    call CreateNUnitsAtLoc( 1, 'nbt1', udg_AP1_Player, GetRectCenter(gg_rct_Starting_Tower_02), bj_UNIT_FACING )
    // Restore Abilities
    call SetPlayerAbilityAvailableBJ( true, 'AIba', udg_AP1_Player )
    call SetPlayerAbilityAvailableBJ( true, 'AHad', udg_P06_HumansBase )
    // Move Units
    call SetUnitPositionLocFacingBJ( udg_Kael, GetRectCenter(gg_rct_Gameplay_Kael_Start), 270.00 )
    call SetUnitPositionLocFacingBJ( udg_Vashj, GetRectCenter(gg_rct_Gameplay_Vashj_Start), 90.00 )
    call SetUnitPositionLocFacingBJ( gg_unit_n007_0058, GetRectCenter(gg_rct_StartingEngineer01), 45.00 )
    call SetUnitPositionLocFacingBJ( gg_unit_n007_0024, GetRectCenter(gg_rct_StartingEngineer02), 135.00 )
    // Remove units
    call RemoveUnit( udg_Engineer01Cin )
    call RemoveUnit( udg_Engineer02Cin )
    call RemoveUnit( udg_Engineer03Cin )
    call RemoveUnit( udg_Engineer04Cin )
    call RemoveUnit( udg_FootmanSpy )
    // Unhide Units
    // Unpause Units
    call PauseAllUnitsBJ( false )
    // Pause Time Of Day
    call UseTimeOfDayBJ( true )
    // Re-enable XP Gain
    if ( Trig_Intro_Cleanup_Func029001() ) then
        call SuspendHeroXPBJ( true, udg_Kael )
    else
        call DoNothing(  )
    endif
    if ( Trig_Intro_Cleanup_Func030001() ) then
        call SuspendHeroXPBJ( true, udg_Vashj )
    else
        call DoNothing(  )
    endif
    // Restore Selection
    call SelectUnitSingle( udg_Kael )
    // Reset Sky
    call SetSkyModel( null )
    // Reset Camera
    call CameraResetSmoothingFactorBJ(  )
    call ResetToGameCameraForPlayer( udg_AP1_Player, 0 )
    call PanCameraToTimedLocForPlayer( udg_AP1_Player, CameraSetupGetDestPositionLoc(gg_cam_Intro_Skipped), 0 )
    // Initial Harvesting
    // Wipe Visibility
    call CreateFogModifierRectBJ( true, udg_AP1_Player, FOG_OF_WAR_MASKED, GetPlayableMapRect() )
    call DestroyFogModifier( GetLastCreatedFogModifier() )
    // Portal Spot
    call SetUnitAnimationWithRarity( gg_unit_h000_0002, "stand", RARITY_RARE )
    call SetDoodadAnimationRectBJ( "death", 'YOlb', gg_rct_Escape_Portal_Target )
endfunction

//===========================================================================
function InitTrig_Intro_Cleanup takes nothing returns nothing
    set gg_trg_Intro_Cleanup = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Intro_Cleanup, function Trig_Intro_Cleanup_Actions )
endfunction

//===========================================================================
// Trigger: Gameplay
//===========================================================================
function Trig_Gameplay_Actions takes nothing returns nothing
    // Do initial gameplay stuff, like quest messages and hints
    call ConditionalTriggerExecute( gg_trg_Start_Timed_Events )
    call ConditionalTriggerExecute( gg_trg_Start_Exodus )
    call ConditionalTriggerExecute( gg_trg_Leaderboard_Create )
    // *************
    call PolledWait( 5.00 )
    call QueuedTriggerAddBJ( gg_trg_Quest_Defend_Q, true )
endfunction

//===========================================================================
function InitTrig_Gameplay takes nothing returns nothing
    set gg_trg_Gameplay = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Gameplay, function Trig_Gameplay_Actions )
endfunction

//===========================================================================
// Trigger: Start Timed Events
//===========================================================================
function Trig_Start_Timed_Events_Actions takes nothing returns nothing
    // Quest Timer
    // Timed Tower Events
    call StartTimerBJ( udg_EnableTower3Timer, false, ( 4.55 * 60.00 ) )
    call StartTimerBJ( udg_EnableTower4Timer, false, ( 9.35 * 60.00 ) )
    call StartTimerBJ( udg_EnableTower5Timer, false, ( 15.55 * 60.00 ) )
    // Timed Hints
    call StartTimerBJ( udg_HintBuildTimer, false, ( 0.40 * 60.00 ) )
    call StartTimerBJ( udg_HintTrainTimer, false, ( 0.80 * 60.00 ) )
    // Timed Voiceovers
    call StartTimerBJ( udg_VaultFoundTimer, false, ( 1.50 * 60.00 ) )
    call StartTimerBJ( udg_TimeWarning1Timer, false, ( 15.00 * 60.00 ) )
    call StartTimerBJ( udg_TimeWarning2Timer, false, ( 25.00 * 60.00 ) )
    call StartTimerBJ( udg_ReleaseBeastsTimer, false, ( 18.50 * 60.00 ) )
    // Start Attack Waves
    call ConditionalTriggerExecute( gg_trg_Wave_Timing )
endfunction

//===========================================================================
function InitTrig_Start_Timed_Events takes nothing returns nothing
    set gg_trg_Start_Timed_Events = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Start_Timed_Events, function Trig_Start_Timed_Events_Actions )
endfunction

//===========================================================================
// Trigger: Quest Defend Q
//===========================================================================
function Trig_Quest_Defend_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Quest_Defend_Q_Actions takes nothing returns nothing
    call SetCameraQuickPositionLocForPlayer( udg_AP1_Player, GetUnitLoc(udg_Portal) )
    call PingMinimapLocForForce( GetPlayersAll(), GetUnitLoc(udg_Portal), 4.00 )
    call ConditionalTriggerExecute( gg_trg_Quest_Defend_Discover )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Quest_Defend_Q takes nothing returns nothing
    set gg_trg_Quest_Defend_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Quest_Defend_Q, Condition( function Trig_Quest_Defend_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Quest_Defend_Q, function Trig_Quest_Defend_Q_Actions )
endfunction

//===========================================================================
// Trigger: Victory Cinematic Q
//===========================================================================
function Trig_Victory_Cinematic_Q_Func016001 takes nothing returns boolean
    return ( udg_ScoreScreenPlaying == true )
endfunction

function Trig_Victory_Cinematic_Q_Func029001 takes nothing returns boolean
    return ( udg_VictorySkipped == true )
endfunction

function Trig_Victory_Cinematic_Q_Func039001 takes nothing returns boolean
    return ( udg_VictorySkipped == true )
endfunction

function Trig_Victory_Cinematic_Q_Func043001 takes nothing returns boolean
    return ( udg_VictorySkipped == true )
endfunction

function Trig_Victory_Cinematic_Q_Func048001 takes nothing returns boolean
    return ( udg_VictorySkipped == true )
endfunction

function Trig_Victory_Cinematic_Q_Func052001 takes nothing returns boolean
    return ( udg_VictorySkipped == true )
endfunction

function Trig_Victory_Cinematic_Q_Func055001 takes nothing returns boolean
    return ( udg_VictorySkipped == true )
endfunction

function Trig_Victory_Cinematic_Q_Func058001 takes nothing returns boolean
    return ( udg_VictorySkipped == true )
endfunction

function Trig_Victory_Cinematic_Q_Func061001 takes nothing returns boolean
    return ( udg_VictorySkipped == true )
endfunction

function Trig_Victory_Cinematic_Q_Func066001 takes nothing returns boolean
    return ( udg_VictorySkipped == true )
endfunction

function Trig_Victory_Cinematic_Q_Actions takes nothing returns nothing
    set udg_InCinematic = true
    // Quest update
    call ConditionalTriggerExecute( gg_trg_Quest_Defend_Completed )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    // Fade Out
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    // Set Up Scene
    call CinematicModeBJ( true, udg_APG1_Player )
    call TriggerSleepAction( 0.25 )
    call ConditionalTriggerExecute( gg_trg_Next_Level_Prep )
    call ConditionalTriggerExecute( gg_trg_Victory_Setup )
    call TimerDialogDisplayForPlayerBJ( false, udg_DefendTimerWindow, udg_AP1_Player )
    call LeaderboardDisplayBJ( false, udg_PortalLeaderboard )
    call ConditionalTriggerExecute( gg_trg_Score )
    loop
        exitwhen ( Trig_Victory_Cinematic_Q_Func016001() )
        call TriggerSleepAction(RMaxBJ(bj_WAIT_FOR_COND_MIN_INTERVAL, 1))
    endloop
    call TriggerSleepAction( 2.00 )
    call CameraSetupApplyForPlayer( true, gg_cam_Victory_01, Player(0), 0 )
    // Fade In
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    call EnableTrigger( gg_trg_Victory_Skipped )
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    // CINEMATIC BEGINS - Cinematic Can Now Be Skipped
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    // Line
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Vashj, "TRIGSTR_139", gg_snd_A04LadyVashj31, "TRIGSTR_140", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_A04LadyVashj31, 0 )
    if ( Trig_Victory_Cinematic_Q_Func029001() ) then
        return
    else
        call DoNothing(  )
    endif
    // Pull back units
    call CreateNUnitsAtLoc( 1, 'n007', Player(0), GetRectCenter(gg_rct_Victory_Create_unit_01), bj_UNIT_FACING )
    call IssuePointOrderLocBJ( GetLastCreatedUnit(), "move", GetRectCenter(gg_rct_Escape_Portal_Target) )
    call CreateNUnitsAtLoc( 1, 'n007', Player(0), GetRectCenter(gg_rct_Victory_Create_unit_02), bj_UNIT_FACING )
    call IssuePointOrderLocBJ( GetLastCreatedUnit(), "move", GetRectCenter(gg_rct_Escape_Portal_Target) )
    call CameraSetupApplyForPlayer( true, gg_cam_Victory_02, Player(0), 0 )
    // Line
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Kael, "TRIGSTR_135", gg_snd_A04Kael32, "TRIGSTR_136", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_A04Kael32, 0 )
    if ( Trig_Victory_Cinematic_Q_Func039001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CameraSetupApplyForPlayer( true, gg_cam_Victory_04, Player(0), 0.00 )
    call CameraSetupApplyForPlayer( true, gg_cam_Victory_05, Player(0), 8.00 )
    call TriggerSleepAction( 4.00 )
    if ( Trig_Victory_Cinematic_Q_Func043001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CameraSetupApplyForPlayer( true, gg_cam_Victory_06, Player(0), 0.00 )
    // Line
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Vashj, "TRIGSTR_137", gg_snd_A04LadyVashj33, "TRIGSTR_138", bj_TIMETYPE_ADD, 0, false )
    call TriggerSleepAction( 2.00 )
    if ( Trig_Victory_Cinematic_Q_Func048001() ) then
        return
    else
        call DoNothing(  )
    endif
    call PlaySoundAtPointBJ( gg_snd_ShimmeringPortalEntrance, 85.00, GetRectCenter(gg_rct_Escape_Portal_Target), 0 )
    call IssuePointOrderLocBJ( udg_Kael, "move", GetRectCenter(gg_rct_Escape_Portal_Target) )
    call TriggerSleepAction( 2.35 )
    if ( Trig_Victory_Cinematic_Q_Func052001() ) then
        return
    else
        call DoNothing(  )
    endif
    call PlaySoundAtPointBJ( gg_snd_ShimmeringPortalEntrance, 85.00, GetRectCenter(gg_rct_Escape_Portal_Target), 0 )
    call TriggerSleepAction( 1.50 )
    if ( Trig_Victory_Cinematic_Q_Func055001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( udg_Vashj, "move", GetRectCenter(gg_rct_Escape_Portal_Target) )
    call TriggerSleepAction( 0.50 )
    if ( Trig_Victory_Cinematic_Q_Func058001() ) then
        return
    else
        call DoNothing(  )
    endif
    call PlaySoundAtPointBJ( gg_snd_ShimmeringPortalEntrance, 85.00, GetRectCenter(gg_rct_Escape_Portal_Target), 0 )
    call TriggerSleepAction( 1.50 )
    if ( Trig_Victory_Cinematic_Q_Func061001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitAnimationWithRarity( gg_unit_h000_0002, "death", RARITY_RARE )
    call SetStackedSoundBJ( false, gg_snd_CityScapeMagicRunesLoop1, gg_rct_Escape_Portal_Target )
    call PlaySoundAtPointBJ( gg_snd_ShimmeringPortalDeath, 100, GetRectCenter(gg_rct_Escape_Portal_Target), 0 )
    call TriggerSleepAction( 2 )
    if ( Trig_Victory_Cinematic_Q_Func066001() ) then
        return
    else
        call DoNothing(  )
    endif
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    // CINEMATIC ENDS - Cinematic Can No Longer Be Skipped
    // xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    call DisableTrigger( gg_trg_Victory_Skipped )
    // Fade Out
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 2.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 2.00 )
    call ConditionalTriggerExecute( gg_trg_Next_Level_Run )
endfunction

//===========================================================================
function InitTrig_Victory_Cinematic_Q takes nothing returns nothing
    set gg_trg_Victory_Cinematic_Q = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Victory_Cinematic_Q, function Trig_Victory_Cinematic_Q_Actions )
endfunction

//===========================================================================
// Trigger: Victory Skipped
//===========================================================================
function Trig_Victory_Skipped_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_VictorySkipped = true
    // Fade Out
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 2.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 2.00 )
    call ConditionalTriggerExecute( gg_trg_Next_Level_Run )
endfunction

//===========================================================================
function InitTrig_Victory_Skipped takes nothing returns nothing
    set gg_trg_Victory_Skipped = CreateTrigger(  )
    call DisableTrigger( gg_trg_Victory_Skipped )
    call TriggerRegisterPlayerEventEndCinematic( gg_trg_Victory_Skipped, Player(0) )
    call TriggerAddAction( gg_trg_Victory_Skipped, function Trig_Victory_Skipped_Actions )
endfunction

//===========================================================================
// Trigger: Victory Setup
//===========================================================================
function Trig_Victory_Setup_Func034002002 takes nothing returns boolean
    return ( IsUnitHiddenBJ(GetFilterUnit()) == false )
endfunction

function Trig_Victory_Setup_Func035001002 takes nothing returns boolean
    return ( IsUnitHiddenBJ(GetFilterUnit()) == false )
endfunction

function Trig_Victory_Setup_Func036001002 takes nothing returns boolean
    return ( IsUnitHiddenBJ(GetFilterUnit()) == false )
endfunction

function Trig_Victory_Setup_Func037001002 takes nothing returns boolean
    return ( IsUnitHiddenBJ(GetFilterUnit()) == false )
endfunction

function Trig_Victory_Setup_Func041002 takes nothing returns nothing
    call ShowUnitHide( GetEnumUnit() )
endfunction

function Trig_Victory_Setup_Func043002 takes nothing returns nothing
    call SetItemVisibleBJ( false, GetEnumItem() )
endfunction

function Trig_Victory_Setup_Func045002 takes nothing returns nothing
    call UnitRemoveBuffsBJ( bj_REMOVEBUFFS_ALL, GetEnumUnit() )
endfunction

function Trig_Victory_Setup_Func046002 takes nothing returns nothing
    call UnitRemoveBuffsBJ( bj_REMOVEBUFFS_ALL, GetEnumUnit() )
endfunction

function Trig_Victory_Setup_Func047002 takes nothing returns nothing
    call UnitRemoveBuffsBJ( bj_REMOVEBUFFS_ALL, GetEnumUnit() )
endfunction

function Trig_Victory_Setup_Func048002 takes nothing returns nothing
    call UnitRemoveBuffsBJ( bj_REMOVEBUFFS_ALL, GetEnumUnit() )
endfunction

function Trig_Victory_Setup_Actions takes nothing returns nothing
    // Set Sky
    call SetSkyModel( "Environment\\Sky\\LordaeronSummerSky\\LordaeronSummerSky.mdl" )
    // Clear Selection
    call ClearSelection(  )
    // Portal Facing
    call SetUnitFacingTimed( gg_unit_h000_0002, 90.00, 0 )
    // Revive Hero
    set udg_RevivalHero = udg_Kael
    set udg_RevivalSpot = GetRectCenter(gg_rct_Victory_Kael_Start)
    call ConditionalTriggerExecute( gg_trg_Cinematic_Revival )
    set udg_KaelReturnSpot = udg_RevivalReturnSpot
    call SetUnitFacingTimed( udg_Kael, 0.00, 0 )
    // Revive Hero
    set udg_RevivalHero = udg_Vashj
    set udg_RevivalSpot = GetRectCenter(gg_rct_Victory_Vashj_Start)
    call ConditionalTriggerExecute( gg_trg_Cinematic_Revival )
    set udg_VashjReturnSpot = udg_RevivalReturnSpot
    call SetUnitFacingTimed( udg_Vashj, 0.00, 0 )
    // Disable XP Gain
    call SuspendHeroXPBJ( false, udg_Kael )
    call SuspendHeroXPBJ( false, udg_Vashj )
    // Pause Time Of Day
    call UseTimeOfDayBJ( false )
    // Pause Units
    call PauseAllUnitsBJ( true )
    call PauseUnitBJ( false, udg_Kael )
    call PauseUnitBJ( false, udg_Vashj )
    call PauseUnitBJ( false, gg_unit_h000_0002 )
    set bj_forLoopAIndex = 1
    set bj_forLoopAIndexEnd = 30
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call PauseTimerBJ( true, udg_WaveTimer[GetForLoopIndexA()] )
        set bj_forLoopAIndex = bj_forLoopAIndex + 1
    endloop
    // Pause Timers
    call PauseTimerBJ( true, udg_PeasantTimer )
    call PauseTimerBJ( true, udg_TroopTimer )
    // Hide Units
    set udg_HiddenUnits = GetUnitsOfPlayerMatching(udg_AP1_Player, Condition(function Trig_Victory_Setup_Func034002002))
    call GroupAddGroup( GetUnitsOfPlayerMatching(udg_P02_Escapees, Condition(function Trig_Victory_Setup_Func035001002)), udg_HiddenUnits )
    call GroupAddGroup( GetUnitsOfPlayerMatching(udg_P06_HumansBase, Condition(function Trig_Victory_Setup_Func036001002)), udg_HiddenUnits )
    call GroupAddGroup( GetUnitsOfPlayerMatching(udg_P07_HumansWave, Condition(function Trig_Victory_Setup_Func037001002)), udg_HiddenUnits )
    call GroupRemoveUnitSimple( udg_Kael, udg_HiddenUnits )
    call GroupRemoveUnitSimple( udg_Vashj, udg_HiddenUnits )
    call GroupRemoveUnitSimple( gg_unit_h000_0002, udg_HiddenUnits )
    call ForGroupBJ( udg_HiddenUnits, function Trig_Victory_Setup_Func041002 )
    // Hide Items
    call EnumItemsInRectBJ( GetPlayableMapRect(), function Trig_Victory_Setup_Func043002 )
    // Remove Buffs
    call ForGroupBJ( GetUnitsOfPlayerAll(udg_AP1_Player), function Trig_Victory_Setup_Func045002 )
    call ForGroupBJ( GetUnitsOfPlayerAll(udg_P02_Escapees), function Trig_Victory_Setup_Func046002 )
    call ForGroupBJ( GetUnitsOfPlayerAll(udg_P06_HumansBase), function Trig_Victory_Setup_Func047002 )
    call ForGroupBJ( GetUnitsOfPlayerAll(udg_P07_HumansWave), function Trig_Victory_Setup_Func048002 )
    // Disable Abilities
    call SetPlayerAbilityAvailableBJ( false, 'AIba', udg_AP1_Player )
    call SetPlayerAbilityAvailableBJ( false, 'AHad', udg_P06_HumansBase )
    // Music Theme
    call PlayThematicMusicBJ( "Sound\\Music\\mp3Music\\HeroicVictory.mp3" )
    // Trigger
    call EnableTrigger( gg_trg_Victory_Travel_to_Outland )
endfunction

//===========================================================================
function InitTrig_Victory_Setup takes nothing returns nothing
    set gg_trg_Victory_Setup = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Victory_Setup, function Trig_Victory_Setup_Actions )
endfunction

//===========================================================================
// Trigger: Victory Travel to Outland
//===========================================================================
function Trig_Victory_Travel_to_Outland_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == Player(0) ) ) then
        return false
    endif
    return true
endfunction

function Trig_Victory_Travel_to_Outland_Actions takes nothing returns nothing
    call RemoveUnit( GetEnteringUnit() )
endfunction

//===========================================================================
function InitTrig_Victory_Travel_to_Outland takes nothing returns nothing
    set gg_trg_Victory_Travel_to_Outland = CreateTrigger(  )
    call DisableTrigger( gg_trg_Victory_Travel_to_Outland )
    call TriggerRegisterEnterRectSimple( gg_trg_Victory_Travel_to_Outland, gg_rct_Escape_Portal_Tripwire )
    call TriggerAddCondition( gg_trg_Victory_Travel_to_Outland, Condition( function Trig_Victory_Travel_to_Outland_Conditions ) )
    call TriggerAddAction( gg_trg_Victory_Travel_to_Outland, function Trig_Victory_Travel_to_Outland_Actions )
endfunction

//===========================================================================
// Trigger: Score
//===========================================================================
function Trig_Score_Func004Func012Func001Func001C takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_HARD ) ) then
        return false
    endif
    if ( not ( udg_Wave > udg_HighScoreHard ) ) then
        return false
    endif
    return true
endfunction

function Trig_Score_Func004Func012Func001C takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_NORMAL ) ) then
        return false
    endif
    if ( not ( udg_Wave > udg_HighScoreNormal ) ) then
        return false
    endif
    return true
endfunction

function Trig_Score_Func004Func012C takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_EASY ) ) then
        return false
    endif
    if ( not ( udg_Wave > udg_HighScoreEasy ) ) then
        return false
    endif
    return true
endfunction

function Trig_Score_Func004Func013C takes nothing returns boolean
    if ( not ( udg_Wave < 20 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Score_Func004C takes nothing returns boolean
    if ( not ( udg_Wave < 31 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Score_Actions takes nothing returns nothing
    call CameraSetupApplyForPlayer( true, gg_cam_SCORESCREENCAM, udg_AP1_Player, 0 )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    if ( Trig_Score_Func004C() ) then
        call DisplayTimedTextToForce( GetPlayersAll(), 12.00, "TRIGSTR_307" )
        call CreateTextTagLocBJ( "TRIGSTR_324", GetRectCenter(gg_rct_YOULOSEEMITTER), 0, 50.00, 100, 0.00, 0.00, 0 )
        call DisplayTimedTextToForce( GetPlayersAll(), 12.00, I2S(udg_Wave) )
        if ( Trig_Score_Func004Func012C() ) then
            call DisplayTimedTextToForce( GetPlayersAll(), 12.00, "TRIGSTR_311" )
        else
            if ( Trig_Score_Func004Func012Func001C() ) then
                call DisplayTimedTextToForce( GetPlayersAll(), 12.00, "TRIGSTR_312" )
            else
                if ( Trig_Score_Func004Func012Func001Func001C() ) then
                    call DisplayTimedTextToForce( GetPlayersAll(), 12.00, "TRIGSTR_314" )
                else
                    call DisplayTimedTextToForce( GetPlayersAll(), 12.00, "TRIGSTR_315" )
                endif
            endif
        endif
        if ( Trig_Score_Func004Func013C() ) then
            call PlaySoundBJ( gg_snd_PandarenBrewmasterPissed3 )
        else
            call PlaySoundBJ( gg_snd_PandarenBrewmasterPissed8 )
        endif
    else
        call CreateTextTagLocBJ( "TRIGSTR_325", GetRectCenter(gg_rct_YOULOSEEMITTER), 0, 50.00, 100, 80.00, 20.00, 0 )
        call CinematicFilterGenericBJ( 3.00, BLEND_MODE_BLEND, "ReplaceableTextures\\CameraMasks\\Panda-n-Cub.tga", 100, 100, 100, 100, 100.00, 100.00, 100.00, 0 )
        call PlaySoundBJ( gg_snd_PandarenBrewmasterYesAttack3 )
        call TriggerSleepAction( 11.00 )
        call CinematicFilterGenericBJ( 1.00, BLEND_MODE_BLEND, "ReplaceableTextures\\CameraMasks\\Panda-n-Cub.tga", 100, 100, 100, 0.00, 0.00, 0.00, 0.00, 0 )
        call TriggerSleepAction( 1.00 )
        set udg_ScoreScreenPlaying = true
        return
    endif
    call TriggerSleepAction( 11.00 )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    set udg_ScoreScreenPlaying = true
endfunction

//===========================================================================
function InitTrig_Score takes nothing returns nothing
    set gg_trg_Score = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Score, function Trig_Score_Actions )
endfunction

//===========================================================================
// Trigger: Next Level Prep
//===========================================================================
function Trig_Next_Level_Prep_Actions takes nothing returns nothing
    // Remove Quest Items
    call RemoveItem( GetItemOfTypeFromUnitBJ(udg_Kael, 'I00A') )
    call RemoveItem( GetItemOfTypeFromUnitBJ(udg_Kael, 'I006') )
    call RemoveItem( GetItemOfTypeFromUnitBJ(udg_Kael, 'I009') )
    call RemoveItem( GetItemOfTypeFromUnitBJ(udg_Kael, 'I008') )
    call RemoveItem( GetItemOfTypeFromUnitBJ(udg_Kael, 'I007') )
    call RemoveItem( GetItemOfTypeFromUnitBJ(udg_Kael, 'I004') )
    call RemoveItem( GetItemOfTypeFromUnitBJ(udg_Kael, 'I005') )
    call RemoveItem( GetItemOfTypeFromUnitBJ(udg_Vashj, 'I00A') )
    call RemoveItem( GetItemOfTypeFromUnitBJ(udg_Vashj, 'I006') )
    call RemoveItem( GetItemOfTypeFromUnitBJ(udg_Vashj, 'I009') )
    call RemoveItem( GetItemOfTypeFromUnitBJ(udg_Vashj, 'I008') )
    call RemoveItem( GetItemOfTypeFromUnitBJ(udg_Vashj, 'I007') )
    call RemoveItem( GetItemOfTypeFromUnitBJ(udg_Vashj, 'I004') )
    call RemoveItem( GetItemOfTypeFromUnitBJ(udg_Vashj, 'I005') )
    // Save Heroes
    call InitGameCacheBJ( "Campaigns.w3v" )
    call StoreUnitBJ( udg_Kael, "Kael", "HumanX04S", GetLastCreatedGameCacheBJ() )
    call StoreUnitBJ( udg_Vashj, "Vashj", "HumanX04S", GetLastCreatedGameCacheBJ() )
    call ConditionalTriggerExecute( gg_trg_Save_High_Score )
    call SaveGameCacheBJ( GetLastCreatedGameCacheBJ() )
    // Enable Missions, Campaigns, Cinematics
endfunction

//===========================================================================
function InitTrig_Next_Level_Prep takes nothing returns nothing
    set gg_trg_Next_Level_Prep = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Next_Level_Prep, function Trig_Next_Level_Prep_Actions )
endfunction

//===========================================================================
// Trigger: Next Level Run
//===========================================================================
function Trig_Next_Level_Run_Actions takes nothing returns nothing
    // Set Next Level and Victory
    call SetNextLevelBJ( "Maps\\FrozenThrone\\Campaign\\HumanX03Interlude.w3x" )
    call CustomVictoryBJ( udg_AP1_Player, true, true )
endfunction

//===========================================================================
function InitTrig_Next_Level_Run takes nothing returns nothing
    set gg_trg_Next_Level_Run = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Next_Level_Run, function Trig_Next_Level_Run_Actions )
endfunction

//===========================================================================
// Trigger: Save High Score
//===========================================================================
function Trig_Save_High_Score_Func001C takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_EASY ) ) then
        return false
    endif
    if ( not ( udg_FinalWaveHighScore > udg_HighScoreEasy ) ) then
        return false
    endif
    return true
endfunction

function Trig_Save_High_Score_Func002C takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_NORMAL ) ) then
        return false
    endif
    if ( not ( udg_FinalWaveHighScore > udg_HighScoreNormal ) ) then
        return false
    endif
    return true
endfunction

function Trig_Save_High_Score_Func003C takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_HARD ) ) then
        return false
    endif
    if ( not ( udg_FinalWaveHighScore > udg_HighScoreHard ) ) then
        return false
    endif
    return true
endfunction

function Trig_Save_High_Score_Actions takes nothing returns nothing
    if ( Trig_Save_High_Score_Func001C() ) then
        call StoreIntegerBJ( udg_FinalWaveHighScore, "FinalWaveEasy", "HumanX03s", GetLastCreatedGameCacheBJ() )
    else
    endif
    if ( Trig_Save_High_Score_Func002C() ) then
        call StoreIntegerBJ( udg_FinalWaveHighScore, "FinalWaveNormal", "HumanX03s", GetLastCreatedGameCacheBJ() )
    else
    endif
    if ( Trig_Save_High_Score_Func003C() ) then
        call StoreIntegerBJ( udg_FinalWaveHighScore, "FinalWaveHard", "HumanX03s", GetLastCreatedGameCacheBJ() )
    else
    endif
endfunction

//===========================================================================
function InitTrig_Save_High_Score takes nothing returns nothing
    set gg_trg_Save_High_Score = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Save_High_Score, function Trig_Save_High_Score_Actions )
endfunction

//===========================================================================
// Trigger: Victory Cheat
//===========================================================================
function Trig_Victory_Cheat_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Victory_Cheat_Actions takes nothing returns nothing
    set udg_GameOver = true
    call ConditionalTriggerExecute( gg_trg_Next_Level_Prep )
    call ConditionalTriggerExecute( gg_trg_Next_Level_Run )
endfunction

//===========================================================================
function InitTrig_Victory_Cheat takes nothing returns nothing
    set gg_trg_Victory_Cheat = CreateTrigger(  )
    call TriggerRegisterPlayerEventVictory( gg_trg_Victory_Cheat, Player(0) )
    call TriggerAddCondition( gg_trg_Victory_Cheat, Condition( function Trig_Victory_Cheat_Conditions ) )
    call TriggerAddAction( gg_trg_Victory_Cheat, function Trig_Victory_Cheat_Actions )
endfunction

//===========================================================================
// Trigger: Defeat Cheat
//===========================================================================
function Trig_Defeat_Cheat_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Defeat_Cheat_Actions takes nothing returns nothing
    set udg_GameOver = true
    call CustomDefeatBJ( udg_AP1_Player, "TRIGSTR_023" )
endfunction

//===========================================================================
function InitTrig_Defeat_Cheat takes nothing returns nothing
    set gg_trg_Defeat_Cheat = CreateTrigger(  )
    call TriggerRegisterPlayerEventDefeat( gg_trg_Defeat_Cheat, Player(0) )
    call TriggerAddCondition( gg_trg_Defeat_Cheat, Condition( function Trig_Defeat_Cheat_Conditions ) )
    call TriggerAddAction( gg_trg_Defeat_Cheat, function Trig_Defeat_Cheat_Actions )
endfunction

//===========================================================================
// Trigger: Quest Defend Create
//===========================================================================
function Trig_Quest_Defend_Create_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Quest_Defend_Create_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    // Create the quest objects
    call CreateQuestBJ( bj_QUESTTYPE_REQ_UNDISCOVERED, "TRIGSTR_024", "TRIGSTR_025", "ReplaceableTextures\\CommandButtons\\BTNRockTower.tga" )
    set udg_QuestDefend = GetLastCreatedQuestBJ()
    call CreateQuestItemBJ( udg_QuestDefend, "TRIGSTR_026" )
    set udg_QuestDefendReq1 = GetLastCreatedQuestItemBJ()
    call CreateQuestItemBJ( udg_QuestDefend, "TRIGSTR_270" )
    set udg_QuestDefendReq2 = GetLastCreatedQuestItemBJ()
endfunction

//===========================================================================
function InitTrig_Quest_Defend_Create takes nothing returns nothing
    set gg_trg_Quest_Defend_Create = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Quest_Defend_Create, Condition( function Trig_Quest_Defend_Create_Conditions ) )
    call TriggerAddAction( gg_trg_Quest_Defend_Create, function Trig_Quest_Defend_Create_Actions )
endfunction

//===========================================================================
// Trigger: Quest Defend Discover
//===========================================================================
function Trig_Quest_Defend_Discover_Actions takes nothing returns nothing
    // Ensure that the quest exists
    call ConditionalTriggerExecute( gg_trg_Quest_Defend_Create )
    // Update the quest
    call QuestSetDiscoveredBJ( udg_QuestDefend, true )
    // Display a quest message.
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_027" )
endfunction

//===========================================================================
function InitTrig_Quest_Defend_Discover takes nothing returns nothing
    set gg_trg_Quest_Defend_Discover = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Quest_Defend_Discover, function Trig_Quest_Defend_Discover_Actions )
endfunction

//===========================================================================
// Trigger: Quest Defend Completed
//===========================================================================
function Trig_Quest_Defend_Completed_Actions takes nothing returns nothing
    // Ensure that the quest exists
    call ConditionalTriggerExecute( gg_trg_Quest_Defend_Create )
    // Update the quest
    call QuestSetDiscoveredBJ( udg_QuestDefend, true )
    call QuestItemSetCompletedBJ( udg_QuestDefendReq1, true )
    call QuestItemSetCompletedBJ( udg_QuestDefendReq2, true )
    call QuestSetCompletedBJ( udg_QuestDefend, true )
    // Display a quest message.
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_COMPLETED, "TRIGSTR_028" )
endfunction

//===========================================================================
function InitTrig_Quest_Defend_Completed takes nothing returns nothing
    set gg_trg_Quest_Defend_Completed = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Quest_Defend_Completed, function Trig_Quest_Defend_Completed_Actions )
endfunction

//===========================================================================
// Trigger: Quest Defend Failed
//===========================================================================
function Trig_Quest_Defend_Failed_Actions takes nothing returns nothing
    // Ensure that the quest exists
    call ConditionalTriggerExecute( gg_trg_Quest_Defend_Create )
    // Update the quest
    call QuestSetDiscoveredBJ( udg_QuestDefend, true )
    call QuestSetFailedBJ( udg_QuestDefend, true )
    // Display a quest message.
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_FAILED, "TRIGSTR_043" )
endfunction

//===========================================================================
function InitTrig_Quest_Defend_Failed takes nothing returns nothing
    set gg_trg_Quest_Defend_Failed = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Quest_Defend_Failed, function Trig_Quest_Defend_Failed_Actions )
endfunction

//===========================================================================
// Trigger: Mission Failed Base Dead
//===========================================================================
function Trig_Mission_Failed_Base_Dead_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_MISSIONFAILED, "TRIGSTR_036" )
endfunction

//===========================================================================
function InitTrig_Mission_Failed_Base_Dead takes nothing returns nothing
    set gg_trg_Mission_Failed_Base_Dead = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Mission_Failed_Base_Dead, function Trig_Mission_Failed_Base_Dead_Actions )
endfunction

//===========================================================================
// Trigger: Hint Build Event
//===========================================================================
function Trig_Hint_Build_Event_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Hint_Build_Towers_Q, true )
endfunction

//===========================================================================
function InitTrig_Hint_Build_Event takes nothing returns nothing
    set gg_trg_Hint_Build_Event = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Hint_Build_Event, udg_HintBuildTimer )
    call TriggerAddAction( gg_trg_Hint_Build_Event, function Trig_Hint_Build_Event_Actions )
endfunction

//===========================================================================
// Trigger: Hint Build Towers Q
//===========================================================================
function Trig_Hint_Build_Towers_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Hint_Build_Towers_Q_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_038" )
    call TriggerSleepAction( bj_QUEUE_DELAY_HINT )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Hint_Build_Towers_Q takes nothing returns nothing
    set gg_trg_Hint_Build_Towers_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Hint_Build_Towers_Q, Condition( function Trig_Hint_Build_Towers_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Hint_Build_Towers_Q, function Trig_Hint_Build_Towers_Q_Actions )
endfunction

//===========================================================================
// Trigger: Hint Train Event
//===========================================================================
function Trig_Hint_Train_Event_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Hint_Train_Engineers_Q, true )
endfunction

//===========================================================================
function InitTrig_Hint_Train_Event takes nothing returns nothing
    set gg_trg_Hint_Train_Event = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Hint_Train_Event, udg_HintTrainTimer )
    call TriggerAddAction( gg_trg_Hint_Train_Event, function Trig_Hint_Train_Event_Actions )
endfunction

//===========================================================================
// Trigger: Hint Train Engineers Q
//===========================================================================
function Trig_Hint_Train_Engineers_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Hint_Train_Engineers_Q_Actions takes nothing returns nothing
    call PingMinimapLocForForce( GetPlayersAll(), GetRectCenter(gg_rct_TownHall), 4.00 )
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_215" )
    call TriggerSleepAction( bj_QUEUE_DELAY_HINT )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Hint_Train_Engineers_Q takes nothing returns nothing
    set gg_trg_Hint_Train_Engineers_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Hint_Train_Engineers_Q, Condition( function Trig_Hint_Train_Engineers_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Hint_Train_Engineers_Q, function Trig_Hint_Train_Engineers_Q_Actions )
endfunction

//===========================================================================
// Trigger: New Unit Tower3
//===========================================================================
function Trig_New_Unit_Tower3_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_UNITAVAILABLE, "TRIGSTR_286" )
endfunction

//===========================================================================
function InitTrig_New_Unit_Tower3 takes nothing returns nothing
    set gg_trg_New_Unit_Tower3 = CreateTrigger(  )
    call TriggerAddAction( gg_trg_New_Unit_Tower3, function Trig_New_Unit_Tower3_Actions )
endfunction

//===========================================================================
// Trigger: New Unit Tower4
//===========================================================================
function Trig_New_Unit_Tower4_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_UNITAVAILABLE, "TRIGSTR_287" )
endfunction

//===========================================================================
function InitTrig_New_Unit_Tower4 takes nothing returns nothing
    set gg_trg_New_Unit_Tower4 = CreateTrigger(  )
    call TriggerAddAction( gg_trg_New_Unit_Tower4, function Trig_New_Unit_Tower4_Actions )
endfunction

//===========================================================================
// Trigger: New Unit Tower5
//===========================================================================
function Trig_New_Unit_Tower5_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_UNITAVAILABLE, "TRIGSTR_288" )
endfunction

//===========================================================================
function InitTrig_New_Unit_Tower5 takes nothing returns nothing
    set gg_trg_New_Unit_Tower5 = CreateTrigger(  )
    call TriggerAddAction( gg_trg_New_Unit_Tower5, function Trig_New_Unit_Tower5_Actions )
endfunction

//===========================================================================
// Trigger: WARNING Wave Sent Q
//===========================================================================
function Trig_WARNING_Wave_Sent_Q_Actions takes nothing returns nothing
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_WARNING, "TRIGSTR_306" )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_WARNING_Wave_Sent_Q takes nothing returns nothing
    set gg_trg_WARNING_Wave_Sent_Q = CreateTrigger(  )
    call TriggerAddAction( gg_trg_WARNING_Wave_Sent_Q, function Trig_WARNING_Wave_Sent_Q_Actions )
endfunction

//===========================================================================
// Trigger: Victory Portal Dying
//===========================================================================
function Trig_Victory_Portal_Dying_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Victory_Portal_Dying_Actions takes nothing returns nothing
    set udg_GameOver = true
    call SetUnitInvulnerable( gg_unit_h000_0002, true )
    call TriggerSleepAction( 2 )
    call QueuedTriggerAddBJ( gg_trg_Victory_Cinematic_Q, true )
    set udg_FinalWaveHighScore = udg_Wave
endfunction

//===========================================================================
function InitTrig_Victory_Portal_Dying takes nothing returns nothing
    set gg_trg_Victory_Portal_Dying = CreateTrigger(  )
    call TriggerRegisterUnitLifeEvent( gg_trg_Victory_Portal_Dying, gg_unit_h000_0002, LESS_THAN_OR_EQUAL, 401.00 )
    call TriggerAddCondition( gg_trg_Victory_Portal_Dying, Condition( function Trig_Victory_Portal_Dying_Conditions ) )
    call TriggerAddAction( gg_trg_Victory_Portal_Dying, function Trig_Victory_Portal_Dying_Actions )
endfunction

//===========================================================================
// Trigger: Victory Final Wave
//===========================================================================
function Trig_Victory_Final_Wave_Conditions takes nothing returns boolean
    if ( not ( IsUnitGroupDeadBJ(udg_FinalWaveGroup) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Victory_Final_Wave_Actions takes nothing returns nothing
    set udg_GameOver = true
    call SetUnitInvulnerable( udg_Portal, true )
    call TriggerSleepAction( 2 )
    call QueuedTriggerAddBJ( gg_trg_Victory_Cinematic_Q, true )
    set udg_FinalWaveHighScore = 31
endfunction

//===========================================================================
function InitTrig_Victory_Final_Wave takes nothing returns nothing
    set gg_trg_Victory_Final_Wave = CreateTrigger(  )
    call DisableTrigger( gg_trg_Victory_Final_Wave )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Victory_Final_Wave, Player(6), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Victory_Final_Wave, Condition( function Trig_Victory_Final_Wave_Conditions ) )
    call TriggerAddAction( gg_trg_Victory_Final_Wave, function Trig_Victory_Final_Wave_Actions )
endfunction

//===========================================================================
// Trigger: Defeat Units Dead
//===========================================================================
function Trig_Defeat_Units_Dead_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( GetPlayerStructureCount(Player(0), true) == 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Defeat_Units_Dead_Actions takes nothing returns nothing
    set udg_GameOver = true
    set udg_FinalWaveHighScore = udg_Wave
    call TriggerSleepAction( 2 )
    call ConditionalTriggerExecute( gg_trg_Mission_Failed_Base_Dead )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call CustomDefeatBJ( udg_AP1_Player, "TRIGSTR_041" )
endfunction

//===========================================================================
function InitTrig_Defeat_Units_Dead takes nothing returns nothing
    set gg_trg_Defeat_Units_Dead = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Defeat_Units_Dead, 1.00 )
    call TriggerAddCondition( gg_trg_Defeat_Units_Dead, Condition( function Trig_Defeat_Units_Dead_Conditions ) )
    call TriggerAddAction( gg_trg_Defeat_Units_Dead, function Trig_Defeat_Units_Dead_Actions )
endfunction

//===========================================================================
// Trigger: Remove Dead From Final Wave Group
//===========================================================================
function Trig_Remove_Dead_From_Final_Wave_Group_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetDyingUnit(), udg_FinalWaveGroup) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Remove_Dead_From_Final_Wave_Group_Actions takes nothing returns nothing
    call GroupRemoveUnitSimple( GetDyingUnit(), udg_FinalWaveGroup )
endfunction

//===========================================================================
function InitTrig_Remove_Dead_From_Final_Wave_Group takes nothing returns nothing
    set gg_trg_Remove_Dead_From_Final_Wave_Group = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Remove_Dead_From_Final_Wave_Group, Player(6), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Remove_Dead_From_Final_Wave_Group, Condition( function Trig_Remove_Dead_From_Final_Wave_Group_Conditions ) )
    call TriggerAddAction( gg_trg_Remove_Dead_From_Final_Wave_Group, function Trig_Remove_Dead_From_Final_Wave_Group_Actions )
endfunction

//===========================================================================
// Trigger: Time Warning1
//===========================================================================
function Trig_Time_Warning1_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Time_Warning1_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Time_Warning1_Q, true )
endfunction

//===========================================================================
function InitTrig_Time_Warning1 takes nothing returns nothing
    set gg_trg_Time_Warning1 = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Time_Warning1, udg_TimeWarning1Timer )
    call TriggerAddCondition( gg_trg_Time_Warning1, Condition( function Trig_Time_Warning1_Conditions ) )
    call TriggerAddAction( gg_trg_Time_Warning1, function Trig_Time_Warning1_Actions )
endfunction

//===========================================================================
// Trigger: Time Warning1 Q
//===========================================================================
function Trig_Time_Warning1_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( IsUnitAliveBJ(udg_Vashj) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Time_Warning1_Q_Actions takes nothing returns nothing
    call SetSpeechVolumeGroupsBJ(  )
    // Line
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Vashj, "TRIGSTR_021", gg_snd_A04LadyVashj22, "TRIGSTR_060", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_A04LadyVashj22, 0 )
    call VolumeGroupResetBJ(  )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Time_Warning1_Q takes nothing returns nothing
    set gg_trg_Time_Warning1_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Time_Warning1_Q, Condition( function Trig_Time_Warning1_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Time_Warning1_Q, function Trig_Time_Warning1_Q_Actions )
endfunction

//===========================================================================
// Trigger: Time Warning2
//===========================================================================
function Trig_Time_Warning2_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Time_Warning2_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Time_Warning2_Q, true )
endfunction

//===========================================================================
function InitTrig_Time_Warning2 takes nothing returns nothing
    set gg_trg_Time_Warning2 = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Time_Warning2, udg_TimeWarning2Timer )
    call TriggerAddCondition( gg_trg_Time_Warning2, Condition( function Trig_Time_Warning2_Conditions ) )
    call TriggerAddAction( gg_trg_Time_Warning2, function Trig_Time_Warning2_Actions )
endfunction

//===========================================================================
// Trigger: Time Warning2 Q
//===========================================================================
function Trig_Time_Warning2_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( IsUnitAliveBJ(udg_Vashj) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Time_Warning2_Q_Actions takes nothing returns nothing
    call SetSpeechVolumeGroupsBJ(  )
    // Line
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Vashj, "TRIGSTR_063", gg_snd_A04LadyVashj25, "TRIGSTR_064", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_A04LadyVashj25, 0 )
    call VolumeGroupResetBJ(  )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Time_Warning2_Q takes nothing returns nothing
    set gg_trg_Time_Warning2_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Time_Warning2_Q, Condition( function Trig_Time_Warning2_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Time_Warning2_Q, function Trig_Time_Warning2_Q_Actions )
endfunction

//===========================================================================
// Trigger: Release The Beasts
//===========================================================================
function Trig_Release_The_Beasts_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Release_The_Beasts_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Release_The_Beasts_Q, true )
endfunction

//===========================================================================
function InitTrig_Release_The_Beasts takes nothing returns nothing
    set gg_trg_Release_The_Beasts = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Release_The_Beasts, udg_ReleaseBeastsTimer )
    call TriggerAddCondition( gg_trg_Release_The_Beasts, Condition( function Trig_Release_The_Beasts_Conditions ) )
    call TriggerAddAction( gg_trg_Release_The_Beasts, function Trig_Release_The_Beasts_Actions )
endfunction

//===========================================================================
// Trigger: Release The Beasts Q
//===========================================================================
function Trig_Release_The_Beasts_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( IsUnitAliveBJ(udg_Vashj) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Release_The_Beasts_Q_Actions takes nothing returns nothing
    call SetSpeechVolumeGroupsBJ(  )
    // Line
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Garithos, "TRIGSTR_274", gg_snd_A04Garithos47, "TRIGSTR_275", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_A04Garithos47, 0 )
    // Line
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Garithos, "TRIGSTR_276", gg_snd_A04Garithos46, "TRIGSTR_277", bj_TIMETYPE_ADD, 0, false )
    call WaitForSoundBJ( gg_snd_A04Garithos46, 0 )
    call VolumeGroupResetBJ(  )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Release_The_Beasts_Q takes nothing returns nothing
    set gg_trg_Release_The_Beasts_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Release_The_Beasts_Q, Condition( function Trig_Release_The_Beasts_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Release_The_Beasts_Q, function Trig_Release_The_Beasts_Q_Actions )
endfunction

//===========================================================================
// Trigger: Portal Attacked
//===========================================================================
function Trig_Portal_Attacked_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( IsUnitAliveBJ(udg_Vashj) == true ) ) then
        return false
    endif
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( IsTriggerQueueEmptyBJ() == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Portal_Attacked_Func004001 takes nothing returns boolean
    return ( udg_PortalAttackedMessage > 3 )
endfunction

function Trig_Portal_Attacked_Func006001 takes nothing returns boolean
    return ( udg_PortalAttackedMessage == 1 )
endfunction

function Trig_Portal_Attacked_Func007001 takes nothing returns boolean
    return ( udg_PortalAttackedMessage == 2 )
endfunction

function Trig_Portal_Attacked_Func008001 takes nothing returns boolean
    return ( udg_PortalAttackedMessage == 3 )
endfunction

function Trig_Portal_Attacked_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    // Increment the message index
    set udg_PortalAttackedMessage = ( udg_PortalAttackedMessage + 1 )
    if ( Trig_Portal_Attacked_Func004001() ) then
        set udg_PortalAttackedMessage = 1
    else
        call DoNothing(  )
    endif
    // Queue the message
    if ( Trig_Portal_Attacked_Func006001() ) then
        call QueuedTriggerAddBJ( gg_trg_Portal_Attacked_1_Q, true )
    else
        call DoNothing(  )
    endif
    if ( Trig_Portal_Attacked_Func007001() ) then
        call QueuedTriggerAddBJ( gg_trg_Portal_Attacked_2_Q, true )
    else
        call DoNothing(  )
    endif
    if ( Trig_Portal_Attacked_Func008001() ) then
        call QueuedTriggerAddBJ( gg_trg_Portal_Attacked_3_Q, true )
    else
        call DoNothing(  )
    endif
    // This trigger is turned back on by the Queued trigger.
endfunction

//===========================================================================
function InitTrig_Portal_Attacked takes nothing returns nothing
    set gg_trg_Portal_Attacked = CreateTrigger(  )
    call TriggerRegisterUnitEvent( gg_trg_Portal_Attacked, gg_unit_h000_0002, EVENT_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_Portal_Attacked, Condition( function Trig_Portal_Attacked_Conditions ) )
    call TriggerAddAction( gg_trg_Portal_Attacked, function Trig_Portal_Attacked_Actions )
endfunction

//===========================================================================
// Trigger: Portal Attacked 1 Q
//===========================================================================
function Trig_Portal_Attacked_1_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Portal_Attacked_1_Q_Func002C takes nothing returns boolean
    if ( not ( IsUnitAliveBJ(udg_Vashj) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Portal_Attacked_1_Q_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.60 )
    if ( Trig_Portal_Attacked_1_Q_Func002C() ) then
        call SetSpeechVolumeGroupsBJ(  )
        // Line
        call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Vashj, "TRIGSTR_021", gg_snd_A04LadyVashj19, "TRIGSTR_066", bj_TIMETYPE_ADD, 0, false )
        call WaitForSoundBJ( gg_snd_A04LadyVashj19, 0 )
        call VolumeGroupResetBJ(  )
    else
    endif
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
    // Wait a while before enabling the next warning message, to avoid spam
    call TriggerSleepAction( 30.00 )
    call EnableTrigger( gg_trg_Portal_Attacked )
endfunction

//===========================================================================
function InitTrig_Portal_Attacked_1_Q takes nothing returns nothing
    set gg_trg_Portal_Attacked_1_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Portal_Attacked_1_Q, Condition( function Trig_Portal_Attacked_1_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Portal_Attacked_1_Q, function Trig_Portal_Attacked_1_Q_Actions )
endfunction

//===========================================================================
// Trigger: Portal Attacked 2 Q
//===========================================================================
function Trig_Portal_Attacked_2_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Portal_Attacked_2_Q_Func002C takes nothing returns boolean
    if ( not ( IsUnitAliveBJ(udg_Vashj) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Portal_Attacked_2_Q_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.60 )
    if ( Trig_Portal_Attacked_2_Q_Func002C() ) then
        call SetSpeechVolumeGroupsBJ(  )
        // Line
        call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Vashj, "TRIGSTR_021", gg_snd_A04LadyVashj20, "TRIGSTR_068", bj_TIMETYPE_ADD, 0, false )
        call WaitForSoundBJ( gg_snd_A04LadyVashj20, 0 )
        call VolumeGroupResetBJ(  )
    else
    endif
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
    // Wait a while before enabling the next warning message, to avoid spam
    call TriggerSleepAction( 30.00 )
    call EnableTrigger( gg_trg_Portal_Attacked )
endfunction

//===========================================================================
function InitTrig_Portal_Attacked_2_Q takes nothing returns nothing
    set gg_trg_Portal_Attacked_2_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Portal_Attacked_2_Q, Condition( function Trig_Portal_Attacked_2_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Portal_Attacked_2_Q, function Trig_Portal_Attacked_2_Q_Actions )
endfunction

//===========================================================================
// Trigger: Portal Attacked 3 Q
//===========================================================================
function Trig_Portal_Attacked_3_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Portal_Attacked_3_Q_Func002C takes nothing returns boolean
    if ( not ( IsUnitAliveBJ(udg_Vashj) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Portal_Attacked_3_Q_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.60 )
    if ( Trig_Portal_Attacked_3_Q_Func002C() ) then
        call SetSpeechVolumeGroupsBJ(  )
        // Line
        call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Vashj, "TRIGSTR_021", gg_snd_A04LadyVashj21, "TRIGSTR_070", bj_TIMETYPE_ADD, 0, false )
        call WaitForSoundBJ( gg_snd_A04LadyVashj21, 0 )
        call VolumeGroupResetBJ(  )
    else
    endif
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
    // Wait a while before enabling the next warning message, to avoid spam
    call TriggerSleepAction( 30.00 )
    call EnableTrigger( gg_trg_Portal_Attacked )
endfunction

//===========================================================================
function InitTrig_Portal_Attacked_3_Q takes nothing returns nothing
    set gg_trg_Portal_Attacked_3_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Portal_Attacked_3_Q, Condition( function Trig_Portal_Attacked_3_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Portal_Attacked_3_Q, function Trig_Portal_Attacked_3_Q_Actions )
endfunction

//===========================================================================
// Trigger: Vault1 Opened
//===========================================================================
function Trig_Vault1_Opened_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Vault1_Opened_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 0.10 )
    call CreateItemLoc( 'gcel', GetUnitLoc(GetDyingUnit()) )
    call QueuedTriggerAddBJ( gg_trg_Vault1_Opened_Q, true )
endfunction

//===========================================================================
function InitTrig_Vault1_Opened takes nothing returns nothing
    set gg_trg_Vault1_Opened = CreateTrigger(  )
    call TriggerRegisterUnitEvent( gg_trg_Vault1_Opened, gg_unit_n009_0030, EVENT_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Vault1_Opened, Condition( function Trig_Vault1_Opened_Conditions ) )
    call TriggerAddAction( gg_trg_Vault1_Opened, function Trig_Vault1_Opened_Actions )
endfunction

//===========================================================================
// Trigger: Vault1 Opened Q
//===========================================================================
function Trig_Vault1_Opened_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Vault1_Opened_Q_Func003C takes nothing returns boolean
    if ( not ( IsUnitAliveBJ(udg_Kael) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Vault1_Opened_Q_Actions takes nothing returns nothing
    set udg_Vault01Done = true
    if ( Trig_Vault1_Opened_Q_Func003C() ) then
        call SetSpeechVolumeGroupsBJ(  )
        // Line
        call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Kael, "TRIGSTR_253", gg_snd_A04Kael16, "TRIGSTR_118", bj_TIMETYPE_ADD, 0, false )
        call WaitForSoundBJ( gg_snd_A04Kael16, 0 )
        call VolumeGroupResetBJ(  )
    else
    endif
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Vault1_Opened_Q takes nothing returns nothing
    set gg_trg_Vault1_Opened_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Vault1_Opened_Q, Condition( function Trig_Vault1_Opened_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Vault1_Opened_Q, function Trig_Vault1_Opened_Q_Actions )
endfunction

//===========================================================================
// Trigger: Vault2 Opened
//===========================================================================
function Trig_Vault2_Opened_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Vault2_Opened_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 0.10 )
    call CreateItemLoc( 'oslo', GetUnitLoc(GetDyingUnit()) )
    call QueuedTriggerAddBJ( gg_trg_Vault2_Opened_Q, true )
endfunction

//===========================================================================
function InitTrig_Vault2_Opened takes nothing returns nothing
    set gg_trg_Vault2_Opened = CreateTrigger(  )
    call TriggerRegisterUnitEvent( gg_trg_Vault2_Opened, gg_unit_n009_0076, EVENT_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Vault2_Opened, Condition( function Trig_Vault2_Opened_Conditions ) )
    call TriggerAddAction( gg_trg_Vault2_Opened, function Trig_Vault2_Opened_Actions )
endfunction

//===========================================================================
// Trigger: Vault2 Opened Q
//===========================================================================
function Trig_Vault2_Opened_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Vault2_Opened_Q_Func003C takes nothing returns boolean
    if ( not ( IsUnitAliveBJ(udg_Kael) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Vault2_Opened_Q_Actions takes nothing returns nothing
    set udg_Vault02Done = true
    if ( Trig_Vault2_Opened_Q_Func003C() ) then
        call SetSpeechVolumeGroupsBJ(  )
        // Line
        call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Kael, "TRIGSTR_254", gg_snd_A04Kael17, "TRIGSTR_120", bj_TIMETYPE_ADD, 0, false )
        call WaitForSoundBJ( gg_snd_A04Kael17, 0 )
        call VolumeGroupResetBJ(  )
    else
    endif
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Vault2_Opened_Q takes nothing returns nothing
    set gg_trg_Vault2_Opened_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Vault2_Opened_Q, Condition( function Trig_Vault2_Opened_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Vault2_Opened_Q, function Trig_Vault2_Opened_Q_Actions )
endfunction

//===========================================================================
// Trigger: Vault3 Opened
//===========================================================================
function Trig_Vault3_Opened_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Vault3_Opened_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 0.10 )
    call CreateItemLoc( 'mnst', GetUnitLoc(GetDyingUnit()) )
    call QueuedTriggerAddBJ( gg_trg_Vault3_Opened_Q, true )
endfunction

//===========================================================================
function InitTrig_Vault3_Opened takes nothing returns nothing
    set gg_trg_Vault3_Opened = CreateTrigger(  )
    call TriggerRegisterUnitEvent( gg_trg_Vault3_Opened, gg_unit_n009_0077, EVENT_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Vault3_Opened, Condition( function Trig_Vault3_Opened_Conditions ) )
    call TriggerAddAction( gg_trg_Vault3_Opened, function Trig_Vault3_Opened_Actions )
endfunction

//===========================================================================
// Trigger: Vault3 Opened Q
//===========================================================================
function Trig_Vault3_Opened_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Vault3_Opened_Q_Func003C takes nothing returns boolean
    if ( not ( IsUnitAliveBJ(udg_Kael) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Vault3_Opened_Q_Actions takes nothing returns nothing
    set udg_Vault03Done = true
    if ( Trig_Vault3_Opened_Q_Func003C() ) then
        call SetSpeechVolumeGroupsBJ(  )
        // Line
        call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Kael, "TRIGSTR_255", gg_snd_A04Kael18, "TRIGSTR_122", bj_TIMETYPE_ADD, 0, false )
        call WaitForSoundBJ( gg_snd_A04Kael18, 0 )
        call VolumeGroupResetBJ(  )
    else
    endif
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Vault3_Opened_Q takes nothing returns nothing
    set gg_trg_Vault3_Opened_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Vault3_Opened_Q, Condition( function Trig_Vault3_Opened_Q_Conditions ) )
    call TriggerAddAction( gg_trg_Vault3_Opened_Q, function Trig_Vault3_Opened_Q_Actions )
endfunction

//===========================================================================
// Trigger: Disable Advanced Towers
//===========================================================================
function Trig_Disable_Advanced_Towers_Actions takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'nft1', false, udg_AP1_Player )
    call SetPlayerUnitAvailableBJ( 'ndt1', false, udg_AP1_Player )
    call SetPlayerUnitAvailableBJ( 'ntt1', false, udg_AP1_Player )
endfunction

//===========================================================================
function InitTrig_Disable_Advanced_Towers takes nothing returns nothing
    set gg_trg_Disable_Advanced_Towers = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Disable_Advanced_Towers, function Trig_Disable_Advanced_Towers_Actions )
endfunction

//===========================================================================
// Trigger: TowerType3 Enabled
//===========================================================================
function Trig_TowerType3_Enabled_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_TowerType3_Enabled_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_TowerType3_Enabled_Q, true )
endfunction

//===========================================================================
function InitTrig_TowerType3_Enabled takes nothing returns nothing
    set gg_trg_TowerType3_Enabled = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_TowerType3_Enabled, udg_EnableTower3Timer )
    call TriggerAddCondition( gg_trg_TowerType3_Enabled, Condition( function Trig_TowerType3_Enabled_Conditions ) )
    call TriggerAddAction( gg_trg_TowerType3_Enabled, function Trig_TowerType3_Enabled_Actions )
endfunction

//===========================================================================
// Trigger: TowerType3 Enabled Q
//===========================================================================
function Trig_TowerType3_Enabled_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( IsUnitGroupEmptyBJ(udg_EngineerWorkers) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_TowerType3_Enabled_Q_Func008C takes nothing returns boolean
    if ( not ( udg_Speaker != null ) ) then
        return false
    endif
    return true
endfunction

function Trig_TowerType3_Enabled_Q_Actions takes nothing returns nothing
    // Enable New Tower
    call SetPlayerUnitAvailableBJ( 'nft1', true, udg_AP1_Player )
    call ConditionalTriggerExecute( gg_trg_Finish_TowerType3 )
    // Find a speaker
    set udg_Speaker = GroupPickRandomUnit(udg_EngineerWorkers)
    if ( Trig_TowerType3_Enabled_Q_Func008C() ) then
        call SetSpeechVolumeGroupsBJ(  )
        // Line
        call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_EngineerForeman01, "TRIGSTR_123", gg_snd_A04BloodElfEngineer49, "TRIGSTR_173", bj_TIMETYPE_ADD, 0, false )
        call WaitForSoundBJ( gg_snd_A04BloodElfEngineer49, 0 )
        call VolumeGroupResetBJ(  )
    else
    endif
    call ConditionalTriggerExecute( gg_trg_New_Unit_Tower3 )
    call TriggerSleepAction( bj_QUEUE_DELAY_HINT )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_TowerType3_Enabled_Q takes nothing returns nothing
    set gg_trg_TowerType3_Enabled_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_TowerType3_Enabled_Q, Condition( function Trig_TowerType3_Enabled_Q_Conditions ) )
    call TriggerAddAction( gg_trg_TowerType3_Enabled_Q, function Trig_TowerType3_Enabled_Q_Actions )
endfunction

//===========================================================================
// Trigger: TowerType4 Enabled
//===========================================================================
function Trig_TowerType4_Enabled_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_TowerType4_Enabled_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_TowerType4_Enabled_Q, true )
endfunction

//===========================================================================
function InitTrig_TowerType4_Enabled takes nothing returns nothing
    set gg_trg_TowerType4_Enabled = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_TowerType4_Enabled, udg_EnableTower4Timer )
    call TriggerAddCondition( gg_trg_TowerType4_Enabled, Condition( function Trig_TowerType4_Enabled_Conditions ) )
    call TriggerAddAction( gg_trg_TowerType4_Enabled, function Trig_TowerType4_Enabled_Actions )
endfunction

//===========================================================================
// Trigger: TowerType4 Enabled Q
//===========================================================================
function Trig_TowerType4_Enabled_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( IsUnitGroupEmptyBJ(udg_EngineerWorkers) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_TowerType4_Enabled_Q_Func008C takes nothing returns boolean
    if ( not ( udg_Speaker != null ) ) then
        return false
    endif
    return true
endfunction

function Trig_TowerType4_Enabled_Q_Actions takes nothing returns nothing
    // Enable New Tower
    call SetPlayerUnitAvailableBJ( 'ndt1', true, udg_AP1_Player )
    call ConditionalTriggerExecute( gg_trg_Finish_TowerType4 )
    // Find a speaker
    set udg_Speaker = GroupPickRandomUnit(udg_EngineerWorkers)
    if ( Trig_TowerType4_Enabled_Q_Func008C() ) then
        call SetSpeechVolumeGroupsBJ(  )
        // Line
        call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_EngineerForeman01, "TRIGSTR_123", gg_snd_A04BloodElfEngineer50, "TRIGSTR_280", bj_TIMETYPE_ADD, 0, false )
        call WaitForSoundBJ( gg_snd_A04BloodElfEngineer50, 0 )
        call VolumeGroupResetBJ(  )
    else
    endif
    call ConditionalTriggerExecute( gg_trg_New_Unit_Tower4 )
    call TriggerSleepAction( bj_QUEUE_DELAY_HINT )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_TowerType4_Enabled_Q takes nothing returns nothing
    set gg_trg_TowerType4_Enabled_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_TowerType4_Enabled_Q, Condition( function Trig_TowerType4_Enabled_Q_Conditions ) )
    call TriggerAddAction( gg_trg_TowerType4_Enabled_Q, function Trig_TowerType4_Enabled_Q_Actions )
endfunction

//===========================================================================
// Trigger: TowerType5 Enabled
//===========================================================================
function Trig_TowerType5_Enabled_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_TowerType5_Enabled_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_TowerType5_Enabled_Q, true )
endfunction

//===========================================================================
function InitTrig_TowerType5_Enabled takes nothing returns nothing
    set gg_trg_TowerType5_Enabled = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_TowerType5_Enabled, udg_EnableTower5Timer )
    call TriggerAddCondition( gg_trg_TowerType5_Enabled, Condition( function Trig_TowerType5_Enabled_Conditions ) )
    call TriggerAddAction( gg_trg_TowerType5_Enabled, function Trig_TowerType5_Enabled_Actions )
endfunction

//===========================================================================
// Trigger: TowerType5 Enabled Q
//===========================================================================
function Trig_TowerType5_Enabled_Q_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    if ( not ( IsUnitGroupEmptyBJ(udg_EngineerWorkers) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_TowerType5_Enabled_Q_Func008C takes nothing returns boolean
    if ( not ( udg_Speaker != null ) ) then
        return false
    endif
    return true
endfunction

function Trig_TowerType5_Enabled_Q_Actions takes nothing returns nothing
    // Enable New Tower
    call SetPlayerUnitAvailableBJ( 'ntt1', true, udg_AP1_Player )
    call ConditionalTriggerExecute( gg_trg_Finish_TowerType5 )
    // Find a speaker
    set udg_Speaker = GroupPickRandomUnit(udg_EngineerWorkers)
    if ( Trig_TowerType5_Enabled_Q_Func008C() ) then
        call SetSpeechVolumeGroupsBJ(  )
        // Line
        call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_EngineerForeman01, "TRIGSTR_123", gg_snd_A04BloodElfEngineer51, "TRIGSTR_281", bj_TIMETYPE_ADD, 0, false )
        call WaitForSoundBJ( gg_snd_A04BloodElfEngineer51, 0 )
        call VolumeGroupResetBJ(  )
    else
    endif
    call ConditionalTriggerExecute( gg_trg_New_Unit_Tower5 )
    call TriggerSleepAction( bj_QUEUE_DELAY_HINT )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_TowerType5_Enabled_Q takes nothing returns nothing
    set gg_trg_TowerType5_Enabled_Q = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_TowerType5_Enabled_Q, Condition( function Trig_TowerType5_Enabled_Q_Conditions ) )
    call TriggerAddAction( gg_trg_TowerType5_Enabled_Q, function Trig_TowerType5_Enabled_Q_Actions )
endfunction

//===========================================================================
// Trigger: Start Tower Research
//===========================================================================
function Trig_Start_Tower_Research_Actions takes nothing returns nothing
    // Towers
    call SetUnitAnimation( udg_EPitTower3, "birth upgrade" )
    call SetUnitAnimation( udg_EPitTower4, "birth" )
    call SetUnitAnimation( udg_EPitTower5, "birth" )
    call SetUnitTimeScalePercent( udg_EPitTower3, 1.00 )
    call SetUnitTimeScalePercent( udg_EPitTower4, 1.00 )
    call SetUnitTimeScalePercent( udg_EPitTower5, 1.00 )
    // Engineers
    call SetUnitAnimationWithRarity( udg_EngineerWorker01, "Stand Work", RARITY_RARE )
    call PolledWait( 0.30 )
    call SetUnitAnimationWithRarity( udg_EngineerWorker02, "Stand Work", RARITY_RARE )
    call PolledWait( 0.80 )
    call SetUnitAnimationWithRarity( udg_EngineerWorker03, "Stand Work", RARITY_RARE )
    // Foremen
    call SetUnitAnimationWithRarity( udg_EngineerForeman01, "Stand", RARITY_RARE )
    call SetUnitAnimationWithRarity( udg_EngineerForeman02, "Stand", RARITY_RARE )
    call SetUnitAnimationWithRarity( udg_EngineerForeman03, "Stand", RARITY_RARE )
    // Animation Speed
    call SetUnitTimeScalePercent( udg_EngineerWorker01, 50.00 )
    call SetUnitTimeScalePercent( udg_EngineerWorker02, 50.00 )
    call SetUnitTimeScalePercent( udg_EngineerWorker03, 50.00 )
endfunction

//===========================================================================
function InitTrig_Start_Tower_Research takes nothing returns nothing
    set gg_trg_Start_Tower_Research = CreateTrigger(  )
    call TriggerRegisterTimerEventSingle( gg_trg_Start_Tower_Research, 1.00 )
    call TriggerAddAction( gg_trg_Start_Tower_Research, function Trig_Start_Tower_Research_Actions )
endfunction

//===========================================================================
// Trigger: Finish TowerType3
//===========================================================================
function Trig_Finish_TowerType3_Actions takes nothing returns nothing
    // Play Finished Animation
    call SetUnitAnimation( udg_EPitTower3, "stand third" )
    // Engineers Gape
    call SetUnitTimeScalePercent( udg_EngineerWorker01, 100.00 )
    call SetUnitTimeScalePercent( udg_EngineerWorker02, 100.00 )
    call SetUnitTimeScalePercent( udg_EngineerWorker03, 100.00 )
    call SetUnitAnimation( udg_EngineerWorker01, "stand" )
    call SetUnitAnimation( udg_EngineerWorker02, "stand" )
    call SetUnitAnimation( udg_EngineerWorker03, "stand" )
    call PolledWait( 0.50 )
    // Engineers Move
    call IssuePointOrderLocBJ( udg_EngineerWorker01, "move", GetRectCenter(gg_rct_EPitTower4_Worker01) )
    call PolledWait( 0.20 )
    call IssuePointOrderLocBJ( udg_EngineerWorker02, "move", GetRectCenter(gg_rct_EPitTower4_Worker02) )
    call PolledWait( 0.80 )
    call IssuePointOrderLocBJ( udg_EngineerWorker03, "move", GetRectCenter(gg_rct_EPitTower4_Worker03) )
    call PolledWait( 1.40 )
    // Engineers Study Tower
    call SetUnitFacingToFaceUnitTimed( udg_EngineerWorker01, udg_EPitTower4, 0.20 )
    call PolledWait( 0.20 )
    call SetUnitFacingToFaceUnitTimed( udg_EngineerWorker02, udg_EPitTower4, 0.20 )
    call PolledWait( 0.30 )
    call SetUnitFacingToFaceUnitTimed( udg_EngineerWorker03, udg_EPitTower4, 0.20 )
    call PolledWait( 0.50 )
    // Engineers Resume Work
    call SetUnitTimeScalePercent( udg_EngineerWorker01, 50.00 )
    call SetUnitTimeScalePercent( udg_EngineerWorker02, 50.00 )
    call SetUnitTimeScalePercent( udg_EngineerWorker03, 50.00 )
    call SetUnitAnimation( udg_EngineerWorker01, "stand work" )
    call PolledWait( 0.30 )
    call SetUnitAnimation( udg_EngineerWorker02, "stand work" )
    call PolledWait( 0.45 )
    call SetUnitAnimation( udg_EngineerWorker03, "stand work" )
    call PolledWait( 1.00 )
    call SetUnitAnimation( udg_EPitTower4, "birth upgrade" )
endfunction

//===========================================================================
function InitTrig_Finish_TowerType3 takes nothing returns nothing
    set gg_trg_Finish_TowerType3 = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Finish_TowerType3, function Trig_Finish_TowerType3_Actions )
endfunction

//===========================================================================
// Trigger: Finish TowerType4
//===========================================================================
function Trig_Finish_TowerType4_Actions takes nothing returns nothing
    // Play Finished Animation
    call SetUnitAnimation( udg_EPitTower4, "stand fourth" )
    // Engineers Gape
    call SetUnitTimeScalePercent( udg_EngineerWorker01, 100.00 )
    call SetUnitTimeScalePercent( udg_EngineerWorker02, 100.00 )
    call SetUnitTimeScalePercent( udg_EngineerWorker03, 100.00 )
    call SetUnitAnimation( udg_EngineerWorker01, "stand" )
    call SetUnitAnimation( udg_EngineerWorker02, "stand" )
    call SetUnitAnimation( udg_EngineerWorker03, "stand" )
    call PolledWait( 0.50 )
    // Engineers Move
    call IssuePointOrderLocBJ( udg_EngineerWorker01, "move", GetRectCenter(gg_rct_EPitTower5_Worker01) )
    call PolledWait( 0.20 )
    call IssuePointOrderLocBJ( udg_EngineerWorker02, "move", GetRectCenter(gg_rct_EPitTower5_Worker02) )
    call PolledWait( 0.80 )
    call IssuePointOrderLocBJ( udg_EngineerWorker03, "move", GetRectCenter(gg_rct_EPitTower5_Worker03) )
    call PolledWait( 2.00 )
    // Engineers Study Tower
    call SetUnitFacingToFaceUnitTimed( udg_EngineerWorker01, udg_EPitTower5, 0.20 )
    call PolledWait( 0.20 )
    call SetUnitFacingToFaceUnitTimed( udg_EngineerWorker02, udg_EPitTower5, 0.20 )
    call PolledWait( 0.50 )
    call SetUnitFacingToFaceUnitTimed( udg_EngineerWorker03, udg_EPitTower5, 0.20 )
    call PolledWait( 0.50 )
    // Engineers Resume Work
    call SetUnitTimeScalePercent( udg_EngineerWorker01, 50.00 )
    call SetUnitTimeScalePercent( udg_EngineerWorker02, 50.00 )
    call SetUnitTimeScalePercent( udg_EngineerWorker03, 50.00 )
    call SetUnitAnimation( udg_EngineerWorker01, "stand work" )
    call PolledWait( 0.30 )
    call SetUnitAnimation( udg_EngineerWorker02, "stand work" )
    call PolledWait( 0.45 )
    call SetUnitAnimation( udg_EngineerWorker03, "stand work" )
    call SetUnitAnimation( udg_EPitTower5, "birth upgrade" )
    call PolledWait( 30.00 )
    // Foremen Fall Asleep
    call SetUnitAnimationWithRarity( udg_EngineerForeman01, "Stand", RARITY_FREQUENT )
    call SetUnitTimeScalePercent( udg_EngineerForeman01, 10.00 )
    call AddSpecialEffectTargetUnitBJ( "overhead", udg_EngineerForeman01, "Abilities\\Spells\\Undead\\Sleep\\SleepTarget.mdl" )
    set udg_ForemanSleepEffect01 = GetLastCreatedEffectBJ()
    call PolledWait( 25.00 )
    call SetUnitAnimationWithRarity( udg_EngineerForeman02, "Stand", RARITY_FREQUENT )
    call SetUnitTimeScalePercent( udg_EngineerForeman02, 10.00 )
    call AddSpecialEffectTargetUnitBJ( "overhead", udg_EngineerForeman02, "Abilities\\Spells\\Undead\\Sleep\\SleepTarget.mdl" )
    set udg_ForemanSleepEffect02 = GetLastCreatedEffectBJ()
    call PolledWait( 40.00 )
    call SetUnitAnimationWithRarity( udg_EngineerForeman03, "Stand", RARITY_FREQUENT )
    call SetUnitTimeScalePercent( udg_EngineerForeman03, 10.00 )
    call AddSpecialEffectTargetUnitBJ( "overhead", udg_EngineerForeman03, "Abilities\\Spells\\Undead\\Sleep\\SleepTarget.mdl" )
    set udg_ForemanSleepEffect03 = GetLastCreatedEffectBJ()
endfunction

//===========================================================================
function InitTrig_Finish_TowerType4 takes nothing returns nothing
    set gg_trg_Finish_TowerType4 = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Finish_TowerType4, function Trig_Finish_TowerType4_Actions )
endfunction

//===========================================================================
// Trigger: Finish TowerType5
//===========================================================================
function Trig_Finish_TowerType5_Actions takes nothing returns nothing
    // Play Finished Animation
    call SetUnitAnimation( udg_EPitTower5, "stand fifth" )
    // Engineers Gape
    call SetUnitTimeScalePercent( udg_EngineerWorker01, 100.00 )
    call SetUnitTimeScalePercent( udg_EngineerWorker02, 100.00 )
    call SetUnitTimeScalePercent( udg_EngineerWorker03, 100.00 )
    call SetUnitAnimation( udg_EngineerWorker01, "stand" )
    call SetUnitAnimation( udg_EngineerWorker02, "stand" )
    call SetUnitAnimation( udg_EngineerWorker03, "stand" )
    call PolledWait( 0.50 )
    // Engineers Book It
    call IssuePointOrderLocBJ( udg_EngineerWorker02, "move", GetRectCenter(gg_rct_Escape_Path2A) )
    call PolledWait( 0.50 )
    call IssuePointOrderLocBJ( udg_EngineerWorker03, "move", GetRectCenter(gg_rct_Escape_Path2A) )
    call PolledWait( 0.50 )
    call IssuePointOrderLocBJ( udg_EngineerWorker01, "move", GetRectCenter(gg_rct_Escape_Path2A) )
    call PolledWait( 20.00 )
    // Foremen Wake Up And Book It
    call SetUnitTimeScalePercent( udg_EngineerForeman01, 100.00 )
    call DestroyEffectBJ( udg_ForemanSleepEffect01 )
    call SetUnitFacingTimed( udg_EngineerForeman01, 20.00, 0.20 )
    call PolledWait( 0.50 )
    call IssuePointOrderLocBJ( udg_EngineerForeman01, "move", GetRectCenter(gg_rct_Escape_Path2A) )
    call PolledWait( 2.00 )
    call SetUnitTimeScalePercent( udg_EngineerForeman02, 100.00 )
    call DestroyEffectBJ( udg_ForemanSleepEffect02 )
    call IssuePointOrderLocBJ( udg_EngineerForeman02, "move", GetRectCenter(gg_rct_Escape_Path2A) )
    call PolledWait( 30.00 )
    call SetUnitTimeScalePercent( udg_EngineerForeman03, 100.00 )
    call DestroyEffectBJ( udg_ForemanSleepEffect03 )
    call IssuePointOrderLocBJ( udg_EngineerForeman03, "move", GetRectCenter(gg_rct_Escape_Path2A) )
endfunction

//===========================================================================
function InitTrig_Finish_TowerType5 takes nothing returns nothing
    set gg_trg_Finish_TowerType5 = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Finish_TowerType5, function Trig_Finish_TowerType5_Actions )
endfunction

//===========================================================================
// Trigger: Engineer Dies
//===========================================================================
function Trig_Engineer_Dies_Func001001 takes nothing returns boolean
    return ( GetDyingUnit() == udg_EngineerWorker01 )
endfunction

function Trig_Engineer_Dies_Func002001 takes nothing returns boolean
    return ( GetDyingUnit() == udg_EngineerWorker02 )
endfunction

function Trig_Engineer_Dies_Func003001 takes nothing returns boolean
    return ( GetDyingUnit() == udg_EngineerWorker03 )
endfunction

function Trig_Engineer_Dies_Func004001 takes nothing returns boolean
    return ( GetDyingUnit() == udg_EngineerForeman01 )
endfunction

function Trig_Engineer_Dies_Func005001 takes nothing returns boolean
    return ( GetDyingUnit() == udg_EngineerForeman02 )
endfunction

function Trig_Engineer_Dies_Func006001 takes nothing returns boolean
    return ( GetDyingUnit() == udg_EngineerForeman03 )
endfunction

function Trig_Engineer_Dies_Func007001 takes nothing returns boolean
    return ( GetDyingUnit() == udg_EPitTower3 )
endfunction

function Trig_Engineer_Dies_Func008001 takes nothing returns boolean
    return ( GetDyingUnit() == udg_EPitTower4 )
endfunction

function Trig_Engineer_Dies_Func009001 takes nothing returns boolean
    return ( GetDyingUnit() == udg_EPitTower5 )
endfunction

function Trig_Engineer_Dies_Actions takes nothing returns nothing
    if ( Trig_Engineer_Dies_Func001001() ) then
        set udg_EngineerWorker01 = null
    else
        call DoNothing(  )
    endif
    if ( Trig_Engineer_Dies_Func002001() ) then
        set udg_EngineerWorker02 = null
    else
        call DoNothing(  )
    endif
    if ( Trig_Engineer_Dies_Func003001() ) then
        set udg_EngineerWorker03 = null
    else
        call DoNothing(  )
    endif
    if ( Trig_Engineer_Dies_Func004001() ) then
        set udg_EngineerForeman01 = null
    else
        call DoNothing(  )
    endif
    if ( Trig_Engineer_Dies_Func005001() ) then
        set udg_EngineerForeman02 = null
    else
        call DoNothing(  )
    endif
    if ( Trig_Engineer_Dies_Func006001() ) then
        set udg_EngineerForeman03 = null
    else
        call DoNothing(  )
    endif
    if ( Trig_Engineer_Dies_Func007001() ) then
        set udg_EPitTower3 = null
    else
        call DoNothing(  )
    endif
    if ( Trig_Engineer_Dies_Func008001() ) then
        set udg_EPitTower4 = null
    else
        call DoNothing(  )
    endif
    if ( Trig_Engineer_Dies_Func009001() ) then
        set udg_EPitTower5 = null
    else
        call DoNothing(  )
    endif
    call SetUnitTimeScalePercent( GetDyingUnit(), 100.00 )
    call GroupRemoveUnitSimple( GetDyingUnit(), udg_EngineerWorkers )
    call GroupRemoveUnitSimple( GetDyingUnit(), udg_EngineerUnits )
    call GroupRemoveUnitSimple( GetDyingUnit(), udg_ExodusUnits )
endfunction

//===========================================================================
function InitTrig_Engineer_Dies takes nothing returns nothing
    set gg_trg_Engineer_Dies = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Engineer_Dies, Player(1), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddAction( gg_trg_Engineer_Dies, function Trig_Engineer_Dies_Actions )
endfunction

//===========================================================================
// Trigger: Observatory Vision
//===========================================================================
function Trig_Observatory_Vision_Actions takes nothing returns nothing
    call CreateFogModifierRadiusLocBJ( true, udg_AP1_Player, FOG_OF_WAR_VISIBLE, GetUnitLoc(udg_Observatory), udg_ObservatoryVisionRadius )
    set udg_ObservatoryVision = GetLastCreatedFogModifier()
endfunction

//===========================================================================
function InitTrig_Observatory_Vision takes nothing returns nothing
    set gg_trg_Observatory_Vision = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Observatory_Vision, function Trig_Observatory_Vision_Actions )
endfunction

//===========================================================================
// Trigger: Observatory Dies
//===========================================================================
function Trig_Observatory_Dies_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Observatory_Dies_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call DestroyFogModifier( udg_ObservatoryVision )
endfunction

//===========================================================================
function InitTrig_Observatory_Dies takes nothing returns nothing
    set gg_trg_Observatory_Dies = CreateTrigger(  )
    call TriggerRegisterUnitEvent( gg_trg_Observatory_Dies, gg_unit_h009_0007, EVENT_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Observatory_Dies, Condition( function Trig_Observatory_Dies_Conditions ) )
    call TriggerAddAction( gg_trg_Observatory_Dies, function Trig_Observatory_Dies_Actions )
endfunction

//===========================================================================
// Trigger: Escape Gold Float Text
//
// CVS sucks.
//===========================================================================
function Trig_Escape_Gold_Float_Text_Actions takes nothing returns nothing
    local texttag floatygold
    call CreateTextTagUnitBJ( "TRIGSTR_316", udg_GoldFloatTextUnit, 0, 10, 100, 80.00, 20.00, 0 )
    set udg_GoldFloatingText = GetLastCreatedTextTag()
    call SetTextTagVelocityBJ( udg_GoldFloatingText, 64, 90 )
    set floatygold = udg_GoldFloatingText
    call TriggerSleepAction( 3.00 )
    set udg_GoldFloatingText = floatygold 
    call DestroyTextTagBJ( udg_GoldFloatingText )
endfunction

//===========================================================================
function InitTrig_Escape_Gold_Float_Text takes nothing returns nothing
    set gg_trg_Escape_Gold_Float_Text = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Escape_Gold_Float_Text, function Trig_Escape_Gold_Float_Text_Actions )
endfunction

//===========================================================================
// Trigger: Start Exodus
//===========================================================================
function Trig_Start_Exodus_Actions takes nothing returns nothing
    call StartTimerBJ( udg_PeasantTimer, true, 2.00 )
    call StartTimerBJ( udg_TroopTimer, true, 2.50 )
    call ConditionalTriggerExecute( gg_trg_Escape_Spawn_Peasant )
endfunction

//===========================================================================
function InitTrig_Start_Exodus takes nothing returns nothing
    set gg_trg_Start_Exodus = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Start_Exodus, function Trig_Start_Exodus_Actions )
endfunction

//===========================================================================
// Trigger: Escape Spawn Peasant
//===========================================================================
function Trig_Escape_Spawn_Peasant_Actions takes nothing returns nothing
    call CreateNUnitsAtLoc( 1, 'n008', udg_P02_Escapees, udg_PointExodusPeasantSpawn, 180.00 )
    set udg_TempUnit = GetLastCreatedUnit()
    call SetUnitPathing( udg_TempUnit, false )
    call SetUnitMoveSpeed( udg_TempUnit, udg_ExodusMoveSpeed )
    call SetUnitPositionLoc( udg_TempUnit, udg_PointExodusPeasantSpawn )
    call IssuePointOrderLocBJ( udg_TempUnit, "move", udg_PointEscapePath1A )
    call GroupAddUnitSimple( udg_TempUnit, udg_ExodusPeasants )
    call GroupAddUnitSimple( udg_TempUnit, udg_ExodusUnits )
    // Add a fake sack of gold
    call AddUnitAnimationPropertiesBJ( true, "gold", udg_TempUnit )
endfunction

//===========================================================================
function InitTrig_Escape_Spawn_Peasant takes nothing returns nothing
    set gg_trg_Escape_Spawn_Peasant = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Escape_Spawn_Peasant, udg_PeasantTimer )
    call TriggerAddAction( gg_trg_Escape_Spawn_Peasant, function Trig_Escape_Spawn_Peasant_Actions )
endfunction

//===========================================================================
// Trigger: Escape Spawn Troop
//===========================================================================
function Trig_Escape_Spawn_Troop_Func002001 takes nothing returns boolean
    return ( udg_TempInteger == 1 )
endfunction

function Trig_Escape_Spawn_Troop_Func003001 takes nothing returns boolean
    return ( udg_TempInteger == 2 )
endfunction

function Trig_Escape_Spawn_Troop_Func004001 takes nothing returns boolean
    return ( udg_TempInteger == 3 )
endfunction

function Trig_Escape_Spawn_Troop_Actions takes nothing returns nothing
    set udg_TempInteger = GetRandomInt(1, 3)
    if ( Trig_Escape_Spawn_Troop_Func002001() ) then
        call CreateNUnitsAtLoc( 1, 'hmpr', udg_P02_Escapees, udg_PointExodusTroopSpawn, 180.00 )
    else
        call DoNothing(  )
    endif
    if ( Trig_Escape_Spawn_Troop_Func003001() ) then
        call CreateNUnitsAtLoc( 1, 'hsor', udg_P02_Escapees, udg_PointExodusTroopSpawn, 180.00 )
    else
        call DoNothing(  )
    endif
    if ( Trig_Escape_Spawn_Troop_Func004001() ) then
        call CreateNUnitsAtLoc( 1, 'hspt', udg_P02_Escapees, udg_PointExodusTroopSpawn, 180.00 )
    else
        call DoNothing(  )
    endif
    set udg_TempUnit = GetLastCreatedUnit()
    call SetUnitPathing( udg_TempUnit, false )
    call SetUnitMoveSpeed( udg_TempUnit, udg_ExodusMoveSpeed )
    call SetUnitPositionLoc( udg_TempUnit, udg_PointExodusTroopSpawn )
    call IssuePointOrderLocBJ( udg_TempUnit, "move", udg_PointEscapePath3A )
    call GroupAddUnitSimple( udg_TempUnit, udg_ExodusTroops )
    call GroupAddUnitSimple( udg_TempUnit, udg_ExodusUnits )
endfunction

//===========================================================================
function InitTrig_Escape_Spawn_Troop takes nothing returns nothing
    set gg_trg_Escape_Spawn_Troop = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Escape_Spawn_Troop, udg_TroopTimer )
    call TriggerAddAction( gg_trg_Escape_Spawn_Troop, function Trig_Escape_Spawn_Troop_Actions )
endfunction

//===========================================================================
// Trigger: Escape Path1A
//===========================================================================
function Trig_Escape_Path1A_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_ExodusPeasants) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Escape_Path1A_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ( GetEnteringUnit(), "move", udg_PointEscapePath1B )
endfunction

//===========================================================================
function InitTrig_Escape_Path1A takes nothing returns nothing
    set gg_trg_Escape_Path1A = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Escape_Path1A, gg_rct_Escape_Path1A )
    call TriggerAddCondition( gg_trg_Escape_Path1A, Condition( function Trig_Escape_Path1A_Conditions ) )
    call TriggerAddAction( gg_trg_Escape_Path1A, function Trig_Escape_Path1A_Actions )
endfunction

//===========================================================================
// Trigger: Escape Path1B
//===========================================================================
function Trig_Escape_Path1B_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_ExodusPeasants) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Escape_Path1B_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ( GetEnteringUnit(), "move", udg_PointEscapePath1C )
endfunction

//===========================================================================
function InitTrig_Escape_Path1B takes nothing returns nothing
    set gg_trg_Escape_Path1B = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Escape_Path1B, gg_rct_Escape_Path1B )
    call TriggerAddCondition( gg_trg_Escape_Path1B, Condition( function Trig_Escape_Path1B_Conditions ) )
    call TriggerAddAction( gg_trg_Escape_Path1B, function Trig_Escape_Path1B_Actions )
endfunction

//===========================================================================
// Trigger: Escape Path1C Gold
//===========================================================================
function Trig_Escape_Path1C_Gold_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_ExodusPeasants) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Escape_Path1C_Gold_Func002C takes nothing returns boolean
    if ( not ( IsUnitAliveBJ(gg_unit_h004_0003) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Escape_Path1C_Gold_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ( GetEnteringUnit(), "move", udg_PointEscapePortalTarget )
    if ( Trig_Escape_Path1C_Gold_Func002C() ) then
        // Cash in the sack of gold
        call AddUnitAnimationPropertiesBJ( false, "gold", GetEnteringUnit() )
        call AdjustPlayerStateBJ( 20, udg_AP1_Player, PLAYER_STATE_RESOURCE_GOLD )
        set udg_GoldFloatTextUnit = GetEnteringUnit()
        call ConditionalTriggerExecute( gg_trg_Escape_Gold_Float_Text )
    else
    endif
endfunction

//===========================================================================
function InitTrig_Escape_Path1C_Gold takes nothing returns nothing
    set gg_trg_Escape_Path1C_Gold = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Escape_Path1C_Gold, gg_rct_Escape_Path1C )
    call TriggerAddCondition( gg_trg_Escape_Path1C_Gold, Condition( function Trig_Escape_Path1C_Gold_Conditions ) )
    call TriggerAddAction( gg_trg_Escape_Path1C_Gold, function Trig_Escape_Path1C_Gold_Actions )
endfunction

//===========================================================================
// Trigger: Escape Path2A
//===========================================================================
function Trig_Escape_Path2A_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_EngineerUnits) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Escape_Path2A_Actions takes nothing returns nothing
    call SetUnitPathing( GetEnteringUnit(), false )
    call IssuePointOrderLocBJ( GetEnteringUnit(), "move", udg_PointEscapePath2B )
endfunction

//===========================================================================
function InitTrig_Escape_Path2A takes nothing returns nothing
    set gg_trg_Escape_Path2A = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Escape_Path2A, gg_rct_Escape_Path2A )
    call TriggerAddCondition( gg_trg_Escape_Path2A, Condition( function Trig_Escape_Path2A_Conditions ) )
    call TriggerAddAction( gg_trg_Escape_Path2A, function Trig_Escape_Path2A_Actions )
endfunction

//===========================================================================
// Trigger: Escape Path2B
//===========================================================================
function Trig_Escape_Path2B_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_EngineerUnits) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Escape_Path2B_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ( GetEnteringUnit(), "move", udg_PointEscapePortalTarget )
endfunction

//===========================================================================
function InitTrig_Escape_Path2B takes nothing returns nothing
    set gg_trg_Escape_Path2B = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Escape_Path2B, gg_rct_Escape_Path2B )
    call TriggerAddCondition( gg_trg_Escape_Path2B, Condition( function Trig_Escape_Path2B_Conditions ) )
    call TriggerAddAction( gg_trg_Escape_Path2B, function Trig_Escape_Path2B_Actions )
endfunction

//===========================================================================
// Trigger: Escape Path3A
//===========================================================================
function Trig_Escape_Path3A_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_ExodusTroops) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Escape_Path3A_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ( GetEnteringUnit(), "move", udg_PointEscapePath3B )
endfunction

//===========================================================================
function InitTrig_Escape_Path3A takes nothing returns nothing
    set gg_trg_Escape_Path3A = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Escape_Path3A, gg_rct_Escape_Path3A )
    call TriggerAddCondition( gg_trg_Escape_Path3A, Condition( function Trig_Escape_Path3A_Conditions ) )
    call TriggerAddAction( gg_trg_Escape_Path3A, function Trig_Escape_Path3A_Actions )
endfunction

//===========================================================================
// Trigger: Escape Path3B
//===========================================================================
function Trig_Escape_Path3B_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_ExodusTroops) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Escape_Path3B_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ( GetEnteringUnit(), "move", udg_PointEscapePath3C )
endfunction

//===========================================================================
function InitTrig_Escape_Path3B takes nothing returns nothing
    set gg_trg_Escape_Path3B = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Escape_Path3B, gg_rct_Escape_Path3B )
    call TriggerAddCondition( gg_trg_Escape_Path3B, Condition( function Trig_Escape_Path3B_Conditions ) )
    call TriggerAddAction( gg_trg_Escape_Path3B, function Trig_Escape_Path3B_Actions )
endfunction

//===========================================================================
// Trigger: Escape Path3C
//===========================================================================
function Trig_Escape_Path3C_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_ExodusTroops) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Escape_Path3C_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ( GetEnteringUnit(), "move", udg_PointEscapePortalTarget )
endfunction

//===========================================================================
function InitTrig_Escape_Path3C takes nothing returns nothing
    set gg_trg_Escape_Path3C = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Escape_Path3C, gg_rct_Escape_Path3C )
    call TriggerAddCondition( gg_trg_Escape_Path3C, Condition( function Trig_Escape_Path3C_Conditions ) )
    call TriggerAddAction( gg_trg_Escape_Path3C, function Trig_Escape_Path3C_Actions )
endfunction

//===========================================================================
// Trigger: Escape Portal Tripwire
//===========================================================================
function Trig_Escape_Portal_Tripwire_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_ExodusUnits) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Escape_Portal_Tripwire_Func001C takes nothing returns boolean
    if ( not ( IsUnitAliveBJ(udg_Portal) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Escape_Portal_Tripwire_Actions takes nothing returns nothing
    if ( Trig_Escape_Portal_Tripwire_Func001C() ) then
        // Forget Units
        call GroupRemoveUnitSimple( GetEnteringUnit(), udg_EngineerUnits )
        call GroupRemoveUnitSimple( GetEnteringUnit(), udg_ExodusPeasants )
        call GroupRemoveUnitSimple( GetEnteringUnit(), udg_ExodusTroops )
        call GroupRemoveUnitSimple( GetEnteringUnit(), udg_ExodusUnits )
        // Do Portal Effect
        call ConditionalTriggerExecute( gg_trg_Escape_Effect )
        call TriggerSleepAction( 0.20 )
        // Remove the Unit
        call RemoveUnit( GetEnteringUnit() )
    else
        call SetUnitPathing( GetEnteringUnit(), true )
    endif
endfunction

//===========================================================================
function InitTrig_Escape_Portal_Tripwire takes nothing returns nothing
    set gg_trg_Escape_Portal_Tripwire = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Escape_Portal_Tripwire, gg_rct_Escape_Portal_Tripwire )
    call TriggerAddCondition( gg_trg_Escape_Portal_Tripwire, Condition( function Trig_Escape_Portal_Tripwire_Conditions ) )
    call TriggerAddAction( gg_trg_Escape_Portal_Tripwire, function Trig_Escape_Portal_Tripwire_Actions )
endfunction

//===========================================================================
// Trigger: Escape Effect
//
// The portal supports up to two overlapping effects.  Requests to overlap a third are ignored.
// The portal effect won't play if its last effect was started just a split-second ago.
//===========================================================================
function Trig_Escape_Effect_Func002001 takes nothing returns boolean
    return ( udg_EscapeEffect01Busy == false )
endfunction

function Trig_Escape_Effect_Func002002 takes nothing returns boolean
    return ( udg_EscapeEffect02Busy == false )
endfunction

function Trig_Escape_Effect_Conditions takes nothing returns boolean
    if ( not ( udg_EscapeEffectRecent == false ) ) then
        return false
    endif
    if ( not GetBooleanOr( Trig_Escape_Effect_Func002001(), Trig_Escape_Effect_Func002002() ) ) then
        return false
    endif
    return true
endfunction

function Trig_Escape_Effect_Func003C takes nothing returns boolean
    if ( not ( udg_EscapeEffect01Busy == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Escape_Effect_Actions takes nothing returns nothing
    if ( Trig_Escape_Effect_Func003C() ) then
        call ConditionalTriggerExecute( gg_trg_Escape_Effect_01 )
    else
        call ConditionalTriggerExecute( gg_trg_Escape_Effect_02 )
    endif
    set udg_EscapeEffectRecent = true
    call TriggerSleepAction( 0.20 )
    set udg_EscapeEffectRecent = false
endfunction

//===========================================================================
function InitTrig_Escape_Effect takes nothing returns nothing
    set gg_trg_Escape_Effect = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Escape_Effect, Condition( function Trig_Escape_Effect_Conditions ) )
    call TriggerAddAction( gg_trg_Escape_Effect, function Trig_Escape_Effect_Actions )
endfunction

//===========================================================================
// Trigger: Escape Effect 01
//===========================================================================
function Trig_Escape_Effect_01_Actions takes nothing returns nothing
    set udg_EscapeEffect01Busy = true
    call AddSpecialEffectLocBJ( udg_PointEscapePortalEffect, "Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl" )
    call PlaySoundAtPointBJ( gg_snd_ShimmeringPortalEntrance, 85.00, udg_PointEscapePortalTarget, 0 )
    set udg_EscapeEffect01 = GetLastCreatedEffectBJ()
    call TriggerSleepAction( 0.85 )
    call DestroyEffectBJ( udg_EscapeEffect01 )
    call StopSoundBJ( gg_snd_ShimmeringPortalEntrance, true )
    set udg_EscapeEffect01Busy = false
endfunction

//===========================================================================
function InitTrig_Escape_Effect_01 takes nothing returns nothing
    set gg_trg_Escape_Effect_01 = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Escape_Effect_01, function Trig_Escape_Effect_01_Actions )
endfunction

//===========================================================================
// Trigger: Escape Effect 02
//===========================================================================
function Trig_Escape_Effect_02_Actions takes nothing returns nothing
    set udg_EscapeEffect02Busy = true
    call AddSpecialEffectLocBJ( udg_PointEscapePortalEffect, "Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl" )
    call PlaySoundAtPointBJ( gg_snd_ShimmeringPortalEntrance01, 85.00, udg_PointEscapePortalTarget, 0 )
    set udg_EscapeEffect02 = GetLastCreatedEffectBJ()
    call TriggerSleepAction( 0.85 )
    call DestroyEffectBJ( udg_EscapeEffect02 )
    call StopSoundBJ( gg_snd_ShimmeringPortalEntrance01, true )
    set udg_EscapeEffect02Busy = false
endfunction

//===========================================================================
function InitTrig_Escape_Effect_02 takes nothing returns nothing
    set gg_trg_Escape_Effect_02 = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Escape_Effect_02, function Trig_Escape_Effect_02_Actions )
endfunction

//===========================================================================
// Trigger: Leaderboard Create
//===========================================================================
function Trig_Leaderboard_Create_Conditions takes nothing returns boolean
    if ( not ( udg_PortalLeaderboardCreated == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Leaderboard_Create_Func025Func001C takes nothing returns boolean
    if ( not ( udg_HighScoreEasy == 31 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Leaderboard_Create_Func025C takes nothing returns boolean
    if ( not ( udg_HighScoreEasy > 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Leaderboard_Create_Func027Func001C takes nothing returns boolean
    if ( not ( udg_HighScoreNormal == 31 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Leaderboard_Create_Func027C takes nothing returns boolean
    if ( not ( udg_HighScoreNormal > 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Leaderboard_Create_Func029Func001C takes nothing returns boolean
    if ( not ( udg_HighScoreHard == 31 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Leaderboard_Create_Func029C takes nothing returns boolean
    if ( not ( udg_HighScoreHard > 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Leaderboard_Create_Actions takes nothing returns nothing
    set udg_PortalLeaderboardCreated = true
    // Create Leaderboard
    call CreateLeaderboardBJ( GetPlayersAll(), "TRIGSTR_218" )
    set udg_PortalLeaderboard = GetLastCreatedLeaderboard()
    call LeaderboardSetStyleBJ( udg_PortalLeaderboard, false, true, true, false )
    // Add Entry
    call LeaderboardAddItemBJ( Player(0), udg_PortalLeaderboard, "TRIGSTR_219", 0 )
    call LeaderboardSetPlayerItemLabelColorBJ( Player(0), udg_PortalLeaderboard, 100, 80, 20, 0 )
    call LeaderboardSetPlayerItemValueColorBJ( Player(0), udg_PortalLeaderboard, 100, 100.00, 100.00, 0.00 )
    call ConditionalTriggerExecute( gg_trg_Leaderboard_Update )
    // Add Entry
    call LeaderboardAddItemBJ( Player(1), udg_PortalLeaderboard, "TRIGSTR_296", 0 )
    call LeaderboardSetPlayerItemLabelColorBJ( Player(1), udg_PortalLeaderboard, 100, 80, 20, 0 )
    call LeaderboardSetPlayerItemValueColorBJ( Player(1), udg_PortalLeaderboard, 100, 100.00, 100.00, 0.00 )
    call ConditionalTriggerExecute( gg_trg_Leaderboard_Update )
    // Add Entry
    call LeaderboardAddItemBJ( Player(2), udg_PortalLeaderboard, "TRIGSTR_298", 0 )
    call LeaderboardSetPlayerItemLabelColorBJ( Player(2), udg_PortalLeaderboard, 100, 80.00, 20.00, 0 )
    call LeaderboardSetPlayerItemValueColorBJ( Player(2), udg_PortalLeaderboard, 100, 80, 20, 100.00 )
    // Add Entry
    call LeaderboardAddItemBJ( Player(3), udg_PortalLeaderboard, "TRIGSTR_310", 0 )
    call LeaderboardSetPlayerItemLabelColorBJ( Player(3), udg_PortalLeaderboard, 100, 100.00, 100.00, 0 )
    call LeaderboardSetPlayerItemValueColorBJ( Player(3), udg_PortalLeaderboard, 100, 80, 20, 100.00 )
    if ( Trig_Leaderboard_Create_Func025C() ) then
        if ( Trig_Leaderboard_Create_Func025Func001C() ) then
            call LeaderboardAddItemBJ( Player(4), udg_PortalLeaderboard, "TRIGSTR_301", udg_HighScoreEasy )
            call LeaderboardSetPlayerItemLabelColorBJ( Player(4), udg_PortalLeaderboard, 100.00, 80.00, 20.00, 0 )
            call LeaderboardSetPlayerItemValueColorBJ( Player(4), udg_PortalLeaderboard, 0.00, 100.00, 0.00, 100.00 )
        else
            call LeaderboardAddItemBJ( Player(4), udg_PortalLeaderboard, "TRIGSTR_297", udg_HighScoreEasy )
            call LeaderboardSetPlayerItemLabelColorBJ( Player(4), udg_PortalLeaderboard, 0.00, 100.00, 0.00, 0 )
            call LeaderboardSetPlayerItemValueColorBJ( Player(4), udg_PortalLeaderboard, 0.00, 100.00, 0.00, 0.00 )
        endif
    else
    endif
    // Add Entry
    if ( Trig_Leaderboard_Create_Func027C() ) then
        if ( Trig_Leaderboard_Create_Func027Func001C() ) then
            call LeaderboardAddItemBJ( Player(5), udg_PortalLeaderboard, "TRIGSTR_302", udg_HighScoreNormal )
            call LeaderboardSetPlayerItemLabelColorBJ( Player(5), udg_PortalLeaderboard, 100.00, 80.00, 20.00, 0 )
            call LeaderboardSetPlayerItemValueColorBJ( Player(5), udg_PortalLeaderboard, 0.00, 0.00, 100.00, 100.00 )
        else
            call LeaderboardAddItemBJ( Player(5), udg_PortalLeaderboard, "TRIGSTR_299", udg_HighScoreNormal )
            call LeaderboardSetPlayerItemLabelColorBJ( Player(5), udg_PortalLeaderboard, 0.00, 0.00, 100.00, 0 )
            call LeaderboardSetPlayerItemValueColorBJ( Player(5), udg_PortalLeaderboard, 0.00, 0.00, 100.00, 0.00 )
        endif
    else
    endif
    // Add Entry
    if ( Trig_Leaderboard_Create_Func029C() ) then
        if ( Trig_Leaderboard_Create_Func029Func001C() ) then
            call LeaderboardAddItemBJ( Player(6), udg_PortalLeaderboard, "TRIGSTR_303", udg_HighScoreHard )
            call LeaderboardSetPlayerItemLabelColorBJ( Player(6), udg_PortalLeaderboard, 100.00, 80.00, 20.00, 0 )
            call LeaderboardSetPlayerItemValueColorBJ( Player(6), udg_PortalLeaderboard, 100.00, 0.00, 0.00, 100.00 )
        else
            call LeaderboardAddItemBJ( Player(6), udg_PortalLeaderboard, "TRIGSTR_304", udg_HighScoreHard )
            call LeaderboardSetPlayerItemLabelColorBJ( Player(6), udg_PortalLeaderboard, 100.00, 0.00, 0.00, 0 )
            call LeaderboardSetPlayerItemValueColorBJ( Player(6), udg_PortalLeaderboard, 100.00, 0.00, 0.00, 0.00 )
        endif
    else
    endif
    call ConditionalTriggerExecute( gg_trg_Leaderboard_Update )
    // Show Leaderboard
    call LeaderboardDisplayBJ( true, udg_PortalLeaderboard )
endfunction

//===========================================================================
function InitTrig_Leaderboard_Create takes nothing returns nothing
    set gg_trg_Leaderboard_Create = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Leaderboard_Create, Condition( function Trig_Leaderboard_Create_Conditions ) )
    call TriggerAddAction( gg_trg_Leaderboard_Create, function Trig_Leaderboard_Create_Actions )
endfunction

//===========================================================================
// Trigger: Leaderboard Update
//===========================================================================
function Trig_Leaderboard_Update_Conditions takes nothing returns boolean
    if ( not ( udg_PortalLeaderboardCreated == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Leaderboard_Update_Actions takes nothing returns nothing
    set udg_PortalLifePercent = GetUnitLifePercent(udg_Portal)
    call LeaderboardSetPlayerItemValueBJ( Player(0), udg_PortalLeaderboard, R2I(udg_PortalLifePercent) )
    call LeaderboardSetPlayerItemValueBJ( Player(1), udg_PortalLeaderboard, udg_WavesRemainingInt )
    call ConditionalTriggerExecute( gg_trg_Leaderboard_Update_Color_01 )
    call ConditionalTriggerExecute( gg_trg_Leaderboard_Update_Color_02 )
endfunction

//===========================================================================
function InitTrig_Leaderboard_Update takes nothing returns nothing
    set gg_trg_Leaderboard_Update = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Leaderboard_Update, 0.50 )
    call TriggerAddCondition( gg_trg_Leaderboard_Update, Condition( function Trig_Leaderboard_Update_Conditions ) )
    call TriggerAddAction( gg_trg_Leaderboard_Update, function Trig_Leaderboard_Update_Actions )
endfunction

//===========================================================================
// Trigger: Leaderboard Update Color 01
//===========================================================================
function Trig_Leaderboard_Update_Color_01_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_PortalLifePercent < 40.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Leaderboard_Update_Color_01_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call LeaderboardSetPlayerItemValueColorBJ( Player(0), udg_PortalLeaderboard, 100, 30.00, 0.00, 0 )
endfunction

//===========================================================================
function InitTrig_Leaderboard_Update_Color_01 takes nothing returns nothing
    set gg_trg_Leaderboard_Update_Color_01 = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Leaderboard_Update_Color_01, Condition( function Trig_Leaderboard_Update_Color_01_Conditions ) )
    call TriggerAddAction( gg_trg_Leaderboard_Update_Color_01, function Trig_Leaderboard_Update_Color_01_Actions )
endfunction

//===========================================================================
// Trigger: Leaderboard Update Color 02
//===========================================================================
function Trig_Leaderboard_Update_Color_02_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    if ( not ( udg_PortalLifePercent < 20.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Leaderboard_Update_Color_02_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call LeaderboardSetPlayerItemValueColorBJ( Player(0), udg_PortalLeaderboard, 100, 0.00, 0.00, 0 )
endfunction

//===========================================================================
function InitTrig_Leaderboard_Update_Color_02 takes nothing returns nothing
    set gg_trg_Leaderboard_Update_Color_02 = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Leaderboard_Update_Color_02, Condition( function Trig_Leaderboard_Update_Color_02_Conditions ) )
    call TriggerAddAction( gg_trg_Leaderboard_Update_Color_02, function Trig_Leaderboard_Update_Color_02_Actions )
endfunction

//===========================================================================
// Trigger: Leaders Drop Gold
//===========================================================================
function Trig_Leaders_Drop_Gold_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetDyingUnit(), udg_GoldDroppers) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Leaders_Drop_Gold_Func002Func001Func001Func001C takes nothing returns boolean
    if ( not ( udg_Wave < 31 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Leaders_Drop_Gold_Func002Func001Func001C takes nothing returns boolean
    if ( not ( udg_Wave < 23 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Leaders_Drop_Gold_Func002Func001C takes nothing returns boolean
    if ( not ( udg_Wave < 16 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Leaders_Drop_Gold_Func002C takes nothing returns boolean
    if ( not ( udg_Wave < 8 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Leaders_Drop_Gold_Actions takes nothing returns nothing
    set udg_TempPoint = GetUnitLoc(GetDyingUnit())
    if ( Trig_Leaders_Drop_Gold_Func002C() ) then
        call CreateItemLoc( 'I001', udg_TempPoint )
    else
        if ( Trig_Leaders_Drop_Gold_Func002Func001C() ) then
            call CreateItemLoc( 'I002', udg_TempPoint )
        else
            if ( Trig_Leaders_Drop_Gold_Func002Func001Func001C() ) then
                call CreateItemLoc( 'I003', udg_TempPoint )
            else
                if ( Trig_Leaders_Drop_Gold_Func002Func001Func001Func001C() ) then
                    call CreateItemLoc( 'I000', udg_TempPoint )
                else
                endif
            endif
        endif
    endif
    call RemoveLocation( udg_TempPoint )
endfunction

//===========================================================================
function InitTrig_Leaders_Drop_Gold takes nothing returns nothing
    set gg_trg_Leaders_Drop_Gold = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Leaders_Drop_Gold, Player(6), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Leaders_Drop_Gold, Condition( function Trig_Leaders_Drop_Gold_Conditions ) )
    call TriggerAddAction( gg_trg_Leaders_Drop_Gold, function Trig_Leaders_Drop_Gold_Actions )
endfunction

//===========================================================================
// Trigger: No Player Units May Enter
//===========================================================================
function Trig_No_Player_Units_May_Enter_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == udg_AP1_Player ) ) then
        return false
    endif
    return true
endfunction

function Trig_No_Player_Units_May_Enter_Actions takes nothing returns nothing
    call ExplodeUnitBJ( GetEnteringUnit() )
endfunction

//===========================================================================
function InitTrig_No_Player_Units_May_Enter takes nothing returns nothing
    set gg_trg_No_Player_Units_May_Enter = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_No_Player_Units_May_Enter, gg_rct_DestroyPlayerSummonedUnits )
    call TriggerAddCondition( gg_trg_No_Player_Units_May_Enter, Condition( function Trig_No_Player_Units_May_Enter_Conditions ) )
    call TriggerAddAction( gg_trg_No_Player_Units_May_Enter, function Trig_No_Player_Units_May_Enter_Actions )
endfunction

//===========================================================================
// Trigger: No Summoned Units
//===========================================================================
function Trig_No_Summoned_Units_Conditions takes nothing returns boolean
    if ( not ( RectContainsUnit(gg_rct_DestroyPlayerSummonedUnits, GetSummonedUnit()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_No_Summoned_Units_Actions takes nothing returns nothing
    call ExplodeUnitBJ( GetSummonedUnit() )
endfunction

//===========================================================================
function InitTrig_No_Summoned_Units takes nothing returns nothing
    set gg_trg_No_Summoned_Units = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_No_Summoned_Units, Player(0), EVENT_PLAYER_UNIT_SUMMON )
    call TriggerAddCondition( gg_trg_No_Summoned_Units, Condition( function Trig_No_Summoned_Units_Conditions ) )
    call TriggerAddAction( gg_trg_No_Summoned_Units, function Trig_No_Summoned_Units_Actions )
endfunction

//===========================================================================
// Trigger: Wave Data
//===========================================================================
function Trig_Wave_Data_Actions takes nothing returns nothing
    set udg_SpawnTime = 15.00
    set udg_ExplosiveArt = "Abilities\\Weapons\\Mortar\\MortarMissile.mdl"
    set udg_ZeppelinType01 = 'n00D'
    set udg_ZeppelinSpawnType01 = 'n00E'
    set udg_ZeppelinSpawns01 = 3
    set udg_ZeppelinType02 = 'n00F'
    set udg_ZeppelinSpawnType02 = 'n00G'
    set udg_ZeppelinSpawns02 = 2
    call ConditionalTriggerExecute( gg_trg_Wave_Units_01_to_05 )
    call ConditionalTriggerExecute( gg_trg_Wave_Units_06_to_10 )
    call ConditionalTriggerExecute( gg_trg_Wave_Units_11_to_15 )
    call ConditionalTriggerExecute( gg_trg_Wave_Units_16_to_20 )
    call ConditionalTriggerExecute( gg_trg_Wave_Units_21_to_25 )
    call ConditionalTriggerExecute( gg_trg_Wave_Units_26_to_30 )
endfunction

//===========================================================================
function InitTrig_Wave_Data takes nothing returns nothing
    set gg_trg_Wave_Data = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Wave_Data, function Trig_Wave_Data_Actions )
endfunction

//===========================================================================
// Trigger: Wave Units 01 to 05
//===========================================================================
function Trig_Wave_Units_01_to_05_Actions takes nothing returns nothing
    set udg_N = 1
    set udg_WaveUnitTypes[udg_N] = 'hpea'
    set udg_WaveLeaderTypes[udg_N] = 0
    set udg_WaveUnitSource[udg_N] = udg_Source0_Castle
    set udg_WaveAttach[udg_N] = udg_Attach2_HandRight
    set udg_WaveUnitCounts[udg_N] = 12
    set udg_WaveSendTime[udg_N] = 9.50
    set udg_N = 2
    set udg_WaveUnitTypes[udg_N] = 'hmil'
    set udg_WaveLeaderTypes[udg_N] = 0
    set udg_WaveUnitSource[udg_N] = udg_Source0_Castle
    set udg_WaveAttach[udg_N] = udg_Attach1_HandLeft
    set udg_WaveUnitCounts[udg_N] = 12
    set udg_WaveSendTime[udg_N] = 6.00
    set udg_N = 3
    set udg_WaveUnitTypes[udg_N] = 'hfoo'
    set udg_WaveLeaderTypes[udg_N] = 'hcth'
    set udg_WaveUnitSource[udg_N] = udg_Source1_Barracks
    set udg_WaveAttach[udg_N] = udg_Attach1_HandLeft
    set udg_WaveUnitCounts[udg_N] = 10
    set udg_WaveSendTime[udg_N] = 8.50
    set udg_N = 4
    set udg_WaveUnitTypes[udg_N] = 'hgyr'
    set udg_WaveLeaderTypes[udg_N] = 0
    set udg_WaveUnitSource[udg_N] = udg_Source2_Workshop
    set udg_WaveAttach[udg_N] = udg_Attach1_HandLeft
    set udg_WaveUnitCounts[udg_N] = 20
    set udg_WaveSendTime[udg_N] = 7.50
    set udg_N = 5
    set udg_WaveUnitTypes[udg_N] = 'hmtm'
    set udg_WaveLeaderTypes[udg_N] = 'Hmkg'
    set udg_WaveHeroConfig[udg_N] = gg_trg_Wave_Hero_01_MountainKing
    set udg_WaveUnitSource[udg_N] = udg_Source2_Workshop
    set udg_WaveAttach[udg_N] = udg_Attach1_HandLeft
    set udg_WaveUnitCounts[udg_N] = 19
    set udg_WaveSendTime[udg_N] = 9.00
endfunction

//===========================================================================
function InitTrig_Wave_Units_01_to_05 takes nothing returns nothing
    set gg_trg_Wave_Units_01_to_05 = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Wave_Units_01_to_05, function Trig_Wave_Units_01_to_05_Actions )
endfunction

//===========================================================================
// Trigger: Wave Units 06 to 10
//===========================================================================
function Trig_Wave_Units_06_to_10_Actions takes nothing returns nothing
    set udg_N = 6
    set udg_WaveUnitTypes[udg_N] = 'hrif'
    set udg_WaveLeaderTypes[udg_N] = 0
    set udg_WaveUnitSource[udg_N] = udg_Source1_Barracks
    set udg_WaveAttach[udg_N] = udg_Attach1_HandLeft
    set udg_WaveUnitCounts[udg_N] = 21
    set udg_WaveSendTime[udg_N] = 11.00
    set udg_N = 7
    set udg_WaveUnitTypes[udg_N] = 'hkni'
    set udg_WaveLeaderTypes[udg_N] = 'Hpal'
    set udg_WaveHeroConfig[udg_N] = gg_trg_Wave_Hero_02_Paladin
    set udg_WaveUnitSource[udg_N] = udg_Source1_Barracks
    set udg_WaveAttach[udg_N] = udg_Attach1_HandLeft
    set udg_WaveUnitCounts[udg_N] = 10
    set udg_WaveSendTime[udg_N] = 11.00
    set udg_N = 8
    set udg_WaveUnitTypes[udg_N] = 'hgry'
    set udg_WaveLeaderTypes[udg_N] = 0
    set udg_WaveUnitSource[udg_N] = udg_Source3_Aviary
    set udg_WaveAttach[udg_N] = udg_Attach2_HandRight
    set udg_WaveUnitCounts[udg_N] = 20
    set udg_WaveSendTime[udg_N] = 10.00
    set udg_N = 9
    set udg_WaveUnitTypes[udg_N] = 'hmtt'
    set udg_WaveLeaderTypes[udg_N] = 0
    set udg_WaveUnitSource[udg_N] = udg_Source2_Workshop
    set udg_WaveAttach[udg_N] = udg_Attach0_None
    set udg_WaveUnitCounts[udg_N] = 7
    set udg_WaveSendTime[udg_N] = 2.00
    set udg_N = 10
    set udg_WaveUnitTypes[udg_N] = 'nwiz'
    set udg_WaveLeaderTypes[udg_N] = 'Hamg'
    set udg_WaveHeroConfig[udg_N] = gg_trg_Wave_Hero_03_Archmage
    set udg_WaveUnitSource[udg_N] = udg_Source4_MercCamp
    set udg_WaveAttach[udg_N] = udg_Attach2_HandRight
    set udg_WaveUnitCounts[udg_N] = 22
    set udg_WaveSendTime[udg_N] = 10.00
endfunction

//===========================================================================
function InitTrig_Wave_Units_06_to_10 takes nothing returns nothing
    set gg_trg_Wave_Units_06_to_10 = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Wave_Units_06_to_10, function Trig_Wave_Units_06_to_10_Actions )
endfunction

//===========================================================================
// Trigger: Wave Units 11 to 15
//===========================================================================
function Trig_Wave_Units_11_to_15_Actions takes nothing returns nothing
    set udg_N = 11
    set udg_WaveUnitTypes[udg_N] = 'nenf'
    set udg_WaveLeaderTypes[udg_N] = 'nbld'
    set udg_WaveUnitSource[udg_N] = udg_Source4_MercCamp
    set udg_WaveAttach[udg_N] = udg_Attach2_HandRight
    set udg_WaveUnitCounts[udg_N] = 20
    set udg_WaveSendTime[udg_N] = 11.00
    set udg_N = 12
    set udg_WaveUnitTypes[udg_N] = 'nftb'
    set udg_WaveLeaderTypes[udg_N] = 'nftk'
    set udg_WaveUnitSource[udg_N] = udg_Source4_MercCamp
    set udg_WaveAttach[udg_N] = udg_Attach1_HandLeft
    set udg_WaveUnitCounts[udg_N] = 22
    set udg_WaveSendTime[udg_N] = 8.50
    set udg_N = 13
    set udg_WaveUnitTypes[udg_N] = 'n00D'
    set udg_WaveLeaderTypes[udg_N] = 0
    set udg_WaveUnitSource[udg_N] = udg_Source4_MercCamp
    set udg_WaveAttach[udg_N] = udg_Attach0_None
    set udg_WaveUnitCounts[udg_N] = 20
    set udg_WaveSendTime[udg_N] = 11.50
    set udg_N = 14
    set udg_WaveUnitTypes[udg_N] = 'nogr'
    set udg_WaveLeaderTypes[udg_N] = 'Hmkg'
    set udg_WaveHeroConfig[udg_N] = gg_trg_Wave_Hero_04_MountainKing
    set udg_WaveUnitSource[udg_N] = udg_Source4_MercCamp
    set udg_WaveAttach[udg_N] = udg_Attach2_HandRight
    set udg_WaveUnitCounts[udg_N] = 20
    set udg_WaveSendTime[udg_N] = 11.00
    set udg_N = 15
    set udg_WaveUnitTypes[udg_N] = 'nomg'
    set udg_WaveLeaderTypes[udg_N] = 'nogl'
    set udg_WaveUnitSource[udg_N] = udg_Source4_MercCamp
    set udg_WaveAttach[udg_N] = udg_Attach2_HandRight
    set udg_WaveUnitCounts[udg_N] = 22
    set udg_WaveSendTime[udg_N] = 9.40
endfunction

//===========================================================================
function InitTrig_Wave_Units_11_to_15 takes nothing returns nothing
    set gg_trg_Wave_Units_11_to_15 = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Wave_Units_11_to_15, function Trig_Wave_Units_11_to_15_Actions )
endfunction

//===========================================================================
// Trigger: Wave Units 16 to 20
//===========================================================================
function Trig_Wave_Units_16_to_20_Actions takes nothing returns nothing
    set udg_N = 16
    set udg_WaveUnitTypes[udg_N] = 'h006'
    set udg_WaveLeaderTypes[udg_N] = 'Hpal'
    set udg_WaveHeroConfig[udg_N] = gg_trg_Wave_Hero_05_Paladin
    set udg_WaveUnitSource[udg_N] = udg_Source1_Barracks
    set udg_WaveAttach[udg_N] = udg_Attach1_HandLeft
    set udg_WaveUnitCounts[udg_N] = 14
    set udg_WaveSendTime[udg_N] = 10.50
    set udg_N = 17
    set udg_WaveUnitTypes[udg_N] = 'nrdr'
    set udg_WaveLeaderTypes[udg_N] = 0
    set udg_WaveUnitSource[udg_N] = udg_Source5_DragRoost
    set udg_WaveAttach[udg_N] = udg_Attach0_None
    set udg_WaveUnitCounts[udg_N] = 22
    set udg_WaveSendTime[udg_N] = 8.00
    set udg_N = 18
    set udg_WaveUnitTypes[udg_N] = 'hmtt'
    set udg_WaveLeaderTypes[udg_N] = 'Hmkg'
    set udg_WaveHeroConfig[udg_N] = gg_trg_Wave_Hero_06_MountainKing
    set udg_WaveUnitSource[udg_N] = udg_Source2_Workshop
    set udg_WaveAttach[udg_N] = udg_Attach0_None
    set udg_WaveUnitCounts[udg_N] = 22
    set udg_WaveSendTime[udg_N] = 12.00
    set udg_N = 19
    set udg_WaveUnitTypes[udg_N] = 'nanw'
    set udg_WaveLeaderTypes[udg_N] = 'nano'
    set udg_WaveUnitSource[udg_N] = udg_Source6_Beast
    set udg_WaveAttach[udg_N] = udg_Attach1_HandLeft
    set udg_WaveUnitCounts[udg_N] = 18
    set udg_WaveSendTime[udg_N] = 6.50
    set udg_N = 20
    set udg_WaveUnitTypes[udg_N] = 'nthl'
    set udg_WaveLeaderTypes[udg_N] = 'nstw'
    set udg_WaveUnitSource[udg_N] = udg_Source6_Beast
    set udg_WaveAttach[udg_N] = udg_Attach1_HandLeft
    set udg_WaveUnitCounts[udg_N] = 8
    set udg_WaveSendTime[udg_N] = 6.00
endfunction

//===========================================================================
function InitTrig_Wave_Units_16_to_20 takes nothing returns nothing
    set gg_trg_Wave_Units_16_to_20 = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Wave_Units_16_to_20, function Trig_Wave_Units_16_to_20_Actions )
endfunction

//===========================================================================
// Trigger: Wave Units 21 to 25
//===========================================================================
function Trig_Wave_Units_21_to_25_Actions takes nothing returns nothing
    set udg_N = 21
    set udg_WaveUnitTypes[udg_N] = 'h007'
    set udg_WaveLeaderTypes[udg_N] = 'Hamg'
    set udg_WaveHeroConfig[udg_N] = gg_trg_Wave_Hero_07_Archmage
    set udg_WaveUnitSource[udg_N] = udg_Source6_Beast
    set udg_WaveAttach[udg_N] = udg_Attach1_HandLeft
    set udg_WaveUnitCounts[udg_N] = 22
    set udg_WaveSendTime[udg_N] = 11.00
    set udg_N = 22
    set udg_WaveUnitTypes[udg_N] = 'n00F'
    set udg_WaveLeaderTypes[udg_N] = 0
    set udg_WaveUnitSource[udg_N] = udg_Source4_MercCamp
    set udg_WaveAttach[udg_N] = udg_Attach0_None
    set udg_WaveUnitCounts[udg_N] = 22
    set udg_WaveSendTime[udg_N] = 10.60
    set udg_N = 23
    set udg_WaveUnitTypes[udg_N] = 'ngst'
    set udg_WaveLeaderTypes[udg_N] = 0
    set udg_WaveUnitSource[udg_N] = udg_Source6_Beast
    set udg_WaveAttach[udg_N] = udg_Attach1_HandLeft
    set udg_WaveUnitCounts[udg_N] = 20
    set udg_WaveSendTime[udg_N] = 11.00
    set udg_N = 24
    set udg_WaveUnitTypes[udg_N] = 'nrvi'
    set udg_WaveLeaderTypes[udg_N] = 'nlrv'
    set udg_WaveUnitSource[udg_N] = udg_Source6_Beast
    set udg_WaveAttach[udg_N] = udg_Attach1_HandLeft
    set udg_WaveUnitCounts[udg_N] = 10
    set udg_WaveSendTime[udg_N] = 10.00
    set udg_N = 25
    set udg_WaveUnitTypes[udg_N] = 'nsqe'
    set udg_WaveLeaderTypes[udg_N] = 'nsqa'
    set udg_WaveUnitSource[udg_N] = udg_Source6_Beast
    set udg_WaveAttach[udg_N] = udg_Attach1_HandLeft
    set udg_WaveUnitCounts[udg_N] = 14
    set udg_WaveSendTime[udg_N] = 7.50
endfunction

//===========================================================================
function InitTrig_Wave_Units_21_to_25 takes nothing returns nothing
    set gg_trg_Wave_Units_21_to_25 = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Wave_Units_21_to_25, function Trig_Wave_Units_21_to_25_Actions )
endfunction

//===========================================================================
// Trigger: Wave Units 26 to 30
//===========================================================================
function Trig_Wave_Units_26_to_30_Actions takes nothing returns nothing
    set udg_N = 26
    set udg_WaveUnitTypes[udg_N] = 'nrwm'
    set udg_WaveLeaderTypes[udg_N] = 0
    set udg_WaveUnitSource[udg_N] = udg_Source5_DragRoost
    set udg_WaveAttach[udg_N] = udg_Attach0_None
    set udg_WaveUnitCounts[udg_N] = 14
    set udg_WaveSendTime[udg_N] = 11.00
    set udg_N = 27
    set udg_WaveUnitTypes[udg_N] = 'nsgg'
    set udg_WaveLeaderTypes[udg_N] = 0
    set udg_WaveUnitSource[udg_N] = udg_Source6_Beast
    set udg_WaveAttach[udg_N] = udg_Attach1_HandLeft
    set udg_WaveUnitCounts[udg_N] = 12
    set udg_WaveSendTime[udg_N] = 10.00
    set udg_N = 28
    set udg_WaveUnitTypes[udg_N] = 'ncnk'
    set udg_WaveLeaderTypes[udg_N] = 0
    set udg_WaveUnitSource[udg_N] = udg_Source4_MercCamp
    set udg_WaveAttach[udg_N] = udg_Attach1_HandLeft
    set udg_WaveUnitCounts[udg_N] = 14
    set udg_WaveSendTime[udg_N] = 12.00
    set udg_N = 29
    set udg_WaveUnitTypes[udg_N] = 'ntrg'
    set udg_WaveLeaderTypes[udg_N] = 0
    set udg_WaveUnitSource[udg_N] = udg_Source6_Beast
    set udg_WaveAttach[udg_N] = udg_Attach1_HandLeft
    set udg_WaveUnitCounts[udg_N] = 20
    set udg_WaveSendTime[udg_N] = 10.00
    set udg_N = 30
    set udg_WaveUnitTypes[udg_N] = 'nfrp'
    set udg_WaveLeaderTypes[udg_N] = 'Npbm'
    set udg_WaveHeroConfig[udg_N] = gg_trg_Wave_Hero_08_Brewmaster
    set udg_WaveUnitSource[udg_N] = udg_Source4_MercCamp
    set udg_WaveAttach[udg_N] = udg_Attach1_HandLeft
    set udg_WaveUnitCounts[udg_N] = 22
    set udg_WaveSendTime[udg_N] = 10.00
endfunction

//===========================================================================
function InitTrig_Wave_Units_26_to_30 takes nothing returns nothing
    set gg_trg_Wave_Units_26_to_30 = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Wave_Units_26_to_30, function Trig_Wave_Units_26_to_30_Actions )
endfunction

//===========================================================================
// Trigger: Wave Timing
//===========================================================================
function Trig_Wave_Timing_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Spawn_Wave )
    // 0 Minutes Elapsed - Start
    call StartTimerBJ( udg_WaveTimer[1], false, ( 0.50 * udg_minutes ) )
    call StartTimerBJ( udg_WaveTimer[2], false, ( 1.50 * udg_minutes ) )
    call StartTimerBJ( udg_WaveTimer[3], false, ( 2.50 * udg_minutes ) )
    call StartTimerBJ( udg_WaveTimer[4], false, ( 3.50 * udg_minutes ) )
    call StartTimerBJ( udg_WaveTimer[5], false, ( 4.50 * udg_minutes ) )
    // 5 Minutes Elapsed
    call StartTimerBJ( udg_WaveTimer[6], false, ( 5.50 * udg_minutes ) )
    call StartTimerBJ( udg_WaveTimer[7], false, ( 6.50 * udg_minutes ) )
    call StartTimerBJ( udg_WaveTimer[8], false, ( 7.50 * udg_minutes ) )
    call StartTimerBJ( udg_WaveTimer[9], false, ( 8.50 * udg_minutes ) )
    call StartTimerBJ( udg_WaveTimer[10], false, ( 9.50 * udg_minutes ) )
    // 10 Minutes Elapsed
    call StartTimerBJ( udg_WaveTimer[11], false, ( 10.50 * udg_minutes ) )
    call StartTimerBJ( udg_WaveTimer[12], false, ( 12.00 * udg_minutes ) )
    call StartTimerBJ( udg_WaveTimer[13], false, ( 13.20 * udg_minutes ) )
    call StartTimerBJ( udg_WaveTimer[14], false, ( 14.40 * udg_minutes ) )
    call StartTimerBJ( udg_WaveTimer[15], false, ( 15.60 * udg_minutes ) )
    // 15 Minutes Elapsed
    call StartTimerBJ( udg_WaveTimer[16], false, ( 16.80 * udg_minutes ) )
    call StartTimerBJ( udg_WaveTimer[17], false, ( 18.00 * udg_minutes ) )
    call StartTimerBJ( udg_WaveTimer[18], false, ( 19.20 * udg_minutes ) )
    call StartTimerBJ( udg_WaveTimer[19], false, ( 20.50 * udg_minutes ) )
    call StartTimerBJ( udg_WaveTimer[20], false, ( 21.80 * udg_minutes ) )
    call StartTimerBJ( udg_WaveTimer[21], false, ( 23.10 * udg_minutes ) )
    // 20 Minutes Elapsed
    call StartTimerBJ( udg_WaveTimer[22], false, ( 24.40 * udg_minutes ) )
    call StartTimerBJ( udg_WaveTimer[23], false, ( 25.70 * udg_minutes ) )
    call StartTimerBJ( udg_WaveTimer[24], false, ( 27.00 * udg_minutes ) )
    call StartTimerBJ( udg_WaveTimer[25], false, ( 28.30 * udg_minutes ) )
    call StartTimerBJ( udg_WaveTimer[26], false, ( 29.60 * udg_minutes ) )
    call StartTimerBJ( udg_WaveTimer[27], false, ( 30.90 * udg_minutes ) )
    // 25 Minutes Elapsed
    call StartTimerBJ( udg_WaveTimer[28], false, ( 32.20 * udg_minutes ) )
    call StartTimerBJ( udg_WaveTimer[29], false, ( 33.50 * udg_minutes ) )
    call StartTimerBJ( udg_WaveTimer[30], false, ( 35.00 * udg_minutes ) )
endfunction

//===========================================================================
function InitTrig_Wave_Timing takes nothing returns nothing
    set gg_trg_Wave_Timing = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Wave_Timing, function Trig_Wave_Timing_Actions )
endfunction

//===========================================================================
// Trigger: Wave Hero 01 MountainKing
//===========================================================================
function Trig_Wave_Hero_01_MountainKing_Actions takes nothing returns nothing
    call SetHeroLevelBJ( GetLastCreatedUnit(), 1, false )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AHtb' )
    call UnitAddItemByIdSwapped( 'I00A', GetLastCreatedUnit() )
endfunction

//===========================================================================
function InitTrig_Wave_Hero_01_MountainKing takes nothing returns nothing
    set gg_trg_Wave_Hero_01_MountainKing = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Wave_Hero_01_MountainKing, function Trig_Wave_Hero_01_MountainKing_Actions )
endfunction

//===========================================================================
// Trigger: Wave Hero 02 Paladin
//===========================================================================
function Trig_Wave_Hero_02_Paladin_Actions takes nothing returns nothing
    call SetHeroLevelBJ( GetLastCreatedUnit(), 2, false )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AHhb' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AHds' )
    call UnitAddItemByIdSwapped( 'I009', GetLastCreatedUnit() )
endfunction

//===========================================================================
function InitTrig_Wave_Hero_02_Paladin takes nothing returns nothing
    set gg_trg_Wave_Hero_02_Paladin = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Wave_Hero_02_Paladin, function Trig_Wave_Hero_02_Paladin_Actions )
endfunction

//===========================================================================
// Trigger: Wave Hero 03 Archmage
//===========================================================================
function Trig_Wave_Hero_03_Archmage_Actions takes nothing returns nothing
    call SetHeroLevelBJ( GetLastCreatedUnit(), 3, false )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AHbz' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AHbz' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AHwe' )
    set udg_HeroActiveHamg = true
    call UnitAddItemByIdSwapped( 'I008', GetLastCreatedUnit() )
endfunction

//===========================================================================
function InitTrig_Wave_Hero_03_Archmage takes nothing returns nothing
    set gg_trg_Wave_Hero_03_Archmage = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Wave_Hero_03_Archmage, function Trig_Wave_Hero_03_Archmage_Actions )
endfunction

//===========================================================================
// Trigger: Wave Hero 04 MountainKing
//===========================================================================
function Trig_Wave_Hero_04_MountainKing_Actions takes nothing returns nothing
    call SetHeroLevelBJ( GetLastCreatedUnit(), 4, false )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AHtb' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AHtb' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AHtc' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AHbh' )
    call UnitAddItemByIdSwapped( 'I007', GetLastCreatedUnit() )
endfunction

//===========================================================================
function InitTrig_Wave_Hero_04_MountainKing takes nothing returns nothing
    set gg_trg_Wave_Hero_04_MountainKing = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Wave_Hero_04_MountainKing, function Trig_Wave_Hero_04_MountainKing_Actions )
endfunction

//===========================================================================
// Trigger: Wave Hero 05 Paladin
//===========================================================================
function Trig_Wave_Hero_05_Paladin_Actions takes nothing returns nothing
    call SetHeroLevelBJ( GetLastCreatedUnit(), 5, false )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AHhb' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AHhb' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AHds' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AHds' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AHad' )
    set udg_HeroActiveHpal = true
    call UnitAddItemByIdSwapped( 'I008', GetLastCreatedUnit() )
    call UnitAddItemByIdSwapped( 'I008', GetLastCreatedUnit() )
endfunction

//===========================================================================
function InitTrig_Wave_Hero_05_Paladin takes nothing returns nothing
    set gg_trg_Wave_Hero_05_Paladin = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Wave_Hero_05_Paladin, function Trig_Wave_Hero_05_Paladin_Actions )
endfunction

//===========================================================================
// Trigger: Wave Hero 06 MountainKing
//===========================================================================
function Trig_Wave_Hero_06_MountainKing_Actions takes nothing returns nothing
    call SetHeroLevelBJ( GetLastCreatedUnit(), 6, false )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AHtb' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AHtb' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AHtc' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AHbh' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AHbh' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AHav' )
    set udg_HeroActiveHmkg = true
    call UnitAddItemByIdSwapped( 'I008', GetLastCreatedUnit() )
    call UnitAddItemByIdSwapped( 'I004', GetLastCreatedUnit() )
endfunction

//===========================================================================
function InitTrig_Wave_Hero_06_MountainKing takes nothing returns nothing
    set gg_trg_Wave_Hero_06_MountainKing = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Wave_Hero_06_MountainKing, function Trig_Wave_Hero_06_MountainKing_Actions )
endfunction

//===========================================================================
// Trigger: Wave Hero 07 Archmage
//===========================================================================
function Trig_Wave_Hero_07_Archmage_Actions takes nothing returns nothing
    call SetHeroLevelBJ( GetLastCreatedUnit(), 7, false )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AHbz' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AHbz' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AHwe' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AHwe' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AHwe' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AHab' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'AHmt' )
    call UnitAddItemByIdSwapped( 'I006', GetLastCreatedUnit() )
    call UnitAddItemByIdSwapped( 'I005', GetLastCreatedUnit() )
endfunction

//===========================================================================
function InitTrig_Wave_Hero_07_Archmage takes nothing returns nothing
    set gg_trg_Wave_Hero_07_Archmage = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Wave_Hero_07_Archmage, function Trig_Wave_Hero_07_Archmage_Actions )
endfunction

//===========================================================================
// Trigger: Wave Hero 08 Brewmaster
//===========================================================================
function Trig_Wave_Hero_08_Brewmaster_Actions takes nothing returns nothing
    call SetHeroLevelBJ( GetLastCreatedUnit(), 15, false )
    call SelectHeroSkill( GetLastCreatedUnit(), 'ANdb' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'ANdb' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'ANdb' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'ANdh' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'ANdh' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'ANdh' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'ANbf' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'ANbf' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'ANbf' )
    call SelectHeroSkill( GetLastCreatedUnit(), 'ANef' )
endfunction

//===========================================================================
function InitTrig_Wave_Hero_08_Brewmaster takes nothing returns nothing
    set gg_trg_Wave_Hero_08_Brewmaster = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Wave_Hero_08_Brewmaster, function Trig_Wave_Hero_08_Brewmaster_Actions )
endfunction

//===========================================================================
// Trigger: Spawn Wave
//===========================================================================
function Trig_Spawn_Wave_Func009C takes nothing returns boolean
    if ( not ( udg_WaveLeaderTypes[udg_Wave] != 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Spawn_Wave_Actions takes nothing returns nothing
    // Bookkeeping
    set udg_WaitingCount = 0
    set udg_Wave = ( udg_Wave + 1 )
    // Determine Spawn Points
    call ConditionalTriggerExecute( gg_trg_Pick_Spawn_Points )
    // Estimate Per-Unit Spawn Time
    set udg_SpawnTimePerUnit = ( udg_SpawnTime / I2R(udg_WaveUnitCounts[udg_Wave]) )
    // Spawn Leader
    if ( Trig_Spawn_Wave_Func009C() ) then
        // Spawn
        set udg_SpawnPoint = udg_SpawnPointRight
        set udg_RedirectPoint = udg_PointWaitingRedirect01Right
        call ConditionalTriggerExecute( gg_trg_Spawn_Wave_Leader_Single )
        call PolledWait( ( 1.00 * udg_SpawnTimePerUnit ) )
    else
        set udg_WaitingLeader = null
    endif
    // Spawn Units In Pairs
    set udg_SpawnIndex = 1
    loop
        exitwhen udg_SpawnIndex > ( ( udg_WaveUnitCounts[udg_Wave] + 1 ) / 2 )
        // Spawn From Left
        set udg_SpawnPoint = udg_SpawnPointLeft
        set udg_RedirectPoint = udg_PointWaitingRedirect01Left
        call ConditionalTriggerExecute( gg_trg_Spawn_Wave_Unit_Single )
        call PolledWait( ( 0.60 * udg_SpawnTimePerUnit ) )
        // Spawn From Right
        set udg_SpawnPoint = udg_SpawnPointRight
        set udg_RedirectPoint = udg_PointWaitingRedirect01Right
        call ConditionalTriggerExecute( gg_trg_Spawn_Wave_Unit_Single )
        call PolledWait( ( 1.40 * udg_SpawnTimePerUnit ) )
        set udg_SpawnIndex = udg_SpawnIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_Spawn_Wave takes nothing returns nothing
    set gg_trg_Spawn_Wave = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Spawn_Wave, function Trig_Spawn_Wave_Actions )
endfunction

//===========================================================================
// Trigger: Spawn Wave Unit Single
//===========================================================================
function Trig_Spawn_Wave_Unit_Single_Conditions takes nothing returns boolean
    if ( not ( udg_WaitingCount < udg_WaveUnitCounts[udg_Wave] ) ) then
        return false
    endif
    if ( not ( udg_WaitingCount < 24 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Spawn_Wave_Unit_Single_Actions takes nothing returns nothing
    set udg_WaitingCount = ( udg_WaitingCount + 1 )
    call CreateNUnitsAtLoc( 1, udg_WaveUnitTypes[udg_Wave], udg_P07_HumansWave, udg_SpawnPoint, 270.00 )
    // Bookkeeping
    set udg_WaitingArray[udg_WaitingCount] = GetLastCreatedUnit()
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_AttackingUnits )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_UnitsOnPath[0] )
    // Tweak Unit
    call RemoveGuardPosition( GetLastCreatedUnit() )
    // Move To Waiting Spot
    call IssuePointOrderLocBJ( GetLastCreatedUnit(), "move", udg_RedirectPoint )
endfunction

//===========================================================================
function InitTrig_Spawn_Wave_Unit_Single takes nothing returns nothing
    set gg_trg_Spawn_Wave_Unit_Single = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Spawn_Wave_Unit_Single, Condition( function Trig_Spawn_Wave_Unit_Single_Conditions ) )
    call TriggerAddAction( gg_trg_Spawn_Wave_Unit_Single, function Trig_Spawn_Wave_Unit_Single_Actions )
endfunction

//===========================================================================
// Trigger: Spawn Wave Leader Single
//===========================================================================
function Trig_Spawn_Wave_Leader_Single_Conditions takes nothing returns boolean
    if ( not ( udg_WaveLeaderTypes[udg_Wave] != 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Spawn_Wave_Leader_Single_Func003C takes nothing returns boolean
    if ( not ( IsUnitType(GetLastCreatedUnit(), UNIT_TYPE_HERO) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Spawn_Wave_Leader_Single_Actions takes nothing returns nothing
    call CreateNUnitsAtLoc( 1, udg_WaveLeaderTypes[udg_Wave], udg_P07_HumansWave, udg_SpawnPoint, 270.00 )
    if ( Trig_Spawn_Wave_Leader_Single_Func003C() ) then
        // Hero
        call SetUnitPositionLoc( GetLastCreatedUnit(), udg_PointSourceAltar )
        call ConditionalTriggerExecute( udg_WaveHeroConfig[udg_Wave] )
    else
    endif
    // Bookkeeping
    set udg_WaitingLeader = GetLastCreatedUnit()
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_AttackingUnits )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_UnitsOnPath[0] )
    // Tweak Unit
    call RemoveGuardPosition( GetLastCreatedUnit() )
    // Move To Waiting Spot
    call IssuePointOrderLocBJ( GetLastCreatedUnit(), "move", udg_RedirectPoint )
endfunction

//===========================================================================
function InitTrig_Spawn_Wave_Leader_Single takes nothing returns nothing
    set gg_trg_Spawn_Wave_Leader_Single = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Spawn_Wave_Leader_Single, Condition( function Trig_Spawn_Wave_Leader_Single_Conditions ) )
    call TriggerAddAction( gg_trg_Spawn_Wave_Leader_Single, function Trig_Spawn_Wave_Leader_Single_Actions )
endfunction

//===========================================================================
// Trigger: Spawn Wave Pathing Disabler
//===========================================================================
function Trig_Spawn_Wave_Pathing_Disabler_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_AttackingUnits) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Spawn_Wave_Pathing_Disabler_Actions takes nothing returns nothing
    call SetUnitPathing( GetEnteringUnit(), false )
endfunction

//===========================================================================
function InitTrig_Spawn_Wave_Pathing_Disabler takes nothing returns nothing
    set gg_trg_Spawn_Wave_Pathing_Disabler = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Spawn_Wave_Pathing_Disabler, gg_rct_Pathing_Disabler )
    call TriggerAddCondition( gg_trg_Spawn_Wave_Pathing_Disabler, Condition( function Trig_Spawn_Wave_Pathing_Disabler_Conditions ) )
    call TriggerAddAction( gg_trg_Spawn_Wave_Pathing_Disabler, function Trig_Spawn_Wave_Pathing_Disabler_Actions )
endfunction

//===========================================================================
// Trigger: Spawn Wave Redirect
//===========================================================================
function Trig_Spawn_Wave_Redirect_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_AttackingUnits) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Spawn_Wave_Redirect_Func008C takes nothing returns boolean
    if ( not ( udg_AttachPoint != "" ) ) then
        return false
    endif
    return true
endfunction

function Trig_Spawn_Wave_Redirect_Func010Func003Func001C takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_WaitingArray[udg_RedirectIndex] ) ) then
        return false
    endif
    return true
endfunction

function Trig_Spawn_Wave_Redirect_Func010C takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_WaitingLeader ) ) then
        return false
    endif
    return true
endfunction

function Trig_Spawn_Wave_Redirect_Actions takes nothing returns nothing
    call SetUnitPathing( GetEnteringUnit(), false )
    call PolledWait( 0.15 )
    // Grab An Explosive
    call SetUnitFacingToFaceLocTimed( GetEnteringUnit(), udg_PointExplosivesFaceTarget, 0.20 )
    call PolledWait( 0.20 )
    // Attach Explosive
    call ConditionalTriggerExecute( gg_trg_Pick_Attachment_Points )
    if ( Trig_Spawn_Wave_Redirect_Func008C() ) then
        call AddSpecialEffectTargetUnitBJ( udg_AttachPoint, GetEnteringUnit(), udg_ExplosiveArt )
    else
    endif
    // Determine Formation Spot
    if ( Trig_Spawn_Wave_Redirect_Func010C() ) then
        set udg_TempPoint = udg_PointWaitingLeaderSpot
    else
        set udg_TempPoint = GetRandomLocInRect(gg_rct_Waiting_Zone)
        set udg_RedirectIndex = 1
        loop
            exitwhen udg_RedirectIndex > udg_WaitingCount
            if ( Trig_Spawn_Wave_Redirect_Func010Func003Func001C() ) then
                call RemoveLocation( udg_TempPoint )
                set udg_TempPoint = udg_WaitingSpots[udg_RedirectIndex]
            else
            endif
            set udg_RedirectIndex = udg_RedirectIndex + 1
        endloop
    endif
    // Get Into Formation
    call IssuePointOrderLocBJ( GetEnteringUnit(), "move", udg_TempPoint )
endfunction

//===========================================================================
function InitTrig_Spawn_Wave_Redirect takes nothing returns nothing
    set gg_trg_Spawn_Wave_Redirect = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Spawn_Wave_Redirect, gg_rct_Waiting_Redirect_01_Left )
    call TriggerRegisterEnterRectSimple( gg_trg_Spawn_Wave_Redirect, gg_rct_Waiting_Redirect_01_Right )
    call TriggerAddCondition( gg_trg_Spawn_Wave_Redirect, Condition( function Trig_Spawn_Wave_Redirect_Conditions ) )
    call TriggerAddAction( gg_trg_Spawn_Wave_Redirect, function Trig_Spawn_Wave_Redirect_Actions )
endfunction

//===========================================================================
// Trigger: Pick Spawn Points
//===========================================================================
function Trig_Pick_Spawn_Points_Func005C takes nothing returns boolean
    if ( not ( udg_WaveUnitSource[udg_Wave] == udg_Source0_Castle ) ) then
        return false
    endif
    return true
endfunction

function Trig_Pick_Spawn_Points_Func006C takes nothing returns boolean
    if ( not ( udg_WaveUnitSource[udg_Wave] == udg_Source1_Barracks ) ) then
        return false
    endif
    return true
endfunction

function Trig_Pick_Spawn_Points_Func007C takes nothing returns boolean
    if ( not ( udg_WaveUnitSource[udg_Wave] == udg_Source2_Workshop ) ) then
        return false
    endif
    return true
endfunction

function Trig_Pick_Spawn_Points_Func008C takes nothing returns boolean
    if ( not ( udg_WaveUnitSource[udg_Wave] == udg_Source3_Aviary ) ) then
        return false
    endif
    return true
endfunction

function Trig_Pick_Spawn_Points_Func009C takes nothing returns boolean
    if ( not ( udg_WaveUnitSource[udg_Wave] == udg_Source4_MercCamp ) ) then
        return false
    endif
    return true
endfunction

function Trig_Pick_Spawn_Points_Func010C takes nothing returns boolean
    if ( not ( udg_WaveUnitSource[udg_Wave] == udg_Source5_DragRoost ) ) then
        return false
    endif
    return true
endfunction

function Trig_Pick_Spawn_Points_Func011C takes nothing returns boolean
    if ( not ( udg_WaveUnitSource[udg_Wave] == udg_Source6_Beast ) ) then
        return false
    endif
    return true
endfunction

function Trig_Pick_Spawn_Points_Actions takes nothing returns nothing
    // Default Spawn Points (Safety)
    set udg_SpawnPointLeft = udg_PointSource0CastleLeft
    set udg_SpawnPointRight = udg_PointSource0CastleRight
    // Find Recognized Spawn Points
    if ( Trig_Pick_Spawn_Points_Func005C() ) then
        set udg_SpawnPointLeft = udg_PointSource0CastleLeft
        set udg_SpawnPointRight = udg_PointSource0CastleRight
    else
    endif
    if ( Trig_Pick_Spawn_Points_Func006C() ) then
        set udg_SpawnPointLeft = udg_PointSource1BarracksLeft
        set udg_SpawnPointRight = udg_PointSource1BarracksRight
    else
    endif
    if ( Trig_Pick_Spawn_Points_Func007C() ) then
        set udg_SpawnPointLeft = udg_PointSource2WorkshopLeft
        set udg_SpawnPointRight = udg_PointSource2WorkshopRight
    else
    endif
    if ( Trig_Pick_Spawn_Points_Func008C() ) then
        set udg_SpawnPointLeft = udg_PointSource3AviaryLeft
        set udg_SpawnPointRight = udg_PointSource3AviaryRight
    else
    endif
    if ( Trig_Pick_Spawn_Points_Func009C() ) then
        set udg_SpawnPointLeft = udg_PointSource4MercLeft
        set udg_SpawnPointRight = udg_PointSource4MercRight
    else
    endif
    if ( Trig_Pick_Spawn_Points_Func010C() ) then
        set udg_SpawnPointLeft = udg_PointSource5DragLeft
        set udg_SpawnPointRight = udg_PointSource5DragRight
    else
    endif
    if ( Trig_Pick_Spawn_Points_Func011C() ) then
        set udg_SpawnPointLeft = udg_PointSource6BeastsLeft
        set udg_SpawnPointRight = udg_PointSource6BeastsRight
    else
    endif
endfunction

//===========================================================================
function InitTrig_Pick_Spawn_Points takes nothing returns nothing
    set gg_trg_Pick_Spawn_Points = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Pick_Spawn_Points, function Trig_Pick_Spawn_Points_Actions )
endfunction

//===========================================================================
// Trigger: Pick Attachment Points
//===========================================================================
function Trig_Pick_Attachment_Points_Func002C takes nothing returns boolean
    if ( not ( udg_WaveAttach[udg_Wave] == udg_Attach1_HandLeft ) ) then
        return false
    endif
    return true
endfunction

function Trig_Pick_Attachment_Points_Func003C takes nothing returns boolean
    if ( not ( udg_WaveAttach[udg_Wave] == udg_Attach2_HandRight ) ) then
        return false
    endif
    return true
endfunction

function Trig_Pick_Attachment_Points_Func004C takes nothing returns boolean
    if ( not ( udg_WaveAttach[udg_Wave] == udg_Attach3_Base ) ) then
        return false
    endif
    return true
endfunction

function Trig_Pick_Attachment_Points_Actions takes nothing returns nothing
    set udg_AttachPoint = ""
    if ( Trig_Pick_Attachment_Points_Func002C() ) then
        set udg_AttachPoint = "hand left"
    else
    endif
    if ( Trig_Pick_Attachment_Points_Func003C() ) then
        set udg_AttachPoint = "hand right"
    else
    endif
    if ( Trig_Pick_Attachment_Points_Func004C() ) then
        set udg_AttachPoint = "base"
    else
    endif
endfunction

//===========================================================================
function InitTrig_Pick_Attachment_Points takes nothing returns nothing
    set gg_trg_Pick_Attachment_Points = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Pick_Attachment_Points, function Trig_Pick_Attachment_Points_Actions )
endfunction

//===========================================================================
// Trigger: Wave Events
//===========================================================================
function Trig_Wave_Events_Actions takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Send_Wave )
endfunction

//===========================================================================
function InitTrig_Wave_Events takes nothing returns nothing
    set gg_trg_Wave_Events = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Wave_Events, udg_WaveTimer[1] )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Wave_Events, udg_WaveTimer[2] )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Wave_Events, udg_WaveTimer[3] )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Wave_Events, udg_WaveTimer[4] )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Wave_Events, udg_WaveTimer[5] )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Wave_Events, udg_WaveTimer[6] )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Wave_Events, udg_WaveTimer[7] )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Wave_Events, udg_WaveTimer[8] )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Wave_Events, udg_WaveTimer[9] )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Wave_Events, udg_WaveTimer[10] )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Wave_Events, udg_WaveTimer[11] )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Wave_Events, udg_WaveTimer[12] )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Wave_Events, udg_WaveTimer[13] )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Wave_Events, udg_WaveTimer[14] )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Wave_Events, udg_WaveTimer[15] )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Wave_Events, udg_WaveTimer[16] )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Wave_Events, udg_WaveTimer[17] )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Wave_Events, udg_WaveTimer[18] )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Wave_Events, udg_WaveTimer[19] )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Wave_Events, udg_WaveTimer[20] )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Wave_Events, udg_WaveTimer[21] )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Wave_Events, udg_WaveTimer[22] )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Wave_Events, udg_WaveTimer[23] )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Wave_Events, udg_WaveTimer[24] )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Wave_Events, udg_WaveTimer[25] )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Wave_Events, udg_WaveTimer[26] )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Wave_Events, udg_WaveTimer[27] )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Wave_Events, udg_WaveTimer[28] )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Wave_Events, udg_WaveTimer[29] )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Wave_Events, udg_WaveTimer[30] )
    call TriggerAddAction( gg_trg_Wave_Events, function Trig_Wave_Events_Actions )
endfunction

//===========================================================================
// Trigger: Send Wave
//===========================================================================
function Trig_Send_Wave_Func006001 takes nothing returns boolean
    return ( udg_EnemyGateUsers == 1 )
endfunction

function Trig_Send_Wave_Func014C takes nothing returns boolean
    if ( not ( udg_CurrentWaveInt == 30 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Send_Wave_Func018001 takes nothing returns boolean
    return ( udg_SendingCount > 0 )
endfunction

function Trig_Send_Wave_Func020Func002C takes nothing returns boolean
    if ( not ( GetUnitTypeId(udg_SendingLeader) == 'Hpal' ) ) then
        return false
    endif
    if ( not ( udg_HeroActiveHpal == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Send_Wave_Func020Func003C takes nothing returns boolean
    if ( not ( GetUnitTypeId(udg_SendingLeader) == 'Hmkg' ) ) then
        return false
    endif
    if ( not ( udg_HeroActiveHmkg == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Send_Wave_Func020C takes nothing returns boolean
    if ( not ( udg_SendingLeader != null ) ) then
        return false
    endif
    return true
endfunction

function Trig_Send_Wave_Func029001 takes nothing returns boolean
    return ( udg_EnemyGateUsers == 0 )
endfunction

function Trig_Send_Wave_Actions takes nothing returns nothing
    // Track Wave That Is Out
    set udg_CurrentWaveInt = ( udg_CurrentWaveInt + 1 )
    set udg_WavesRemainingInt = ( 30 - udg_CurrentWaveInt )
    // Open Gate  (unless another wave has it open already)
    set udg_EnemyGateUsers = ( udg_EnemyGateUsers + 1 )
    if ( Trig_Send_Wave_Func006001() ) then
        call ModifyGateBJ( bj_GATEOPERATION_OPEN, udg_EnemyGate )
    else
        call DoNothing(  )
    endif
    call PlaySoundAtPointBJ( gg_snd_LargeCityGateOpen1, 80.00, udg_PointGateSound, 0 )
    call QueuedTriggerAddBJ( gg_trg_WARNING_Wave_Sent_Q, true )
    // Copy Waiting Data  (allows overlap)
    set udg_SendingLeader = udg_WaitingLeader
    set udg_SendingCount = udg_WaitingCount
    set udg_SendingIndex = 1
    loop
        exitwhen udg_SendingIndex > udg_SendingCount
        set udg_SendingArray[udg_SendingIndex] = udg_WaitingArray[udg_SendingIndex]
        set udg_SendingIndex = udg_SendingIndex + 1
    endloop
    // Final Unit Group
    if ( Trig_Send_Wave_Func014C() ) then
        set bj_forLoopAIndex = 1
        set bj_forLoopAIndexEnd = 22
        loop
            exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
            call GroupAddUnitSimple( udg_SendingArray[GetForLoopIndexA()], udg_FinalWaveGroup )
            call GroupAddUnitSimple( udg_SendingLeader, udg_FinalWaveGroup )
            call EnableTrigger( gg_trg_Victory_Final_Wave )
            set bj_forLoopAIndex = bj_forLoopAIndex + 1
        endloop
    else
    endif
    // Calc Send Time
    call ConditionalTriggerExecute( gg_trg_Calculate_Sending_Time )
    // Equalize Movespeeds
    if ( Trig_Send_Wave_Func018001() ) then
        call SetUnitMoveSpeed( udg_SendingLeader, GetUnitDefaultMoveSpeed(udg_SendingArray[1]) )
    else
        call DoNothing(  )
    endif
    // Send Leader
    if ( Trig_Send_Wave_Func020C() ) then
        call GroupAddUnitSimple( udg_SendingLeader, udg_GoldDroppers )
        if ( Trig_Send_Wave_Func020Func002C() ) then
            call IssueImmediateOrderBJ( udg_SendingLeader, "divineshield" )
            call PolledWait( 0.10 )
        else
        endif
        if ( Trig_Send_Wave_Func020Func003C() ) then
            call IssueImmediateOrderBJ( udg_SendingLeader, "avatar" )
            call PolledWait( 1.50 )
            set udg_HeroHmkg = udg_SendingLeader
        else
        endif
        call IssuePointOrderLocBJ( udg_SendingLeader, "move", udg_PointPathTarget01 )
        call PolledWait( udg_SendingTimePerUnit )
    else
    endif
    // Send Others
    set udg_SendingIndex = 1
    loop
        exitwhen udg_SendingIndex > udg_SendingCount
        call IssuePointOrderLocBJ( udg_SendingArray[udg_SendingIndex], "move", udg_PointPathTarget01 )
        call PolledWait( udg_SendingTimePerUnit )
        set udg_SendingIndex = udg_SendingIndex + 1
    endloop
    // Begin The Next Wave
    call ConditionalTriggerExecute( gg_trg_Spawn_Wave )
    // Wait For Path To Clear
    call PolledWait( ( 3.50 * ( 270.00 / RMaxBJ(100.00, GetUnitDefaultMoveSpeed(udg_SendingArray[udg_SendingCount])) ) ) )
    // Close Gate  (unless another wave wants it open)
    set udg_EnemyGateUsers = ( udg_EnemyGateUsers - 1 )
    if ( Trig_Send_Wave_Func029001() ) then
        call ModifyGateBJ( bj_GATEOPERATION_CLOSE, udg_EnemyGate )
    else
        call DoNothing(  )
    endif
    call PlaySoundAtPointBJ( gg_snd_LargeCityGateOpen1, 80.00, udg_PointGateSound, 0 )
endfunction

//===========================================================================
function InitTrig_Send_Wave takes nothing returns nothing
    set gg_trg_Send_Wave = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Send_Wave, function Trig_Send_Wave_Actions )
endfunction

//===========================================================================
// Trigger: Calculate Sending Time
//===========================================================================
function Trig_Calculate_Sending_Time_Func001C takes nothing returns boolean
    if ( not ( udg_SendingLeader == null ) ) then
        return false
    endif
    return true
endfunction

function Trig_Calculate_Sending_Time_Func002C takes nothing returns boolean
    if ( not ( udg_TempInteger > 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Calculate_Sending_Time_Actions takes nothing returns nothing
    if ( Trig_Calculate_Sending_Time_Func001C() ) then
        set udg_TempInteger = ( udg_SendingCount - 1 )
    else
        set udg_TempInteger = udg_SendingCount
    endif
    if ( Trig_Calculate_Sending_Time_Func002C() ) then
        set udg_SendingTimePerUnit = ( udg_WaveSendTime[udg_Wave] / I2R(udg_TempInteger) )
    else
        set udg_SendingTimePerUnit = 0.50
    endif
endfunction

//===========================================================================
function InitTrig_Calculate_Sending_Time takes nothing returns nothing
    set gg_trg_Calculate_Sending_Time = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Calculate_Sending_Time, function Trig_Calculate_Sending_Time_Actions )
endfunction

//===========================================================================
// Trigger: Attacker Dies
//===========================================================================
function Trig_Attacker_Dies_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetDyingUnit(), udg_AttackingUnits) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Attacker_Dies_Func003C takes nothing returns boolean
    if ( not ( GetDyingUnit() == udg_HeroHmkg ) ) then
        return false
    endif
    return true
endfunction

function Trig_Attacker_Dies_Func005C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetDyingUnit()) != 'nrvi' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetDyingUnit()) != 'nlrv' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetDyingUnit()) != 'ngst' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetDyingUnit()) != 'nggr' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetDyingUnit()) != 'nsgg' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Attacker_Dies_Func007C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetDyingUnit()) == udg_ZeppelinType01 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Attacker_Dies_Func009C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetDyingUnit()) == udg_ZeppelinType02 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Attacker_Dies_Actions takes nothing returns nothing
    call GroupRemoveUnitSimple( GetDyingUnit(), udg_AttackingUnits )
    // Special - Mountain King
    if ( Trig_Attacker_Dies_Func003C() ) then
        set udg_HeroHmkg = null
    else
    endif
    // Special - Revenant
    if ( Trig_Attacker_Dies_Func005C() ) then
    else
        call ReplaceUnitBJ( GetDyingUnit(), GetUnitTypeId(GetDyingUnit()), bj_UNIT_STATE_METHOD_ABSOLUTE )
        call KillUnit( GetLastReplacedUnitBJ() )
    endif
    // Special - Zeppelin
    if ( Trig_Attacker_Dies_Func007C() ) then
        set udg_SubspawnType = udg_ZeppelinSpawnType01
        call ConditionalTriggerExecute( gg_trg_Calculate_Dying_Path_Target )
        set udg_SubspawnIndex = 1
        loop
            exitwhen udg_SubspawnIndex > udg_ZeppelinSpawns01
            call ConditionalTriggerExecute( gg_trg_Send_Zeppelin_Subspawn )
            set udg_SubspawnIndex = udg_SubspawnIndex + 1
        endloop
    else
    endif
    // Special - Zeppelin2
    if ( Trig_Attacker_Dies_Func009C() ) then
        set udg_SubspawnType = udg_ZeppelinSpawnType02
        call ConditionalTriggerExecute( gg_trg_Calculate_Dying_Path_Target )
        set udg_SubspawnIndex = 1
        loop
            exitwhen udg_SubspawnIndex > udg_ZeppelinSpawns02
            call ConditionalTriggerExecute( gg_trg_Send_Zeppelin_Subspawn )
            set udg_SubspawnIndex = udg_SubspawnIndex + 1
        endloop
    else
    endif
    // Cleanup
    set bj_forLoopAIndex = 1
    set bj_forLoopAIndexEnd = udg_PathTargets
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call GroupRemoveUnitSimple( GetDyingUnit(), udg_UnitsOnPath[GetForLoopIndexA()] )
        set bj_forLoopAIndex = bj_forLoopAIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_Attacker_Dies takes nothing returns nothing
    set gg_trg_Attacker_Dies = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Attacker_Dies, Player(6), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Attacker_Dies, Condition( function Trig_Attacker_Dies_Conditions ) )
    call TriggerAddAction( gg_trg_Attacker_Dies, function Trig_Attacker_Dies_Actions )
endfunction

//===========================================================================
// Trigger: Calculate Dying Path Target
//===========================================================================
function Trig_Calculate_Dying_Path_Target_Func003Func001C takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetDyingUnit(), udg_UnitsOnPath[GetForLoopIndexA()]) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Calculate_Dying_Path_Target_Actions takes nothing returns nothing
    // Find The Zep's Path Target
    set udg_DyingPathTarget = 0
    set bj_forLoopAIndex = 1
    set bj_forLoopAIndexEnd = udg_PathTargets
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( Trig_Calculate_Dying_Path_Target_Func003Func001C() ) then
            set udg_DyingPathTarget = GetForLoopIndexA()
        else
        endif
        set bj_forLoopAIndex = bj_forLoopAIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_Calculate_Dying_Path_Target takes nothing returns nothing
    set gg_trg_Calculate_Dying_Path_Target = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Calculate_Dying_Path_Target, function Trig_Calculate_Dying_Path_Target_Actions )
endfunction

//===========================================================================
// Trigger: Send Zeppelin Subspawn
//===========================================================================
function Trig_Send_Zeppelin_Subspawn_Func006C takes nothing returns boolean
    if ( not ( RectContainsUnit(gg_rct_DestroyPlayerSummonedUnits, GetLastCreatedUnit()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Send_Zeppelin_Subspawn_Actions takes nothing returns nothing
    // Create Subspawn
    set udg_TempPoint = GetUnitLoc(GetDyingUnit())
    call CreateNUnitsAtLoc( 1, udg_SubspawnType, udg_P07_HumansWave, PolarProjectionBJ(udg_TempPoint, GetRandomReal(0, 64.00), GetRandomDirectionDeg()), GetRandomDirectionDeg() )
    call RemoveLocation( udg_TempPoint )
    // Die If Too Early
    if ( Trig_Send_Zeppelin_Subspawn_Func006C() ) then
        call ExplodeUnitBJ( GetLastCreatedUnit() )
        return
    else
    endif
    // Bookkeeping
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_AttackingUnits )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_UnitsOnPath[udg_DyingPathTarget] )
    // Tweak Unit
    call RemoveGuardPosition( GetLastCreatedUnit() )
    call SetUnitPathing( GetLastCreatedUnit(), false )
    call AddSpecialEffectTargetUnitBJ( "hand left", GetLastCreatedUnit(), udg_ExplosiveArt )
    // Move To Waiting Spot
    call IssuePointOrderLocBJ( GetLastCreatedUnit(), "move", udg_PointPathTargetArray[udg_DyingPathTarget] )
endfunction

//===========================================================================
function InitTrig_Send_Zeppelin_Subspawn takes nothing returns nothing
    set gg_trg_Send_Zeppelin_Subspawn = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Send_Zeppelin_Subspawn, function Trig_Send_Zeppelin_Subspawn_Actions )
endfunction

//===========================================================================
// Trigger: Avatar Check
//===========================================================================
function Trig_Avatar_Check_Conditions takes nothing returns boolean
    if ( not ( udg_HeroHmkg != null ) ) then
        return false
    endif
    return true
endfunction

function Trig_Avatar_Check_Func002Func001C takes nothing returns boolean
    if ( not ( IsUnitInGroup(udg_HeroHmkg, udg_UnitsOnPath[udg_PathIndex]) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Avatar_Check_Actions takes nothing returns nothing
    set udg_PathIndex = 1
    loop
        exitwhen udg_PathIndex > udg_PathTargets
        if ( Trig_Avatar_Check_Func002Func001C() ) then
            set udg_TempPathPointRandom = GetRandomLocInRect(udg_PathTarget[udg_PathIndex])
            call IssuePointOrderLocBJ( udg_HeroHmkg, "move", udg_TempPathPointRandom )
            call RemoveLocation( udg_TempPathPointRandom )
        else
        endif
        set udg_PathIndex = udg_PathIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_Avatar_Check takes nothing returns nothing
    set gg_trg_Avatar_Check = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Avatar_Check, 1.00 )
    call TriggerAddCondition( gg_trg_Avatar_Check, Condition( function Trig_Avatar_Check_Conditions ) )
    call TriggerAddAction( gg_trg_Avatar_Check, function Trig_Avatar_Check_Actions )
endfunction

//===========================================================================
// Trigger: Path Data
//===========================================================================
function Trig_Path_Data_Actions takes nothing returns nothing
    set udg_PathTargets = 25
    set udg_PathTarget[1] = gg_rct_Path_Target_01
    set udg_PathTarget[2] = gg_rct_Path_Target_02
    set udg_PathTarget[3] = gg_rct_Path_Target_03
    set udg_PathTarget[4] = gg_rct_Path_Target_04
    set udg_PathTarget[5] = gg_rct_Path_Target_05
    set udg_PathTarget[6] = gg_rct_Path_Target_06
    set udg_PathTarget[7] = gg_rct_Path_Target_07
    set udg_PathTarget[8] = gg_rct_Path_Target_08
    set udg_PathTarget[9] = gg_rct_Path_Target_09
    set udg_PathTarget[10] = gg_rct_Path_Target_10
    set udg_PathTarget[11] = gg_rct_Path_Target_11
    set udg_PathTarget[12] = gg_rct_Path_Target_12
    set udg_PathTarget[13] = gg_rct_Path_Target_13
    set udg_PathTarget[14] = gg_rct_Path_Target_14
    set udg_PathTarget[15] = gg_rct_Path_Target_15
    set udg_PathTarget[16] = gg_rct_Path_Target_16
    set udg_PathTarget[17] = gg_rct_Path_Target_17
    set udg_PathTarget[18] = gg_rct_Path_Target_18
    set udg_PathTarget[19] = gg_rct_Path_Target_19
    set udg_PathTarget[20] = gg_rct_Path_Target_20
    set udg_PathTarget[21] = gg_rct_Path_Target_21
    set udg_PathTarget[22] = gg_rct_Path_Target_22
    set udg_PathTarget[23] = gg_rct_Path_Target_23
    set udg_PathTarget[24] = gg_rct_Path_Target_24
    set udg_PathTarget[25] = gg_rct_Attack_Target
    // PathPointArray
    set bj_forLoopAIndex = 1
    set bj_forLoopAIndexEnd = 25
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        set udg_PointPathTargetArray[GetForLoopIndexA()] = GetRectCenter(udg_PathTarget[GetForLoopIndexA()])
        set bj_forLoopAIndex = bj_forLoopAIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_Path_Data takes nothing returns nothing
    set gg_trg_Path_Data = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Path_Data, function Trig_Path_Data_Actions )
endfunction

//===========================================================================
// Trigger: Path Reached 01
//===========================================================================
function Trig_Path_Reached_01_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_AttackingUnits) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Path_Reached_01_Actions takes nothing returns nothing
    set udg_TempInteger = 1
    call GroupRemoveUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[udg_TempInteger] )
    call GroupAddUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[( udg_TempInteger + 1 )] )
    set udg_TempPathPointRandom = GetRandomLocInRect(udg_PathTarget[( udg_TempInteger + 1 )])
    call IssuePointOrderLocBJ( GetEnteringUnit(), "move", udg_TempPathPointRandom )
    call RemoveLocation( udg_TempPathPointRandom )
endfunction

//===========================================================================
function InitTrig_Path_Reached_01 takes nothing returns nothing
    set gg_trg_Path_Reached_01 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Path_Reached_01, gg_rct_Path_Tripwire_01 )
    call TriggerAddCondition( gg_trg_Path_Reached_01, Condition( function Trig_Path_Reached_01_Conditions ) )
    call TriggerAddAction( gg_trg_Path_Reached_01, function Trig_Path_Reached_01_Actions )
endfunction

//===========================================================================
// Trigger: Path Reached 02
//===========================================================================
function Trig_Path_Reached_02_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_AttackingUnits) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Path_Reached_02_Actions takes nothing returns nothing
    set udg_TempInteger = 2
    call GroupRemoveUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[udg_TempInteger] )
    call GroupAddUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[( udg_TempInteger + 1 )] )
    set udg_TempPathPointRandom = GetRandomLocInRect(udg_PathTarget[( udg_TempInteger + 1 )])
    call IssuePointOrderLocBJ( GetEnteringUnit(), "move", udg_TempPathPointRandom )
    call RemoveLocation( udg_TempPathPointRandom )
endfunction

//===========================================================================
function InitTrig_Path_Reached_02 takes nothing returns nothing
    set gg_trg_Path_Reached_02 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Path_Reached_02, gg_rct_Path_Tripwire_02 )
    call TriggerAddCondition( gg_trg_Path_Reached_02, Condition( function Trig_Path_Reached_02_Conditions ) )
    call TriggerAddAction( gg_trg_Path_Reached_02, function Trig_Path_Reached_02_Actions )
endfunction

//===========================================================================
// Trigger: Path Reached 03
//===========================================================================
function Trig_Path_Reached_03_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_AttackingUnits) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Path_Reached_03_Actions takes nothing returns nothing
    set udg_TempInteger = 3
    call GroupRemoveUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[udg_TempInteger] )
    call GroupAddUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[( udg_TempInteger + 1 )] )
    set udg_TempPathPointRandom = GetRandomLocInRect(udg_PathTarget[( udg_TempInteger + 1 )])
    call IssuePointOrderLocBJ( GetEnteringUnit(), "move", udg_TempPathPointRandom )
    call RemoveLocation( udg_TempPathPointRandom )
endfunction

//===========================================================================
function InitTrig_Path_Reached_03 takes nothing returns nothing
    set gg_trg_Path_Reached_03 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Path_Reached_03, gg_rct_Path_Tripwire_03 )
    call TriggerAddCondition( gg_trg_Path_Reached_03, Condition( function Trig_Path_Reached_03_Conditions ) )
    call TriggerAddAction( gg_trg_Path_Reached_03, function Trig_Path_Reached_03_Actions )
endfunction

//===========================================================================
// Trigger: Path Reached 04
//===========================================================================
function Trig_Path_Reached_04_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_AttackingUnits) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Path_Reached_04_Actions takes nothing returns nothing
    set udg_TempInteger = 4
    call GroupRemoveUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[udg_TempInteger] )
    call GroupAddUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[( udg_TempInteger + 1 )] )
    set udg_TempPathPointRandom = GetRandomLocInRect(udg_PathTarget[( udg_TempInteger + 1 )])
    call IssuePointOrderLocBJ( GetEnteringUnit(), "move", udg_TempPathPointRandom )
    call RemoveLocation( udg_TempPathPointRandom )
endfunction

//===========================================================================
function InitTrig_Path_Reached_04 takes nothing returns nothing
    set gg_trg_Path_Reached_04 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Path_Reached_04, gg_rct_Path_Tripwire_04 )
    call TriggerAddCondition( gg_trg_Path_Reached_04, Condition( function Trig_Path_Reached_04_Conditions ) )
    call TriggerAddAction( gg_trg_Path_Reached_04, function Trig_Path_Reached_04_Actions )
endfunction

//===========================================================================
// Trigger: Path Reached 05
//===========================================================================
function Trig_Path_Reached_05_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_AttackingUnits) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Path_Reached_05_Actions takes nothing returns nothing
    set udg_TempInteger = 5
    call GroupRemoveUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[udg_TempInteger] )
    call GroupAddUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[( udg_TempInteger + 1 )] )
    set udg_TempPathPointRandom = GetRandomLocInRect(udg_PathTarget[( udg_TempInteger + 1 )])
    call IssuePointOrderLocBJ( GetEnteringUnit(), "move", udg_TempPathPointRandom )
    call RemoveLocation( udg_TempPathPointRandom )
endfunction

//===========================================================================
function InitTrig_Path_Reached_05 takes nothing returns nothing
    set gg_trg_Path_Reached_05 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Path_Reached_05, gg_rct_Path_Tripwire_05 )
    call TriggerAddCondition( gg_trg_Path_Reached_05, Condition( function Trig_Path_Reached_05_Conditions ) )
    call TriggerAddAction( gg_trg_Path_Reached_05, function Trig_Path_Reached_05_Actions )
endfunction

//===========================================================================
// Trigger: Path Reached 06
//===========================================================================
function Trig_Path_Reached_06_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_AttackingUnits) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Path_Reached_06_Actions takes nothing returns nothing
    set udg_TempInteger = 6
    call GroupRemoveUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[udg_TempInteger] )
    call GroupAddUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[( udg_TempInteger + 1 )] )
    set udg_TempPathPointRandom = GetRandomLocInRect(udg_PathTarget[( udg_TempInteger + 1 )])
    call IssuePointOrderLocBJ( GetEnteringUnit(), "move", udg_TempPathPointRandom )
    call RemoveLocation( udg_TempPathPointRandom )
endfunction

//===========================================================================
function InitTrig_Path_Reached_06 takes nothing returns nothing
    set gg_trg_Path_Reached_06 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Path_Reached_06, gg_rct_Path_Tripwire_06 )
    call TriggerAddCondition( gg_trg_Path_Reached_06, Condition( function Trig_Path_Reached_06_Conditions ) )
    call TriggerAddAction( gg_trg_Path_Reached_06, function Trig_Path_Reached_06_Actions )
endfunction

//===========================================================================
// Trigger: Path Reached 07
//===========================================================================
function Trig_Path_Reached_07_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_AttackingUnits) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Path_Reached_07_Actions takes nothing returns nothing
    set udg_TempInteger = 7
    call GroupRemoveUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[udg_TempInteger] )
    call GroupAddUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[( udg_TempInteger + 1 )] )
    set udg_TempPathPointRandom = GetRandomLocInRect(udg_PathTarget[( udg_TempInteger + 1 )])
    call IssuePointOrderLocBJ( GetEnteringUnit(), "move", udg_TempPathPointRandom )
    call RemoveLocation( udg_TempPathPointRandom )
endfunction

//===========================================================================
function InitTrig_Path_Reached_07 takes nothing returns nothing
    set gg_trg_Path_Reached_07 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Path_Reached_07, gg_rct_Path_Tripwire_07 )
    call TriggerAddCondition( gg_trg_Path_Reached_07, Condition( function Trig_Path_Reached_07_Conditions ) )
    call TriggerAddAction( gg_trg_Path_Reached_07, function Trig_Path_Reached_07_Actions )
endfunction

//===========================================================================
// Trigger: Path Reached 08
//===========================================================================
function Trig_Path_Reached_08_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_AttackingUnits) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Path_Reached_08_Actions takes nothing returns nothing
    set udg_TempInteger = 8
    call GroupRemoveUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[udg_TempInteger] )
    call GroupAddUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[( udg_TempInteger + 1 )] )
    set udg_TempPathPointRandom = GetRandomLocInRect(udg_PathTarget[( udg_TempInteger + 1 )])
    call IssuePointOrderLocBJ( GetEnteringUnit(), "move", udg_TempPathPointRandom )
    call RemoveLocation( udg_TempPathPointRandom )
endfunction

//===========================================================================
function InitTrig_Path_Reached_08 takes nothing returns nothing
    set gg_trg_Path_Reached_08 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Path_Reached_08, gg_rct_Path_Tripwire_08 )
    call TriggerAddCondition( gg_trg_Path_Reached_08, Condition( function Trig_Path_Reached_08_Conditions ) )
    call TriggerAddAction( gg_trg_Path_Reached_08, function Trig_Path_Reached_08_Actions )
endfunction

//===========================================================================
// Trigger: Path Reached 09
//===========================================================================
function Trig_Path_Reached_09_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_AttackingUnits) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Path_Reached_09_Actions takes nothing returns nothing
    set udg_TempInteger = 9
    call GroupRemoveUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[udg_TempInteger] )
    call GroupAddUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[( udg_TempInteger + 1 )] )
    set udg_TempPathPointRandom = GetRandomLocInRect(udg_PathTarget[( udg_TempInteger + 1 )])
    call IssuePointOrderLocBJ( GetEnteringUnit(), "move", udg_TempPathPointRandom )
    call RemoveLocation( udg_TempPathPointRandom )
endfunction

//===========================================================================
function InitTrig_Path_Reached_09 takes nothing returns nothing
    set gg_trg_Path_Reached_09 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Path_Reached_09, gg_rct_Path_Tripwire_09 )
    call TriggerAddCondition( gg_trg_Path_Reached_09, Condition( function Trig_Path_Reached_09_Conditions ) )
    call TriggerAddAction( gg_trg_Path_Reached_09, function Trig_Path_Reached_09_Actions )
endfunction

//===========================================================================
// Trigger: Path Reached 10
//===========================================================================
function Trig_Path_Reached_10_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_AttackingUnits) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Path_Reached_10_Actions takes nothing returns nothing
    set udg_TempInteger = 10
    call GroupRemoveUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[udg_TempInteger] )
    call GroupAddUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[( udg_TempInteger + 1 )] )
    set udg_TempPathPointRandom = GetRandomLocInRect(udg_PathTarget[( udg_TempInteger + 1 )])
    call IssuePointOrderLocBJ( GetEnteringUnit(), "move", udg_TempPathPointRandom )
    call RemoveLocation( udg_TempPathPointRandom )
endfunction

//===========================================================================
function InitTrig_Path_Reached_10 takes nothing returns nothing
    set gg_trg_Path_Reached_10 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Path_Reached_10, gg_rct_Path_Tripwire_10 )
    call TriggerAddCondition( gg_trg_Path_Reached_10, Condition( function Trig_Path_Reached_10_Conditions ) )
    call TriggerAddAction( gg_trg_Path_Reached_10, function Trig_Path_Reached_10_Actions )
endfunction

//===========================================================================
// Trigger: Path Reached 11
//===========================================================================
function Trig_Path_Reached_11_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_AttackingUnits) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Path_Reached_11_Actions takes nothing returns nothing
    set udg_TempInteger = 11
    call GroupRemoveUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[udg_TempInteger] )
    call GroupAddUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[( udg_TempInteger + 1 )] )
    set udg_TempPathPointRandom = GetRandomLocInRect(udg_PathTarget[( udg_TempInteger + 1 )])
    call IssuePointOrderLocBJ( GetEnteringUnit(), "move", udg_TempPathPointRandom )
    call RemoveLocation( udg_TempPathPointRandom )
endfunction

//===========================================================================
function InitTrig_Path_Reached_11 takes nothing returns nothing
    set gg_trg_Path_Reached_11 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Path_Reached_11, gg_rct_Path_Tripwire_11 )
    call TriggerAddCondition( gg_trg_Path_Reached_11, Condition( function Trig_Path_Reached_11_Conditions ) )
    call TriggerAddAction( gg_trg_Path_Reached_11, function Trig_Path_Reached_11_Actions )
endfunction

//===========================================================================
// Trigger: Path Reached 12
//===========================================================================
function Trig_Path_Reached_12_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_AttackingUnits) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Path_Reached_12_Actions takes nothing returns nothing
    set udg_TempInteger = 12
    call GroupRemoveUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[udg_TempInteger] )
    call GroupAddUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[( udg_TempInteger + 1 )] )
    set udg_TempPathPointRandom = GetRandomLocInRect(udg_PathTarget[( udg_TempInteger + 1 )])
    call IssuePointOrderLocBJ( GetEnteringUnit(), "move", udg_TempPathPointRandom )
    call RemoveLocation( udg_TempPathPointRandom )
endfunction

//===========================================================================
function InitTrig_Path_Reached_12 takes nothing returns nothing
    set gg_trg_Path_Reached_12 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Path_Reached_12, gg_rct_Path_Tripwire_12 )
    call TriggerAddCondition( gg_trg_Path_Reached_12, Condition( function Trig_Path_Reached_12_Conditions ) )
    call TriggerAddAction( gg_trg_Path_Reached_12, function Trig_Path_Reached_12_Actions )
endfunction

//===========================================================================
// Trigger: Path Reached 13
//===========================================================================
function Trig_Path_Reached_13_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_AttackingUnits) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Path_Reached_13_Actions takes nothing returns nothing
    set udg_TempInteger = 13
    call GroupRemoveUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[udg_TempInteger] )
    call GroupAddUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[( udg_TempInteger + 1 )] )
    set udg_TempPathPointRandom = GetRandomLocInRect(udg_PathTarget[( udg_TempInteger + 1 )])
    call IssuePointOrderLocBJ( GetEnteringUnit(), "move", udg_TempPathPointRandom )
    call RemoveLocation( udg_TempPathPointRandom )
endfunction

//===========================================================================
function InitTrig_Path_Reached_13 takes nothing returns nothing
    set gg_trg_Path_Reached_13 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Path_Reached_13, gg_rct_Path_Tripwire_13 )
    call TriggerAddCondition( gg_trg_Path_Reached_13, Condition( function Trig_Path_Reached_13_Conditions ) )
    call TriggerAddAction( gg_trg_Path_Reached_13, function Trig_Path_Reached_13_Actions )
endfunction

//===========================================================================
// Trigger: Path Reached 14
//===========================================================================
function Trig_Path_Reached_14_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_AttackingUnits) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Path_Reached_14_Actions takes nothing returns nothing
    set udg_TempInteger = 14
    call GroupRemoveUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[udg_TempInteger] )
    call GroupAddUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[( udg_TempInteger + 1 )] )
    set udg_TempPathPointRandom = GetRandomLocInRect(udg_PathTarget[( udg_TempInteger + 1 )])
    call IssuePointOrderLocBJ( GetEnteringUnit(), "move", udg_TempPathPointRandom )
    call RemoveLocation( udg_TempPathPointRandom )
endfunction

//===========================================================================
function InitTrig_Path_Reached_14 takes nothing returns nothing
    set gg_trg_Path_Reached_14 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Path_Reached_14, gg_rct_Path_Tripwire_14 )
    call TriggerAddCondition( gg_trg_Path_Reached_14, Condition( function Trig_Path_Reached_14_Conditions ) )
    call TriggerAddAction( gg_trg_Path_Reached_14, function Trig_Path_Reached_14_Actions )
endfunction

//===========================================================================
// Trigger: Path Reached 15
//===========================================================================
function Trig_Path_Reached_15_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_AttackingUnits) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Path_Reached_15_Actions takes nothing returns nothing
    set udg_TempInteger = 15
    call GroupRemoveUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[udg_TempInteger] )
    call GroupAddUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[( udg_TempInteger + 1 )] )
    set udg_TempPathPointRandom = GetRandomLocInRect(udg_PathTarget[( udg_TempInteger + 1 )])
    call IssuePointOrderLocBJ( GetEnteringUnit(), "move", udg_TempPathPointRandom )
    call RemoveLocation( udg_TempPathPointRandom )
endfunction

//===========================================================================
function InitTrig_Path_Reached_15 takes nothing returns nothing
    set gg_trg_Path_Reached_15 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Path_Reached_15, gg_rct_Path_Tripwire_15 )
    call TriggerAddCondition( gg_trg_Path_Reached_15, Condition( function Trig_Path_Reached_15_Conditions ) )
    call TriggerAddAction( gg_trg_Path_Reached_15, function Trig_Path_Reached_15_Actions )
endfunction

//===========================================================================
// Trigger: Path Reached 16
//===========================================================================
function Trig_Path_Reached_16_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_AttackingUnits) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Path_Reached_16_Actions takes nothing returns nothing
    set udg_TempInteger = 16
    call GroupRemoveUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[udg_TempInteger] )
    call GroupAddUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[( udg_TempInteger + 1 )] )
    set udg_TempPathPointRandom = GetRandomLocInRect(udg_PathTarget[( udg_TempInteger + 1 )])
    call IssuePointOrderLocBJ( GetEnteringUnit(), "move", udg_TempPathPointRandom )
    call RemoveLocation( udg_TempPathPointRandom )
endfunction

//===========================================================================
function InitTrig_Path_Reached_16 takes nothing returns nothing
    set gg_trg_Path_Reached_16 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Path_Reached_16, gg_rct_Path_Tripwire_16 )
    call TriggerAddCondition( gg_trg_Path_Reached_16, Condition( function Trig_Path_Reached_16_Conditions ) )
    call TriggerAddAction( gg_trg_Path_Reached_16, function Trig_Path_Reached_16_Actions )
endfunction

//===========================================================================
// Trigger: Path Reached 17
//===========================================================================
function Trig_Path_Reached_17_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_AttackingUnits) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Path_Reached_17_Actions takes nothing returns nothing
    set udg_TempInteger = 17
    call GroupRemoveUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[udg_TempInteger] )
    call GroupAddUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[( udg_TempInteger + 1 )] )
    set udg_TempPathPointRandom = GetRandomLocInRect(udg_PathTarget[( udg_TempInteger + 1 )])
    call IssuePointOrderLocBJ( GetEnteringUnit(), "move", udg_TempPathPointRandom )
    call RemoveLocation( udg_TempPathPointRandom )
endfunction

//===========================================================================
function InitTrig_Path_Reached_17 takes nothing returns nothing
    set gg_trg_Path_Reached_17 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Path_Reached_17, gg_rct_Path_Tripwire_17 )
    call TriggerAddCondition( gg_trg_Path_Reached_17, Condition( function Trig_Path_Reached_17_Conditions ) )
    call TriggerAddAction( gg_trg_Path_Reached_17, function Trig_Path_Reached_17_Actions )
endfunction

//===========================================================================
// Trigger: Path Reached 18
//===========================================================================
function Trig_Path_Reached_18_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_AttackingUnits) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Path_Reached_18_Actions takes nothing returns nothing
    set udg_TempInteger = 18
    call GroupRemoveUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[udg_TempInteger] )
    call GroupAddUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[( udg_TempInteger + 1 )] )
    set udg_TempPathPointRandom = GetRandomLocInRect(udg_PathTarget[( udg_TempInteger + 1 )])
    call IssuePointOrderLocBJ( GetEnteringUnit(), "move", udg_TempPathPointRandom )
    call RemoveLocation( udg_TempPathPointRandom )
endfunction

//===========================================================================
function InitTrig_Path_Reached_18 takes nothing returns nothing
    set gg_trg_Path_Reached_18 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Path_Reached_18, gg_rct_Path_Tripwire_18 )
    call TriggerAddCondition( gg_trg_Path_Reached_18, Condition( function Trig_Path_Reached_18_Conditions ) )
    call TriggerAddAction( gg_trg_Path_Reached_18, function Trig_Path_Reached_18_Actions )
endfunction

//===========================================================================
// Trigger: Path Reached 19
//===========================================================================
function Trig_Path_Reached_19_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_AttackingUnits) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Path_Reached_19_Actions takes nothing returns nothing
    set udg_TempInteger = 19
    call GroupRemoveUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[udg_TempInteger] )
    call GroupAddUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[( udg_TempInteger + 1 )] )
    set udg_TempPathPointRandom = GetRandomLocInRect(udg_PathTarget[( udg_TempInteger + 1 )])
    call IssuePointOrderLocBJ( GetEnteringUnit(), "move", udg_TempPathPointRandom )
    call RemoveLocation( udg_TempPathPointRandom )
endfunction

//===========================================================================
function InitTrig_Path_Reached_19 takes nothing returns nothing
    set gg_trg_Path_Reached_19 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Path_Reached_19, gg_rct_Path_Tripwire_19 )
    call TriggerAddCondition( gg_trg_Path_Reached_19, Condition( function Trig_Path_Reached_19_Conditions ) )
    call TriggerAddAction( gg_trg_Path_Reached_19, function Trig_Path_Reached_19_Actions )
endfunction

//===========================================================================
// Trigger: Path Reached 20
//===========================================================================
function Trig_Path_Reached_20_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_AttackingUnits) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Path_Reached_20_Actions takes nothing returns nothing
    set udg_TempInteger = 20
    call GroupRemoveUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[udg_TempInteger] )
    call GroupAddUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[( udg_TempInteger + 1 )] )
    set udg_TempPathPointRandom = GetRandomLocInRect(udg_PathTarget[( udg_TempInteger + 1 )])
    call IssuePointOrderLocBJ( GetEnteringUnit(), "move", udg_TempPathPointRandom )
    call RemoveLocation( udg_TempPathPointRandom )
endfunction

//===========================================================================
function InitTrig_Path_Reached_20 takes nothing returns nothing
    set gg_trg_Path_Reached_20 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Path_Reached_20, gg_rct_Path_Tripwire_20 )
    call TriggerAddCondition( gg_trg_Path_Reached_20, Condition( function Trig_Path_Reached_20_Conditions ) )
    call TriggerAddAction( gg_trg_Path_Reached_20, function Trig_Path_Reached_20_Actions )
endfunction

//===========================================================================
// Trigger: Path Reached 21
//===========================================================================
function Trig_Path_Reached_21_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_AttackingUnits) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Path_Reached_21_Actions takes nothing returns nothing
    set udg_TempInteger = 21
    call GroupRemoveUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[udg_TempInteger] )
    call GroupAddUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[( udg_TempInteger + 1 )] )
    set udg_TempPathPointRandom = GetRandomLocInRect(udg_PathTarget[( udg_TempInteger + 1 )])
    call IssuePointOrderLocBJ( GetEnteringUnit(), "move", udg_TempPathPointRandom )
    call RemoveLocation( udg_TempPathPointRandom )
endfunction

//===========================================================================
function InitTrig_Path_Reached_21 takes nothing returns nothing
    set gg_trg_Path_Reached_21 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Path_Reached_21, gg_rct_Path_Tripwire_21 )
    call TriggerAddCondition( gg_trg_Path_Reached_21, Condition( function Trig_Path_Reached_21_Conditions ) )
    call TriggerAddAction( gg_trg_Path_Reached_21, function Trig_Path_Reached_21_Actions )
endfunction

//===========================================================================
// Trigger: Path Reached 22
//===========================================================================
function Trig_Path_Reached_22_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_AttackingUnits) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Path_Reached_22_Actions takes nothing returns nothing
    set udg_TempInteger = 22
    call GroupRemoveUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[udg_TempInteger] )
    call GroupAddUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[( udg_TempInteger + 1 )] )
    set udg_TempPathPointRandom = GetRandomLocInRect(udg_PathTarget[( udg_TempInteger + 1 )])
    call IssuePointOrderLocBJ( GetEnteringUnit(), "move", udg_TempPathPointRandom )
    call RemoveLocation( udg_TempPathPointRandom )
endfunction

//===========================================================================
function InitTrig_Path_Reached_22 takes nothing returns nothing
    set gg_trg_Path_Reached_22 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Path_Reached_22, gg_rct_Path_Tripwire_22 )
    call TriggerAddCondition( gg_trg_Path_Reached_22, Condition( function Trig_Path_Reached_22_Conditions ) )
    call TriggerAddAction( gg_trg_Path_Reached_22, function Trig_Path_Reached_22_Actions )
endfunction

//===========================================================================
// Trigger: Path Reached 23
//===========================================================================
function Trig_Path_Reached_23_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_AttackingUnits) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Path_Reached_23_Actions takes nothing returns nothing
    set udg_TempInteger = 23
    call GroupRemoveUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[udg_TempInteger] )
    call GroupAddUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[( udg_TempInteger + 1 )] )
    set udg_TempPathPointRandom = GetRandomLocInRect(udg_PathTarget[( udg_TempInteger + 1 )])
    call IssuePointOrderLocBJ( GetEnteringUnit(), "move", udg_TempPathPointRandom )
    call RemoveLocation( udg_TempPathPointRandom )
endfunction

//===========================================================================
function InitTrig_Path_Reached_23 takes nothing returns nothing
    set gg_trg_Path_Reached_23 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Path_Reached_23, gg_rct_Path_Tripwire_23 )
    call TriggerAddCondition( gg_trg_Path_Reached_23, Condition( function Trig_Path_Reached_23_Conditions ) )
    call TriggerAddAction( gg_trg_Path_Reached_23, function Trig_Path_Reached_23_Actions )
endfunction

//===========================================================================
// Trigger: Path Reached 24
//===========================================================================
function Trig_Path_Reached_24_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_AttackingUnits) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Path_Reached_24_Actions takes nothing returns nothing
    set udg_TempInteger = 24
    call GroupRemoveUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[udg_TempInteger] )
    call GroupAddUnitSimple( GetEnteringUnit(), udg_UnitsOnPath[( udg_TempInteger + 1 )] )
    set udg_TempPathPointRandom = GetRandomLocInRect(udg_PathTarget[( udg_TempInteger + 1 )])
    call IssuePointOrderLocBJ( GetEnteringUnit(), "move", udg_TempPathPointRandom )
    call RemoveLocation( udg_TempPathPointRandom )
endfunction

//===========================================================================
function InitTrig_Path_Reached_24 takes nothing returns nothing
    set gg_trg_Path_Reached_24 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Path_Reached_24, gg_rct_Path_Tripwire_24 )
    call TriggerAddCondition( gg_trg_Path_Reached_24, Condition( function Trig_Path_Reached_24_Conditions ) )
    call TriggerAddAction( gg_trg_Path_Reached_24, function Trig_Path_Reached_24_Actions )
endfunction

//===========================================================================
// Trigger: Attacker Reaches Portal
//===========================================================================
function Trig_Attacker_Reaches_Portal_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetTriggerUnit(), udg_AttackingUnits) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Attacker_Reaches_Portal_Actions takes nothing returns nothing
    call GroupRemoveUnitSimple( GetTriggerUnit(), udg_AttackingUnits )
    call GroupRemoveUnitSimple( GetTriggerUnit(), udg_UnitsOnPath[udg_PathTargets] )
    // Go Boom !!!
    set udg_BoomSpot = GetUnitLoc(GetTriggerUnit())
    call ConditionalTriggerExecute( gg_trg_Boom_Effect )
    call RemoveLocation( udg_BoomSpot )
endfunction

//===========================================================================
function InitTrig_Attacker_Reaches_Portal takes nothing returns nothing
    set gg_trg_Attacker_Reaches_Portal = CreateTrigger(  )
    call TriggerRegisterUnitInRangeSimple( gg_trg_Attacker_Reaches_Portal, 160.00, gg_unit_h000_0002 )
    call TriggerAddCondition( gg_trg_Attacker_Reaches_Portal, Condition( function Trig_Attacker_Reaches_Portal_Conditions ) )
    call TriggerAddAction( gg_trg_Attacker_Reaches_Portal, function Trig_Attacker_Reaches_Portal_Actions )
endfunction

//===========================================================================
// Trigger: Boom Effect
//===========================================================================
function Trig_Boom_Effect_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(GetTriggeringTrigger()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Boom_Effect_Func004C takes nothing returns boolean
    if ( not ( GetUnitStateSwap(UNIT_STATE_LIFE, gg_unit_h000_0002) > 400.00 ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Boom_Effect_Func010002003001 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false )
endfunction

function Trig_Boom_Effect_Func010002003002001 takes nothing returns boolean
    return ( IsUnitAliveBJ(GetFilterUnit()) == true )
endfunction

function Trig_Boom_Effect_Func010002003002002 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) != udg_AP1_Player )
endfunction

function Trig_Boom_Effect_Func010002003002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Boom_Effect_Func010002003002001(), Trig_Boom_Effect_Func010002003002002() )
endfunction

function Trig_Boom_Effect_Func010002003 takes nothing returns boolean
    return GetBooleanAnd( Trig_Boom_Effect_Func010002003001(), Trig_Boom_Effect_Func010002003002() )
endfunction

function Trig_Boom_Effect_Func011002003001 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false )
endfunction

function Trig_Boom_Effect_Func011002003002001 takes nothing returns boolean
    return ( IsUnitAliveBJ(GetFilterUnit()) == true )
endfunction

function Trig_Boom_Effect_Func011002003002002 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) != udg_AP1_Player )
endfunction

function Trig_Boom_Effect_Func011002003002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Boom_Effect_Func011002003002001(), Trig_Boom_Effect_Func011002003002002() )
endfunction

function Trig_Boom_Effect_Func011002003 takes nothing returns boolean
    return GetBooleanAnd( Trig_Boom_Effect_Func011002003001(), Trig_Boom_Effect_Func011002003002() )
endfunction

function Trig_Boom_Effect_Func014002003 takes nothing returns boolean
    return ( IsUnitInGroup(GetFilterUnit(), udg_BoomKillUnits) == true )
endfunction

function Trig_Boom_Effect_Func016002 takes nothing returns nothing
    call ExplodeUnitBJ( GetEnumUnit() )
endfunction

function Trig_Boom_Effect_Func017002 takes nothing returns nothing
    call KillUnit( GetEnumUnit() )
endfunction

function Trig_Boom_Effect_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    // Damage The Portal
    if ( Trig_Boom_Effect_Func004C() ) then
        call SetUnitLifeBJ( udg_Portal, ( GetUnitStateSwap(UNIT_STATE_LIFE, udg_Portal) - 400.00 ) )
    else
    endif
    call ConditionalTriggerExecute( gg_trg_Leaderboard_Update )
    call ConditionalTriggerExecute( gg_trg_Portal_Attacked )
    call ConditionalTriggerExecute( gg_trg_Quake_Shake )
    call PlaySoundAtPointBJ( gg_snd_BuildingDeathSmallHuman, 100, GetUnitLoc(udg_Portal), 0 )
    // Damage Nearby Units
    set udg_BoomKillUnits = GetUnitsInRangeOfLocMatching(256.00, udg_BoomSpot, Condition(function Trig_Boom_Effect_Func010002003))
    set udg_TempUnitGroup2 = GetUnitsInRangeOfLocMatching(160.00, udg_PointEscapePortalTarget, Condition(function Trig_Boom_Effect_Func011002003))
    call GroupAddGroup( udg_TempUnitGroup2, udg_BoomKillUnits )
    call DestroyGroup( udg_TempUnitGroup2 )
    set udg_BoomExplodeUnits = GetUnitsInRangeOfLocMatching(120.00, udg_BoomSpot, Condition(function Trig_Boom_Effect_Func014002003))
    call GroupRemoveGroup( udg_BoomExplodeUnits, udg_BoomKillUnits )
    call ForGroupBJ( udg_BoomExplodeUnits, function Trig_Boom_Effect_Func016002 )
    call ForGroupBJ( udg_BoomKillUnits, function Trig_Boom_Effect_Func017002 )
    call DestroyGroup( udg_BoomExplodeUnits )
    call EnableTrigger( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Boom_Effect takes nothing returns nothing
    set gg_trg_Boom_Effect = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Boom_Effect, Condition( function Trig_Boom_Effect_Conditions ) )
    call TriggerAddAction( gg_trg_Boom_Effect, function Trig_Boom_Effect_Actions )
endfunction

//===========================================================================
// Trigger: Quake Shake
//===========================================================================
function Trig_Quake_Shake_Actions takes nothing returns nothing
    call CameraSetEQNoiseForPlayer( udg_AP1_Player, GetRandomReal(3.00, 7.00) )
    call PlaySoundAtPointBJ( gg_snd_EarthquakeLoop1, 80.00, udg_PointEscapePortalTarget, 0 )
    call TriggerSleepAction( ( 0.50 * GetRandomReal(0.85, 1.15) ) )
    call CameraClearNoiseForPlayer( udg_AP1_Player )
    call StopSoundBJ( gg_snd_EarthquakeLoop1, true )
endfunction

//===========================================================================
function InitTrig_Quake_Shake takes nothing returns nothing
    set gg_trg_Quake_Shake = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Quake_Shake, function Trig_Quake_Shake_Actions )
endfunction

//===========================================================================
// Trigger: Experience Cap Vashj
//===========================================================================
function Trig_Experience_Cap_Vashj_Conditions takes nothing returns boolean
    if ( not ( GetLevelingUnit() == udg_Vashj ) ) then
        return false
    endif
    if ( not ( GetHeroLevel(GetLevelingUnit()) >= 5 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Experience_Cap_Vashj_Actions takes nothing returns nothing
    call SuspendHeroXPBJ( false, udg_Vashj )
    set udg_ExpDisabledForVashj = true
endfunction

//===========================================================================
function InitTrig_Experience_Cap_Vashj takes nothing returns nothing
    set gg_trg_Experience_Cap_Vashj = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Experience_Cap_Vashj, Player(0), EVENT_PLAYER_HERO_LEVEL )
    call TriggerAddCondition( gg_trg_Experience_Cap_Vashj, Condition( function Trig_Experience_Cap_Vashj_Conditions ) )
    call TriggerAddAction( gg_trg_Experience_Cap_Vashj, function Trig_Experience_Cap_Vashj_Actions )
endfunction

//===========================================================================
// Trigger: Experience Cap Kael
//===========================================================================
function Trig_Experience_Cap_Kael_Conditions takes nothing returns boolean
    if ( not ( GetLevelingUnit() == udg_Kael ) ) then
        return false
    endif
    if ( not ( GetHeroLevel(GetLevelingUnit()) >= 5 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Experience_Cap_Kael_Actions takes nothing returns nothing
    call SuspendHeroXPBJ( false, udg_Kael )
    set udg_ExpDisabledForKael = true
endfunction

//===========================================================================
function InitTrig_Experience_Cap_Kael takes nothing returns nothing
    set gg_trg_Experience_Cap_Kael = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Experience_Cap_Kael, Player(0), EVENT_PLAYER_HERO_LEVEL )
    call TriggerAddCondition( gg_trg_Experience_Cap_Kael, Condition( function Trig_Experience_Cap_Kael_Conditions ) )
    call TriggerAddAction( gg_trg_Experience_Cap_Kael, function Trig_Experience_Cap_Kael_Actions )
endfunction

//===========================================================================
function InitCustomTriggers takes nothing returns nothing
    call InitTrig_Initialization(  )
    call InitTrig_Init_01_Players(  )
    call InitTrig_Init_02_Units(  )
    call InitTrig_Init_03_Music(  )
    call InitTrig_Init_04_Environment(  )
    call InitTrig_Init_05_Quests(  )
    call InitTrig_Init_06c_Easy(  )
    call InitTrig_Init_06b_Normal(  )
    call InitTrig_Init_06a_Hard(  )
    call InitTrig_Init_07_Waves(  )
    call InitTrig_Init_08_HighScore(  )
    call InitTrig_Load_Heroes(  )
    call InitTrig_Load_Kael(  )
    call InitTrig_Load_Vashj(  )
    call InitTrig_Cinematic_Revival(  )
    call InitTrig_Intro_Cinematic_Q(  )
    call InitTrig_Intro_Spawn_Engineer(  )
    call InitTrig_Intro_Spy_Return(  )
    call InitTrig_Intro_Skipped(  )
    call InitTrig_Intro_Setup(  )
    call InitTrig_Intro_Cleanup(  )
    call InitTrig_Gameplay(  )
    call InitTrig_Start_Timed_Events(  )
    call InitTrig_Quest_Defend_Q(  )
    call InitTrig_Victory_Cinematic_Q(  )
    call InitTrig_Victory_Skipped(  )
    call InitTrig_Victory_Setup(  )
    call InitTrig_Victory_Travel_to_Outland(  )
    call InitTrig_Score(  )
    call InitTrig_Next_Level_Prep(  )
    call InitTrig_Next_Level_Run(  )
    call InitTrig_Save_High_Score(  )
    call InitTrig_Victory_Cheat(  )
    call InitTrig_Defeat_Cheat(  )
    call InitTrig_Quest_Defend_Create(  )
    call InitTrig_Quest_Defend_Discover(  )
    call InitTrig_Quest_Defend_Completed(  )
    call InitTrig_Quest_Defend_Failed(  )
    call InitTrig_Mission_Failed_Base_Dead(  )
    call InitTrig_Hint_Build_Event(  )
    call InitTrig_Hint_Build_Towers_Q(  )
    call InitTrig_Hint_Train_Event(  )
    call InitTrig_Hint_Train_Engineers_Q(  )
    call InitTrig_New_Unit_Tower3(  )
    call InitTrig_New_Unit_Tower4(  )
    call InitTrig_New_Unit_Tower5(  )
    call InitTrig_WARNING_Wave_Sent_Q(  )
    call InitTrig_Victory_Portal_Dying(  )
    call InitTrig_Victory_Final_Wave(  )
    call InitTrig_Defeat_Units_Dead(  )
    call InitTrig_Remove_Dead_From_Final_Wave_Group(  )
    call InitTrig_Time_Warning1(  )
    call InitTrig_Time_Warning1_Q(  )
    call InitTrig_Time_Warning2(  )
    call InitTrig_Time_Warning2_Q(  )
    call InitTrig_Release_The_Beasts(  )
    call InitTrig_Release_The_Beasts_Q(  )
    call InitTrig_Portal_Attacked(  )
    call InitTrig_Portal_Attacked_1_Q(  )
    call InitTrig_Portal_Attacked_2_Q(  )
    call InitTrig_Portal_Attacked_3_Q(  )
    call InitTrig_Vault1_Opened(  )
    call InitTrig_Vault1_Opened_Q(  )
    call InitTrig_Vault2_Opened(  )
    call InitTrig_Vault2_Opened_Q(  )
    call InitTrig_Vault3_Opened(  )
    call InitTrig_Vault3_Opened_Q(  )
    call InitTrig_Disable_Advanced_Towers(  )
    call InitTrig_TowerType3_Enabled(  )
    call InitTrig_TowerType3_Enabled_Q(  )
    call InitTrig_TowerType4_Enabled(  )
    call InitTrig_TowerType4_Enabled_Q(  )
    call InitTrig_TowerType5_Enabled(  )
    call InitTrig_TowerType5_Enabled_Q(  )
    call InitTrig_Start_Tower_Research(  )
    call InitTrig_Finish_TowerType3(  )
    call InitTrig_Finish_TowerType4(  )
    call InitTrig_Finish_TowerType5(  )
    call InitTrig_Engineer_Dies(  )
    call InitTrig_Observatory_Vision(  )
    call InitTrig_Observatory_Dies(  )
    call InitTrig_Escape_Gold_Float_Text(  )
    call InitTrig_Start_Exodus(  )
    call InitTrig_Escape_Spawn_Peasant(  )
    call InitTrig_Escape_Spawn_Troop(  )
    call InitTrig_Escape_Path1A(  )
    call InitTrig_Escape_Path1B(  )
    call InitTrig_Escape_Path1C_Gold(  )
    call InitTrig_Escape_Path2A(  )
    call InitTrig_Escape_Path2B(  )
    call InitTrig_Escape_Path3A(  )
    call InitTrig_Escape_Path3B(  )
    call InitTrig_Escape_Path3C(  )
    call InitTrig_Escape_Portal_Tripwire(  )
    call InitTrig_Escape_Effect(  )
    call InitTrig_Escape_Effect_01(  )
    call InitTrig_Escape_Effect_02(  )
    call InitTrig_Leaderboard_Create(  )
    call InitTrig_Leaderboard_Update(  )
    call InitTrig_Leaderboard_Update_Color_01(  )
    call InitTrig_Leaderboard_Update_Color_02(  )
    call InitTrig_Leaders_Drop_Gold(  )
    call InitTrig_No_Player_Units_May_Enter(  )
    call InitTrig_No_Summoned_Units(  )
    call InitTrig_Wave_Data(  )
    call InitTrig_Wave_Units_01_to_05(  )
    call InitTrig_Wave_Units_06_to_10(  )
    call InitTrig_Wave_Units_11_to_15(  )
    call InitTrig_Wave_Units_16_to_20(  )
    call InitTrig_Wave_Units_21_to_25(  )
    call InitTrig_Wave_Units_26_to_30(  )
    call InitTrig_Wave_Timing(  )
    call InitTrig_Wave_Hero_01_MountainKing(  )
    call InitTrig_Wave_Hero_02_Paladin(  )
    call InitTrig_Wave_Hero_03_Archmage(  )
    call InitTrig_Wave_Hero_04_MountainKing(  )
    call InitTrig_Wave_Hero_05_Paladin(  )
    call InitTrig_Wave_Hero_06_MountainKing(  )
    call InitTrig_Wave_Hero_07_Archmage(  )
    call InitTrig_Wave_Hero_08_Brewmaster(  )
    call InitTrig_Spawn_Wave(  )
    call InitTrig_Spawn_Wave_Unit_Single(  )
    call InitTrig_Spawn_Wave_Leader_Single(  )
    call InitTrig_Spawn_Wave_Pathing_Disabler(  )
    call InitTrig_Spawn_Wave_Redirect(  )
    call InitTrig_Pick_Spawn_Points(  )
    call InitTrig_Pick_Attachment_Points(  )
    call InitTrig_Wave_Events(  )
    call InitTrig_Send_Wave(  )
    call InitTrig_Calculate_Sending_Time(  )
    call InitTrig_Attacker_Dies(  )
    call InitTrig_Calculate_Dying_Path_Target(  )
    call InitTrig_Send_Zeppelin_Subspawn(  )
    call InitTrig_Avatar_Check(  )
    call InitTrig_Path_Data(  )
    call InitTrig_Path_Reached_01(  )
    call InitTrig_Path_Reached_02(  )
    call InitTrig_Path_Reached_03(  )
    call InitTrig_Path_Reached_04(  )
    call InitTrig_Path_Reached_05(  )
    call InitTrig_Path_Reached_06(  )
    call InitTrig_Path_Reached_07(  )
    call InitTrig_Path_Reached_08(  )
    call InitTrig_Path_Reached_09(  )
    call InitTrig_Path_Reached_10(  )
    call InitTrig_Path_Reached_11(  )
    call InitTrig_Path_Reached_12(  )
    call InitTrig_Path_Reached_13(  )
    call InitTrig_Path_Reached_14(  )
    call InitTrig_Path_Reached_15(  )
    call InitTrig_Path_Reached_16(  )
    call InitTrig_Path_Reached_17(  )
    call InitTrig_Path_Reached_18(  )
    call InitTrig_Path_Reached_19(  )
    call InitTrig_Path_Reached_20(  )
    call InitTrig_Path_Reached_21(  )
    call InitTrig_Path_Reached_22(  )
    call InitTrig_Path_Reached_23(  )
    call InitTrig_Path_Reached_24(  )
    call InitTrig_Attacker_Reaches_Portal(  )
    call InitTrig_Boom_Effect(  )
    call InitTrig_Quake_Shake(  )
    call InitTrig_Experience_Cap_Vashj(  )
    call InitTrig_Experience_Cap_Kael(  )
endfunction

//===========================================================================
function RunInitializationTriggers takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Initialization )
endfunction

//***************************************************************************
//*
//*  Upgrades
//*
//***************************************************************************

function InitUpgrades_Player0 takes nothing returns nothing
    call SetPlayerTechMaxAllowed( Player(0), 'Rhan', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rhla', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rhri', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rhlh', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rhse', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rhfl', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rhac', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rhgb', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rhhb', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rhra', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rhpt', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rhst', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rhss', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rhrt', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rhpm', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rhde', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rhar', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Rhme', 0 )
endfunction

function InitUpgrades_Player1 takes nothing returns nothing
    call SetPlayerTechMaxAllowed( Player(1), 'Rhan', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Rhla', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Rhri', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Rhlh', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Rhse', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Rhfl', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Rhac', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Rhgb', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Rhhb', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Rhra', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Rhpt', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Rhst', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Rhss', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Rhrt', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Rhpm', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Rhde', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Rhar', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Rhme', 0 )
endfunction

function InitUpgrades_Player5 takes nothing returns nothing
    call SetPlayerTechMaxAllowed( Player(5), 'Rhpt', 0 )
    call SetPlayerTechMaxAllowed( Player(5), 'Rhst', 0 )
    call SetPlayerTechResearched( Player(5), 'Rhse', 1 )
    call SetPlayerTechMaxAllowed( Player(5), 'Rhss', 0 )
    call SetPlayerTechMaxAllowed( Player(5), 'Rhrt', 0 )
endfunction

function InitUpgrades_Player6 takes nothing returns nothing
    call SetPlayerTechMaxAllowed( Player(6), 'Rhpt', 0 )
    call SetPlayerTechMaxAllowed( Player(6), 'Rhst', 0 )
    call SetPlayerTechResearched( Player(6), 'Rhse', 1 )
    call SetPlayerTechMaxAllowed( Player(6), 'Rhss', 0 )
    call SetPlayerTechMaxAllowed( Player(6), 'Rhrt', 0 )
endfunction

function InitUpgrades takes nothing returns nothing
    call InitUpgrades_Player0(  )
    call InitUpgrades_Player1(  )
    call InitUpgrades_Player5(  )
    call InitUpgrades_Player6(  )
endfunction

//***************************************************************************
//*
//*  TechTree
//*
//***************************************************************************

function InitTechTree_Player0 takes nothing returns nothing
    call SetPlayerTechMaxAllowed( Player(0), 'Emoo', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Ekee', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Edem', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Ewar', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Hpal', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Hamg', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Hmkg', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Hblm', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Obla', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Ofar', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Otch', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Oshd', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Udea', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Ulic', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Udre', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Ucrl', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Nbrn', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Npbm', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'hhes', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'hfoo', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'hkni', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'hrif', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'hmtm', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'hgyr', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'hgry', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'hmpr', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'hsor', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'hmtt', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'hspt', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'nhea', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'hdhw', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'nws1', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'hpea', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'hvlt', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'hctw', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'hgtw', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'hwtw', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'hgra', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'hars', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'hhou', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'hbar', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'hlum', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'hbla', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'harm', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'halt', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'htow', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'hcas', 0 )
endfunction

function InitTechTree_Player1 takes nothing returns nothing
    call SetPlayerTechMaxAllowed( Player(1), 'Emoo', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Ekee', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Edem', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Ewar', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Hpal', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Hamg', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Hmkg', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Hblm', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Obla', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Ofar', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Otch', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Oshd', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Udea', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Ulic', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Udre', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Ucrl', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Nbrn', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Npbm', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'hhes', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'hfoo', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'hkni', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'hrif', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'hmtm', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'hgyr', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'hgry', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'hmpr', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'hsor', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'hmtt', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'hspt', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'nhea', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'hdhw', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'nws1', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'hpea', 0 )
endfunction

function InitTechTree takes nothing returns nothing
    call InitTechTree_Player0(  )
    call InitTechTree_Player1(  )
endfunction

//***************************************************************************
//*
//*  Players
//*
//***************************************************************************

function InitCustomPlayerSlots takes nothing returns nothing

    // Player 0
    call SetPlayerStartLocation( Player(0), 0 )
    call ForcePlayerStartLocation( Player(0), 0 )
    call SetPlayerColor( Player(0), ConvertPlayerColor(0) )
    call SetPlayerRacePreference( Player(0), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(0), false )
    call SetPlayerController( Player(0), MAP_CONTROL_USER )

    // Player 1
    call SetPlayerStartLocation( Player(1), 1 )
    call ForcePlayerStartLocation( Player(1), 1 )
    call SetPlayerColor( Player(1), ConvertPlayerColor(1) )
    call SetPlayerRacePreference( Player(1), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(1), false )
    call SetPlayerController( Player(1), MAP_CONTROL_NEUTRAL )

    // Player 5
    call SetPlayerStartLocation( Player(5), 2 )
    call ForcePlayerStartLocation( Player(5), 2 )
    call SetPlayerColor( Player(5), ConvertPlayerColor(5) )
    call SetPlayerRacePreference( Player(5), RACE_PREF_ORC )
    call SetPlayerRaceSelectable( Player(5), false )
    call SetPlayerController( Player(5), MAP_CONTROL_COMPUTER )

    // Player 6
    call SetPlayerStartLocation( Player(6), 3 )
    call ForcePlayerStartLocation( Player(6), 3 )
    call SetPlayerColor( Player(6), ConvertPlayerColor(6) )
    call SetPlayerRacePreference( Player(6), RACE_PREF_ORC )
    call SetPlayerRaceSelectable( Player(6), false )
    call SetPlayerController( Player(6), MAP_CONTROL_COMPUTER )

endfunction

function InitCustomTeams takes nothing returns nothing
    // Force: TRIGSTR_291
    call SetPlayerTeam( Player(0), 0 )
    call SetPlayerTeam( Player(1), 0 )

    //   Allied
    call SetPlayerAllianceStateAllyBJ( Player(0), Player(1), true )
    call SetPlayerAllianceStateAllyBJ( Player(1), Player(0), true )

    //   Shared Vision
    call SetPlayerAllianceStateVisionBJ( Player(0), Player(1), true )
    call SetPlayerAllianceStateVisionBJ( Player(1), Player(0), true )

    // Force: TRIGSTR_292
    call SetPlayerTeam( Player(5), 1 )
    call SetPlayerTeam( Player(6), 1 )

    //   Allied
    call SetPlayerAllianceStateAllyBJ( Player(5), Player(6), true )
    call SetPlayerAllianceStateAllyBJ( Player(6), Player(5), true )

    //   Shared Vision
    call SetPlayerAllianceStateVisionBJ( Player(5), Player(6), true )
    call SetPlayerAllianceStateVisionBJ( Player(6), Player(5), true )

endfunction

function InitAllyPriorities takes nothing returns nothing

    call SetStartLocPrioCount( 1, 3 )
    call SetStartLocPrio( 1, 0, 2, MAP_LOC_PRIO_LOW )
    call SetStartLocPrio( 1, 1, 3, MAP_LOC_PRIO_LOW )

    call SetStartLocPrioCount( 2, 3 )
    call SetStartLocPrio( 2, 0, 1, MAP_LOC_PRIO_LOW )
    call SetStartLocPrio( 2, 1, 3, MAP_LOC_PRIO_LOW )

    call SetStartLocPrioCount( 3, 3 )
    call SetStartLocPrio( 3, 0, 1, MAP_LOC_PRIO_LOW )
    call SetStartLocPrio( 3, 1, 2, MAP_LOC_PRIO_LOW )
endfunction

//***************************************************************************
//*
//*  Main Initialization
//*
//***************************************************************************

//===========================================================================
function main takes nothing returns nothing
    call SetCameraBounds( -3328.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), -6144.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM), 3328.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), 8704.0 - GetCameraMargin(CAMERA_MARGIN_TOP), -3328.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), 8704.0 - GetCameraMargin(CAMERA_MARGIN_TOP), 3328.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), -6144.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM) )
    call SetDayNightModels( "Environment\\DNC\\DNCDalaran\\DNCDalaranTerrain\\DNCDalaranTerrain.mdl", "Environment\\DNC\\DNCDalaran\\DNCDalaranUnit\\DNCDalaranUnit.mdl" )
    call NewSoundEnvironment( "Default" )
    call SetAmbientDaySound( "DalaranRuinsDay" )
    call SetAmbientNightSound( "DalaranRuinsNight" )
    call SetMapMusic( "Music", true, 0 )
    call InitSounds(  )
    call CreateRegions(  )
    call CreateCameras(  )
    call InitUpgrades(  )
    call InitTechTree(  )
    call CreateAllDestructables(  )
    call CreateAllUnits(  )
    call InitBlizzard(  )
    call InitGlobals(  )
    call InitCustomTriggers(  )
    call RunInitializationTriggers(  )

endfunction

//***************************************************************************
//*
//*  Map Configuration
//*
//***************************************************************************

function config takes nothing returns nothing
    call SetMapName( "TRIGSTR_003" )
    call SetMapDescription( "TRIGSTR_293" )
    call SetPlayers( 4 )
    call SetTeams( 4 )
    call SetGamePlacement( MAP_PLACEMENT_USE_MAP_SETTINGS )

    call DefineStartLocation( 0, 384.0, 1920.0 )
    call DefineStartLocation( 1, 0.0, -5440.0 )
    call DefineStartLocation( 2, 0.0, 8256.0 )
    call DefineStartLocation( 3, -1216.0, 7488.0 )

    // Player setup
    call InitCustomPlayerSlots(  )
    call InitCustomTeams(  )
    call InitAllyPriorities(  )
endfunction

