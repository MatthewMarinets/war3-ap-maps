//===========================================================================
// 
// Undead08
// 
//   Warcraft III map script
//   Generated by the Warcraft III World Editor
//   Date: Sat Jun 01 21:09:37 2002
//   Map Author: Blizzard Entertainment
// 
//===========================================================================

//***************************************************************************
//*
//*  Global Variables
//*
//***************************************************************************

globals
    // User-defined
    unit                udg_Arthas                 = null
    unit                udg_KelThuzad              = null
    quest               udg_QuestSummoning         = null
    boolean             udg_OpeningCancelled
    timer               udg_TimerSummoning         = null
    unit                udg_Tichondrius            = null
    quest               udg_QuestGoblinMine        = null
    timer               udg_TimerHellHound01       = null
    timer               udg_TimerInfernals         = null
    timer               udg_TimerSideQuest         = null
    boolean             udg_QuestGoblinMineCompleted
    unit                udg_Archimonde             = null
    group               udg_CinematicUnitGroup     = null
    effect              udg_DarkSummonMissile      = null
    boolean             udg_EndingCancelled
    questitem           udg_QuestSummoningReq      = null
    questitem           udg_QuestGoblinMineReq     = null
    timer               udg_TimerRushNormal        = null
    effect              udg_SummoningEffect        = null
    effect              udg_DarkSummonTarget       = null
    effect              udg_HellHoundEffect01      = null
    effect              udg_HellHoundEffect02      = null
    effect              udg_HellHoundEffect03      = null
    timer               udg_TimerHellHound02       = null
    effect              udg_InfernalEffect01       = null
    effect              udg_InfernalEffect02       = null
    effect              udg_InfernalEffect03       = null
    effect              udg_InfernalEffect04       = null
    timer               udg_TimerHellHound03       = null
    effect              udg_Brilliance             = null
    effect              udg_VampiricAura           = null
    timerdialog         udg_CountdownTimerWindow   = null
    timer               udg_WarningLoopCooldownTimer = null
    boolean             udg_GameOver
    timer               udg_KelzResetTimer         = null
    timer               udg_TimerRushHard          = null

    // Generated
    rect                gg_rct_ArthasStart         = null
    rect                gg_rct_KelThuzadStart      = null
    rect                gg_rct_KelThuzadPost       = null
    rect                gg_rct_GoblinMine01        = null
    rect                gg_rct_GoblinMine02        = null
    rect                gg_rct_GoblinMine03        = null
    rect                gg_rct_GoblinMine04        = null
    rect                gg_rct_Hellhound01         = null
    rect                gg_rct_Hellhound02         = null
    rect                gg_rct_RevealerGoblinMines = null
    rect                gg_rct_GoblinMineArea      = null
    rect                gg_rct_Archimonde          = null
    rect                gg_rct_OpeningTichondriusSpawn = null
    rect                gg_rct_ArchimondeDest      = null
    rect                gg_rct_TichondriusDest     = null
    rect                gg_rct_Knight01            = null
    rect                gg_rct_Knight02            = null
    rect                gg_rct_Knight03            = null
    rect                gg_rct_Knight04            = null
    rect                gg_rct_Sorc02              = null
    rect                gg_rct_Sorc01              = null
    rect                gg_rct_Region_022          = null
    rect                gg_rct_Region_023          = null
    rect                gg_rct_Region_024          = null
    rect                gg_rct_Region_025          = null
    rect                gg_rct_Region_026          = null
    rect                gg_rct_GryphonArea         = null
    rect                gg_rct_ArchmageArea01      = null
    rect                gg_rct_ArchmageArea02      = null
    rect                gg_rct_VaultOfEnchantments = null
    rect                gg_rct_FootmanCamp01       = null
    rect                gg_rct_FootmanCamp02       = null
    rect                gg_rct_GryphonPop          = null
    rect                gg_rct_SheepContainmentArea = null
    rect                gg_rct_HellHound03         = null
    rect                gg_rct_Infernal01          = null
    rect                gg_rct_Infernal02          = null
    rect                gg_rct_Infernal03          = null
    rect                gg_rct_Infernal04          = null
    rect                gg_rct_EndingKelThuzadPost = null
    rect                gg_rct_EndingReviveArthas  = null
    rect                gg_rct_EndingMoveArthas    = null
    rect                gg_rct_FireDoodads         = null
    rect                gg_rct_Door03              = null
    rect                gg_rct_TempleArea          = null
    rect                gg_rct_Shade01PatrolDest   = null
    rect                gg_rct_Shade02PatrolDest   = null
    rect                gg_rct_Shade03PatrolDest   = null
    rect                gg_rct_ShadeGoblinLandMine = null
    rect                gg_rct_ShadeGoldmine       = null
    rect                gg_rct_HintFountainsArea   = null
    rect                gg_rct_GateOpen            = null
    rect                gg_rct_FreakySound         = null
    rect                gg_rct_TempleVision        = null
    rect                gg_rct_MiningAcolytes      = null
    rect                gg_rct_Harvesters          = null
    rect                gg_rct_Summoning           = null
    rect                gg_rct_KnightsRun          = null
    rect                gg_rct_EndCin_Hide_Units   = null
    rect                gg_rct_LakeLoop01          = null
    rect                gg_rct_LakeLoop02          = null
    rect                gg_rct_LakeLoop03          = null
    rect                gg_rct_LakeLoop04          = null
    rect                gg_rct_LakeLoop05          = null
    rect                gg_rct_LakeLoop06          = null
    rect                gg_rct_LakeLoop07          = null
    rect                gg_rct_LakeLoop08          = null
    rect                gg_rct_LakeLoop09          = null
    rect                gg_rct_LakeLoop10          = null
    rect                gg_rct_LakeLoop11          = null
    rect                gg_rct_LakeLoop12          = null
    rect                gg_rct_LakeLoop13          = null
    rect                gg_rct_KelThuzad_Item01    = null
    rect                gg_rct_KelThuzad_Item02    = null
    rect                gg_rct_KelThuzad_Item03    = null
    rect                gg_rct_KelThuzad_Item04    = null
    rect                gg_rct_KelThuzad_Item05    = null
    rect                gg_rct_KelThuzad_Item06    = null
    camerasetup         gg_cam_ArchimondeBirth01   = null
    camerasetup         gg_cam_Opening01           = null
    camerasetup         gg_cam_Opening02           = null
    camerasetup         gg_cam_Opening03           = null
    camerasetup         gg_cam_OpeningArchmage01   = null
    camerasetup         gg_cam_OpeningGryphons01   = null
    camerasetup         gg_cam_OpeningGryphons02   = null
    camerasetup         gg_cam_OpeningArchmage02   = null
    camerasetup         gg_cam_ArchimondeBirth02   = null
    camerasetup         gg_cam_Lich                = null
    camerasetup         gg_cam_DreadLord           = null
    camerasetup         gg_cam_Summoning01         = null
    camerasetup         gg_cam_Summoning02         = null
    camerasetup         gg_cam_Lich02              = null
    camerasetup         gg_cam_ArchimondeSpeaks    = null
    camerasetup         gg_cam_AboveArchimonde     = null
    camerasetup         gg_cam_ArthasJoke          = null
    camerasetup         gg_cam_KelEnding01         = null
    camerasetup         gg_cam_KelEnding02         = null
    camerasetup         gg_cam_TichondriusUpClose  = null
    camerasetup         gg_cam_VeryWell            = null
    sound               gg_snd_U08Archimonde19     = null
    sound               gg_snd_U08Archimonde20     = null
    sound               gg_snd_U08Archimonde22     = null
    sound               gg_snd_U08Archimonde24     = null
    sound               gg_snd_U08Arthas01         = null
    sound               gg_snd_U08Arthas04         = null
    sound               gg_snd_U08Arthas06         = null
    sound               gg_snd_U08Arthas11         = null
    sound               gg_snd_U08Arthas25         = null
    sound               gg_snd_U08KelThuzad07      = null
    sound               gg_snd_U08KelThuzad08      = null
    sound               gg_snd_U08KelThuzad09      = null
    sound               gg_snd_U08KelThuzad18      = null
    sound               gg_snd_U08KelThuzad26      = null
    sound               gg_snd_U08Necromancer10    = null
    sound               gg_snd_U08Tichondrius03    = null
    sound               gg_snd_U08Tichondrius21    = null
    sound               gg_snd_U08Tichondrius23    = null
    sound               gg_snd_U08KelThuzad02      = null
    sound               gg_snd_Hint                = null
    sound               gg_snd_SteamTankPissed1    = null
    sound               gg_snd_HippoGryphReady1    = null
    sound               gg_snd_KnightNoRiderWhat2  = null
    sound               gg_snd_HorseLoop2          = null
    sound               gg_snd_HorseLoop1          = null
    sound               gg_snd_HorseLoop3          = null
    sound               gg_snd_BattleNetWooshStereo1 = null
    sound               gg_snd_LargeCityGateOpen1  = null
    sound               gg_snd_NecropolisUpgrade2  = null
    sound               gg_snd_SacrificialPitWhat1 = null
    sound               gg_snd_DarkSummoningTarget1 = null
    sound               gg_snd_CityScapeMagicRunesLoop1 = null
    sound               gg_snd_FrostmourneLoopUndead01 = null
    sound               gg_snd_AntiMagicShellBirth1 = null
    sound               gg_snd_CrippleTarget1      = null
    sound               gg_snd_BuildingDeathLargeOrc = null
    sound               gg_snd_BuildingDeathLargeHuman = null
    sound               gg_snd_OrcHumanMediumBuildingFire1 = null
    sound               gg_snd_LightningShieldTarget = null
    sound               gg_snd_WaterLakeLoop1      = null
    sound               gg_snd_WarlockAppears      = null
    trigger             gg_trg_Melee_Initialization = null
    trigger             gg_trg_Difficulty_Easy     = null
    trigger             gg_trg_Difficulty_Normal   = null
    trigger             gg_trg_Difficulty_Hard     = null
    trigger             gg_trg_Start_Campaign_AI   = null
    trigger             gg_trg_Setup_ComputerPlayers = null
    trigger             gg_trg_SetupCinematicPlayer = null
    trigger             gg_trg_Setup_PlayerResources = null
    trigger             gg_trg_Setup_Allies        = null
    trigger             gg_trg_Setup_CinematicUnits = null
    trigger             gg_trg_Setup_Fire          = null
    trigger             gg_trg_Setup_Doors         = null
    trigger             gg_trg_Setup_SummoningCircle = null
    trigger             gg_trg_Setup_Timers        = null
    trigger             gg_trg_Setup_Vision        = null
    trigger             gg_trg_Setup_Quests        = null
    trigger             gg_trg_TimerRushNormal     = null
    trigger             gg_trg_TimerRushHard       = null
    trigger             gg_trg_TealGold            = null
    trigger             gg_trg_BlueGold            = null
    trigger             gg_trg_RedGold             = null
    trigger             gg_trg_TealLumber          = null
    trigger             gg_trg_BlueLumber          = null
    trigger             gg_trg_RedLumber           = null
    trigger             gg_trg_Load_Heroes         = null
    trigger             gg_trg_Load_Arthas         = null
    trigger             gg_trg_Load_KelThuzad      = null
    trigger             gg_trg_Drop_KelThuzad_Items = null
    trigger             gg_trg_Next_Level_Prep     = null
    trigger             gg_trg_Next_Level_Run      = null
    trigger             gg_trg_Victory_Cheat       = null
    trigger             gg_trg_DefeatCheat         = null
    trigger             gg_trg_OpeningCancelled    = null
    trigger             gg_trg_Opening01           = null
    trigger             gg_trg_Opening02           = null
    trigger             gg_trg_Opening03           = null
    trigger             gg_trg_MiningAcolytes      = null
    trigger             gg_trg_ArthasHoldPosition  = null
    trigger             gg_trg_EndingCancelled     = null
    trigger             gg_trg_Ending01            = null
    trigger             gg_trg_KelThuzad_Animation_Resets = null
    trigger             gg_trg_DialogueStart       = null
    trigger             gg_trg_DialogueCooldown    = null
    trigger             gg_trg_Timer01HellHound    = null
    trigger             gg_trg_Timer01HellHound_Queue = null
    trigger             gg_trg_Timer02HellHound    = null
    trigger             gg_trg_Timer02HellHound_Queue = null
    trigger             gg_trg_Timer03HellHound    = null
    trigger             gg_trg_Timer03HellHound_Queue = null
    trigger             gg_trg_TimerInfernals      = null
    trigger             gg_trg_TimerInfernals_Queue = null
    trigger             gg_trg_Shades              = null
    trigger             gg_trg_ShadeFountain       = null
    trigger             gg_trg_ShadeFountain_Queue = null
    trigger             gg_trg_ArchmageLevel       = null
    trigger             gg_trg_ArchmageSpell       = null
    trigger             gg_trg_SheepContainmentArea = null
    trigger             gg_trg_InitSideQuest       = null
    trigger             gg_trg_InitSideQuest_Queue = null
    trigger             gg_trg_QuestCompleted      = null
    trigger             gg_trg_GoblinMine01        = null
    trigger             gg_trg_GoblinMine02        = null
    trigger             gg_trg_GoblinMine03        = null
    trigger             gg_trg_GoblinMine04        = null
    trigger             gg_trg_Arthas01            = null
    trigger             gg_trg_Arthas01_Queue      = null
    trigger             gg_trg_Arthas02            = null
    trigger             gg_trg_Arthas02_Queue      = null
    trigger             gg_trg_KelThuzadDead       = null
    trigger             gg_trg_Victory             = null
    trigger             gg_trg_Player_Kills_All    = null
    trigger             gg_trg_HellHoundSummoning  = null
    trigger             gg_trg_InfernalSummoning   = null
    trigger             gg_trg_EndingCinematic     = null
    unit                gg_unit_Hamg_0202          = null
    unit                gg_unit_Hamg_0205          = null
    unit                gg_unit_Hamg_0201          = null
    unit                gg_unit_Hamg_0200          = null
    unit                gg_unit_hfoo_0174          = null
    unit                gg_unit_hfoo_0017          = null
    unit                gg_unit_hkni_0005          = null
    unit                gg_unit_hkni_0011          = null
    unit                gg_unit_hkni_0007          = null
    unit                gg_unit_hkni_0009          = null
    unit                gg_unit_Hamg_0006          = null
    unit                gg_unit_hsor_0015          = null
    unit                gg_unit_hsor_0016          = null
    unit                gg_unit_hgry_0018          = null
    unit                gg_unit_hgry_0019          = null
    unit                gg_unit_hgry_0020          = null
    unit                gg_unit_hgry_0022          = null
    unit                gg_unit_ushd_0178          = null
    unit                gg_unit_ugol_0092          = null
    unit                gg_unit_unec_0159          = null
    unit                gg_unit_ushd_0169          = null
    unit                gg_unit_ushd_0170          = null
    unit                gg_unit_ushd_0171          = null
    unit                gg_unit_ushd_0177          = null
    destructable        gg_dest_LTcr_0111          = null
    destructable        gg_dest_LTcr_0112          = null
    destructable        gg_dest_LTcr_0113          = null
    destructable        gg_dest_LTcr_0142          = null
    destructable        gg_dest_LTg1_0074          = null
    destructable        gg_dest_LTg4_0073          = null
    destructable        gg_dest_LTg4_0263          = null
endglobals

function InitGlobals takes nothing returns nothing
    set udg_OpeningCancelled                       = false
    set udg_TimerSummoning                         = CreateTimer()
    set udg_TimerHellHound01                       = CreateTimer()
    set udg_TimerInfernals                         = CreateTimer()
    set udg_TimerSideQuest                         = CreateTimer()
    set udg_QuestGoblinMineCompleted               = false
    set udg_CinematicUnitGroup                     = CreateGroup()
    set udg_EndingCancelled                        = false
    set udg_TimerRushNormal                        = CreateTimer()
    set udg_TimerHellHound02                       = CreateTimer()
    set udg_TimerHellHound03                       = CreateTimer()
    set udg_WarningLoopCooldownTimer               = CreateTimer()
    set udg_GameOver                               = false
    set udg_KelzResetTimer                         = CreateTimer()
    set udg_TimerRushHard                          = CreateTimer()
endfunction

//***************************************************************************
//*
//*  Sounds
//*
//***************************************************************************

function InitSounds takes nothing returns nothing
    set gg_snd_U08Archimonde19 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead08\\U08Archimonde19.mp3", false, false, false, 12700, 12700, "" )
    call SetSoundParamsFromLabel( gg_snd_U08Archimonde19, "U08Archimonde19" )
    call SetSoundDuration( gg_snd_U08Archimonde19, 7549 )
    set gg_snd_U08Archimonde20 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead08\\U08Archimonde20.mp3", false, false, false, 12700, 12700, "" )
    call SetSoundParamsFromLabel( gg_snd_U08Archimonde20, "U08Archimonde20" )
    call SetSoundDuration( gg_snd_U08Archimonde20, 7001 )
    set gg_snd_U08Archimonde22 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead08\\U08Archimonde22.mp3", false, false, false, 12700, 12700, "" )
    call SetSoundParamsFromLabel( gg_snd_U08Archimonde22, "U08Archimonde22" )
    call SetSoundDuration( gg_snd_U08Archimonde22, 11024 )
    set gg_snd_U08Archimonde24 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead08\\U08Archimonde24.mp3", false, false, false, 12700, 12700, "" )
    call SetSoundParamsFromLabel( gg_snd_U08Archimonde24, "U08Archimonde24" )
    call SetSoundDuration( gg_snd_U08Archimonde24, 15438 )
    set gg_snd_U08Arthas01 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead08\\U08Arthas01.mp3", false, false, false, 12700, 12700, "" )
    call SetSoundParamsFromLabel( gg_snd_U08Arthas01, "U08Arthas01" )
    call SetSoundDuration( gg_snd_U08Arthas01, 5904 )
    set gg_snd_U08Arthas04 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead08\\U08Arthas04.mp3", false, false, false, 12700, 12700, "" )
    call SetSoundParamsFromLabel( gg_snd_U08Arthas04, "U08Arthas04" )
    call SetSoundDuration( gg_snd_U08Arthas04, 4284 )
    set gg_snd_U08Arthas06 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead08\\U08Arthas06.mp3", false, false, false, 12700, 12700, "" )
    call SetSoundParamsFromLabel( gg_snd_U08Arthas06, "U08Arthas06" )
    call SetSoundDuration( gg_snd_U08Arthas06, 5669 )
    set gg_snd_U08Arthas11 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead08\\U08Arthas11.mp3", false, false, false, 12700, 12700, "" )
    call SetSoundParamsFromLabel( gg_snd_U08Arthas11, "U08Arthas11" )
    call SetSoundDuration( gg_snd_U08Arthas11, 2664 )
    set gg_snd_U08Arthas25 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead08\\U08Arthas25.mp3", false, false, false, 12700, 12700, "" )
    call SetSoundParamsFromLabel( gg_snd_U08Arthas25, "U08Arthas25" )
    call SetSoundDuration( gg_snd_U08Arthas25, 3736 )
    set gg_snd_U08KelThuzad07 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead08\\U08KelThuzad07.mp3", false, false, false, 12700, 12700, "" )
    call SetSoundParamsFromLabel( gg_snd_U08KelThuzad07, "U08KelThuzad07" )
    call SetSoundDuration( gg_snd_U08KelThuzad07, 6426 )
    set gg_snd_U08KelThuzad08 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead08\\U08KelThuzad08.mp3", false, false, false, 12700, 12700, "" )
    call SetSoundParamsFromLabel( gg_snd_U08KelThuzad08, "U08KelThuzad08" )
    call SetSoundDuration( gg_snd_U08KelThuzad08, 6139 )
    set gg_snd_U08KelThuzad09 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead08\\U08KelThuzad09.mp3", false, false, false, 12700, 12700, "" )
    call SetSoundParamsFromLabel( gg_snd_U08KelThuzad09, "U08KelThuzad09" )
    call SetSoundDuration( gg_snd_U08KelThuzad09, 7758 )
    set gg_snd_U08KelThuzad18 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead08\\U08KelThuzad18.mp3", false, false, false, 12700, 12700, "" )
    call SetSoundParamsFromLabel( gg_snd_U08KelThuzad18, "U08KelThuzad18" )
    call SetSoundDuration( gg_snd_U08KelThuzad18, 7027 )
    set gg_snd_U08KelThuzad26 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead08\\U08KelThuzad26.mp3", false, false, false, 12700, 12700, "" )
    call SetSoundParamsFromLabel( gg_snd_U08KelThuzad26, "U08KelThuzad26" )
    call SetSoundDuration( gg_snd_U08KelThuzad26, 11128 )
    set gg_snd_U08Necromancer10 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead08\\U08Necromancer10.mp3", false, false, false, 12700, 12700, "" )
    call SetSoundParamsFromLabel( gg_snd_U08Necromancer10, "U08Necromancer10" )
    call SetSoundDuration( gg_snd_U08Necromancer10, 4180 )
    set gg_snd_U08Tichondrius03 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead08\\U08Tichondrius03.mp3", false, false, false, 12700, 12700, "" )
    call SetSoundParamsFromLabel( gg_snd_U08Tichondrius03, "U08Tichondrius03" )
    call SetSoundDuration( gg_snd_U08Tichondrius03, 13296 )
    set gg_snd_U08Tichondrius21 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead08\\U08Tichondrius21.mp3", false, false, false, 12700, 12700, "" )
    call SetSoundParamsFromLabel( gg_snd_U08Tichondrius21, "U08Tichondrius21" )
    call SetSoundDuration( gg_snd_U08Tichondrius21, 4336 )
    set gg_snd_U08Tichondrius23 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead08\\U08Tichondrius23.mp3", false, false, false, 12700, 12700, "" )
    call SetSoundParamsFromLabel( gg_snd_U08Tichondrius23, "U08Tichondrius23" )
    call SetSoundDuration( gg_snd_U08Tichondrius23, 2743 )
    set gg_snd_U08KelThuzad02 = CreateSound( "Sound\\Dialogue\\UndeadCampaign\\Undead08\\U08KelThuzad02.mp3", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_U08KelThuzad02, "U08KelThuzad02" )
    call SetSoundDuration( gg_snd_U08KelThuzad02, 12931 )
    set gg_snd_Hint = CreateSound( "Sound\\Interface\\Hint.wav", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_Hint, "Hint" )
    call SetSoundDuration( gg_snd_Hint, 2006 )
    set gg_snd_SteamTankPissed1 = CreateSound( "Units\\Human\\SteamTank\\SteamTankPissed1.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_SteamTankPissed1, "SteamTankPissed" )
    call SetSoundDuration( gg_snd_SteamTankPissed1, 4226 )
    set gg_snd_HippoGryphReady1 = CreateSound( "Units\\NightElf\\HippoGryph\\HippoGryphReady1.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_HippoGryphReady1, "HippoGryphReady" )
    call SetSoundDuration( gg_snd_HippoGryphReady1, 1712 )
    set gg_snd_KnightNoRiderWhat2 = CreateSound( "Units\\Human\\KnightNoRider\\KnightNoRiderWhat2.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_KnightNoRiderWhat2, "KnightNoRiderWhat" )
    call SetSoundDuration( gg_snd_KnightNoRiderWhat2, 1974 )
    set gg_snd_HorseLoop2 = CreateSound( "Units\\Human\\Knight\\HorseLoop2.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_HorseLoop2, "HumanKnightMovement" )
    call SetSoundDuration( gg_snd_HorseLoop2, 3228 )
    set gg_snd_HorseLoop1 = CreateSound( "Units\\Human\\Knight\\HorseLoop1.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_HorseLoop1, "HumanKnightMovement" )
    call SetSoundDuration( gg_snd_HorseLoop1, 2101 )
    set gg_snd_HorseLoop3 = CreateSound( "Units\\Human\\Knight\\HorseLoop3.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_HorseLoop3, "HumanKnightMovement" )
    call SetSoundDuration( gg_snd_HorseLoop3, 5317 )
    set gg_snd_BattleNetWooshStereo1 = CreateSound( "Sound\\Interface\\BattleNetWooshStereo1.wav", false, false, false, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_BattleNetWooshStereo1, "GlueScreenBNetExit" )
    call SetSoundDuration( gg_snd_BattleNetWooshStereo1, 2624 )
    set gg_snd_LargeCityGateOpen1 = CreateSound( "Sound\\Ambient\\DoodadEffects\\LargeCityGateOpen1.wav", false, false, false, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_LargeCityGateOpen1, "GateOpenSound" )
    call SetSoundDuration( gg_snd_LargeCityGateOpen1, 1445 )
    set gg_snd_NecropolisUpgrade2 = CreateSound( "Buildings\\Undead\\Necropolis\\NecropolisUpgrade2.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_NecropolisUpgrade2, "Necropolisu2What" )
    call SetSoundDuration( gg_snd_NecropolisUpgrade2, 5824 )
    set gg_snd_SacrificialPitWhat1 = CreateSound( "Buildings\\Undead\\SacrificialPit\\SacrificialPitWhat1.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_SacrificialPitWhat1, "SacrificialPitWhat" )
    call SetSoundDuration( gg_snd_SacrificialPitWhat1, 3379 )
    set gg_snd_DarkSummoningTarget1 = CreateSound( "Abilities\\Spells\\Undead\\DarkSummoning\\DarkSummoningTarget1.wav", false, true, true, 10, 10, "SpellsEAX" )
    call SetSoundParamsFromLabel( gg_snd_DarkSummoningTarget1, "DarkSummoningTarget" )
    call SetSoundDuration( gg_snd_DarkSummoningTarget1, 3320 )
    set gg_snd_CityScapeMagicRunesLoop1 = CreateSound( "Sound\\Ambient\\DoodadEffects\\CityScapeMagicRunesLoop1.wav", true, true, true, 10, 10, "DoodadsEAX" )
    call SetSoundParamsFromLabel( gg_snd_CityScapeMagicRunesLoop1, "MagicRunesLoop" )
    call SetSoundDuration( gg_snd_CityScapeMagicRunesLoop1, 1149 )
    call SetSoundDistances( gg_snd_CityScapeMagicRunesLoop1, 2000.0, 10000.0 )
    call SetSoundDistanceCutoff( gg_snd_CityScapeMagicRunesLoop1, 2000.0 )
    set gg_snd_FrostmourneLoopUndead01 = CreateSound( "Sound\\Ambient\\DoodadEffects\\FrostmourneLoopUndead01.wav", true, true, true, 10, 10, "DoodadsEAX" )
    call SetSoundParamsFromLabel( gg_snd_FrostmourneLoopUndead01, "FrostmourneLoop" )
    call SetSoundDuration( gg_snd_FrostmourneLoopUndead01, 3320 )
    call SetSoundDistances( gg_snd_FrostmourneLoopUndead01, 2000.0, 10000.0 )
    set gg_snd_AntiMagicShellBirth1 = CreateSound( "Abilities\\Spells\\Undead\\AntiMagicShell\\AntiMagicShellBirth1.wav", false, true, true, 10, 10, "SpellsEAX" )
    call SetSoundParamsFromLabel( gg_snd_AntiMagicShellBirth1, "AntiMagicShell" )
    call SetSoundDuration( gg_snd_AntiMagicShellBirth1, 1301 )
    set gg_snd_CrippleTarget1 = CreateSound( "Abilities\\Spells\\Undead\\Cripple\\CrippleTarget1.wav", false, true, true, 10, 10, "SpellsEAX" )
    call SetSoundParamsFromLabel( gg_snd_CrippleTarget1, "Cripple" )
    call SetSoundDuration( gg_snd_CrippleTarget1, 2316 )
    set gg_snd_BuildingDeathLargeOrc = CreateSound( "Sound\\Buildings\\Death\\BuildingDeathLargeOrc.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_BuildingDeathLargeOrc, "DeathOrcLargeBuilding" )
    call SetSoundDuration( gg_snd_BuildingDeathLargeOrc, 3483 )
    set gg_snd_BuildingDeathLargeHuman = CreateSound( "Sound\\Buildings\\Death\\BuildingDeathLargeHuman.wav", false, true, true, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_BuildingDeathLargeHuman, "DeathHumanLargeBuilding" )
    call SetSoundDuration( gg_snd_BuildingDeathLargeHuman, 3460 )
    set gg_snd_OrcHumanMediumBuildingFire1 = CreateSound( "Sound\\Buildings\\Fire\\OrcHumanMediumBuildingFire1.wav", true, true, true, 10, 10, "SpellsEAX" )
    call SetSoundParamsFromLabel( gg_snd_OrcHumanMediumBuildingFire1, "HumanFireMedium" )
    call SetSoundDuration( gg_snd_OrcHumanMediumBuildingFire1, 3518 )
    set gg_snd_LightningShieldTarget = CreateSound( "Abilities\\Spells\\Orc\\LightningShield\\LightningShieldTarget.wav", false, true, true, 10, 10, "SpellsEAX" )
    call SetSoundParamsFromLabel( gg_snd_LightningShieldTarget, "LightningShield" )
    call SetSoundDuration( gg_snd_LightningShieldTarget, 3878 )
    set gg_snd_WaterLakeLoop1 = CreateSound( "Sound\\Ambient\\DoodadEffects\\WaterLakeLoop1.wav", true, true, true, 10, 10, "DoodadsEAX" )
    call SetSoundParamsFromLabel( gg_snd_WaterLakeLoop1, "LakeLoop" )
    call SetSoundDuration( gg_snd_WaterLakeLoop1, 3297 )
    set gg_snd_WarlockAppears = CreateSound( "Sound\\Ambient\\DoodadEffects\\WarlockAppears.wav", false, false, false, 10, 10, "DefaultEAXON" )
    call SetSoundParamsFromLabel( gg_snd_WarlockAppears, "ArchimondeAppearsSound" )
    call SetSoundDuration( gg_snd_WarlockAppears, 7361 )
endfunction

//***************************************************************************
//*
//*  Destructable Objects
//*
//***************************************************************************

function CreateAllDestructables takes nothing returns nothing
    local real life
    set gg_dest_LTcr_0112 = CreateDestructable( 'LTcr', -5376.0, -2304.0, 0.000, 0.855, 1 )
    set gg_dest_LTcr_0113 = CreateDestructable( 'LTcr', -5504.0, -2304.0, 0.000, 0.987, 1 )
    set gg_dest_LTcr_0142 = CreateDestructable( 'LTcr', -5504.0, -2176.0, 0.000, 1.102, 1 )
    set gg_dest_LTcr_0111 = CreateDestructable( 'LTcr', -5376.0, -2176.0, 0.000, 1.014, 1 )
    set gg_dest_LTg1_0074 = CreateDestructable( 'LTg1', -4480.0, 384.0, 270.000, 0.900, 0 )
    set gg_dest_LTg4_0263 = CreateDestructable( 'LTg4', 4768.0, -2400.0, 180.000, 1.000, 0 )
    set gg_dest_LTg4_0073 = CreateDestructable( 'LTg4', 3360.0, 1056.0, 180.000, 1.000, 0 )
endfunction

//***************************************************************************
//*
//*  Dropped Unit Items
//*
//***************************************************************************

function Unit000031_DropItems takes nothing returns nothing
    local unit trigUnit
    local integer itemID

    set trigUnit = GetTriggerUnit()
    if (not IsUnitHidden(trigUnit)) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'tst2', 100 )
        set itemID = RandomDistChoose(  )
        call UnitDropItem( trigUnit, itemID )

    endif

    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000032_DropItems takes nothing returns nothing
    local unit trigUnit
    local integer itemID

    set trigUnit = GetTriggerUnit()
    if (not IsUnitHidden(trigUnit)) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'rde4', 100 )
        set itemID = RandomDistChoose(  )
        call UnitDropItem( trigUnit, itemID )

    endif

    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000171_DropItems takes nothing returns nothing
    local unit trigUnit
    local integer itemID

    set trigUnit = GetTriggerUnit()
    if (not IsUnitHidden(trigUnit)) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'shea', 100 )
        set itemID = RandomDistChoose(  )
        call UnitDropItem( trigUnit, itemID )

    endif

    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000210_DropItems takes nothing returns nothing
    local unit trigUnit
    local integer itemID

    set trigUnit = GetTriggerUnit()
    if (not IsUnitHidden(trigUnit)) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'ccmd', 100 )
        set itemID = RandomDistChoose(  )
        call UnitDropItem( trigUnit, itemID )

        // Item set 1
        call RandomDistReset(  )
        call RandomDistAddItem( 'mcou', 100 )
        set itemID = RandomDistChoose(  )
        call UnitDropItem( trigUnit, itemID )

    endif

    call DestroyTrigger(GetTriggeringTrigger())
endfunction


//***************************************************************************
//*
//*  Unit Creation
//*
//***************************************************************************

//===========================================================================
function CreateBuildingsForPlayer0 takes nothing returns nothing
    local player p = Player(0)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'hbar', 4992.0, -1280.0, 270.000 )
    set u = CreateUnit( p, 'hbar', 5312.0, -384.0, 270.000 )
    set u = CreateUnit( p, 'hwtw', 5824.0, -256.0, 270.000 )
    set u = CreateUnit( p, 'hcas', 6144.0, -1408.0, 270.000 )
    set u = CreateUnit( p, 'halt', 5728.0, -2080.0, 270.000 )
    set u = CreateUnit( p, 'hbar', 5504.0, -896.0, 270.000 )
    set u = CreateUnit( p, 'harm', 6208.0, -832.0, 270.000 )
    set u = CreateUnit( p, 'hctw', 4736.0, -1792.0, 270.000 )
    set u = CreateUnit( p, 'hctw', 5504.0, -64.0, 270.000 )
    set u = CreateUnit( p, 'hctw', 4928.0, -832.0, 270.000 )
    set u = CreateUnit( p, 'hgtw', 7040.0, -1920.0, 270.000 )
    set u = CreateUnit( p, 'hgtw', 6784.0, -1920.0, 270.000 )
    set u = CreateUnit( p, 'hgtw', 7040.0, -768.0, 270.000 )
    set u = CreateUnit( p, 'hgtw', 6784.0, -768.0, 270.000 )
    set u = CreateUnit( p, 'hbla', 6848.0, 64.0, 270.000 )
    set u = CreateUnit( p, 'hlum', 7008.0, -352.0, 270.000 )
    set u = CreateUnit( p, 'hhou', 7040.0, -2304.0, 270.000 )
    set u = CreateUnit( p, 'hhou', 6848.0, -2304.0, 270.000 )
    set u = CreateUnit( p, 'hhou', 6272.0, -448.0, 270.000 )
    set u = CreateUnit( p, 'hhou', 6016.0, -448.0, 270.000 )
    set u = CreateUnit( p, 'hhou', 6464.0, -256.0, 270.000 )
    set u = CreateUnit( p, 'hhou', 6272.0, -256.0, 270.000 )
    set u = CreateUnit( p, 'hhou', 6080.0, -256.0, 270.000 )
    set u = CreateUnit( p, 'hars', 6272.0, -2112.0, 270.000 )
endfunction

//===========================================================================
function CreateUnitsForPlayer0 takes nothing returns nothing
    local player p = Player(0)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'hsor', 6707.0, -1130.3, 45.529 )
    set u = CreateUnit( p, 'hsor', 6548.3, -2204.1, 247.387 )
    set u = CreateUnit( p, 'hrif', 6550.6, -1007.9, 221.008 )
    set u = CreateUnit( p, 'hrif', 6586.7, -1834.5, 0.428 )
    set u = CreateUnit( p, 'hpea', 6682.5, -1573.4, 9.789 )
    set u = CreateUnit( p, 'hpea', 6667.9, -1365.7, 102.769 )
    set u = CreateUnit( p, 'hpea', 6517.4, -1370.2, 220.656 )
    set u = CreateUnit( p, 'hpea', 6548.7, -1548.9, 28.060 )
    set u = CreateUnit( p, 'hkni', 5822.1, -1370.3, 336.225 )
    set u = CreateUnit( p, 'hfoo', 5702.8, -567.2, 140.443 )
    set u = CreateUnit( p, 'hfoo', 5961.7, -2297.5, 225.523 )
    set u = CreateUnit( p, 'hkni', 5783.1, -1696.1, 38.530 )
    set gg_unit_Hamg_0200 = CreateUnit( p, 'Hamg', 5827.7, -954.7, 147.741 )
endfunction

//===========================================================================
function CreateBuildingsForPlayer1 takes nothing returns nothing
    local player p = Player(1)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'hbla', 2304.0, 6464.0, 270.000 )
    set u = CreateUnit( p, 'hgra', 3840.0, 4608.0, 270.000 )
    set u = CreateUnit( p, 'hgra', 3840.0, 5056.0, 270.000 )
    set u = CreateUnit( p, 'hbar', 2816.0, 4992.0, 270.000 )
    set u = CreateUnit( p, 'hars', 2240.0, 5248.0, 270.000 )
    set u = CreateUnit( p, 'hgra', 2240.0, 4608.0, 270.000 )
    set u = CreateUnit( p, 'hgtw', 1920.0, 6144.0, 270.000 )
    set u = CreateUnit( p, 'hgtw', 2560.0, 4160.0, 270.000 )
    set u = CreateUnit( p, 'hctw', 3328.0, 4096.0, 270.000 )
    set u = CreateUnit( p, 'hctw', 1984.0, 5440.0, 270.000 )
    set u = CreateUnit( p, 'hgtw', 3776.0, 5440.0, 270.000 )
    set u = CreateUnit( p, 'hhou', 3712.0, 5760.0, 270.000 )
    set u = CreateUnit( p, 'hhou', 3712.0, 5952.0, 270.000 )
    set u = CreateUnit( p, 'hhou', 3712.0, 6656.0, 270.000 )
    set u = CreateUnit( p, 'hhou', 1728.0, 6272.0, 270.000 )
    set u = CreateUnit( p, 'hhou', 1728.0, 6080.0, 270.000 )
    set u = CreateUnit( p, 'hcas', 3200.0, 5632.0, 270.000 )
    set u = CreateUnit( p, 'hhou', 1728.0, 6464.0, 270.000 )
    set u = CreateUnit( p, 'hhou', 2624.0, 6528.0, 270.000 )
    set u = CreateUnit( p, 'hhou', 4096.0, 5184.0, 270.000 )
    set u = CreateUnit( p, 'hhou', 4096.0, 4992.0, 270.000 )
    set u = CreateUnit( p, 'hlum', 2272.0, 5856.0, 270.000 )
    set u = CreateUnit( p, 'harm', 3712.0, 6272.0, 270.000 )
    set u = CreateUnit( p, 'hhou', 4096.0, 4672.0, 270.000 )
    set u = CreateUnit( p, 'hhou', 4096.0, 4480.0, 270.000 )
    set u = CreateUnit( p, 'hbar', 3200.0, 4992.0, 270.000 )
    set u = CreateUnit( p, 'hwtw', 3520.0, 6592.0, 270.000 )
    set u = CreateUnit( p, 'halt', 2720.0, 5984.0, 270.000 )
endfunction

//===========================================================================
function CreateUnitsForPlayer1 takes nothing returns nothing
    local player p = Player(1)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'hpea', 3327.1, 6059.8, 315.032 )
    set u = CreateUnit( p, 'hpea', 3294.3, 6177.4, 303.353 )
    set u = CreateUnit( p, 'hpea', 3104.9, 6169.9, 255.945 )
    set u = CreateUnit( p, 'hpea', 3167.9, 6030.9, 24.248 )
    set u = CreateUnit( p, 'hgry', 3478.3, 4752.6, 137.751 )
    set u = CreateUnit( p, 'ndog', 5065.7, 3365.8, 89.190 )
    set u = CreateUnit( p, 'hfoo', 3543.4, 4455.6, 25.687 )
    set u = CreateUnit( p, 'hfoo', 3668.6, 4375.9, 282.797 )
    set u = CreateUnit( p, 'hkni', 1898.1, 4831.0, 214.877 )
    set u = CreateUnit( p, 'hrif', 1875.1, 4654.5, 315.328 )
    set gg_unit_Hamg_0201 = CreateUnit( p, 'Hamg', 2812.8, 5632.2, 339.590 )
endfunction

//===========================================================================
function CreateBuildingsForPlayer2 takes nothing returns nothing
    local player p = Player(2)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'hcas', -4352.0, 1856.0, 270.000 )
    set u = CreateUnit( p, 'hbar', -3520.0, 1216.0, 270.000 )
    set u = CreateUnit( p, 'hlum', -5408.0, 1696.0, 270.000 )
    set u = CreateUnit( p, 'harm', -5504.0, 960.0, 270.000 )
    set u = CreateUnit( p, 'hctw', -5376.0, 2048.0, 270.000 )
    set u = CreateUnit( p, 'hctw', -3520.0, 768.0, 270.000 )
    set u = CreateUnit( p, 'hhou', -5440.0, 1344.0, 270.000 )
    set u = CreateUnit( p, 'hhou', -5056.0, 3008.0, 270.000 )
    set u = CreateUnit( p, 'hhou', -5248.0, 3008.0, 270.000 )
    set u = CreateUnit( p, 'hhou', -5440.0, 3008.0, 270.000 )
    set u = CreateUnit( p, 'hbar', -3968.0, 1216.0, 270.000 )
    set u = CreateUnit( p, 'hhou', -5440.0, 2496.0, 270.000 )
    set u = CreateUnit( p, 'hhou', -5248.0, 2752.0, 270.000 )
    set u = CreateUnit( p, 'harm', -3840.0, 3072.0, 270.000 )
    set u = CreateUnit( p, 'hhou', -5440.0, 2752.0, 270.000 )
    set u = CreateUnit( p, 'hbla', -3456.0, 2688.0, 270.000 )
    set u = CreateUnit( p, 'hars', -3456.0, 2304.0, 270.000 )
    set u = CreateUnit( p, 'harm', -3840.0, 2496.0, 270.000 )
    set u = CreateUnit( p, 'halt', -3488.0, 3104.0, 270.000 )
    set u = CreateUnit( p, 'hwtw', -3392.0, 1536.0, 270.000 )
    set u = CreateUnit( p, 'hctw', -4992.0, 2752.0, 270.000 )
endfunction

//===========================================================================
function CreateUnitsForPlayer2 takes nothing returns nothing
    local player p = Player(2)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'hpea', -4119.1, 2321.5, 99.089 )
    set u = CreateUnit( p, 'hkni', -5012.8, 2422.6, 274.290 )
    set u = CreateUnit( p, 'hrif', -4768.6, 2395.2, 184.455 )
    set u = CreateUnit( p, 'hrif', -5193.4, 2396.9, 165.976 )
    set u = CreateUnit( p, 'hpea', -4241.9, 2396.5, 44.727 )
    set u = CreateUnit( p, 'hpea', -4351.6, 2375.9, 1.989 )
    set u = CreateUnit( p, 'hpea', -4265.7, 2247.6, 93.969 )
    set u = CreateUnit( p, 'hmtm', -4814.8, 2153.0, 272.491 )
    set u = CreateUnit( p, 'hmtm', -3948.4, 2749.3, 25.808 )
    set gg_unit_Hamg_0202 = CreateUnit( p, 'Hamg', -3944.6, 1874.2, 270.070 )
endfunction

//===========================================================================
function CreateBuildingsForPlayer3 takes nothing returns nothing
    local player p = Player(3)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'unp1', -3264.0, -4800.0, 270.000 )
    set u = CreateUnit( p, 'uzg1', -3424.0, -4128.0, 270.000 )
    set u = CreateUnit( p, 'uzig', -2784.0, -5152.0, 270.000 )
    set u = CreateUnit( p, 'uaod', -3104.0, -5408.0, 270.000 )
    set u = CreateUnit( p, 'usep', -2688.0, -4096.0, 270.000 )
    set gg_unit_ugol_0092 = CreateBlightedGoldmine( p, -3840.0, -5504.0, 270.000 )
    call SetResourceAmount( gg_unit_ugol_0092, 14000 )
    set u = CreateUnit( p, 'ugrv', -3776.0, -4608.0, 270.000 )
    set u = CreateUnit( p, 'uzg1', -480.0, -2400.0, 270.000 )
    set u = CreateUnit( p, 'uslh', -2368.0, -4544.0, 270.000 )
    set u = CreateUnit( p, 'uzg1', 1440.0, -4448.0, 270.000 )
    set u = CreateUnit( p, 'utod', -2368.0, -5120.0, 270.000 )
    set u = CreateUnit( p, 'usap', -2816.0, -4736.0, 270.000 )
endfunction

//===========================================================================
function CreateUnitsForPlayer3 takes nothing returns nothing
    local player p = Player(3)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'uaco', -3485.3, -5367.9, 351.134 )
    set u = CreateUnit( p, 'uaco', -3567.6, -5275.3, 212.965 )
    set u = CreateUnit( p, 'uaco', -3353.2, -5261.0, 168.502 )
    set u = CreateUnit( p, 'uaco', -3440.8, -5197.9, 143.914 )
    set u = CreateUnit( p, 'uaco', -3175.8, -4225.5, 211.120 )
    set u = CreateUnit( p, 'uaco', -3380.5, -5387.2, 189.983 )
    set u = CreateUnit( p, 'ugho', -3668.1, -4295.9, 120.150 )
    set u = CreateUnit( p, 'ugho', -3843.1, -4394.4, 85.960 )
    set u = CreateUnit( p, 'ugho', -3703.7, -4068.7, 275.919 )
    set u = CreateUnit( p, 'ugho', -3903.2, -4175.8, 177.797 )
    set u = CreateUnit( p, 'uaco', 1198.6, -4517.4, 300.112 )
    set u = CreateUnit( p, 'uaco', -596.1, -2584.1, 300.112 )
    set gg_unit_unec_0159 = CreateUnit( p, 'unec', -543.9, -3786.8, 99.855 )
    set u = CreateUnit( p, 'ucry', 174.8, -4579.4, 348.594 )
    set u = CreateUnit( p, 'ucry', -339.7, -3665.5, 87.340 )
    set u = CreateUnit( p, 'ucry', -531.6, -3614.6, 70.772 )
    set u = CreateUnit( p, 'ucry', -733.8, -3734.6, 90.036 )
    set u = CreateUnit( p, 'ucry', 238.8, -4413.9, 345.478 )
    set u = CreateUnit( p, 'ucry', 105.0, -4284.7, 15.246 )
    set gg_unit_ushd_0169 = CreateUnit( p, 'ushd', -3818.6, -3843.3, 128.928 )
    set gg_unit_ushd_0170 = CreateUnit( p, 'ushd', -4660.0, -3415.3, 15.777 )
    set gg_unit_ushd_0171 = CreateUnit( p, 'ushd', -1355.0, -1669.2, 194.178 )
    set gg_unit_ushd_0177 = CreateUnit( p, 'ushd', 1718.2, -1954.9, 75.533 )
    set gg_unit_ushd_0178 = CreateUnit( p, 'ushd', -2580.2, -5584.3, 321.711 )
endfunction

//===========================================================================
function CreateBuildingsForPlayer7 takes nothing returns nothing
    local player p = Player(7)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'ndgt', -4928.0, 320.0, 270.000 )
    set u = CreateUnit( p, 'ndgt', -3008.0, 2624.0, 270.000 )
    set u = CreateUnit( p, 'ndgt', 5312.0, -2752.0, 270.000 )
    set u = CreateUnit( p, 'ndgt', 4416.0, -1792.0, 270.000 )
    set u = CreateUnit( p, 'ndgt', 3648.0, 3392.0, 270.000 )
    set u = CreateUnit( p, 'ndgt', 1216.0, 5312.0, 270.000 )
    set u = CreateUnit( p, 'ndgt', 5184.0, 3392.0, 270.000 )
    set u = CreateUnit( p, 'ndgt', 6464.0, 3392.0, 270.000 )
    set u = CreateUnit( p, 'nmgv', 6784.0, 5952.0, 270.000 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerAddAction( t, function Unit000210_DropItems )
    set u = CreateUnit( p, 'ndgt', 3008.0, 1472.0, 270.000 )
    set u = CreateUnit( p, 'ndgt', 3776.0, 704.0, 270.000 )
    set u = CreateUnit( p, 'ndgt', 2624.0, 1856.0, 270.000 )
    set u = CreateUnit( p, 'ndgt', 6272.0, 4864.0, 270.000 )
    set u = CreateUnit( p, 'ndgt', 7168.0, 4864.0, 270.000 )
    set u = CreateUnit( p, 'ndgt', 5952.0, 5568.0, 270.000 )
    set u = CreateUnit( p, 'ndgt', 4800.0, 5376.0, 270.000 )
    set u = CreateUnit( p, 'ndgt', 2240.0, 2240.0, 270.000 )
    set u = CreateUnit( p, 'ndgt', 4288.0, 704.0, 270.000 )
    set u = CreateUnit( p, 'ndgt', -4032.0, 320.0, 270.000 )
    set u = CreateUnit( p, 'ndgt', -3008.0, 320.0, 270.000 )
    set u = CreateUnit( p, 'ndgt', -5760.0, 320.0, 270.000 )
endfunction

//===========================================================================
function CreateUnitsForPlayer7 takes nothing returns nothing
    local player p = Player(7)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_hkni_0005 = CreateUnit( p, 'hkni', -4983.7, 1466.1, 295.029 )
    set gg_unit_Hamg_0006 = CreateUnit( p, 'Hamg', -4733.2, 747.3, 49.721 )
    set gg_unit_hkni_0007 = CreateUnit( p, 'hkni', -4839.0, 1504.3, 299.013 )
    set gg_unit_hkni_0009 = CreateUnit( p, 'hkni', -3702.6, 1566.3, 198.595 )
    set u = CreateUnit( p, 'hmtt', -3904.8, 773.8, 197.309 )
    set gg_unit_hkni_0011 = CreateUnit( p, 'hkni', -3932.9, 1565.5, 198.595 )
    set gg_unit_hsor_0015 = CreateUnit( p, 'hsor', -3794.7, 1487.5, 342.762 )
    set gg_unit_hsor_0016 = CreateUnit( p, 'hsor', -4786.7, 1803.8, 224.029 )
    set gg_unit_hfoo_0017 = CreateUnit( p, 'hfoo', -5897.6, -3331.2, 175.281 )
    set gg_unit_hgry_0018 = CreateUnit( p, 'hgry', 4912.9, 2470.0, 59.778 )
    set gg_unit_hgry_0019 = CreateUnit( p, 'hgry', 3684.8, 3171.1, 61.547 )
    set gg_unit_hgry_0020 = CreateUnit( p, 'hgry', 3567.9, 3148.5, 72.842 )
    set gg_unit_hgry_0022 = CreateUnit( p, 'hgry', 4712.1, 2530.6, 59.778 )
    set u = CreateUnit( p, 'Hamg', 3999.4, 1692.1, 154.303 )
    set gg_unit_hfoo_0174 = CreateUnit( p, 'hfoo', -6033.9, -3270.2, 239.608 )
    set u = CreateUnit( p, 'hsor', 6645.5, 5758.4, 328.985 )
    set u = CreateUnit( p, 'hsor', 7065.1, 5966.3, 102.407 )
    set u = CreateUnit( p, 'Hamg', 6806.0, 6218.8, 196.140 )
    call SetHeroLevel( u, 3, false )
    call SelectHeroSkill( u, 'AHwe' )
    call SelectHeroSkill( u, 'AHab' )
    call SelectHeroSkill( u, 'AHab' )
    set u = CreateUnit( p, 'hsor', 6967.2, 5771.7, 143.837 )
    set u = CreateUnit( p, 'hmpr', 6487.6, 5906.5, 297.519 )
    set u = CreateUnit( p, 'hmpr', 6818.4, 5671.7, 353.661 )
    set gg_unit_Hamg_0205 = CreateUnit( p, 'Hamg', -217.3, 2476.0, 33.740 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, gg_unit_Hamg_0205, EVENT_UNIT_DEATH )
    call TriggerAddAction( t, function Unit000032_DropItems )
endfunction

//===========================================================================
function CreateNeutralHostile takes nothing returns nothing
    local player p = Player(PLAYER_NEUTRAL_AGGRESSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'ngnv', 6904.9, -5705.2, 42.518 )
    set u = CreateUnit( p, 'ngnb', 6720.2, -5783.3, 41.167 )
    set u = CreateUnit( p, 'ngnb', 6721.5, -5601.6, 5.922 )
endfunction

//===========================================================================
function CreateNeutralPassiveBuildings takes nothing returns nothing
    local player p = Player(PLAYER_NEUTRAL_PASSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'nfoh', -1344.0, -6272.0, 270.000 )
    set u = CreateUnit( p, 'ngt2', 7008.0, -5536.0, 270.000 )
    set u = CreateUnit( p, 'ngme', 4800.0, -4992.0, 270.000 )
    set u = CreateUnit( p, 'ngol', 3200.0, 6592.0, 270.000 )
    call SetResourceAmount( u, 35000 )
    set u = CreateUnit( p, 'ngol', 7040.0, -1408.0, 270.000 )
    call SetResourceAmount( u, 35000 )
    set u = CreateUnit( p, 'ngol', -4416.0, 2816.0, 270.000 )
    call SetResourceAmount( u, 35000 )
    set u = CreateUnit( p, 'nfoh', -4480.0, 3520.0, 270.000 )
    set u = CreateUnit( p, 'nfoh', 5504.0, 1280.0, 270.000 )
    set u = CreateUnit( p, 'ngt2', 6944.0, -5920.0, 270.000 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerAddAction( t, function Unit000171_DropItems )
    set u = CreateUnit( p, 'nmoo', 320.0, -6272.0, 270.000 )
    set u = CreateUnit( p, 'ngol', 3968.0, -6272.0, 270.000 )
    call SetResourceAmount( u, 25000 )
    set u = CreateUnit( p, 'ntn2', -5792.0, -2080.0, 270.000 )
    set u = CreateUnit( p, 'ntn2', -5600.0, -1952.0, 270.000 )
    set u = CreateUnit( p, 'ngad', -5760.0, -3520.0, 270.000 )
    set u = CreateUnit( p, 'ntn2', -352.0, 2336.0, 270.000 )
    set t = CreateTrigger(  )
    call TriggerRegisterUnitEvent( t, u, EVENT_UNIT_DEATH )
    call TriggerAddAction( t, function Unit000031_DropItems )
endfunction

//===========================================================================
function CreateNeutralPassive takes nothing returns nothing
    local player p = Player(PLAYER_NEUTRAL_PASSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'nshe', 217.6, 2002.0, 273.755 )
    set u = CreateUnit( p, 'nshe', 115.1, 2121.4, 122.150 )
    set u = CreateUnit( p, 'nshe', -85.4, 2165.7, 72.842 )
    set u = CreateUnit( p, 'nshe', 64.6, 1961.9, 190.893 )
    set u = CreateUnit( p, 'nshe', -42.3, 1890.9, 294.992 )
endfunction

//===========================================================================
function CreatePlayerBuildings takes nothing returns nothing
    call CreateBuildingsForPlayer0(  )
    call CreateBuildingsForPlayer1(  )
    call CreateBuildingsForPlayer2(  )
    call CreateBuildingsForPlayer3(  )
    call CreateBuildingsForPlayer7(  )
endfunction

//===========================================================================
function CreatePlayerUnits takes nothing returns nothing
    call CreateUnitsForPlayer0(  )
    call CreateUnitsForPlayer1(  )
    call CreateUnitsForPlayer2(  )
    call CreateUnitsForPlayer3(  )
    call CreateUnitsForPlayer7(  )
endfunction

//===========================================================================
function CreateAllUnits takes nothing returns nothing
    call CreateNeutralPassiveBuildings(  )
    call CreatePlayerBuildings(  )
    call CreateNeutralHostile(  )
    call CreateNeutralPassive(  )
    call CreatePlayerUnits(  )
endfunction

//***************************************************************************
//*
//*  Regions
//*
//***************************************************************************

function CreateRegions takes nothing returns nothing
    local weathereffect we

    set gg_rct_ArthasStart = Rect( -960.0, -5024.0, -512.0, -4608.0 )
    set gg_rct_KelThuzadStart = Rect( -1280.0, -5088.0, -928.0, -4800.0 )
    set gg_rct_KelThuzadPost = Rect( -640.0, -4480.0, -384.0, -4224.0 )
    set gg_rct_GoblinMine01 = Rect( -5600.0, -2272.0, -5376.0, -2048.0 )
    set gg_rct_GoblinMine02 = Rect( -5568.0, -2400.0, -5376.0, -2208.0 )
    set gg_rct_GoblinMine03 = Rect( -5408.0, -2272.0, -5248.0, -2080.0 )
    set gg_rct_GoblinMine04 = Rect( -5440.0, -2400.0, -5248.0, -2208.0 )
    set gg_rct_Hellhound01 = Rect( -704.0, -4320.0, -544.0, -4160.0 )
    set gg_rct_Hellhound02 = Rect( -448.0, -4416.0, -288.0, -4224.0 )
    set gg_rct_RevealerGoblinMines = Rect( -5504.0, -2304.0, -5312.0, -2112.0 )
    set gg_rct_GoblinMineArea = Rect( -5856.0, -2592.0, -5088.0, -1824.0 )
    set gg_rct_Archimonde = Rect( -608.0, -4448.0, -416.0, -4288.0 )
    set gg_rct_OpeningTichondriusSpawn = Rect( -1152.0, -4576.0, -992.0, -4416.0 )
    set gg_rct_ArchimondeDest = Rect( 1024.0, -4480.0, 1344.0, -4192.0 )
    set gg_rct_TichondriusDest = Rect( 928.0, -4608.0, 1248.0, -4256.0 )
    set gg_rct_Knight01 = Rect( -4384.0, 768.0, -4224.0, 928.0 )
    set gg_rct_Knight02 = Rect( -4480.0, 896.0, -4352.0, 1056.0 )
    set gg_rct_Knight03 = Rect( -4608.0, 992.0, -4480.0, 1152.0 )
    set gg_rct_Knight04 = Rect( -4736.0, 1088.0, -4608.0, 1248.0 )
    set gg_rct_Sorc02 = Rect( -4480.0, 1120.0, -4352.0, 1280.0 )
    set gg_rct_Sorc01 = Rect( -4320.0, 1024.0, -4192.0, 1184.0 )
    set gg_rct_Region_022 = Rect( 3552.0, 1664.0, 3776.0, 1920.0 )
    set gg_rct_Region_023 = Rect( 3072.0, 1728.0, 3328.0, 1920.0 )
    set gg_rct_Region_024 = Rect( 3104.0, 1952.0, 3264.0, 2176.0 )
    set gg_rct_Region_025 = Rect( 3360.0, 1664.0, 3520.0, 1888.0 )
    set gg_rct_Region_026 = Rect( 3040.0, 2208.0, 3296.0, 2400.0 )
    set gg_rct_GryphonArea = Rect( 3232.0, 1568.0, 5088.0, 3328.0 )
    set gg_rct_ArchmageArea01 = Rect( -5088.0, 608.0, -4608.0, 1952.0 )
    set gg_rct_ArchmageArea02 = Rect( -4096.0, 1408.0, -3328.0, 1760.0 )
    set gg_rct_VaultOfEnchantments = Rect( 6656.0, 5824.0, 6912.0, 6112.0 )
    set gg_rct_FootmanCamp01 = Rect( -5696.0, -2336.0, -5536.0, -2176.0 )
    set gg_rct_FootmanCamp02 = Rect( -5536.0, -2176.0, -5376.0, -2016.0 )
    set gg_rct_GryphonPop = Rect( 4480.0, 3872.0, 4704.0, 4128.0 )
    set gg_rct_SheepContainmentArea = Rect( -256.0, 1664.0, 352.0, 2336.0 )
    set gg_rct_HellHound03 = Rect( -544.0, -4224.0, -384.0, -4064.0 )
    set gg_rct_Infernal01 = Rect( -800.0, -4352.0, -608.0, -4096.0 )
    set gg_rct_Infernal02 = Rect( -608.0, -4288.0, -416.0, -4032.0 )
    set gg_rct_Infernal03 = Rect( -448.0, -4352.0, -224.0, -4096.0 )
    set gg_rct_Infernal04 = Rect( -384.0, -4576.0, -160.0, -4352.0 )
    set gg_rct_EndingKelThuzadPost = Rect( -864.0, -5024.0, -640.0, -4832.0 )
    set gg_rct_EndingReviveArthas = Rect( -1216.0, -5024.0, -992.0, -4832.0 )
    set gg_rct_EndingMoveArthas = Rect( -1216.0, -4864.0, -1024.0, -4640.0 )
    set gg_rct_FireDoodads = Rect( -928.0, -4768.0, -96.0, -3968.0 )
    set gg_rct_Door03 = Rect( 4128.0, -2880.0, 5184.0, -1792.0 )
    set gg_rct_TempleArea = Rect( -2560.0, -5888.0, 1536.0, -2240.0 )
    set gg_rct_Shade01PatrolDest = Rect( -3040.0, -1920.0, -2592.0, -1440.0 )
    set gg_rct_Shade02PatrolDest = Rect( 448.0, -1856.0, 832.0, -1408.0 )
    set gg_rct_Shade03PatrolDest = Rect( 2080.0, -4448.0, 2464.0, -4000.0 )
    set gg_rct_ShadeGoblinLandMine = Rect( -5504.0, -2592.0, -5024.0, -2208.0 )
    set gg_rct_ShadeGoldmine = Rect( 3488.0, -6176.0, 4032.0, -5664.0 )
    set gg_rct_HintFountainsArea = Rect( -224.0, -7136.0, 160.0, -5408.0 )
    set gg_rct_GateOpen = Rect( -4544.0, 320.0, -4416.0, 384.0 )
    set gg_rct_FreakySound = Rect( -2144.0, -1696.0, -1536.0, -992.0 )
    set gg_rct_TempleVision = Rect( -672.0, -4512.0, -352.0, -4224.0 )
    set gg_rct_MiningAcolytes = Rect( -3648.0, -5568.0, -3200.0, -5056.0 )
    set gg_rct_Harvesters = Rect( -4000.0, -4448.0, -3584.0, -3968.0 )
    set gg_rct_Summoning = Rect( -608.0, -4480.0, -416.0, -4224.0 )
    set gg_rct_KnightsRun = Rect( -4608.0, 800.0, -4480.0, 960.0 )
    set gg_rct_EndCin_Hide_Units = Rect( -1792.0, -5920.0, 1472.0, -3136.0 )
    set gg_rct_LakeLoop01 = Rect( -6336.0, 4448.0, -5312.0, 5088.0 )
    set gg_rct_LakeLoop02 = Rect( -608.0, 0.0, 1376.0, 1696.0 )
    set gg_rct_LakeLoop03 = Rect( 1312.0, -384.0, 2112.0, 928.0 )
    set gg_rct_LakeLoop04 = Rect( 2144.0, -672.0, 2816.0, 768.0 )
    set gg_rct_LakeLoop05 = Rect( 2848.0, -1696.0, 3616.0, -448.0 )
    set gg_rct_LakeLoop06 = Rect( 3232.0, -2784.0, 3840.0, -1728.0 )
    set gg_rct_LakeLoop07 = Rect( 3520.0, -3712.0, 4352.0, -2816.0 )
    set gg_rct_LakeLoop08 = Rect( 4352.0, -4096.0, 5088.0, -3104.0 )
    set gg_rct_LakeLoop09 = Rect( 5088.0, -4288.0, 5888.0, -3136.0 )
    set gg_rct_LakeLoop10 = Rect( 5856.0, -4256.0, 7456.0, -3328.0 )
    set gg_rct_LakeLoop11 = Rect( 2784.0, -512.0, 3264.0, 160.0 )
    set gg_rct_LakeLoop12 = Rect( -1056.0, 1664.0, 768.0, 3072.0 )
    set gg_rct_LakeLoop13 = Rect( -4672.0, 4480.0, -3040.0, 5088.0 )
    set gg_rct_KelThuzad_Item01 = Rect( -192.0, -5344.0, -128.0, -5280.0 )
    set gg_rct_KelThuzad_Item02 = Rect( -192.0, -5248.0, -128.0, -5184.0 )
    set gg_rct_KelThuzad_Item03 = Rect( -192.0, -5152.0, -128.0, -5088.0 )
    set gg_rct_KelThuzad_Item04 = Rect( -288.0, -5344.0, -224.0, -5280.0 )
    set gg_rct_KelThuzad_Item05 = Rect( -288.0, -5248.0, -224.0, -5184.0 )
    set gg_rct_KelThuzad_Item06 = Rect( -288.0, -5152.0, -224.0, -5088.0 )
endfunction

//***************************************************************************
//*
//*  Cameras
//*
//***************************************************************************

function CreateCameras takes nothing returns nothing

    set gg_cam_ArchimondeBirth01 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_ArchimondeBirth01, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_ArchimondeBirth01, CAMERA_FIELD_ROTATION, 287.1, 0.0 )
    call CameraSetupSetField( gg_cam_ArchimondeBirth01, CAMERA_FIELD_ANGLE_OF_ATTACK, 332.5, 0.0 )
    call CameraSetupSetField( gg_cam_ArchimondeBirth01, CAMERA_FIELD_TARGET_DISTANCE, 1102.5, 0.0 )
    call CameraSetupSetField( gg_cam_ArchimondeBirth01, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_ArchimondeBirth01, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_ArchimondeBirth01, CAMERA_FIELD_FARZ, 5829.7, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_ArchimondeBirth01, -466.1, -4423.0, 0.0 )

    set gg_cam_Opening01 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Opening01, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Opening01, CAMERA_FIELD_ROTATION, 298.6, 0.0 )
    call CameraSetupSetField( gg_cam_Opening01, CAMERA_FIELD_ANGLE_OF_ATTACK, 335.3, 0.0 )
    call CameraSetupSetField( gg_cam_Opening01, CAMERA_FIELD_TARGET_DISTANCE, 2155.5, 0.0 )
    call CameraSetupSetField( gg_cam_Opening01, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Opening01, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Opening01, CAMERA_FIELD_FARZ, 7635.7, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Opening01, -1260.0, -3724.2, 0.0 )

    set gg_cam_Opening02 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Opening02, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Opening02, CAMERA_FIELD_ROTATION, 286.4, 0.0 )
    call CameraSetupSetField( gg_cam_Opening02, CAMERA_FIELD_ANGLE_OF_ATTACK, 347.3, 0.0 )
    call CameraSetupSetField( gg_cam_Opening02, CAMERA_FIELD_TARGET_DISTANCE, 1544.7, 0.0 )
    call CameraSetupSetField( gg_cam_Opening02, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Opening02, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Opening02, CAMERA_FIELD_FARZ, 7635.7, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Opening02, -588.9, -3754.2, 0.0 )

    set gg_cam_Opening03 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Opening03, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Opening03, CAMERA_FIELD_ROTATION, 297.8, 0.0 )
    call CameraSetupSetField( gg_cam_Opening03, CAMERA_FIELD_ANGLE_OF_ATTACK, 325.9, 0.0 )
    call CameraSetupSetField( gg_cam_Opening03, CAMERA_FIELD_TARGET_DISTANCE, 1189.5, 0.0 )
    call CameraSetupSetField( gg_cam_Opening03, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Opening03, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Opening03, CAMERA_FIELD_FARZ, 7635.7, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Opening03, -1029.9, -4517.6, 0.0 )

    set gg_cam_OpeningArchmage01 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_OpeningArchmage01, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_OpeningArchmage01, CAMERA_FIELD_ROTATION, 89.4, 0.0 )
    call CameraSetupSetField( gg_cam_OpeningArchmage01, CAMERA_FIELD_ANGLE_OF_ATTACK, 316.4, 0.0 )
    call CameraSetupSetField( gg_cam_OpeningArchmage01, CAMERA_FIELD_TARGET_DISTANCE, 1193.7, 0.0 )
    call CameraSetupSetField( gg_cam_OpeningArchmage01, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_OpeningArchmage01, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_OpeningArchmage01, CAMERA_FIELD_FARZ, 7635.7, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_OpeningArchmage01, -4476.6, 962.5, 0.0 )

    set gg_cam_OpeningGryphons01 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_OpeningGryphons01, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_OpeningGryphons01, CAMERA_FIELD_ROTATION, 257.6, 0.0 )
    call CameraSetupSetField( gg_cam_OpeningGryphons01, CAMERA_FIELD_ANGLE_OF_ATTACK, 303.7, 0.0 )
    call CameraSetupSetField( gg_cam_OpeningGryphons01, CAMERA_FIELD_TARGET_DISTANCE, 1000.2, 0.0 )
    call CameraSetupSetField( gg_cam_OpeningGryphons01, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_OpeningGryphons01, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_OpeningGryphons01, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_OpeningGryphons01, 3668.2, 2041.8, 0.0 )

    set gg_cam_OpeningGryphons02 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_OpeningGryphons02, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_OpeningGryphons02, CAMERA_FIELD_ROTATION, 258.0, 0.0 )
    call CameraSetupSetField( gg_cam_OpeningGryphons02, CAMERA_FIELD_ANGLE_OF_ATTACK, 332.0, 0.0 )
    call CameraSetupSetField( gg_cam_OpeningGryphons02, CAMERA_FIELD_TARGET_DISTANCE, 1590.7, 0.0 )
    call CameraSetupSetField( gg_cam_OpeningGryphons02, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_OpeningGryphons02, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_OpeningGryphons02, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_OpeningGryphons02, 3287.6, 1728.6, 0.0 )

    set gg_cam_OpeningArchmage02 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_OpeningArchmage02, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_OpeningArchmage02, CAMERA_FIELD_ROTATION, 88.7, 0.0 )
    call CameraSetupSetField( gg_cam_OpeningArchmage02, CAMERA_FIELD_ANGLE_OF_ATTACK, 331.3, 0.0 )
    call CameraSetupSetField( gg_cam_OpeningArchmage02, CAMERA_FIELD_TARGET_DISTANCE, 1724.7, 0.0 )
    call CameraSetupSetField( gg_cam_OpeningArchmage02, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_OpeningArchmage02, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_OpeningArchmage02, CAMERA_FIELD_FARZ, 7635.7, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_OpeningArchmage02, -4448.9, 391.1, 0.0 )

    set gg_cam_ArchimondeBirth02 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_ArchimondeBirth02, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_ArchimondeBirth02, CAMERA_FIELD_ROTATION, 252.0, 0.0 )
    call CameraSetupSetField( gg_cam_ArchimondeBirth02, CAMERA_FIELD_ANGLE_OF_ATTACK, 327.1, 0.0 )
    call CameraSetupSetField( gg_cam_ArchimondeBirth02, CAMERA_FIELD_TARGET_DISTANCE, 850.0, 0.0 )
    call CameraSetupSetField( gg_cam_ArchimondeBirth02, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_ArchimondeBirth02, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_ArchimondeBirth02, CAMERA_FIELD_FARZ, 5829.7, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_ArchimondeBirth02, -532.0, -4367.8, 0.0 )

    set gg_cam_Lich = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Lich, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Lich, CAMERA_FIELD_ROTATION, 156.8, 0.0 )
    call CameraSetupSetField( gg_cam_Lich, CAMERA_FIELD_ANGLE_OF_ATTACK, 314.9, 0.0 )
    call CameraSetupSetField( gg_cam_Lich, CAMERA_FIELD_TARGET_DISTANCE, 1103.0, 0.0 )
    call CameraSetupSetField( gg_cam_Lich, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Lich, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Lich, CAMERA_FIELD_FARZ, 7635.7, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Lich, -1073.8, -4861.6, 0.0 )

    set gg_cam_DreadLord = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_DreadLord, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_DreadLord, CAMERA_FIELD_ROTATION, 98.9, 0.0 )
    call CameraSetupSetField( gg_cam_DreadLord, CAMERA_FIELD_ANGLE_OF_ATTACK, 332.5, 0.0 )
    call CameraSetupSetField( gg_cam_DreadLord, CAMERA_FIELD_TARGET_DISTANCE, 612.2, 0.0 )
    call CameraSetupSetField( gg_cam_DreadLord, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_DreadLord, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_DreadLord, CAMERA_FIELD_FARZ, 7635.7, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_DreadLord, -1003.4, -4597.2, 0.0 )

    set gg_cam_Summoning01 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Summoning01, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Summoning01, CAMERA_FIELD_ROTATION, 242.0, 0.0 )
    call CameraSetupSetField( gg_cam_Summoning01, CAMERA_FIELD_ANGLE_OF_ATTACK, 331.0, 0.0 )
    call CameraSetupSetField( gg_cam_Summoning01, CAMERA_FIELD_TARGET_DISTANCE, 995.1, 0.0 )
    call CameraSetupSetField( gg_cam_Summoning01, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Summoning01, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Summoning01, CAMERA_FIELD_FARZ, 7635.7, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Summoning01, -963.7, -4715.7, 0.0 )

    set gg_cam_Summoning02 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Summoning02, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Summoning02, CAMERA_FIELD_ROTATION, 269.7, 0.0 )
    call CameraSetupSetField( gg_cam_Summoning02, CAMERA_FIELD_ANGLE_OF_ATTACK, 319.0, 0.0 )
    call CameraSetupSetField( gg_cam_Summoning02, CAMERA_FIELD_TARGET_DISTANCE, 995.1, 0.0 )
    call CameraSetupSetField( gg_cam_Summoning02, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Summoning02, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Summoning02, CAMERA_FIELD_FARZ, 7635.7, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Summoning02, -539.2, -4282.4, 0.0 )

    set gg_cam_Lich02 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_Lich02, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Lich02, CAMERA_FIELD_ROTATION, 158.9, 0.0 )
    call CameraSetupSetField( gg_cam_Lich02, CAMERA_FIELD_ANGLE_OF_ATTACK, 328.1, 0.0 )
    call CameraSetupSetField( gg_cam_Lich02, CAMERA_FIELD_TARGET_DISTANCE, 1103.0, 0.0 )
    call CameraSetupSetField( gg_cam_Lich02, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_Lich02, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_Lich02, CAMERA_FIELD_FARZ, 7635.7, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_Lich02, -1073.8, -4861.6, 0.0 )

    set gg_cam_ArchimondeSpeaks = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_ArchimondeSpeaks, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_ArchimondeSpeaks, CAMERA_FIELD_ROTATION, 21.6, 0.0 )
    call CameraSetupSetField( gg_cam_ArchimondeSpeaks, CAMERA_FIELD_ANGLE_OF_ATTACK, 339.0, 0.0 )
    call CameraSetupSetField( gg_cam_ArchimondeSpeaks, CAMERA_FIELD_TARGET_DISTANCE, 982.6, 0.0 )
    call CameraSetupSetField( gg_cam_ArchimondeSpeaks, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_ArchimondeSpeaks, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_ArchimondeSpeaks, CAMERA_FIELD_FARZ, 5829.7, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_ArchimondeSpeaks, -765.6, -4627.4, 0.0 )

    set gg_cam_AboveArchimonde = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_AboveArchimonde, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_AboveArchimonde, CAMERA_FIELD_ROTATION, 208.0, 0.0 )
    call CameraSetupSetField( gg_cam_AboveArchimonde, CAMERA_FIELD_ANGLE_OF_ATTACK, 318.8, 0.0 )
    call CameraSetupSetField( gg_cam_AboveArchimonde, CAMERA_FIELD_TARGET_DISTANCE, 1103.5, 0.0 )
    call CameraSetupSetField( gg_cam_AboveArchimonde, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_AboveArchimonde, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_AboveArchimonde, CAMERA_FIELD_FARZ, 5829.7, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_AboveArchimonde, -781.3, -4460.5, 0.0 )

    set gg_cam_ArthasJoke = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_ArthasJoke, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_ArthasJoke, CAMERA_FIELD_ROTATION, 164.3, 0.0 )
    call CameraSetupSetField( gg_cam_ArthasJoke, CAMERA_FIELD_ANGLE_OF_ATTACK, 329.4, 0.0 )
    call CameraSetupSetField( gg_cam_ArthasJoke, CAMERA_FIELD_TARGET_DISTANCE, 904.8, 0.0 )
    call CameraSetupSetField( gg_cam_ArthasJoke, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_ArthasJoke, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_ArthasJoke, CAMERA_FIELD_FARZ, 5829.7, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_ArthasJoke, -921.1, -4697.2, 0.0 )

    set gg_cam_KelEnding01 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_KelEnding01, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_KelEnding01, CAMERA_FIELD_ROTATION, 353.4, 0.0 )
    call CameraSetupSetField( gg_cam_KelEnding01, CAMERA_FIELD_ANGLE_OF_ATTACK, 327.6, 0.0 )
    call CameraSetupSetField( gg_cam_KelEnding01, CAMERA_FIELD_TARGET_DISTANCE, 936.6, 0.0 )
    call CameraSetupSetField( gg_cam_KelEnding01, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_KelEnding01, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_KelEnding01, CAMERA_FIELD_FARZ, 5829.7, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_KelEnding01, -886.9, -4946.4, 0.0 )

    set gg_cam_KelEnding02 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_KelEnding02, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_KelEnding02, CAMERA_FIELD_ROTATION, 353.3, 0.0 )
    call CameraSetupSetField( gg_cam_KelEnding02, CAMERA_FIELD_ANGLE_OF_ATTACK, 334.3, 0.0 )
    call CameraSetupSetField( gg_cam_KelEnding02, CAMERA_FIELD_TARGET_DISTANCE, 697.9, 0.0 )
    call CameraSetupSetField( gg_cam_KelEnding02, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_KelEnding02, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_KelEnding02, CAMERA_FIELD_FARZ, 5829.7, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_KelEnding02, -886.9, -4946.4, 0.0 )

    set gg_cam_TichondriusUpClose = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_TichondriusUpClose, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_TichondriusUpClose, CAMERA_FIELD_ROTATION, 194.9, 0.0 )
    call CameraSetupSetField( gg_cam_TichondriusUpClose, CAMERA_FIELD_ANGLE_OF_ATTACK, 319.4, 0.0 )
    call CameraSetupSetField( gg_cam_TichondriusUpClose, CAMERA_FIELD_TARGET_DISTANCE, 634.7, 0.0 )
    call CameraSetupSetField( gg_cam_TichondriusUpClose, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_TichondriusUpClose, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_TichondriusUpClose, CAMERA_FIELD_FARZ, 5829.7, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_TichondriusUpClose, -987.8, -4510.0, 0.0 )

    set gg_cam_VeryWell = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_VeryWell, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_VeryWell, CAMERA_FIELD_ROTATION, 12.6, 0.0 )
    call CameraSetupSetField( gg_cam_VeryWell, CAMERA_FIELD_ANGLE_OF_ATTACK, 350.2, 0.0 )
    call CameraSetupSetField( gg_cam_VeryWell, CAMERA_FIELD_TARGET_DISTANCE, 982.6, 0.0 )
    call CameraSetupSetField( gg_cam_VeryWell, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_VeryWell, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_VeryWell, CAMERA_FIELD_FARZ, 5829.7, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_VeryWell, -590.4, -4470.9, 0.0 )

endfunction

//***************************************************************************
//*
//*  Triggers
//*
//***************************************************************************

//===========================================================================
// Trigger: Melee Initialization
//
// Default melee game initialization for all players
//===========================================================================
function Trig_Melee_Initialization_Actions takes nothing returns nothing
    call SetCampaignMenuRaceBJ( bj_CAMPAIGN_INDEX_U )
    call CommentString( "***********************" )
    call SetTimeOfDay( 6.01 )
    call CommentString( "***********************" )
    call SetSkyModel( "Environment\\Sky\\DalaranSky\\DalaranSky.mdl" )
    call ConditionalTriggerExecute( gg_trg_Load_Heroes )
    call ConditionalTriggerExecute( gg_trg_Setup_PlayerResources )
    call ConditionalTriggerExecute( gg_trg_Setup_Allies )
    call ConditionalTriggerExecute( gg_trg_Setup_Fire )
    call ConditionalTriggerExecute( gg_trg_Setup_CinematicUnits )
    call ConditionalTriggerExecute( gg_trg_Setup_Doors )
    call ConditionalTriggerExecute( gg_trg_Setup_SummoningCircle )
    call ConditionalTriggerExecute( gg_trg_Opening01 )
    call ConditionalTriggerExecute( gg_trg_Setup_Vision )
    call ConditionalTriggerExecute( gg_trg_Setup_Quests )
    call ConditionalTriggerExecute( gg_trg_SetupCinematicPlayer )
    call CommentString( "Difficulty" )
    call SetPlayerHandicapXPBJ( Player(3), 35.00 )
    call ConditionalTriggerExecute( gg_trg_Difficulty_Easy )
    call ConditionalTriggerExecute( gg_trg_Difficulty_Normal )
    call ConditionalTriggerExecute( gg_trg_Difficulty_Hard )
    call CommentString( "***********************" )
endfunction

//===========================================================================
function InitTrig_Melee_Initialization takes nothing returns nothing
    set gg_trg_Melee_Initialization = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Melee_Initialization, function Trig_Melee_Initialization_Actions )
endfunction

//===========================================================================
// Trigger: Difficulty Easy
//===========================================================================
function Trig_Difficulty_Easy_Conditions takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_EASY ) ) then
        return false
    endif
    return true
endfunction

function Trig_Difficulty_Easy_Actions takes nothing returns nothing
    call CommentString( "Rush Timer" )
    call PauseTimerBJ( true, udg_TimerRushHard )
    call DisableTrigger( gg_trg_TimerRushHard )
    call CommentString( "Handicap" )
    call SetPlayerHandicapBJ( Player(0), bj_HANDICAP_EASY )
    call SetPlayerHandicapBJ( Player(1), bj_HANDICAP_EASY )
    call SetPlayerHandicapBJ( Player(2), bj_HANDICAP_EASY )
    call SetPlayerHandicapBJ( Player(7), bj_HANDICAP_EASY )
    call SetPlayerHandicapBJ( Player(PLAYER_NEUTRAL_AGGRESSIVE), bj_HANDICAP_EASY )
    call CommentString( "From Normal" )
    call CommentString( "Blue" )
    call SetHeroLevel( gg_unit_Hamg_0201, 5, false )
    call SuspendHeroXPBJ( false, gg_unit_Hamg_0201 )
    call SelectHeroSkill( gg_unit_Hamg_0201, 'AHbz' )
    call SelectHeroSkill( gg_unit_Hamg_0201, 'AHbz' )
    call SelectHeroSkill( gg_unit_Hamg_0201, 'AHab' )
    call SelectHeroSkill( gg_unit_Hamg_0201, 'AHwe' )
    call SelectHeroSkill( gg_unit_Hamg_0201, 'AHwe' )
    call CommentString( "Red" )
    call SetHeroLevel( gg_unit_Hamg_0200, 4, false )
    call SuspendHeroXPBJ( false, gg_unit_Hamg_0200 )
    call SelectHeroSkill( gg_unit_Hamg_0200, 'AHbz' )
    call SelectHeroSkill( gg_unit_Hamg_0200, 'AHbz' )
    call SelectHeroSkill( gg_unit_Hamg_0200, 'AHwe' )
    call SelectHeroSkill( gg_unit_Hamg_0200, 'AHwe' )
    call CommentString( "Teal" )
    call SetHeroLevel( gg_unit_Hamg_0202, 3, false )
    call SuspendHeroXPBJ( false, gg_unit_Hamg_0202 )
    call SelectHeroSkill( gg_unit_Hamg_0202, 'AHab' )
    call SelectHeroSkill( gg_unit_Hamg_0202, 'AHwe' )
    call SelectHeroSkill( gg_unit_Hamg_0202, 'AHwe' )
endfunction

//===========================================================================
function InitTrig_Difficulty_Easy takes nothing returns nothing
    set gg_trg_Difficulty_Easy = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Difficulty_Easy, Condition( function Trig_Difficulty_Easy_Conditions ) )
    call TriggerAddAction( gg_trg_Difficulty_Easy, function Trig_Difficulty_Easy_Actions )
endfunction

//===========================================================================
// Trigger: Difficulty Normal
//===========================================================================
function Trig_Difficulty_Normal_Conditions takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_NORMAL ) ) then
        return false
    endif
    return true
endfunction

function Trig_Difficulty_Normal_Actions takes nothing returns nothing
    call CommentString( "Rush Timer" )
    call PauseTimerBJ( true, udg_TimerRushHard )
    call DisableTrigger( gg_trg_TimerRushHard )
    call CommentString( "Blue" )
    call SetHeroLevel( gg_unit_Hamg_0201, 5, false )
    call SuspendHeroXPBJ( false, gg_unit_Hamg_0201 )
    call SelectHeroSkill( gg_unit_Hamg_0201, 'AHbz' )
    call SelectHeroSkill( gg_unit_Hamg_0201, 'AHbz' )
    call SelectHeroSkill( gg_unit_Hamg_0201, 'AHab' )
    call SelectHeroSkill( gg_unit_Hamg_0201, 'AHwe' )
    call SelectHeroSkill( gg_unit_Hamg_0201, 'AHwe' )
    call CommentString( "Red" )
    call SetHeroLevel( gg_unit_Hamg_0200, 4, false )
    call SuspendHeroXPBJ( false, gg_unit_Hamg_0200 )
    call SelectHeroSkill( gg_unit_Hamg_0200, 'AHbz' )
    call SelectHeroSkill( gg_unit_Hamg_0200, 'AHbz' )
    call SelectHeroSkill( gg_unit_Hamg_0200, 'AHwe' )
    call SelectHeroSkill( gg_unit_Hamg_0200, 'AHwe' )
    call CommentString( "Teal" )
    call SetHeroLevel( gg_unit_Hamg_0202, 3, false )
    call SuspendHeroXPBJ( false, gg_unit_Hamg_0202 )
    call SelectHeroSkill( gg_unit_Hamg_0202, 'AHab' )
    call SelectHeroSkill( gg_unit_Hamg_0202, 'AHwe' )
    call SelectHeroSkill( gg_unit_Hamg_0202, 'AHwe' )
endfunction

//===========================================================================
function InitTrig_Difficulty_Normal takes nothing returns nothing
    set gg_trg_Difficulty_Normal = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Difficulty_Normal, Condition( function Trig_Difficulty_Normal_Conditions ) )
    call TriggerAddAction( gg_trg_Difficulty_Normal, function Trig_Difficulty_Normal_Actions )
endfunction

//===========================================================================
// Trigger: Difficulty Hard
//===========================================================================
function Trig_Difficulty_Hard_Conditions takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_HARD ) ) then
        return false
    endif
    return true
endfunction

function Trig_Difficulty_Hard_Actions takes nothing returns nothing
    call CommentString( "Rush Timer" )
    call PauseTimerBJ( true, udg_TimerRushNormal )
    call DisableTrigger( gg_trg_TimerRushNormal )
    call CommentString( "Blue" )
    call SetHeroLevel( gg_unit_Hamg_0201, 9, false )
    call SuspendHeroXPBJ( false, gg_unit_Hamg_0201 )
    call SelectHeroSkill( gg_unit_Hamg_0201, 'AHbz' )
    call SelectHeroSkill( gg_unit_Hamg_0201, 'AHbz' )
    call SelectHeroSkill( gg_unit_Hamg_0201, 'AHbz' )
    call SelectHeroSkill( gg_unit_Hamg_0201, 'AHab' )
    call SelectHeroSkill( gg_unit_Hamg_0201, 'AHab' )
    call SelectHeroSkill( gg_unit_Hamg_0201, 'AHab' )
    call SelectHeroSkill( gg_unit_Hamg_0201, 'AHwe' )
    call SelectHeroSkill( gg_unit_Hamg_0201, 'AHwe' )
    call SelectHeroSkill( gg_unit_Hamg_0201, 'AHwe' )
    call CommentString( "Red" )
    call SetHeroLevel( gg_unit_Hamg_0200, 8, false )
    call SuspendHeroXPBJ( false, gg_unit_Hamg_0200 )
    call SelectHeroSkill( gg_unit_Hamg_0200, 'AHbz' )
    call SelectHeroSkill( gg_unit_Hamg_0200, 'AHbz' )
    call SelectHeroSkill( gg_unit_Hamg_0200, 'AHbz' )
    call SelectHeroSkill( gg_unit_Hamg_0200, 'AHab' )
    call SelectHeroSkill( gg_unit_Hamg_0200, 'AHab' )
    call SelectHeroSkill( gg_unit_Hamg_0200, 'AHab' )
    call SelectHeroSkill( gg_unit_Hamg_0200, 'AHwe' )
    call SelectHeroSkill( gg_unit_Hamg_0200, 'AHwe' )
    call CommentString( "Teal" )
    call SetHeroLevel( gg_unit_Hamg_0202, 7, false )
    call SuspendHeroXPBJ( false, gg_unit_Hamg_0202 )
    call SelectHeroSkill( gg_unit_Hamg_0202, 'AHbz' )
    call SelectHeroSkill( gg_unit_Hamg_0202, 'AHab' )
    call SelectHeroSkill( gg_unit_Hamg_0202, 'AHab' )
    call SelectHeroSkill( gg_unit_Hamg_0202, 'AHab' )
    call SelectHeroSkill( gg_unit_Hamg_0202, 'AHwe' )
    call SelectHeroSkill( gg_unit_Hamg_0202, 'AHwe' )
    call SelectHeroSkill( gg_unit_Hamg_0202, 'AHwe' )
endfunction

//===========================================================================
function InitTrig_Difficulty_Hard takes nothing returns nothing
    set gg_trg_Difficulty_Hard = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Difficulty_Hard, Condition( function Trig_Difficulty_Hard_Conditions ) )
    call TriggerAddAction( gg_trg_Difficulty_Hard, function Trig_Difficulty_Hard_Actions )
endfunction

//===========================================================================
// Trigger: Start Campaign AI
//
// Run from 'Opening04' and 'OpeningCancelled'
//===========================================================================
function Trig_Start_Campaign_AI_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call StartCampaignAI( Player(0), "u08_red.ai" )
    call StartCampaignAI( Player(1), "u08_blue.ai" )
    call StartCampaignAI( Player(2), "u08_teal.ai" )
    call CommentString( "Send Signal" )
    call CommandAI( Player(0), 0, 0 )
    call CommandAI( Player(1), 0, 0 )
    call CommandAI( Player(2), 0, 0 )
endfunction

//===========================================================================
function InitTrig_Start_Campaign_AI takes nothing returns nothing
    set gg_trg_Start_Campaign_AI = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Start_Campaign_AI, function Trig_Start_Campaign_AI_Actions )
endfunction

//===========================================================================
// Trigger: Setup ComputerPlayers
//
// Run after the opening cinematic
//===========================================================================
function Trig_Setup_ComputerPlayers_Actions takes nothing returns nothing
    call CommentString( "Blue" )
    call SetPlayerStateBJ( Player(1), PLAYER_STATE_RESOURCE_GOLD, 2000 )
    call SetPlayerStateBJ( Player(1), PLAYER_STATE_RESOURCE_LUMBER, 1500 )
    call SetPlayerColorBJ( Player(1), PLAYER_COLOR_LIGHT_GRAY, true )
    call CommentString( "Red" )
    call SetPlayerStateBJ( Player(0), PLAYER_STATE_RESOURCE_GOLD, 2000 )
    call SetPlayerStateBJ( Player(0), PLAYER_STATE_RESOURCE_LUMBER, 1500 )
    call SetPlayerColorBJ( Player(0), PLAYER_COLOR_BLUE, true )
    call CommentString( "Teal" )
    call SetPlayerStateBJ( Player(2), PLAYER_STATE_RESOURCE_GOLD, 2000 )
    call SetPlayerStateBJ( Player(2), PLAYER_STATE_RESOURCE_LUMBER, 1500 )
    call SetPlayerColorBJ( Player(2), PLAYER_COLOR_LIGHT_BLUE, true )
    call CommentString( "Computers against Kel'Thuzad" )
    call SetPlayerAllianceStateBJ( Player(0), Player(6), bj_ALLIANCE_UNALLIED )
    call SetPlayerAllianceStateBJ( Player(1), Player(6), bj_ALLIANCE_UNALLIED )
    call SetPlayerAllianceStateBJ( Player(2), Player(6), bj_ALLIANCE_UNALLIED )
    call CommentString( "***********************" )
endfunction

//===========================================================================
function InitTrig_Setup_ComputerPlayers takes nothing returns nothing
    set gg_trg_Setup_ComputerPlayers = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Setup_ComputerPlayers, function Trig_Setup_ComputerPlayers_Actions )
endfunction

//===========================================================================
// Trigger: SetupCinematicPlayer
//===========================================================================
function Trig_SetupCinematicPlayer_Actions takes nothing returns nothing
    call CommentString( "Pre-placed non-AI player" )
    call SetPlayerColorBJ( Player(7), PLAYER_COLOR_LIGHT_GRAY, true )
    call CommentString( "Cinematic Shared Vision" )
    call SetPlayerAllianceStateBJ( Player(7), Player(3), bj_ALLIANCE_ALLIED_VISION )
    call CommentString( "Tichondrius Grey = Red" )
    call SetPlayerColorBJ( Player(8), PLAYER_COLOR_RED, true )
    call SetPlayerOnScoreScreenBJ( false, Player(6) )
    call SetPlayerOnScoreScreenBJ( false, Player(7) )
endfunction

//===========================================================================
function InitTrig_SetupCinematicPlayer takes nothing returns nothing
    set gg_trg_SetupCinematicPlayer = CreateTrigger(  )
    call TriggerAddAction( gg_trg_SetupCinematicPlayer, function Trig_SetupCinematicPlayer_Actions )
endfunction

//===========================================================================
// Trigger: Setup PlayerResources
//===========================================================================
function Trig_Setup_PlayerResources_Actions takes nothing returns nothing
    call SetPlayerStateBJ( Player(3), PLAYER_STATE_RESOURCE_LUMBER, 550 )
    call SetPlayerStateBJ( Player(3), PLAYER_STATE_RESOURCE_GOLD, 1800 )
endfunction

//===========================================================================
function InitTrig_Setup_PlayerResources takes nothing returns nothing
    set gg_trg_Setup_PlayerResources = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Setup_PlayerResources, function Trig_Setup_PlayerResources_Actions )
endfunction

//===========================================================================
// Trigger: Setup Allies
//===========================================================================
function Trig_Setup_Allies_Actions takes nothing returns nothing
    call SetPlayerAllianceStateBJ( Player(3), Player(6), bj_ALLIANCE_ALLIED_VISION )
    call SetPlayerAllianceStateBJ( Player(6), Player(3), bj_ALLIANCE_ALLIED_VISION )
endfunction

//===========================================================================
function InitTrig_Setup_Allies takes nothing returns nothing
    set gg_trg_Setup_Allies = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Setup_Allies, function Trig_Setup_Allies_Actions )
endfunction

//===========================================================================
// Trigger: Setup CinematicUnits
//===========================================================================
function Trig_Setup_CinematicUnits_Func001002 takes nothing returns nothing
    call GroupAddUnitSimple( GetEnumUnit(), udg_CinematicUnitGroup )
endfunction

function Trig_Setup_CinematicUnits_Func002002 takes nothing returns nothing
    call GroupAddUnitSimple( GetEnumUnit(), udg_CinematicUnitGroup )
endfunction

function Trig_Setup_CinematicUnits_Func003002 takes nothing returns nothing
    call GroupAddUnitSimple( GetEnumUnit(), udg_CinematicUnitGroup )
endfunction

function Trig_Setup_CinematicUnits_Actions takes nothing returns nothing
    call ForGroup( GetUnitsInRectAll(gg_rct_ArchmageArea01), function Trig_Setup_CinematicUnits_Func001002 )
    call ForGroup( GetUnitsInRectAll(gg_rct_ArchmageArea02), function Trig_Setup_CinematicUnits_Func002002 )
    call ForGroup( GetUnitsInRectAll(gg_rct_GryphonArea), function Trig_Setup_CinematicUnits_Func003002 )
endfunction

//===========================================================================
function InitTrig_Setup_CinematicUnits takes nothing returns nothing
    set gg_trg_Setup_CinematicUnits = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Setup_CinematicUnits, function Trig_Setup_CinematicUnits_Actions )
endfunction

//===========================================================================
// Trigger: Setup Fire
//===========================================================================
function Trig_Setup_Fire_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.10 )
    call SetDoodadAnimationRectBJ( "death", 'YOtf', GetPlayableMapRect() )
    call SetDoodadAnimationRectBJ( "death", 'YOf2', GetPlayableMapRect() )
endfunction

//===========================================================================
function InitTrig_Setup_Fire takes nothing returns nothing
    set gg_trg_Setup_Fire = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Setup_Fire, function Trig_Setup_Fire_Actions )
endfunction

//===========================================================================
// Trigger: Setup Doors
//===========================================================================
function Trig_Setup_Doors_Actions takes nothing returns nothing
    call ModifyGateBJ( bj_GATEOPERATION_OPEN, gg_dest_LTg4_0073 )
    call ModifyGateBJ( bj_GATEOPERATION_OPEN, gg_dest_LTg4_0263 )
endfunction

//===========================================================================
function InitTrig_Setup_Doors takes nothing returns nothing
    set gg_trg_Setup_Doors = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Setup_Doors, function Trig_Setup_Doors_Actions )
endfunction

//===========================================================================
// Trigger: Setup SummoningCircle
//===========================================================================
function Trig_Setup_SummoningCircle_Actions takes nothing returns nothing
    call AddSpecialEffectLocBJ( GetRectCenter(gg_rct_KelThuzadPost), "Abilities\\Spells\\Undead\\VampiricAura\\VampiricAura.mdl" )
    set udg_VampiricAura = GetLastCreatedEffectBJ()
endfunction

//===========================================================================
function InitTrig_Setup_SummoningCircle takes nothing returns nothing
    set gg_trg_Setup_SummoningCircle = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Setup_SummoningCircle, function Trig_Setup_SummoningCircle_Actions )
endfunction

//===========================================================================
// Trigger: Setup Timers
//
// Run from 'Opening02' and OpeningCancelled'
//===========================================================================
function Trig_Setup_Timers_Actions takes nothing returns nothing
    call CommentString( "HellHounds 5 min" )
    call StartTimerBJ( udg_TimerHellHound01, false, 300.00 )
    set udg_TimerHellHound01 = GetLastCreatedTimerBJ()
    call CommentString( "HellHounds 10 min" )
    call StartTimerBJ( udg_TimerHellHound02, false, 600.00 )
    set udg_TimerHellHound02 = GetLastCreatedTimerBJ()
    call CommentString( "HellHounds 15 min" )
    call StartTimerBJ( udg_TimerHellHound03, false, 900.00 )
    set udg_TimerHellHound03 = GetLastCreatedTimerBJ()
    call CommentString( "Infernals 20 min" )
    call StartTimerBJ( udg_TimerInfernals, false, 1200.00 )
    set udg_TimerInfernals = GetLastCreatedTimerBJ()
    call CommentString( "Rush Timer NORMAL" )
    call StartTimerBJ( udg_TimerRushNormal, false, 1710.00 )
    set udg_TimerRushNormal = GetLastCreatedTimerBJ()
    call CommentString( "Rush Timer HARD" )
    call StartTimerBJ( udg_TimerRushHard, false, 1700.00 )
    set udg_TimerRushHard = GetLastCreatedTimerBJ()
    call CommentString( "Side quest" )
    call StartTimerBJ( udg_TimerSideQuest, false, 30.00 )
    set udg_TimerSideQuest = GetLastCreatedTimerBJ()
    call CommentString( "Summoning timer" )
    call StartTimerBJ( udg_TimerSummoning, false, 1800.00 )
    set udg_TimerSummoning = GetLastCreatedTimerBJ()
    call CreateTimerDialogBJ( udg_TimerSummoning, "TRIGSTR_057" )
    set udg_CountdownTimerWindow = GetLastCreatedTimerDialogBJ()
endfunction

//===========================================================================
function InitTrig_Setup_Timers takes nothing returns nothing
    set gg_trg_Setup_Timers = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Setup_Timers, function Trig_Setup_Timers_Actions )
endfunction

//===========================================================================
// Trigger: Setup Vision
//===========================================================================
function Trig_Setup_Vision_Actions takes nothing returns nothing
    call CreateFogModifierRadiusLocBJ( true, Player(3), FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_TempleVision), 1200.00 )
endfunction

//===========================================================================
function InitTrig_Setup_Vision takes nothing returns nothing
    set gg_trg_Setup_Vision = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Setup_Vision, function Trig_Setup_Vision_Actions )
endfunction

//===========================================================================
// Trigger: Setup Quests
//===========================================================================
function Trig_Setup_Quests_Actions takes nothing returns nothing
    call CommentString( "Main Quest" )
    call CreateQuestBJ( bj_QUESTTYPE_REQ_UNDISCOVERED, "TRIGSTR_007", "TRIGSTR_008", "ReplaceableTextures\\CommandButtons\\BTNHerolich.tga" )
    set udg_QuestSummoning = GetLastCreatedQuestBJ()
    call CommentString( "Main Quest Requirement" )
    call CreateQuestItemBJ( udg_QuestSummoning, "TRIGSTR_025" )
    set udg_QuestSummoningReq = udg_QuestSummoningReq
    call CommentString( "Side Quest" )
    call CreateQuestBJ( bj_QUESTTYPE_OPT_UNDISCOVERED, "TRIGSTR_028", "TRIGSTR_029", "ReplaceableTextures\\CommandButtons\\BTNGoblinLandMine.tga" )
    set udg_QuestGoblinMine = GetLastCreatedQuestBJ()
    call CommentString( "Side Quest Requirement" )
    call CreateQuestItemBJ( udg_QuestGoblinMine, "TRIGSTR_027" )
    set udg_QuestGoblinMineReq = GetLastCreatedQuestItemBJ()
endfunction

//===========================================================================
function InitTrig_Setup_Quests takes nothing returns nothing
    set gg_trg_Setup_Quests = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Setup_Quests, function Trig_Setup_Quests_Actions )
endfunction

//===========================================================================
// Trigger: TimerRushNormal
//===========================================================================
function Trig_TimerRushNormal_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_TimerRushNormal_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommandAI( Player(0), 0, 0 )
    call CommandAI( Player(1), 0, 0 )
    call CommandAI( Player(2), 0, 0 )
    call EnableTrigger( gg_trg_Arthas02 )
endfunction

//===========================================================================
function InitTrig_TimerRushNormal takes nothing returns nothing
    set gg_trg_TimerRushNormal = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_TimerRushNormal, udg_TimerRushNormal )
    call TriggerAddCondition( gg_trg_TimerRushNormal, Condition( function Trig_TimerRushNormal_Conditions ) )
    call TriggerAddAction( gg_trg_TimerRushNormal, function Trig_TimerRushNormal_Actions )
endfunction

//===========================================================================
// Trigger: TimerRushHard
//===========================================================================
function Trig_TimerRushHard_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_TimerRushHard_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call CommandAI( Player(0), 0, 0 )
    call CommandAI( Player(1), 0, 0 )
    call CommandAI( Player(2), 0, 0 )
    call EnableTrigger( gg_trg_Arthas02 )
endfunction

//===========================================================================
function InitTrig_TimerRushHard takes nothing returns nothing
    set gg_trg_TimerRushHard = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_TimerRushHard, udg_TimerRushHard )
    call TriggerAddCondition( gg_trg_TimerRushHard, Condition( function Trig_TimerRushHard_Conditions ) )
    call TriggerAddAction( gg_trg_TimerRushHard, function Trig_TimerRushHard_Actions )
endfunction

//===========================================================================
// Trigger: TealGold
//===========================================================================
function Trig_TealGold_Actions takes nothing returns nothing
    call AdjustPlayerStateBJ( 1500, Player(2), PLAYER_STATE_RESOURCE_GOLD )
endfunction

//===========================================================================
function InitTrig_TealGold takes nothing returns nothing
    set gg_trg_TealGold = CreateTrigger(  )
    call TriggerRegisterPlayerStateEvent( gg_trg_TealGold, Player(2), PLAYER_STATE_RESOURCE_GOLD, LESS_THAN_OR_EQUAL, 1500.00 )
    call TriggerAddAction( gg_trg_TealGold, function Trig_TealGold_Actions )
endfunction

//===========================================================================
// Trigger: BlueGold
//===========================================================================
function Trig_BlueGold_Actions takes nothing returns nothing
    call AdjustPlayerStateBJ( 1500, Player(1), PLAYER_STATE_RESOURCE_GOLD )
endfunction

//===========================================================================
function InitTrig_BlueGold takes nothing returns nothing
    set gg_trg_BlueGold = CreateTrigger(  )
    call TriggerRegisterPlayerStateEvent( gg_trg_BlueGold, Player(1), PLAYER_STATE_RESOURCE_GOLD, LESS_THAN_OR_EQUAL, 1500.00 )
    call TriggerAddAction( gg_trg_BlueGold, function Trig_BlueGold_Actions )
endfunction

//===========================================================================
// Trigger: RedGold
//===========================================================================
function Trig_RedGold_Actions takes nothing returns nothing
    call AdjustPlayerStateBJ( 1500, Player(0), PLAYER_STATE_RESOURCE_GOLD )
endfunction

//===========================================================================
function InitTrig_RedGold takes nothing returns nothing
    set gg_trg_RedGold = CreateTrigger(  )
    call TriggerRegisterPlayerStateEvent( gg_trg_RedGold, Player(0), PLAYER_STATE_RESOURCE_GOLD, LESS_THAN_OR_EQUAL, 1500.00 )
    call TriggerAddAction( gg_trg_RedGold, function Trig_RedGold_Actions )
endfunction

//===========================================================================
// Trigger: TealLumber
//===========================================================================
function Trig_TealLumber_Actions takes nothing returns nothing
    call AdjustPlayerStateBJ( 1000, Player(2), PLAYER_STATE_RESOURCE_LUMBER )
endfunction

//===========================================================================
function InitTrig_TealLumber takes nothing returns nothing
    set gg_trg_TealLumber = CreateTrigger(  )
    call TriggerRegisterPlayerStateEvent( gg_trg_TealLumber, Player(2), PLAYER_STATE_RESOURCE_LUMBER, LESS_THAN_OR_EQUAL, 1000.00 )
    call TriggerAddAction( gg_trg_TealLumber, function Trig_TealLumber_Actions )
endfunction

//===========================================================================
// Trigger: BlueLumber
//===========================================================================
function Trig_BlueLumber_Actions takes nothing returns nothing
    call AdjustPlayerStateBJ( 1000, Player(1), PLAYER_STATE_RESOURCE_LUMBER )
endfunction

//===========================================================================
function InitTrig_BlueLumber takes nothing returns nothing
    set gg_trg_BlueLumber = CreateTrigger(  )
    call TriggerRegisterPlayerStateEvent( gg_trg_BlueLumber, Player(1), PLAYER_STATE_RESOURCE_LUMBER, LESS_THAN_OR_EQUAL, 1000.00 )
    call TriggerAddAction( gg_trg_BlueLumber, function Trig_BlueLumber_Actions )
endfunction

//===========================================================================
// Trigger: RedLumber
//===========================================================================
function Trig_RedLumber_Actions takes nothing returns nothing
    call AdjustPlayerStateBJ( 1000, Player(0), PLAYER_STATE_RESOURCE_LUMBER )
endfunction

//===========================================================================
function InitTrig_RedLumber takes nothing returns nothing
    set gg_trg_RedLumber = CreateTrigger(  )
    call TriggerRegisterPlayerStateEvent( gg_trg_RedLumber, Player(0), PLAYER_STATE_RESOURCE_LUMBER, LESS_THAN_OR_EQUAL, 1000.00 )
    call TriggerAddAction( gg_trg_RedLumber, function Trig_RedLumber_Actions )
endfunction

//===========================================================================
// Trigger: Load Heroes
//
// Run from Map Init
//===========================================================================
function Trig_Load_Heroes_Actions takes nothing returns nothing
    call InitGameCacheBJ( "Campaigns.w3v" )
    call ConditionalTriggerExecute( gg_trg_Load_Arthas )
    call ConditionalTriggerExecute( gg_trg_Load_KelThuzad )
endfunction

//===========================================================================
function InitTrig_Load_Heroes takes nothing returns nothing
    set gg_trg_Load_Heroes = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Load_Heroes, function Trig_Load_Heroes_Actions )
endfunction

//===========================================================================
// Trigger: Load Arthas
//===========================================================================
function Trig_Load_Arthas_Func004001 takes nothing returns boolean
    return ( udg_Arthas != null )
endfunction

function Trig_Load_Arthas_Actions takes nothing returns nothing
    call CommentString( "Load the hero data Arthas" )
    call RestoreUnitLocFacingAngleBJ( "Arthas", "Undead08", GetLastCreatedGameCacheBJ(), Player(3), GetRectCenter(gg_rct_ArthasStart), 90.00 )
    set udg_Arthas = GetLastRestoredUnitBJ()
    if ( Trig_Load_Arthas_Func004001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "If the hero data wasn't found, create a default hero" )
    call CreateNUnitsAtLoc( 1, 'Uear', Player(3), GetRectCenter(gg_rct_ArthasStart), 90.00 )
    set udg_Arthas = GetLastCreatedUnit()
    call SetHeroLevel( udg_Arthas, 8, false )
    call SelectHeroSkill( udg_Arthas, 'AUdc' )
    call SelectHeroSkill( udg_Arthas, 'AUdc' )
    call SelectHeroSkill( udg_Arthas, 'AUdc' )
    call SelectHeroSkill( udg_Arthas, 'AUdp' )
    call SelectHeroSkill( udg_Arthas, 'AUau' )
    call SelectHeroSkill( udg_Arthas, 'AUau' )
    call SelectHeroSkill( udg_Arthas, 'AUau' )
    call SelectHeroSkill( udg_Arthas, 'AUan' )
endfunction

//===========================================================================
function InitTrig_Load_Arthas takes nothing returns nothing
    set gg_trg_Load_Arthas = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Load_Arthas, function Trig_Load_Arthas_Actions )
endfunction

//===========================================================================
// Trigger: Load KelThuzad
//===========================================================================
function Trig_Load_KelThuzad_Func006001 takes nothing returns boolean
    return ( udg_KelThuzad != null )
endfunction

function Trig_Load_KelThuzad_Actions takes nothing returns nothing
    call CommentString( "Load the hero data Kel'Thuzad" )
    call RestoreUnitLocFacingAngleBJ( "KelThuzad", "Undead08", GetLastCreatedGameCacheBJ(), Player(6), GetRectCenter(gg_rct_KelThuzadStart), 90.00 )
    set udg_KelThuzad = GetLastRestoredUnitBJ()
    call SetUnitFacingTimed( udg_KelThuzad, 220.00, 0 )
    call ConditionalTriggerExecute( gg_trg_Drop_KelThuzad_Items )
    if ( Trig_Load_KelThuzad_Func006001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "If the hero data wasn't found, create a default hero" )
    call CreateNUnitsAtLoc( 1, 'Uktl', Player(6), GetRectCenter(gg_rct_KelThuzadStart), 90.00 )
    set udg_KelThuzad = GetLastCreatedUnit()
    call SetHeroLevel( udg_KelThuzad, 7, false )
    call SelectHeroSkill( udg_KelThuzad, 'AUfn' )
    call SelectHeroSkill( udg_KelThuzad, 'AUfn' )
    call SelectHeroSkill( udg_KelThuzad, 'AUfa' )
    call SelectHeroSkill( udg_KelThuzad, 'AUfa' )
    call SelectHeroSkill( udg_KelThuzad, 'AUdr' )
    call SelectHeroSkill( udg_KelThuzad, 'AUdd' )
endfunction

//===========================================================================
function InitTrig_Load_KelThuzad takes nothing returns nothing
    set gg_trg_Load_KelThuzad = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Load_KelThuzad, function Trig_Load_KelThuzad_Actions )
endfunction

//===========================================================================
// Trigger: Drop KelThuzad Items
//===========================================================================
function Trig_Drop_KelThuzad_Items_Actions takes nothing returns nothing
    call UnitRemoveItemFromSlotSwapped( 1, udg_KelThuzad )
    call SetItemPositionLoc( GetLastRemovedItem(), GetRectCenter(gg_rct_KelThuzad_Item01) )
    call UnitRemoveItemFromSlotSwapped( 2, udg_KelThuzad )
    call SetItemPositionLoc( GetLastRemovedItem(), GetRectCenter(gg_rct_KelThuzad_Item02) )
    call UnitRemoveItemFromSlotSwapped( 3, udg_KelThuzad )
    call SetItemPositionLoc( GetLastRemovedItem(), GetRectCenter(gg_rct_KelThuzad_Item03) )
    call UnitRemoveItemFromSlotSwapped( 4, udg_KelThuzad )
    call SetItemPositionLoc( GetLastRemovedItem(), GetRectCenter(gg_rct_KelThuzad_Item04) )
    call UnitRemoveItemFromSlotSwapped( 5, udg_KelThuzad )
    call SetItemPositionLoc( GetLastRemovedItem(), GetRectCenter(gg_rct_KelThuzad_Item05) )
    call UnitRemoveItemFromSlotSwapped( 6, udg_KelThuzad )
    call SetItemPositionLoc( GetLastRemovedItem(), GetRectCenter(gg_rct_KelThuzad_Item06) )
endfunction

//===========================================================================
function InitTrig_Drop_KelThuzad_Items takes nothing returns nothing
    set gg_trg_Drop_KelThuzad_Items = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Drop_KelThuzad_Items, function Trig_Drop_KelThuzad_Items_Actions )
endfunction

//===========================================================================
// Trigger: Next Level Prep
//===========================================================================
function Trig_Next_Level_Prep_Actions takes nothing returns nothing
    call CommentString( "Enable the next level " )
    call SetMissionAvailableBJ( true, bj_MISSION_INDEX_O00 )
    call SetCampaignAvailableBJ( true, bj_CAMPAIGN_INDEX_O )
    call SetCinematicAvailableBJ( true, bj_CINEMATICINDEX_UED )
endfunction

//===========================================================================
function InitTrig_Next_Level_Prep takes nothing returns nothing
    set gg_trg_Next_Level_Prep = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Next_Level_Prep, function Trig_Next_Level_Prep_Actions )
endfunction

//===========================================================================
// Trigger: Next Level Run
//===========================================================================
function Trig_Next_Level_Run_Actions takes nothing returns nothing
    call CommentString( "Run the next level" )
    call CustomVictoryBJ( Player(3), false, true )
endfunction

//===========================================================================
function InitTrig_Next_Level_Run takes nothing returns nothing
    set gg_trg_Next_Level_Run = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Next_Level_Run, function Trig_Next_Level_Run_Actions )
endfunction

//===========================================================================
// Trigger: Victory Cheat
//===========================================================================
function Trig_Victory_Cheat_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Victory_Cheat_Actions takes nothing returns nothing
    set udg_GameOver = true
    call ConditionalTriggerExecute( gg_trg_Next_Level_Prep )
    call ConditionalTriggerExecute( gg_trg_Next_Level_Run )
endfunction

//===========================================================================
function InitTrig_Victory_Cheat takes nothing returns nothing
    set gg_trg_Victory_Cheat = CreateTrigger(  )
    call TriggerRegisterPlayerEventVictory( gg_trg_Victory_Cheat, Player(3) )
    call TriggerAddCondition( gg_trg_Victory_Cheat, Condition( function Trig_Victory_Cheat_Conditions ) )
    call TriggerAddAction( gg_trg_Victory_Cheat, function Trig_Victory_Cheat_Actions )
endfunction

//===========================================================================
// Trigger: DefeatCheat
//===========================================================================
function Trig_DefeatCheat_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_DefeatCheat_Actions takes nothing returns nothing
    set udg_GameOver = true
    call CustomDefeatBJ( Player(3), "TRIGSTR_137" )
endfunction

//===========================================================================
function InitTrig_DefeatCheat takes nothing returns nothing
    set gg_trg_DefeatCheat = CreateTrigger(  )
    call TriggerRegisterPlayerEventDefeat( gg_trg_DefeatCheat, Player(3) )
    call TriggerAddCondition( gg_trg_DefeatCheat, Condition( function Trig_DefeatCheat_Conditions ) )
    call TriggerAddAction( gg_trg_DefeatCheat, function Trig_DefeatCheat_Actions )
endfunction

//===========================================================================
// Trigger: OpeningCancelled
//===========================================================================
function Trig_OpeningCancelled_Func024002 takes nothing returns nothing
    call RemoveUnit( GetEnumUnit() )
endfunction

function Trig_OpeningCancelled_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_OpeningCancelled = true
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 0.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call ResetToGameCameraForPlayer( Player(3), 0.00 )
    call PanCameraToTimedLocForPlayer( Player(3), GetRectCenter(gg_rct_KelThuzadPost), 0 )
    call SetCameraQuickPositionLocForPlayer( Player(3), GetRectCenter(gg_rct_Archimonde) )
    call SetSkyModel( null )
    call EndThematicMusicBJ(  )
    call CommentString( "***********************" )
    call SetUnitPositionLoc( udg_KelThuzad, GetRectCenter(gg_rct_KelThuzadPost) )
    call RemoveUnit( udg_Tichondrius )
    call SetUnitFacingTimed( udg_KelThuzad, 90.00, 0 )
    call SetUnitAnimation( udg_KelThuzad, "stand channel" )
    call CommentString( "***********************" )
    call ModifyGateBJ( bj_GATEOPERATION_OPEN, gg_dest_LTg1_0074 )
    call DestroyEffectBJ( udg_DarkSummonMissile )
    call ConditionalTriggerExecute( gg_trg_Setup_Timers )
    call ConditionalTriggerExecute( gg_trg_Shades )
    call SetPlayerAllianceBJ( Player(7), ALLIANCE_SHARED_VISION, false, Player(3) )
    call SetPlayerAllianceStateBJ( Player(7), Player(3), bj_ALLIANCE_UNALLIED )
    call SetPlayerAllianceStateBJ( Player(3), Player(7), bj_ALLIANCE_UNALLIED )
    call SetUnitOwner( udg_KelThuzad, Player(6), true )
    call IssueImmediateOrderBJ( udg_KelThuzad, "holdposition" )
    call ForGroup( udg_CinematicUnitGroup, function Trig_OpeningCancelled_Func024002 )
    call ConditionalTriggerExecute( gg_trg_Setup_ComputerPlayers )
    call ConditionalTriggerExecute( gg_trg_Start_Campaign_AI )
    call ConditionalTriggerExecute( gg_trg_MiningAcolytes )
    call CinematicModeBJ( false, GetPlayersAll() )
    call CreateFogModifierRectBJ( true, Player(3), FOG_OF_WAR_MASKED, GetEntireMapRect() )
    call DestroyFogModifier( GetLastCreatedFogModifier() )
    call SelectUnitSingle( udg_Arthas )
    call CommentString( "***********************" )
    call SetPlayerAllianceStateBJ( Player(0), Player(3), bj_ALLIANCE_UNALLIED )
    call SetPlayerAllianceStateBJ( Player(0), Player(6), bj_ALLIANCE_UNALLIED )
    call SetPlayerAllianceStateBJ( Player(3), Player(0), bj_ALLIANCE_UNALLIED )
    call CommentString( "***********************" )
    call EnableTrigger( gg_trg_KelThuzad_Animation_Resets )
    call TriggerSleepAction( 5.00 )
    call CommentString( "Quest" )
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_104" )
    call QuestSetDiscoveredBJ( udg_QuestSummoning, true )
    call CommentString( "***********************" )
endfunction

//===========================================================================
function InitTrig_OpeningCancelled takes nothing returns nothing
    set gg_trg_OpeningCancelled = CreateTrigger(  )
    call DisableTrigger( gg_trg_OpeningCancelled )
    call TriggerRegisterPlayerEventEndCinematic( gg_trg_OpeningCancelled, Player(3) )
    call TriggerAddAction( gg_trg_OpeningCancelled, function Trig_OpeningCancelled_Actions )
endfunction

//===========================================================================
// Trigger: Opening01
//===========================================================================
function Trig_Opening01_Func034001 takes nothing returns boolean
    return ( udg_OpeningCancelled == true )
endfunction

function Trig_Opening01_Func039001 takes nothing returns boolean
    return ( udg_OpeningCancelled == true )
endfunction

function Trig_Opening01_Func057001 takes nothing returns boolean
    return ( udg_OpeningCancelled == true )
endfunction

function Trig_Opening01_Func060001 takes nothing returns boolean
    return ( udg_OpeningCancelled == true )
endfunction

function Trig_Opening01_Func066001 takes nothing returns boolean
    return ( udg_OpeningCancelled == true )
endfunction

function Trig_Opening01_Func072001 takes nothing returns boolean
    return ( udg_OpeningCancelled == true )
endfunction

function Trig_Opening01_Func077001 takes nothing returns boolean
    return ( udg_OpeningCancelled == true )
endfunction

function Trig_Opening01_Func083001 takes nothing returns boolean
    return ( udg_OpeningCancelled == true )
endfunction

function Trig_Opening01_Func088001 takes nothing returns boolean
    return ( udg_OpeningCancelled == true )
endfunction

function Trig_Opening01_Actions takes nothing returns nothing
    call CinematicModeBJ( true, GetPlayersAll() )
    call SetPlayerAllianceBJ( Player(7), ALLIANCE_SHARED_VISION, true, Player(4) )
    call SetDoodadAnimationRectBJ( "death", 'YOtf', gg_rct_KelThuzadPost )
    call CommentString( "Opening Gryphons" )
    call SetStackedSoundBJ( true, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop01 )
    call SetStackedSoundBJ( true, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop02 )
    call SetStackedSoundBJ( true, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop03 )
    call SetStackedSoundBJ( true, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop04 )
    call SetStackedSoundBJ( true, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop05 )
    call SetStackedSoundBJ( true, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop06 )
    call SetStackedSoundBJ( true, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop07 )
    call SetStackedSoundBJ( true, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop08 )
    call SetStackedSoundBJ( true, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop09 )
    call SetStackedSoundBJ( true, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop10 )
    call SetStackedSoundBJ( true, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop11 )
    call SetStackedSoundBJ( true, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop12 )
    call SetStackedSoundBJ( true, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop13 )
    call IssuePointOrderLocBJ( gg_unit_hgry_0018, "move", GetRectCenter(gg_rct_Region_025) )
    call IssuePointOrderLocBJ( gg_unit_hgry_0022, "move", GetRectCenter(gg_rct_Region_023) )
    call IssuePointOrderLocBJ( gg_unit_hgry_0019, "move", GetRectCenter(gg_rct_Region_024) )
    call IssuePointOrderLocBJ( gg_unit_hgry_0020, "move", GetRectCenter(gg_rct_Region_026) )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 6.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call CameraSetupApplyForPlayer( true, gg_cam_OpeningGryphons01, Player(3), 0.00 )
    call CameraSetupApplyForPlayer( true, gg_cam_OpeningGryphons02, Player(3), 8.00 )
    call CommentString( "Music" )
    call ClearMapMusicBJ(  )
    call TriggerSleepAction( 0.01 )
    call PlayThematicMusicBJ( "Sound\\Music\\mp3Music\\DarkAgents.mp3" )
    call SetMapMusicIndexedBJ( "music", 1 )
    call CommentString( "NOW SKIPPABLE" )
    call EnableTrigger( gg_trg_OpeningCancelled )
    call CommentString( "*********" )
    call TriggerSleepAction( 2.00 )
    if ( Trig_Opening01_Func034001() ) then
        return
    else
        call DoNothing(  )
    endif
    call AttachSoundToUnitBJ( gg_snd_HippoGryphReady1, gg_unit_hgry_0019 )
    call SetSoundVolumeBJ( gg_snd_HippoGryphReady1, 50.00 )
    call PlaySoundBJ( gg_snd_HippoGryphReady1 )
    call TriggerSleepAction( 5.00 )
    if ( Trig_Opening01_Func039001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Opening Archmage" )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 3.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call IssuePointOrderLocBJ( gg_unit_hkni_0011, "move", GetRectCenter(gg_rct_Knight01) )
    call IssuePointOrderLocBJ( gg_unit_hkni_0009, "move", GetRectCenter(gg_rct_Knight02) )
    call IssuePointOrderLocBJ( gg_unit_hkni_0007, "move", GetRectCenter(gg_rct_Knight03) )
    call IssuePointOrderLocBJ( gg_unit_hkni_0005, "move", GetRectCenter(gg_rct_Knight04) )
    call IssuePointOrderLocBJ( gg_unit_hsor_0015, "move", GetRectCenter(gg_rct_Sorc01) )
    call IssuePointOrderLocBJ( gg_unit_hsor_0016, "move", GetRectCenter(gg_rct_Sorc02) )
    call SetSoundPositionLocBJ( gg_snd_HorseLoop2, GetRectCenter(gg_rct_KnightsRun), 0 )
    call SetSoundVolumeBJ( gg_snd_HorseLoop2, 50.00 )
    call PlaySoundBJ( gg_snd_HorseLoop2 )
    call SetSoundPositionLocBJ( gg_snd_KnightNoRiderWhat2, GetRectCenter(gg_rct_KnightsRun), 0 )
    call SetSoundVolumeBJ( gg_snd_KnightNoRiderWhat2, 70.00 )
    call PlaySoundBJ( gg_snd_KnightNoRiderWhat2 )
    call CameraSetupApplyForPlayer( true, gg_cam_OpeningArchmage01, Player(3), 0.00 )
    call CameraSetupApplyForPlayer( true, gg_cam_OpeningArchmage02, Player(3), 7.00 )
    call TriggerSleepAction( 1.00 )
    if ( Trig_Opening01_Func057001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitFacingToFaceLocTimed( gg_unit_Hamg_0006, GetRectCenter(gg_rct_KelThuzadPost), 0.20 )
    call TriggerSleepAction( 1.00 )
    if ( Trig_Opening01_Func060001() ) then
        return
    else
        call DoNothing(  )
    endif
    call ModifyGateBJ( bj_GATEOPERATION_OPEN, gg_dest_LTg1_0074 )
    call SetSoundPositionLocBJ( gg_snd_LargeCityGateOpen1, GetRectCenter(gg_rct_GateOpen), 0 )
    call SetSoundVolumeBJ( gg_snd_LargeCityGateOpen1, 60.00 )
    call PlaySoundBJ( gg_snd_LargeCityGateOpen1 )
    call TriggerSleepAction( 1.00 )
    if ( Trig_Opening01_Func066001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 3.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call CommentString( "Opening Pan to Mountain" )
    call CameraSetSmoothingFactorBJ( 0.00 )
    call CameraResetSmoothingFactorBJ(  )
    call TriggerSleepAction( 3.00 )
    if ( Trig_Opening01_Func072001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CameraSetupApplyForPlayer( true, gg_cam_Opening01, Player(3), 0.00 )
    call CameraSetupApplyForPlayer( true, gg_cam_Opening03, Player(3), 10.25 )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 5.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 4.00 )
    if ( Trig_Opening01_Func077001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetPlayerAllianceBJ( Player(7), ALLIANCE_SHARED_VISION, false, Player(3) )
    call CommentString( "***********************" )
    call SetUnitFacingToFaceUnitTimed( udg_Arthas, udg_KelThuzad, 0.30 )
    call SetUnitFacingToFaceUnitTimed( udg_KelThuzad, udg_Arthas, 0.30 )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Arthas, "TRIGSTR_016", gg_snd_U08Arthas01, "TRIGSTR_017", bj_TIMETYPE_ADD, 0, true )
    if ( Trig_Opening01_Func083001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call CameraSetupApplyForPlayer( true, gg_cam_Lich, Player(3), 0.00 )
    call CameraSetupApplyForPlayer( true, gg_cam_Lich02, Player(3), GetSoundDurationBJ(gg_snd_U08KelThuzad02) )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_KelThuzad, "TRIGSTR_020", gg_snd_U08KelThuzad02, "TRIGSTR_021", bj_TIMETYPE_ADD, 0, true )
    if ( Trig_Opening01_Func088001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "***********************" )
    call ConditionalTriggerExecute( gg_trg_Opening02 )
endfunction

//===========================================================================
function InitTrig_Opening01 takes nothing returns nothing
    set gg_trg_Opening01 = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Opening01, function Trig_Opening01_Actions )
endfunction

//===========================================================================
// Trigger: Opening02
//===========================================================================
function Trig_Opening02_Func009001 takes nothing returns boolean
    return ( udg_OpeningCancelled == true )
endfunction

function Trig_Opening02_Func018001 takes nothing returns boolean
    return ( udg_OpeningCancelled == true )
endfunction

function Trig_Opening02_Func023001 takes nothing returns boolean
    return ( udg_OpeningCancelled == true )
endfunction

function Trig_Opening02_Actions takes nothing returns nothing
    call CommentString( "Tichondrius warp in" )
    call CameraSetupApplyForPlayer( true, gg_cam_Lich02, Player(3), 0 )
    call CameraSetupApplyForPlayer( true, gg_cam_DreadLord, Player(3), 12.00 )
    call AddSpecialEffectLocBJ( GetRectCenter(gg_rct_OpeningTichondriusSpawn), "Abilities\\Spells\\Undead\\DarkSummoning\\DarkSummonTarget.mdl" )
    call SetSoundPositionLocBJ( gg_snd_DarkSummoningTarget1, GetRectCenter(gg_rct_EndingReviveArthas), 0 )
    call PlaySoundBJ( gg_snd_DarkSummoningTarget1 )
    set udg_DarkSummonMissile = GetLastCreatedEffectBJ()
    call TriggerSleepAction( 2 )
    if ( Trig_Opening02_Func009001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CreateNUnitsAtLocFacingLocBJ( 1, 'Utic', Player(8), GetRectCenter(gg_rct_OpeningTichondriusSpawn), GetUnitLoc(udg_KelThuzad) )
    set udg_Tichondrius = GetLastCreatedUnit()
    call SetPlayerAllianceStateBJ( Player(8), Player(3), bj_ALLIANCE_ALLIED )
    call SetPlayerAllianceStateBJ( Player(8), Player(6), bj_ALLIANCE_ALLIED )
    call SetPlayerAllianceStateBJ( Player(3), Player(8), bj_ALLIANCE_ALLIED )
    call SetPlayerAllianceStateBJ( Player(6), Player(8), bj_ALLIANCE_ALLIED )
    call UnitAddItemByIdSwapped( 'ofir', udg_Tichondrius )
    call TriggerSleepAction( 0.50 )
    if ( Trig_Opening02_Func018001() ) then
        return
    else
        call DoNothing(  )
    endif
    call DestroyEffectBJ( udg_DarkSummonMissile )
    call SetUnitFacingToFaceUnitTimed( udg_Arthas, udg_Tichondrius, 0.30 )
    call SetUnitFacingToFaceUnitTimed( udg_KelThuzad, udg_Tichondrius, 0.30 )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Tichondrius, "TRIGSTR_035", gg_snd_U08Tichondrius03, "TRIGSTR_040", bj_TIMETYPE_ADD, 0, true )
    if ( Trig_Opening02_Func023001() ) then
        return
    else
        call DoNothing(  )
    endif
    call ConditionalTriggerExecute( gg_trg_Opening03 )
endfunction

//===========================================================================
function InitTrig_Opening02 takes nothing returns nothing
    set gg_trg_Opening02 = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Opening02, function Trig_Opening02_Actions )
endfunction

//===========================================================================
// Trigger: Opening03
//===========================================================================
function Trig_Opening03_Conditions takes nothing returns boolean
    if ( not ( udg_OpeningCancelled == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Opening03_Func009001 takes nothing returns boolean
    return ( udg_OpeningCancelled == true )
endfunction

function Trig_Opening03_Func012001 takes nothing returns boolean
    return ( udg_OpeningCancelled == true )
endfunction

function Trig_Opening03_Func020001 takes nothing returns boolean
    return ( udg_OpeningCancelled == true )
endfunction

function Trig_Opening03_Func023001 takes nothing returns boolean
    return ( udg_OpeningCancelled == true )
endfunction

function Trig_Opening03_Func030001 takes nothing returns boolean
    return ( udg_OpeningCancelled == true )
endfunction

function Trig_Opening03_Func033001 takes nothing returns boolean
    return ( udg_OpeningCancelled == true )
endfunction

function Trig_Opening03_Func037001 takes nothing returns boolean
    return ( udg_OpeningCancelled == true )
endfunction

function Trig_Opening03_Func044002 takes nothing returns nothing
    call RemoveUnit( GetEnumUnit() )
endfunction

function Trig_Opening03_Actions takes nothing returns nothing
    call CommentString( "Kel'Thuzad Summoning" )
    call IssuePointOrderLocBJ( udg_KelThuzad, "move", GetRectCenter(gg_rct_KelThuzadPost) )
    call CameraSetupApplyForPlayer( true, gg_cam_Summoning01, Player(3), 0 )
    call CameraSetupApplyForPlayer( true, gg_cam_Summoning02, Player(3), 10.00 )
    call SetUnitFacingToFaceLocTimed( udg_Tichondrius, GetRectCenter(gg_rct_KelThuzadPost), 4.00 )
    call SetUnitFacingToFaceLocTimed( udg_Arthas, GetRectCenter(gg_rct_KelThuzadPost), 1.00 )
    call TriggerSleepAction( 4.50 )
    if ( Trig_Opening03_Func009001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitFacingTimed( udg_KelThuzad, 90.00, 0 )
    call TriggerSleepAction( 0.50 )
    if ( Trig_Opening03_Func012001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitAnimation( udg_KelThuzad, "stand channel" )
    call SetStackedSoundBJ( true, gg_snd_CityScapeMagicRunesLoop1, gg_rct_Summoning )
    call AttachSoundToUnitBJ( gg_snd_AntiMagicShellBirth1, udg_KelThuzad )
    call PlaySoundBJ( gg_snd_AntiMagicShellBirth1 )
    call AttachSoundToUnitBJ( gg_snd_CrippleTarget1, udg_KelThuzad )
    call PlaySoundBJ( gg_snd_CrippleTarget1 )
    call TriggerSleepAction( 1.00 )
    if ( Trig_Opening03_Func020001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Summoning Effect" )
    call TriggerSleepAction( 2.00 )
    if ( Trig_Opening03_Func023001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Tichondrius warps out" )
    call AddSpecialEffectLocBJ( GetRectCenter(gg_rct_OpeningTichondriusSpawn), "Abilities\\Spells\\Undead\\DarkSummoning\\DarkSummonTarget.mdl" )
    call SetSoundPositionLocBJ( gg_snd_DarkSummoningTarget1, GetRectCenter(gg_rct_EndingReviveArthas), 0 )
    call PlaySoundBJ( gg_snd_DarkSummoningTarget1 )
    set udg_DarkSummonMissile = GetLastCreatedEffectBJ()
    call TriggerSleepAction( 2 )
    if ( Trig_Opening03_Func030001() ) then
        return
    else
        call DoNothing(  )
    endif
    call ShowUnitHide( udg_Tichondrius )
    call TriggerSleepAction( 0.50 )
    if ( Trig_Opening03_Func033001() ) then
        return
    else
        call DoNothing(  )
    endif
    call DestroyEffectBJ( udg_DarkSummonMissile )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 1.00 )
    if ( Trig_Opening03_Func037001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "***********************" )
    call CommentString( "NO LONGER SKIPPABLE" )
    call DisableTrigger( gg_trg_OpeningCancelled )
    call SetUnitOwner( udg_KelThuzad, Player(6), true )
    call IssueImmediateOrderBJ( udg_KelThuzad, "holdposition" )
    call RemoveUnit( udg_Tichondrius )
    call ForGroup( udg_CinematicUnitGroup, function Trig_Opening03_Func044002 )
    call ConditionalTriggerExecute( gg_trg_Shades )
    call CommentString( "***********************" )
    call ResetToGameCameraForPlayer( Player(3), 0.00 )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call CreateFogModifierRectBJ( true, Player(3), FOG_OF_WAR_MASKED, GetEntireMapRect() )
    call DestroyFogModifier( GetLastCreatedFogModifier() )
    call SelectUnitSingle( udg_Arthas )
    call SetPlayerAllianceStateBJ( Player(7), Player(3), bj_ALLIANCE_UNALLIED )
    call SetPlayerAllianceStateBJ( Player(3), Player(7), bj_ALLIANCE_UNALLIED )
    call SetCameraQuickPositionLocForPlayer( Player(3), GetRectCenter(gg_rct_Archimonde) )
    call CinematicModeBJ( false, GetPlayersAll() )
    call ConditionalTriggerExecute( gg_trg_Setup_Timers )
    call SetSkyModel( null )
    call ConditionalTriggerExecute( gg_trg_Setup_ComputerPlayers )
    call ConditionalTriggerExecute( gg_trg_Start_Campaign_AI )
    call ConditionalTriggerExecute( gg_trg_MiningAcolytes )
    call CommentString( "***********************" )
    call SetPlayerAllianceStateBJ( Player(0), Player(3), bj_ALLIANCE_UNALLIED )
    call SetPlayerAllianceStateBJ( Player(0), Player(6), bj_ALLIANCE_UNALLIED )
    call SetPlayerAllianceStateBJ( Player(3), Player(0), bj_ALLIANCE_UNALLIED )
    call CommentString( "***********************" )
    call EnableTrigger( gg_trg_KelThuzad_Animation_Resets )
    call CommentString( "Quest" )
    call TriggerSleepAction( 5.00 )
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_107" )
    call QuestSetDiscoveredBJ( udg_QuestSummoning, true )
    call CommentString( "***********************" )
endfunction

//===========================================================================
function InitTrig_Opening03 takes nothing returns nothing
    set gg_trg_Opening03 = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Opening03, Condition( function Trig_Opening03_Conditions ) )
    call TriggerAddAction( gg_trg_Opening03, function Trig_Opening03_Actions )
endfunction

//===========================================================================
// Trigger: MiningAcolytes
//
// Run from 'Opening03' and 'OpeningCancelled'
//===========================================================================
function Trig_MiningAcolytes_Func001002 takes nothing returns nothing
    call IssueTargetOrderBJ( GetEnumUnit(), "harvest", gg_unit_ugol_0092 )
endfunction

function Trig_MiningAcolytes_Func002002 takes nothing returns nothing
    call IssueImmediateOrderBJ( GetEnumUnit(), "autoharvestlumber" )
endfunction

function Trig_MiningAcolytes_Actions takes nothing returns nothing
    call ForGroup( GetUnitsInRectAll(gg_rct_MiningAcolytes), function Trig_MiningAcolytes_Func001002 )
    call ForGroup( GetUnitsInRectAll(gg_rct_Harvesters), function Trig_MiningAcolytes_Func002002 )
endfunction

//===========================================================================
function InitTrig_MiningAcolytes takes nothing returns nothing
    set gg_trg_MiningAcolytes = CreateTrigger(  )
    call TriggerAddAction( gg_trg_MiningAcolytes, function Trig_MiningAcolytes_Actions )
endfunction

//===========================================================================
// Trigger: ArthasHoldPosition
//===========================================================================
function Trig_ArthasHoldPosition_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.50 )
    call IssueImmediateOrderBJ( udg_Arthas, "holdposition" )
endfunction

//===========================================================================
function InitTrig_ArthasHoldPosition takes nothing returns nothing
    set gg_trg_ArthasHoldPosition = CreateTrigger(  )
    call DisableTrigger( gg_trg_ArthasHoldPosition )
    call TriggerRegisterEnterRectSimple( gg_trg_ArthasHoldPosition, gg_rct_EndingMoveArthas )
    call TriggerAddAction( gg_trg_ArthasHoldPosition, function Trig_ArthasHoldPosition_Actions )
endfunction

//===========================================================================
// Trigger: EndingCancelled
//===========================================================================
function Trig_EndingCancelled_Conditions takes nothing returns boolean
    if ( not ( udg_EndingCancelled == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_EndingCancelled_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_EndingCancelled = true
    call CommentString( "Fade out" )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 2, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 2 )
    call EndThematicMusicBJ(  )
    call CommentString( "Start the next level" )
    call ConditionalTriggerExecute( gg_trg_Next_Level_Run )
endfunction

//===========================================================================
function InitTrig_EndingCancelled takes nothing returns nothing
    set gg_trg_EndingCancelled = CreateTrigger(  )
    call DisableTrigger( gg_trg_EndingCancelled )
    call TriggerRegisterPlayerEventEndCinematic( gg_trg_EndingCancelled, Player(3) )
    call TriggerAddCondition( gg_trg_EndingCancelled, Condition( function Trig_EndingCancelled_Conditions ) )
    call TriggerAddAction( gg_trg_EndingCancelled, function Trig_EndingCancelled_Actions )
endfunction

//===========================================================================
// Trigger: Ending01
//===========================================================================
function Trig_Ending01_Func007002 takes nothing returns nothing
    call ShowUnitHide( GetEnumUnit() )
endfunction

function Trig_Ending01_Func010001 takes nothing returns boolean
    return ( IsUnitDeadBJ(udg_Arthas) == true )
endfunction

function Trig_Ending01_Func035001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending01_Func038001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending01_Func041001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending01_Func047001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending01_Func055001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending01_Func061001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending01_Func073001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending01_Func078001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending01_Func082002 takes nothing returns nothing
    call ExplodeUnitBJ( GetEnumUnit() )
endfunction

function Trig_Ending01_Func083002 takes nothing returns nothing
    call ExplodeUnitBJ( GetEnumUnit() )
endfunction

function Trig_Ending01_Func084002 takes nothing returns nothing
    call ExplodeUnitBJ( GetEnumUnit() )
endfunction

function Trig_Ending01_Func086001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending01_Func088001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending01_Func097001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending01_Func103001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending01_Func118001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending01_Func120001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending01_Func125001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending01_Func129001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending01_Func131001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending01_Func134001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending01_Func139001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending01_Func143001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending01_Func146001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending01_Func151001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending01_Func156001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending01_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerExecute( gg_trg_Next_Level_Prep )
    call CommentString( "Cinematic Stuff" )
    call UseTimeOfDayBJ( false )
    call UnitRemoveBuffsBJ( bj_REMOVEBUFFS_ALL, udg_Arthas )
    call UnitRemoveBuffsBJ( bj_REMOVEBUFFS_ALL, udg_KelThuzad )
    call ForGroup( GetUnitsInRectAll(gg_rct_EndCin_Hide_Units), function Trig_Ending01_Func007002 )
    call ShowUnitShow( udg_Arthas )
    call ShowUnitShow( udg_KelThuzad )
    if ( Trig_Ending01_Func010001() ) then
        call ReviveHeroLoc( udg_Arthas, GetRectCenter(gg_rct_EndingReviveArthas), false )
    else
        call SetUnitPositionLoc( udg_Arthas, GetRectCenter(gg_rct_EndingReviveArthas) )
    endif
    call PauseAllUnitsBJ( true )
    call PauseUnitBJ( false, udg_Arthas )
    call PauseUnitBJ( false, udg_KelThuzad )
    call ClearSelection(  )
    call CommentString( "Stop Summoning" )
    call SetStackedSoundBJ( false, gg_snd_CityScapeMagicRunesLoop1, gg_rct_Summoning )
    call DisableTrigger( gg_trg_KelThuzad_Animation_Resets )
    call ResetUnitAnimation( udg_KelThuzad )
    call DestroyTimerDialogBJ( udg_CountdownTimerWindow )
    call CinematicModeBJ( true, GetPlayersAll() )
    call SetSkyModel( "Environment\\Sky\\DalaranSky\\DalaranSky.mdl" )
    call SetTerrainFogExBJ( 0, 500.00, 7000.00, 0, 35.00, 0.00, 15.00 )
    call SetUnitInvulnerable( udg_Arthas, true )
    call SetUnitInvulnerable( udg_KelThuzad, true )
    call SetUnitAcquireRangeBJ( udg_Arthas, 0.00 )
    call EnableTrigger( gg_trg_ArthasHoldPosition )
    call CommentString( "Cinematic Can Now Be Skipped" )
    call EnableTrigger( gg_trg_EndingCancelled )
    call CommentString( "Archimonde Enters" )
    call CameraSetupApplyForPlayer( true, gg_cam_ArchimondeBirth01, Player(3), 0 )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 5.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call CameraSetupApplyForPlayer( true, gg_cam_ArchimondeBirth02, Player(3), 24.00 )
    call DestroyEffectBJ( udg_DarkSummonMissile )
    call TriggerSleepAction( 1.00 )
    if ( Trig_Ending01_Func035001() ) then
        return
    else
        call DoNothing(  )
    endif
    call DestroyEffectBJ( udg_DarkSummonTarget )
    call TriggerSleepAction( 1.00 )
    if ( Trig_Ending01_Func038001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( udg_KelThuzad, "move", GetRectCenter(gg_rct_EndingKelThuzadPost) )
    call TriggerSleepAction( 1.50 )
    if ( Trig_Ending01_Func041001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Arthas watches" )
    call IssuePointOrderLocBJ( udg_Arthas, "move", GetRectCenter(gg_rct_EndingMoveArthas) )
    call CommentString( "************" )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_KelThuzad, "TRIGSTR_076", gg_snd_U08KelThuzad18, "TRIGSTR_077", bj_TIMETYPE_ADD, 0, false )
    call TriggerSleepAction( 1.00 )
    if ( Trig_Ending01_Func047001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitFacingToFaceLocTimed( udg_KelThuzad, GetRectCenter(gg_rct_Archimonde), 0 )
    call SetUnitFacingToFaceLocTimed( udg_Arthas, GetRectCenter(gg_rct_Archimonde), 0 )
    call AddSpecialEffectLocBJ( GetRectCenter(gg_rct_KelThuzadPost), "Abilities\\Spells\\Undead\\DarkSummoning\\DarkSummonTarget.mdl" )
    call AttachSoundToUnitBJ( gg_snd_DarkSummoningTarget1, udg_KelThuzad )
    call PlaySoundBJ( gg_snd_DarkSummoningTarget1 )
    set udg_DarkSummonMissile = GetLastCreatedEffectBJ()
    call TriggerSleepAction( 6.00 )
    if ( Trig_Ending01_Func055001() ) then
        return
    else
        call DoNothing(  )
    endif
    call DestroyEffectBJ( udg_DarkSummonMissile )
    call SetDoodadAnimationRectBJ( "stand", 'YOtf', GetPlayableMapRect() )
    call SetSoundPositionLocBJ( gg_snd_BuildingDeathLargeOrc, GetRectCenter(gg_rct_Archimonde), 0 )
    call PlaySoundBJ( gg_snd_BuildingDeathLargeOrc )
    call TriggerSleepAction( 1.00 )
    if ( Trig_Ending01_Func061001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetDoodadAnimationRectBJ( "stand", 'YOf2', GetPlayableMapRect() )
    call SetDoodadAnimationRectBJ( "stand", 'YOtf', gg_rct_KelThuzadPost )
    call SetSoundPositionLocBJ( gg_snd_BuildingDeathLargeHuman, GetRectCenter(gg_rct_Archimonde), 0 )
    call PlaySoundBJ( gg_snd_BuildingDeathLargeHuman )
    call CommentString( "Warlock appears" )
    call SetSoundPositionLocBJ( gg_snd_WarlockAppears, GetRectCenter(gg_rct_Archimonde), 0 )
    call PlaySoundBJ( gg_snd_WarlockAppears )
    call CommentString( "**********" )
    call CreateNUnitsAtLoc( 1, 'Uwar', Player(3), GetRectCenter(gg_rct_Archimonde), 90.00 )
    set udg_Archimonde = GetLastCreatedUnit()
    call TriggerSleepAction( 1.00 )
    if ( Trig_Ending01_Func073001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetDoodadAnimationRectBJ( "death", 'YOf2', GetPlayableMapRect() )
    call SetDoodadAnimationRectBJ( "death", 'YOtf', GetPlayableMapRect() )
    call SetUnitAnimation( udg_Archimonde, "spell inferno" )
    call TriggerSleepAction( 2 )
    if ( Trig_Ending01_Func078001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitFacingToFaceLocTimed( udg_Arthas, GetRectCenter(gg_rct_Archimonde), 0 )
    call SetDoodadAnimationRectBJ( "death", 'YOtf', gg_rct_KelThuzadPost )
    call SetUnitAnimation( udg_Archimonde, "stand" )
    call ForGroup( GetUnitsInRectOfPlayer(GetPlayableMapRect(), Player(0)), function Trig_Ending01_Func082002 )
    call ForGroup( GetUnitsInRectOfPlayer(GetPlayableMapRect(), Player(1)), function Trig_Ending01_Func083002 )
    call ForGroup( GetUnitsInRectOfPlayer(GetPlayableMapRect(), Player(2)), function Trig_Ending01_Func084002 )
    call WaitForSoundBJ( gg_snd_U08KelThuzad18, 0 )
    if ( Trig_Ending01_Func086001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Archimonde, "TRIGSTR_078", gg_snd_U08Archimonde19, "TRIGSTR_079", bj_TIMETYPE_ADD, 0, true )
    if ( Trig_Ending01_Func088001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "Music" )
    call PlayThematicMusicBJ( "Sound\\Music\\mp3Music\\Doom.mp3" )
    call SetUnitFacingToFaceUnitTimed( udg_Archimonde, udg_KelThuzad, 0 )
    call CommentString( "Archimonde Talks" )
    call CameraSetupApplyForPlayer( true, gg_cam_ArchimondeSpeaks, Player(3), 0 )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Archimonde, "TRIGSTR_080", gg_snd_U08Archimonde20, "TRIGSTR_081", bj_TIMETYPE_ADD, 0, false )
    call TriggerSleepAction( 2.00 )
    if ( Trig_Ending01_Func097001() ) then
        return
    else
        call DoNothing(  )
    endif
    call AddSpecialEffectLocBJ( GetRectCenter(gg_rct_OpeningTichondriusSpawn), "Abilities\\Spells\\Undead\\DarkSummoning\\DarkSummonTarget.mdl" )
    call SetSoundPositionLocBJ( gg_snd_DarkSummoningTarget1, GetRectCenter(gg_rct_OpeningTichondriusSpawn), 0 )
    call PlaySoundBJ( gg_snd_DarkSummoningTarget1 )
    set udg_DarkSummonMissile = GetLastCreatedEffectBJ()
    call TriggerSleepAction( 2 )
    if ( Trig_Ending01_Func103001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CommentString( "************" )
    call SetPlayerColorBJ( Player(0), PLAYER_COLOR_RED, true )
    call CreateNUnitsAtLocFacingLocBJ( 1, 'Utic', Player(8), GetRectCenter(gg_rct_OpeningTichondriusSpawn), GetUnitLoc(udg_KelThuzad) )
    set udg_Tichondrius = GetLastCreatedUnit()
    call IssueImmediateOrderBJ( udg_Tichondrius, "holdposition" )
    call SetPlayerAllianceStateBJ( Player(8), Player(3), bj_ALLIANCE_ALLIED )
    call SetPlayerAllianceStateBJ( Player(8), Player(6), bj_ALLIANCE_ALLIED )
    call SetPlayerAllianceStateBJ( Player(3), Player(8), bj_ALLIANCE_ALLIED )
    call SetPlayerAllianceStateBJ( Player(6), Player(8), bj_ALLIANCE_ALLIED )
    call UnitAddItemByIdSwapped( 'ofir', udg_Tichondrius )
    call CommentString( "************" )
    call SetUnitFacingToFaceUnitTimed( udg_Tichondrius, udg_Archimonde, 0 )
    call DestroyEffectBJ( udg_DarkSummonMissile )
    call TriggerSleepAction( 3.00 )
    if ( Trig_Ending01_Func118001() ) then
        return
    else
        call DoNothing(  )
    endif
    call WaitForSoundBJ( gg_snd_U08Archimonde20, 0 )
    if ( Trig_Ending01_Func120001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitFacingToFaceUnitTimed( udg_Archimonde, udg_Tichondrius, 0 )
    call CameraSetupApplyForPlayer( true, gg_cam_TichondriusUpClose, Player(3), 0 )
    call CameraSetupApplyForPlayer( true, gg_cam_TichondriusUpClose, Player(3), GetSoundDurationBJ(gg_snd_U08Tichondrius21) )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Tichondrius, "TRIGSTR_086", gg_snd_U08Tichondrius21, "TRIGSTR_087", bj_TIMETYPE_ADD, 0, true )
    if ( Trig_Ending01_Func125001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CameraSetupApplyForPlayer( true, gg_cam_VeryWell, Player(3), 0 )
    call CameraSetupApplyForPlayer( true, gg_cam_VeryWell, Player(3), GetSoundDurationBJ(gg_snd_U08Archimonde22) )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Archimonde, "TRIGSTR_088", gg_snd_U08Archimonde22, "TRIGSTR_089", bj_TIMETYPE_ADD, 0, true )
    if ( Trig_Ending01_Func129001() ) then
        return
    else
        call DoNothing(  )
    endif
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Tichondrius, "TRIGSTR_090", gg_snd_U08Tichondrius23, "TRIGSTR_091", bj_TIMETYPE_ADD, 0, true )
    if ( Trig_Ending01_Func131001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CameraSetupApplyForPlayer( true, gg_cam_AboveArchimonde, Player(3), 0 )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Archimonde, "TRIGSTR_092", gg_snd_U08Archimonde24, "TRIGSTR_093", bj_TIMETYPE_ADD, 0, true )
    if ( Trig_Ending01_Func134001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitAnimation( udg_Archimonde, "spell inferno" )
    call AttachSoundToUnitBJ( gg_snd_LightningShieldTarget, udg_Archimonde )
    call PlaySoundBJ( gg_snd_LightningShieldTarget )
    call TriggerSleepAction( 2 )
    if ( Trig_Ending01_Func139001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitAnimation( udg_Archimonde, "stand" )
    call IssuePointOrderLocBJ( udg_Archimonde, "move", GetRectCenter(gg_rct_ArchimondeDest) )
    call TriggerSleepAction( 0.20 )
    if ( Trig_Ending01_Func143001() ) then
        return
    else
        call DoNothing(  )
    endif
    call IssuePointOrderLocBJ( udg_Tichondrius, "move", GetRectCenter(gg_rct_TichondriusDest) )
    call TriggerSleepAction( 2.60 )
    if ( Trig_Ending01_Func146001() ) then
        return
    else
        call DoNothing(  )
    endif
    call SetUnitFacingToFaceUnitTimed( udg_KelThuzad, udg_Arthas, 0 )
    call SetUnitFacingToFaceUnitTimed( udg_Arthas, udg_KelThuzad, 0 )
    call CameraSetupApplyForPlayer( true, gg_cam_ArthasJoke, Player(3), GetSoundDurationBJ(gg_snd_U08Arthas25) )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Arthas, "TRIGSTR_096", gg_snd_U08Arthas25, "TRIGSTR_097", bj_TIMETYPE_ADD, 0, true )
    if ( Trig_Ending01_Func151001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CameraSetupApplyForPlayer( true, gg_cam_KelEnding01, Player(3), 0.00 )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call CameraSetupApplyForPlayer( true, gg_cam_KelEnding02, Player(3), GetSoundDurationBJ(gg_snd_U08KelThuzad26) )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_KelThuzad, "TRIGSTR_098", gg_snd_U08KelThuzad26, "TRIGSTR_099", bj_TIMETYPE_ADD, 0, true )
    if ( Trig_Ending01_Func156001() ) then
        return
    else
        call DoNothing(  )
    endif
    call EndThematicMusicBJ(  )
    call SetStackedSoundBJ( false, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop01 )
    call SetStackedSoundBJ( false, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop02 )
    call SetStackedSoundBJ( false, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop03 )
    call SetStackedSoundBJ( false, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop04 )
    call SetStackedSoundBJ( false, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop05 )
    call SetStackedSoundBJ( false, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop06 )
    call SetStackedSoundBJ( false, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop07 )
    call SetStackedSoundBJ( false, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop08 )
    call SetStackedSoundBJ( false, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop09 )
    call SetStackedSoundBJ( false, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop10 )
    call SetStackedSoundBJ( false, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop11 )
    call SetStackedSoundBJ( false, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop12 )
    call SetStackedSoundBJ( false, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop13 )
    call CommentString( "Cinematic Can No Longer Be Skipped" )
    call DisableTrigger( gg_trg_EndingCancelled )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUT, 4.00, "ReplaceableTextures\\CameraMasks\\White_mask.tga", 0, 0, 0, 0 )
    call TriggerSleepAction( 4.00 )
    call CommentString( "Start the next level" )
    call TriggerSleepAction( 2 )
    call ConditionalTriggerExecute( gg_trg_Next_Level_Run )
endfunction

//===========================================================================
function InitTrig_Ending01 takes nothing returns nothing
    set gg_trg_Ending01 = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Ending01, function Trig_Ending01_Actions )
endfunction

//===========================================================================
// Trigger: KelThuzad Animation Resets
//===========================================================================
function Trig_KelThuzad_Animation_Resets_Actions takes nothing returns nothing
    call SetUnitAnimation( udg_KelThuzad, "stand channel" )
endfunction

//===========================================================================
function InitTrig_KelThuzad_Animation_Resets takes nothing returns nothing
    set gg_trg_KelThuzad_Animation_Resets = CreateTrigger(  )
    call DisableTrigger( gg_trg_KelThuzad_Animation_Resets )
    call TriggerRegisterTimerEventPeriodic( gg_trg_KelThuzad_Animation_Resets, 1.82 )
    call TriggerAddAction( gg_trg_KelThuzad_Animation_Resets, function Trig_KelThuzad_Animation_Resets_Actions )
endfunction

//===========================================================================
// Trigger: DialogueStart
//===========================================================================
function Trig_DialogueStart_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_DialogueStart_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TriggerSleepAction( 1.00 )
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_HINT, "TRIGSTR_144" )
    call StartTimerBJ( udg_WarningLoopCooldownTimer, false, 45.00 )
endfunction

//===========================================================================
function InitTrig_DialogueStart takes nothing returns nothing
    set gg_trg_DialogueStart = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_DialogueStart, Player(6), EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_DialogueStart, Condition( function Trig_DialogueStart_Conditions ) )
    call TriggerAddAction( gg_trg_DialogueStart, function Trig_DialogueStart_Actions )
endfunction

//===========================================================================
// Trigger: DialogueCooldown
//===========================================================================
function Trig_DialogueCooldown_Actions takes nothing returns nothing
    call EnableTrigger( gg_trg_DialogueStart )
endfunction

//===========================================================================
function InitTrig_DialogueCooldown takes nothing returns nothing
    set gg_trg_DialogueCooldown = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_DialogueCooldown, udg_WarningLoopCooldownTimer )
    call TriggerAddAction( gg_trg_DialogueCooldown, function Trig_DialogueCooldown_Actions )
endfunction

//===========================================================================
// Trigger: Timer01HellHound
//===========================================================================
function Trig_Timer01HellHound_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Timer01HellHound_Queue, true )
endfunction

//===========================================================================
function InitTrig_Timer01HellHound takes nothing returns nothing
    set gg_trg_Timer01HellHound = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Timer01HellHound, udg_TimerHellHound01 )
    call TriggerAddAction( gg_trg_Timer01HellHound, function Trig_Timer01HellHound_Actions )
endfunction

//===========================================================================
// Trigger: Timer01HellHound Queue
//===========================================================================
function Trig_Timer01HellHound_Queue_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Timer01HellHound_Queue_Actions takes nothing returns nothing
    call CommentString( "Music" )
    call PlayThematicMusicBJ( "Sound\\Music\\mp3Music\\Doom.mp3" )
    call CommentString( "**********" )
    call SetSpeechVolumeGroupsBJ(  )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_KelThuzad, "TRIGSTR_118", gg_snd_U08KelThuzad07, "TRIGSTR_119", bj_TIMETYPE_ADD, 0, true )
    call VolumeGroupResetBJ(  )
    call CommentString( "Hell Hound 03" )
    call AddSpecialEffectLocBJ( GetRectCenter(gg_rct_HellHound03), "Abilities\\Spells\\Undead\\ReviveUndead\\ReviveUndead.mdl" )
    set udg_HellHoundEffect03 = GetLastCreatedEffectBJ()
    call CreateNUnitsAtLoc( 1, 'nfel', Player(3), GetRectCenter(gg_rct_HellHound03), 50.00 )
    call TriggerSleepAction( 1.00 )
    call CommentString( "Hell Hound 01" )
    call AddSpecialEffectLocBJ( GetRectCenter(gg_rct_Hellhound01), "Abilities\\Spells\\Undead\\ReviveUndead\\ReviveUndead.mdl" )
    set udg_HellHoundEffect01 = GetLastCreatedEffectBJ()
    call CreateNUnitsAtLoc( 1, 'nfel', Player(3), GetRectCenter(gg_rct_Hellhound01), 120.00 )
    call TriggerSleepAction( 0.20 )
    call CommentString( "Hell Hound 02" )
    call AddSpecialEffectLocBJ( GetRectCenter(gg_rct_Hellhound02), "Abilities\\Spells\\Undead\\ReviveUndead\\ReviveUndead.mdl" )
    set udg_HellHoundEffect02 = GetLastCreatedEffectBJ()
    call CreateNUnitsAtLoc( 1, 'nfel', Player(3), GetRectCenter(gg_rct_Hellhound02), 50.00 )
    call CommentString( "*******************" )
    call SetSpeechVolumeGroupsBJ(  )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_KelThuzad, "TRIGSTR_120", gg_snd_U08KelThuzad08, "TRIGSTR_121", bj_TIMETYPE_ADD, 0, true )
    call VolumeGroupResetBJ(  )
    call EndThematicMusicBJ(  )
    call DestroyEffectBJ( udg_HellHoundEffect01 )
    call DestroyEffectBJ( udg_HellHoundEffect02 )
    call DestroyEffectBJ( udg_HellHoundEffect03 )
    call QueuedTriggerRemoveBJ( gg_trg_Timer01HellHound_Queue )
endfunction

//===========================================================================
function InitTrig_Timer01HellHound_Queue takes nothing returns nothing
    set gg_trg_Timer01HellHound_Queue = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Timer01HellHound_Queue, Condition( function Trig_Timer01HellHound_Queue_Conditions ) )
    call TriggerAddAction( gg_trg_Timer01HellHound_Queue, function Trig_Timer01HellHound_Queue_Actions )
endfunction

//===========================================================================
// Trigger: Timer02HellHound
//===========================================================================
function Trig_Timer02HellHound_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Timer02HellHound_Queue, true )
endfunction

//===========================================================================
function InitTrig_Timer02HellHound takes nothing returns nothing
    set gg_trg_Timer02HellHound = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Timer02HellHound, udg_TimerHellHound02 )
    call TriggerAddAction( gg_trg_Timer02HellHound, function Trig_Timer02HellHound_Actions )
endfunction

//===========================================================================
// Trigger: Timer02HellHound Queue
//===========================================================================
function Trig_Timer02HellHound_Queue_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Timer02HellHound_Queue_Actions takes nothing returns nothing
    call CommentString( "Music" )
    call PlayThematicMusicBJ( "Sound\\Music\\mp3Music\\Doom.mp3" )
    call CommentString( "**********" )
    call CommentString( "Hell Hound 03" )
    call AddSpecialEffectLocBJ( GetRectCenter(gg_rct_HellHound03), "Abilities\\Spells\\Undead\\ReviveUndead\\ReviveUndead.mdl" )
    set udg_HellHoundEffect03 = GetLastCreatedEffectBJ()
    call CreateNUnitsAtLoc( 1, 'nfel', Player(3), GetRectCenter(gg_rct_HellHound03), 50.00 )
    call TriggerSleepAction( 1.00 )
    call CommentString( "Hell Hound 01" )
    call AddSpecialEffectLocBJ( GetRectCenter(gg_rct_Hellhound01), "Abilities\\Spells\\Undead\\ReviveUndead\\ReviveUndead.mdl" )
    set udg_HellHoundEffect01 = GetLastCreatedEffectBJ()
    call CreateNUnitsAtLoc( 1, 'nfel', Player(3), GetRectCenter(gg_rct_Hellhound01), 120.00 )
    call TriggerSleepAction( 0.20 )
    call CommentString( "Hell Hound 02" )
    call AddSpecialEffectLocBJ( GetRectCenter(gg_rct_Hellhound02), "Abilities\\Spells\\Undead\\ReviveUndead\\ReviveUndead.mdl" )
    set udg_HellHoundEffect02 = GetLastCreatedEffectBJ()
    call CreateNUnitsAtLoc( 1, 'nfel', Player(3), GetRectCenter(gg_rct_Hellhound02), 50.00 )
    call CommentString( "*******************" )
    call SetSpeechVolumeGroupsBJ(  )
    call EndThematicMusicBJ(  )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_KelThuzad, "TRIGSTR_122", gg_snd_U08KelThuzad08, "TRIGSTR_123", bj_TIMETYPE_ADD, 0, true )
    call VolumeGroupResetBJ(  )
    call DestroyEffectBJ( udg_HellHoundEffect01 )
    call DestroyEffectBJ( udg_HellHoundEffect02 )
    call DestroyEffectBJ( udg_HellHoundEffect03 )
    call QueuedTriggerRemoveBJ( gg_trg_Timer02HellHound_Queue )
endfunction

//===========================================================================
function InitTrig_Timer02HellHound_Queue takes nothing returns nothing
    set gg_trg_Timer02HellHound_Queue = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Timer02HellHound_Queue, Condition( function Trig_Timer02HellHound_Queue_Conditions ) )
    call TriggerAddAction( gg_trg_Timer02HellHound_Queue, function Trig_Timer02HellHound_Queue_Actions )
endfunction

//===========================================================================
// Trigger: Timer03HellHound
//===========================================================================
function Trig_Timer03HellHound_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Timer03HellHound_Queue, true )
endfunction

//===========================================================================
function InitTrig_Timer03HellHound takes nothing returns nothing
    set gg_trg_Timer03HellHound = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Timer03HellHound, udg_TimerHellHound03 )
    call TriggerAddAction( gg_trg_Timer03HellHound, function Trig_Timer03HellHound_Actions )
endfunction

//===========================================================================
// Trigger: Timer03HellHound Queue
//===========================================================================
function Trig_Timer03HellHound_Queue_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Timer03HellHound_Queue_Actions takes nothing returns nothing
    call CommentString( "Music" )
    call PlayThematicMusicBJ( "Sound\\Music\\mp3Music\\Doom.mp3" )
    call CommentString( "**********" )
    call CommentString( "Hell Hound 03" )
    call AddSpecialEffectLocBJ( GetRectCenter(gg_rct_HellHound03), "Abilities\\Spells\\Undead\\ReviveUndead\\ReviveUndead.mdl" )
    set udg_HellHoundEffect03 = GetLastCreatedEffectBJ()
    call CreateNUnitsAtLoc( 1, 'nfel', Player(3), GetRectCenter(gg_rct_HellHound03), 50.00 )
    call TriggerSleepAction( 1.00 )
    call CommentString( "Hell Hound 01" )
    call AddSpecialEffectLocBJ( GetRectCenter(gg_rct_Hellhound01), "Abilities\\Spells\\Undead\\ReviveUndead\\ReviveUndead.mdl" )
    set udg_HellHoundEffect01 = GetLastCreatedEffectBJ()
    call CreateNUnitsAtLoc( 1, 'nfel', Player(3), GetRectCenter(gg_rct_Hellhound01), 120.00 )
    call TriggerSleepAction( 0.20 )
    call CommentString( "Hell Hound 02" )
    call AddSpecialEffectLocBJ( GetRectCenter(gg_rct_Hellhound02), "Abilities\\Spells\\Undead\\ReviveUndead\\ReviveUndead.mdl" )
    set udg_HellHoundEffect02 = GetLastCreatedEffectBJ()
    call CreateNUnitsAtLoc( 1, 'nfel', Player(3), GetRectCenter(gg_rct_Hellhound02), 50.00 )
    call CommentString( "*******************" )
    call SetSpeechVolumeGroupsBJ(  )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_KelThuzad, "TRIGSTR_124", gg_snd_U08KelThuzad08, "TRIGSTR_125", bj_TIMETYPE_ADD, 0, true )
    call VolumeGroupResetBJ(  )
    call EndThematicMusicBJ(  )
    call DestroyEffectBJ( udg_HellHoundEffect01 )
    call DestroyEffectBJ( udg_HellHoundEffect02 )
    call DestroyEffectBJ( udg_HellHoundEffect03 )
    call QueuedTriggerRemoveBJ( gg_trg_Timer03HellHound_Queue )
endfunction

//===========================================================================
function InitTrig_Timer03HellHound_Queue takes nothing returns nothing
    set gg_trg_Timer03HellHound_Queue = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Timer03HellHound_Queue, Condition( function Trig_Timer03HellHound_Queue_Conditions ) )
    call TriggerAddAction( gg_trg_Timer03HellHound_Queue, function Trig_Timer03HellHound_Queue_Actions )
endfunction

//===========================================================================
// Trigger: TimerInfernals
//===========================================================================
function Trig_TimerInfernals_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_TimerInfernals_Queue, true )
endfunction

//===========================================================================
function InitTrig_TimerInfernals takes nothing returns nothing
    set gg_trg_TimerInfernals = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_TimerInfernals, udg_TimerInfernals )
    call TriggerAddAction( gg_trg_TimerInfernals, function Trig_TimerInfernals_Actions )
endfunction

//===========================================================================
// Trigger: TimerInfernals Queue
//===========================================================================
function Trig_TimerInfernals_Queue_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_TimerInfernals_Queue_Actions takes nothing returns nothing
    call CommentString( "Music" )
    call PlayThematicMusicBJ( "Sound\\Music\\mp3Music\\Doom.mp3" )
    call CommentString( "**********" )
    call SetSpeechVolumeGroupsBJ(  )
    call VolumeGroupResetBJ(  )
    call PanCameraToTimedLocForPlayer( Player(3), GetRectCenter(gg_rct_Archimonde), 0 )
    call CommentString( "Infernal 01" )
    call AddSpecialEffectLocBJ( GetRectCenter(gg_rct_Infernal01), "Abilities\\Spells\\Demon\\RainOfFire\\RainOfFireTarget.mdl" )
    set udg_InfernalEffect01 = GetLastCreatedEffectBJ()
    call TriggerSleepAction( 0.20 )
    call CreateNUnitsAtLoc( 1, 'ninf', Player(3), GetRectCenter(gg_rct_Infernal01), 160.00 )
    call SetUnitAnimation( GetLastCreatedUnit(), "birth" )
    call TriggerSleepAction( 0.20 )
    call CommentString( "Infernal 02" )
    call AddSpecialEffectLocBJ( GetRectCenter(gg_rct_Infernal02), "Abilities\\Spells\\Demon\\RainOfFire\\RainOfFireTarget.mdl" )
    set udg_InfernalEffect02 = GetLastCreatedEffectBJ()
    call TriggerSleepAction( 0.20 )
    call CreateNUnitsAtLoc( 1, 'ninf', Player(3), GetRectCenter(gg_rct_Infernal02), 140.00 )
    call SetUnitAnimation( GetLastCreatedUnit(), "birth" )
    call TriggerSleepAction( 0.20 )
    call CommentString( "Infernal 03" )
    call AddSpecialEffectLocBJ( GetRectCenter(gg_rct_Infernal03), "Abilities\\Spells\\Demon\\RainOfFire\\RainOfFireTarget.mdl" )
    set udg_InfernalEffect03 = GetLastCreatedEffectBJ()
    call TriggerSleepAction( 0.20 )
    call CreateNUnitsAtLoc( 1, 'ninf', Player(3), GetRectCenter(gg_rct_Infernal03), 100.00 )
    call SetUnitAnimation( GetLastCreatedUnit(), "birth" )
    call TriggerSleepAction( 0.20 )
    call CommentString( "Infernal 04" )
    call AddSpecialEffectLocBJ( GetRectCenter(gg_rct_Infernal04), "Abilities\\Spells\\Demon\\RainOfFire\\RainOfFireTarget.mdl" )
    set udg_InfernalEffect04 = GetLastCreatedEffectBJ()
    call TriggerSleepAction( 0.20 )
    call CreateNUnitsAtLoc( 1, 'ninf', Player(3), GetRectCenter(gg_rct_Infernal04), 40.00 )
    call SetUnitAnimation( GetLastCreatedUnit(), "birth" )
    call CommentString( "*****************" )
    call SetSpeechVolumeGroupsBJ(  )
    call EndThematicMusicBJ(  )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_KelThuzad, "TRIGSTR_126", gg_snd_U08KelThuzad09, "TRIGSTR_127", bj_TIMETYPE_ADD, 0, true )
    call VolumeGroupResetBJ(  )
    call QueuedTriggerRemoveBJ( gg_trg_TimerInfernals_Queue )
endfunction

//===========================================================================
function InitTrig_TimerInfernals_Queue takes nothing returns nothing
    set gg_trg_TimerInfernals_Queue = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_TimerInfernals_Queue, Condition( function Trig_TimerInfernals_Queue_Conditions ) )
    call TriggerAddAction( gg_trg_TimerInfernals_Queue, function Trig_TimerInfernals_Queue_Actions )
endfunction

//===========================================================================
// Trigger: Shades
//===========================================================================
function Trig_Shades_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ( gg_unit_ushd_0170, "patrol", GetRectCenter(gg_rct_Shade01PatrolDest) )
    call IssuePointOrderLocBJ( gg_unit_ushd_0171, "patrol", GetRectCenter(gg_rct_Shade02PatrolDest) )
    call IssuePointOrderLocBJ( gg_unit_ushd_0177, "patrol", GetRectCenter(gg_rct_Shade03PatrolDest) )
    call IssuePointOrderLocBJ( gg_unit_ushd_0169, "move", GetRectCenter(gg_rct_ShadeGoblinLandMine) )
    call IssuePointOrderLocBJ( gg_unit_ushd_0178, "move", GetRectCenter(gg_rct_ShadeGoldmine) )
endfunction

//===========================================================================
function InitTrig_Shades takes nothing returns nothing
    set gg_trg_Shades = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Shades, function Trig_Shades_Actions )
endfunction

//===========================================================================
// Trigger: ShadeFountain
//===========================================================================
function Trig_ShadeFountain_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTriggerUnit()) == 'ushd' ) ) then
        return false
    endif
    return true
endfunction

function Trig_ShadeFountain_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_ShadeFountain_Queue, true )
endfunction

//===========================================================================
function InitTrig_ShadeFountain takes nothing returns nothing
    set gg_trg_ShadeFountain = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_ShadeFountain, gg_rct_HintFountainsArea )
    call TriggerAddCondition( gg_trg_ShadeFountain, Condition( function Trig_ShadeFountain_Conditions ) )
    call TriggerAddAction( gg_trg_ShadeFountain, function Trig_ShadeFountain_Actions )
endfunction

//===========================================================================
// Trigger: ShadeFountain Queue
//===========================================================================
function Trig_ShadeFountain_Queue_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_ShadeFountain_Queue_Actions takes nothing returns nothing
    call TriggerSleepAction( 2.00 )
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_HINT, "TRIGSTR_128" )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_ShadeFountain_Queue takes nothing returns nothing
    set gg_trg_ShadeFountain_Queue = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_ShadeFountain_Queue, Condition( function Trig_ShadeFountain_Queue_Conditions ) )
    call TriggerAddAction( gg_trg_ShadeFountain_Queue, function Trig_ShadeFountain_Queue_Actions )
endfunction

//===========================================================================
// Trigger: ArchmageLevel
//===========================================================================
function Trig_ArchmageLevel_Actions takes nothing returns nothing
    call SetHeroLevel( gg_unit_Hamg_0205, 8, false )
    call SelectHeroSkill( gg_unit_Hamg_0205, 'AHbz' )
    call SelectHeroSkill( gg_unit_Hamg_0205, 'AHbz' )
    call SelectHeroSkill( gg_unit_Hamg_0205, 'AHbz' )
    call SelectHeroSkill( gg_unit_Hamg_0205, 'AHab' )
    call SelectHeroSkill( gg_unit_Hamg_0205, 'AHab' )
    call SelectHeroSkill( gg_unit_Hamg_0205, 'AHwe' )
    call SelectHeroSkill( gg_unit_Hamg_0205, 'AHwe' )
    call SelectHeroSkill( gg_unit_Hamg_0205, 'AHwe' )
endfunction

//===========================================================================
function InitTrig_ArchmageLevel takes nothing returns nothing
    set gg_trg_ArchmageLevel = CreateTrigger(  )
    call TriggerRegisterTimerEventSingle( gg_trg_ArchmageLevel, 1.00 )
    call TriggerAddAction( gg_trg_ArchmageLevel, function Trig_ArchmageLevel_Actions )
endfunction

//===========================================================================
// Trigger: ArchmageSpell
//===========================================================================
function Trig_ArchmageSpell_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetAttackedUnitBJ()) == 'nshe' ) ) then
        return false
    endif
    return true
endfunction

function Trig_ArchmageSpell_Actions takes nothing returns nothing
    call IssueTargetOrderBJ( gg_unit_Hamg_0205, "attack", GetAttacker() )
endfunction

//===========================================================================
function InitTrig_ArchmageSpell takes nothing returns nothing
    set gg_trg_ArchmageSpell = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_ArchmageSpell, Player(PLAYER_NEUTRAL_PASSIVE), EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_ArchmageSpell, Condition( function Trig_ArchmageSpell_Conditions ) )
    call TriggerAddAction( gg_trg_ArchmageSpell, function Trig_ArchmageSpell_Actions )
endfunction

//===========================================================================
// Trigger: SheepContainmentArea
//===========================================================================
function Trig_SheepContainmentArea_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetLeavingUnit()) == 'nshe' ) ) then
        return false
    endif
    return true
endfunction

function Trig_SheepContainmentArea_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ( GetLeavingUnit(), "move", GetRandomLocInRect(gg_rct_SheepContainmentArea) )
endfunction

//===========================================================================
function InitTrig_SheepContainmentArea takes nothing returns nothing
    set gg_trg_SheepContainmentArea = CreateTrigger(  )
    call TriggerRegisterLeaveRectSimple( gg_trg_SheepContainmentArea, gg_rct_SheepContainmentArea )
    call TriggerAddCondition( gg_trg_SheepContainmentArea, Condition( function Trig_SheepContainmentArea_Conditions ) )
    call TriggerAddAction( gg_trg_SheepContainmentArea, function Trig_SheepContainmentArea_Actions )
endfunction

//===========================================================================
// Trigger: InitSideQuest
//===========================================================================
function Trig_InitSideQuest_Conditions takes nothing returns boolean
    if ( not ( IsQuestCompleted(udg_QuestGoblinMine) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_InitSideQuest_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_InitSideQuest_Queue, true )
endfunction

//===========================================================================
function InitTrig_InitSideQuest takes nothing returns nothing
    set gg_trg_InitSideQuest = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_InitSideQuest, udg_TimerSideQuest )
    call TriggerAddCondition( gg_trg_InitSideQuest, Condition( function Trig_InitSideQuest_Conditions ) )
    call TriggerAddAction( gg_trg_InitSideQuest, function Trig_InitSideQuest_Actions )
endfunction

//===========================================================================
// Trigger: InitSideQuest Queue
//===========================================================================
function Trig_InitSideQuest_Queue_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_InitSideQuest_Queue_Func004001 takes nothing returns boolean
    return ( IsUnitAliveBJ(udg_Arthas) == true )
endfunction

function Trig_InitSideQuest_Queue_Func007001 takes nothing returns boolean
    return ( IsQuestCompleted(udg_QuestGoblinMine) == true )
endfunction

function Trig_InitSideQuest_Queue_Actions takes nothing returns nothing
    call SetSpeechVolumeGroupsBJ(  )
    call TransmissionFromUnitWithNameBJ( GetPlayersAll(), gg_unit_unec_0159, "TRIGSTR_145", gg_snd_U08Necromancer10, "TRIGSTR_146", bj_TIMETYPE_ADD, 0, true )
    if ( Trig_InitSideQuest_Queue_Func004001() ) then
        call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Arthas, "TRIGSTR_164", gg_snd_U08Arthas11, "TRIGSTR_165", bj_TIMETYPE_ADD, 0, true )
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call TriggerSleepAction( 2 )
    if ( Trig_InitSideQuest_Queue_Func007001() ) then
        return
    else
        call DoNothing(  )
    endif
    call CreateFogModifierRadiusLocBJ( true, Player(3), FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_RevealerGoblinMines), 512 )
    call PingMinimapLocForForce( GetPlayersAll(), GetRectCenter(gg_rct_RevealerGoblinMines), 5.00 )
    call SetCameraQuickPositionLocForPlayer( Player(3), GetRectCenter(gg_rct_GoblinMineArea) )
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_149" )
    call QuestSetDiscoveredBJ( udg_QuestGoblinMine, true )
    call TriggerSleepAction( bj_QUEUE_DELAY_QUEST )
    call DestroyFogModifier( GetLastCreatedFogModifier() )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_InitSideQuest_Queue takes nothing returns nothing
    set gg_trg_InitSideQuest_Queue = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_InitSideQuest_Queue, Condition( function Trig_InitSideQuest_Queue_Conditions ) )
    call TriggerAddAction( gg_trg_InitSideQuest_Queue, function Trig_InitSideQuest_Queue_Actions )
endfunction

//===========================================================================
// Trigger: QuestCompleted
//===========================================================================
function Trig_QuestCompleted_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(gg_trg_QuestCompleted) == true ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_QuestCompleted_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QuestSetCompletedBJ( udg_QuestGoblinMine, true )
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_COMPLETED, "TRIGSTR_101" )
    call QuestItemSetCompletedBJ( udg_QuestGoblinMineReq, true )
    call IssuePointOrderLocBJ( gg_unit_hfoo_0174, "attack", GetRectCenter(gg_rct_FootmanCamp01) )
    call IssuePointOrderLocBJ( gg_unit_hfoo_0017, "attack", GetRectCenter(gg_rct_FootmanCamp02) )
endfunction

//===========================================================================
function InitTrig_QuestCompleted takes nothing returns nothing
    set gg_trg_QuestCompleted = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_QuestCompleted, Condition( function Trig_QuestCompleted_Conditions ) )
    call TriggerAddAction( gg_trg_QuestCompleted, function Trig_QuestCompleted_Actions )
endfunction

//===========================================================================
// Trigger: GoblinMine01
//===========================================================================
function Trig_GoblinMine01_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_GoblinMine01_Actions takes nothing returns nothing
    call CreateItemLoc( 'gobm', GetRectCenter(gg_rct_GoblinMine01) )
    call ConditionalTriggerExecute( gg_trg_QuestCompleted )
endfunction

//===========================================================================
function InitTrig_GoblinMine01 takes nothing returns nothing
    set gg_trg_GoblinMine01 = CreateTrigger(  )
    call TriggerRegisterDeathEvent( gg_trg_GoblinMine01, gg_dest_LTcr_0142 )
    call TriggerAddCondition( gg_trg_GoblinMine01, Condition( function Trig_GoblinMine01_Conditions ) )
    call TriggerAddAction( gg_trg_GoblinMine01, function Trig_GoblinMine01_Actions )
endfunction

//===========================================================================
// Trigger: GoblinMine02
//===========================================================================
function Trig_GoblinMine02_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_GoblinMine02_Actions takes nothing returns nothing
    call CreateItemLoc( 'gobm', GetRectCenter(gg_rct_GoblinMine02) )
    call ConditionalTriggerExecute( gg_trg_QuestCompleted )
endfunction

//===========================================================================
function InitTrig_GoblinMine02 takes nothing returns nothing
    set gg_trg_GoblinMine02 = CreateTrigger(  )
    call TriggerRegisterDeathEvent( gg_trg_GoblinMine02, gg_dest_LTcr_0113 )
    call TriggerAddCondition( gg_trg_GoblinMine02, Condition( function Trig_GoblinMine02_Conditions ) )
    call TriggerAddAction( gg_trg_GoblinMine02, function Trig_GoblinMine02_Actions )
endfunction

//===========================================================================
// Trigger: GoblinMine03
//===========================================================================
function Trig_GoblinMine03_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_GoblinMine03_Actions takes nothing returns nothing
    call CreateItemLoc( 'gobm', GetRectCenter(gg_rct_GoblinMine03) )
    call ConditionalTriggerExecute( gg_trg_QuestCompleted )
endfunction

//===========================================================================
function InitTrig_GoblinMine03 takes nothing returns nothing
    set gg_trg_GoblinMine03 = CreateTrigger(  )
    call TriggerRegisterDeathEvent( gg_trg_GoblinMine03, gg_dest_LTcr_0111 )
    call TriggerAddCondition( gg_trg_GoblinMine03, Condition( function Trig_GoblinMine03_Conditions ) )
    call TriggerAddAction( gg_trg_GoblinMine03, function Trig_GoblinMine03_Actions )
endfunction

//===========================================================================
// Trigger: GoblinMine04
//===========================================================================
function Trig_GoblinMine04_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_GoblinMine04_Actions takes nothing returns nothing
    call CreateItemLoc( 'gobm', GetRectCenter(gg_rct_GoblinMine04) )
    call ConditionalTriggerExecute( gg_trg_QuestCompleted )
endfunction

//===========================================================================
function InitTrig_GoblinMine04 takes nothing returns nothing
    set gg_trg_GoblinMine04 = CreateTrigger(  )
    call TriggerRegisterDeathEvent( gg_trg_GoblinMine04, gg_dest_LTcr_0112 )
    call TriggerAddCondition( gg_trg_GoblinMine04, Condition( function Trig_GoblinMine04_Conditions ) )
    call TriggerAddAction( gg_trg_GoblinMine04, function Trig_GoblinMine04_Actions )
endfunction

//===========================================================================
// Trigger: Arthas01
//===========================================================================
function Trig_Arthas01_Conditions takes nothing returns boolean
    if ( not ( GetUnitRace(GetEnteringUnit()) == RACE_HUMAN ) ) then
        return false
    endif
    return true
endfunction

function Trig_Arthas01_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Arthas01_Queue, true )
endfunction

//===========================================================================
function InitTrig_Arthas01 takes nothing returns nothing
    set gg_trg_Arthas01 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Arthas01, gg_rct_TempleArea )
    call TriggerAddCondition( gg_trg_Arthas01, Condition( function Trig_Arthas01_Conditions ) )
    call TriggerAddAction( gg_trg_Arthas01, function Trig_Arthas01_Actions )
endfunction

//===========================================================================
// Trigger: Arthas01 Queue
//===========================================================================
function Trig_Arthas01_Queue_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Arthas01_Queue_Func004001 takes nothing returns boolean
    return ( IsUnitAliveBJ(udg_Arthas) == true )
endfunction

function Trig_Arthas01_Queue_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call SetSpeechVolumeGroupsBJ(  )
    if ( Trig_Arthas01_Queue_Func004001() ) then
        call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Arthas, "TRIGSTR_190", gg_snd_U08Arthas04, "TRIGSTR_191", bj_TIMETYPE_ADD, 0, true )
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Arthas01_Queue takes nothing returns nothing
    set gg_trg_Arthas01_Queue = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Arthas01_Queue, Condition( function Trig_Arthas01_Queue_Conditions ) )
    call TriggerAddAction( gg_trg_Arthas01_Queue, function Trig_Arthas01_Queue_Actions )
endfunction

//===========================================================================
// Trigger: Arthas02
//
// Turned on from 'TimerAtRushPoint'
//===========================================================================
function Trig_Arthas02_Conditions takes nothing returns boolean
    if ( not ( GetUnitRace(GetEnteringUnit()) == RACE_HUMAN ) ) then
        return false
    endif
    return true
endfunction

function Trig_Arthas02_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call QueuedTriggerAddBJ( gg_trg_Arthas02_Queue, true )
endfunction

//===========================================================================
function InitTrig_Arthas02 takes nothing returns nothing
    set gg_trg_Arthas02 = CreateTrigger(  )
    call DisableTrigger( gg_trg_Arthas02 )
    call TriggerRegisterEnterRectSimple( gg_trg_Arthas02, gg_rct_TempleArea )
    call TriggerAddCondition( gg_trg_Arthas02, Condition( function Trig_Arthas02_Conditions ) )
    call TriggerAddAction( gg_trg_Arthas02, function Trig_Arthas02_Actions )
endfunction

//===========================================================================
// Trigger: Arthas02 Queue
//
// Turned on from 'TimerAtRushPoint'
//===========================================================================
function Trig_Arthas02_Queue_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Arthas02_Queue_Func004001 takes nothing returns boolean
    return ( IsUnitAliveBJ(udg_Arthas) == true )
endfunction

function Trig_Arthas02_Queue_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call SetSpeechVolumeGroupsBJ(  )
    if ( Trig_Arthas02_Queue_Func004001() ) then
        call TransmissionFromUnitWithNameBJ( GetPlayersAll(), udg_Arthas, "TRIGSTR_216", gg_snd_U08Arthas06, "TRIGSTR_217", bj_TIMETYPE_ADD, 0, true )
    else
        call DoNothing(  )
    endif
    call VolumeGroupResetBJ(  )
    call QueuedTriggerRemoveBJ( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Arthas02_Queue takes nothing returns nothing
    set gg_trg_Arthas02_Queue = CreateTrigger(  )
    call DisableTrigger( gg_trg_Arthas02_Queue )
    call TriggerAddCondition( gg_trg_Arthas02_Queue, Condition( function Trig_Arthas02_Queue_Conditions ) )
    call TriggerAddAction( gg_trg_Arthas02_Queue, function Trig_Arthas02_Queue_Actions )
endfunction

//===========================================================================
// Trigger: KelThuzadDead
//===========================================================================
function Trig_KelThuzadDead_Conditions takes nothing returns boolean
    if ( not ( GetDyingUnit() == udg_KelThuzad ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_KelThuzadDead_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call DisableTrigger( gg_trg_KelThuzad_Animation_Resets )
    set udg_GameOver = true
    call PauseTimerBJ( true, udg_TimerSummoning )
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_FAILED, "TRIGSTR_105" )
    call TriggerSleepAction( 2.00 )
    call PauseGameOn(  )
    call TriggerSleepAction( 2.00 )
    call CustomDefeatBJ( Player(3), "TRIGSTR_106" )
endfunction

//===========================================================================
function InitTrig_KelThuzadDead takes nothing returns nothing
    set gg_trg_KelThuzadDead = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_KelThuzadDead, Player(6), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_KelThuzadDead, Condition( function Trig_KelThuzadDead_Conditions ) )
    call TriggerAddAction( gg_trg_KelThuzadDead, function Trig_KelThuzadDead_Actions )
endfunction

//===========================================================================
// Trigger: Victory
//===========================================================================
function Trig_Victory_Conditions takes nothing returns boolean
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Victory_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_GameOver = true
    call ConditionalTriggerExecute( gg_trg_Ending01 )
endfunction

//===========================================================================
function InitTrig_Victory takes nothing returns nothing
    set gg_trg_Victory = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Victory, udg_TimerSummoning )
    call TriggerAddCondition( gg_trg_Victory, Condition( function Trig_Victory_Conditions ) )
    call TriggerAddAction( gg_trg_Victory, function Trig_Victory_Actions )
endfunction

//===========================================================================
// Trigger: Player Kills All
//===========================================================================
function Trig_Player_Kills_All_Conditions takes nothing returns boolean
    if ( not ( GetPlayerStructureCount(Player(0), true) <= 0 ) ) then
        return false
    endif
    if ( not ( GetPlayerStructureCount(Player(1), true) <= 0 ) ) then
        return false
    endif
    if ( not ( GetPlayerStructureCount(Player(2), true) <= 0 ) ) then
        return false
    endif
    if ( not ( udg_GameOver == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Player_Kills_All_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call StartTimerBJ( udg_TimerSummoning, false, 5.00 )
endfunction

//===========================================================================
function InitTrig_Player_Kills_All takes nothing returns nothing
    set gg_trg_Player_Kills_All = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Player_Kills_All, Player(2), EVENT_PLAYER_UNIT_DEATH )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Player_Kills_All, Player(1), EVENT_PLAYER_UNIT_DEATH )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Player_Kills_All, Player(0), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Player_Kills_All, Condition( function Trig_Player_Kills_All_Conditions ) )
    call TriggerAddAction( gg_trg_Player_Kills_All, function Trig_Player_Kills_All_Actions )
endfunction

//===========================================================================
function InitCustomTriggers takes nothing returns nothing
    call InitTrig_Melee_Initialization(  )
    call InitTrig_Difficulty_Easy(  )
    call InitTrig_Difficulty_Normal(  )
    call InitTrig_Difficulty_Hard(  )
    call InitTrig_Start_Campaign_AI(  )
    call InitTrig_Setup_ComputerPlayers(  )
    call InitTrig_SetupCinematicPlayer(  )
    call InitTrig_Setup_PlayerResources(  )
    call InitTrig_Setup_Allies(  )
    call InitTrig_Setup_CinematicUnits(  )
    call InitTrig_Setup_Fire(  )
    call InitTrig_Setup_Doors(  )
    call InitTrig_Setup_SummoningCircle(  )
    call InitTrig_Setup_Timers(  )
    call InitTrig_Setup_Vision(  )
    call InitTrig_Setup_Quests(  )
    call InitTrig_TimerRushNormal(  )
    call InitTrig_TimerRushHard(  )
    call InitTrig_TealGold(  )
    call InitTrig_BlueGold(  )
    call InitTrig_RedGold(  )
    call InitTrig_TealLumber(  )
    call InitTrig_BlueLumber(  )
    call InitTrig_RedLumber(  )
    call InitTrig_Load_Heroes(  )
    call InitTrig_Load_Arthas(  )
    call InitTrig_Load_KelThuzad(  )
    call InitTrig_Drop_KelThuzad_Items(  )
    call InitTrig_Next_Level_Prep(  )
    call InitTrig_Next_Level_Run(  )
    call InitTrig_Victory_Cheat(  )
    call InitTrig_DefeatCheat(  )
    call InitTrig_OpeningCancelled(  )
    call InitTrig_Opening01(  )
    call InitTrig_Opening02(  )
    call InitTrig_Opening03(  )
    call InitTrig_MiningAcolytes(  )
    call InitTrig_ArthasHoldPosition(  )
    call InitTrig_EndingCancelled(  )
    call InitTrig_Ending01(  )
    call InitTrig_KelThuzad_Animation_Resets(  )
    call InitTrig_DialogueStart(  )
    call InitTrig_DialogueCooldown(  )
    call InitTrig_Timer01HellHound(  )
    call InitTrig_Timer01HellHound_Queue(  )
    call InitTrig_Timer02HellHound(  )
    call InitTrig_Timer02HellHound_Queue(  )
    call InitTrig_Timer03HellHound(  )
    call InitTrig_Timer03HellHound_Queue(  )
    call InitTrig_TimerInfernals(  )
    call InitTrig_TimerInfernals_Queue(  )
    call InitTrig_Shades(  )
    call InitTrig_ShadeFountain(  )
    call InitTrig_ShadeFountain_Queue(  )
    call InitTrig_ArchmageLevel(  )
    call InitTrig_ArchmageSpell(  )
    call InitTrig_SheepContainmentArea(  )
    call InitTrig_InitSideQuest(  )
    call InitTrig_InitSideQuest_Queue(  )
    call InitTrig_QuestCompleted(  )
    call InitTrig_GoblinMine01(  )
    call InitTrig_GoblinMine02(  )
    call InitTrig_GoblinMine03(  )
    call InitTrig_GoblinMine04(  )
    call InitTrig_Arthas01(  )
    call InitTrig_Arthas01_Queue(  )
    call InitTrig_Arthas02(  )
    call InitTrig_Arthas02_Queue(  )
    call InitTrig_KelThuzadDead(  )
    call InitTrig_Victory(  )
    call InitTrig_Player_Kills_All(  )
endfunction

//===========================================================================
function RunInitializationTriggers takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Melee_Initialization )
endfunction

//***************************************************************************
//*
//*  TechTree
//*
//***************************************************************************

function InitTechTree_Player0 takes nothing returns nothing
    call SetPlayerTechMaxAllowed( Player(0), 'Hpal', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Hamg', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'Hmkg', 0 )
endfunction

function InitTechTree_Player1 takes nothing returns nothing
    call SetPlayerTechMaxAllowed( Player(1), 'Hpal', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Hamg', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'Hmkg', 0 )
endfunction

function InitTechTree_Player2 takes nothing returns nothing
    call SetPlayerTechMaxAllowed( Player(2), 'Hpal', 0 )
    call SetPlayerTechMaxAllowed( Player(2), 'Hamg', 0 )
    call SetPlayerTechMaxAllowed( Player(2), 'Hmkg', 0 )
endfunction

function InitTechTree_Player3 takes nothing returns nothing
    call SetPlayerTechMaxAllowed( Player(3), 'Ulic', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'Udre', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'Udea', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'Hpal', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'Hamg', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'Hmkg', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'htow', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'hkee', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'hcas', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'hhou', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'halt', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'hbar', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'hlum', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'hbla', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'harm', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'hars', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'hgra', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'hwtw', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'hhes', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'nhea', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'nws1', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'hpea', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'hfoo', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'hkni', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'hrif', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'hmtm', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'hgyr', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'hgry', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'hmpr', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'hsor', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'hmtt', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'hgtw', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'hctw', 0 )
endfunction

function InitTechTree_Player6 takes nothing returns nothing
    call SetPlayerTechMaxAllowed( Player(6), 'Ulic', 0 )
    call SetPlayerTechMaxAllowed( Player(6), 'Udre', 0 )
    call SetPlayerTechMaxAllowed( Player(6), 'Udea', 0 )
    call SetPlayerTechMaxAllowed( Player(6), 'Hpal', 0 )
    call SetPlayerTechMaxAllowed( Player(6), 'Hamg', 0 )
    call SetPlayerTechMaxAllowed( Player(6), 'Hmkg', 0 )
endfunction

function InitTechTree_Player7 takes nothing returns nothing
    call SetPlayerTechMaxAllowed( Player(7), 'Hpal', 0 )
    call SetPlayerTechMaxAllowed( Player(7), 'Hamg', 0 )
    call SetPlayerTechMaxAllowed( Player(7), 'Hmkg', 0 )
endfunction

function InitTechTree takes nothing returns nothing
    call InitTechTree_Player0(  )
    call InitTechTree_Player1(  )
    call InitTechTree_Player2(  )
    call InitTechTree_Player3(  )
    call InitTechTree_Player6(  )
    call InitTechTree_Player7(  )
endfunction

//***************************************************************************
//*
//*  Players
//*
//***************************************************************************

function InitCustomPlayerSlots takes nothing returns nothing

    // Player 0
    call SetPlayerStartLocation( Player(0), 0 )
    call ForcePlayerStartLocation( Player(0), 0 )
    call SetPlayerColor( Player(0), ConvertPlayerColor(0) )
    call SetPlayerRacePreference( Player(0), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(0), true )
    call SetPlayerController( Player(0), MAP_CONTROL_COMPUTER )

    // Player 1
    call SetPlayerStartLocation( Player(1), 1 )
    call ForcePlayerStartLocation( Player(1), 1 )
    call SetPlayerColor( Player(1), ConvertPlayerColor(1) )
    call SetPlayerRacePreference( Player(1), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(1), true )
    call SetPlayerController( Player(1), MAP_CONTROL_COMPUTER )

    // Player 2
    call SetPlayerStartLocation( Player(2), 2 )
    call ForcePlayerStartLocation( Player(2), 2 )
    call SetPlayerColor( Player(2), ConvertPlayerColor(2) )
    call SetPlayerRacePreference( Player(2), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(2), true )
    call SetPlayerController( Player(2), MAP_CONTROL_COMPUTER )

    // Player 3
    call SetPlayerStartLocation( Player(3), 3 )
    call ForcePlayerStartLocation( Player(3), 3 )
    call SetPlayerColor( Player(3), ConvertPlayerColor(3) )
    call SetPlayerRacePreference( Player(3), RACE_PREF_UNDEAD )
    call SetPlayerRaceSelectable( Player(3), true )
    call SetPlayerController( Player(3), MAP_CONTROL_USER )

    // Player 6
    call SetPlayerStartLocation( Player(6), 4 )
    call ForcePlayerStartLocation( Player(6), 4 )
    call SetPlayerColor( Player(6), ConvertPlayerColor(6) )
    call SetPlayerRacePreference( Player(6), RACE_PREF_UNDEAD )
    call SetPlayerRaceSelectable( Player(6), true )
    call SetPlayerController( Player(6), MAP_CONTROL_NEUTRAL )

    // Player 7
    call SetPlayerStartLocation( Player(7), 5 )
    call ForcePlayerStartLocation( Player(7), 5 )
    call SetPlayerColor( Player(7), ConvertPlayerColor(7) )
    call SetPlayerRacePreference( Player(7), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(7), true )
    call SetPlayerController( Player(7), MAP_CONTROL_NEUTRAL )

endfunction

function InitCustomTeams takes nothing returns nothing
    // Force: TRIGSTR_030
    call SetPlayerTeam( Player(3), 0 )
    call SetPlayerState( Player(3), PLAYER_STATE_ALLIED_VICTORY, 1 )
    call SetPlayerTeam( Player(6), 0 )
    call SetPlayerState( Player(6), PLAYER_STATE_ALLIED_VICTORY, 1 )

    //   Allied
    call SetPlayerAlliance( Player(3), Player(6), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(6), Player(3), ALLIANCE_PASSIVE, true )

    //   Shared Vision
    call SetPlayerAlliance( Player(3), Player(6), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(6), Player(3), ALLIANCE_SHARED_VISION, true )

    // Force: TRIGSTR_026
    call SetPlayerTeam( Player(0), 1 )
    call SetPlayerState( Player(0), PLAYER_STATE_ALLIED_VICTORY, 1 )
    call SetPlayerTeam( Player(1), 1 )
    call SetPlayerState( Player(1), PLAYER_STATE_ALLIED_VICTORY, 1 )
    call SetPlayerTeam( Player(2), 1 )
    call SetPlayerState( Player(2), PLAYER_STATE_ALLIED_VICTORY, 1 )
    call SetPlayerTeam( Player(7), 1 )
    call SetPlayerState( Player(7), PLAYER_STATE_ALLIED_VICTORY, 1 )

    //   Allied
    call SetPlayerAlliance( Player(0), Player(1), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(0), Player(2), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(0), Player(7), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(1), Player(0), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(1), Player(2), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(1), Player(7), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(2), Player(0), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(2), Player(1), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(2), Player(7), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(7), Player(0), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(7), Player(1), ALLIANCE_PASSIVE, true )
    call SetPlayerAlliance( Player(7), Player(2), ALLIANCE_PASSIVE, true )

    //   Shared Vision
    call SetPlayerAlliance( Player(0), Player(1), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(0), Player(2), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(0), Player(7), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(1), Player(0), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(1), Player(2), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(1), Player(7), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(2), Player(0), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(2), Player(1), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(2), Player(7), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(7), Player(0), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(7), Player(1), ALLIANCE_SHARED_VISION, true )
    call SetPlayerAlliance( Player(7), Player(2), ALLIANCE_SHARED_VISION, true )

endfunction

//***************************************************************************
//*
//*  Main Initialization
//*
//***************************************************************************

//===========================================================================
function main takes nothing returns nothing
    call SetCameraBounds( -6400.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), -7168.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM), 7424.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), 7168.0 - GetCameraMargin(CAMERA_MARGIN_TOP), -6400.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), 7168.0 - GetCameraMargin(CAMERA_MARGIN_TOP), 7424.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), -7168.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM) )
    call SetDayNightModels( "Environment\\DNC\\DNCDalaran\\DNCDalaranTerrain\\DNCDalaranTerrain.mdl", "Environment\\DNC\\DNCDalaran\\DNCDalaranUnit\\DNCDalaranUnit.mdl" )
    call SetAmbientDaySound( "DalaranDay" )
    call SetAmbientNightSound( "DalaranNight" )
    call SetMapMusic( "Music", true, 0 )
    call InitSounds(  )
    call CreateRegions(  )
    call CreateCameras(  )
    call InitTechTree(  )
    call CreateAllDestructables(  )
    call CreateAllUnits(  )
    call InitBlizzard(  )
    call InitGlobals(  )
    call InitCustomTriggers(  )
    call RunInitializationTriggers(  )

endfunction

//***************************************************************************
//*
//*  Map Configuration
//*
//***************************************************************************

function config takes nothing returns nothing
    call SetMapName( "TRIGSTR_000" )
    call SetMapDescription( "TRIGSTR_002" )
    call SetPlayers( 6 )
    call SetTeams( 6 )
    call SetGamePlacement( MAP_PLACEMENT_USE_MAP_SETTINGS )

    call DefineStartLocation( 0, 6144.0, -1408.0 )
    call DefineStartLocation( 1, 3136.0, 5760.0 )
    call DefineStartLocation( 2, -4352.0, 1792.0 )
    call DefineStartLocation( 3, -512.0, -4416.0 )
    call DefineStartLocation( 4, -3840.0, 2304.0 )
    call DefineStartLocation( 5, 2880.0, 2688.0 )

    // Player setup
    call InitCustomPlayerSlots(  )
    call InitCustomTeams(  )
endfunction

