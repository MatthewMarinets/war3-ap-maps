globals
    // User-defined
unit udg_Sergeant= null
unit udg_TeleportUnit= null
unit udg_Jaina= null
unit udg_Arthas= null
group udg_Farm01CorruptedGroup= null
group udg_Farm02CorruptedGroup= null
group udg_Farm03CorruptedGroup= null
group udg_Farm04CorruptedGroup= null
location udg_LastCaravanDeath= null
location udg_CorruptVillager01= null
location udg_CorruptVillager02= null
location udg_CorruptVillager03= null
location udg_CorruptVillager04= null
location udg_CorruptVillager05= null
location udg_CorruptVillager06= null
location udg_CorruptVillager07= null
group udg_CorruptVillagerGroup1= null
boolean udg_IntroCancelled= false
unit udg_Footman1= null
unit udg_Footman2= null
unit udg_Priest1= null
unit udg_Rifleman1= null
group udg_Militia= null
unit udg_Uther= null
group udg_UtherKnights1= null
boolean udg_EndingCancelled= false
boolean udg_Reinforcement= false
group udg_Farm05Group1= null
fogmodifier udg_Farm05= null
fogmodifier udg_FountainVisibility= null
group udg_Farmers01= null
group udg_Farmers02= null
group udg_Farmers03= null
group udg_Farmers04= null
quest udg_HearthglenQuest= null
quest udg_GrainCaravanQuest= null
timer udg_Timer30Minute= null
location udg_ArthasPoint= null
timer udg_TimerWarning= null
group udg_TheCaravanWagons= null
timer udg_HopelessTimer= null
unit udg_SheepItem= null
location udg_SheepPoint= null
effect array udg_PlagueCloudsA
effect array udg_PlagueCloudsB
effect array udg_PlagueCloudsC
effect array udg_PlagueCloudsD
effect udg_Farm05Quest= null
timer udg_SuicideTimer= null
timer udg_OrangeAIAttackWave= null
unit array udg_CaravanUnitArray
real array udg_FormationAngleArray
real array udg_FormationDistanceArray
integer udg_FormationTotal= 0
rect array udg_FormationRegionArray
location array udg_zBreadcrumbArray
integer udg_BreadcrumbTotal= 0
integer udg_BreadcrumbCurrent= 0
real udg_ReorientAngle= 0
location udg_zReorientTarget= null
real udg_TempAngle= 0
real udg_TempX= 0
real udg_TempY= 0
timer udg_CaravanTestPulse= null
timer udg_CaravanOrderPulse= null
integer udg_CaravanWagonFirst= 0
integer udg_CaravanWagonLast= 0
integer udg_CaravanGuardFirst= 0
integer udg_CaravanGuardLast= 0
real array udg_BreadcrumbAngleArray
real udg_TempLastAngle= 0
real udg_TempNextAngle= 0
integer udg_TempLastIndex= 0
integer udg_TempNextIndex= 0
real udg_SpeedOfGuards= 0
real udg_SpeedOfWagons= 0
real udg_GuardCallForHelpDist= 0
integer udg_BreadcrumbAllowed= 0
timer udg_CaravanTown1Timer= null
real udg_TempMinAngle= 0
real udg_TempMaxAngle= 0
integer udg_BreadcrumbIntro= 0
integer udg_BreadcrumbStopTown1= 0
integer udg_BreadcrumbStopTown2= 0
integer udg_BreadcrumbStopTown3= 0
integer udg_BreadcrumbStopTown4= 0
integer udg_BreadcrumbStopExit= 0
integer udg_BreadcrumbReached= 0
group udg_TheCaravanGuards= null
timer udg_CaravanTown2Timer= null
timer udg_CaravanTown3Timer= null
timer udg_CaravanTown4Timer= null
unit udg_FreeVillager= null
unit udg_MalGanis01= null
unit udg_MalGanis02= null
unit udg_MalGanis03= null
unit udg_MalGanis04= null
unit udg_MalGanis05= null
unit udg_MalGanis06= null
unit udg_MalGanis07= null
boolean udg_MilitiaStop= false
effect udg_FreeVillagerTalktoMe= null
item udg_TownPortal= null
fogmodifier udg_VillageVis= null
unit udg_MalGanisOutside01= null
group udg_OutsideFarmGroup= null
unit udg_MalGanisOutside02= null
unit udg_MalGanisOutside03= null
group udg_RoamingVillagersA= null
group udg_RoamingVillagersB= null
group udg_RoamingVillagersC= null
group udg_RoamingVillagersD= null
group udg_RoamingVillagersE= null
group udg_RoamingVillagersF= null
boolean udg_CARAVANISDEADBOOLEAN= false
location udg_CameraPosition= null
unit udg_Villager01= null
unit udg_Villager02= null
unit udg_Villager03= null
unit udg_Villager04= null
unit udg_Villager05= null
unit udg_Villager06= null
unit udg_Villager07= null
unit udg_Villager08= null
unit udg_Villager09= null
unit udg_Villager10= null
unit udg_Villager11= null
unit udg_Villager12= null
unit udg_Villager13= null
unit udg_Villager14= null
unit udg_Villager15= null
unit udg_Villager16= null
unit udg_Villager17= null
unit udg_Villager18= null
unit udg_Villager19= null
unit udg_MalGanis08= null
unit udg_Foot1= null
unit udg_Foot2= null
unit udg_Foot3= null
unit udg_Foot4= null
unit udg_Foot5= null
unit udg_Foot6= null
unit udg_AbominationFodder= null
unit udg_AbominationFodderB= null
unit udg_Rifle1= null
unit udg_Rifle2= null
unit udg_Rifle3= null
unit udg_Foot7= null
unit udg_AbominationFodderC= null
unit udg_GhoulAttackArthas= null
unit udg_AbominationFodderD= null
unit udg_AbominationFodderE= null
unit udg_AbominationFodderF= null
boolean udg_GAMEOVER= false
timer udg_CaravanCorruptionPulse= null
questitem udg_REQCaravanquest= null
effect udg_mass_teleport_effect= null

    // Generated
rect gg_rct_01Arthas_A= null
rect gg_rct_01Arthas_B= null
rect gg_rct_01Arthas_C= null
rect gg_rct_01Arthas_Start= null
rect gg_rct_01Jaina_A= null
rect gg_rct_01Jaina_B= null
rect gg_rct_01Jaina_Start= null
rect gg_rct_01Jaina_Teleports_A= null
rect gg_rct_01Jaina_Teleports_B= null
rect gg_rct_01Militia_Line_A_01a= null
rect gg_rct_01Militia_Line_A_01b= null
rect gg_rct_01Militia_Line_A_02a= null
rect gg_rct_01Militia_Line_A_02b= null
rect gg_rct_01Militia_Line_A_03a= null
rect gg_rct_01Militia_Line_A_03b= null
rect gg_rct_01Militia_Line_B_01a= null
rect gg_rct_01Militia_Line_B_01b= null
rect gg_rct_01Militia_Line_B_02a= null
rect gg_rct_01Militia_Line_B_02b= null
rect gg_rct_01Militia_Line_B_03a= null
rect gg_rct_01Militia_Line_B_03b= null
rect gg_rct_01Militia_Line_C_01a= null
rect gg_rct_01Militia_Line_C_01b= null
rect gg_rct_01Militia_Line_C_02a= null
rect gg_rct_01Militia_Line_C_02b= null
rect gg_rct_01Sergeant_A= null
rect gg_rct_01Sergeant_B= null
rect gg_rct_01Sergeant_C= null
rect gg_rct_01Town_Footman_1_A= null
rect gg_rct_01Town_Footman_1_B= null
rect gg_rct_01Town_Footman_1_C= null
rect gg_rct_01Town_Footman_2_A= null
rect gg_rct_01Town_Footman_2_B= null
rect gg_rct_01Town_Footman_2_C= null
rect gg_rct_01Town_Priest_A= null
rect gg_rct_01Town_Priest_B= null
rect gg_rct_01Town_Priest_C= null
rect gg_rct_01Town_Rifleman_A= null
rect gg_rct_01Town_Rifleman_B= null
rect gg_rct_01Town_Rifleman_C= null
rect gg_rct_02_Roaming_Villager_A= null
rect gg_rct_02_Roaming_Villager_B= null
rect gg_rct_02_Roaming_Villager_C= null
rect gg_rct_02_Roaming_Villager_D= null
rect gg_rct_02_Roaming_Villager_E= null
rect gg_rct_02_Roaming_Villager_F= null
rect gg_rct_02_Villager_A_Retreat_A= null
rect gg_rct_02_Villager_A_Retreat_B= null
rect gg_rct_02_Villager_B_Retreat_A= null
rect gg_rct_02_Villager_C_Retreat_A= null
rect gg_rct_02_Villager_D_Retreat_A= null
rect gg_rct_02_Villager_E_Retreat_A= null
rect gg_rct_02_Villager_F_Retreat_A= null
rect gg_rct_02_Villager_F_Retreat_B= null
rect gg_rct_02_Vis_Hearthglen_A= null
rect gg_rct_02_Vis_Hearthglen_B= null
rect gg_rct_02_Vis_Hearthglen_C= null
rect gg_rct_02_Vis_Hearthglen_D= null
rect gg_rct_02_Vis_Hearthglen_E= null
rect gg_rct_02Harvest_Gold= null
rect gg_rct_02Harvest_Lumber= null
rect gg_rct_02Hearthglen= null
rect gg_rct_02Outside_Farm= null
rect gg_rct_03Caravan_Removal= null
rect gg_rct_03Caravan_Spotted= null
rect gg_rct_03Village_Corruption_1_A= null
rect gg_rct_03Village_Corruption_2_A= null
rect gg_rct_03Village_Corruption_3_A= null
rect gg_rct_03Village_Corruption_4_A= null
rect gg_rct_04Farm_01_Roaming_Units_A= null
rect gg_rct_04Farm_01_Roaming_Units_B= null
rect gg_rct_04Farm_02_Roaming_Units_A= null
rect gg_rct_04Farm_02_Roaming_Units_C= null
rect gg_rct_04Farm_03_Roaming_Units_A= null
rect gg_rct_04Farm_03_Roaming_Units_B= null
rect gg_rct_04Farm_04_Roaming_Units_A= null
rect gg_rct_04Farm_04_Roaming_Units_B= null
rect gg_rct_04Farm_04_Roaming_Units_C= null
rect gg_rct_04Farm_04_Roaming_Units_D= null
rect gg_rct_04Farm04_Visibility= null
rect gg_rct_05Farm05_Visibility= null
rect gg_rct_05Farm05Greeting= null
rect gg_rct_05Farm05Troops_01= null
rect gg_rct_05Farm05Troops_02= null
rect gg_rct_05Farm05Troops_03= null
rect gg_rct_05Troop_2= null
rect gg_rct_05Troop_3= null
rect gg_rct_06Arthas_Ending_A= null
rect gg_rct_06Arthas_Ending_B= null
rect gg_rct_06Arthas_Ending_C= null
rect gg_rct_06Jaina_Ending_A= null
rect gg_rct_06Jaina_Ending_B= null
rect gg_rct_06Jaina_Ending_C= null
rect gg_rct_06Uther_Ending_A= null
rect gg_rct_06Uther_Ending_C= null
rect gg_rct_07Reinforcement_3_A= null
rect gg_rct_07Reinforcement_3_B= null
rect gg_rct_07Reinforcement_3_C= null
rect gg_rct_07Uther_Knights_Attack_02= null
rect gg_rct_Abomination_Dead= null
rect gg_rct_Abomination_Dead_B= null
rect gg_rct_Abomination_Face_Footman= null
rect gg_rct_Abomination_Face_Footman_B= null
rect gg_rct_Abomination_Take_It= null
rect gg_rct_Acolyte_Appear= null
rect gg_rct_Acolyte_Move= null
rect gg_rct_Advance= null
rect gg_rct_Advance_End= null
rect gg_rct_AI_Difficulty_Building_01= null
rect gg_rct_AI_Difficulty_Building_02= null
rect gg_rct_AI_Difficulty_Unit_01= null
rect gg_rct_AI_Difficulty_Unit_02= null
rect gg_rct_AI_Difficulty_Unit_03= null
rect gg_rct_AI_Difficulty_Unit_04= null
rect gg_rct_All_Attack= null
rect gg_rct_All_Attack_Other= null
rect gg_rct_Arthas_Moves_A_little= null
rect gg_rct_Arthas_Talks_To_Uther= null
rect gg_rct_Arthas_Uh_Oh= null
rect gg_rct_BattleSoundArea= null
rect gg_rct_Breadcrumb_01= null
rect gg_rct_Breadcrumb_02= null
rect gg_rct_Breadcrumb_03= null
rect gg_rct_Breadcrumb_04= null
rect gg_rct_Breadcrumb_05= null
rect gg_rct_Breadcrumb_06= null
rect gg_rct_Breadcrumb_07= null
rect gg_rct_Breadcrumb_08= null
rect gg_rct_Breadcrumb_09= null
rect gg_rct_Breadcrumb_10= null
rect gg_rct_Breadcrumb_11= null
rect gg_rct_Breadcrumb_12= null
rect gg_rct_Breadcrumb_13= null
rect gg_rct_Breadcrumb_14= null
rect gg_rct_Breadcrumb_15= null
rect gg_rct_Breadcrumb_16= null
rect gg_rct_Breadcrumb_17= null
rect gg_rct_Breadcrumb_18= null
rect gg_rct_Breadcrumb_19= null
rect gg_rct_Breadcrumb_20= null
rect gg_rct_Breadcrumb_21= null
rect gg_rct_Breadcrumb_22= null
rect gg_rct_Breadcrumb_23= null
rect gg_rct_Breadcrumb_24= null
rect gg_rct_Breadcrumb_25= null
rect gg_rct_Breadcrumb_26= null
rect gg_rct_Breadcrumb_27= null
rect gg_rct_Breadcrumb_28= null
rect gg_rct_Breadcrumb_29= null
rect gg_rct_Breadcrumb_30= null
rect gg_rct_Breadcrumb_31= null
rect gg_rct_Breadcrumb_32= null
rect gg_rct_Breadcrumb_33= null
rect gg_rct_Breadcrumb_34= null
rect gg_rct_Breadcrumb_35= null
rect gg_rct_Breadcrumb_36= null
rect gg_rct_Breadcrumb_37= null
rect gg_rct_Breadcrumb_38= null
rect gg_rct_Breadcrumb_39= null
rect gg_rct_Breadcrumb_40= null
rect gg_rct_Breadcrumb_41= null
rect gg_rct_Breadcrumb_42= null
rect gg_rct_Breadcrumb_43= null
rect gg_rct_Breadcrumb_44= null
rect gg_rct_Breadcrumb_45= null
rect gg_rct_Breadcrumb_46= null
rect gg_rct_Breadcrumb_47= null
rect gg_rct_Breadcrumb_48= null
rect gg_rct_Breadcrumb_49= null
rect gg_rct_Breadcrumb_50= null
rect gg_rct_Breadcrumb_51= null
rect gg_rct_Breadcrumb_52= null
rect gg_rct_Breadcrumb_53= null
rect gg_rct_Breadcrumb_54= null
rect gg_rct_Breadcrumb_55= null
rect gg_rct_Breadcrumb_56= null
rect gg_rct_Breadcrumb_57= null
rect gg_rct_Breadcrumb_58= null
rect gg_rct_Breadcrumb_59= null
rect gg_rct_Breadcrumb_60= null
rect gg_rct_Breadcrumb_61= null
rect gg_rct_Breadcrumb_62= null
rect gg_rct_Breadcrumb_63= null
rect gg_rct_Breadcrumb_64= null
rect gg_rct_Breadcrumb_65= null
rect gg_rct_Breadcrumb_66= null
rect gg_rct_Breadcrumb_67= null
rect gg_rct_Breadcrumb_68= null
rect gg_rct_Breadcrumb_69= null
rect gg_rct_Breadcrumb_70= null
rect gg_rct_Breadcrumb_71= null
rect gg_rct_Breadcrumb_72= null
rect gg_rct_Breadcrumb_73= null
rect gg_rct_Breadcrumb_74= null
rect gg_rct_Clear_OUt= null
rect gg_rct_Conversion_01= null
rect gg_rct_Conversion_02= null
rect gg_rct_Conversion_03= null
rect gg_rct_Conversion_04= null
rect gg_rct_Conversion_05= null
rect gg_rct_Conversion_06= null
rect gg_rct_Conversion_07= null
rect gg_rct_Dead_Ghoul_Other= null
rect gg_rct_Easy_Lad= null
rect gg_rct_Farm_01_Create_A= null
rect gg_rct_Farm_01_Create_B= null
rect gg_rct_Farm_01_Ghouls_Move= null
rect gg_rct_Farm_02_Create_A= null
rect gg_rct_Farm_02_Create_B= null
rect gg_rct_Farm_02_Ghouls_Move= null
rect gg_rct_Farm_03_Create_A= null
rect gg_rct_Farm_03_Create_B= null
rect gg_rct_Farm_03_Ghouls_Move= null
rect gg_rct_Farm_04_Create_A= null
rect gg_rct_Farm_04_Create_B= null
rect gg_rct_Farm_04_Create_C= null
rect gg_rct_Farm_04_Create_D= null
rect gg_rct_Farm_04_Ghouls_Move= null
rect gg_rct_Fire1= null
rect gg_rct_Fire2= null
rect gg_rct_Fire3= null
rect gg_rct_Footman_Face_Abomination= null
rect gg_rct_Footman_Face_Abomination_B= null
rect gg_rct_Footman_Face_Ghoul= null
rect gg_rct_Footman_Face_Ghoul_B= null
rect gg_rct_Footman_Face_Ghoul_C= null
rect gg_rct_Footman_Face_Ghoul_D= null
rect gg_rct_Footman_Face_Ghoul_E= null
rect gg_rct_Formation_01= null
rect gg_rct_Formation_02= null
rect gg_rct_Formation_03= null
rect gg_rct_Formation_04= null
rect gg_rct_Formation_05= null
rect gg_rct_Formation_06= null
rect gg_rct_Formation_07= null
rect gg_rct_Formation_08= null
rect gg_rct_Formation_09= null
rect gg_rct_Formation_10= null
rect gg_rct_Formation_11= null
rect gg_rct_Formation_12= null
rect gg_rct_Formation_13= null
rect gg_rct_FormationCenter= null
rect gg_rct_Fountain_of_Life= null
rect gg_rct_Free_Villager= null
rect gg_rct_Gargoyle_Dead= null
rect gg_rct_Ghoul_Face_Footman= null
rect gg_rct_Ghoul_Face_Footman_B= null
rect gg_rct_Ghoul_Face_Footman_C= null
rect gg_rct_Ghoul_Face_Footman_D= null
rect gg_rct_Ghoul_Face_Footman_E= null
rect gg_rct_GhoulMakesBadChoice= null
rect gg_rct_Jaina_Item_Drop_01= null
rect gg_rct_Jaina_Item_Drop_02= null
rect gg_rct_Jaina_Item_Drop_03= null
rect gg_rct_Jaina_Item_Drop_04= null
rect gg_rct_Jaina_Item_Drop_05= null
rect gg_rct_Jaina_Item_Drop_06= null
rect gg_rct_Jaina_Stands_Around= null
rect gg_rct_Kill_Em_All= null
rect gg_rct_Knights_Charge_Again= null
rect gg_rct_KnightsEnter1= null
rect gg_rct_KnightsEnter2= null
rect gg_rct_KnightsEnter3= null
rect gg_rct_LakeLoop01= null
rect gg_rct_LakeLoop02= null
rect gg_rct_LakeLoop03= null
rect gg_rct_LakeLoop04= null
rect gg_rct_LakeLoop05= null
rect gg_rct_LakeLoop06= null
rect gg_rct_LakeLoop07= null
rect gg_rct_LakeLoop08= null
rect gg_rct_Malganis_Corruption_01= null
rect gg_rct_Malganis_Corruption_02= null
rect gg_rct_Malganis_Corruption_03= null
rect gg_rct_Malganis_Corruption_04= null
rect gg_rct_Malganis_Corruption_05= null
rect gg_rct_Malganis_Corruption_06= null
rect gg_rct_Malganis_Corruption_07= null
rect gg_rct_Malganis_Corruption_08= null
rect gg_rct_Malganis_Farm_01= null
rect gg_rct_Malganis_Farm_02__A= null
rect gg_rct_Malganis_Farm_02__B= null
rect gg_rct_Malganis_Farm_03= null
rect gg_rct_Malganis_Farm_04_A= null
rect gg_rct_Malganis_Farm_04_B= null
rect gg_rct_Malganis_Farm_04_C= null
rect gg_rct_Malganis_Farm_04_D= null
rect gg_rct_Meat= null
rect gg_rct_Necro_Dead= null
rect gg_rct_Region_287= null
rect gg_rct_Rifleman_Dead= null
rect gg_rct_Rifleman_Fire= null
rect gg_rct_Rifleman_Fire_B= null
rect gg_rct_Rifleman_Fire_C= null
rect gg_rct_Sheep= null
rect gg_rct_Skeleton= null
rect gg_rct_Undead_Mob_Attack= null
rect gg_rct_Undead_Mob_Attack_B= null
rect gg_rct_Undead_Mob_Start= null
rect gg_rct_Undead_Mob_Start_B= null
rect gg_rct_Unlucky_Priest= null
rect gg_rct_Uther_Attack_Abomination= null
rect gg_rct_Uther_Talks_To_Arthas= null
rect gg_rct_Village_Check_01= null
rect gg_rct_Village_Check_02= null
rect gg_rct_Village_Check_03= null
rect gg_rct_Village_Check_04= null
rect gg_rct_Village_Vis_01= null
rect gg_rct_Village_Vis_02= null
rect gg_rct_Village_Vis_03= null
rect gg_rct_Fire2New= null
camerasetup gg_cam_Arthas_Defiant_A= null
camerasetup gg_cam_Arthas_Defiant_B= null
camerasetup gg_cam_Caravan= null
camerasetup gg_cam_Dont_Celebrate_Yet= null
camerasetup gg_cam_Dont_Celebrate_Yet_B= null
camerasetup gg_cam_Easy_Lad= null
camerasetup gg_cam_EndCinematic01= null
camerasetup gg_cam_EndCinematic02= null
camerasetup gg_cam_EndCinematic03= null
camerasetup gg_cam_EndCinematic04= null
camerasetup gg_cam_EndCinematic05= null
camerasetup gg_cam_EndCinematic06= null
camerasetup gg_cam_EndCinematic07= null
camerasetup gg_cam_EndCinematic08= null
camerasetup gg_cam_EndCinematic09= null
camerasetup gg_cam_EndCinematic10= null
camerasetup gg_cam_Ending_Cinematic_Cancel= null
camerasetup gg_cam_Mob_Attack_A_Alternate= null
camerasetup gg_cam_Nows_Not_The_Time= null
camerasetup gg_cam_Oh_Crap= null
camerasetup gg_cam_Starting_Cienmatic_14= null
camerasetup gg_cam_Starting_Cienmatic_Cancel= null
camerasetup gg_cam_Starting_Cinematic_01= null
camerasetup gg_cam_Starting_Cinematic_02= null
camerasetup gg_cam_Starting_Cinematic_03= null
camerasetup gg_cam_Starting_Cinematic_04= null
camerasetup gg_cam_Starting_Cinematic_05= null
camerasetup gg_cam_Starting_Cinematic_06= null
camerasetup gg_cam_Starting_Cinematic_07= null
camerasetup gg_cam_Starting_Cinematic_08= null
camerasetup gg_cam_Starting_Cinematic_09= null
camerasetup gg_cam_Starting_Cinematic_10= null
camerasetup gg_cam_Starting_Cinematic_11= null
camerasetup gg_cam_Starting_Cinematic_12= null
camerasetup gg_cam_Starting_Cinematic_13= null
camerasetup gg_cam_Surprised_A= null
camerasetup gg_cam_Surprised_B= null
camerasetup gg_cam_Test= null
camerasetup gg_cam_Undead_Mob_Attack_A= null
camerasetup gg_cam_Undead_Mob_Attack_B= null
camerasetup gg_cam_Undead_Mob_Attack_C= null
camerasetup gg_cam_Uther_Arrives_A= null
camerasetup gg_cam_Uther_Arrives_B= null
camerasetup gg_cam_Your_Timing= null
sound gg_snd_H05Acolyte22= null
sound gg_snd_H05Arthas02= null
sound gg_snd_H05Arthas05= null
sound gg_snd_H05Arthas07= null
sound gg_snd_H05Arthas08= null
sound gg_snd_H05Arthas10= null
sound gg_snd_H05Arthas11= null
sound gg_snd_H05Arthas13= null
sound gg_snd_H05Arthas21= null
sound gg_snd_H05Arthas23= null
sound gg_snd_H05Arthas25= null
sound gg_snd_H05Arthas26= null
sound gg_snd_H05Arthas28= null
sound gg_snd_H05Arthas31= null
sound gg_snd_H05Arthas33= null
sound gg_snd_H05Arthas35= null
sound gg_snd_H05Footman03= null
sound gg_snd_H05Footman04= null
sound gg_snd_H05Footman09= null
sound gg_snd_H05Footman12= null
sound gg_snd_H05Footman16= null
sound gg_snd_H05Footman18= null
sound gg_snd_H05Footman20= null
sound gg_snd_H05Footman24= null
sound gg_snd_H05Jaina06= null
sound gg_snd_H05Uther27= null
sound gg_snd_H05Uther29= null
sound gg_snd_H05Uther30= null
sound gg_snd_H05Uther32= null
sound gg_snd_H05Uther34= null
sound gg_snd_H05Jaina01= null
sound gg_snd_H05Footman51= null
sound gg_snd_H01VillagerM43= null
sound gg_snd_H05VillagerM47= null
sound gg_snd_H05VillagerM49= null
sound gg_snd_RiflemanAttack2= null
sound gg_snd_FootmanYesAttack2= null
sound gg_snd_RiflemanAttack1= null
sound gg_snd_MassTeleportTarget= null
sound gg_snd_Sheep1= null
sound gg_snd_HorseLoop3= null
sound gg_snd_UtherReturns= null
sound gg_snd_WaterLakeLoop1= null
sound gg_snd_ArthasPissed4= null
sound gg_snd_MetalHeavyBashFlesh1= null
sound gg_snd_MetalMediumBashFlesh1= null
sound gg_snd_MetalMediumBashFlesh2= null
sound gg_snd_MetalMediumBashFlesh3= null
sound gg_snd_MetalMediumChopFlesh1= null
sound gg_snd_MetalMediumChopFlesh2= null
sound gg_snd_MetalMediumChopFlesh3= null
sound gg_snd_MetalMediumSliceFlesh1= null
sound gg_snd_MetalMediumSliceFlesh2= null
sound gg_snd_MetalMediumSliceFlesh3= null
sound gg_snd_WoodMediumBashMetal1= null
sound gg_snd_WoodMediumBashMetal2= null
sound gg_snd_WoodMediumBashMetal3= null
sound gg_snd_HorseLoop2= null
trigger gg_trg_fileio= null
trigger gg_trg_map_config= null
trigger gg_trg_status= null
trigger gg_trg_heroes= null
trigger gg_trg_item_locations= null
trigger gg_trg_debug= null
trigger gg_trg_zoom= null
trigger gg_trg_irregulars= null
trigger gg_trg_AP_Load_Arthas= null
trigger gg_trg_AP_Load_Jaina= null
trigger gg_trg_Shop_Locations= null
trigger gg_trg_Purple_Lich_Location= null
trigger gg_trg_Green_Lich_Location= null
trigger gg_trg_Purple_Base_Location= null
trigger gg_trg_Green_Base_Location= null
trigger gg_trg_Map_Initilization= null
trigger gg_trg_Load_Heroes= null
trigger gg_trg_SetupHereos= null
trigger gg_trg_SetupBreadcrumbs= null
trigger gg_trg_SetupBreadcrumbs_Single= null
trigger gg_trg_SetupFormations= null
trigger gg_trg_SetupCaravan= null
trigger gg_trg_SetupCaravan_Single_Wagon= null
trigger gg_trg_SetupCaravan_Single_Guard= null
trigger gg_trg_SetupHerathglenVillagers= null
trigger gg_trg_SetupPlayers= null
trigger gg_trg_Setup_Sounds= null
trigger gg_trg_SetupQuest= null
trigger gg_trg_Difficulty_Easy= null
trigger gg_trg_Difficulty_Normal= null
trigger gg_trg_Difficulty_Hard= null
trigger gg_trg_Remove_AI_Units= null
trigger gg_trg_Intro_Cancelled= null
trigger gg_trg_Cinematic_A= null
trigger gg_trg_Cinematic_B= null
trigger gg_trg_Sergeant_Move= null
trigger gg_trg_Cinematic_C= null
trigger gg_trg_Cinematic_D= null
trigger gg_trg_Cinematic_E= null
trigger gg_trg_Cinematic_F= null
trigger gg_trg_Dark_Conversion_01= null
trigger gg_trg_Dark_Conversion_02= null
trigger gg_trg_Dark_Conversion_03= null
trigger gg_trg_Dark_Conversion_04= null
trigger gg_trg_Dark_Conversion_05= null
trigger gg_trg_Dark_Conversion_06= null
trigger gg_trg_Dark_Conversion_07= null
trigger gg_trg_Troop_Facing= null
trigger gg_trg_Militia_Line_A= null
trigger gg_trg_Militia_Line_B= null
trigger gg_trg_Militia_Line_C= null
trigger gg_trg_Militia_A= null
trigger gg_trg_Militia_B= null
trigger gg_trg_Militia_C= null
trigger gg_trg_Militia_Repeat_A= null
trigger gg_trg_Militia_Repeat_B= null
trigger gg_trg_Militia_Repeat_C= null
trigger gg_trg_Mission_Begins= null
trigger gg_trg_Jaina_Items_Drop= null
trigger gg_trg_Start_AI= null
trigger gg_trg_Zombies_are_Dead= null
trigger gg_trg_Main_Quest_Discovered= null
trigger gg_trg_Sorceress_Available= null
trigger gg_trg_First_Attack_Wave_01_QUE= null
trigger gg_trg_First_Attack_Wave_01= null
trigger gg_trg_City_Building= null
trigger gg_trg_Sheep= null
trigger gg_trg_ArthasHopeless_QUE= null
trigger gg_trg_ArthasHopeless= null
trigger gg_trg_Timer_Warning_10_QUE= null
trigger gg_trg_Timer_Warning_10= null
trigger gg_trg_Outside_Farmer_01= null
trigger gg_trg_Outside_Farmer_02= null
trigger gg_trg_Outside_Farmer_03= null
trigger gg_trg_Outside_Famer_01_Zombie= null
trigger gg_trg_Malganis_Corruption= null
trigger gg_trg_Dark_Conversion_Outside_Farm= null
trigger gg_trg_Crate_Item= null
trigger gg_trg_01Roaming_Villager_A= null
trigger gg_trg_01Roaming_Villager_Aa= null
trigger gg_trg_01Roaming_Villager_B= null
trigger gg_trg_01Roaming_Villager_Bb= null
trigger gg_trg_01Villager_Retreat_A= null
trigger gg_trg_01Villager_Retreat_B= null
trigger gg_trg_01Remove_Villager_01= null
trigger gg_trg_01Remove_Villager_02= null
trigger gg_trg_02Roaming_Villager_A= null
trigger gg_trg_02Roaming_Villager_B= null
trigger gg_trg_02Roaming_Villager_C= null
trigger gg_trg_02Villager_Retreat_A= null
trigger gg_trg_02Remove_Villager_01= null
trigger gg_trg_03Roaming_Villager_A= null
trigger gg_trg_03Roaming_Villager_B= null
trigger gg_trg_03Roaming_Villager_C= null
trigger gg_trg_03Villager_Retreat_A= null
trigger gg_trg_03Remove_Villager_01= null
trigger gg_trg_04Roaming_Villager_A= null
trigger gg_trg_04Roaming_Villager_B= null
trigger gg_trg_04Roaming_Villager_C= null
trigger gg_trg_04Villager_Retreat_A= null
trigger gg_trg_04Remove_Villager_01= null
trigger gg_trg_05Roaming_Villager_A= null
trigger gg_trg_05Roaming_Villager_B= null
trigger gg_trg_05Villager_Retreat_A= null
trigger gg_trg_05Remove_Villager_01= null
trigger gg_trg_06Roaming_Villager_A= null
trigger gg_trg_06Roaming_Villager_B= null
trigger gg_trg_06Roaming_Villager_C= null
trigger gg_trg_06Roaming_Villager_D= null
trigger gg_trg_06Roaming_Villager_E= null
trigger gg_trg_06Villager_Retreat_A= null
trigger gg_trg_06Villager_Retreat_B= null
trigger gg_trg_06Remove_Villager_01= null
trigger gg_trg_06Remove_Villager_02= null
trigger gg_trg_Reorient_Formation= null
trigger gg_trg_Reorient_Formation_Single= null
trigger gg_trg_Caravan_Orders_Pause= null
trigger gg_trg_Caravan_Orders_Resume= null
trigger gg_trg_Caravan_Orders= null
trigger gg_trg_Caravan_Orders_Single_Wagon= null
trigger gg_trg_Caravan_Orders_Single_Guard= null
trigger gg_trg_Caravan_Unit_Dies= null
trigger gg_trg_Guard_Attacked= null
trigger gg_trg_Guard_Catches_Up= null
trigger gg_trg_Guard_Catches_Up_Single= null
trigger gg_trg_Wagons_Reach_Breadcrumb= null
trigger gg_trg_Target_Next_Breadcrumb= null
trigger gg_trg_Caravan_To_Town1= null
trigger gg_trg_Caravan_To_Town2= null
trigger gg_trg_Caravan_To_Town3= null
trigger gg_trg_Caravan_To_Town4= null
trigger gg_trg_Caravan_Attacked_QUE= null
trigger gg_trg_Caravan_Attacked= null
trigger gg_trg_Caravan_Wagon_Dies_QUE= null
trigger gg_trg_Caravan_Wagon_Dies= null
trigger gg_trg_Caravan_Removal= null
trigger gg_trg_Town_Portal_Hint_QUE= null
trigger gg_trg_Town_Portal_Hint= null
trigger gg_trg_Corruption01_QUE= null
trigger gg_trg_Corruption01= null
trigger gg_trg_Dark_Conversion_Farm_01= null
trigger gg_trg_Caravan_Side_Quest= null
trigger gg_trg_Share_Vision_Last_Town= null
trigger gg_trg_Ghouls01= null
trigger gg_trg_Attack01= null
trigger gg_trg_Create_Plague_01= null
trigger gg_trg_Create_Plague_One_01= null
trigger gg_trg_Destroy_Plague_01= null
trigger gg_trg_Destroy_Plague_One_01= null
trigger gg_trg_Corruption02_QUE= null
trigger gg_trg_Corruption02= null
trigger gg_trg_Dark_Conversion_Farm_02= null
trigger gg_trg_DialogueFarm02= null
trigger gg_trg_Ghouls02= null
trigger gg_trg_Attack02= null
trigger gg_trg_Create_Plague_02= null
trigger gg_trg_Create_Plague_One_02= null
trigger gg_trg_Destroy_Plague_02= null
trigger gg_trg_Destroy_Plague_One_02= null
trigger gg_trg_Corruption03_QUE= null
trigger gg_trg_Corruption03= null
trigger gg_trg_Dark_Conversion_Farm_03= null
trigger gg_trg_DialogueFarm03= null
trigger gg_trg_Ghouls03= null
trigger gg_trg_Attack03= null
trigger gg_trg_Create_Plague_03= null
trigger gg_trg_Create_Plague_One_03= null
trigger gg_trg_Destroy_Plague_03= null
trigger gg_trg_Destroy_Plague_One_03= null
trigger gg_trg_Corruption04_QUE= null
trigger gg_trg_Corruption04= null
trigger gg_trg_Dark_Conversion_Farm_04= null
trigger gg_trg_DialogueFarm04= null
trigger gg_trg_Ghouls04= null
trigger gg_trg_Attack04= null
trigger gg_trg_Blight= null
trigger gg_trg_Create_Plague_04= null
trigger gg_trg_Create_Plague_One_04= null
trigger gg_trg_Destroy_Plague_04= null
trigger gg_trg_Destroy_Plague_One_04= null
trigger gg_trg_Free_Villager= null
trigger gg_trg_Free_Vill_Dialogue01_Que= null
trigger gg_trg_Free_Vill_Dialogue02_Que= null
trigger gg_trg_Free_Villager_Remove= null
trigger gg_trg_Villagers_Greeting_QUE= null
trigger gg_trg_Villagers_Greeting= null
trigger gg_trg_Villagers_in_House= null
trigger gg_trg_Remove_Villager01= null
trigger gg_trg_Remove_Villager02= null
trigger gg_trg_Remove_Villager03= null
trigger gg_trg_Dead_Villagers_No_Troops= null
trigger gg_trg_Villager_Reinforcement01= null
trigger gg_trg_Villager_Reinforcement02= null
trigger gg_trg_Villager_Reinforcement03= null
trigger gg_trg_Ogres_QUE= null
trigger gg_trg_Ogres= null
trigger gg_trg_Suicide_AI= null
trigger gg_trg_UnlimitedGoldGreen= null
trigger gg_trg_UnlimitedLumberGreen= null
trigger gg_trg_Orange_AI_Attack_Wave= null
trigger gg_trg_OrangeTown= null
trigger gg_trg_ResourcesOrange= null
trigger gg_trg_UnlimitedGoldOrange= null
trigger gg_trg_UnlimitedLumberOrange= null
trigger gg_trg_UnlimitedGoldPurple= null
trigger gg_trg_UnlimitedLumberPurple= null
trigger gg_trg_Victory_Cheat= null
trigger gg_trg_Victory1= null
trigger gg_trg_Victory2= null
trigger gg_trg_Victory= null
trigger gg_trg_Defeat= null
trigger gg_trg_Defeat_Cheat= null
trigger gg_trg_Victory_Cancel= null
trigger gg_trg_Ending_Start= null
trigger gg_trg_Ending_Cinematic_A= null
trigger gg_trg_FootmanFightSounds= null
trigger gg_trg_Ending_Cinematic_C= null
trigger gg_trg_Ending_Cinematic_D= null
unit gg_unit_nvil_0102= null
unit gg_unit_hrif_0026= null
unit gg_unit_hA00_0025= null
unit gg_unit_hA00_0024= null
unit gg_unit_hrif_0078= null
unit gg_unit_hmpr_0028= null
unit gg_unit_ngol_0011= null
unit gg_unit_unp2_0071= null
unit gg_unit_Ulic_0059= null
unit gg_unit_hgtw_0125= null
unit gg_unit_unp2_0005= null
unit gg_unit_nvil_0080= null
unit gg_unit_nvil_0013= null
unit gg_unit_Ulic_0022= null
unit gg_unit_nvil_0089= null
unit gg_unit_nogr_0068= null
unit gg_unit_nogr_0069= null
unit gg_unit_nogl_0090= null
unit gg_unit_nvil_0088= null
unit gg_unit_hkee_0043= null
unit gg_unit_hfoo_0076= null
unit gg_unit_hfoo_0077= null
unit gg_unit_uC00_0210= null
unit gg_unit_nvil_0103= null
unit gg_unit_uC00_0216= null
unit gg_unit_ngme_0087= null
unit gg_unit_nvil_0134= null
unit gg_unit_nvil_0133= null
unit gg_unit_hrif_0116= null
unit gg_unit_nvil_0132= null
unit gg_unit_hfoo_0091= null
unit gg_unit_hfoo_0027= null
unit gg_unit_hfoo_0023= null
unit gg_unit_hfoo_0118= null
unit gg_unit_nvil_0067= null
unit gg_unit_nvil_0079= null
unit gg_unit_hgtw_0066= null
unit gg_unit_nogr_0014= null
unit gg_unit_uC00_0217= null
unit gg_unit_nvil_0141= null
unit gg_unit_nvil_0142= null
unit gg_unit_nvil_0143= null
unit gg_unit_hgtw_0085= null
unit gg_unit_nvil_0146= null
unit gg_unit_nvil_0148= null
unit gg_unit_nvil_0150= null
unit gg_unit_nvlw_0152= null
unit gg_unit_nvlw_0153= null
unit gg_unit_nvlw_0154= null
unit gg_unit_nvil_0155= null
unit gg_unit_nvil_0156= null
unit gg_unit_nvlw_0157= null
unit gg_unit_nvlw_0158= null
unit gg_unit_nvil_0159= null
unit gg_unit_nvlw_0160= null
unit gg_unit_nvil_0161= null
unit gg_unit_nvil_0162= null
unit gg_unit_nvil_0163= null
unit gg_unit_nvlw_0164= null
unit gg_unit_nvlw_0165= null
unit gg_unit_nvlw_0166= null
unit gg_unit_hfoo_0168= null
unit gg_unit_nvlw_0169= null
unit gg_unit_uC00_0219= null
unit gg_unit_uC00_0218= null
destructable gg_dest_VTlt_2025= null
destructable gg_dest_LOcg_1355= null
destructable gg_dest_LTcr_2633= null
destructable gg_dest_LTcr_2867= null
trigger gg_trg_AP_mercenaries= null
string array p_original_names
string array io_lines
constant integer NUM_FILE_LINES= 10
string last_filename= ""
constant integer MISSION_ID= 105
integer NUM_HEROES= 1
constant player USER_PLAYER= Player(1)
integer array hero_global_slots
constant integer item_channel_1= 1
constant integer item_channel_2= - 1
constant integer item_channel_2_hero_slot= - 1
constant integer HERO_ID_ALL= - 1
constant integer HERO_ID_NONE= 0
constant integer HERO_ID_PALADIN_ARTHAS= 1
constant integer HERO_ID_JAINA= 2
constant integer HERO_ID_MURADIN_BRONZEBEARD= 3
constant integer HERO_ID_THRALL= 4
constant integer HERO_ID_CAIRNE_BLOODHOOF= 5
constant integer HERO_ID_GROM_HELLSCREAM= 6
constant integer HERO_ID_DEATH_KNIGHT_ARTHAS= 7
constant integer HERO_ID_KEL_THUZAD= 8
constant integer HERO_ID_ARTHAS_TFT= 9
constant integer HERO_ID_SYLVANAS= 11
constant integer HERO_ID_VARIMATHRAS= 12
constant integer HERO_ID_ANUB_ARAK= 13
constant integer HERO_ID_TYRANDE= 14
constant integer HERO_ID_FURION= 15
constant integer HERO_ID_ILLIDAN= 16
constant integer HERO_ID_TYRANDE_TFT= 17
constant integer HERO_ID_MALFURION= 18
constant integer HERO_ID_MAIEV= 19
constant integer HERO_ID_KAEL_THAS= 20
constant integer HERO_ID_DEMON_ILLIDAN= 21
constant integer HERO_ID_LADY_VASHJ= 22
constant integer HERO_ID_AKAMA= 23
constant integer HERO_ID_LORD_GARITHOS= 24
constant string COMM_VERSION= "1.0"
constant integer MAX_UPDATE_ID= 100000
integer error_state= 0
integer world_id= - 1
integer last_unlock_packet= - 1
integer last_location_packet= - 1
integer last_message_packet= - 1
integer last_hero_packet= - 1
integer last_item_packet= - 1
integer last_mercenaries_packet= - 1
integer last_settings_packet= - 1
integer last_item_channel_packet= - 1
integer checks_before_timeout= 2
boolean array locations_checked
constant integer MAX_LOCATIONS= 30
constant integer MAX_ITEMS_PER_PACKET= 12
integer update_index= - 1
integer hero_status_index= - 1
integer num_channel_1_items_received= 0
integer num_channel_2_items_received= 0
integer array gold_granted
timer status_ack_ping_timer
trigger t_captain_promoted
trigger t_apply_mercenaries
trigger t_create_mercenary_camps
unit item_channel_1_target= null
unit item_channel_2_target= null
integer array HERO_MAX_LEVEL
integer array hero_hashes
trigger t_hero_update
trigger t_hero_pickup_item
trigger t_hero_configure_all
trigger t_hero_set_all_max_level
timer hero_update_status_timer
integer array hero_abil_1
integer array hero_abil_2
integer array hero_abil_3
integer array hero_abil_4
trigger t_location_found= null
trigger t_item_purchased= null
trigger t_help
trigger t_print
trigger t_xp
trigger t_xp2
trigger t_health
trigger t_dragon
trigger t_speed
trigger t_zoom
trigger t_irregulars_on_cast
sound human_no_gold_sound
unit mercenary_camp= null
integer units_added= 0


//JASSHelper struct globals:

endglobals


//===========================================================================
// 
// Human05
// 
//   Warcraft III map script
//   Generated by the Warcraft III World Editor
//   Date: Wed Nov 26 02:18:21 2025
//   Map Author: Blizzard Entertainment
// 
//===========================================================================

//***************************************************************************
//*
//*  Global Variables
//*
//***************************************************************************


function InitGlobals takes nothing returns nothing
    local integer i= 0
    set udg_Farm01CorruptedGroup=CreateGroup()
    set udg_Farm02CorruptedGroup=CreateGroup()
    set udg_Farm03CorruptedGroup=CreateGroup()
    set udg_Farm04CorruptedGroup=CreateGroup()
    set udg_CorruptVillagerGroup1=CreateGroup()
    set udg_IntroCancelled=false
    set udg_Militia=CreateGroup()
    set udg_UtherKnights1=CreateGroup()
    set udg_EndingCancelled=false
    set udg_Reinforcement=false
    set udg_Farm05Group1=CreateGroup()
    set udg_Farmers01=CreateGroup()
    set udg_Farmers02=CreateGroup()
    set udg_Farmers03=CreateGroup()
    set udg_Farmers04=CreateGroup()
    set udg_Timer30Minute=CreateTimer()
    set udg_TimerWarning=CreateTimer()
    set udg_TheCaravanWagons=CreateGroup()
    set udg_HopelessTimer=CreateTimer()
    set udg_SuicideTimer=CreateTimer()
    set udg_OrangeAIAttackWave=CreateTimer()
    set i=0
    loop
        exitwhen ( i > 0 )
        set udg_FormationAngleArray[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 0 )
        set udg_FormationDistanceArray[i]=0
        set i=i + 1
    endloop

    set udg_FormationTotal=0
    set udg_BreadcrumbTotal=0
    set udg_BreadcrumbCurrent=0
    set udg_ReorientAngle=0
    set udg_TempAngle=0
    set udg_TempX=0
    set udg_TempY=0
    set udg_CaravanTestPulse=CreateTimer()
    set udg_CaravanOrderPulse=CreateTimer()
    set udg_CaravanWagonFirst=0
    set udg_CaravanWagonLast=0
    set udg_CaravanGuardFirst=0
    set udg_CaravanGuardLast=0
    set i=0
    loop
        exitwhen ( i > 0 )
        set udg_BreadcrumbAngleArray[i]=0
        set i=i + 1
    endloop

    set udg_TempLastAngle=0
    set udg_TempNextAngle=0
    set udg_TempLastIndex=0
    set udg_TempNextIndex=0
    set udg_SpeedOfGuards=150.00
    set udg_SpeedOfWagons=150.00
    set udg_GuardCallForHelpDist=600.00
    set udg_BreadcrumbAllowed=0
    set udg_CaravanTown1Timer=CreateTimer()
    set udg_TempMinAngle=0
    set udg_TempMaxAngle=0
    set udg_BreadcrumbIntro=0
    set udg_BreadcrumbStopTown1=0
    set udg_BreadcrumbStopTown2=0
    set udg_BreadcrumbStopTown3=0
    set udg_BreadcrumbStopTown4=0
    set udg_BreadcrumbStopExit=0
    set udg_BreadcrumbReached=0
    set udg_TheCaravanGuards=CreateGroup()
    set udg_CaravanTown2Timer=CreateTimer()
    set udg_CaravanTown3Timer=CreateTimer()
    set udg_CaravanTown4Timer=CreateTimer()
    set udg_FreeVillager=null
    set udg_MilitiaStop=false
    set udg_OutsideFarmGroup=CreateGroup()
    set udg_RoamingVillagersA=CreateGroup()
    set udg_RoamingVillagersB=CreateGroup()
    set udg_RoamingVillagersC=CreateGroup()
    set udg_RoamingVillagersD=CreateGroup()
    set udg_RoamingVillagersE=CreateGroup()
    set udg_RoamingVillagersF=CreateGroup()
    set udg_CARAVANISDEADBOOLEAN=false
    set udg_GAMEOVER=false
    set udg_CaravanCorruptionPulse=CreateTimer()
endfunction

//***************************************************************************
//*
//*  Unit Item Tables
//*
//***************************************************************************

function Unit000070_DropItems takes nothing returns nothing
    local widget trigWidget= null
    local unit trigUnit= null
    local integer itemID= 0
    local boolean canDrop= true

    set trigWidget=bj_lastDyingWidget
    if ( trigWidget == null ) then
        set trigUnit=GetTriggerUnit()
    endif

    if ( trigUnit != null ) then
        set canDrop=not IsUnitHidden(trigUnit)
        if ( canDrop and GetChangingUnit() != null ) then
            set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
        endif
    endif

    if ( canDrop ) then
        // Item set 0
        call RandomDistReset()
        call RandomDistAddItem('I011', 100)
        set itemID=RandomDistChoose()
        if ( trigUnit != null ) then
            call UnitDropItem(trigUnit, itemID)
        else
            call WidgetDropItem(trigWidget, itemID)
        endif

        // Item set 1
        call RandomDistReset()
        call RandomDistAddItem('I012', 100)
        set itemID=RandomDistChoose()
        if ( trigUnit != null ) then
            call UnitDropItem(trigUnit, itemID)
        else
            call WidgetDropItem(trigWidget, itemID)
        endif

    endif

    set bj_lastDyingWidget=null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000120_DropItems takes nothing returns nothing
    local widget trigWidget= null
    local unit trigUnit= null
    local integer itemID= 0
    local boolean canDrop= true

    set trigWidget=bj_lastDyingWidget
    if ( trigWidget == null ) then
        set trigUnit=GetTriggerUnit()
    endif

    if ( trigUnit != null ) then
        set canDrop=not IsUnitHidden(trigUnit)
        if ( canDrop and GetChangingUnit() != null ) then
            set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
        endif
    endif

    if ( canDrop ) then
        // Item set 0
        call RandomDistReset()
        call RandomDistAddItem('I013', 100)
        set itemID=RandomDistChoose()
        if ( trigUnit != null ) then
            call UnitDropItem(trigUnit, itemID)
        else
            call WidgetDropItem(trigWidget, itemID)
        endif

    endif

    set bj_lastDyingWidget=null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000123_DropItems takes nothing returns nothing
    local widget trigWidget= null
    local unit trigUnit= null
    local integer itemID= 0
    local boolean canDrop= true

    set trigWidget=bj_lastDyingWidget
    if ( trigWidget == null ) then
        set trigUnit=GetTriggerUnit()
    endif

    if ( trigUnit != null ) then
        set canDrop=not IsUnitHidden(trigUnit)
        if ( canDrop and GetChangingUnit() != null ) then
            set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
        endif
    endif

    if ( canDrop ) then
        // Item set 0
        call RandomDistReset()
        call RandomDistAddItem('I016', 100)
        set itemID=RandomDistChoose()
        if ( trigUnit != null ) then
            call UnitDropItem(trigUnit, itemID)
        else
            call WidgetDropItem(trigWidget, itemID)
        endif

    endif

    set bj_lastDyingWidget=null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction


//***************************************************************************
//*
//*  Sounds
//*
//***************************************************************************

function InitSounds takes nothing returns nothing
    set gg_snd_H05Acolyte22=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human05\\H05Acolyte22.mp3", false, false, false, 12700, 12700, "")
    call SetSoundParamsFromLabel(gg_snd_H05Acolyte22, "H05Acolyte22")
    call SetSoundDuration(gg_snd_H05Acolyte22, 5590)
    set gg_snd_H05Arthas02=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human05\\H05Arthas02.mp3", false, false, false, 12700, 12700, "")
    call SetSoundParamsFromLabel(gg_snd_H05Arthas02, "H05Arthas02")
    call SetSoundDuration(gg_snd_H05Arthas02, 2194)
    set gg_snd_H05Arthas05=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human05\\H05Arthas05.mp3", false, false, false, 12700, 12700, "")
    call SetSoundParamsFromLabel(gg_snd_H05Arthas05, "H05Arthas05")
    call SetSoundDuration(gg_snd_H05Arthas05, 7209)
    set gg_snd_H05Arthas07=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human05\\H05Arthas07.mp3", false, false, false, 12700, 12700, "")
    call SetSoundParamsFromLabel(gg_snd_H05Arthas07, "H05Arthas07")
    call SetSoundDuration(gg_snd_H05Arthas07, 2742)
    set gg_snd_H05Arthas08=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human05\\H05Arthas08.mp3", false, false, false, 12700, 12700, "")
    call SetSoundParamsFromLabel(gg_snd_H05Arthas08, "H05Arthas08")
    call SetSoundDuration(gg_snd_H05Arthas08, 3213)
    set gg_snd_H05Arthas10=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human05\\H05Arthas10.mp3", false, false, false, 12700, 12700, "")
    call SetSoundParamsFromLabel(gg_snd_H05Arthas10, "H05Arthas10")
    call SetSoundDuration(gg_snd_H05Arthas10, 1410)
    set gg_snd_H05Arthas11=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human05\\H05Arthas11.mp3", false, false, false, 12700, 12700, "")
    call SetSoundParamsFromLabel(gg_snd_H05Arthas11, "H05Arthas11")
    call SetSoundDuration(gg_snd_H05Arthas11, 8724)
    set gg_snd_H05Arthas13=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human05\\H05Arthas13.mp3", false, false, false, 12700, 12700, "")
    call SetSoundParamsFromLabel(gg_snd_H05Arthas13, "H05Arthas13")
    call SetSoundDuration(gg_snd_H05Arthas13, 3500)
    set gg_snd_H05Arthas21=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human05\\H05Arthas21.mp3", false, false, false, 12700, 12700, "")
    call SetSoundParamsFromLabel(gg_snd_H05Arthas21, "H05Arthas21")
    call SetSoundDuration(gg_snd_H05Arthas21, 1384)
    set gg_snd_H05Arthas23=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human05\\H05Arthas23.mp3", false, false, false, 12700, 12700, "")
    call SetSoundParamsFromLabel(gg_snd_H05Arthas23, "H05Arthas23")
    call SetSoundDuration(gg_snd_H05Arthas23, 3395)
    set gg_snd_H05Arthas25=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human05\\H05Arthas25.mp3", false, false, false, 12700, 12700, "")
    call SetSoundParamsFromLabel(gg_snd_H05Arthas25, "H05Arthas25")
    call SetSoundDuration(gg_snd_H05Arthas25, 4623)
    set gg_snd_H05Arthas26=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human05\\H05Arthas26.mp3", false, false, false, 12700, 12700, "")
    call SetSoundParamsFromLabel(gg_snd_H05Arthas26, "H05Arthas26")
    call SetSoundDuration(gg_snd_H05Arthas26, 4649)
    set gg_snd_H05Arthas28=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human05\\H05Arthas28.mp3", false, false, false, 12700, 12700, "")
    call SetSoundParamsFromLabel(gg_snd_H05Arthas28, "H05Arthas28")
    call SetSoundDuration(gg_snd_H05Arthas28, 2533)
    set gg_snd_H05Arthas31=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human05\\H05Arthas31.mp3", false, false, false, 12700, 12700, "")
    call SetSoundParamsFromLabel(gg_snd_H05Arthas31, "H05Arthas31")
    call SetSoundDuration(gg_snd_H05Arthas31, 5172)
    set gg_snd_H05Arthas33=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human05\\H05Arthas33.mp3", false, false, false, 12700, 12700, "")
    call SetSoundParamsFromLabel(gg_snd_H05Arthas33, "H05Arthas33")
    call SetSoundDuration(gg_snd_H05Arthas33, 5120)
    set gg_snd_H05Arthas35=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human05\\H05Arthas35.mp3", false, false, false, 12700, 12700, "")
    call SetSoundParamsFromLabel(gg_snd_H05Arthas35, "H05Arthas35")
    call SetSoundDuration(gg_snd_H05Arthas35, 5694)
    set gg_snd_H05Footman03=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human05\\H05Footman03.mp3", false, false, false, 12700, 12700, "")
    call SetSoundParamsFromLabel(gg_snd_H05Footman03, "H05Footman03")
    call SetSoundDuration(gg_snd_H05Footman03, 7053)
    set gg_snd_H05Footman04=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human05\\H05Footman04.mp3", false, false, false, 12700, 12700, "")
    call SetSoundParamsFromLabel(gg_snd_H05Footman04, "H05Footman04")
    call SetSoundDuration(gg_snd_H05Footman04, 1619)
    set gg_snd_H05Footman09=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human05\\H05Footman09.mp3", false, false, false, 12700, 12700, "")
    call SetSoundParamsFromLabel(gg_snd_H05Footman09, "H05Footman09")
    call SetSoundDuration(gg_snd_H05Footman09, 6844)
    set gg_snd_H05Footman12=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human05\\H05Footman12.mp3", false, false, false, 12700, 12700, "")
    call SetSoundParamsFromLabel(gg_snd_H05Footman12, "H05Footman12")
    call SetSoundDuration(gg_snd_H05Footman12, 5929)
    set gg_snd_H05Footman16=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human05\\H05Footman16.mp3", false, false, false, 12700, 12700, "")
    call SetSoundParamsFromLabel(gg_snd_H05Footman16, "H05Footman16")
    call SetSoundDuration(gg_snd_H05Footman16, 3239)
    set gg_snd_H05Footman18=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human05\\H05Footman18.mp3", false, false, false, 12700, 12700, "")
    call SetSoundParamsFromLabel(gg_snd_H05Footman18, "H05Footman18")
    call SetSoundDuration(gg_snd_H05Footman18, 2821)
    set gg_snd_H05Footman20=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human05\\H05Footman20.mp3", false, false, false, 12700, 12700, "")
    call SetSoundParamsFromLabel(gg_snd_H05Footman20, "H05Footman20")
    call SetSoundDuration(gg_snd_H05Footman20, 6922)
    set gg_snd_H05Footman24=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human05\\H05Footman24.mp3", false, false, false, 12700, 12700, "")
    call SetSoundParamsFromLabel(gg_snd_H05Footman24, "H05Footman24")
    call SetSoundDuration(gg_snd_H05Footman24, 3108)
    set gg_snd_H05Jaina06=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human05\\H05Jaina06.mp3", false, false, false, 12700, 12700, "")
    call SetSoundParamsFromLabel(gg_snd_H05Jaina06, "H05Jaina06")
    call SetSoundDuration(gg_snd_H05Jaina06, 417)
    set gg_snd_H05Uther27=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human05\\H05Uther27.mp3", false, false, false, 12700, 12700, "")
    call SetSoundParamsFromLabel(gg_snd_H05Uther27, "H05Uther27")
    call SetSoundDuration(gg_snd_H05Uther27, 2324)
    set gg_snd_H05Uther29=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human05\\H05Uther29.mp3", false, false, false, 12700, 12700, "")
    call SetSoundParamsFromLabel(gg_snd_H05Uther29, "H05Uther29")
    call SetSoundDuration(gg_snd_H05Uther29, 3604)
    set gg_snd_H05Uther30=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human05\\H05Uther30.mp3", false, false, false, 12700, 12700, "")
    call SetSoundParamsFromLabel(gg_snd_H05Uther30, "H05Uther30")
    call SetSoundDuration(gg_snd_H05Uther30, 5642)
    set gg_snd_H05Uther32=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human05\\H05Uther32.mp3", false, false, false, 12700, 12700, "")
    call SetSoundParamsFromLabel(gg_snd_H05Uther32, "H05Uther32")
    call SetSoundDuration(gg_snd_H05Uther32, 10710)
    set gg_snd_H05Uther34=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human05\\H05Uther34.mp3", false, false, false, 12700, 12700, "")
    call SetSoundParamsFromLabel(gg_snd_H05Uther34, "H05Uther34")
    call SetSoundDuration(gg_snd_H05Uther34, 6922)
    set gg_snd_H05Jaina01=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human05\\H05Jaina01.mp3", false, false, false, 12700, 12700, "")
    call SetSoundParamsFromLabel(gg_snd_H05Jaina01, "H05Jaina01")
    call SetSoundDuration(gg_snd_H05Jaina01, 4205)
    set gg_snd_H05Footman51=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human05\\H05Footman51.mp3", false, false, false, 12700, 12700, "")
    call SetSoundParamsFromLabel(gg_snd_H05Footman51, "H05Footman51")
    call SetSoundDuration(gg_snd_H05Footman51, 4858)
    set gg_snd_H01VillagerM43=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human01\\H01VillagerM43.mp3", false, false, false, 10, 10, "")
    call SetSoundParamsFromLabel(gg_snd_H01VillagerM43, "H01VillagerM43")
    call SetSoundDuration(gg_snd_H01VillagerM43, 3291)
    set gg_snd_H05VillagerM47=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human05\\H05VillagerM47.mp3", false, false, false, 10, 10, "")
    call SetSoundParamsFromLabel(gg_snd_H05VillagerM47, "H05VillagerM47")
    call SetSoundDuration(gg_snd_H05VillagerM47, 1593)
    set gg_snd_H05VillagerM49=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human05\\H05VillagerM49.mp3", false, false, false, 10, 10, "")
    call SetSoundParamsFromLabel(gg_snd_H05VillagerM49, "H05VillagerM49")
    call SetSoundDuration(gg_snd_H05VillagerM49, 1515)
    set gg_snd_RiflemanAttack2=CreateSound("Units\\Human\\Rifleman\\RiflemanAttack2.wav", false, true, true, 10, 10, "MissilesEAX")
    call SetSoundParamsFromLabel(gg_snd_RiflemanAttack2, "RiflemanAttack1")
    call SetSoundDuration(gg_snd_RiflemanAttack2, 702)
    set gg_snd_FootmanYesAttack2=CreateSound("Units\\Human\\Footman\\FootmanYesAttack2.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_FootmanYesAttack2, "FootmanYesAttack")
    call SetSoundDuration(gg_snd_FootmanYesAttack2, 1085)
    set gg_snd_RiflemanAttack1=CreateSound("Units\\Human\\Rifleman\\RiflemanAttack1.wav", false, true, true, 10, 10, "MissilesEAX")
    call SetSoundParamsFromLabel(gg_snd_RiflemanAttack1, "RiflemanAttack1")
    call SetSoundDuration(gg_snd_RiflemanAttack1, 702)
    set gg_snd_MassTeleportTarget=CreateSound("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(gg_snd_MassTeleportTarget, "MassTeleport")
    call SetSoundDuration(gg_snd_MassTeleportTarget, 4899)
    set gg_snd_Sheep1=CreateSound("Units\\Critters\\Sheep\\Sheep1.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_Sheep1, "SheepRandomSounds")
    call SetSoundDuration(gg_snd_Sheep1, 1178)
    set gg_snd_HorseLoop3=CreateSound("Units\\Human\\Knight\\HorseLoop3.wav", false, false, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_HorseLoop3, "HumanKnightMovement")
    call SetSoundDuration(gg_snd_HorseLoop3, 5317)
    set gg_snd_UtherReturns=CreateSound("Sound\\Ambient\\DoodadEffects\\UtherReturns.wav", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_UtherReturns, "UtherReturnsSound")
    call SetSoundDuration(gg_snd_UtherReturns, 6710)
    set gg_snd_WaterLakeLoop1=CreateSound("Sound\\Ambient\\DoodadEffects\\WaterLakeLoop1.wav", true, true, true, 10, 10, "DoodadsEAX")
    call SetSoundParamsFromLabel(gg_snd_WaterLakeLoop1, "LakeLoop")
    call SetSoundDuration(gg_snd_WaterLakeLoop1, 3297)
    set gg_snd_ArthasPissed4=CreateSound("Units\\Human\\Arthas\\ArthasPissed4.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(gg_snd_ArthasPissed4, "ArthasPissed")
    call SetSoundDuration(gg_snd_ArthasPissed4, 1999)
    set gg_snd_MetalHeavyBashFlesh1=CreateSound("Sound\\Units\\Combat\\MetalHeavyBashFlesh1.wav", false, true, true, 10, 10, "CombatSoundsEAX")
    call SetSoundParamsFromLabel(gg_snd_MetalHeavyBashFlesh1, "MetalHeavyBashFlesh")
    call SetSoundDuration(gg_snd_MetalHeavyBashFlesh1, 661)
    set gg_snd_MetalMediumBashFlesh1=CreateSound("Sound\\Units\\Combat\\MetalMediumBashFlesh1.wav", false, true, true, 10, 10, "CombatSoundsEAX")
    call SetSoundParamsFromLabel(gg_snd_MetalMediumBashFlesh1, "MetalMediumBashFlesh")
    call SetSoundDuration(gg_snd_MetalMediumBashFlesh1, 603)
    set gg_snd_MetalMediumBashFlesh2=CreateSound("Sound\\Units\\Combat\\MetalMediumBashFlesh2.wav", false, true, true, 10, 10, "CombatSoundsEAX")
    call SetSoundParamsFromLabel(gg_snd_MetalMediumBashFlesh2, "MetalMediumBashFlesh")
    call SetSoundDuration(gg_snd_MetalMediumBashFlesh2, 580)
    set gg_snd_MetalMediumBashFlesh3=CreateSound("Sound\\Units\\Combat\\MetalMediumBashFlesh3.wav", false, true, true, 10, 10, "CombatSoundsEAX")
    call SetSoundParamsFromLabel(gg_snd_MetalMediumBashFlesh3, "MetalMediumBashFlesh")
    call SetSoundDuration(gg_snd_MetalMediumBashFlesh3, 449)
    set gg_snd_MetalMediumChopFlesh1=CreateSound("Sound\\Units\\Combat\\MetalMediumChopFlesh1.wav", false, true, true, 10, 10, "CombatSoundsEAX")
    call SetSoundParamsFromLabel(gg_snd_MetalMediumChopFlesh1, "MetalMediumChopFlesh")
    call SetSoundDuration(gg_snd_MetalMediumChopFlesh1, 522)
    set gg_snd_MetalMediumChopFlesh2=CreateSound("Sound\\Units\\Combat\\MetalMediumChopFlesh2.wav", false, true, true, 10, 10, "CombatSoundsEAX")
    call SetSoundParamsFromLabel(gg_snd_MetalMediumChopFlesh2, "MetalMediumChopFlesh")
    call SetSoundDuration(gg_snd_MetalMediumChopFlesh2, 719)
    set gg_snd_MetalMediumChopFlesh3=CreateSound("Sound\\Units\\Combat\\MetalMediumChopFlesh3.wav", false, true, true, 10, 10, "CombatSoundsEAX")
    call SetSoundParamsFromLabel(gg_snd_MetalMediumChopFlesh3, "MetalMediumChopFlesh")
    call SetSoundDuration(gg_snd_MetalMediumChopFlesh3, 722)
    set gg_snd_MetalMediumSliceFlesh1=CreateSound("Sound\\Units\\Combat\\MetalMediumSliceFlesh1.wav", false, true, true, 10, 10, "CombatSoundsEAX")
    call SetSoundParamsFromLabel(gg_snd_MetalMediumSliceFlesh1, "MetalMediumSliceFlesh")
    call SetSoundDuration(gg_snd_MetalMediumSliceFlesh1, 658)
    set gg_snd_MetalMediumSliceFlesh2=CreateSound("Sound\\Units\\Combat\\MetalMediumSliceFlesh2.wav", false, true, true, 10, 10, "CombatSoundsEAX")
    call SetSoundParamsFromLabel(gg_snd_MetalMediumSliceFlesh2, "MetalMediumSliceFlesh")
    call SetSoundDuration(gg_snd_MetalMediumSliceFlesh2, 601)
    set gg_snd_MetalMediumSliceFlesh3=CreateSound("Sound\\Units\\Combat\\MetalMediumSliceFlesh3.wav", false, true, true, 10, 10, "CombatSoundsEAX")
    call SetSoundParamsFromLabel(gg_snd_MetalMediumSliceFlesh3, "MetalMediumSliceFlesh")
    call SetSoundDuration(gg_snd_MetalMediumSliceFlesh3, 604)
    set gg_snd_WoodMediumBashMetal1=CreateSound("Sound\\Units\\Combat\\WoodMediumBashMetal1.wav", false, true, true, 10, 10, "CombatSoundsEAX")
    call SetSoundParamsFromLabel(gg_snd_WoodMediumBashMetal1, "WoodMediumBashMetal")
    call SetSoundDuration(gg_snd_WoodMediumBashMetal1, 1097)
    set gg_snd_WoodMediumBashMetal2=CreateSound("Sound\\Units\\Combat\\WoodMediumBashMetal2.wav", false, true, true, 10, 10, "CombatSoundsEAX")
    call SetSoundParamsFromLabel(gg_snd_WoodMediumBashMetal2, "WoodMediumBashMetal")
    call SetSoundDuration(gg_snd_WoodMediumBashMetal2, 725)
    set gg_snd_WoodMediumBashMetal3=CreateSound("Sound\\Units\\Combat\\WoodMediumBashMetal3.wav", false, true, true, 10, 10, "CombatSoundsEAX")
    call SetSoundParamsFromLabel(gg_snd_WoodMediumBashMetal3, "WoodMediumBashMetal")
    call SetSoundDuration(gg_snd_WoodMediumBashMetal3, 870)
    set gg_snd_HorseLoop2=CreateSound("Units\\Human\\Knight\\HorseLoop2.wav", false, false, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_HorseLoop2, "HumanKnightMovement")
    call SetSoundDuration(gg_snd_HorseLoop2, 3227)
endfunction

//***************************************************************************
//*
//*  Destructable Objects
//*
//***************************************************************************

function CreateAllDestructables takes nothing returns nothing
    local destructable d
    local trigger t
    local real life
    set gg_dest_LOcg_1355=CreateDestructableZ('LOcg', - 2176.0, - 2304.0, 137.3, 17.000, 0.829, 0)
    set gg_dest_LTcr_2633=CreateDestructableZ('LTcr', 2880.0, - 7296.0, 387.0, 336.000, 0.869, 1)
    set gg_dest_LTcr_2867=CreateDestructableZ('LTcr', 7616.0, - 6336.0, 316.5, 88.000, 1.196, 0)
    set gg_dest_VTlt_2025=CreateDestructableZ('VTlt', 4928.0, - 3840.0, 500.5, 270.000, 0.975, 0)
endfunction

//***************************************************************************
//*
//*  Unit Creation
//*
//***************************************************************************

//===========================================================================
function CreateUnitsForPlayer1 takes nothing returns nothing
    local player p= Player(1)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_hA00_0024=CreateUnit(p, 'hA00', 6722.1, - 7859.2, 168.489)
    set gg_unit_hA00_0025=CreateUnit(p, 'hA00', 6645.9, - 7613.7, 203.267)
    set gg_unit_hrif_0026=CreateUnit(p, 'hrif', 6907.7, - 7736.9, 152.097)
    set gg_unit_hmpr_0028=CreateUnit(p, 'hmpr', 6974.6, - 7921.1, 170.156)
endfunction

//===========================================================================
function CreateBuildingsForPlayer3 takes nothing returns nothing
    local player p= Player(3)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u=CreateUnit(p, 'uzg1', 352.0, - 2720.0, 270.000)
    set u=CreateUnit(p, 'uaod', - 544.0, - 992.0, 270.000)
    set u=CreateBlightedGoldmine(p, - 1792.0, - 1024.0, 270.000)
    call SetResourceAmount(u, 16000)
    set gg_unit_unp2_0071=CreateUnit(p, 'unp2', - 1024.0, - 1216.0, 270.000)
    set u=CreateUnit(p, 'usap', - 1280.0, - 512.0, 270.000)
    set u=CreateUnit(p, 'uzg1', - 1696.0, - 480.0, 270.000)
    set u=CreateUnit(p, 'uzg1', - 224.0, - 2144.0, 270.000)
    set u=CreateUnit(p, 'usep', 384.0, - 2048.0, 270.000)
    set u=CreateUnit(p, 'usep', 640.0, - 1152.0, 270.000)
    set u=CreateUnit(p, 'uzg1', 1312.0, - 1632.0, 270.000)
    set u=CreateUnit(p, 'ugrv', 256.0, - 640.0, 270.000)
    set u=CreateUnit(p, 'uslh', - 320.0, - 448.0, 270.000)
    set u=CreateUnit(p, 'utod', 128.0, - 1408.0, 270.000)
    set u=CreateUnit(p, 'uslh', - 320.0, - 1664.0, 270.000)
    set u=CreateUnit(p, 'uzg1', 864.0, - 1888.0, 270.000)
    set u=CreateUnit(p, 'uzg1', - 800.0, - 1760.0, 270.000)
    set u=CreateUnit(p, 'uzg1', - 96.0, - 992.0, 270.000)
    set u=CreateUnit(p, 'uzg1', 928.0, - 672.0, 270.000)
    set u=CreateUnit(p, 'uzg1', - 864.0, - 416.0, 270.000)
endfunction

//===========================================================================
function CreateUnitsForPlayer3 takes nothing returns nothing
    local player p= Player(3)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_Ulic_0022=CreateUnit(p, 'Ulic', - 691.3, - 675.6, 326.541)
    call SetHeroLevel(gg_unit_Ulic_0022, 6, false)
    call SetUnitState(gg_unit_Ulic_0022, UNIT_STATE_MANA, 555)
    call SelectHeroSkill(gg_unit_Ulic_0022, 'AUfn')
    call SelectHeroSkill(gg_unit_Ulic_0022, 'AUfn')
    call SelectHeroSkill(gg_unit_Ulic_0022, 'AUfn')
    call SelectHeroSkill(gg_unit_Ulic_0022, 'AUfa')
    call SelectHeroSkill(gg_unit_Ulic_0022, 'AUdr')
    call SelectHeroSkill(gg_unit_Ulic_0022, 'AUdd')
    call UnitAddItemToSlotById(gg_unit_Ulic_0022, 'bgst', 0)
    set u=CreateUnit(p, 'uaco', - 1417.1, - 957.7, 331.923)
    set u=CreateUnit(p, 'uaco', - 1366.0, - 1221.3, 10.099)
    set u=CreateUnit(p, 'unec', 941.7, - 1297.1, 353.836)
    set u=CreateUnit(p, 'ugho', 278.3, - 941.5, 16.260)
    set u=CreateUnit(p, 'uabo', - 283.1, - 1210.6, 227.787)
    set u=CreateUnit(p, 'ugho', - 223.4, - 2492.8, 49.517)
    set u=CreateUnit(p, 'uaco', - 1446.4, - 1373.0, 27.089)
    set u=CreateUnit(p, 'ugho', 612.0, - 612.3, 317.119)
    set u=CreateUnit(p, 'uaco', - 1360.1, - 1075.2, 345.072)
    set u=CreateUnit(p, 'ugho', 1043.1, - 1287.4, 351.159)
    set u=CreateUnit(p, 'ugho', 360.1, - 1046.1, 324.267)
    set u=CreateUnit(p, 'uabo', - 913.8, - 831.5, 268.558)
    set u=CreateUnit(p, 'ugho', 189.9, - 2528.0, 242.469)
    set u=CreateUnit(p, 'unec', 326.7, - 2441.2, 241.482)
endfunction

//===========================================================================
function CreateUnitsForPlayer4 takes nothing returns nothing
    local player p= Player(4)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_uC00_0210=CreateUnit(p, 'uC00', - 6464.1, - 6079.9, 0.000)
    set gg_unit_uC00_0216=CreateUnit(p, 'uC00', - 6719.7, - 6079.1, 0.000)
    set gg_unit_uC00_0217=CreateUnit(p, 'uC00', - 6975.3, - 6081.0, 0.000)
    set gg_unit_uC00_0218=CreateUnit(p, 'uC00', - 7235.2, - 6076.4, 0.000)
    set gg_unit_uC00_0219=CreateUnit(p, 'uC00', - 7493.8, - 6078.3, 0.000)
endfunction

//===========================================================================
function CreateUnitsForPlayer5 takes nothing returns nothing
    local player p= Player(5)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u=CreateUnit(p, 'ugho', 4641.6, 1214.3, 272.476)
    set u=CreateUnit(p, 'ugho', 4772.7, 1281.2, 263.201)
    set u=CreateUnit(p, 'ugho', 4665.1, 1379.8, 270.579)
    set u=CreateUnit(p, 'unec', 4713.3, 1480.4, 267.823)
    set u=CreateUnit(p, 'uabo', 3890.2, 2655.6, 155.110)
    set u=CreateUnit(p, 'uabo', 5605.6, 1450.0, 155.110)
endfunction

//===========================================================================
function CreateBuildingsForPlayer6 takes nothing returns nothing
    local player p= Player(6)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u=CreateUnit(p, 'uzg1', - 5920.0, - 5280.0, 270.000)
    set u=CreateUnit(p, 'uzg1', - 3680.0, - 4000.0, 270.000)
    set u=CreateBlightedGoldmine(p, - 5120.0, - 7168.0, 270.000)
    call SetResourceAmount(u, 16000)
    set gg_unit_unp2_0005=CreateUnit(p, 'unp2', - 5056.0, - 6336.0, 270.000)
    set u=CreateUnit(p, 'usep', - 4416.0, - 6400.0, 270.000)
    set u=CreateUnit(p, 'uzg1', - 3168.0, - 4896.0, 270.000)
    set u=CreateUnit(p, 'uzg1', - 3360.0, - 5920.0, 270.000)
    set u=CreateUnit(p, 'usep', - 3840.0, - 6208.0, 270.000)
    set u=CreateUnit(p, 'uzg1', - 2464.0, - 6944.0, 270.000)
    set u=CreateUnit(p, 'uaod', - 4576.0, - 4832.0, 270.000)
    set u=CreateUnit(p, 'usap', - 5120.0, - 5056.0, 270.000)
    set u=CreateUnit(p, 'uslh', - 3712.0, - 4608.0, 270.000)
    set u=CreateUnit(p, 'uzg1', - 5984.0, - 6432.0, 270.000)
    set u=CreateUnit(p, 'utod', - 4736.0, - 5440.0, 270.000)
    set u=CreateUnit(p, 'ugrv', - 5760.0, - 6912.0, 270.000)
    set u=CreateUnit(p, 'uzg1', - 4256.0, - 5280.0, 270.000)
    set u=CreateUnit(p, 'uzg1', - 2336.0, - 7648.0, 270.000)
    set u=CreateUnit(p, 'uzg1', - 4704.0, - 6816.0, 270.000)
    set u=CreateUnit(p, 'usep', - 5568.0, - 6080.0, 270.000)
    set u=CreateUnit(p, 'uslh', - 4160.0, - 5824.0, 270.000)
    set u=CreateUnit(p, 'utod', - 5440.0, - 5504.0, 270.000)
    set u=CreateUnit(p, 'uzg1', - 5088.0, - 5856.0, 270.000)
    set u=CreateUnit(p, 'uzg1', - 4128.0, - 4512.0, 270.000)
    set u=CreateUnit(p, 'uzg1', - 3936.0, - 6752.0, 270.000)
endfunction

//===========================================================================
function CreateUnitsForPlayer6 takes nothing returns nothing
    local player p= Player(6)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u=CreateUnit(p, 'ugho', - 3427.9, - 4048.9, 99.660)
    set u=CreateUnit(p, 'ugho', - 2592.1, - 7741.0, 349.624)
    set gg_unit_Ulic_0059=CreateUnit(p, 'Ulic', - 4696.7, - 6022.2, 253.200)
    call SetHeroLevel(gg_unit_Ulic_0059, 10, false)
    call SelectHeroSkill(gg_unit_Ulic_0059, 'AUfn')
    call SelectHeroSkill(gg_unit_Ulic_0059, 'AUfn')
    call SelectHeroSkill(gg_unit_Ulic_0059, 'AUfn')
    call SelectHeroSkill(gg_unit_Ulic_0059, 'AUfa')
    call SelectHeroSkill(gg_unit_Ulic_0059, 'AUfa')
    call SelectHeroSkill(gg_unit_Ulic_0059, 'AUfa')
    call SelectHeroSkill(gg_unit_Ulic_0059, 'AUdr')
    call SelectHeroSkill(gg_unit_Ulic_0059, 'AUdr')
    call SelectHeroSkill(gg_unit_Ulic_0059, 'AUdr')
    call SelectHeroSkill(gg_unit_Ulic_0059, 'AUdd')
    set u=CreateUnit(p, 'unec', - 3520.1, - 5269.8, 336.225)
    set u=CreateUnit(p, 'uaco', - 5204.6, - 6783.3, 257.860)
    set u=CreateUnit(p, 'uaco', - 5341.3, - 6767.9, 268.858)
    set u=CreateUnit(p, 'uaco', - 5465.0, - 6772.6, 278.732)
    set u=CreateUnit(p, 'uaco', - 5068.1, - 6771.8, 248.051)
    set u=CreateUnit(p, 'unec', - 3519.0, - 4118.8, 7.019)
    set u=CreateUnit(p, 'ugho', - 3478.7, - 5152.5, 332.979)
    set u=CreateUnit(p, 'ugho', - 3526.9, - 5422.7, 348.525)
    set u=CreateUnit(p, 'ugho', - 3513.9, - 3825.5, 90.376)
    set u=CreateUnit(p, 'ugho', - 4508.2, - 5289.8, 344.525)
    set u=CreateUnit(p, 'ugho', - 4485.6, - 5542.9, 358.170)
    set u=CreateUnit(p, 'ugho', - 2654.1, - 7619.4, 42.710)
    set u=CreateUnit(p, 'ugho', - 5263.2, - 5664.8, 310.334)
    set u=CreateUnit(p, 'ugho', - 5290.9, - 5876.9, 315.434)
    set u=CreateUnit(p, 'uabo', - 4090.6, - 4914.4, 46.507)
    set u=CreateUnit(p, 'unec', - 5906.6, - 6208.5, 130.686)
endfunction

//===========================================================================
function CreateBuildingsForPlayer8 takes nothing returns nothing
    local player p= Player(8)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u=CreateUnit(p, 'hbla', 4736.0, - 4352.0, 270.000)
    set u=CreateUnit(p, 'hgtw', 3584.0, - 6080.0, 270.000)
    set u=CreateUnit(p, 'hhou', 6464.0, - 5184.0, 270.000)
    set gg_unit_hkee_0043=CreateUnit(p, 'hkee', 5952.0, - 5376.0, 270.000)
    set u=CreateUnit(p, 'hbar', 5120.0, - 4864.0, 270.000)
    set u=CreateUnit(p, 'hlum', 5216.0, - 3936.0, 270.000)
    set u=CreateUnit(p, 'hhou', 6656.0, - 4800.0, 270.000)
    set u=CreateUnit(p, 'hgtw', 6336.0, - 4032.0, 270.000)
    set gg_unit_hgtw_0066=CreateUnit(p, 'hgtw', 3584.0, - 5376.0, 270.000)
    set u=CreateUnit(p, 'hhou', 6528.0, - 5056.0, 270.000)
    set gg_unit_hgtw_0085=CreateUnit(p, 'hgtw', 3648.0, - 4416.0, 270.000)
    set u=CreateUnit(p, 'hhou', 6592.0, - 4672.0, 270.000)
    set u=CreateUnit(p, 'hgtw', 4160.0, - 3904.0, 270.000)
    set gg_unit_hgtw_0125=CreateUnit(p, 'hgtw', 7040.0, - 4160.0, 270.000)
    set u=CreateUnit(p, 'hhou', 6400.0, - 5056.0, 270.000)
    set u=CreateUnit(p, 'hhou', 6720.0, - 4672.0, 270.000)
    set u=CreateUnit(p, 'hgtw', 5504.0, - 6208.0, 270.000)
    set u=CreateUnit(p, 'halt', 5728.0, - 4768.0, 270.000)
endfunction

//===========================================================================
function CreateUnitsForPlayer8 takes nothing returns nothing
    local player p= Player(8)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_hfoo_0023=CreateUnit(p, 'hfoo', 4935.0, - 5573.6, 106.740)
    set life=GetUnitState(gg_unit_hfoo_0023, UNIT_STATE_LIFE)
    call SetUnitState(gg_unit_hfoo_0023, UNIT_STATE_LIFE, 0.01 * life)
    set gg_unit_hfoo_0027=CreateUnit(p, 'hfoo', 4679.3, - 5315.0, 92.630)
    set life=GetUnitState(gg_unit_hfoo_0027, UNIT_STATE_LIFE)
    call SetUnitState(gg_unit_hfoo_0027, UNIT_STATE_LIFE, 0.01 * life)
    set gg_unit_hfoo_0076=CreateUnit(p, 'hfoo', 4806.7, - 5319.1, 91.700)
    set gg_unit_hfoo_0077=CreateUnit(p, 'hfoo', 4935.0, - 5327.2, 120.902)
    set life=GetUnitState(gg_unit_hfoo_0077, UNIT_STATE_LIFE)
    call SetUnitState(gg_unit_hfoo_0077, UNIT_STATE_LIFE, 0.01 * life)
    set gg_unit_hrif_0078=CreateUnit(p, 'hrif', 4932.8, - 5829.0, 90.680)
    set gg_unit_hfoo_0091=CreateUnit(p, 'hfoo', 4672.6, - 5578.1, 74.220)
    set life=GetUnitState(gg_unit_hfoo_0091, UNIT_STATE_LIFE)
    call SetUnitState(gg_unit_hfoo_0091, UNIT_STATE_LIFE, 0.01 * life)
    set gg_unit_hrif_0116=CreateUnit(p, 'hrif', 4671.6, - 5827.5, 91.660)
    set life=GetUnitState(gg_unit_hrif_0116, UNIT_STATE_LIFE)
    call SetUnitState(gg_unit_hrif_0116, UNIT_STATE_LIFE, 0.01 * life)
    set gg_unit_hfoo_0118=CreateUnit(p, 'hfoo', 5191.1, - 5222.0, 212.393)
    set gg_unit_hfoo_0168=CreateUnit(p, 'hfoo', 4805.7, - 5572.0, 86.660)
endfunction

//===========================================================================
function CreateNeutralHostile takes nothing returns nothing
    local player p= Player(PLAYER_NEUTRAL_AGGRESSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_nogr_0014=CreateUnit(p, 'nogr', - 7411.9, 2992.9, 319.408)
    set u=CreateUnit(p, 'nogr', - 7597.6, - 7369.6, 90.006)
    set u=CreateUnit(p, 'nmrr', - 1950.3, - 2345.8, 303.753)
    set u=CreateUnit(p, 'nmrl', - 1922.0, - 2600.2, 316.411)
    set u=CreateUnit(p, 'nmrl', - 1848.1, - 2375.1, 297.904)
    set u=CreateUnit(p, 'nmrr', - 2237.7, - 2462.5, 324.213)
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function Unit000123_DropItems)
    set u=CreateUnit(p, 'nmrl', - 2097.0, - 2489.4, 319.535)
    set u=CreateUnit(p, 'nmrl', - 2254.6, - 2614.3, 333.721)
    set gg_unit_nogr_0068=CreateUnit(p, 'nogr', - 7763.5, 3452.2, 313.843)
    set gg_unit_nogr_0069=CreateUnit(p, 'nogr', - 7805.4, 2960.7, 325.396)
    set u=CreateUnit(p, 'nogm', - 7781.5, - 7564.7, 0.000)
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function Unit000120_DropItems)
    set gg_unit_nogl_0090=CreateUnit(p, 'nogl', - 7834.2, 3208.9, 327.260)
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, gg_unit_nogl_0090, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, gg_unit_nogl_0090, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function Unit000070_DropItems)
    set u=CreateUnit(p, 'nogr', - 7877.0, - 7358.4, 79.618)
    set u=CreateUnit(p, 'nmrm', - 2043.9, - 3515.3, 59.285)
endfunction

//===========================================================================
function CreateNeutralPassiveBuildings takes nothing returns nothing
    local player p= Player(PLAYER_NEUTRAL_PASSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_ngol_0011=CreateUnit(p, 'ngol', 6080.0, - 6208.0, 270.000)
    call SetResourceAmount(gg_unit_ngol_0011, 16000)
    set u=CreateUnit(p, 'nfoh', - 6464.0, 2944.0, 270.000)
    set u=CreateUnit(p, 'ngol', 5696.0, 3456.0, 270.000)
    call SetResourceAmount(u, 12500)
    set u=CreateUnit(p, 'ncbc', 7456.0, - 6144.0, 270.000)
    set gg_unit_ngme_0087=CreateUnit(p, 'ngme', 6912.0, - 768.0, 270.000)
endfunction

//===========================================================================
function CreateNeutralPassive takes nothing returns nothing
    local player p= Player(PLAYER_NEUTRAL_PASSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_nvil_0013=CreateUnit(p, 'nvil', 6560.3, - 5935.7, 170.670)
    set u=CreateUnit(p, 'nshe', 2591.6, - 7210.3, 173.996)
    set gg_unit_nvil_0067=CreateUnit(p, 'nvil', 7363.5, - 7427.1, 215.238)
    set gg_unit_nvil_0079=CreateUnit(p, 'nvil', 7068.8, - 7284.2, 233.440)
    set gg_unit_nvil_0080=CreateUnit(p, 'nvil', 7173.9, - 7577.0, 222.581)
    set gg_unit_nvil_0088=CreateUnit(p, 'nvil', 4359.6, - 4870.1, 329.816)
    set gg_unit_nvil_0089=CreateUnit(p, 'nvil', 4419.6, - 5325.4, 334.506)
    set gg_unit_nvil_0102=CreateUnit(p, 'nvil', 4519.6, - 5551.0, 22.088)
    set gg_unit_nvil_0103=CreateUnit(p, 'nvil', 5468.3, - 5405.7, 222.788)
    set gg_unit_nvil_0132=CreateUnit(p, 'nvil', 5642.8, - 5669.2, 157.092)
    set gg_unit_nvil_0133=CreateUnit(p, 'nvil', 4830.8, - 4706.9, 291.889)
    set gg_unit_nvil_0134=CreateUnit(p, 'nvil', 4547.2, - 5914.3, 21.810)
    set u=CreateUnit(p, 'nshe', 2522.2, - 7283.4, 168.140)
    set u=CreateUnit(p, 'nshe', 2067.2, - 6895.7, 46.386)
    set u=CreateUnit(p, 'nshe', 2171.8, - 7409.8, 185.136)
    set u=CreateUnit(p, 'nshe', 2012.8, - 7557.2, 199.276)
    set gg_unit_nvil_0141=CreateUnit(p, 'nvil', 2313.3, - 7696.4, 44.733)
    set gg_unit_nvil_0142=CreateUnit(p, 'nvil', 2809.6, - 7485.6, 113.150)
    set gg_unit_nvil_0143=CreateUnit(p, 'nvil', 2527.5, - 7518.3, 129.804)
    set gg_unit_nvil_0146=CreateUnit(p, 'nvil', 5611.6, - 4191.6, 264.576)
    set gg_unit_nvil_0148=CreateUnit(p, 'nvil', 6070.8, - 4041.1, 256.983)
    set gg_unit_nvil_0150=CreateUnit(p, 'nvil', 5883.0, - 4234.2, 242.052)
    set gg_unit_nvlw_0152=CreateUnit(p, 'nvlw', 5820.9, - 4096.6, 245.196)
    set gg_unit_nvlw_0153=CreateUnit(p, 'nvlw', 7125.3, - 5281.7, 170.422)
    set gg_unit_nvlw_0154=CreateUnit(p, 'nvlw', 7206.5, - 5389.3, 230.939)
    set gg_unit_nvil_0155=CreateUnit(p, 'nvil', 7041.3, - 5392.7, 212.041)
    set gg_unit_nvil_0156=CreateUnit(p, 'nvil', 6712.6, - 5900.8, 170.668)
    set gg_unit_nvlw_0157=CreateUnit(p, 'nvlw', 6804.1, - 5745.3, 162.826)
    set gg_unit_nvlw_0158=CreateUnit(p, 'nvlw', 4408.2, - 5950.2, 3.113)
    set gg_unit_nvil_0159=CreateUnit(p, 'nvil', 3911.4, - 4926.0, 331.220)
    set gg_unit_nvlw_0160=CreateUnit(p, 'nvlw', 3847.4, - 5105.5, 307.964)
    set gg_unit_nvil_0161=CreateUnit(p, 'nvil', 3815.4, - 4796.9, 294.949)
    set gg_unit_nvil_0162=CreateUnit(p, 'nvil', 4644.8, - 7287.1, 39.010)
    set gg_unit_nvil_0163=CreateUnit(p, 'nvil', 4929.3, - 7575.7, 63.448)
    set gg_unit_nvlw_0164=CreateUnit(p, 'nvlw', 4536.6, - 7367.1, 35.331)
    set gg_unit_nvlw_0165=CreateUnit(p, 'nvlw', 4584.0, - 7572.9, 46.716)
    set gg_unit_nvlw_0166=CreateUnit(p, 'nvlw', 4808.3, - 7488.6, 51.661)
    set gg_unit_nvlw_0169=CreateUnit(p, 'nvlw', 4403.6, - 6072.3, 257.560)
endfunction

//===========================================================================
function CreatePlayerBuildings takes nothing returns nothing
    call CreateBuildingsForPlayer3()
    call CreateBuildingsForPlayer6()
    call CreateBuildingsForPlayer8()
endfunction

//===========================================================================
function CreatePlayerUnits takes nothing returns nothing
    call CreateUnitsForPlayer1()
    call CreateUnitsForPlayer3()
    call CreateUnitsForPlayer4()
    call CreateUnitsForPlayer5()
    call CreateUnitsForPlayer6()
    call CreateUnitsForPlayer8()
endfunction

//===========================================================================
function CreateAllUnits takes nothing returns nothing
    call CreateNeutralPassiveBuildings()
    call CreatePlayerBuildings()
    call CreateNeutralHostile()
    call CreateNeutralPassive()
    call CreatePlayerUnits()
endfunction

//***************************************************************************
//*
//*  Regions
//*
//***************************************************************************

function CreateRegions takes nothing returns nothing
    local weathereffect we

    set gg_rct_01Arthas_A=Rect(5024.0, - 6560.0, 5120.0, - 6464.0)
    set gg_rct_01Arthas_B=Rect(5376.0, - 5760.0, 5504.0, - 5632.0)
    set gg_rct_01Arthas_C=Rect(5376.0, - 5952.0, 5472.0, - 5856.0)
    set gg_rct_01Arthas_Start=Rect(6368.0, - 7872.0, 6464.0, - 7776.0)
    set gg_rct_01Jaina_A=Rect(4736.0, - 6528.0, 4864.0, - 6400.0)
    set gg_rct_01Jaina_B=Rect(5184.0, - 5824.0, 5280.0, - 5728.0)
    set gg_rct_01Jaina_Start=Rect(6208.0, - 7616.0, 6304.0, - 7520.0)
    set gg_rct_01Jaina_Teleports_A=Rect(4352.0, - 6400.0, 4480.0, - 6272.0)
    set gg_rct_01Jaina_Teleports_B=Rect(2944.0, - 5760.0, 3072.0, - 5632.0)
    set gg_rct_01Militia_Line_A_01a=Rect(4608.0, - 5248.0, 4736.0, - 5120.0)
    set gg_rct_01Militia_Line_A_01b=Rect(4608.0, - 5376.0, 4736.0, - 5248.0)
    set gg_rct_01Militia_Line_A_02a=Rect(4736.0, - 5248.0, 4864.0, - 5120.0)
    set gg_rct_01Militia_Line_A_02b=Rect(4736.0, - 5376.0, 4864.0, - 5248.0)
    set gg_rct_01Militia_Line_A_03a=Rect(4864.0, - 5248.0, 4992.0, - 5120.0)
    set gg_rct_01Militia_Line_A_03b=Rect(4864.0, - 5376.0, 4992.0, - 5248.0)
    set gg_rct_01Militia_Line_B_01a=Rect(4608.0, - 5504.0, 4736.0, - 5376.0)
    set gg_rct_01Militia_Line_B_01b=Rect(4608.0, - 5632.0, 4736.0, - 5504.0)
    set gg_rct_01Militia_Line_B_02a=Rect(4736.0, - 5504.0, 4864.0, - 5376.0)
    set gg_rct_01Militia_Line_B_02b=Rect(4736.0, - 5632.0, 4864.0, - 5504.0)
    set gg_rct_01Militia_Line_B_03a=Rect(4864.0, - 5504.0, 4992.0, - 5376.0)
    set gg_rct_01Militia_Line_B_03b=Rect(4864.0, - 5632.0, 4992.0, - 5504.0)
    set gg_rct_01Militia_Line_C_01a=Rect(4608.0, - 5760.0, 4736.0, - 5632.0)
    set gg_rct_01Militia_Line_C_01b=Rect(4608.0, - 5888.0, 4736.0, - 5760.0)
    set gg_rct_01Militia_Line_C_02a=Rect(4864.0, - 5760.0, 4992.0, - 5632.0)
    set gg_rct_01Militia_Line_C_02b=Rect(4864.0, - 5888.0, 4992.0, - 5760.0)
    set gg_rct_01Sergeant_A=Rect(5248.0, - 5632.0, 5376.0, - 5504.0)
    set gg_rct_01Sergeant_B=Rect(5088.0, - 5280.0, 5152.0, - 5216.0)
    set gg_rct_01Sergeant_C=Rect(5472.0, - 5856.0, 5568.0, - 5760.0)
    set gg_rct_01Town_Footman_1_A=Rect(4960.0, - 6944.0, 5056.0, - 6848.0)
    set gg_rct_01Town_Footman_1_B=Rect(4928.0, - 6176.0, 5024.0, - 6080.0)
    set gg_rct_01Town_Footman_1_C=Rect(5280.0, - 5184.0, 5376.0, - 5088.0)
    set gg_rct_01Town_Footman_2_A=Rect(5184.0, - 7008.0, 5280.0, - 6912.0)
    set gg_rct_01Town_Footman_2_B=Rect(5120.0, - 6176.0, 5216.0, - 6080.0)
    set gg_rct_01Town_Footman_2_C=Rect(5440.0, - 5216.0, 5536.0, - 5120.0)
    set gg_rct_01Town_Priest_A=Rect(5248.0, - 7232.0, 5344.0, - 7136.0)
    set gg_rct_01Town_Priest_B=Rect(5024.0, - 6496.0, 5120.0, - 6400.0)
    set gg_rct_01Town_Priest_C=Rect(5472.0, - 4928.0, 5568.0, - 4832.0)
    set gg_rct_01Town_Rifleman_A=Rect(5024.0, - 7200.0, 5120.0, - 7104.0)
    set gg_rct_01Town_Rifleman_B=Rect(5024.0, - 6368.0, 5120.0, - 6272.0)
    set gg_rct_01Town_Rifleman_C=Rect(5376.0, - 5056.0, 5472.0, - 4960.0)
    set gg_rct_02_Roaming_Villager_A=Rect(5504.0, - 4288.0, 6176.0, - 3904.0)
    set gg_rct_02_Roaming_Villager_B=Rect(3712.0, - 5184.0, 3968.0, - 4704.0)
    set gg_rct_02_Roaming_Villager_C=Rect(6912.0, - 5536.0, 7392.0, - 5120.0)
    set gg_rct_02_Roaming_Villager_D=Rect(6464.0, - 6048.0, 6880.0, - 5600.0)
    set gg_rct_02_Roaming_Villager_E=Rect(4320.0, - 6144.0, 4480.0, - 5888.0)
    set gg_rct_02_Roaming_Villager_F=Rect(4448.0, - 7680.0, 5024.0, - 7136.0)
    set gg_rct_02_Villager_A_Retreat_A=Rect(5504.0, - 3840.0, 5632.0, - 3712.0)
    set gg_rct_02_Villager_A_Retreat_B=Rect(6016.0, - 3840.0, 6144.0, - 3712.0)
    set gg_rct_02_Villager_B_Retreat_A=Rect(3456.0, - 4736.0, 3584.0, - 4608.0)
    set gg_rct_02_Villager_C_Retreat_A=Rect(7168.0, - 5120.0, 7296.0, - 4992.0)
    set gg_rct_02_Villager_D_Retreat_A=Rect(6912.0, - 6016.0, 7040.0, - 5888.0)
    set gg_rct_02_Villager_E_Retreat_A=Rect(4352.0, - 5888.0, 4480.0, - 5760.0)
    set gg_rct_02_Villager_F_Retreat_A=Rect(4480.0, - 7808.0, 4608.0, - 7680.0)
    set gg_rct_02_Villager_F_Retreat_B=Rect(4864.0, - 7808.0, 4992.0, - 7680.0)
    set gg_rct_02_Vis_Hearthglen_A=Rect(4064.0, - 8256.0, 7872.0, - 3872.0)
    set gg_rct_02_Vis_Hearthglen_B=Rect(3840.0, - 3936.0, 6336.0, - 2784.0)
    set gg_rct_02_Vis_Hearthglen_C=Rect(3072.0, - 5248.0, 4128.0, - 4032.0)
    set gg_rct_02_Vis_Hearthglen_D=Rect(3072.0, - 7040.0, 4000.0, - 6176.0)
    set gg_rct_02_Vis_Hearthglen_E=Rect(3904.0, - 8128.0, 5376.0, - 6944.0)
    set gg_rct_02Harvest_Gold=Rect(6016.0, - 5760.0, 6112.0, - 5632.0)
    set gg_rct_02Harvest_Lumber=Rect(4992.0, - 4064.0, 5088.0, - 3968.0)
    set gg_rct_02Hearthglen=Rect(5632.0, - 5632.0, 6208.0, - 5088.0)
    set gg_rct_02Outside_Farm=Rect(2240.0, - 7744.0, 2912.0, - 7392.0)
    set gg_rct_03Caravan_Removal=Rect(7808.0, 2304.0, 7936.0, 3328.0)
    set gg_rct_03Caravan_Spotted=Rect(- 7040.0, - 5504.0, - 6912.0, - 5376.0)
    set gg_rct_03Village_Corruption_1_A=Rect(- 6912.0, - 2560.0, - 6656.0, - 2304.0)
    set gg_rct_03Village_Corruption_2_A=Rect(- 4480.0, 2048.0, - 4224.0, 2304.0)
    set gg_rct_03Village_Corruption_3_A=Rect(- 800.0, 2624.0, - 544.0, 2880.0)
    set gg_rct_03Village_Corruption_4_A=Rect(5248.0, 2176.0, 5504.0, 2432.0)
    set gg_rct_04Farm_01_Roaming_Units_A=Rect(- 6880.0, - 2208.0, - 6272.0, - 1728.0)
    set gg_rct_04Farm_01_Roaming_Units_B=Rect(- 7840.0, - 2368.0, - 7232.0, - 1888.0)
    set gg_rct_04Farm_02_Roaming_Units_A=Rect(- 4960.0, 2368.0, - 4096.0, 2880.0)
    set gg_rct_04Farm_02_Roaming_Units_C=Rect(- 5152.0, 1504.0, - 4512.0, 2016.0)
    set gg_rct_04Farm_03_Roaming_Units_A=Rect(- 768.0, 3072.0, - 64.0, 3584.0)
    set gg_rct_04Farm_03_Roaming_Units_B=Rect(- 1312.0, 3072.0, - 800.0, 3648.0)
    set gg_rct_04Farm_04_Roaming_Units_A=Rect(3936.0, 2688.0, 4864.0, 3296.0)
    set gg_rct_04Farm_04_Roaming_Units_B=Rect(6016.0, 2528.0, 6944.0, 3136.0)
    set gg_rct_04Farm_04_Roaming_Units_C=Rect(4000.0, 1312.0, 4928.0, 1920.0)
    set gg_rct_04Farm_04_Roaming_Units_D=Rect(5216.0, 1312.0, 6144.0, 1920.0)
    set gg_rct_04Farm04_Visibility=Rect(5120.0, 2336.0, 5248.0, 2464.0)
    set gg_rct_05Farm05_Visibility=Rect(6976.0, - 7424.0, 7040.0, - 7360.0)
    set gg_rct_05Farm05Greeting=Rect(6912.0, - 7552.0, 6976.0, - 7488.0)
    set gg_rct_05Farm05Troops_01=Rect(7232.0, - 7296.0, 7296.0, - 7232.0)
    set gg_rct_05Farm05Troops_02=Rect(7200.0, - 7264.0, 7264.0, - 7200.0)
    set gg_rct_05Farm05Troops_03=Rect(7168.0, - 7232.0, 7232.0, - 7168.0)
    set gg_rct_05Troop_2=Rect(7040.0, - 7488.0, 7104.0, - 7424.0)
    set gg_rct_05Troop_3=Rect(7104.0, - 7552.0, 7168.0, - 7488.0)
    set gg_rct_06Arthas_Ending_A=Rect(6400.0, - 5440.0, 6496.0, - 5344.0)
    set gg_rct_06Arthas_Ending_B=Rect(6656.0, - 5664.0, 6752.0, - 5568.0)
    set gg_rct_06Arthas_Ending_C=Rect(6528.0, - 5664.0, 6624.0, - 5568.0)
    set gg_rct_06Jaina_Ending_A=Rect(6976.0, - 7904.0, 7072.0, - 7776.0)
    set gg_rct_06Jaina_Ending_B=Rect(5152.0, - 6752.0, 5248.0, - 6656.0)
    set gg_rct_06Jaina_Ending_C=Rect(6912.0, - 5600.0, 7008.0, - 5504.0)
    set gg_rct_06Uther_Ending_A=Rect(7040.0, - 8352.0, 7136.0, - 8256.0)
    set gg_rct_06Uther_Ending_C=Rect(6880.0, - 5792.0, 6976.0, - 5696.0)
    set gg_rct_07Reinforcement_3_A=Rect(7744.0, - 8896.0, 7872.0, - 8768.0)
    set gg_rct_07Reinforcement_3_B=Rect(7136.0, - 9088.0, 7264.0, - 8960.0)
    set gg_rct_07Reinforcement_3_C=Rect(7104.0, - 8512.0, 7392.0, - 8192.0)
    set gg_rct_07Uther_Knights_Attack_02=Rect(5248.0, - 5408.0, 5344.0, - 5312.0)
    set gg_rct_Abomination_Dead=Rect(4384.0, - 6656.0, 4608.0, - 6496.0)
    set gg_rct_Abomination_Dead_B=Rect(4928.0, - 5888.0, 5120.0, - 5664.0)
    set gg_rct_Abomination_Face_Footman=Rect(4544.0, - 7104.0, 4736.0, - 6912.0)
    set gg_rct_Abomination_Face_Footman_B=Rect(4800.0, - 7136.0, 4992.0, - 6944.0)
    set gg_rct_Abomination_Take_It=Rect(4896.0, - 7232.0, 5056.0, - 7072.0)
    set gg_rct_Acolyte_Appear=Rect(6688.0, 2016.0, 6816.0, 2144.0)
    set gg_rct_Acolyte_Move=Rect(5344.0, 2720.0, 5568.0, 2912.0)
    set gg_rct_Advance=Rect(4992.0, - 7680.0, 5728.0, - 7072.0)
    set gg_rct_Advance_End=Rect(5056.0, - 7168.0, 5632.0, - 6592.0)
    set gg_rct_AI_Difficulty_Building_01=Rect(4480.0, - 576.0, 4672.0, - 384.0)
    set gg_rct_AI_Difficulty_Building_02=Rect(4000.0, - 576.0, 4192.0, - 384.0)
    set gg_rct_AI_Difficulty_Unit_01=Rect(4288.0, - 704.0, 4384.0, - 608.0)
    set gg_rct_AI_Difficulty_Unit_02=Rect(4224.0, - 832.0, 4320.0, - 736.0)
    set gg_rct_AI_Difficulty_Unit_03=Rect(4384.0, - 864.0, 4480.0, - 768.0)
    set gg_rct_AI_Difficulty_Unit_04=Rect(4448.0, - 736.0, 4544.0, - 640.0)
    set gg_rct_All_Attack=Rect(4128.0, - 7200.0, 4864.0, - 6656.0)
    set gg_rct_All_Attack_Other=Rect(4864.0, - 7200.0, 5472.0, - 6656.0)
    set gg_rct_Arthas_Moves_A_little=Rect(4704.0, - 6016.0, 4864.0, - 5824.0)
    set gg_rct_Arthas_Talks_To_Uther=Rect(4672.0, - 6112.0, 4832.0, - 5920.0)
    set gg_rct_Arthas_Uh_Oh=Rect(4704.0, - 6336.0, 4928.0, - 6112.0)
    set gg_rct_BattleSoundArea=Rect(4160.0, - 7424.0, 5472.0, - 6208.0)
    set gg_rct_Breadcrumb_01=Rect(- 5696.0, - 5728.0, - 5632.0, - 5664.0)
    set gg_rct_Breadcrumb_02=Rect(- 6144.0, - 5760.0, - 6080.0, - 5696.0)
    set gg_rct_Breadcrumb_03=Rect(- 6560.0, - 5728.0, - 6496.0, - 5664.0)
    set gg_rct_Breadcrumb_04=Rect(- 7008.0, - 5632.0, - 6944.0, - 5568.0)
    set gg_rct_Breadcrumb_05=Rect(- 7392.0, - 5376.0, - 7328.0, - 5312.0)
    set gg_rct_Breadcrumb_06=Rect(- 7680.0, - 4992.0, - 7616.0, - 4928.0)
    set gg_rct_Breadcrumb_07=Rect(- 7808.0, - 4480.0, - 7744.0, - 4416.0)
    set gg_rct_Breadcrumb_08=Rect(- 7744.0, - 4000.0, - 7680.0, - 3936.0)
    set gg_rct_Breadcrumb_09=Rect(- 7616.0, - 3520.0, - 7552.0, - 3456.0)
    set gg_rct_Breadcrumb_10=Rect(- 7296.0, - 3136.0, - 7232.0, - 3072.0)
    set gg_rct_Breadcrumb_11=Rect(- 7104.0, - 2752.0, - 7040.0, - 2688.0)
    set gg_rct_Breadcrumb_12=Rect(- 6816.0, - 2464.0, - 6752.0, - 2400.0)
    set gg_rct_Breadcrumb_13=Rect(- 6464.0, - 2656.0, - 6400.0, - 2592.0)
    set gg_rct_Breadcrumb_14=Rect(- 6048.0, - 2688.0, - 5984.0, - 2624.0)
    set gg_rct_Breadcrumb_15=Rect(- 5600.0, - 2752.0, - 5536.0, - 2688.0)
    set gg_rct_Breadcrumb_16=Rect(- 5184.0, - 2752.0, - 5120.0, - 2688.0)
    set gg_rct_Breadcrumb_17=Rect(- 4768.0, - 2624.0, - 4704.0, - 2560.0)
    set gg_rct_Breadcrumb_18=Rect(- 4416.0, - 2368.0, - 4352.0, - 2304.0)
    set gg_rct_Breadcrumb_19=Rect(- 4160.0, - 1984.0, - 4096.0, - 1920.0)
    set gg_rct_Breadcrumb_20=Rect(- 4128.0, - 1504.0, - 4064.0, - 1440.0)
    set gg_rct_Breadcrumb_21=Rect(- 4192.0, - 1056.0, - 4128.0, - 992.0)
    set gg_rct_Breadcrumb_22=Rect(- 4512.0, - 672.0, - 4448.0, - 608.0)
    set gg_rct_Breadcrumb_23=Rect(- 4928.0, - 384.0, - 4864.0, - 320.0)
    set gg_rct_Breadcrumb_24=Rect(- 5312.0, - 64.0, - 5248.0, 0.0)
    set gg_rct_Breadcrumb_25=Rect(- 5728.0, 96.0, - 5664.0, 160.0)
    set gg_rct_Breadcrumb_26=Rect(- 6048.0, 448.0, - 5984.0, 512.0)
    set gg_rct_Breadcrumb_27=Rect(- 6400.0, 736.0, - 6336.0, 800.0)
    set gg_rct_Breadcrumb_28=Rect(- 6464.0, 1184.0, - 6400.0, 1248.0)
    set gg_rct_Breadcrumb_29=Rect(- 6464.0, 1664.0, - 6400.0, 1728.0)
    set gg_rct_Breadcrumb_30=Rect(- 6336.0, 2080.0, - 6272.0, 2144.0)
    set gg_rct_Breadcrumb_31=Rect(- 6016.0, 2304.0, - 5952.0, 2368.0)
    set gg_rct_Breadcrumb_32=Rect(- 5600.0, 2336.0, - 5536.0, 2400.0)
    set gg_rct_Breadcrumb_33=Rect(- 5184.0, 2240.0, - 5120.0, 2304.0)
    set gg_rct_Breadcrumb_34=Rect(- 4768.0, 2144.0, - 4704.0, 2208.0)
    set gg_rct_Breadcrumb_35=Rect(- 4352.0, 2176.0, - 4288.0, 2240.0)
    set gg_rct_Breadcrumb_36=Rect(- 3968.0, 2304.0, - 3904.0, 2368.0)
    set gg_rct_Breadcrumb_37=Rect(- 3584.0, 2496.0, - 3520.0, 2560.0)
    set gg_rct_Breadcrumb_38=Rect(- 3200.0, 2464.0, - 3136.0, 2528.0)
    set gg_rct_Breadcrumb_39=Rect(- 2752.0, 2272.0, - 2688.0, 2336.0)
    set gg_rct_Breadcrumb_40=Rect(- 2560.0, 1888.0, - 2496.0, 1952.0)
    set gg_rct_Breadcrumb_41=Rect(- 2752.0, 1504.0, - 2688.0, 1568.0)
    set gg_rct_Breadcrumb_42=Rect(- 2560.0, 1056.0, - 2496.0, 1120.0)
    set gg_rct_Breadcrumb_43=Rect(- 1984.0, 864.0, - 1920.0, 928.0)
    set gg_rct_Breadcrumb_44=Rect(- 1408.0, 640.0, - 1344.0, 704.0)
    set gg_rct_Breadcrumb_45=Rect(- 960.0, 640.0, - 896.0, 704.0)
    set gg_rct_Breadcrumb_46=Rect(- 544.0, 800.0, - 480.0, 864.0)
    set gg_rct_Breadcrumb_47=Rect(- 160.0, 1088.0, - 96.0, 1152.0)
    set gg_rct_Breadcrumb_48=Rect(- 160.0, 1536.0, - 96.0, 1600.0)
    set gg_rct_Breadcrumb_49=Rect(- 512.0, 1920.0, - 448.0, 1984.0)
    set gg_rct_Breadcrumb_50=Rect(- 832.0, 2304.0, - 768.0, 2368.0)
    set gg_rct_Breadcrumb_51=Rect(- 704.0, 2720.0, - 640.0, 2784.0)
    set gg_rct_Breadcrumb_52=Rect(- 128.0, 2688.0, - 64.0, 2752.0)
    set gg_rct_Breadcrumb_53=Rect(288.0, 2560.0, 352.0, 2624.0)
    set gg_rct_Breadcrumb_54=Rect(768.0, 2624.0, 832.0, 2688.0)
    set gg_rct_Breadcrumb_55=Rect(1248.0, 2432.0, 1312.0, 2496.0)
    set gg_rct_Breadcrumb_56=Rect(1632.0, 2208.0, 1696.0, 2272.0)
    set gg_rct_Breadcrumb_57=Rect(1856.0, 1824.0, 1920.0, 1888.0)
    set gg_rct_Breadcrumb_58=Rect(2080.0, 1440.0, 2144.0, 1504.0)
    set gg_rct_Breadcrumb_59=Rect(2400.0, 1088.0, 2464.0, 1152.0)
    set gg_rct_Breadcrumb_60=Rect(2848.0, 1184.0, 2912.0, 1248.0)
    set gg_rct_Breadcrumb_61=Rect(2976.0, 1600.0, 3040.0, 1664.0)
    set gg_rct_Breadcrumb_62=Rect(3232.0, 1920.0, 3296.0, 1984.0)
    set gg_rct_Breadcrumb_63=Rect(3584.0, 2144.0, 3648.0, 2208.0)
    set gg_rct_Breadcrumb_64=Rect(4032.0, 2272.0, 4096.0, 2336.0)
    set gg_rct_Breadcrumb_65=Rect(4416.0, 2336.0, 4480.0, 2400.0)
    set gg_rct_Breadcrumb_66=Rect(4832.0, 2336.0, 4896.0, 2400.0)
    set gg_rct_Breadcrumb_67=Rect(5248.0, 2272.0, 5312.0, 2336.0)
    set gg_rct_Breadcrumb_68=Rect(5632.0, 2208.0, 5696.0, 2272.0)
    set gg_rct_Breadcrumb_69=Rect(6016.0, 2240.0, 6080.0, 2304.0)
    set gg_rct_Breadcrumb_70=Rect(6400.0, 2368.0, 6464.0, 2432.0)
    set gg_rct_Breadcrumb_71=Rect(6784.0, 2560.0, 6848.0, 2624.0)
    set gg_rct_Breadcrumb_72=Rect(7168.0, 2656.0, 7232.0, 2720.0)
    set gg_rct_Breadcrumb_73=Rect(7552.0, 2688.0, 7616.0, 2752.0)
    set gg_rct_Breadcrumb_74=Rect(8416.0, 2784.0, 8480.0, 2848.0)
    set gg_rct_Clear_OUt=Rect(4864.0, - 7264.0, 5600.0, - 6560.0)
    set gg_rct_Conversion_01=Rect(4480.0, - 5120.0, 4608.0, - 4992.0)
    set gg_rct_Conversion_02=Rect(4992.0, - 5504.0, 5120.0, - 5376.0)
    set gg_rct_Conversion_03=Rect(4480.0, - 5600.0, 4576.0, - 5504.0)
    set gg_rct_Conversion_04=Rect(5408.0, - 5472.0, 5504.0, - 5376.0)
    set gg_rct_Conversion_05=Rect(5600.0, - 5728.0, 5696.0, - 5632.0)
    set gg_rct_Conversion_06=Rect(4864.0, - 5120.0, 4992.0, - 4992.0)
    set gg_rct_Conversion_07=Rect(4512.0, - 5984.0, 4608.0, - 5888.0)
    set gg_rct_Dead_Ghoul_Other=Rect(4576.0, - 5600.0, 4672.0, - 5472.0)
    set gg_rct_Easy_Lad=Rect(4800.0, - 6112.0, 4928.0, - 5952.0)
    set gg_rct_Farm_01_Create_A=Rect(- 6496.0, - 1984.0, - 6400.0, - 1888.0)
    set gg_rct_Farm_01_Create_B=Rect(- 7808.0, - 2112.0, - 7680.0, - 1984.0)
    set gg_rct_Farm_01_Ghouls_Move=Rect(- 7168.0, - 2336.0, - 7008.0, - 2176.0)
    set gg_rct_Farm_02_Create_A=Rect(- 4896.0, 2656.0, - 4768.0, 2784.0)
    set gg_rct_Farm_02_Create_B=Rect(- 4992.0, 1664.0, - 4864.0, 1792.0)
    set gg_rct_Farm_02_Ghouls_Move=Rect(- 4160.0, 1856.0, - 4000.0, 2016.0)
    set gg_rct_Farm_03_Create_A=Rect(- 448.0, 3264.0, - 320.0, 3392.0)
    set gg_rct_Farm_03_Create_B=Rect(- 1216.0, 3424.0, - 1088.0, 3552.0)
    set gg_rct_Farm_03_Ghouls_Move=Rect(- 1152.0, 2880.0, - 992.0, 3008.0)
    set gg_rct_Farm_04_Create_A=Rect(6464.0, 3040.0, 6592.0, 3168.0)
    set gg_rct_Farm_04_Create_B=Rect(5728.0, 1184.0, 5856.0, 1312.0)
    set gg_rct_Farm_04_Create_C=Rect(4352.0, 1120.0, 4480.0, 1248.0)
    set gg_rct_Farm_04_Create_D=Rect(4416.0, 3328.0, 4544.0, 3456.0)
    set gg_rct_Farm_04_Ghouls_Move=Rect(4960.0, 1760.0, 5088.0, 1888.0)
    set gg_rct_Fire1=Rect(4096.0, - 6144.0, 4416.0, - 5600.0)
    set gg_rct_Fire2=Rect(4000.0, - 7264.0, 4384.0, - 7072.0)
    set gg_rct_Fire3=Rect(4352.0, - 8096.0, 5216.0, - 7584.0)
    set gg_rct_Footman_Face_Abomination=Rect(4576.0, - 6912.0, 4704.0, - 6752.0)
    set gg_rct_Footman_Face_Abomination_B=Rect(4704.0, - 6976.0, 4832.0, - 6848.0)
    set gg_rct_Footman_Face_Ghoul=Rect(4256.0, - 6880.0, 4384.0, - 6752.0)
    set gg_rct_Footman_Face_Ghoul_B=Rect(4416.0, - 6688.0, 4544.0, - 6560.0)
    set gg_rct_Footman_Face_Ghoul_C=Rect(4832.0, - 6784.0, 4960.0, - 6624.0)
    set gg_rct_Footman_Face_Ghoul_D=Rect(4992.0, - 6656.0, 5120.0, - 6528.0)
    set gg_rct_Footman_Face_Ghoul_E=Rect(5184.0, - 6752.0, 5312.0, - 6624.0)
    set gg_rct_Formation_01=Rect(- 7040.0, - 6144.0, - 6912.0, - 6016.0)
    set gg_rct_Formation_02=Rect(- 6784.0, - 6144.0, - 6656.0, - 6016.0)
    set gg_rct_Formation_03=Rect(- 7296.0, - 6144.0, - 7168.0, - 6016.0)
    set gg_rct_Formation_04=Rect(- 6528.0, - 6144.0, - 6400.0, - 6016.0)
    set gg_rct_Formation_05=Rect(- 7552.0, - 6144.0, - 7424.0, - 6016.0)
    set gg_rct_Formation_06=Rect(- 6688.0, - 5920.0, - 6560.0, - 5792.0)
    set gg_rct_Formation_07=Rect(- 6688.0, - 6368.0, - 6560.0, - 6240.0)
    set gg_rct_Formation_08=Rect(- 6944.0, - 5888.0, - 6816.0, - 5760.0)
    set gg_rct_Formation_09=Rect(- 6944.0, - 6400.0, - 6816.0, - 6272.0)
    set gg_rct_Formation_10=Rect(- 7200.0, - 5888.0, - 7072.0, - 5760.0)
    set gg_rct_Formation_11=Rect(- 7200.0, - 6400.0, - 7072.0, - 6272.0)
    set gg_rct_Formation_12=Rect(- 7456.0, - 5920.0, - 7328.0, - 5792.0)
    set gg_rct_Formation_13=Rect(- 7456.0, - 6368.0, - 7328.0, - 6240.0)
    set gg_rct_FormationCenter=Rect(- 7072.0, - 6176.0, - 6880.0, - 5984.0)
    set gg_rct_Fountain_of_Life=Rect(- 7296.0, 2464.0, - 6112.0, 3520.0)
    set gg_rct_Free_Villager=Rect(- 2304.0, - 2304.0, - 2176.0, - 2208.0)
    set gg_rct_Gargoyle_Dead=Rect(4736.0, - 5696.0, 4896.0, - 5536.0)
    set gg_rct_Ghoul_Face_Footman=Rect(4256.0, - 7008.0, 4384.0, - 6880.0)
    set gg_rct_Ghoul_Face_Footman_B=Rect(4416.0, - 6816.0, 4544.0, - 6688.0)
    set gg_rct_Ghoul_Face_Footman_C=Rect(4832.0, - 6912.0, 4960.0, - 6784.0)
    set gg_rct_Ghoul_Face_Footman_D=Rect(4992.0, - 6784.0, 5120.0, - 6656.0)
    set gg_rct_Ghoul_Face_Footman_E=Rect(5184.0, - 6880.0, 5312.0, - 6752.0)
    set gg_rct_GhoulMakesBadChoice=Rect(4736.0, - 6432.0, 4896.0, - 6304.0)
    set gg_rct_Jaina_Item_Drop_01=Rect(6112.0, - 5088.0, 6208.0, - 4992.0)
    set gg_rct_Jaina_Item_Drop_02=Rect(6016.0, - 5088.0, 6112.0, - 4992.0)
    set gg_rct_Jaina_Item_Drop_03=Rect(5920.0, - 5088.0, 6016.0, - 4992.0)
    set gg_rct_Jaina_Item_Drop_04=Rect(5824.0, - 5088.0, 5920.0, - 4992.0)
    set gg_rct_Jaina_Item_Drop_05=Rect(5728.0, - 5088.0, 5824.0, - 4992.0)
    set gg_rct_Jaina_Item_Drop_06=Rect(5632.0, - 5088.0, 5728.0, - 4992.0)
    set gg_rct_Jaina_Stands_Around=Rect(4832.0, - 6400.0, 4992.0, - 6240.0)
    set gg_rct_Kill_Em_All=Rect(3392.0, - 7744.0, 5600.0, - 5056.0)
    set gg_rct_Knights_Charge_Again=Rect(4352.0, - 7136.0, 5344.0, - 6336.0)
    set gg_rct_KnightsEnter1=Rect(5536.0, - 7488.0, 5664.0, - 7360.0)
    set gg_rct_KnightsEnter2=Rect(5120.0, - 6784.0, 5280.0, - 6624.0)
    set gg_rct_KnightsEnter3=Rect(5152.0, - 6528.0, 5312.0, - 6368.0)
    set gg_rct_LakeLoop01=Rect(- 2560.0, - 3808.0, - 1792.0, - 2880.0)
    set gg_rct_LakeLoop02=Rect(- 1824.0, - 3456.0, - 672.0, - 2656.0)
    set gg_rct_LakeLoop03=Rect(- 1536.0, - 4512.0, - 512.0, - 3456.0)
    set gg_rct_LakeLoop04=Rect(- 2752.0, - 2720.0, - 2336.0, - 2368.0)
    set gg_rct_LakeLoop05=Rect(- 1856.0, - 2528.0, - 1472.0, - 1984.0)
    set gg_rct_LakeLoop06=Rect(- 2176.0, 160.0, - 1536.0, 1280.0)
    set gg_rct_LakeLoop07=Rect(5536.0, - 1152.0, 6112.0, - 576.0)
    set gg_rct_LakeLoop08=Rect(- 8512.0, - 3040.0, - 7904.0, - 1376.0)
    set gg_rct_Malganis_Corruption_01=Rect(4352.0, - 5120.0, 4448.0, - 5024.0)
    set gg_rct_Malganis_Corruption_02=Rect(5024.0, - 5600.0, 5120.0, - 5504.0)
    set gg_rct_Malganis_Corruption_03=Rect(4512.0, - 5728.0, 4608.0, - 5632.0)
    set gg_rct_Malganis_Corruption_04=Rect(5536.0, - 5376.0, 5632.0, - 5280.0)
    set gg_rct_Malganis_Corruption_05=Rect(5568.0, - 5600.0, 5664.0, - 5504.0)
    set gg_rct_Malganis_Corruption_06=Rect(4736.0, - 5056.0, 4832.0, - 4960.0)
    set gg_rct_Malganis_Corruption_07=Rect(4512.0, - 6112.0, 4608.0, - 6016.0)
    set gg_rct_Malganis_Corruption_08=Rect(2592.0, - 7552.0, 2688.0, - 7456.0)
    set gg_rct_Malganis_Farm_01=Rect(- 7200.0, - 2048.0, - 7104.0, - 1952.0)
    set gg_rct_Malganis_Farm_02__A=Rect(- 4608.0, 2272.0, - 4512.0, 2368.0)
    set gg_rct_Malganis_Farm_02__B=Rect(- 4928.0, 2016.0, - 4832.0, 2112.0)
    set gg_rct_Malganis_Farm_03=Rect(- 768.0, 3328.0, - 672.0, 3424.0)
    set gg_rct_Malganis_Farm_04_A=Rect(6112.0, 2976.0, 6208.0, 3072.0)
    set gg_rct_Malganis_Farm_04_B=Rect(5568.0, 1216.0, 5664.0, 1312.0)
    set gg_rct_Malganis_Farm_04_C=Rect(4128.0, 1216.0, 4224.0, 1312.0)
    set gg_rct_Malganis_Farm_04_D=Rect(4576.0, 3328.0, 4672.0, 3424.0)
    set gg_rct_Meat=Rect(4352.0, - 7552.0, 4608.0, - 7296.0)
    set gg_rct_Necro_Dead=Rect(4928.0, - 6304.0, 5056.0, - 6144.0)
    set gg_rct_Region_287=Rect(4192.0, - 7232.0, 4544.0, - 6720.0)
    set gg_rct_Rifleman_Dead=Rect(5088.0, - 6112.0, 5248.0, - 5920.0)
    set gg_rct_Rifleman_Fire=Rect(4128.0, - 6528.0, 4288.0, - 6336.0)
    set gg_rct_Rifleman_Fire_B=Rect(4384.0, - 6368.0, 4512.0, - 6208.0)
    set gg_rct_Rifleman_Fire_C=Rect(5088.0, - 6368.0, 5216.0, - 6208.0)
    set gg_rct_Sheep=Rect(7552.0, - 6272.0, 7616.0, - 6208.0)
    set gg_rct_Skeleton=Rect(4896.0, - 6080.0, 5024.0, - 5920.0)
    set gg_rct_Undead_Mob_Attack=Rect(4288.0, - 7616.0, 5568.0, - 6752.0)
    set gg_rct_Undead_Mob_Attack_B=Rect(3616.0, - 6688.0, 4384.0, - 5696.0)
    set gg_rct_Undead_Mob_Start=Rect(5920.0, - 8064.0, 6912.0, - 7168.0)
    set gg_rct_Undead_Mob_Start_B=Rect(2144.0, - 6080.0, 3136.0, - 5120.0)
    set gg_rct_Unlucky_Priest=Rect(4832.0, - 6656.0, 4960.0, - 6528.0)
    set gg_rct_Uther_Attack_Abomination=Rect(4736.0, - 7264.0, 4864.0, - 7136.0)
    set gg_rct_Uther_Talks_To_Arthas=Rect(4512.0, - 6432.0, 4704.0, - 6208.0)
    set gg_rct_Village_Check_01=Rect(- 8032.0, - 3264.0, - 5824.0, - 1280.0)
    set gg_rct_Village_Check_02=Rect(- 5600.0, 1536.0, - 3456.0, 2912.0)
    set gg_rct_Village_Check_03=Rect(- 1536.0, 2528.0, 352.0, 3712.0)
    set gg_rct_Village_Check_04=Rect(3328.0, 704.0, 7360.0, 3872.0)
    set gg_rct_Village_Vis_01=Rect(- 7232.0, - 1856.0, - 7136.0, - 1728.0)
    set gg_rct_Village_Vis_02=Rect(- 4608.0, 2112.0, - 4512.0, 2240.0)
    set gg_rct_Village_Vis_03=Rect(- 768.0, 3008.0, - 672.0, 3136.0)
    set gg_rct_Fire2New=Rect(4000.0, - 7648.0, 4352.0, - 7296.0)
endfunction

//***************************************************************************
//*
//*  Cameras
//*
//***************************************************************************

function CreateCameras takes nothing returns nothing

    set gg_cam_Arthas_Defiant_A=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Arthas_Defiant_A, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Arthas_Defiant_A, CAMERA_FIELD_ROTATION, 88.5, 0.0)
    call CameraSetupSetField(gg_cam_Arthas_Defiant_A, CAMERA_FIELD_ANGLE_OF_ATTACK, 316.7, 0.0)
    call CameraSetupSetField(gg_cam_Arthas_Defiant_A, CAMERA_FIELD_TARGET_DISTANCE, 1127.0, 0.0)
    call CameraSetupSetField(gg_cam_Arthas_Defiant_A, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Arthas_Defiant_A, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Arthas_Defiant_A, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Arthas_Defiant_A, 4912.4, - 6259.5, 0.0)

    set gg_cam_Arthas_Defiant_B=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Arthas_Defiant_B, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Arthas_Defiant_B, CAMERA_FIELD_ROTATION, 89.5, 0.0)
    call CameraSetupSetField(gg_cam_Arthas_Defiant_B, CAMERA_FIELD_ANGLE_OF_ATTACK, 326.9, 0.0)
    call CameraSetupSetField(gg_cam_Arthas_Defiant_B, CAMERA_FIELD_TARGET_DISTANCE, 699.8, 0.0)
    call CameraSetupSetField(gg_cam_Arthas_Defiant_B, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Arthas_Defiant_B, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Arthas_Defiant_B, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Arthas_Defiant_B, 4908.7, - 6277.5, 0.0)

    set gg_cam_Caravan=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Caravan, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Caravan, CAMERA_FIELD_ROTATION, 90.0, 0.0)
    call CameraSetupSetField(gg_cam_Caravan, CAMERA_FIELD_ANGLE_OF_ATTACK, 304.0, 0.0)
    call CameraSetupSetField(gg_cam_Caravan, CAMERA_FIELD_TARGET_DISTANCE, 1650.0, 0.0)
    call CameraSetupSetField(gg_cam_Caravan, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Caravan, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Caravan, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Caravan, - 7082.7, - 2576.5, 0.0)

    set gg_cam_Dont_Celebrate_Yet=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Dont_Celebrate_Yet, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Dont_Celebrate_Yet, CAMERA_FIELD_ROTATION, 291.4, 0.0)
    call CameraSetupSetField(gg_cam_Dont_Celebrate_Yet, CAMERA_FIELD_ANGLE_OF_ATTACK, 338.9, 0.0)
    call CameraSetupSetField(gg_cam_Dont_Celebrate_Yet, CAMERA_FIELD_TARGET_DISTANCE, 1930.5, 0.0)
    call CameraSetupSetField(gg_cam_Dont_Celebrate_Yet, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Dont_Celebrate_Yet, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Dont_Celebrate_Yet, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Dont_Celebrate_Yet, 5299.1, - 7554.6, 0.0)

    set gg_cam_Dont_Celebrate_Yet_B=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Dont_Celebrate_Yet_B, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Dont_Celebrate_Yet_B, CAMERA_FIELD_ROTATION, 291.6, 0.0)
    call CameraSetupSetField(gg_cam_Dont_Celebrate_Yet_B, CAMERA_FIELD_ANGLE_OF_ATTACK, 326.0, 0.0)
    call CameraSetupSetField(gg_cam_Dont_Celebrate_Yet_B, CAMERA_FIELD_TARGET_DISTANCE, 1755.0, 0.0)
    call CameraSetupSetField(gg_cam_Dont_Celebrate_Yet_B, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Dont_Celebrate_Yet_B, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Dont_Celebrate_Yet_B, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Dont_Celebrate_Yet_B, 4954.7, - 6703.2, 0.0)

    set gg_cam_Easy_Lad=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Easy_Lad, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Easy_Lad, CAMERA_FIELD_ROTATION, 204.6, 0.0)
    call CameraSetupSetField(gg_cam_Easy_Lad, CAMERA_FIELD_ANGLE_OF_ATTACK, 348.8, 0.0)
    call CameraSetupSetField(gg_cam_Easy_Lad, CAMERA_FIELD_TARGET_DISTANCE, 943.4, 0.0)
    call CameraSetupSetField(gg_cam_Easy_Lad, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Easy_Lad, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Easy_Lad, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Easy_Lad, 4643.5, - 6103.5, 0.0)

    set gg_cam_EndCinematic01=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_EndCinematic01, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic01, CAMERA_FIELD_ROTATION, 139.5, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic01, CAMERA_FIELD_ANGLE_OF_ATTACK, 319.3, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic01, CAMERA_FIELD_TARGET_DISTANCE, 1198.7, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic01, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic01, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic01, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_EndCinematic01, 6274.5, - 7560.2, 0.0)

    set gg_cam_EndCinematic02=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_EndCinematic02, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic02, CAMERA_FIELD_ROTATION, 83.4, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic02, CAMERA_FIELD_ANGLE_OF_ATTACK, 309.8, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic02, CAMERA_FIELD_TARGET_DISTANCE, 1833.8, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic02, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic02, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic02, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_EndCinematic02, 4833.9, - 5917.4, 0.0)

    set gg_cam_EndCinematic03=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_EndCinematic03, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic03, CAMERA_FIELD_ROTATION, 57.2, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic03, CAMERA_FIELD_ANGLE_OF_ATTACK, 323.4, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic03, CAMERA_FIELD_TARGET_DISTANCE, 1833.8, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic03, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic03, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic03, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_EndCinematic03, 4833.9, - 5917.4, 0.0)

    set gg_cam_EndCinematic04=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_EndCinematic04, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic04, CAMERA_FIELD_ROTATION, 39.0, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic04, CAMERA_FIELD_ANGLE_OF_ATTACK, 348.6, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic04, CAMERA_FIELD_TARGET_DISTANCE, 1178.9, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic04, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic04, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic04, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_EndCinematic04, 7208.2, - 5359.5, 0.0)

    set gg_cam_EndCinematic05=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_EndCinematic05, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic05, CAMERA_FIELD_ROTATION, 82.4, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic05, CAMERA_FIELD_ANGLE_OF_ATTACK, 338.1, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic05, CAMERA_FIELD_TARGET_DISTANCE, 644.3, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic05, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic05, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic05, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_EndCinematic05, 6865.7, - 5487.4, 0.0)

    set gg_cam_EndCinematic06=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_EndCinematic06, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic06, CAMERA_FIELD_ROTATION, 297.8, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic06, CAMERA_FIELD_ANGLE_OF_ATTACK, 345.7, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic06, CAMERA_FIELD_TARGET_DISTANCE, 932.7, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic06, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic06, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic06, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_EndCinematic06, 6980.1, - 5920.4, 0.0)

    set gg_cam_EndCinematic07=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_EndCinematic07, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic07, CAMERA_FIELD_ROTATION, 298.2, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic07, CAMERA_FIELD_ANGLE_OF_ATTACK, 342.8, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic07, CAMERA_FIELD_TARGET_DISTANCE, 1173.6, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic07, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic07, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic07, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_EndCinematic07, 6993.1, - 5935.9, 0.0)

    set gg_cam_EndCinematic08=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_EndCinematic08, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic08, CAMERA_FIELD_ROTATION, 217.5, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic08, CAMERA_FIELD_ANGLE_OF_ATTACK, 334.3, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic08, CAMERA_FIELD_TARGET_DISTANCE, 945.6, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic08, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic08, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic08, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_EndCinematic08, 6608.8, - 5725.2, 0.0)

    set gg_cam_EndCinematic09=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_EndCinematic09, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic09, CAMERA_FIELD_ROTATION, 293.1, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic09, CAMERA_FIELD_ANGLE_OF_ATTACK, 346.0, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic09, CAMERA_FIELD_TARGET_DISTANCE, 1040.2, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic09, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic09, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic09, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_EndCinematic09, 6880.5, - 5962.1, 0.0)

    set gg_cam_EndCinematic10=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_EndCinematic10, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic10, CAMERA_FIELD_ROTATION, 192.7, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic10, CAMERA_FIELD_ANGLE_OF_ATTACK, 333.7, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic10, CAMERA_FIELD_TARGET_DISTANCE, 945.6, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic10, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic10, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_EndCinematic10, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_EndCinematic10, 6572.4, - 5697.1, 0.0)

    set gg_cam_Ending_Cinematic_Cancel=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Ending_Cinematic_Cancel, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Ending_Cinematic_Cancel, CAMERA_FIELD_ROTATION, 90.0, 0.0)
    call CameraSetupSetField(gg_cam_Ending_Cinematic_Cancel, CAMERA_FIELD_ANGLE_OF_ATTACK, 304.0, 0.0)
    call CameraSetupSetField(gg_cam_Ending_Cinematic_Cancel, CAMERA_FIELD_TARGET_DISTANCE, 1650.0, 0.0)
    call CameraSetupSetField(gg_cam_Ending_Cinematic_Cancel, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Ending_Cinematic_Cancel, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Ending_Cinematic_Cancel, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Ending_Cinematic_Cancel, 6903.9, - 5466.3, 0.0)

    set gg_cam_Mob_Attack_A_Alternate=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Mob_Attack_A_Alternate, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Mob_Attack_A_Alternate, CAMERA_FIELD_ROTATION, 175.9, 0.0)
    call CameraSetupSetField(gg_cam_Mob_Attack_A_Alternate, CAMERA_FIELD_ANGLE_OF_ATTACK, 330.2, 0.0)
    call CameraSetupSetField(gg_cam_Mob_Attack_A_Alternate, CAMERA_FIELD_TARGET_DISTANCE, 1318.6, 0.0)
    call CameraSetupSetField(gg_cam_Mob_Attack_A_Alternate, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Mob_Attack_A_Alternate, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Mob_Attack_A_Alternate, CAMERA_FIELD_FARZ, 4545.5, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Mob_Attack_A_Alternate, 5940.3, - 7308.3, 0.0)

    set gg_cam_Nows_Not_The_Time=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Nows_Not_The_Time, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Nows_Not_The_Time, CAMERA_FIELD_ROTATION, 194.4, 0.0)
    call CameraSetupSetField(gg_cam_Nows_Not_The_Time, CAMERA_FIELD_ANGLE_OF_ATTACK, 333.6, 0.0)
    call CameraSetupSetField(gg_cam_Nows_Not_The_Time, CAMERA_FIELD_TARGET_DISTANCE, 943.4, 0.0)
    call CameraSetupSetField(gg_cam_Nows_Not_The_Time, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Nows_Not_The_Time, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Nows_Not_The_Time, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Nows_Not_The_Time, 4643.5, - 6103.5, 0.0)

    set gg_cam_Oh_Crap=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Oh_Crap, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Oh_Crap, CAMERA_FIELD_ROTATION, 122.4, 0.0)
    call CameraSetupSetField(gg_cam_Oh_Crap, CAMERA_FIELD_ANGLE_OF_ATTACK, 328.4, 0.0)
    call CameraSetupSetField(gg_cam_Oh_Crap, CAMERA_FIELD_TARGET_DISTANCE, 1363.6, 0.0)
    call CameraSetupSetField(gg_cam_Oh_Crap, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Oh_Crap, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Oh_Crap, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Oh_Crap, 3887.6, - 5817.0, 0.0)

    set gg_cam_Starting_Cienmatic_14=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Starting_Cienmatic_14, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cienmatic_14, CAMERA_FIELD_ROTATION, 117.5, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cienmatic_14, CAMERA_FIELD_ANGLE_OF_ATTACK, 331.6, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cienmatic_14, CAMERA_FIELD_TARGET_DISTANCE, 903.8, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cienmatic_14, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cienmatic_14, CAMERA_FIELD_FIELD_OF_VIEW, 50.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cienmatic_14, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Starting_Cienmatic_14, 4600.3, - 5092.0, 0.0)

    set gg_cam_Starting_Cienmatic_Cancel=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Starting_Cienmatic_Cancel, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cienmatic_Cancel, CAMERA_FIELD_ROTATION, 90.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cienmatic_Cancel, CAMERA_FIELD_ANGLE_OF_ATTACK, 304.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cienmatic_Cancel, CAMERA_FIELD_TARGET_DISTANCE, 1650.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cienmatic_Cancel, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cienmatic_Cancel, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cienmatic_Cancel, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Starting_Cienmatic_Cancel, 5199.9, - 5538.5, 0.0)

    set gg_cam_Starting_Cinematic_01=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Starting_Cinematic_01, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_01, CAMERA_FIELD_ROTATION, 101.7, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_01, CAMERA_FIELD_ANGLE_OF_ATTACK, 310.1, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_01, CAMERA_FIELD_TARGET_DISTANCE, 733.9, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_01, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_01, CAMERA_FIELD_FIELD_OF_VIEW, 100.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_01, CAMERA_FIELD_FARZ, 5721.3, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Starting_Cinematic_01, 5940.2, - 7520.7, 0.0)

    set gg_cam_Starting_Cinematic_02=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Starting_Cinematic_02, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_02, CAMERA_FIELD_ROTATION, 132.5, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_02, CAMERA_FIELD_ANGLE_OF_ATTACK, 312.1, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_02, CAMERA_FIELD_TARGET_DISTANCE, 966.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_02, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_02, CAMERA_FIELD_FIELD_OF_VIEW, 100.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_02, CAMERA_FIELD_FARZ, 5721.3, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Starting_Cinematic_02, 5033.5, - 6525.0, 0.0)

    set gg_cam_Starting_Cinematic_03=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Starting_Cinematic_03, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_03, CAMERA_FIELD_ROTATION, 148.6, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_03, CAMERA_FIELD_ANGLE_OF_ATTACK, 331.7, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_03, CAMERA_FIELD_TARGET_DISTANCE, 845.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_03, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_03, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_03, CAMERA_FIELD_FARZ, 5355.9, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Starting_Cinematic_03, 4923.2, - 6337.0, 0.0)

    set gg_cam_Starting_Cinematic_04=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Starting_Cinematic_04, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_04, CAMERA_FIELD_ROTATION, 102.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_04, CAMERA_FIELD_ANGLE_OF_ATTACK, 329.2, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_04, CAMERA_FIELD_TARGET_DISTANCE, 1069.9, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_04, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_04, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_04, CAMERA_FIELD_FARZ, 6050.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Starting_Cinematic_04, 4946.7, - 6170.7, 0.0)

    set gg_cam_Starting_Cinematic_05=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Starting_Cinematic_05, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_05, CAMERA_FIELD_ROTATION, 333.1, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_05, CAMERA_FIELD_ANGLE_OF_ATTACK, 325.9, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_05, CAMERA_FIELD_TARGET_DISTANCE, 1267.5, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_05, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_05, CAMERA_FIELD_FIELD_OF_VIEW, 75.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_05, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Starting_Cinematic_05, 5084.4, - 5854.4, 0.0)

    set gg_cam_Starting_Cinematic_06=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Starting_Cinematic_06, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_06, CAMERA_FIELD_ROTATION, 346.3, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_06, CAMERA_FIELD_ANGLE_OF_ATTACK, 328.8, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_06, CAMERA_FIELD_TARGET_DISTANCE, 994.3, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_06, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_06, CAMERA_FIELD_FIELD_OF_VIEW, 75.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_06, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Starting_Cinematic_06, 5639.4, - 5740.1, 0.0)

    set gg_cam_Starting_Cinematic_07=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Starting_Cinematic_07, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_07, CAMERA_FIELD_ROTATION, 304.9, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_07, CAMERA_FIELD_ANGLE_OF_ATTACK, 330.2, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_07, CAMERA_FIELD_TARGET_DISTANCE, 1252.8, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_07, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_07, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_07, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Starting_Cinematic_07, 5382.2, - 5819.3, 0.0)

    set gg_cam_Starting_Cinematic_08=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Starting_Cinematic_08, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_08, CAMERA_FIELD_ROTATION, 305.3, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_08, CAMERA_FIELD_ANGLE_OF_ATTACK, 332.9, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_08, CAMERA_FIELD_TARGET_DISTANCE, 777.9, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_08, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_08, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_08, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Starting_Cinematic_08, 5382.2, - 5819.3, 0.0)

    set gg_cam_Starting_Cinematic_09=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Starting_Cinematic_09, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_09, CAMERA_FIELD_ROTATION, 41.8, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_09, CAMERA_FIELD_ANGLE_OF_ATTACK, 327.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_09, CAMERA_FIELD_TARGET_DISTANCE, 1057.2, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_09, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_09, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_09, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Starting_Cinematic_09, 4761.0, - 6000.3, 0.0)

    set gg_cam_Starting_Cinematic_10=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Starting_Cinematic_10, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_10, CAMERA_FIELD_ROTATION, 48.2, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_10, CAMERA_FIELD_ANGLE_OF_ATTACK, 327.8, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_10, CAMERA_FIELD_TARGET_DISTANCE, 1140.9, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_10, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_10, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_10, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Starting_Cinematic_10, 4553.7, - 6044.5, 0.0)

    set gg_cam_Starting_Cinematic_11=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Starting_Cinematic_11, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_11, CAMERA_FIELD_ROTATION, 147.8, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_11, CAMERA_FIELD_ANGLE_OF_ATTACK, 328.7, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_11, CAMERA_FIELD_TARGET_DISTANCE, 838.9, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_11, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_11, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_11, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Starting_Cinematic_11, 5325.0, - 5817.6, 0.0)

    set gg_cam_Starting_Cinematic_12=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Starting_Cinematic_12, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_12, CAMERA_FIELD_ROTATION, 242.6, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_12, CAMERA_FIELD_ANGLE_OF_ATTACK, 333.6, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_12, CAMERA_FIELD_TARGET_DISTANCE, 790.2, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_12, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_12, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_12, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Starting_Cinematic_12, 5292.7, - 6124.9, 0.0)

    set gg_cam_Starting_Cinematic_13=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Starting_Cinematic_13, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_13, CAMERA_FIELD_ROTATION, 125.2, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_13, CAMERA_FIELD_ANGLE_OF_ATTACK, 329.8, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_13, CAMERA_FIELD_TARGET_DISTANCE, 806.7, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_13, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_13, CAMERA_FIELD_FIELD_OF_VIEW, 90.0, 0.0)
    call CameraSetupSetField(gg_cam_Starting_Cinematic_13, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Starting_Cinematic_13, 4578.9, - 5260.8, 0.0)

    set gg_cam_Surprised_A=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Surprised_A, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Surprised_A, CAMERA_FIELD_ROTATION, 93.3, 0.0)
    call CameraSetupSetField(gg_cam_Surprised_A, CAMERA_FIELD_ANGLE_OF_ATTACK, 322.6, 0.0)
    call CameraSetupSetField(gg_cam_Surprised_A, CAMERA_FIELD_TARGET_DISTANCE, 1519.3, 0.0)
    call CameraSetupSetField(gg_cam_Surprised_A, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Surprised_A, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Surprised_A, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Surprised_A, 4663.0, - 6324.4, 0.0)

    set gg_cam_Surprised_B=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Surprised_B, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Surprised_B, CAMERA_FIELD_ROTATION, 93.3, 0.0)
    call CameraSetupSetField(gg_cam_Surprised_B, CAMERA_FIELD_ANGLE_OF_ATTACK, 322.6, 0.0)
    call CameraSetupSetField(gg_cam_Surprised_B, CAMERA_FIELD_TARGET_DISTANCE, 943.4, 0.0)
    call CameraSetupSetField(gg_cam_Surprised_B, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Surprised_B, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Surprised_B, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Surprised_B, 4643.5, - 6103.5, 0.0)

    set gg_cam_Test=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Test, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Test, CAMERA_FIELD_ROTATION, 228.9, 0.0)
    call CameraSetupSetField(gg_cam_Test, CAMERA_FIELD_ANGLE_OF_ATTACK, 303.3, 0.0)
    call CameraSetupSetField(gg_cam_Test, CAMERA_FIELD_TARGET_DISTANCE, 2569.5, 0.0)
    call CameraSetupSetField(gg_cam_Test, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Test, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Test, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Test, 6703.8, - 7779.1, 0.0)

    set gg_cam_Undead_Mob_Attack_A=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Undead_Mob_Attack_A, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Undead_Mob_Attack_A, CAMERA_FIELD_ROTATION, 177.5, 0.0)
    call CameraSetupSetField(gg_cam_Undead_Mob_Attack_A, CAMERA_FIELD_ANGLE_OF_ATTACK, 353.8, 0.0)
    call CameraSetupSetField(gg_cam_Undead_Mob_Attack_A, CAMERA_FIELD_TARGET_DISTANCE, 1755.0, 0.0)
    call CameraSetupSetField(gg_cam_Undead_Mob_Attack_A, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Undead_Mob_Attack_A, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Undead_Mob_Attack_A, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Undead_Mob_Attack_A, 5203.4, - 7268.3, 0.0)

    set gg_cam_Undead_Mob_Attack_B=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Undead_Mob_Attack_B, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Undead_Mob_Attack_B, CAMERA_FIELD_ROTATION, 107.3, 0.0)
    call CameraSetupSetField(gg_cam_Undead_Mob_Attack_B, CAMERA_FIELD_ANGLE_OF_ATTACK, 327.5, 0.0)
    call CameraSetupSetField(gg_cam_Undead_Mob_Attack_B, CAMERA_FIELD_TARGET_DISTANCE, 1450.4, 0.0)
    call CameraSetupSetField(gg_cam_Undead_Mob_Attack_B, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Undead_Mob_Attack_B, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Undead_Mob_Attack_B, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Undead_Mob_Attack_B, 4925.7, - 6842.3, 0.0)

    set gg_cam_Undead_Mob_Attack_C=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Undead_Mob_Attack_C, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Undead_Mob_Attack_C, CAMERA_FIELD_ROTATION, 112.6, 0.0)
    call CameraSetupSetField(gg_cam_Undead_Mob_Attack_C, CAMERA_FIELD_ANGLE_OF_ATTACK, 328.7, 0.0)
    call CameraSetupSetField(gg_cam_Undead_Mob_Attack_C, CAMERA_FIELD_TARGET_DISTANCE, 1930.5, 0.0)
    call CameraSetupSetField(gg_cam_Undead_Mob_Attack_C, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Undead_Mob_Attack_C, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Undead_Mob_Attack_C, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Undead_Mob_Attack_C, 4761.1, - 5405.4, 0.0)

    set gg_cam_Uther_Arrives_A=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Uther_Arrives_A, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Uther_Arrives_A, CAMERA_FIELD_ROTATION, 282.7, 0.0)
    call CameraSetupSetField(gg_cam_Uther_Arrives_A, CAMERA_FIELD_ANGLE_OF_ATTACK, 352.0, 0.0)
    call CameraSetupSetField(gg_cam_Uther_Arrives_A, CAMERA_FIELD_TARGET_DISTANCE, 1318.6, 0.0)
    call CameraSetupSetField(gg_cam_Uther_Arrives_A, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Uther_Arrives_A, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Uther_Arrives_A, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Uther_Arrives_A, 5273.5, - 7544.1, 0.0)

    set gg_cam_Uther_Arrives_B=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Uther_Arrives_B, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Uther_Arrives_B, CAMERA_FIELD_ROTATION, 282.9, 0.0)
    call CameraSetupSetField(gg_cam_Uther_Arrives_B, CAMERA_FIELD_ANGLE_OF_ATTACK, 334.7, 0.0)
    call CameraSetupSetField(gg_cam_Uther_Arrives_B, CAMERA_FIELD_TARGET_DISTANCE, 1318.6, 0.0)
    call CameraSetupSetField(gg_cam_Uther_Arrives_B, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Uther_Arrives_B, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Uther_Arrives_B, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Uther_Arrives_B, 5027.4, - 7350.8, 0.0)

    set gg_cam_Your_Timing=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Your_Timing, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Your_Timing, CAMERA_FIELD_ROTATION, 273.1, 0.0)
    call CameraSetupSetField(gg_cam_Your_Timing, CAMERA_FIELD_ANGLE_OF_ATTACK, 336.9, 0.0)
    call CameraSetupSetField(gg_cam_Your_Timing, CAMERA_FIELD_TARGET_DISTANCE, 1930.5, 0.0)
    call CameraSetupSetField(gg_cam_Your_Timing, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Your_Timing, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Your_Timing, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Your_Timing, 4692.9, - 6663.0, 0.0)

endfunction

//***************************************************************************
//*
//*  Triggers
//*
//***************************************************************************

//===========================================================================
// Trigger: fileio
//===========================================================================
// This file defines file IO functions for the JASS side of things
// Based off the FileIO module created by Nestharus, see:
// https://www.hiveworkshop.com/threads/codeless-save-load-its-now-a-reality-demo-map-included.226082/


function InitTrig_fileio takes nothing returns nothing
    local integer i= 0

    loop
        exitwhen i >= NUM_FILE_LINES
        set p_original_names[i]=GetPlayerName(Player(i))
        set i=i + 1
    endloop
endfunction

function io_read_file_simple takes string file_name returns nothing
    call Preloader(file_name)
endfunction

function io_read_file takes string file_name returns nothing
    local integer i= 0

    call Preloader(file_name)
    loop
        exitwhen i >= NUM_FILE_LINES
        set io_lines[i]=GetPlayerName(Player(i))
        call SetPlayerName(Player(i), p_original_names[i])
        set i=i + 1
    endloop
endfunction

function io_open_write takes string filename returns nothing
    call PreloadGenClear()
    call PreloadGenStart()
    set last_filename=filename
endfunction

function io_write takes string contents returns nothing
    call Preload(contents)
endfunction

function io_close_write takes nothing returns nothing
    call PreloadGenEnd(last_filename)
    set last_filename=""
endfunction
//===========================================================================
// Trigger: map_config
//===========================================================================
// Map-specific setup used by other scripts

function hero_get_unit_from_index takes integer slot returns unit
    if slot == 0 then
        return udg_Arthas
    elseif slot == 1 then
        return udg_Arthas
    elseif slot == 2 then
        return udg_Arthas
    elseif slot == 3 then
        return udg_Arthas
    endif
    return null
endfunction

function hero_get_index_from_unit takes unit hero returns integer
    local integer i= 0
    loop
        exitwhen hero_get_unit_from_index(i) == hero
        set i=i + 1
        exitwhen i >= NUM_HEROES
    endloop
    return i
endfunction

function hero_update_variable takes integer slot,unit hero returns nothing
    if slot == 0 then
        set udg_Arthas=hero
    elseif slot == 1 then
        set udg_Arthas=hero
    elseif slot == 2 then
        set udg_Arthas=hero
    else
        set udg_Arthas=hero
    endif
endfunction

function InitTrig_map_config takes nothing returns nothing
    set hero_global_slots[0]=HERO_ID_PALADIN_ARTHAS
    set hero_global_slots[1]=HERO_ID_NONE
    set hero_global_slots[2]=HERO_ID_NONE
    set hero_global_slots[3]=HERO_ID_NONE
endfunction
//===========================================================================
// Trigger: status
//===========================================================================
// defines the packets that communicate with the client
// depends: map_config, fileio

function status_send takes nothing returns nothing
    local integer i= 0
    call io_open_write("status.txt")
    call io_write(I2S(update_index))
    call io_write(COMM_VERSION)
    call io_write(I2S(world_id))
    call io_write(I2S(MISSION_ID))
    call io_write(I2S(last_unlock_packet) + "," + I2S(last_location_packet) + "," + I2S(last_message_packet) + "," + I2S(last_hero_packet) + "," + I2S(last_item_packet) + "," + I2S(last_item_channel_packet) + ",-1," + I2S(last_mercenaries_packet) + "," + I2S(last_settings_packet))
    call io_write(I2S(hero_status_index))
    call io_write(I2S(num_channel_1_items_received) + "," + I2S(num_channel_2_items_received))
    call io_write("_")
    call io_write("_")
    set update_index=update_index + 1
    if update_index >= MAX_UPDATE_ID then
        set update_index=0
    endif
    loop
        exitwhen i >= MAX_LOCATIONS
        if locations_checked[i] then
            call io_write(I2S(i))
        endif
        set i=i + 1
    endloop
    call io_close_write()
endfunction

function B2I takes boolean b returns integer
    if b then
        return 1
    endif
    return 0
endfunction

function captains_set_ability_usable takes player p returns nothing
    local integer available= GetPlayerTechMaxAllowed(p, 'hcth') - GetPlayerTechCount(p, 'AP00', true)
    if available < 0 then
        set available=0
    endif
    call SetPlayerTechResearched(p, 'RP00', available)
    // General irregular unlocks
    call SetPlayerTechResearched(p, 'RP01', B2I(GetPlayerTechMaxAllowed(p, 'hfoo') != 0))
    call SetPlayerTechResearched(p, 'RP02', B2I(GetPlayerTechMaxAllowed(p, 'hrif') != 0))
    call SetPlayerTechResearched(p, 'RP03', B2I(GetPlayerTechMaxAllowed(p, 'nhea') != 0))
    call SetPlayerTechResearched(p, 'RP04', B2I(GetPlayerTechMaxAllowed(p, 'hkni') != 0))
    call SetPlayerTechResearched(p, 'RP05', B2I(GetPlayerTechMaxAllowed(p, 'hmpr') != 0))
    call SetPlayerTechResearched(p, 'RP06', B2I(GetPlayerTechMaxAllowed(p, 'hsor') != 0))
    call SetPlayerTechResearched(p, 'RP07', B2I(GetPlayerTechMaxAllowed(p, 'hspt') != 0))
    call SetPlayerTechResearched(p, 'RP08', B2I(GetPlayerTechMaxAllowed(p, 'hmtm') != 0))
endfunction

function status_load_unlocks_for_player takes integer target_player returns nothing
    local player p= Player(0)
    call SetPlayerTechMaxAllowed(p, 'nech', - 1)
    call SetPlayerTechMaxAllowed(p, 'nvil', target_player)
    call io_read_file_simple("unlocks.txt")
    set last_unlock_packet=GetPlayerTechMaxAllowed(p, 'nech')
    // captains
    call captains_set_ability_usable(Player(target_player))
    // resources
    call AdjustPlayerStateBJ(GetPlayerTechMaxAllowed(Player(target_player), 'gold') - gold_granted[target_player], Player(target_player), PLAYER_STATE_RESOURCE_GOLD)
    set gold_granted[target_player]=GetPlayerTechMaxAllowed(Player(target_player), 'gold')
endfunction

function status_captain_promoted_actions takes nothing returns nothing
    local player p= GetOwningPlayer(GetTriggerUnit())
    local effect special_effect
    if GetSpellAbilityId() != 'AP00' then
        return
    endif
    call AddPlayerTechResearched(p, 'AP00', 1)
    call captains_set_ability_usable(p)
endfunction

function captains_init takes nothing returns nothing
    call SetPlayerTechMaxAllowed(USER_PLAYER, 'hcth', 0)
    set t_captain_promoted=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t_captain_promoted, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddAction(t_captain_promoted, function status_captain_promoted_actions)
endfunction

function status_load_unlocks takes nothing returns nothing
    call status_load_unlocks_for_player(GetPlayerId(USER_PLAYER))
endfunction

function status_load_locations takes nothing returns nothing
    local player p= Player(0)
    local integer i= 0
    local integer loc_id= 0
    call SetPlayerTechMaxAllowed(p, 'nech', - 1)
    call io_read_file("locations.txt")
    loop
        exitwhen i + 2 > StringLength(io_lines[0])
        set loc_id=S2I(SubString(io_lines[0], i, i + 2))
        if loc_id < MAX_LOCATIONS then
            set locations_checked[loc_id]=true
        endif
        set i=i + 2
    endloop
    set i=0
    loop
        exitwhen i + 2 > StringLength(io_lines[1])
        set loc_id=S2I(SubString(io_lines[1], i, i + 2))
        if loc_id < MAX_LOCATIONS then
            set locations_checked[loc_id]=false
        endif
        set i=i + 2
    endloop
    set last_location_packet=GetPlayerTechMaxAllowed(p, 'nech')
endfunction

function status_check_location takes integer location_id returns nothing
    if location_id >= MAX_LOCATIONS then
        call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffff2222Error: Attempted to check invalid location ID: " + I2S(location_id) + "|r")
        return
    endif
    set locations_checked[location_id]=true
    call status_send()
endfunction

function status_load_messages takes nothing returns nothing
    local integer i= 0
    local player p= Player(0)
    local integer num_messages
    call SetPlayerTechMaxAllowed(p, 'nech', - 1)
    call SetPlayerTechMaxAllowed(p, 'nalb', 0)
    call io_read_file("messages.txt")
    set num_messages=GetPlayerTechMaxAllowed(p, 'nalb')
    if num_messages > NUM_FILE_LINES then
        set num_messages=NUM_FILE_LINES
    endif
    loop
        exitwhen i >= num_messages
        call DisplayTextToForce(GetPlayersAll(), io_lines[i])
        set i=i + 1
    endloop
    set last_message_packet=GetPlayerTechMaxAllowed(p, 'nech')
endfunction

function status_load_items takes nothing returns nothing
    local integer num_items= - 1
    local integer i= 0
    local integer item_id= 0
    local player p= Player(0)
    local unit target_unit= null
    call SetPlayerTechMaxAllowed(p, 'nech', - 1)
    call SetPlayerTechMaxAllowed(p, 'nalb', 0)
    call SetPlayerTechMaxAllowed(p, 'ndog', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'ncrb', 0)
    call SetPlayerTechMaxAllowed(Player(1), 'ncrb', 0)
    call SetPlayerTechMaxAllowed(Player(2), 'ncrb', 0)
    call SetPlayerTechMaxAllowed(Player(3), 'ncrb', 0)
    call SetPlayerTechMaxAllowed(Player(4), 'ncrb', 0)
    call SetPlayerTechMaxAllowed(Player(5), 'ncrb', 0)
    call SetPlayerTechMaxAllowed(Player(6), 'ncrb', 0)
    call SetPlayerTechMaxAllowed(Player(7), 'ncrb', 0)
    call SetPlayerTechMaxAllowed(Player(8), 'ncrb', 0)
    call SetPlayerTechMaxAllowed(Player(9), 'ncrb', 0)
    call SetPlayerTechMaxAllowed(Player(10), 'ncrb', 0)
    call SetPlayerTechMaxAllowed(Player(11), 'ncrb', 0)

    call io_read_file_simple("items.txt")
    set last_item_packet=GetPlayerTechMaxAllowed(p, 'nech')
    set num_items=GetPlayerTechMaxAllowed(p, 'nalb')
    if num_items < 0 then
        set num_items=0
    elseif num_items > MAX_ITEMS_PER_PACKET then
        set num_items=MAX_ITEMS_PER_PACKET
    endif

    if GetPlayerTechMaxAllowed(p, 'ndog') == 0 then
        set target_unit=item_channel_1_target
        set num_channel_1_items_received=num_channel_1_items_received + num_items
    else
        set target_unit=item_channel_2_target
        set num_channel_2_items_received=num_channel_2_items_received + num_items
    endif

    loop
        exitwhen i >= num_items
        set item_id=GetPlayerTechMaxAllowed(Player(i), 'ncrb')
        if item_id != 0 then
            call UnitAddItemById(target_unit, item_id)
        endif
        set i=i + 1
    endloop
endfunction

function status_init_item_channels takes integer local_channel_id returns nothing
    if local_channel_id == 1 then
        call SetPlayerTechMaxAllowed(Player(0), 'nalb', item_channel_1)
    else
        call SetPlayerTechMaxAllowed(Player(0), 'nalb', item_channel_2)
    endif
    call SetPlayerTechMaxAllowed(Player(0), 'nech', - 1)
    call SetPlayerTechMaxAllowed(Player(0), 'nske', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'npng', - 1)
    call io_read_file_simple("item_channels.txt")
    set last_item_channel_packet=GetPlayerTechMaxAllowed(Player(0), 'nech')
    if GetPlayerTechMaxAllowed(Player(0), 'nech') == 0 then
        return
    endif
    if local_channel_id == 1 then
        set num_channel_1_items_received=GetPlayerTechMaxAllowed(Player(0), 'npng')
    else
        set num_channel_2_items_received=GetPlayerTechMaxAllowed(Player(0), 'npng')
    endif
endfunction

function status_load_mercenaries takes nothing returns nothing
    local integer i= 0
    call SetPlayerTechMaxAllowed(Player(0), 'nech', - 1)
    call SetPlayerTechMaxAllowed(Player(0), 'nalb', 0)
    loop
        exitwhen i >= 10
        call SetPlayerTechMaxAllowed(Player(i), 'ncrb', 0)
        call SetPlayerTechMaxAllowed(Player(i), 'ndog', 0)
        call SetPlayerTechMaxAllowed(Player(i), 'ndwm', 0)
        set i=i + 1
    endloop
    call io_read_file_simple("mercenaries.txt")
    set last_mercenaries_packet=GetPlayerTechMaxAllowed(Player(0), 'nech')
    call TriggerExecute(t_apply_mercenaries)
endfunction

function status_load_settings takes nothing returns nothing
    call SetPlayerTechMaxAllowed(Player(0), 'nech', - 1)
    call SetPlayerTechMaxAllowed(Player(0), 'nmer', 0)
    call io_read_file_simple("settings.txt")
    set last_settings_packet=GetPlayerTechMaxAllowed(Player(0), 'nech')
    if GetPlayerTechMaxAllowed(Player(0), 'nmer') > 0 then
        call TriggerExecute(t_create_mercenary_camps)
    endif
endfunction

function status_check_ping takes nothing returns nothing
    local integer bitmask= 0
    local boolean should_send= false
    local player p= Player(0)
    call SetPlayerTechMaxAllowed(p, 'nske', - 1)
    call SetPlayerTechMaxAllowed(p, 'nwgt', - 1)
    call SetPlayerTechMaxAllowed(p, 'nvlk', - 1)
    call SetPlayerTechMaxAllowed(p, 'nvk2', - 1)
    call io_read_file_simple("ping.txt")
    if GetPlayerTechMaxAllowed(p, 'nske') != update_index or GetPlayerTechMaxAllowed(p, 'nvlk') != MISSION_ID then
        if checks_before_timeout > 0 then
            set checks_before_timeout=checks_before_timeout - 1
        elseif checks_before_timeout == 0 then
            set checks_before_timeout=- 1
            set error_state=1
            call DisplayTextToForce(GetPlayersAll(), "|cffff2222Error: Client communication timeout|r")
            call DisplayTextToForce(GetPlayersAll(), "|cffff2222Check the client is started correctly. Locations will not send until communication is established|r")
        endif
        return
    elseif world_id >= 0 and GetPlayerTechMaxAllowed(p, 'nwgt') != world_id then
        if error_state != 2 then
            set error_state=2
            call DisplayTextToForce(GetPlayersAll(), "|cffff2222Error: Client is connected to a different world seed|r")
            call DisplayTextToForce(GetPlayersAll(), "|cffff2222Restart the level or connect the client to a different room|r")
        endif
        return
    elseif error_state > 0 and world_id >= 0 then
        set error_state=0
        call DisplayTextToForce(GetPlayersAll(), "|cff2266ffClient communications re-established.|r")
    endif
    set world_id=GetPlayerTechMaxAllowed(p, 'nwgt')
    set checks_before_timeout=2
    set bitmask=GetPlayerTechMaxAllowed(p, 'nvk2')
    if bitmask > 0 then
        set should_send=true
    endif
    if bitmask >= 512 then
        // bitmask & 511
        set bitmask=bitmask - ( ( bitmask / 512 ) * 512 )
    endif
    if bitmask >= 256 then
        set bitmask=bitmask - 256
        // settings
        call status_load_settings()
    endif
    if bitmask >= 128 then
        set bitmask=bitmask - 128
        // mercenaries
        call status_load_mercenaries()
    endif
    if bitmask >= 64 then
        set bitmask=bitmask - 64
        // hero levels
        call TriggerExecute(t_hero_set_all_max_level)
    endif
    if bitmask >= 32 then
        set bitmask=bitmask - 32
        call status_init_item_channels(0)
        if item_channel_2 > 0 then
            call status_init_item_channels(1)
        endif
    endif
    if bitmask >= 16 then
        set bitmask=bitmask - 16
        call status_load_items()
    endif
    if bitmask >= 8 then
        set bitmask=bitmask - 8
        call TriggerExecute(t_hero_configure_all)
    endif
    if bitmask >= 4 then
        set bitmask=bitmask - 4
        call status_load_messages()
    endif
    if bitmask >= 2 then
        set bitmask=bitmask - 2
        call status_load_locations()
    endif
    if bitmask >= 1 then
        set bitmask=bitmask - 1
        call status_load_unlocks()
    endif
    if should_send then
        call status_send()
    endif
endfunction

function InitTrig_status takes nothing returns nothing
    local integer i= 0
    loop
        exitwhen i >= MAX_LOCATIONS
        set locations_checked[i]=false
        set i=i + 1
    endloop
    set i=0
    loop
        exitwhen i > 12
        set i=i + 1
        set gold_granted[i]=0
    endloop
    set status_ack_ping_timer=CreateTimer()
    call status_send()
    call TimerStart(status_ack_ping_timer, 1, true, function status_check_ping)
    // Captains
    call captains_init()
    // Disable marketplace behaviour
    call PauseTimer(bj_stockUpdateTimer)
    call DestroyTimer(bj_stockUpdateTimer)
    set bj_stockUpdateTimer=null
    call DisableTrigger(bj_stockItemPurchased)
endfunction
//===========================================================================
// Trigger: heroes
//===========================================================================
// Functions to control and configure heroes
// depends: fileio, map_config, status

function hero_apply_max_level takes unit hero,integer level returns nothing
    if GetHeroLevel(hero) >= level then
        call SetHeroLevelBJ(hero, level, false)
        call SuspendHeroXP(hero, true)
    else
        call SuspendHeroXP(hero, false)
    endif
endfunction

function hero_set_max_level takes integer slot,integer level returns nothing
    local unit hero= hero_get_unit_from_index(slot)
    set HERO_MAX_LEVEL[slot]=level
    call hero_apply_max_level(hero , level)
endfunction

function hero_load_global takes integer global_slot returns boolean
    local player p= Player(0)
    call SetPlayerTechMaxAllowed(p, 'nech', - 1)
    call SetPlayerTechMaxAllowed(p, 'nske', - 1)
    call SetPlayerTechMaxAllowed(p, 'npng', - 1)
    call SetPlayerTechMaxAllowed(p, 'ndog', 0)
    call SetPlayerTechMaxAllowed(p, 'nskk', 0)
    call SetPlayerTechMaxAllowed(p, 'npig', 0)
    call SetPlayerTechMaxAllowed(p, 'nsea', 0)
    call SetPlayerTechMaxAllowed(p, 'ncrb', 0)
    call SetPlayerTechMaxAllowed(p, 'nder', 0)
    // nfro = abil IDs
    call SetPlayerTechMaxAllowed(Player(0), 'nfro', 0)
    call SetPlayerTechMaxAllowed(Player(1), 'nfro', 0)
    call SetPlayerTechMaxAllowed(Player(2), 'nfro', 0)
    call SetPlayerTechMaxAllowed(Player(3), 'nfro', 0)
    // nrac = abil skillpoints
    call SetPlayerTechMaxAllowed(Player(0), 'nrac', 0)
    call SetPlayerTechMaxAllowed(Player(1), 'nrac', 0)
    call SetPlayerTechMaxAllowed(Player(2), 'nrac', 0)
    call SetPlayerTechMaxAllowed(Player(3), 'nrac', 0)
    // nvul = items
    call SetPlayerTechMaxAllowed(Player(0), 'nvul', 0)
    call SetPlayerTechMaxAllowed(Player(1), 'nvul', 0)
    call SetPlayerTechMaxAllowed(Player(2), 'nvul', 0)
    call SetPlayerTechMaxAllowed(Player(3), 'nvul', 0)
    call SetPlayerTechMaxAllowed(Player(4), 'nvul', 0)
    call SetPlayerTechMaxAllowed(Player(5), 'nvul', 0)

    call SetPlayerTechMaxAllowed(p, 'nalb', global_slot)
    call io_read_file("heroes.txt")

    return GetPlayerTechMaxAllowed(p, 'nske') == 1
endfunction

function hero_load takes integer hero_slot returns boolean
    local boolean success= hero_load_global(hero_global_slots[hero_slot])
    if success then
        set HERO_MAX_LEVEL[hero_slot]=GetPlayerTechMaxAllowed(Player(0), 'nder')
        set hero_abil_1[hero_slot]=GetPlayerTechMaxAllowed(Player(0), 'nfro')
        set hero_abil_2[hero_slot]=GetPlayerTechMaxAllowed(Player(1), 'nfro')
        set hero_abil_3[hero_slot]=GetPlayerTechMaxAllowed(Player(2), 'nfro')
        set hero_abil_4[hero_slot]=GetPlayerTechMaxAllowed(Player(3), 'nfro')
        set last_hero_packet=GetPlayerTechMaxAllowed(Player(0), 'nech')
    endif
    return success
endfunction

// should be called after hero_load()
function hero_configure takes unit hero,integer slot returns nothing
    local player p= Player(0)
    local integer val
    local integer i= 0
    local item i_item
    call SetHeroXP(hero, GetPlayerTechMaxAllowed(p, 'ncrb'), false)
    set val=GetPlayerTechMaxAllowed(p, 'ndog')
    if val > 0 then
        call SetHeroAgi(hero, val, true)
    endif
    set val=GetPlayerTechMaxAllowed(p, 'nskk')
    if val > 0 then
        call SetHeroStr(hero, val, true)
    endif
    set val=GetPlayerTechMaxAllowed(p, 'npig')
    if val > 0 then
        call SetHeroInt(hero, val, true)
    endif
    set val=GetPlayerTechMaxAllowed(p, 'nsea')
    if val > 0 then
        call SetUnitState(hero, UNIT_STATE_MAX_LIFE, I2R(val))
        call SetUnitState(hero, UNIT_STATE_LIFE, I2R(val))
    endif
    call BlzSetHeroProperName(hero, io_lines[0])
    // abilities
    loop
        exitwhen i > 3
        set val=GetPlayerTechMaxAllowed(Player(i), 'nrac')
        loop
            exitwhen val <= 0
            set val=val - 1
            call SelectHeroSkill(hero, GetPlayerTechMaxAllowed(Player(i), 'nfro'))
        endloop
        set i=i + 1
    endloop
    // items
    set i=0
    loop
        exitwhen i > 5
        set val=GetPlayerTechMaxAllowed(Player(i), 'nvul')
        if val > 0 then
            set i_item=UnitAddItemById(hero, val)
        else
            // pad out empty slots with a dummy item so later items go to the correct slots
            set i_item=UnitAddItemById(hero, 'wtlg')
        endif
        set val=GetPlayerTechMaxAllowed(Player(i), 'nsno')
        if val > 0 and GetItemCharges(i_item) > 0 then
            call SetItemCharges(i_item, val)
        endif
        set i=i + 1
    endloop
    set i=0
    loop
        exitwhen i > 5
        if GetItemTypeId(UnitItemInSlot(hero, i)) == 'wtlg' then
            set i_item=UnitRemoveItemFromSlot(hero, i)
            call RemoveItem(i_item)
        endif
        set i=i + 1
    endloop
    // max level
    set val=GetPlayerTechMaxAllowed(p, 'nder')
    if val > 0 then
        set HERO_MAX_LEVEL[slot]=val
        call hero_apply_max_level(hero , val)
    endif
endfunction

function hero_configure_all takes nothing returns nothing
    local integer slot= 0
    local unit hero
    loop
        exitwhen slot >= NUM_HEROES
        call hero_load(slot)
        set hero=hero_get_unit_from_index(slot)
        // todo: handle hero unit type mismatch
        call hero_configure(hero , slot)
        set slot=slot + 1
    endloop
endfunction

function hero_set_all_max_level takes nothing returns nothing
    local integer slot= 0
    local unit hero
    loop
        exitwhen slot >= NUM_HEROES
        call hero_load(slot)
        call hero_set_max_level(slot , GetPlayerTechMaxAllowed(Player(0), 'nder'))
        set slot=slot + 1
    endloop
endfunction

function hero_create takes integer hero_slot,player for_player,real x,real y,real facing returns unit
    local unit hero= null
    if not hero_load(hero_slot) then
        return null
    endif
    set hero=CreateUnit(for_player, GetPlayerTechMaxAllowed(Player(0), 'npng'), x, y, facing)
    return hero
endfunction

// Create and return a hero units from a global hero slot
// Does not configure ability data for reporting
// Returns null if the hero could not be loaded
function hero_create_global takes integer global_slot,player for_player,real x,real y,real facing returns unit
    local unit hero= null
    if not hero_load_global(global_slot) then
        return null
    endif
    set hero=CreateUnit(for_player, GetPlayerTechMaxAllowed(Player(0), 'npng'), x, y, facing)
    return hero
endfunction

function hero_hide_replace takes integer slot,unit replace returns unit
    local unit old_hero= hero_get_unit_from_index(slot)
    local unit hero
    call ShowUnit(old_hero, false)
    set hero=hero_create(slot , GetOwningPlayer(old_hero) , GetUnitX(old_hero) , GetUnitY(old_hero) , GetUnitFacing(old_hero))
    if hero == null then
        call ShowUnit(old_hero, true)
        return old_hero
    endif
    call hero_configure(hero , slot)
    call hero_update_variable(slot , hero)
    call RemoveUnit(hero)
    return hero
endfunction

function hero_hash_state takes unit hero,integer slot returns integer
    local integer result= 0
    set result=result + GetHeroLevel(hero)
    set result=result * 3 + GetHeroAgi(hero, false)
    set result=result * 3 + GetHeroStr(hero, false)
    set result=result * 3 + GetHeroInt(hero, false)
    set result=result * 3 + R2I(GetUnitState(hero, UNIT_STATE_MAX_LIFE))
    set result=result * 3 + GetUnitAbilityLevel(hero, hero_abil_1[slot])
    set result=result * 3 + GetUnitAbilityLevel(hero, hero_abil_2[slot])
    set result=result * 3 + GetUnitAbilityLevel(hero, hero_abil_3[slot])
    set result=result * 3 + GetUnitAbilityLevel(hero, hero_abil_4[slot])
    set result=result * 3 + GetItemTypeId(UnitItemInSlot(hero, 0))
    set result=result * 3 + GetItemTypeId(UnitItemInSlot(hero, 1))
    set result=result * 3 + GetItemTypeId(UnitItemInSlot(hero, 2))
    set result=result * 3 + GetItemTypeId(UnitItemInSlot(hero, 3))
    set result=result * 3 + GetItemTypeId(UnitItemInSlot(hero, 4))
    set result=result * 3 + GetItemTypeId(UnitItemInSlot(hero, 5))
    return result
endfunction

function hero_publish_status takes integer slot returns nothing
    local unit hero= hero_get_unit_from_index(slot)
    local integer this_hash= hero_hash_state(hero , slot)
    local integer i= 0
    local item i_item
    if this_hash == hero_hashes[slot] then
        return
    endif
    set hero_hashes[slot]=this_hash
    call io_open_write("hero_" + I2S(hero_global_slots[slot]) + ".txt")
    call io_write(I2S(hero_global_slots[slot]))
    call io_write(GetHeroProperName(hero))
    call io_write(I2S(GetHeroXP(hero)))
    call io_write(I2S(GetHeroAgi(hero, false)))
    call io_write(I2S(GetHeroStr(hero, false)))
    call io_write(I2S(GetHeroInt(hero, false)))
    call io_write(I2S(R2I(GetUnitState(hero, UNIT_STATE_MAX_LIFE))))
    if GetUnitTypeId(hero) == 'Ntin' then
        // special handling for Goblin Tinker
        if GetUnitAbilityLevel(hero, 'ANeg') == 0 then
            call io_write(I2S(GetUnitAbilityLevel(hero, 'ANsy')))
            call io_write(I2S(GetUnitAbilityLevel(hero, 'ANcs')))
            call io_write(I2S(GetUnitAbilityLevel(hero, 'ANeg')))
            call io_write(I2S(GetUnitAbilityLevel(hero, 'ANrg')))
        elseif GetUnitAbilityLevel(hero, 'ANeg') == 1 then
            call io_write(I2S(GetUnitAbilityLevel(hero, 'ANs1')))
            call io_write(I2S(GetUnitAbilityLevel(hero, 'ANc1')))
            call io_write(I2S(GetUnitAbilityLevel(hero, 'ANeg')))
            call io_write(I2S(GetUnitAbilityLevel(hero, 'ANg1')))
        elseif GetUnitAbilityLevel(hero, 'ANeg') == 2 then
            call io_write(I2S(GetUnitAbilityLevel(hero, 'ANs2')))
            call io_write(I2S(GetUnitAbilityLevel(hero, 'ANc2')))
            call io_write(I2S(GetUnitAbilityLevel(hero, 'ANeg')))
            call io_write(I2S(GetUnitAbilityLevel(hero, 'ANg2')))
        else
            call io_write(I2S(GetUnitAbilityLevel(hero, 'ANs3')))
            call io_write(I2S(GetUnitAbilityLevel(hero, 'ANc3')))
            call io_write(I2S(GetUnitAbilityLevel(hero, 'ANeg')))
            call io_write(I2S(GetUnitAbilityLevel(hero, 'ANg3')))
        endif
    else
        call io_write(I2S(GetUnitAbilityLevel(hero, hero_abil_1[slot])))
        call io_write(I2S(GetUnitAbilityLevel(hero, hero_abil_2[slot])))
        call io_write(I2S(GetUnitAbilityLevel(hero, hero_abil_3[slot])))
        call io_write(I2S(GetUnitAbilityLevel(hero, hero_abil_4[slot])))
    endif
    loop
        exitwhen i >= 6
        set i_item=UnitItemInSlot(hero, i)
        call io_write(I2S(GetItemTypeId(i_item)))
        if i_item == null then
            call io_write("0")
        else
            call io_write(I2S(GetItemCharges(i_item)))
        endif
        set i=i + 1
    endloop
    call io_close_write()

    set hero_status_index=hero_status_index + 1
    if hero_status_index >= MAX_UPDATE_ID then
        set hero_status_index=0
    endif
endfunction

function hero_publish_all_statuses takes nothing returns nothing
    local integer i= 0
    local integer starting_hero_status_index= hero_status_index
    loop
        exitwhen i >= NUM_HEROES
        call hero_publish_status(i)
        set i=i + 1
    endloop
    if hero_status_index != starting_hero_status_index then
        call status_send()
    endif
endfunction

function hero_on_level takes unit hero returns nothing
    local integer hero_index= hero_get_index_from_unit(hero)
    if hero_index >= NUM_HEROES then
        return
    endif
    call hero_apply_max_level(hero , HERO_MAX_LEVEL[hero_index])
endfunction

function hero_on_level_triggerfunction takes nothing returns nothing
    call hero_on_level(GetTriggerUnit())
endfunction

function hero_on_item_pickup takes nothing returns nothing
    local integer hero_index= hero_get_index_from_unit(GetTriggerUnit())
    if not IsHeroUnitId(GetUnitTypeId(GetTriggerUnit())) then
        return
    endif
    if hero_index == item_channel_2_hero_slot then
        return
    endif
    set item_channel_1_target=GetTriggerUnit()
endfunction

function InitTrig_heroes takes nothing returns nothing
    set t_hero_update=CreateTrigger()
    call TriggerRegisterPlayerUnitEventSimple(t_hero_update, USER_PLAYER, EVENT_PLAYER_HERO_LEVEL)
    call TriggerAddAction(t_hero_update, function hero_on_level_triggerfunction)
    set t_hero_pickup_item=CreateTrigger()
    call TriggerRegisterPlayerUnitEventSimple(t_hero_pickup_item, USER_PLAYER, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call TriggerAddAction(t_hero_pickup_item, function hero_on_item_pickup)
    set t_hero_configure_all=CreateTrigger()
    call TriggerAddAction(t_hero_configure_all, function hero_configure_all)
    set t_hero_set_all_max_level=CreateTrigger()
    call TriggerAddAction(t_hero_set_all_max_level, function hero_set_all_max_level)
    set hero_update_status_timer=CreateTimer()
    call TimerStart(hero_update_status_timer, 1, true, function hero_publish_all_statuses)
    set item_channel_1_target=hero_get_unit_from_index(0)
    set item_channel_2_target=hero_get_unit_from_index(item_channel_2_hero_slot)
    set hero_hashes[0]=0
    set hero_hashes[1]=0
    set hero_hashes[2]=0
    set hero_hashes[3]=0
endfunction
//===========================================================================
// Trigger: item_locations
//===========================================================================
// triggers for sending locations when picking up location-linked items
// depends: status

function item_location_send takes integer item_id returns nothing
    if ( item_id == 'I010' ) then
        call status_check_location(0)
    elseif ( item_id == 'I011' ) then
        call status_check_location(1)
    elseif ( item_id == 'I012' ) then
        call status_check_location(2)
    elseif ( item_id == 'I013' ) then
        call status_check_location(3)
    elseif ( item_id == 'I014' ) then
        call status_check_location(4)
    elseif ( item_id == 'I015' ) then
        call status_check_location(5)
    elseif ( item_id == 'I016' ) then
        call status_check_location(6)
    elseif ( item_id == 'I017' ) then
        call status_check_location(7)
    elseif ( item_id == 'I018' ) then
        call status_check_location(8)
    elseif ( item_id == 'I019' ) then
        call status_check_location(9)
    elseif ( item_id == 'I01a' ) then
        call status_check_location(10)
    elseif ( item_id == 'I01b' ) then
        call status_check_location(11)
    elseif ( item_id == 'I01c' ) then
        call status_check_location(12)
    elseif ( item_id == 'I01d' ) then
        call status_check_location(13)
    elseif ( item_id == 'I01e' ) then
        call status_check_location(14)
    elseif ( item_id == 'I01f' ) then
        call status_check_location(15)
    elseif ( item_id == 'I020' ) then
        call status_check_location(16)
    elseif ( item_id == 'I021' ) then
        call status_check_location(17)
    elseif ( item_id == 'I022' ) then
        call status_check_location(18)
    elseif ( item_id == 'I023' ) then
        call status_check_location(19)
    elseif ( item_id == 'I024' ) then
        call status_check_location(20)
    elseif ( item_id == 'I025' ) then
        call status_check_location(21)
    elseif ( item_id == 'I026' ) then
        call status_check_location(22)
    elseif ( item_id == 'I027' ) then
        call status_check_location(23)
    elseif ( item_id == 'I028' ) then
        call status_check_location(24)
    elseif ( item_id == 'I029' ) then
        call status_check_location(25)
    elseif ( item_id == 'I02a' ) then
        call status_check_location(26)
    elseif ( item_id == 'I02b' ) then
        call status_check_location(27)
    elseif ( item_id == 'I02c' ) then
        call status_check_location(28)
    elseif ( item_id == 'I02d' ) then
        call status_check_location(29)
    elseif ( item_id == 'I02e' ) then
        call status_check_location(30)
    elseif ( item_id == 'I02f' ) then
        call status_check_location(31)
    endif
endfunction

function item_location_in_range takes integer item_id returns boolean
    if item_id < 'I010' or item_id > 'I02f' then
        return false
    endif
    return true
endfunction

function trigger_function_pick_up_item takes nothing returns nothing
    local integer item_id= GetItemTypeId(GetManipulatedItem())
    if item_location_in_range(item_id) then
        call item_location_send(item_id)
    endif
endfunction

function trigger_function_remove_from_stock takes nothing returns nothing
    local integer item_type= GetItemTypeId(GetSoldItem())
    if item_location_in_range(item_type) then
        call RemoveItemFromStock(GetSellingUnit(), item_type)
    endif
endfunction

function InitTrig_item_locations takes nothing returns nothing
    set t_location_found=CreateTrigger()
    call TriggerRegisterPlayerUnitEventSimple(t_location_found, USER_PLAYER, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call TriggerAddAction(t_location_found, function trigger_function_pick_up_item)
    set t_item_purchased=CreateTrigger()
    call TriggerRegisterPlayerUnitEvent(t_item_purchased, Player(PLAYER_NEUTRAL_PASSIVE), EVENT_PLAYER_UNIT_SELL_ITEM, null)
    call TriggerAddAction(t_item_purchased, function trigger_function_remove_from_stock)
endfunction
//===========================================================================
// Trigger: debug
//===========================================================================
// debug commands

function debug_print_help takes nothing returns nothing
    call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "Commands: '-print', '-xp', '-xp2', '-health', '-dragon', '-speed'")
endfunction

function debug_xp_tome takes nothing returns nothing
    // call CreateItem('texp', GetStartLocationX(GetPlayerId(USER_PLAYER)), GetStartLocationY(GetPlayerId(USER_PLAYER)))
    call CreateItem('texp', GetUnitX(item_channel_1_target), GetUnitY(item_channel_1_target))
endfunction

function debug_xp2_tome takes nothing returns nothing
    call CreateItem('tkno', GetUnitX(item_channel_1_target), GetUnitY(item_channel_1_target))
endfunction

function debug_health_tome takes nothing returns nothing
    call CreateItem('manh', GetUnitX(item_channel_1_target), GetUnitY(item_channel_1_target))
endfunction

function debug_dragon_egg takes nothing returns nothing
    call CreateItem('fgrd', GetUnitX(item_channel_1_target), GetUnitY(item_channel_1_target))
endfunction

function debug_speed takes nothing returns nothing
    call CreateItem('rspd', GetUnitX(item_channel_1_target), GetUnitY(item_channel_1_target))
endfunction

function debug_print takes nothing returns nothing
    local string s_locations_checked= ""
    local integer index= 0
    call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "world_id: " + I2S(world_id))
    loop
        exitwhen index >= MAX_LOCATIONS
        if locations_checked[index] then
            set s_locations_checked=s_locations_checked + "," + I2S(index)
        endif
        set index=index + 1
    endloop
    call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "checked: " + s_locations_checked)
    set index=0
    loop
        exitwhen index >= NUM_HEROES
        call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "Hero " + I2S(index) + " max level: " + I2S(HERO_MAX_LEVEL[index]))
        set index=index + 1
    endloop
endfunction

function InitTrig_debug takes nothing returns nothing
    set t_help=CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t_help, USER_PLAYER, "-help", false)
    call TriggerAddAction(t_help, function debug_print_help)
    set t_xp=CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t_xp, USER_PLAYER, "-xp", false)
    call TriggerAddAction(t_xp, function debug_xp_tome)
    set t_xp2=CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t_xp2, USER_PLAYER, "-xp2", false)
    call TriggerAddAction(t_xp2, function debug_xp2_tome)
    set t_health=CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t_health, USER_PLAYER, "-health", false)
    call TriggerAddAction(t_health, function debug_health_tome)
    set t_dragon=CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t_dragon, USER_PLAYER, "-dragon", false)
    call TriggerAddAction(t_dragon, function debug_dragon_egg)
    set t_speed=CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t_speed, USER_PLAYER, "-speed", false)
    call TriggerAddAction(t_speed, function debug_speed)
    set t_print=CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t_print, USER_PLAYER, "-print", false)
    call TriggerAddAction(t_print, function debug_print)
endfunction
//===========================================================================
// Trigger: zoom
//===========================================================================

function Trig_zoom_Actions takes nothing returns nothing
    call SetCameraFieldForPlayer(GetTriggerPlayer(), CAMERA_FIELD_TARGET_DISTANCE, S2R(SubStringBJ(GetEventPlayerChatString(), 7, 10)), 0)
endfunction

//===========================================================================
function InitTrig_zoom takes nothing returns nothing
    set t_zoom=CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t_zoom, USER_PLAYER, "-zoom ", false)
    call TriggerAddAction(t_zoom, function Trig_zoom_Actions)
endfunction
//===========================================================================
// Trigger: irregulars
//===========================================================================

function irregular_transform takes unit u,integer abil_id returns effect
    local effect e= AddSpecialEffect("Abilities\\Spells\\Human\\Polymorph\\PolyMorphDoneGround.mdl", GetUnitX(u), GetUnitY(u))
    call UnitAddAbility(u, abil_id)
    call IssueImmediateOrder(u, "ravenform")
    return e
endfunction

function irregular_check_money takes unit u,integer amount returns boolean
    local player p= GetOwningPlayer(u)
    local integer current_gold= GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD)
    if current_gold < amount then
        if not GetSoundIsPlaying(human_no_gold_sound) then
            call StartSound(human_no_gold_sound)
        endif
        call IssueImmediateOrder(u, "stop")
        return false
    endif
    call AdjustPlayerStateBJ(amount, p, PLAYER_STATE_RESOURCE_GOLD)
    return true
endfunction

function irregulars_on_cast takes nothing returns nothing
    local integer a= GetSpellAbilityId()
    local unit u= GetSpellAbilityUnit()
    local effect e= null
    if a == 'AP00' then
        // captain
        if irregular_check_money(u , 80) then
            set e=irregular_transform(u , 'AP0a')
        endif
    elseif a == 'AP01' then
        // footman
        if irregular_check_money(u , 80) then
            set e=irregular_transform(u , 'AP0b')
        endif
    elseif a == 'AP02' then
        // rifleman
        if irregular_check_money(u , 125) then
            set e=irregular_transform(u , 'AP0c')
        endif
    elseif a == 'AP03' then
        // archer
        if irregular_check_money(u , 80) then
            set e=irregular_transform(u , 'AP0d')
        endif
    elseif a == 'AP04' then
        // knight
        if irregular_check_money(u , 225) then
            set e=irregular_transform(u , 'AP0e')
        endif
    elseif a == 'AP05' then
        // priest
        if irregular_check_money(u , 80) then
            set e=irregular_transform(u , 'AP0f')
        endif
    elseif a == 'AP06' then
        // sorceress
        if irregular_check_money(u , 90) then
            set e=irregular_transform(u , 'AP0g')
        endif
    elseif a == 'AP07' then
        // spell breaker
        if irregular_check_money(u , 150) then
            set e=irregular_transform(u , 'AP0h')
        endif
    elseif a == 'AP08' then
        // mortar team
        if irregular_check_money(u , 150) then
            set e=irregular_transform(u , 'AP0i')
        endif
    endif
    if e != null then
        call TriggerSleepAction(2.0)
        call DestroyEffect(e)
    endif
endfunction

//===========================================================================
function InitTrig_irregulars takes nothing returns nothing
    set t_irregulars_on_cast=CreateTrigger()
    set human_no_gold_sound=CreateSound("Sound\\Interface\\warning\\human\\knightnogold1.wav", false, false, false, 10, 10, "")
    call SetSoundParamsFromLabel(human_no_gold_sound, "NoGoldHuman")
    call SetSoundDuration(human_no_gold_sound, GetSoundDuration(human_no_gold_sound))
    call TriggerRegisterPlayerUnitEventSimple(t_irregulars_on_cast, USER_PLAYER, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddAction(t_irregulars_on_cast, function irregulars_on_cast)
    call Preload("Abilities\\Spells\\Human\\Polymorph\\PolyMorphDoneGround.mdl")
endfunction
//===========================================================================
// Trigger: AP Load Arthas
//===========================================================================
function Trig_AP_Load_Arthas_Func003001 takes nothing returns boolean
    return ( udg_Arthas != null )
endfunction

function Trig_AP_Load_Arthas_Actions takes nothing returns nothing
    // Load the hero data
    set udg_Arthas=hero_create(0 , USER_PLAYER , GetRectCenterX(gg_rct_01Arthas_Start) , GetRectCenterY(gg_rct_01Arthas_Start) , 180.0)
    if ( Trig_AP_Load_Arthas_Func003001() ) then
        return
    else
        call DoNothing()
    endif
    // If the hero data wasn't found, create a default hero
    set udg_Arthas=CreateUnit(USER_PLAYER, 'Hart', GetRectCenterX(gg_rct_01Arthas_Start), GetRectCenterY(gg_rct_01Arthas_Start), 180.0)
    set hero_abil_1[0]='AHhb'
    set hero_abil_2[0]='AHds'
    set hero_abil_3[0]='AHad'
    set hero_abil_4[0]='AHre'
endfunction

//===========================================================================
function InitTrig_AP_Load_Arthas takes nothing returns nothing
    set gg_trg_AP_Load_Arthas=CreateTrigger()
    call TriggerAddAction(gg_trg_AP_Load_Arthas, function Trig_AP_Load_Arthas_Actions)
endfunction

//===========================================================================
// Trigger: AP Load Jaina
//===========================================================================
function Trig_AP_Load_Jaina_Func003001 takes nothing returns boolean
    return ( udg_Jaina != null )
endfunction

function Trig_AP_Load_Jaina_Actions takes nothing returns nothing
    // Load the hero data
    set udg_Jaina=hero_create_global(HERO_ID_JAINA , USER_PLAYER , GetRectCenterX(gg_rct_01Jaina_Start) , GetRectCenterY(gg_rct_01Jaina_Start) , 180.0)
    if ( Trig_AP_Load_Jaina_Func003001() ) then
        return
    else
        call DoNothing()
    endif
    // If the hero data wasn't found, create a default hero
    set udg_Jaina=CreateUnit(USER_PLAYER, 'Hjai', GetRectCenterX(gg_rct_01Jaina_Start), GetRectCenterY(gg_rct_01Jaina_Start), 180.0)
endfunction

//===========================================================================
function InitTrig_AP_Load_Jaina takes nothing returns nothing
    set gg_trg_AP_Load_Jaina=CreateTrigger()
    call TriggerAddAction(gg_trg_AP_Load_Jaina, function Trig_AP_Load_Jaina_Actions)
endfunction

//===========================================================================
// Trigger: Shop Locations
//===========================================================================
function Trig_Shop_Locations_Actions takes nothing returns nothing
    call AddItemToStockBJ('I029', gg_unit_ngme_0087, 1, 1)
endfunction

//===========================================================================
function InitTrig_Shop_Locations takes nothing returns nothing
    set gg_trg_Shop_Locations=CreateTrigger()
    call TriggerAddAction(gg_trg_Shop_Locations, function Trig_Shop_Locations_Actions)
endfunction

//===========================================================================
// Trigger: Purple Lich Location
//===========================================================================
function Trig_Purple_Lich_Location_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call status_check_location(20)
endfunction

//===========================================================================
function InitTrig_Purple_Lich_Location takes nothing returns nothing
    set gg_trg_Purple_Lich_Location=CreateTrigger()
    call TriggerRegisterUnitEvent(gg_trg_Purple_Lich_Location, gg_unit_Ulic_0022, EVENT_UNIT_DEATH)
    call TriggerAddAction(gg_trg_Purple_Lich_Location, function Trig_Purple_Lich_Location_Actions)
endfunction

//===========================================================================
// Trigger: Green Lich Location
//===========================================================================
function Trig_Green_Lich_Location_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call status_check_location(21)
endfunction

//===========================================================================
function InitTrig_Green_Lich_Location takes nothing returns nothing
    set gg_trg_Green_Lich_Location=CreateTrigger()
    call TriggerRegisterUnitEvent(gg_trg_Green_Lich_Location, gg_unit_Ulic_0059, EVENT_UNIT_DEATH)
    call TriggerAddAction(gg_trg_Green_Lich_Location, function Trig_Green_Lich_Location_Actions)
endfunction

//===========================================================================
// Trigger: Purple Base Location
//===========================================================================
function Trig_Purple_Base_Location_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call status_check_location(23)
endfunction

//===========================================================================
function InitTrig_Purple_Base_Location takes nothing returns nothing
    set gg_trg_Purple_Base_Location=CreateTrigger()
    call TriggerRegisterUnitEvent(gg_trg_Purple_Base_Location, gg_unit_unp2_0071, EVENT_UNIT_DEATH)
    call TriggerAddAction(gg_trg_Purple_Base_Location, function Trig_Purple_Base_Location_Actions)
endfunction

//===========================================================================
// Trigger: Green Base Location
//===========================================================================
function Trig_Green_Base_Location_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call status_check_location(24)
endfunction

//===========================================================================
function InitTrig_Green_Base_Location takes nothing returns nothing
    set gg_trg_Green_Base_Location=CreateTrigger()
    call TriggerRegisterUnitEvent(gg_trg_Green_Base_Location, gg_unit_unp2_0005, EVENT_UNIT_DEATH)
    call TriggerAddAction(gg_trg_Green_Base_Location, function Trig_Green_Base_Location_Actions)
endfunction

//===========================================================================
// Trigger: Map Initilization
//
// MAP INTIALIZATION
//===========================================================================
function Trig_Map_Initilization_Actions takes nothing returns nothing
    call Preloader("scripts\\Human05.pld")
    call SetCampaignMenuRaceBJ(bj_CAMPAIGN_INDEX_H)
    call ConditionalTriggerExecute(gg_trg_Difficulty_Easy)
    call ConditionalTriggerExecute(gg_trg_Difficulty_Normal)
    call ConditionalTriggerExecute(gg_trg_Difficulty_Hard)
    call TriggerExecute(gg_trg_Load_Heroes)
    call TriggerExecute(gg_trg_SetupHereos)
    call TriggerExecute(gg_trg_SetupBreadcrumbs)
    call TriggerExecute(gg_trg_SetupFormations)
    call TriggerExecute(gg_trg_SetupCaravan)
    call TriggerExecute(gg_trg_SetupPlayers)
    call TriggerExecute(gg_trg_Setup_Sounds)
    call TriggerExecute(gg_trg_SetupQuest)
    call TriggerExecute(gg_trg_Remove_AI_Units)
    call TriggerExecute(gg_trg_SetupHerathglenVillagers)
    call SetDoodadAnimationRectBJ("death", 'YOtf', gg_rct_Fire1)
    call SetDoodadAnimationRectBJ("death", 'YOtf', gg_rct_Fire2New)
    call SetDoodadAnimationRectBJ("death", 'YOtf', gg_rct_Fire3)
    // ----------
    call TriggerExecute(gg_trg_Cinematic_A)
endfunction

//===========================================================================
function InitTrig_Map_Initilization takes nothing returns nothing
    set gg_trg_Map_Initilization=CreateTrigger()
    call TriggerAddAction(gg_trg_Map_Initilization, function Trig_Map_Initilization_Actions)
endfunction

//===========================================================================
// Trigger: Load Heroes
//
// Load the campaign game cache.
// Load all heroes.
//===========================================================================
function Trig_Load_Heroes_Actions takes nothing returns nothing
    // Load the saved data
    call ConditionalTriggerExecute(gg_trg_AP_Load_Arthas)
    call ConditionalTriggerExecute(gg_trg_AP_Load_Jaina)
endfunction

//===========================================================================
function InitTrig_Load_Heroes takes nothing returns nothing
    set gg_trg_Load_Heroes=CreateTrigger()
    call TriggerAddAction(gg_trg_Load_Heroes, function Trig_Load_Heroes_Actions)
endfunction

//===========================================================================
// Trigger: SetupHereos
//
// Jaina receives Max Mana
// Jaina Level 5
// Learn Skill Mass Teleport
//===========================================================================
function Trig_SetupHereos_Actions takes nothing returns nothing
    call SetUnitManaBJ(udg_Arthas, GetUnitStateSwap(UNIT_STATE_MAX_MANA, udg_Arthas))
    call SetUnitManaBJ(udg_Jaina, GetUnitStateSwap(UNIT_STATE_MAX_MANA, udg_Jaina))
    call SuspendHeroXPBJ(false, gg_unit_Ulic_0022)
    call SuspendHeroXPBJ(false, gg_unit_Ulic_0059)
endfunction

//===========================================================================
function InitTrig_SetupHereos takes nothing returns nothing
    set gg_trg_SetupHereos=CreateTrigger()
    call TriggerAddAction(gg_trg_SetupHereos, function Trig_SetupHereos_Actions)
endfunction

//===========================================================================
// Trigger: SetupBreadcrumbs
//
// This is basically an array of breadcrumbs for the caravan to follow.
// Each breadcrumb, when targeted by the caravan, denotes the center of the formation.
//===========================================================================
function Trig_SetupBreadcrumbs_Actions takes nothing returns nothing
    // Configure Breadcrumb Ranges
    set udg_BreadcrumbTotal=74
    set udg_BreadcrumbIntro=10
    set udg_BreadcrumbStopTown1=12
    set udg_BreadcrumbStopTown2=35
    set udg_BreadcrumbStopTown3=51
    set udg_BreadcrumbStopTown4=67
    set udg_BreadcrumbStopExit=73
    set udg_BreadcrumbCurrent=1
    set udg_BreadcrumbAllowed=1
    set udg_BreadcrumbReached=0
    // Debug Town 4
    // Configure Breadcrumb Array
    set udg_zBreadcrumbArray[1]=GetRectCenter(gg_rct_Breadcrumb_01)
    set udg_zBreadcrumbArray[2]=GetRectCenter(gg_rct_Breadcrumb_02)
    set udg_zBreadcrumbArray[3]=GetRectCenter(gg_rct_Breadcrumb_03)
    set udg_zBreadcrumbArray[4]=GetRectCenter(gg_rct_Breadcrumb_04)
    set udg_zBreadcrumbArray[5]=GetRectCenter(gg_rct_Breadcrumb_05)
    set udg_zBreadcrumbArray[6]=GetRectCenter(gg_rct_Breadcrumb_06)
    set udg_zBreadcrumbArray[7]=GetRectCenter(gg_rct_Breadcrumb_07)
    set udg_zBreadcrumbArray[8]=GetRectCenter(gg_rct_Breadcrumb_08)
    set udg_zBreadcrumbArray[9]=GetRectCenter(gg_rct_Breadcrumb_09)
    set udg_zBreadcrumbArray[10]=GetRectCenter(gg_rct_Breadcrumb_10)
    set udg_zBreadcrumbArray[11]=GetRectCenter(gg_rct_Breadcrumb_11)
    set udg_zBreadcrumbArray[12]=GetRectCenter(gg_rct_Breadcrumb_12)
    set udg_zBreadcrumbArray[13]=GetRectCenter(gg_rct_Breadcrumb_13)
    set udg_zBreadcrumbArray[14]=GetRectCenter(gg_rct_Breadcrumb_14)
    set udg_zBreadcrumbArray[15]=GetRectCenter(gg_rct_Breadcrumb_15)
    set udg_zBreadcrumbArray[16]=GetRectCenter(gg_rct_Breadcrumb_16)
    set udg_zBreadcrumbArray[17]=GetRectCenter(gg_rct_Breadcrumb_17)
    set udg_zBreadcrumbArray[18]=GetRectCenter(gg_rct_Breadcrumb_18)
    set udg_zBreadcrumbArray[19]=GetRectCenter(gg_rct_Breadcrumb_19)
    set udg_zBreadcrumbArray[20]=GetRectCenter(gg_rct_Breadcrumb_20)
    set udg_zBreadcrumbArray[21]=GetRectCenter(gg_rct_Breadcrumb_21)
    set udg_zBreadcrumbArray[22]=GetRectCenter(gg_rct_Breadcrumb_22)
    set udg_zBreadcrumbArray[23]=GetRectCenter(gg_rct_Breadcrumb_23)
    set udg_zBreadcrumbArray[24]=GetRectCenter(gg_rct_Breadcrumb_24)
    set udg_zBreadcrumbArray[25]=GetRectCenter(gg_rct_Breadcrumb_25)
    set udg_zBreadcrumbArray[26]=GetRectCenter(gg_rct_Breadcrumb_26)
    set udg_zBreadcrumbArray[27]=GetRectCenter(gg_rct_Breadcrumb_27)
    set udg_zBreadcrumbArray[28]=GetRectCenter(gg_rct_Breadcrumb_28)
    set udg_zBreadcrumbArray[29]=GetRectCenter(gg_rct_Breadcrumb_29)
    set udg_zBreadcrumbArray[30]=GetRectCenter(gg_rct_Breadcrumb_30)
    set udg_zBreadcrumbArray[31]=GetRectCenter(gg_rct_Breadcrumb_31)
    set udg_zBreadcrumbArray[32]=GetRectCenter(gg_rct_Breadcrumb_32)
    set udg_zBreadcrumbArray[33]=GetRectCenter(gg_rct_Breadcrumb_33)
    set udg_zBreadcrumbArray[34]=GetRectCenter(gg_rct_Breadcrumb_34)
    set udg_zBreadcrumbArray[35]=GetRectCenter(gg_rct_Breadcrumb_35)
    set udg_zBreadcrumbArray[36]=GetRectCenter(gg_rct_Breadcrumb_36)
    set udg_zBreadcrumbArray[37]=GetRectCenter(gg_rct_Breadcrumb_37)
    set udg_zBreadcrumbArray[38]=GetRectCenter(gg_rct_Breadcrumb_38)
    set udg_zBreadcrumbArray[39]=GetRectCenter(gg_rct_Breadcrumb_39)
    set udg_zBreadcrumbArray[40]=GetRectCenter(gg_rct_Breadcrumb_40)
    set udg_zBreadcrumbArray[41]=GetRectCenter(gg_rct_Breadcrumb_41)
    set udg_zBreadcrumbArray[42]=GetRectCenter(gg_rct_Breadcrumb_42)
    set udg_zBreadcrumbArray[43]=GetRectCenter(gg_rct_Breadcrumb_43)
    set udg_zBreadcrumbArray[44]=GetRectCenter(gg_rct_Breadcrumb_44)
    set udg_zBreadcrumbArray[45]=GetRectCenter(gg_rct_Breadcrumb_45)
    set udg_zBreadcrumbArray[46]=GetRectCenter(gg_rct_Breadcrumb_46)
    set udg_zBreadcrumbArray[47]=GetRectCenter(gg_rct_Breadcrumb_47)
    set udg_zBreadcrumbArray[48]=GetRectCenter(gg_rct_Breadcrumb_48)
    set udg_zBreadcrumbArray[49]=GetRectCenter(gg_rct_Breadcrumb_49)
    set udg_zBreadcrumbArray[50]=GetRectCenter(gg_rct_Breadcrumb_50)
    set udg_zBreadcrumbArray[51]=GetRectCenter(gg_rct_Breadcrumb_51)
    set udg_zBreadcrumbArray[52]=GetRectCenter(gg_rct_Breadcrumb_52)
    set udg_zBreadcrumbArray[53]=GetRectCenter(gg_rct_Breadcrumb_53)
    set udg_zBreadcrumbArray[54]=GetRectCenter(gg_rct_Breadcrumb_54)
    set udg_zBreadcrumbArray[55]=GetRectCenter(gg_rct_Breadcrumb_55)
    set udg_zBreadcrumbArray[56]=GetRectCenter(gg_rct_Breadcrumb_56)
    set udg_zBreadcrumbArray[57]=GetRectCenter(gg_rct_Breadcrumb_57)
    set udg_zBreadcrumbArray[58]=GetRectCenter(gg_rct_Breadcrumb_58)
    set udg_zBreadcrumbArray[59]=GetRectCenter(gg_rct_Breadcrumb_59)
    set udg_zBreadcrumbArray[60]=GetRectCenter(gg_rct_Breadcrumb_60)
    set udg_zBreadcrumbArray[61]=GetRectCenter(gg_rct_Breadcrumb_61)
    set udg_zBreadcrumbArray[62]=GetRectCenter(gg_rct_Breadcrumb_62)
    set udg_zBreadcrumbArray[63]=GetRectCenter(gg_rct_Breadcrumb_63)
    set udg_zBreadcrumbArray[64]=GetRectCenter(gg_rct_Breadcrumb_64)
    set udg_zBreadcrumbArray[65]=GetRectCenter(gg_rct_Breadcrumb_65)
    set udg_zBreadcrumbArray[66]=GetRectCenter(gg_rct_Breadcrumb_66)
    set udg_zBreadcrumbArray[67]=GetRectCenter(gg_rct_Breadcrumb_67)
    set udg_zBreadcrumbArray[68]=GetRectCenter(gg_rct_Breadcrumb_68)
    set udg_zBreadcrumbArray[69]=GetRectCenter(gg_rct_Breadcrumb_69)
    set udg_zBreadcrumbArray[70]=GetRectCenter(gg_rct_Breadcrumb_70)
    set udg_zBreadcrumbArray[71]=GetRectCenter(gg_rct_Breadcrumb_71)
    set udg_zBreadcrumbArray[72]=GetRectCenter(gg_rct_Breadcrumb_72)
    set udg_zBreadcrumbArray[73]=GetRectCenter(gg_rct_Breadcrumb_73)
    set udg_zBreadcrumbArray[74]=GetRectCenter(gg_rct_Breadcrumb_74)
    // Configure Breadcrumb Angle Array
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=udg_BreadcrumbTotal
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call ConditionalTriggerExecute(gg_trg_SetupBreadcrumbs_Single)
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_SetupBreadcrumbs takes nothing returns nothing
    set gg_trg_SetupBreadcrumbs=CreateTrigger()
    call TriggerAddAction(gg_trg_SetupBreadcrumbs, function Trig_SetupBreadcrumbs_Actions)
endfunction

//===========================================================================
// Trigger: SetupBreadcrumbs Single
//===========================================================================
function Trig_SetupBreadcrumbs_Single_Func009001 takes nothing returns boolean
    return ( ( udg_TempMaxAngle - udg_TempMinAngle ) > 180.00 )
endfunction

function Trig_SetupBreadcrumbs_Single_Func012001 takes nothing returns boolean
    return ( GetForLoopIndexA() == 1 )
endfunction

function Trig_SetupBreadcrumbs_Single_Func013001 takes nothing returns boolean
    return ( GetForLoopIndexA() == udg_BreadcrumbTotal )
endfunction

function Trig_SetupBreadcrumbs_Single_Actions takes nothing returns nothing
    // Make sure we're not trying to query indices that don't exist
    set udg_TempLastIndex=IMaxBJ(( GetForLoopIndexA() - 1 ), 1)
    set udg_TempNextIndex=IMinBJ(( GetForLoopIndexA() + 1 ), udg_BreadcrumbTotal)
    set udg_TempLastAngle=AngleBetweenPoints(udg_zBreadcrumbArray[udg_TempLastIndex], udg_zBreadcrumbArray[GetForLoopIndexA()])
    set udg_TempNextAngle=AngleBetweenPoints(udg_zBreadcrumbArray[GetForLoopIndexA()], udg_zBreadcrumbArray[udg_TempNextIndex])
    // If the angle is over 180 degrees, add a full rotation to the min angle so that we're always taking an average on the right side of the circle
    set udg_TempMinAngle=RMinBJ(udg_TempLastAngle, udg_TempNextAngle)
    set udg_TempMaxAngle=RMaxBJ(udg_TempLastAngle, udg_TempNextAngle)
    if ( Trig_SetupBreadcrumbs_Single_Func009001() ) then
        set udg_TempMinAngle=( udg_TempMinAngle + 360.00 )
    else
        call DoNothing()
    endif
    set udg_TempAngle=( ( udg_TempMinAngle + udg_TempMaxAngle ) / 2.00 )
    // Special-case the first and last breadcrumbs, as they don't have two neighbors to average
    if ( Trig_SetupBreadcrumbs_Single_Func012001() ) then
        set udg_TempAngle=udg_TempNextAngle
    else
        call DoNothing()
    endif
    if ( Trig_SetupBreadcrumbs_Single_Func013001() ) then
        set udg_TempAngle=udg_TempLastAngle
    else
        call DoNothing()
    endif
    set udg_BreadcrumbAngleArray[GetForLoopIndexA()]=udg_TempAngle
endfunction

//===========================================================================
function InitTrig_SetupBreadcrumbs_Single takes nothing returns nothing
    set gg_trg_SetupBreadcrumbs_Single=CreateTrigger()
    call TriggerAddAction(gg_trg_SetupBreadcrumbs_Single, function Trig_SetupBreadcrumbs_Single_Actions)
endfunction

//===========================================================================
// Trigger: SetupFormations
//
// The locations of the preplaced "Formation" regions are read and stored as formation data (in polar coordinates).
// For simplicity, the initial formation is assumed to be facing 0 degrees (east).
//===========================================================================
function Trig_SetupFormations_Actions takes nothing returns nothing
    // Configure Region Array
    set udg_FormationRegionArray[1]=gg_rct_Formation_01
    set udg_FormationRegionArray[2]=gg_rct_Formation_02
    set udg_FormationRegionArray[3]=gg_rct_Formation_03
    set udg_FormationRegionArray[4]=gg_rct_Formation_04
    set udg_FormationRegionArray[5]=gg_rct_Formation_05
    set udg_FormationRegionArray[6]=gg_rct_Formation_06
    set udg_FormationRegionArray[7]=gg_rct_Formation_07
    set udg_FormationRegionArray[8]=gg_rct_Formation_08
    set udg_FormationRegionArray[9]=gg_rct_Formation_09
    set udg_FormationRegionArray[10]=gg_rct_Formation_10
    set udg_FormationRegionArray[11]=gg_rct_Formation_11
    set udg_FormationRegionArray[12]=gg_rct_Formation_12
    set udg_FormationRegionArray[13]=gg_rct_Formation_13
    // Configure Unit Ranges
    set udg_FormationTotal=13
    set udg_CaravanWagonFirst=1
    set udg_CaravanWagonLast=5
    set udg_CaravanGuardFirst=6
    set udg_CaravanGuardLast=13
    // Read formation data from initial region placement
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=udg_FormationTotal
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        set udg_FormationDistanceArray[GetForLoopIndexA()]=DistanceBetweenPoints(GetRectCenter(gg_rct_FormationCenter), GetRectCenter(udg_FormationRegionArray[GetForLoopIndexA()]))
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=udg_FormationTotal
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        set udg_FormationAngleArray[GetForLoopIndexA()]=AngleBetweenPoints(GetRectCenter(gg_rct_FormationCenter), GetRectCenter(udg_FormationRegionArray[GetForLoopIndexA()]))
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_SetupFormations takes nothing returns nothing
    set gg_trg_SetupFormations=CreateTrigger()
    call TriggerAddAction(gg_trg_SetupFormations, function Trig_SetupFormations_Actions)
endfunction

//===========================================================================
// Trigger: SetupCaravan
//===========================================================================
function Trig_SetupCaravan_Actions takes nothing returns nothing
    // Configure the caravan player
    call SetPlayerColorBJ(Player(4), PLAYER_COLOR_ORANGE, true)
    call SetPlayerTechResearchedSwap('Rupc', 1, Player(4))
    // Configure the Caravan Units Array
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=udg_FormationTotal
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        set udg_CaravanUnitArray[GetForLoopIndexA()]=GroupPickRandomUnit(GetUnitsInRectOfPlayer(udg_FormationRegionArray[GetForLoopIndexA()], Player(4)))
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    // Reorient the formation
    set udg_zReorientTarget=udg_zBreadcrumbArray[udg_BreadcrumbCurrent]
    set udg_ReorientAngle=udg_BreadcrumbAngleArray[udg_BreadcrumbCurrent]
    call ConditionalTriggerExecute(gg_trg_Reorient_Formation)
    // Configure each caravan unit
    set bj_forLoopAIndex=udg_CaravanWagonFirst
    set bj_forLoopAIndexEnd=udg_CaravanWagonLast
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call ConditionalTriggerExecute(gg_trg_SetupCaravan_Single_Wagon)
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    set bj_forLoopAIndex=udg_CaravanGuardFirst
    set bj_forLoopAIndexEnd=udg_CaravanGuardLast
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call ConditionalTriggerExecute(gg_trg_SetupCaravan_Single_Guard)
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    // Start the region testing timer
    call StartTimerBJ(udg_CaravanTestPulse, true, 0.20)
    call StartTimerBJ(udg_CaravanOrderPulse, true, 3.00)
    call StartTimerBJ(udg_CaravanCorruptionPulse, true, 1.00)
endfunction

//===========================================================================
function InitTrig_SetupCaravan takes nothing returns nothing
    set gg_trg_SetupCaravan=CreateTrigger()
    call TriggerAddAction(gg_trg_SetupCaravan, function Trig_SetupCaravan_Actions)
endfunction

//===========================================================================
// Trigger: SetupCaravan Single Wagon
//===========================================================================
function Trig_SetupCaravan_Single_Wagon_Actions takes nothing returns nothing
    call ShowUnitHide(udg_CaravanUnitArray[GetForLoopIndexA()])
    call SetUnitMoveSpeed(udg_CaravanUnitArray[GetForLoopIndexA()], udg_SpeedOfWagons)
    call SetUnitPositionLocFacingBJ(udg_CaravanUnitArray[GetForLoopIndexA()], GetRectCenter(udg_FormationRegionArray[GetForLoopIndexA()]), udg_ReorientAngle)
    call GroupAddUnitSimple(udg_CaravanUnitArray[GetForLoopIndexA()], udg_TheCaravanWagons)
endfunction

//===========================================================================
function InitTrig_SetupCaravan_Single_Wagon takes nothing returns nothing
    set gg_trg_SetupCaravan_Single_Wagon=CreateTrigger()
    call TriggerAddAction(gg_trg_SetupCaravan_Single_Wagon, function Trig_SetupCaravan_Single_Wagon_Actions)
endfunction

//===========================================================================
// Trigger: SetupCaravan Single Guard
//===========================================================================
function Trig_SetupCaravan_Single_Guard_Actions takes nothing returns nothing
    call ShowUnitHide(udg_CaravanUnitArray[GetForLoopIndexA()])
    call SetUnitMoveSpeed(udg_CaravanUnitArray[GetForLoopIndexA()], udg_SpeedOfGuards)
    call SetUnitPositionLocFacingBJ(udg_CaravanUnitArray[GetForLoopIndexA()], GetRectCenter(udg_FormationRegionArray[GetForLoopIndexA()]), udg_ReorientAngle)
    call GroupAddUnitSimple(udg_CaravanUnitArray[GetForLoopIndexA()], udg_TheCaravanGuards)
endfunction

//===========================================================================
function InitTrig_SetupCaravan_Single_Guard takes nothing returns nothing
    set gg_trg_SetupCaravan_Single_Guard=CreateTrigger()
    call TriggerAddAction(gg_trg_SetupCaravan_Single_Guard, function Trig_SetupCaravan_Single_Guard_Actions)
endfunction

//===========================================================================
// Trigger: SetupHerathglenVillagers
//===========================================================================
function Trig_SetupHerathglenVillagers_Func001002 takes nothing returns nothing
    call GroupAddUnitSimple(GetEnumUnit(), udg_RoamingVillagersA)
endfunction

function Trig_SetupHerathglenVillagers_Func002002 takes nothing returns nothing
    call GroupAddUnitSimple(GetEnumUnit(), udg_RoamingVillagersB)
endfunction

function Trig_SetupHerathglenVillagers_Func003002 takes nothing returns nothing
    call GroupAddUnitSimple(GetEnumUnit(), udg_RoamingVillagersC)
endfunction

function Trig_SetupHerathglenVillagers_Func004002 takes nothing returns nothing
    call GroupAddUnitSimple(GetEnumUnit(), udg_RoamingVillagersD)
endfunction

function Trig_SetupHerathglenVillagers_Func005002 takes nothing returns nothing
    call GroupAddUnitSimple(GetEnumUnit(), udg_RoamingVillagersE)
endfunction

function Trig_SetupHerathglenVillagers_Func006002 takes nothing returns nothing
    call GroupAddUnitSimple(GetEnumUnit(), udg_RoamingVillagersF)
endfunction

function Trig_SetupHerathglenVillagers_Actions takes nothing returns nothing
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_02_Roaming_Villager_A), function Trig_SetupHerathglenVillagers_Func001002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_02_Roaming_Villager_B), function Trig_SetupHerathglenVillagers_Func002002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_02_Roaming_Villager_C), function Trig_SetupHerathglenVillagers_Func003002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_02_Roaming_Villager_D), function Trig_SetupHerathglenVillagers_Func004002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_02_Roaming_Villager_E), function Trig_SetupHerathglenVillagers_Func005002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_02_Roaming_Villager_F), function Trig_SetupHerathglenVillagers_Func006002)
endfunction

//===========================================================================
function InitTrig_SetupHerathglenVillagers takes nothing returns nothing
    set gg_trg_SetupHerathglenVillagers=CreateTrigger()
    call TriggerAddAction(gg_trg_SetupHerathglenVillagers, function Trig_SetupHerathglenVillagers_Actions)
endfunction

//===========================================================================
// Trigger: SetupPlayers
//
// The AI alliance settings
//===========================================================================
function Trig_SetupPlayers_Actions takes nothing returns nothing
    // Setup Starting Forces
    set udg_Sergeant=gg_unit_hfoo_0118
    set udg_Footman1=gg_unit_hA00_0024
    set udg_Footman2=gg_unit_hA00_0025
    set udg_Priest1=gg_unit_hmpr_0028
    set udg_Rifleman1=gg_unit_hrif_0026
    call SetUnitManaBJ(udg_Priest1, GetUnitStateSwap(UNIT_STATE_MAX_MANA, gg_unit_hmpr_0028))
    call GroupAddUnitSimple(gg_unit_hfoo_0023, udg_Militia)
    call GroupAddUnitSimple(gg_unit_hfoo_0027, udg_Militia)
    call GroupAddUnitSimple(gg_unit_hfoo_0076, udg_Militia)
    call GroupAddUnitSimple(gg_unit_hfoo_0091, udg_Militia)
    call GroupAddUnitSimple(gg_unit_hfoo_0077, udg_Militia)
    call GroupAddUnitSimple(gg_unit_hfoo_0168, udg_Militia)
    call GroupAddUnitSimple(gg_unit_hrif_0078, udg_Militia)
    call GroupAddUnitSimple(gg_unit_hrif_0116, udg_Militia)
    // -----------
    call SetPlayerAllianceBJ(Player(2), ALLIANCE_PASSIVE, true, Player(1))
    call SetPlayerAllianceBJ(Player(2), ALLIANCE_PASSIVE, true, Player(11))
    call SetPlayerAllianceBJ(Player(2), ALLIANCE_SHARED_VISION, true, Player(1))
    // ----------
    call SetPlayerAllianceBJ(Player(11), ALLIANCE_PASSIVE, true, Player(1))
    call SetPlayerAllianceBJ(Player(11), ALLIANCE_PASSIVE, true, Player(2))
    // ----------
    call SetPlayerAllianceBJ(Player(1), ALLIANCE_PASSIVE, true, Player(11))
    call SetPlayerAllianceBJ(Player(1), ALLIANCE_PASSIVE, true, Player(2))
    // Hearthglen Reveal
    call CreateFogModifierRectBJ(true, Player(1), FOG_OF_WAR_VISIBLE, gg_rct_02_Vis_Hearthglen_A)
    call FogModifierStop(GetLastCreatedFogModifier())
    call CreateFogModifierRectBJ(true, Player(1), FOG_OF_WAR_VISIBLE, gg_rct_02_Vis_Hearthglen_B)
    call FogModifierStop(GetLastCreatedFogModifier())
    call CreateFogModifierRectBJ(true, Player(1), FOG_OF_WAR_VISIBLE, gg_rct_02_Vis_Hearthglen_C)
    call FogModifierStop(GetLastCreatedFogModifier())
    call CreateFogModifierRectBJ(true, Player(1), FOG_OF_WAR_VISIBLE, gg_rct_02_Vis_Hearthglen_D)
    call FogModifierStop(GetLastCreatedFogModifier())
    call CreateFogModifierRectBJ(true, Player(1), FOG_OF_WAR_VISIBLE, gg_rct_02_Vis_Hearthglen_E)
    call FogModifierStop(GetLastCreatedFogModifier())
    // ----------
    call SetPlayerAllianceBJ(Player(6), ALLIANCE_PASSIVE, true, Player(11))
    call SetPlayerAllianceBJ(Player(6), ALLIANCE_PASSIVE, true, Player(PLAYER_NEUTRAL_AGGRESSIVE))
    // -
    call SetPlayerStateBJ(Player(6), PLAYER_STATE_RESOURCE_LUMBER, 5000)
    call SetPlayerStateBJ(Player(6), PLAYER_STATE_RESOURCE_GOLD, 5000)
    // ----------
    call SetPlayerAllianceBJ(Player(5), ALLIANCE_PASSIVE, true, Player(11))
    call SetPlayerAllianceBJ(Player(5), ALLIANCE_PASSIVE, true, Player(PLAYER_NEUTRAL_AGGRESSIVE))
    // ----------
    call SetPlayerAllianceBJ(Player(4), ALLIANCE_PASSIVE, true, Player(11))
    call SetPlayerAllianceBJ(Player(4), ALLIANCE_PASSIVE, true, Player(PLAYER_NEUTRAL_AGGRESSIVE))
    // ----------
    call SetPlayerAllianceBJ(Player(3), ALLIANCE_PASSIVE, true, Player(11))
    call SetPlayerAllianceBJ(Player(3), ALLIANCE_PASSIVE, true, Player(PLAYER_NEUTRAL_AGGRESSIVE))
    // -
    call SetPlayerStateBJ(Player(3), PLAYER_STATE_RESOURCE_LUMBER, 5000)
    call SetPlayerStateBJ(Player(3), PLAYER_STATE_RESOURCE_GOLD, 5000)
    // ----------
    call SetPlayerAllianceBJ(Player(PLAYER_NEUTRAL_AGGRESSIVE), ALLIANCE_PASSIVE, true, Player(11))
    call SetPlayerAllianceBJ(Player(PLAYER_NEUTRAL_AGGRESSIVE), ALLIANCE_PASSIVE, true, Player(6))
    call SetPlayerAllianceBJ(Player(PLAYER_NEUTRAL_AGGRESSIVE), ALLIANCE_PASSIVE, true, Player(5))
    call SetPlayerAllianceBJ(Player(PLAYER_NEUTRAL_AGGRESSIVE), ALLIANCE_PASSIVE, true, Player(4))
    call SetPlayerAllianceBJ(Player(PLAYER_NEUTRAL_AGGRESSIVE), ALLIANCE_PASSIVE, true, Player(3))
    // Remove from Score Screen
    call SetPlayerOnScoreScreenBJ(false, Player(0))
    call SetPlayerOnScoreScreenBJ(false, Player(4))
    call SetPlayerOnScoreScreenBJ(false, Player(5))
    call SetPlayerOnScoreScreenBJ(false, Player(8))
    call SetPlayerOnScoreScreenBJ(false, Player(9))
    call SetPlayerOnScoreScreenBJ(false, Player(11))
endfunction

//===========================================================================
function InitTrig_SetupPlayers takes nothing returns nothing
    set gg_trg_SetupPlayers=CreateTrigger()
    call TriggerAddAction(gg_trg_SetupPlayers, function Trig_SetupPlayers_Actions)
endfunction

//===========================================================================
// Trigger: Setup Sounds
//===========================================================================
function Trig_Setup_Sounds_Actions takes nothing returns nothing
    // ----------
    call SetStackedSoundBJ(true, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop01)
    call SetStackedSoundBJ(true, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop02)
    call SetStackedSoundBJ(true, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop03)
    call SetStackedSoundBJ(true, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop04)
    call SetStackedSoundBJ(true, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop05)
    call SetStackedSoundBJ(true, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop06)
    call SetStackedSoundBJ(true, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop07)
    call SetStackedSoundBJ(true, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop08)
endfunction

//===========================================================================
function InitTrig_Setup_Sounds takes nothing returns nothing
    set gg_trg_Setup_Sounds=CreateTrigger()
    call TriggerAddAction(gg_trg_Setup_Sounds, function Trig_Setup_Sounds_Actions)
endfunction

//===========================================================================
// Trigger: SetupQuest
//===========================================================================
function Trig_SetupQuest_Actions takes nothing returns nothing
    call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED, "TRIGSTR_020", "TRIGSTR_021", "ReplaceableTextures\\CommandButtons\\BTNDefend.tga")
    set udg_HearthglenQuest=GetLastCreatedQuestBJ()
    call CreateQuestItemBJ(GetLastCreatedQuestBJ(), "TRIGSTR_057")
    // ----------
    call CreateQuestBJ(bj_QUESTTYPE_OPT_UNDISCOVERED, "TRIGSTR_081", "TRIGSTR_084", "ReplaceableTextures\\CommandButtons\\BTNDarkSummoning.tga")
    set udg_GrainCaravanQuest=GetLastCreatedQuestBJ()
    call CreateQuestItemBJ(GetLastCreatedQuestBJ(), "TRIGSTR_060")
    set udg_REQCaravanquest=GetLastCreatedQuestItemBJ()
    // ----------
    call AddSpecialEffectTargetUnitBJ("overhead", gg_unit_nvil_0080, "Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
    set udg_Farm05Quest=GetLastCreatedEffectBJ()
endfunction

//===========================================================================
function InitTrig_SetupQuest takes nothing returns nothing
    set gg_trg_SetupQuest=CreateTrigger()
    call TriggerAddAction(gg_trg_SetupQuest, function Trig_SetupQuest_Actions)
endfunction

//===========================================================================
// Trigger: Difficulty Easy
//===========================================================================
function Trig_Difficulty_Easy_Conditions takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_EASY ) ) then
        return false
    endif
    return true
endfunction

function Trig_Difficulty_Easy_Actions takes nothing returns nothing
    call CreateNUnitsAtLoc(1, 'unec', Player(4), GetRectCenter(gg_rct_Formation_06), 0.00)
    call CreateNUnitsAtLoc(1, 'unec', Player(4), GetRectCenter(gg_rct_Formation_07), 0.00)
    call CreateNUnitsAtLoc(1, 'ugho', Player(4), GetRectCenter(gg_rct_Formation_08), 0.00)
    call CreateNUnitsAtLoc(1, 'ugho', Player(4), GetRectCenter(gg_rct_Formation_09), 0.00)
    call CreateNUnitsAtLoc(1, 'ugho', Player(4), GetRectCenter(gg_rct_Formation_10), 0.00)
    call CreateNUnitsAtLoc(1, 'ugho', Player(4), GetRectCenter(gg_rct_Formation_11), 0.00)
    // handicap
    call SetPlayerHandicapBJ(Player(3), bj_HANDICAP_EASY)
    call SetPlayerHandicapBJ(Player(4), bj_HANDICAP_EASY)
    call SetPlayerHandicapBJ(Player(5), bj_HANDICAP_EASY)
    call SetPlayerHandicapBJ(Player(6), bj_HANDICAP_EASY)
    call SetPlayerHandicapBJ(Player(PLAYER_NEUTRAL_AGGRESSIVE), bj_HANDICAP_EASY)
endfunction

//===========================================================================
function InitTrig_Difficulty_Easy takes nothing returns nothing
    set gg_trg_Difficulty_Easy=CreateTrigger()
    call TriggerAddCondition(gg_trg_Difficulty_Easy, Condition(function Trig_Difficulty_Easy_Conditions))
    call TriggerAddAction(gg_trg_Difficulty_Easy, function Trig_Difficulty_Easy_Actions)
endfunction

//===========================================================================
// Trigger: Difficulty Normal
//===========================================================================
function Trig_Difficulty_Normal_Conditions takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_NORMAL ) ) then
        return false
    endif
    return true
endfunction

function Trig_Difficulty_Normal_Actions takes nothing returns nothing
    call CreateNUnitsAtLoc(1, 'unec', Player(4), GetRectCenter(gg_rct_Formation_06), 0.00)
    call CreateNUnitsAtLoc(1, 'unec', Player(4), GetRectCenter(gg_rct_Formation_07), 0.00)
    call CreateNUnitsAtLoc(1, 'ugho', Player(4), GetRectCenter(gg_rct_Formation_08), 0.00)
    call CreateNUnitsAtLoc(1, 'ugho', Player(4), GetRectCenter(gg_rct_Formation_09), 0.00)
    call CreateNUnitsAtLoc(1, 'ugho', Player(4), GetRectCenter(gg_rct_Formation_10), 0.00)
    call CreateNUnitsAtLoc(1, 'ugho', Player(4), GetRectCenter(gg_rct_Formation_11), 0.00)
    call CreateNUnitsAtLoc(1, 'ugho', Player(4), GetRectCenter(gg_rct_Formation_12), 0.00)
    call CreateNUnitsAtLoc(1, 'ugho', Player(4), GetRectCenter(gg_rct_Formation_13), 0.00)
endfunction

//===========================================================================
function InitTrig_Difficulty_Normal takes nothing returns nothing
    set gg_trg_Difficulty_Normal=CreateTrigger()
    call TriggerAddCondition(gg_trg_Difficulty_Normal, Condition(function Trig_Difficulty_Normal_Conditions))
    call TriggerAddAction(gg_trg_Difficulty_Normal, function Trig_Difficulty_Normal_Actions)
endfunction

//===========================================================================
// Trigger: Difficulty Hard
//===========================================================================
function Trig_Difficulty_Hard_Conditions takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_HARD ) ) then
        return false
    endif
    return true
endfunction

function Trig_Difficulty_Hard_Func010001 takes nothing returns boolean
    return ( GetGameDifficulty() == MAP_DIFFICULTY_HARD )
endfunction

function Trig_Difficulty_Hard_Func011001 takes nothing returns boolean
    return ( GetGameDifficulty() == MAP_DIFFICULTY_HARD )
endfunction

function Trig_Difficulty_Hard_Func012001 takes nothing returns boolean
    return ( GetGameDifficulty() == MAP_DIFFICULTY_HARD )
endfunction

function Trig_Difficulty_Hard_Func013001 takes nothing returns boolean
    return ( GetGameDifficulty() == MAP_DIFFICULTY_HARD )
endfunction

function Trig_Difficulty_Hard_Func015001 takes nothing returns boolean
    return ( GetGameDifficulty() == MAP_DIFFICULTY_HARD )
endfunction

function Trig_Difficulty_Hard_Func016001 takes nothing returns boolean
    return ( GetGameDifficulty() == MAP_DIFFICULTY_HARD )
endfunction

function Trig_Difficulty_Hard_Actions takes nothing returns nothing
    call CreateNUnitsAtLoc(1, 'unec', Player(4), GetRectCenter(gg_rct_Formation_06), 0.00)
    call CreateNUnitsAtLoc(1, 'unec', Player(4), GetRectCenter(gg_rct_Formation_07), 0.00)
    call CreateNUnitsAtLoc(1, 'uabo', Player(4), GetRectCenter(gg_rct_Formation_08), 0.00)
    call CreateNUnitsAtLoc(1, 'uabo', Player(4), GetRectCenter(gg_rct_Formation_09), 0.00)
    call CreateNUnitsAtLoc(1, 'uabo', Player(4), GetRectCenter(gg_rct_Formation_10), 0.00)
    call CreateNUnitsAtLoc(1, 'uabo', Player(4), GetRectCenter(gg_rct_Formation_11), 0.00)
    call CreateNUnitsAtLoc(1, 'ugho', Player(4), GetRectCenter(gg_rct_Formation_12), 0.00)
    call CreateNUnitsAtLoc(1, 'ugho', Player(4), GetRectCenter(gg_rct_Formation_13), 0.00)
    // Units - Difficult Level
    if ( Trig_Difficulty_Hard_Func010001() ) then
        call CreateNUnitsAtLoc(1, 'unec', Player(3), GetRectCenter(gg_rct_AI_Difficulty_Unit_01), 270.00)
    else
        call DoNothing()
    endif
    if ( Trig_Difficulty_Hard_Func011001() ) then
        call CreateNUnitsAtLoc(1, 'ugho', Player(3), GetRectCenter(gg_rct_AI_Difficulty_Unit_02), 270.00)
    else
        call DoNothing()
    endif
    if ( Trig_Difficulty_Hard_Func012001() ) then
        call CreateNUnitsAtLoc(1, 'ugho', Player(3), GetRectCenter(gg_rct_AI_Difficulty_Unit_03), 270.00)
    else
        call DoNothing()
    endif
    if ( Trig_Difficulty_Hard_Func013001() ) then
        call CreateNUnitsAtLoc(1, 'ugho', Player(3), GetRectCenter(gg_rct_AI_Difficulty_Unit_04), 270.00)
    else
        call DoNothing()
    endif
    // Buildings - Difficult Level
    if ( Trig_Difficulty_Hard_Func015001() ) then
        call CreateNUnitsAtLoc(1, 'uzg1', Player(3), GetRectCenter(gg_rct_AI_Difficulty_Building_01), 270.00)
    else
        call DoNothing()
    endif
    if ( Trig_Difficulty_Hard_Func016001() ) then
        call CreateNUnitsAtLoc(1, 'uzg1', Player(3), GetRectCenter(gg_rct_AI_Difficulty_Building_02), 270.00)
    else
        call DoNothing()
    endif
endfunction

//===========================================================================
function InitTrig_Difficulty_Hard takes nothing returns nothing
    set gg_trg_Difficulty_Hard=CreateTrigger()
    call TriggerAddCondition(gg_trg_Difficulty_Hard, Condition(function Trig_Difficulty_Hard_Conditions))
    call TriggerAddAction(gg_trg_Difficulty_Hard, function Trig_Difficulty_Hard_Actions)
endfunction

//===========================================================================
// Trigger: Remove AI Units
//===========================================================================
function Trig_Remove_AI_Units_Func001002 takes nothing returns nothing
    call RemoveUnit(GetEnumUnit())
endfunction

function Trig_Remove_AI_Units_Actions takes nothing returns nothing
    call ForGroupBJ(GetUnitsOfPlayerAll(Player(5)), function Trig_Remove_AI_Units_Func001002)
endfunction

//===========================================================================
function InitTrig_Remove_AI_Units takes nothing returns nothing
    set gg_trg_Remove_AI_Units=CreateTrigger()
    call TriggerAddAction(gg_trg_Remove_AI_Units, function Trig_Remove_AI_Units_Actions)
endfunction

//===========================================================================
// Trigger: Intro Cancelled
//
// This Trigger fires if the intro cinematic has been skipped!
//===========================================================================
function Trig_Intro_Cancelled_Func059001002 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == Player(8) )
endfunction

function Trig_Intro_Cancelled_Func059002 takes nothing returns nothing
    call SetUnitOwner(GetEnumUnit(), Player(1), true)
endfunction

function Trig_Intro_Cancelled_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    set udg_IntroCancelled=true
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT, 0.50, "ReplaceableTextures\\CameraMasks\\White_mask.blp", 0, 0, 0, 0)
    call TriggerSleepAction(0.60)
    call ShowUnitHide(udg_Jaina)
    call SetUnitOwner(udg_Jaina, Player(PLAYER_NEUTRAL_PASSIVE), false)
    call SetUnitOwner(udg_Jaina, Player(9), false)
    call CinematicModeBJ(false, GetPlayersAll())
    call ResetToGameCameraForPlayer(Player(1), 0.00)
    call CameraSetupApplyForPlayer(true, gg_cam_Starting_Cienmatic_Cancel, Player(1), 0)
    call SetSkyModel(null)
    call ResetTerrainFogBJ()
    // ------Move Corrupted Villagers-----
    call SetUnitPositionLoc(gg_unit_nvil_0088, GetRectCenter(gg_rct_Conversion_01))
    call SetUnitPositionLoc(gg_unit_nvil_0089, GetRectCenter(gg_rct_Conversion_02))
    call SetUnitPositionLoc(gg_unit_nvil_0133, GetRectCenter(gg_rct_Conversion_06))
    // ----------
    set udg_CorruptVillager01=GetUnitLoc(gg_unit_nvil_0088)
    call RemoveUnit(gg_unit_nvil_0088)
    call CreateNUnitsAtLoc(1, 'nzom', Player(5), udg_CorruptVillager01, 0.00)
    call GroupAddUnitSimple(GetLastCreatedUnit(), udg_CorruptVillagerGroup1)
    call IssueTargetOrderBJ(GetLastCreatedUnit(), "attack", gg_unit_hfoo_0027)
    // ----------
    set udg_CorruptVillager02=GetUnitLoc(gg_unit_nvil_0089)
    call RemoveUnit(gg_unit_nvil_0089)
    call CreateNUnitsAtLoc(1, 'nzom', Player(5), udg_CorruptVillager02, 0.00)
    call GroupAddUnitSimple(GetLastCreatedUnit(), udg_CorruptVillagerGroup1)
    call IssueTargetOrderBJ(GetLastCreatedUnit(), "attack", gg_unit_hfoo_0023)
    // ----------
    set udg_CorruptVillager03=GetUnitLoc(gg_unit_nvil_0102)
    call RemoveUnit(gg_unit_nvil_0102)
    call CreateNUnitsAtLoc(1, 'nzom', Player(5), udg_CorruptVillager03, 0.00)
    call GroupAddUnitSimple(GetLastCreatedUnit(), udg_CorruptVillagerGroup1)
    call IssueTargetOrderBJ(GetLastCreatedUnit(), "attack", gg_unit_hfoo_0091)
    // ----------
    set udg_CorruptVillager04=GetUnitLoc(gg_unit_nvil_0103)
    call RemoveUnit(gg_unit_nvil_0103)
    call CreateNUnitsAtLoc(1, 'nzom', Player(5), udg_CorruptVillager04, 0.00)
    call GroupAddUnitSimple(GetLastCreatedUnit(), udg_CorruptVillagerGroup1)
    // ----------
    set udg_CorruptVillager05=GetUnitLoc(gg_unit_nvil_0132)
    call RemoveUnit(gg_unit_nvil_0132)
    call CreateNUnitsAtLoc(1, 'nzom', Player(5), udg_CorruptVillager05, 0.00)
    call GroupAddUnitSimple(GetLastCreatedUnit(), udg_CorruptVillagerGroup1)
    // ----------
    set udg_CorruptVillager06=GetUnitLoc(gg_unit_nvil_0133)
    call RemoveUnit(gg_unit_nvil_0133)
    call CreateNUnitsAtLoc(1, 'nzom', Player(5), udg_CorruptVillager06, 0.00)
    call GroupAddUnitSimple(GetLastCreatedUnit(), udg_CorruptVillagerGroup1)
    call IssueTargetOrderBJ(GetLastCreatedUnit(), "attack", gg_unit_hfoo_0077)
    // ----------
    set udg_CorruptVillager07=GetUnitLoc(gg_unit_nvil_0134)
    call RemoveUnit(gg_unit_nvil_0134)
    call CreateNUnitsAtLoc(1, 'nzom', Player(5), udg_CorruptVillager07, 0.00)
    call GroupAddUnitSimple(GetLastCreatedUnit(), udg_CorruptVillagerGroup1)
    call IssueTargetOrderBJ(GetLastCreatedUnit(), "attack", gg_unit_hrif_0116)
    // ----------
    call ForGroupBJ(GetUnitsInRectMatching(GetEntireMapRect(), Condition(function Trig_Intro_Cancelled_Func059001002)), function Trig_Intro_Cancelled_Func059002)
    call TriggerSleepAction(0.40)
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEIN, 0.50, "ReplaceableTextures\\CameraMasks\\White_mask.blp", 0, 0, 0, 0)
    call UseTimeOfDayBJ(true)
    call SelectUnitSingle(udg_Arthas)
    // ----------
    call ResetUnitLookAt(udg_Arthas)
    call SetUnitPositionLoc(udg_Arthas, GetRectCenter(gg_rct_01Arthas_C))
    call SetUnitPositionLoc(udg_Sergeant, GetRectCenter(gg_rct_01Sergeant_C))
    call SetUnitPositionLoc(udg_Footman1, GetRectCenter(gg_rct_01Town_Footman_1_C))
    call SetUnitPositionLoc(udg_Footman2, GetRectCenter(gg_rct_01Town_Footman_2_C))
    call SetUnitPositionLoc(udg_Rifleman1, GetRectCenter(gg_rct_01Town_Rifleman_C))
    call SetUnitPositionLoc(udg_Priest1, GetRectCenter(gg_rct_01Town_Priest_C))
    // -----Start Mission-----
    call ConditionalTriggerExecute(gg_trg_Mission_Begins)
    // -----Stop Militia------
    call StopSoundBJ(GetLastPlayedSound(), false)
    set udg_MilitiaStop=true
    // -----Remove Villagers-----
    call TriggerExecute(gg_trg_01Villager_Retreat_A)
    call TriggerExecute(gg_trg_01Villager_Retreat_B)
    call TriggerExecute(gg_trg_02Villager_Retreat_A)
    call TriggerExecute(gg_trg_03Villager_Retreat_A)
    call TriggerExecute(gg_trg_04Villager_Retreat_A)
    call TriggerExecute(gg_trg_05Villager_Retreat_A)
    call TriggerExecute(gg_trg_06Villager_Retreat_A)
    call TriggerExecute(gg_trg_06Villager_Retreat_B)
endfunction

//===========================================================================
function InitTrig_Intro_Cancelled takes nothing returns nothing
    set gg_trg_Intro_Cancelled=CreateTrigger()
    call DisableTrigger(gg_trg_Intro_Cancelled)
    call TriggerRegisterPlayerEventEndCinematic(gg_trg_Intro_Cancelled, Player(1))
    call TriggerAddAction(gg_trg_Intro_Cancelled, function Trig_Intro_Cancelled_Actions)
endfunction

//===========================================================================
// Trigger: Cinematic A
//
// STARTING SEQUENCE OF EVENTS (CINEMATIC - A)
//===========================================================================
function Trig_Cinematic_A_Func027001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Cinematic_A_Func031001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Cinematic_A_Func038001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Cinematic_A_Actions takes nothing returns nothing
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT, 0.00, "ReplaceableTextures\\CameraMasks\\White_mask.blp", 0, 0, 0, 0)
    call CameraSetSmoothingFactorBJ(0.00)
    call CameraSetupApplyForPlayer(true, gg_cam_Starting_Cinematic_01, Player(1), 0.00)
    call CinematicModeBJ(true, GetPlayersAll())
    // ----------
    call SetTimeOfDay(4.00)
    call UseTimeOfDayBJ(false)
    call SetSkyModel("Environment\\Sky\\Sky\\SkyLight.mdl")
    call SetTerrainFogExBJ(0, 900.00, 4500.00, 0, 0.00, 40.00, 60.00)
    // ----------
    call ClearMapMusicBJ()
    call TriggerSleepAction(0.10)
    call PlayThematicMusicBJ("Sound\\Music\\mp3Music\\Comradeship.mp3")
    call SetMapMusicIndexedBJ("music", 1)
    // ----------
    call IssuePointOrderLocBJ(udg_Jaina, "move", GetRectCenter(gg_rct_01Jaina_A))
    call TriggerSleepAction(0.10)
    call IssuePointOrderLocBJ(udg_Arthas, "move", GetRectCenter(gg_rct_01Arthas_A))
    // Cinematic Can Now Be Skipped
    call EnableTrigger(gg_trg_Intro_Cancelled)
    // -----Enable Cancel-----
    call ConditionalTriggerExecute(gg_trg_Militia_Line_A)
    call ConditionalTriggerExecute(gg_trg_Militia_Line_B)
    call ConditionalTriggerExecute(gg_trg_Militia_Line_C)
    // ----------
    call TriggerSleepAction(0.20)
    if ( Trig_Cinematic_A_Func027001() ) then
        return
    else
        call DoNothing()
    endif
    call IssuePointOrderLocBJ(udg_Footman1, "move", GetRectCenter(gg_rct_01Town_Footman_1_A))
    call IssuePointOrderLocBJ(udg_Footman2, "move", GetRectCenter(gg_rct_01Town_Footman_2_A))
    call TriggerSleepAction(0.20)
    if ( Trig_Cinematic_A_Func031001() ) then
        return
    else
        call DoNothing()
    endif
    call IssuePointOrderLocBJ(udg_Rifleman1, "move", GetRectCenter(gg_rct_01Town_Rifleman_A))
    call IssuePointOrderLocBJ(udg_Priest1, "move", GetRectCenter(gg_rct_01Town_Priest_A))
    // ----------
    call CameraSetupApplyForPlayer(true, gg_cam_Starting_Cinematic_01, Player(1), 0.00)
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEIN, 2.00, "ReplaceableTextures\\CameraMasks\\White_mask.blp", 0, 0, 0, 0)
    call TriggerSleepAction(0.50)
    if ( Trig_Cinematic_A_Func038001() ) then
        return
    else
        call DoNothing()
    endif
    call CameraSetupApplyForPlayer(true, gg_cam_Starting_Cinematic_02, Player(1), 5.00)
endfunction

//===========================================================================
function InitTrig_Cinematic_A takes nothing returns nothing
    set gg_trg_Cinematic_A=CreateTrigger()
    call TriggerAddAction(gg_trg_Cinematic_A, function Trig_Cinematic_A_Actions)
endfunction

//===========================================================================
// Trigger: Cinematic B
//
// Arthas enters region (CINEMATIC - B)
//===========================================================================
function Trig_Cinematic_B_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Jaina ) ) then
        return false
    endif
    if ( not ( udg_IntroCancelled == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cinematic_B_Func004001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Cinematic_B_Func009001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Cinematic_B_Func013001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Cinematic_B_Func017001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Cinematic_B_Func027001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Cinematic_B_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call CameraSetupApplyForPlayer(true, gg_cam_Starting_Cinematic_03, Player(1), 0.00)
    call TriggerSleepAction(1.00)
    if ( Trig_Cinematic_B_Func004001() ) then
        return
    else
        call DoNothing()
    endif
    // --------------------------------------------------------------------------------------------------------------------------
    call SetUnitFacingToFaceUnitTimed(udg_Jaina, udg_Arthas, 0.25)
    call SetUnitAnimation(udg_Arthas, "stand")
    call TransmissionFromUnitWithNameBJ(GetPlayersAll(), udg_Jaina, "TRIGSTR_001", gg_snd_H05Jaina01, "TRIGSTR_002", bj_TIMETYPE_ADD, 0.00, true)
    if ( Trig_Cinematic_B_Func009001() ) then
        return
    else
        call DoNothing()
    endif
    call CameraSetupApplyForPlayer(true, gg_cam_Starting_Cinematic_04, Player(1), 0.00)
    call SetUnitLookAt(udg_Arthas, "bone_head", udg_Jaina, 0.00, 0.00, 90.00)
    call TransmissionFromUnitWithNameBJ(GetPlayersAll(), udg_Arthas, "TRIGSTR_003", gg_snd_H05Arthas02, "TRIGSTR_007", bj_TIMETYPE_ADD, 0.00, true)
    if ( Trig_Cinematic_B_Func013001() ) then
        return
    else
        call DoNothing()
    endif
    call ResetUnitLookAt(udg_Arthas)
    call ResetUnitAnimation(udg_Arthas)
    call TriggerSleepAction(1.00)
    if ( Trig_Cinematic_B_Func017001() ) then
        return
    else
        call DoNothing()
    endif
    // --------------------------------------------------------------------------------------------------------------------------
    call IssuePointOrderLocBJ(udg_Arthas, "move", GetRectCenter(gg_rct_01Arthas_B))
    call IssuePointOrderLocBJ(udg_Jaina, "move", GetRectCenter(gg_rct_01Jaina_B))
    call IssuePointOrderLocBJ(udg_Footman1, "move", GetRectCenter(gg_rct_01Town_Footman_1_B))
    call IssuePointOrderLocBJ(udg_Footman2, "move", GetRectCenter(gg_rct_01Town_Footman_2_B))
    call IssuePointOrderLocBJ(udg_Rifleman1, "move", GetRectCenter(gg_rct_01Town_Rifleman_B))
    call IssuePointOrderLocBJ(udg_Priest1, "move", GetRectCenter(gg_rct_01Town_Priest_B))
    call CameraSetupApplyForPlayer(true, gg_cam_Starting_Cinematic_05, Player(1), 0.00)
    call TriggerSleepAction(3.00)
    if ( Trig_Cinematic_B_Func027001() ) then
        return
    else
        call DoNothing()
    endif
    call CameraSetupApplyForPlayer(true, gg_cam_Starting_Cinematic_06, Player(1), 0.00)
endfunction

//===========================================================================
function InitTrig_Cinematic_B takes nothing returns nothing
    set gg_trg_Cinematic_B=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_Cinematic_B, gg_rct_01Jaina_A)
    call TriggerAddCondition(gg_trg_Cinematic_B, Condition(function Trig_Cinematic_B_Conditions))
    call TriggerAddAction(gg_trg_Cinematic_B, function Trig_Cinematic_B_Actions)
endfunction

//===========================================================================
// Trigger: Sergeant Move
//===========================================================================
function Trig_Sergeant_Move_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Arthas ) ) then
        return false
    endif
    if ( not ( udg_IntroCancelled == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Sergeant_Move_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ(udg_Sergeant, "move", GetRectCenter(gg_rct_01Sergeant_A))
    call SetUnitFacingToFaceUnitTimed(udg_Jaina, udg_Sergeant, 0.25)
    call DisableTrigger(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_Sergeant_Move takes nothing returns nothing
    set gg_trg_Sergeant_Move=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_Sergeant_Move, gg_rct_01Arthas_B)
    call TriggerAddCondition(gg_trg_Sergeant_Move, Condition(function Trig_Sergeant_Move_Conditions))
    call TriggerAddAction(gg_trg_Sergeant_Move, function Trig_Sergeant_Move_Actions)
endfunction

//===========================================================================
// Trigger: Cinematic C
//
// Sergeant enters region (CINEMATIC - C)
//===========================================================================
function Trig_Cinematic_C_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Sergeant ) ) then
        return false
    endif
    if ( not ( udg_IntroCancelled == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cinematic_C_Func005001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Cinematic_C_Func011001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Cinematic_C_Func013001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Cinematic_C_Func015001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Cinematic_C_Func032001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Cinematic_C_Func034001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Cinematic_C_Func036001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Cinematic_C_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call IssuePointOrderLocBJ(udg_Sergeant, "move", GetRectCenter(gg_rct_01Sergeant_A))
    call SetUnitFacingToFaceUnitTimed(udg_Arthas, udg_Sergeant, 0.25)
    call TriggerSleepAction(0.25)
    if ( Trig_Cinematic_C_Func005001() ) then
        return
    else
        call DoNothing()
    endif
    call SetUnitAnimation(udg_Sergeant, "stand")
    call SetUnitAnimation(udg_Arthas, "stand")
    call SetUnitAnimation(udg_Jaina, "stand")
    // --------------------------------------------------------------------------------------------------------------------------
    call TransmissionFromUnitWithNameBJ(GetPlayersAll(), udg_Sergeant, "TRIGSTR_010", gg_snd_H05Footman03, "TRIGSTR_008", bj_TIMETYPE_ADD, 0.00, true)
    if ( Trig_Cinematic_C_Func011001() ) then
        return
    else
        call DoNothing()
    endif
    call TriggerSleepAction(0.40)
    if ( Trig_Cinematic_C_Func013001() ) then
        return
    else
        call DoNothing()
    endif
    call TransmissionFromUnitWithNameBJ(GetPlayersAll(), udg_Sergeant, "TRIGSTR_013", gg_snd_H05Footman04, "TRIGSTR_011", bj_TIMETYPE_ADD, 0.00, true)
    if ( Trig_Cinematic_C_Func015001() ) then
        return
    else
        call DoNothing()
    endif
    // -----Militia Stop-----
    set udg_MilitiaStop=true
    call SetUnitFacingTimed(gg_unit_hfoo_0027, 20.00, 0.20)
    call SetUnitFacingTimed(gg_unit_hfoo_0076, 20.00, 0.20)
    call SetUnitFacingTimed(gg_unit_hfoo_0077, 20.00, 0.20)
    call SetUnitFacingTimed(gg_unit_hfoo_0091, 20.00, 0.20)
    call SetUnitFacingTimed(gg_unit_hfoo_0168, 20.00, 0.20)
    call SetUnitFacingTimed(gg_unit_hfoo_0023, 20.00, 0.20)
    call SetUnitFacingTimed(gg_unit_hrif_0116, 20.00, 0.20)
    call SetUnitFacingTimed(gg_unit_hrif_0078, 20.00, 0.20)
    // ----------
    call CameraSetupApplyForPlayer(true, gg_cam_Starting_Cinematic_07, Player(1), 0.00)
    call CameraSetupApplyForPlayer(true, gg_cam_Starting_Cinematic_08, Player(1), 5.00)
    call SetUnitFacingToFaceUnitTimed(udg_Arthas, udg_Jaina, 0.25)
    call SetUnitFacingToFaceUnitTimed(udg_Jaina, udg_Arthas, 0.25)
    call TransmissionFromUnitWithNameBJ(GetPlayersAll(), udg_Arthas, "TRIGSTR_015", gg_snd_H05Arthas05, "TRIGSTR_014", bj_TIMETYPE_ADD, 0.00, true)
    if ( Trig_Cinematic_C_Func032001() ) then
        return
    else
        call DoNothing()
    endif
    call TransmissionFromUnitWithNameBJ(GetPlayersAll(), udg_Jaina, "TRIGSTR_017", gg_snd_H05Jaina06, "TRIGSTR_016", bj_TIMETYPE_ADD, 0.00, true)
    if ( Trig_Cinematic_C_Func034001() ) then
        return
    else
        call DoNothing()
    endif
    call TransmissionFromUnitWithNameBJ(GetPlayersAll(), udg_Arthas, "TRIGSTR_019", gg_snd_H05Arthas07, "TRIGSTR_018", bj_TIMETYPE_ADD, 0.00, true)
    if ( Trig_Cinematic_C_Func036001() ) then
        return
    else
        call DoNothing()
    endif
    call ResetUnitAnimation(udg_Jaina)
    call ResetUnitAnimation(udg_Arthas)
    call ResetUnitAnimation(udg_Sergeant)
    // ----------
    call IssuePointOrderLocBJ(udg_Jaina, "move", GetRectCenter(gg_rct_01Jaina_Teleports_A))
    call CameraSetupApplyForPlayer(true, gg_cam_Starting_Cinematic_09, Player(1), 0.00)
    call CameraSetupApplyForPlayer(true, gg_cam_Starting_Cinematic_10, Player(1), 5.00)
    call SetUnitFacingToFaceUnitTimed(udg_Arthas, udg_Jaina, 0.25)
endfunction

//===========================================================================
function InitTrig_Cinematic_C takes nothing returns nothing
    set gg_trg_Cinematic_C=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_Cinematic_C, gg_rct_01Sergeant_A)
    call TriggerAddCondition(gg_trg_Cinematic_C, Condition(function Trig_Cinematic_C_Conditions))
    call TriggerAddAction(gg_trg_Cinematic_C, function Trig_Cinematic_C_Actions)
endfunction

//===========================================================================
// Trigger: Cinematic D
//
// Jaina enters region for Teleportaion (CINEMATIC - D)
// Run Trigger DIALOGUE C
//===========================================================================
function Trig_Cinematic_D_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Jaina ) ) then
        return false
    endif
    if ( not ( udg_IntroCancelled == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cinematic_D_Func024001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Cinematic_D_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call CreateNUnitsAtLoc(1, 'hfoo', Player(1), GetRectCenter(gg_rct_01Jaina_Teleports_B), 0.00)
    set udg_TeleportUnit=GetLastCreatedUnit()
    call IssuePointOrderLocBJ(udg_Sergeant, "move", GetRectCenter(gg_rct_01Sergeant_B))
    call IssuePointOrderLocBJ(udg_Footman1, "move", GetRectCenter(gg_rct_01Town_Footman_1_C))
    call IssuePointOrderLocBJ(udg_Footman2, "move", GetRectCenter(gg_rct_01Town_Footman_2_C))
    call IssuePointOrderLocBJ(udg_Rifleman1, "move", GetRectCenter(gg_rct_01Town_Rifleman_C))
    call IssuePointOrderLocBJ(udg_Priest1, "move", GetRectCenter(gg_rct_01Town_Priest_C))
    call TriggerSleepAction(0.2)
    call IssueImmediateOrderBJ(udg_Jaina, "stop")
    call SetUnitAnimation(udg_Jaina, "spell")
    set udg_mass_teleport_effect=AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl", GetUnitX(udg_Jaina), GetUnitY(udg_Jaina))
    call AttachSoundToUnitBJ(gg_snd_MassTeleportTarget, udg_Jaina)
    call SetSoundVolumeBJ(gg_snd_MassTeleportTarget, 80.00)
    call PlaySoundBJ(gg_snd_MassTeleportTarget)
    // --------------------------------------------------------------------------------------------------------------------------
    call TriggerSleepAction(2.8)
    call DestroyEffect(udg_mass_teleport_effect)
    set udg_mass_teleport_effect=AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", GetUnitX(udg_Jaina), GetUnitY(udg_Jaina))
    call TriggerSleepAction(0.5)
    call ShowUnitHide(udg_Jaina)
    call TriggerSleepAction(2.5)
    call DestroyEffect(udg_mass_teleport_effect)
    if ( Trig_Cinematic_D_Func024001() ) then
        return
    else
        call DoNothing()
    endif
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT, 0.40, "ReplaceableTextures\\CameraMasks\\Black_mask.blp", 0, 0, 0, 0)
    call SetUnitOwner(udg_Jaina, Player(PLAYER_NEUTRAL_PASSIVE), false)
    call RemoveUnit(udg_TeleportUnit)
    call ConditionalTriggerExecute(gg_trg_Cinematic_E)
endfunction

//===========================================================================
function InitTrig_Cinematic_D takes nothing returns nothing
    set gg_trg_Cinematic_D=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_Cinematic_D, gg_rct_01Jaina_Teleports_A)
    call TriggerAddCondition(gg_trg_Cinematic_D, Condition(function Trig_Cinematic_D_Conditions))
    call TriggerAddAction(gg_trg_Cinematic_D, function Trig_Cinematic_D_Actions)
endfunction

//===========================================================================
// Trigger: Cinematic E
//
// Trigger DIALOGUE C fires this trigger (CINEMATIC - E)
//===========================================================================
function Trig_Cinematic_E_Conditions takes nothing returns boolean
    if ( not ( GetTriggerUnit() == udg_Jaina ) ) then
        return false
    endif
    if ( not ( udg_IntroCancelled == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cinematic_E_Func015001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Cinematic_E_Func017001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Cinematic_E_Func020001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Cinematic_E_Func023001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Cinematic_E_Func025001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Cinematic_E_Func030001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Cinematic_E_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call IssuePointOrderLocBJ(udg_Arthas, "move", GetRectCenter(gg_rct_01Arthas_C))
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEIN, 0.40, "ReplaceableTextures\\CameraMasks\\Black_mask.blp", 0, 0, 0, 0)
    call CameraSetupApplyForPlayer(true, gg_cam_Starting_Cinematic_11, Player(1), 0.00)
    // -----Move Villagers-----
    call IssuePointOrderLocBJ(gg_unit_nvil_0088, "move", GetRectCenter(gg_rct_Conversion_01))
    call IssuePointOrderLocBJ(gg_unit_nvil_0133, "move", GetRectCenter(gg_rct_Conversion_06))
    call IssuePointOrderLocBJ(gg_unit_nvil_0089, "move", GetRectCenter(gg_rct_Conversion_02))
    // -----Move Militia-----
    // ----------
    call TriggerSleepAction(2.00)
    if ( Trig_Cinematic_E_Func015001() ) then
        return
    else
        call DoNothing()
    endif
    call TransmissionFromUnitWithNameBJ(GetPlayersAll(), udg_Arthas, "TRIGSTR_025", gg_snd_H05Arthas08, "TRIGSTR_027", bj_TIMETYPE_ADD, 0.00, true)
    if ( Trig_Cinematic_E_Func017001() ) then
        return
    else
        call DoNothing()
    endif
    call IssuePointOrderLocBJ(udg_Sergeant, "move", GetRectCenter(gg_rct_01Sergeant_C))
    call TriggerSleepAction(2.00)
    if ( Trig_Cinematic_E_Func020001() ) then
        return
    else
        call DoNothing()
    endif
    call SetUnitFacingToFaceUnitTimed(udg_Arthas, udg_Sergeant, 0.25)
    call TransmissionFromUnitWithNameBJ(GetPlayersAll(), udg_Sergeant, "TRIGSTR_029", gg_snd_H05Footman09, "TRIGSTR_028", bj_TIMETYPE_ADD, 0.00, true)
    if ( Trig_Cinematic_E_Func023001() ) then
        return
    else
        call DoNothing()
    endif
    call TriggerSleepAction(0.50)
    if ( Trig_Cinematic_E_Func025001() ) then
        return
    else
        call DoNothing()
    endif
    call CameraSetupApplyForPlayer(true, gg_cam_Starting_Cinematic_12, Player(1), 0.00)
    call SetUnitFacingToFaceUnitTimed(udg_Sergeant, udg_Arthas, 0.25)
    call TransmissionFromUnitWithNameBJ(GetPlayersAll(), udg_Arthas, "TRIGSTR_031", gg_snd_H05Arthas10, "TRIGSTR_030", bj_TIMETYPE_ADD, 0.00, true)
    call TriggerSleepAction(0.50)
    if ( Trig_Cinematic_E_Func030001() ) then
        return
    else
        call DoNothing()
    endif
    call TriggerExecute(gg_trg_Cinematic_F)
endfunction

//===========================================================================
function InitTrig_Cinematic_E takes nothing returns nothing
    set gg_trg_Cinematic_E=CreateTrigger()
    call TriggerRegisterLeaveRectSimple(gg_trg_Cinematic_E, gg_rct_01Jaina_Teleports_B)
    call TriggerAddCondition(gg_trg_Cinematic_E, Condition(function Trig_Cinematic_E_Conditions))
    call TriggerAddAction(gg_trg_Cinematic_E, function Trig_Cinematic_E_Actions)
endfunction

//===========================================================================
// Trigger: Cinematic F
//
// Trigger DIALOGUE D fires this trigger  (CINEMATIC - F)
//===========================================================================
function Trig_Cinematic_F_Conditions takes nothing returns boolean
    if ( not ( udg_IntroCancelled == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cinematic_F_Func031001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Cinematic_F_Func067001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Cinematic_F_Func069001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Cinematic_F_Func071001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Cinematic_F_Func081002 takes nothing returns nothing
    call SetUnitOwner(GetEnumUnit(), Player(1), true)
endfunction

function Trig_Cinematic_F_Actions takes nothing returns nothing
    // -----Convert Zombie 01-----
    call CreateNUnitsAtLoc(1, 'UC02', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Malganis_Corruption_01), bj_UNIT_FACING)
    set udg_MalGanis01=GetLastCreatedUnit()
    call SetUnitManaPercentBJ(udg_MalGanis01, 100)
    call ShowUnitHide(udg_MalGanis01)
    call SetHeroLevelBJ(udg_MalGanis01, 6, false)
    call SelectHeroSkill(udg_MalGanis01, 'SNdc')
    call IssueTargetOrderBJ(udg_MalGanis01, "darkconversion", gg_unit_nvil_0088)
    // -----Convert Zombie 02-----
    call CreateNUnitsAtLoc(1, 'UC02', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Malganis_Corruption_02), bj_UNIT_FACING)
    set udg_MalGanis02=GetLastCreatedUnit()
    call SetUnitManaPercentBJ(udg_MalGanis02, 100)
    call ShowUnitHide(udg_MalGanis02)
    call SetHeroLevelBJ(udg_MalGanis02, 6, false)
    call SelectHeroSkill(udg_MalGanis02, 'SNdc')
    call IssueTargetOrderBJ(udg_MalGanis02, "darkconversion", gg_unit_nvil_0089)
    // -----Convert Zombie 03-----
    call CreateNUnitsAtLoc(1, 'UC02', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Malganis_Corruption_03), bj_UNIT_FACING)
    set udg_MalGanis03=GetLastCreatedUnit()
    call SetUnitManaPercentBJ(udg_MalGanis03, 100)
    call ShowUnitHide(udg_MalGanis03)
    call SetHeroLevelBJ(udg_MalGanis03, 6, false)
    call SelectHeroSkill(udg_MalGanis03, 'SNdc')
    call IssueTargetOrderBJ(udg_MalGanis03, "darkconversion", gg_unit_nvil_0102)
    // ----------
    call CameraSetupApplyForPlayer(true, gg_cam_Starting_Cinematic_13, Player(1), 0.00)
    call ResetTerrainFogBJ()
    call CameraResetSmoothingFactorBJ()
    call TriggerSleepAction(2.00)
    if ( Trig_Cinematic_F_Func031001() ) then
        return
    else
        call DoNothing()
    endif
    // -----Convert Zombie 04-----
    call CreateNUnitsAtLoc(1, 'UC02', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Malganis_Corruption_04), bj_UNIT_FACING)
    set udg_MalGanis04=GetLastCreatedUnit()
    call SetUnitManaPercentBJ(udg_MalGanis04, 100)
    call ShowUnitHide(udg_MalGanis04)
    call SetHeroLevelBJ(udg_MalGanis04, 6, false)
    call SelectHeroSkill(udg_MalGanis04, 'SNdc')
    call IssueTargetOrderBJ(udg_MalGanis04, "darkconversion", gg_unit_nvil_0103)
    // -----Convert Zombie 05-----
    call CreateNUnitsAtLoc(1, 'UC02', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Malganis_Corruption_05), bj_UNIT_FACING)
    set udg_MalGanis05=GetLastCreatedUnit()
    call SetUnitManaPercentBJ(udg_MalGanis05, 100)
    call ShowUnitHide(udg_MalGanis05)
    call SetHeroLevelBJ(udg_MalGanis05, 6, false)
    call SelectHeroSkill(udg_MalGanis05, 'SNdc')
    call IssueTargetOrderBJ(udg_MalGanis05, "darkconversion", gg_unit_nvil_0132)
    // -----Convert Zombie 06-----
    call CreateNUnitsAtLoc(1, 'UC02', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Malganis_Corruption_06), bj_UNIT_FACING)
    set udg_MalGanis06=GetLastCreatedUnit()
    call SetUnitManaPercentBJ(udg_MalGanis06, 100)
    call ShowUnitHide(udg_MalGanis06)
    call SetHeroLevelBJ(udg_MalGanis06, 6, false)
    call SelectHeroSkill(udg_MalGanis06, 'SNdc')
    call IssueTargetOrderBJ(udg_MalGanis06, "darkconversion", gg_unit_nvil_0133)
    // -----Convert Zombie 07-----
    call CreateNUnitsAtLoc(1, 'UC02', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Malganis_Corruption_07), bj_UNIT_FACING)
    set udg_MalGanis07=GetLastCreatedUnit()
    call SetUnitManaPercentBJ(udg_MalGanis07, 100)
    call ShowUnitHide(udg_MalGanis07)
    call SetHeroLevelBJ(udg_MalGanis07, 6, false)
    call SelectHeroSkill(udg_MalGanis07, 'SNdc')
    call IssueTargetOrderBJ(udg_MalGanis07, "darkconversion", gg_unit_nvil_0134)
    // --------------------------------------------------------------------------------------------------------------------------
    call CameraSetupApplyForPlayer(true, gg_cam_Starting_Cienmatic_14, Player(1), 4.00)
    call TransmissionFromUnitWithNameBJ(GetPlayersAll(), udg_Arthas, "TRIGSTR_032", gg_snd_H05Arthas11, "TRIGSTR_033", bj_TIMETYPE_ADD, 0.00, false)
    if ( Trig_Cinematic_F_Func067001() ) then
        return
    else
        call DoNothing()
    endif
    call TriggerSleepAction(5.00)
    if ( Trig_Cinematic_F_Func069001() ) then
        return
    else
        call DoNothing()
    endif
    call WaitForSoundBJ(gg_snd_H05Arthas11, 1.00)
    if ( Trig_Cinematic_F_Func071001() ) then
        return
    else
        call DoNothing()
    endif
    // --------------------------------------------------------------------------------------------------------------------------
    set udg_IntroCancelled=true
    call SetSkyModel(null)
    call CinematicModeBJ(false, GetPlayersAll())
    call UseTimeOfDayBJ(true)
    call ResetToGameCameraForPlayer(Player(1), 1.50)
    call PanCameraToTimedLocForPlayer(Player(1), CameraSetupGetDestPositionLoc(gg_cam_Starting_Cienmatic_Cancel), 1.50)
    call SelectUnitSingle(udg_Arthas)
    // -----Change Ownership to Blue-----
    call ForGroupBJ(GetUnitsOfPlayerAll(Player(8)), function Trig_Cinematic_F_Func081002)
    // Cinematic No Longer Be Skipped
    call DisableTrigger(gg_trg_Intro_Cancelled)
    call ConditionalTriggerExecute(gg_trg_Mission_Begins)
    // -----Remove Roaming Villagers-----
    call TriggerExecute(gg_trg_01Villager_Retreat_A)
    call TriggerExecute(gg_trg_01Villager_Retreat_B)
    call TriggerExecute(gg_trg_02Villager_Retreat_A)
    call TriggerExecute(gg_trg_03Villager_Retreat_A)
    call TriggerExecute(gg_trg_04Villager_Retreat_A)
    call TriggerExecute(gg_trg_05Villager_Retreat_A)
    call TriggerExecute(gg_trg_06Villager_Retreat_A)
    call TriggerExecute(gg_trg_06Villager_Retreat_B)
endfunction

//===========================================================================
function InitTrig_Cinematic_F takes nothing returns nothing
    set gg_trg_Cinematic_F=CreateTrigger()
    call TriggerAddCondition(gg_trg_Cinematic_F, Condition(function Trig_Cinematic_F_Conditions))
    call TriggerAddAction(gg_trg_Cinematic_F, function Trig_Cinematic_F_Actions)
endfunction

//===========================================================================
// Trigger: Dark Conversion 01
//===========================================================================
function Trig_Dark_Conversion_01_Conditions takes nothing returns boolean
    if ( not ( RectContainsUnit(gg_rct_Conversion_01, GetSummonedUnit()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Dark_Conversion_01_Actions takes nothing returns nothing
    call TriggerSleepAction(0.10)
    call RemoveUnit(udg_MalGanis01)
    call SetUnitOwner(GetSummonedUnit(), Player(5), true)
    call ReplaceUnitBJ(GetSummonedUnit(), 'nzom', bj_UNIT_STATE_METHOD_RELATIVE)
    call GroupAddUnitSimple(GetLastReplacedUnitBJ(), udg_CorruptVillagerGroup1)
    call IssueTargetOrderBJ(GetLastReplacedUnitBJ(), "attack", gg_unit_hfoo_0027)
endfunction

//===========================================================================
function InitTrig_Dark_Conversion_01 takes nothing returns nothing
    set gg_trg_Dark_Conversion_01=CreateTrigger()
    call TriggerRegisterPlayerUnitEventSimple(gg_trg_Dark_Conversion_01, Player(PLAYER_NEUTRAL_PASSIVE), EVENT_PLAYER_UNIT_SUMMON)
    call TriggerAddCondition(gg_trg_Dark_Conversion_01, Condition(function Trig_Dark_Conversion_01_Conditions))
    call TriggerAddAction(gg_trg_Dark_Conversion_01, function Trig_Dark_Conversion_01_Actions)
endfunction

//===========================================================================
// Trigger: Dark Conversion 02
//===========================================================================
function Trig_Dark_Conversion_02_Conditions takes nothing returns boolean
    if ( not ( RectContainsUnit(gg_rct_Conversion_02, GetSummonedUnit()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Dark_Conversion_02_Actions takes nothing returns nothing
    call TriggerSleepAction(0.10)
    call RemoveUnit(udg_MalGanis02)
    call SetUnitOwner(GetSummonedUnit(), Player(5), true)
    call ReplaceUnitBJ(GetSummonedUnit(), 'nzom', bj_UNIT_STATE_METHOD_RELATIVE)
    call GroupAddUnitSimple(GetLastReplacedUnitBJ(), udg_CorruptVillagerGroup1)
    call IssueTargetOrderBJ(GetLastReplacedUnitBJ(), "attack", gg_unit_hfoo_0023)
endfunction

//===========================================================================
function InitTrig_Dark_Conversion_02 takes nothing returns nothing
    set gg_trg_Dark_Conversion_02=CreateTrigger()
    call TriggerRegisterPlayerUnitEventSimple(gg_trg_Dark_Conversion_02, Player(PLAYER_NEUTRAL_PASSIVE), EVENT_PLAYER_UNIT_SUMMON)
    call TriggerAddCondition(gg_trg_Dark_Conversion_02, Condition(function Trig_Dark_Conversion_02_Conditions))
    call TriggerAddAction(gg_trg_Dark_Conversion_02, function Trig_Dark_Conversion_02_Actions)
endfunction

//===========================================================================
// Trigger: Dark Conversion 03
//===========================================================================
function Trig_Dark_Conversion_03_Conditions takes nothing returns boolean
    if ( not ( RectContainsUnit(gg_rct_Conversion_03, GetSummonedUnit()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Dark_Conversion_03_Actions takes nothing returns nothing
    call TriggerSleepAction(0.10)
    call RemoveUnit(udg_MalGanis03)
    call SetUnitOwner(GetSummonedUnit(), Player(5), true)
    call ReplaceUnitBJ(GetSummonedUnit(), 'nzom', bj_UNIT_STATE_METHOD_RELATIVE)
    call GroupAddUnitSimple(GetLastReplacedUnitBJ(), udg_CorruptVillagerGroup1)
    call IssueTargetOrderBJ(GetLastReplacedUnitBJ(), "attack", gg_unit_hfoo_0091)
endfunction

//===========================================================================
function InitTrig_Dark_Conversion_03 takes nothing returns nothing
    set gg_trg_Dark_Conversion_03=CreateTrigger()
    call TriggerRegisterPlayerUnitEventSimple(gg_trg_Dark_Conversion_03, Player(PLAYER_NEUTRAL_PASSIVE), EVENT_PLAYER_UNIT_SUMMON)
    call TriggerAddCondition(gg_trg_Dark_Conversion_03, Condition(function Trig_Dark_Conversion_03_Conditions))
    call TriggerAddAction(gg_trg_Dark_Conversion_03, function Trig_Dark_Conversion_03_Actions)
endfunction

//===========================================================================
// Trigger: Dark Conversion 04
//===========================================================================
function Trig_Dark_Conversion_04_Conditions takes nothing returns boolean
    if ( not ( RectContainsUnit(gg_rct_Conversion_04, GetSummonedUnit()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Dark_Conversion_04_Actions takes nothing returns nothing
    call TriggerSleepAction(0.10)
    call RemoveUnit(udg_MalGanis04)
    call SetUnitOwner(GetSummonedUnit(), Player(5), true)
    call ReplaceUnitBJ(GetSummonedUnit(), 'nzom', bj_UNIT_STATE_METHOD_RELATIVE)
    call GroupAddUnitSimple(GetLastReplacedUnitBJ(), udg_CorruptVillagerGroup1)
endfunction

//===========================================================================
function InitTrig_Dark_Conversion_04 takes nothing returns nothing
    set gg_trg_Dark_Conversion_04=CreateTrigger()
    call TriggerRegisterPlayerUnitEventSimple(gg_trg_Dark_Conversion_04, Player(PLAYER_NEUTRAL_PASSIVE), EVENT_PLAYER_UNIT_SUMMON)
    call TriggerAddCondition(gg_trg_Dark_Conversion_04, Condition(function Trig_Dark_Conversion_04_Conditions))
    call TriggerAddAction(gg_trg_Dark_Conversion_04, function Trig_Dark_Conversion_04_Actions)
endfunction

//===========================================================================
// Trigger: Dark Conversion 05
//===========================================================================
function Trig_Dark_Conversion_05_Conditions takes nothing returns boolean
    if ( not ( RectContainsUnit(gg_rct_Conversion_05, GetSummonedUnit()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Dark_Conversion_05_Actions takes nothing returns nothing
    call TriggerSleepAction(0.10)
    call RemoveUnit(udg_MalGanis05)
    call SetUnitOwner(GetSummonedUnit(), Player(5), true)
    call ReplaceUnitBJ(GetSummonedUnit(), 'nzom', bj_UNIT_STATE_METHOD_RELATIVE)
    call GroupAddUnitSimple(GetLastReplacedUnitBJ(), udg_CorruptVillagerGroup1)
endfunction

//===========================================================================
function InitTrig_Dark_Conversion_05 takes nothing returns nothing
    set gg_trg_Dark_Conversion_05=CreateTrigger()
    call TriggerRegisterPlayerUnitEventSimple(gg_trg_Dark_Conversion_05, Player(PLAYER_NEUTRAL_PASSIVE), EVENT_PLAYER_UNIT_SUMMON)
    call TriggerAddCondition(gg_trg_Dark_Conversion_05, Condition(function Trig_Dark_Conversion_05_Conditions))
    call TriggerAddAction(gg_trg_Dark_Conversion_05, function Trig_Dark_Conversion_05_Actions)
endfunction

//===========================================================================
// Trigger: Dark Conversion 06
//===========================================================================
function Trig_Dark_Conversion_06_Conditions takes nothing returns boolean
    if ( not ( RectContainsUnit(gg_rct_Conversion_06, GetSummonedUnit()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Dark_Conversion_06_Actions takes nothing returns nothing
    call TriggerSleepAction(0.10)
    call RemoveUnit(udg_MalGanis06)
    call SetUnitOwner(GetSummonedUnit(), Player(5), true)
    call ReplaceUnitBJ(GetSummonedUnit(), 'nzom', bj_UNIT_STATE_METHOD_RELATIVE)
    call IssueTargetOrderBJ(GetLastReplacedUnitBJ(), "attack", gg_unit_hfoo_0077)
    call GroupAddUnitSimple(GetLastReplacedUnitBJ(), udg_CorruptVillagerGroup1)
endfunction

//===========================================================================
function InitTrig_Dark_Conversion_06 takes nothing returns nothing
    set gg_trg_Dark_Conversion_06=CreateTrigger()
    call TriggerRegisterPlayerUnitEventSimple(gg_trg_Dark_Conversion_06, Player(PLAYER_NEUTRAL_PASSIVE), EVENT_PLAYER_UNIT_SUMMON)
    call TriggerAddCondition(gg_trg_Dark_Conversion_06, Condition(function Trig_Dark_Conversion_06_Conditions))
    call TriggerAddAction(gg_trg_Dark_Conversion_06, function Trig_Dark_Conversion_06_Actions)
endfunction

//===========================================================================
// Trigger: Dark Conversion 07
//===========================================================================
function Trig_Dark_Conversion_07_Conditions takes nothing returns boolean
    if ( not ( RectContainsUnit(gg_rct_Conversion_07, GetSummonedUnit()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Dark_Conversion_07_Actions takes nothing returns nothing
    call TriggerSleepAction(0.10)
    call RemoveUnit(udg_MalGanis07)
    call SetUnitOwner(GetSummonedUnit(), Player(5), true)
    call ReplaceUnitBJ(GetSummonedUnit(), 'nzom', bj_UNIT_STATE_METHOD_RELATIVE)
    call IssueTargetOrderBJ(GetLastReplacedUnitBJ(), "attack", gg_unit_hrif_0116)
    call GroupAddUnitSimple(GetLastReplacedUnitBJ(), udg_CorruptVillagerGroup1)
endfunction

//===========================================================================
function InitTrig_Dark_Conversion_07 takes nothing returns nothing
    set gg_trg_Dark_Conversion_07=CreateTrigger()
    call TriggerRegisterPlayerUnitEventSimple(gg_trg_Dark_Conversion_07, Player(PLAYER_NEUTRAL_PASSIVE), EVENT_PLAYER_UNIT_SUMMON)
    call TriggerAddCondition(gg_trg_Dark_Conversion_07, Condition(function Trig_Dark_Conversion_07_Conditions))
    call TriggerAddAction(gg_trg_Dark_Conversion_07, function Trig_Dark_Conversion_07_Actions)
endfunction

//===========================================================================
// Trigger: Troop Facing
//===========================================================================
function Trig_Troop_Facing_Conditions takes nothing returns boolean
    if ( not ( udg_IntroCancelled == false ) ) then
        return false
    endif
    if ( not ( GetTriggerUnit() == udg_Priest1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Troop_Facing_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call SetUnitFacingToFaceUnitTimed(udg_Footman1, udg_Arthas, 0.25)
    call SetUnitFacingToFaceUnitTimed(udg_Footman2, udg_Arthas, 0.25)
    call SetUnitFacingToFaceUnitTimed(udg_Rifleman1, udg_Arthas, 0.25)
    call SetUnitFacingToFaceUnitTimed(udg_Priest1, udg_Arthas, 0.25)
endfunction

//===========================================================================
function InitTrig_Troop_Facing takes nothing returns nothing
    set gg_trg_Troop_Facing=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_Troop_Facing, gg_rct_01Town_Priest_C)
    call TriggerAddCondition(gg_trg_Troop_Facing, Condition(function Trig_Troop_Facing_Conditions))
    call TriggerAddAction(gg_trg_Troop_Facing, function Trig_Troop_Facing_Actions)
endfunction

//===========================================================================
// Trigger: Militia Line A
//===========================================================================
function Trig_Militia_Line_A_Conditions takes nothing returns boolean
    if ( not ( udg_IntroCancelled == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Militia_Line_A_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ(gg_unit_hfoo_0027, "move", GetRectCenter(gg_rct_01Militia_Line_A_01a))
    call IssuePointOrderLocBJ(gg_unit_hfoo_0076, "move", GetRectCenter(gg_rct_01Militia_Line_A_02a))
    call IssuePointOrderLocBJ(gg_unit_hfoo_0077, "move", GetRectCenter(gg_rct_01Militia_Line_A_03a))
endfunction

//===========================================================================
function InitTrig_Militia_Line_A takes nothing returns nothing
    set gg_trg_Militia_Line_A=CreateTrigger()
    call TriggerAddCondition(gg_trg_Militia_Line_A, Condition(function Trig_Militia_Line_A_Conditions))
    call TriggerAddAction(gg_trg_Militia_Line_A, function Trig_Militia_Line_A_Actions)
endfunction

//===========================================================================
// Trigger: Militia Line B
//===========================================================================
function Trig_Militia_Line_B_Conditions takes nothing returns boolean
    if ( not ( udg_IntroCancelled == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Militia_Line_B_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ(gg_unit_hfoo_0091, "move", GetRectCenter(gg_rct_01Militia_Line_B_01a))
    call IssuePointOrderLocBJ(gg_unit_hfoo_0168, "move", GetRectCenter(gg_rct_01Militia_Line_B_02a))
    call IssuePointOrderLocBJ(gg_unit_hfoo_0023, "move", GetRectCenter(gg_rct_01Militia_Line_B_03a))
endfunction

//===========================================================================
function InitTrig_Militia_Line_B takes nothing returns nothing
    set gg_trg_Militia_Line_B=CreateTrigger()
    call TriggerAddCondition(gg_trg_Militia_Line_B, Condition(function Trig_Militia_Line_B_Conditions))
    call TriggerAddAction(gg_trg_Militia_Line_B, function Trig_Militia_Line_B_Actions)
endfunction

//===========================================================================
// Trigger: Militia Line C
//===========================================================================
function Trig_Militia_Line_C_Conditions takes nothing returns boolean
    if ( not ( udg_IntroCancelled == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Militia_Line_C_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ(gg_unit_hrif_0116, "move", GetRectCenter(gg_rct_01Militia_Line_C_01a))
    call IssuePointOrderLocBJ(gg_unit_hrif_0078, "move", GetRectCenter(gg_rct_01Militia_Line_C_02a))
endfunction

//===========================================================================
function InitTrig_Militia_Line_C takes nothing returns nothing
    set gg_trg_Militia_Line_C=CreateTrigger()
    call TriggerAddCondition(gg_trg_Militia_Line_C, Condition(function Trig_Militia_Line_C_Conditions))
    call TriggerAddAction(gg_trg_Militia_Line_C, function Trig_Militia_Line_C_Actions)
endfunction

//===========================================================================
// Trigger: Militia A
//===========================================================================
function Trig_Militia_A_Conditions takes nothing returns boolean
    if ( not ( udg_IntroCancelled == false ) ) then
        return false
    endif
    if ( not ( udg_MilitiaStop == false ) ) then
        return false
    endif
    if ( not ( GetTriggerUnit() == gg_unit_hfoo_0027 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Militia_A_Func011001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Militia_A_Func012001 takes nothing returns boolean
    return ( udg_MilitiaStop == true )
endfunction

function Trig_Militia_A_Func018001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Militia_A_Func019001 takes nothing returns boolean
    return ( udg_MilitiaStop == true )
endfunction

function Trig_Militia_A_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call SetUnitAnimation(gg_unit_hfoo_0027, "Attack Defend")
    call SetUnitAnimation(gg_unit_hfoo_0076, "Attack Defend")
    call SetUnitAnimation(gg_unit_hfoo_0077, "Attack Defend")
    // --------------------------------------------------------------------------------------------------------------------------
    call TriggerSleepAction(1.00)
    if ( Trig_Militia_A_Func011001() ) then
        return
    else
        call DoNothing()
    endif
    if ( Trig_Militia_A_Func012001() ) then
        return
    else
        call DoNothing()
    endif
    call SetUnitAnimation(gg_unit_hfoo_0027, "Attack Defend")
    call SetUnitAnimation(gg_unit_hfoo_0076, "Attack Defend")
    call SetUnitAnimation(gg_unit_hfoo_0077, "Attack Defend")
    // --------------------------------------------------------------------------------------------------------------------------
    call TriggerSleepAction(1.00)
    if ( Trig_Militia_A_Func018001() ) then
        return
    else
        call DoNothing()
    endif
    if ( Trig_Militia_A_Func019001() ) then
        return
    else
        call DoNothing()
    endif
    call EnableTrigger(gg_trg_Militia_Repeat_A)
    call IssuePointOrderLocBJ(gg_unit_hfoo_0027, "move", GetRectCenter(gg_rct_01Militia_Line_A_01b))
    call IssuePointOrderLocBJ(gg_unit_hfoo_0076, "move", GetRectCenter(gg_rct_01Militia_Line_A_02b))
    call IssuePointOrderLocBJ(gg_unit_hfoo_0077, "move", GetRectCenter(gg_rct_01Militia_Line_A_03b))
endfunction

//===========================================================================
function InitTrig_Militia_A takes nothing returns nothing
    set gg_trg_Militia_A=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_Militia_A, gg_rct_01Militia_Line_A_01a)
    call TriggerAddCondition(gg_trg_Militia_A, Condition(function Trig_Militia_A_Conditions))
    call TriggerAddAction(gg_trg_Militia_A, function Trig_Militia_A_Actions)
endfunction

//===========================================================================
// Trigger: Militia B
//===========================================================================
function Trig_Militia_B_Conditions takes nothing returns boolean
    if ( not ( udg_IntroCancelled == false ) ) then
        return false
    endif
    if ( not ( udg_MilitiaStop == false ) ) then
        return false
    endif
    if ( not ( GetTriggerUnit() == gg_unit_hfoo_0091 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Militia_B_Func011001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Militia_B_Func012001 takes nothing returns boolean
    return ( udg_MilitiaStop == true )
endfunction

function Trig_Militia_B_Func018001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Militia_B_Func019001 takes nothing returns boolean
    return ( udg_MilitiaStop == true )
endfunction

function Trig_Militia_B_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call SetUnitAnimation(gg_unit_hfoo_0091, "Attack - 1")
    call SetUnitAnimation(gg_unit_hfoo_0168, "Attack -1")
    call SetUnitAnimation(gg_unit_hfoo_0023, "Attack - 1")
    // --------------------------------------------------------------------------------------------------------------------------
    call TriggerSleepAction(1.00)
    if ( Trig_Militia_B_Func011001() ) then
        return
    else
        call DoNothing()
    endif
    if ( Trig_Militia_B_Func012001() ) then
        return
    else
        call DoNothing()
    endif
    call SetUnitAnimation(gg_unit_hfoo_0091, "Attack - 1")
    call SetUnitAnimation(gg_unit_hfoo_0168, "Attack -1")
    call SetUnitAnimation(gg_unit_hfoo_0023, "Attack - 1")
    // --------------------------------------------------------------------------------------------------------------------------
    call TriggerSleepAction(1.00)
    if ( Trig_Militia_B_Func018001() ) then
        return
    else
        call DoNothing()
    endif
    if ( Trig_Militia_B_Func019001() ) then
        return
    else
        call DoNothing()
    endif
    call EnableTrigger(gg_trg_Militia_Repeat_B)
    call IssuePointOrderLocBJ(gg_unit_hfoo_0091, "move", GetRectCenter(gg_rct_01Militia_Line_B_01b))
    call IssuePointOrderLocBJ(gg_unit_hfoo_0168, "move", GetRectCenter(gg_rct_01Militia_Line_B_02b))
    call IssuePointOrderLocBJ(gg_unit_hfoo_0023, "move", GetRectCenter(gg_rct_01Militia_Line_B_03b))
endfunction

//===========================================================================
function InitTrig_Militia_B takes nothing returns nothing
    set gg_trg_Militia_B=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_Militia_B, gg_rct_01Militia_Line_B_01a)
    call TriggerAddCondition(gg_trg_Militia_B, Condition(function Trig_Militia_B_Conditions))
    call TriggerAddAction(gg_trg_Militia_B, function Trig_Militia_B_Actions)
endfunction

//===========================================================================
// Trigger: Militia C
//===========================================================================
function Trig_Militia_C_Conditions takes nothing returns boolean
    if ( not ( udg_IntroCancelled == false ) ) then
        return false
    endif
    if ( not ( udg_MilitiaStop == false ) ) then
        return false
    endif
    if ( not ( GetTriggerUnit() == gg_unit_hrif_0116 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Militia_C_Func010001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Militia_C_Func011001 takes nothing returns boolean
    return ( udg_MilitiaStop == true )
endfunction

function Trig_Militia_C_Func019001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Militia_C_Func020001 takes nothing returns boolean
    return ( udg_MilitiaStop == true )
endfunction

function Trig_Militia_C_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call SetUnitAnimation(gg_unit_hrif_0116, "Spell")
    call SetUnitAnimation(gg_unit_hrif_0078, "Spell")
    // --------------------------------------------------------------------------------------------------------------------------
    call TriggerSleepAction(1.00)
    if ( Trig_Militia_C_Func010001() ) then
        return
    else
        call DoNothing()
    endif
    if ( Trig_Militia_C_Func011001() ) then
        return
    else
        call DoNothing()
    endif
    call SetUnitAnimation(gg_unit_hrif_0116, "Spell")
    call SetUnitAnimation(gg_unit_hrif_0078, "Spell")
    call AttachSoundToUnitBJ(gg_snd_RiflemanAttack1, gg_unit_hrif_0078)
    call SetSoundVolumeBJ(gg_snd_RiflemanAttack1, 50.00)
    call PlaySoundBJ(gg_snd_RiflemanAttack1)
    // --------------------------------------------------------------------------------------------------------------------------
    call TriggerSleepAction(1.00)
    if ( Trig_Militia_C_Func019001() ) then
        return
    else
        call DoNothing()
    endif
    if ( Trig_Militia_C_Func020001() ) then
        return
    else
        call DoNothing()
    endif
    call EnableTrigger(gg_trg_Militia_Repeat_C)
    call IssuePointOrderLocBJ(gg_unit_hrif_0116, "move", GetRectCenter(gg_rct_01Militia_Line_C_01b))
    call IssuePointOrderLocBJ(gg_unit_hrif_0078, "move", GetRectCenter(gg_rct_01Militia_Line_C_02b))
endfunction

//===========================================================================
function InitTrig_Militia_C takes nothing returns nothing
    set gg_trg_Militia_C=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_Militia_C, gg_rct_01Militia_Line_C_01a)
    call TriggerAddCondition(gg_trg_Militia_C, Condition(function Trig_Militia_C_Conditions))
    call TriggerAddAction(gg_trg_Militia_C, function Trig_Militia_C_Actions)
endfunction

//===========================================================================
// Trigger: Militia Repeat A
//===========================================================================
function Trig_Militia_Repeat_A_Conditions takes nothing returns boolean
    if ( not ( udg_IntroCancelled == false ) ) then
        return false
    endif
    if ( not ( udg_MilitiaStop == false ) ) then
        return false
    endif
    if ( not ( GetTriggerUnit() == gg_unit_hfoo_0027 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Militia_Repeat_A_Func011001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Militia_Repeat_A_Func012001 takes nothing returns boolean
    return ( udg_MilitiaStop == true )
endfunction

function Trig_Militia_Repeat_A_Func018001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Militia_Repeat_A_Func019001 takes nothing returns boolean
    return ( udg_MilitiaStop == true )
endfunction

function Trig_Militia_Repeat_A_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call SetUnitAnimation(gg_unit_hfoo_0027, "Attack Defend")
    call SetUnitAnimation(gg_unit_hfoo_0076, "Attack Defend")
    call SetUnitAnimation(gg_unit_hfoo_0077, "Attack Defend")
    // --------------------------------------------------------------------------------------------------------------------------
    call TriggerSleepAction(1.00)
    if ( Trig_Militia_Repeat_A_Func011001() ) then
        return
    else
        call DoNothing()
    endif
    if ( Trig_Militia_Repeat_A_Func012001() ) then
        return
    else
        call DoNothing()
    endif
    call SetUnitAnimation(gg_unit_hfoo_0027, "Attack Defend")
    call SetUnitAnimation(gg_unit_hfoo_0076, "Attack Defend")
    call SetUnitAnimation(gg_unit_hfoo_0077, "Attack Defend")
    // --------------------------------------------------------------------------------------------------------------------------
    call TriggerSleepAction(1.00)
    if ( Trig_Militia_Repeat_A_Func018001() ) then
        return
    else
        call DoNothing()
    endif
    if ( Trig_Militia_Repeat_A_Func019001() ) then
        return
    else
        call DoNothing()
    endif
    call IssuePointOrderLocBJ(gg_unit_hfoo_0027, "move", GetRectCenter(gg_rct_01Militia_Line_A_01a))
    call IssuePointOrderLocBJ(gg_unit_hfoo_0076, "move", GetRectCenter(gg_rct_01Militia_Line_A_02a))
    call IssuePointOrderLocBJ(gg_unit_hfoo_0077, "move", GetRectCenter(gg_rct_01Militia_Line_A_03a))
    call EnableTrigger(gg_trg_Militia_A)
endfunction

//===========================================================================
function InitTrig_Militia_Repeat_A takes nothing returns nothing
    set gg_trg_Militia_Repeat_A=CreateTrigger()
    call DisableTrigger(gg_trg_Militia_Repeat_A)
    call TriggerRegisterEnterRectSimple(gg_trg_Militia_Repeat_A, gg_rct_01Militia_Line_A_01b)
    call TriggerAddCondition(gg_trg_Militia_Repeat_A, Condition(function Trig_Militia_Repeat_A_Conditions))
    call TriggerAddAction(gg_trg_Militia_Repeat_A, function Trig_Militia_Repeat_A_Actions)
endfunction

//===========================================================================
// Trigger: Militia Repeat B
//===========================================================================
function Trig_Militia_Repeat_B_Conditions takes nothing returns boolean
    if ( not ( udg_IntroCancelled == false ) ) then
        return false
    endif
    if ( not ( udg_MilitiaStop == false ) ) then
        return false
    endif
    if ( not ( GetTriggerUnit() == gg_unit_hfoo_0091 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Militia_Repeat_B_Func011001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Militia_Repeat_B_Func012001 takes nothing returns boolean
    return ( udg_MilitiaStop == true )
endfunction

function Trig_Militia_Repeat_B_Func021001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Militia_Repeat_B_Func022001 takes nothing returns boolean
    return ( udg_MilitiaStop == true )
endfunction

function Trig_Militia_Repeat_B_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call SetUnitAnimation(gg_unit_hfoo_0091, "Attack - 1")
    call SetUnitAnimation(gg_unit_hfoo_0168, "Attack - 1")
    call SetUnitAnimation(gg_unit_hfoo_0023, "Attack - 1")
    // --------------------------------------------------------------------------------------------------------------------------
    call TriggerSleepAction(1.00)
    if ( Trig_Militia_Repeat_B_Func011001() ) then
        return
    else
        call DoNothing()
    endif
    if ( Trig_Militia_Repeat_B_Func012001() ) then
        return
    else
        call DoNothing()
    endif
    call SetUnitAnimation(gg_unit_hfoo_0091, "Attack - 1")
    call AttachSoundToUnitBJ(gg_snd_FootmanYesAttack2, gg_unit_hfoo_0091)
    call SetSoundVolumeBJ(gg_snd_FootmanYesAttack2, 30.00)
    call PlaySoundBJ(gg_snd_FootmanYesAttack2)
    call SetUnitAnimation(gg_unit_hfoo_0168, "Attack - 1")
    call SetUnitAnimation(gg_unit_hfoo_0023, "Attack - 1")
    // --------------------------------------------------------------------------------------------------------------------------
    call TriggerSleepAction(1.00)
    if ( Trig_Militia_Repeat_B_Func021001() ) then
        return
    else
        call DoNothing()
    endif
    if ( Trig_Militia_Repeat_B_Func022001() ) then
        return
    else
        call DoNothing()
    endif
    call IssuePointOrderLocBJ(gg_unit_hfoo_0091, "move", GetRectCenter(gg_rct_01Militia_Line_B_01a))
    call IssuePointOrderLocBJ(gg_unit_hfoo_0168, "move", GetRectCenter(gg_rct_01Militia_Line_B_02a))
    call IssuePointOrderLocBJ(gg_unit_hfoo_0023, "move", GetRectCenter(gg_rct_01Militia_Line_B_03a))
    call EnableTrigger(gg_trg_Militia_B)
endfunction

//===========================================================================
function InitTrig_Militia_Repeat_B takes nothing returns nothing
    set gg_trg_Militia_Repeat_B=CreateTrigger()
    call DisableTrigger(gg_trg_Militia_Repeat_B)
    call TriggerRegisterEnterRectSimple(gg_trg_Militia_Repeat_B, gg_rct_01Militia_Line_B_01b)
    call TriggerAddCondition(gg_trg_Militia_Repeat_B, Condition(function Trig_Militia_Repeat_B_Conditions))
    call TriggerAddAction(gg_trg_Militia_Repeat_B, function Trig_Militia_Repeat_B_Actions)
endfunction

//===========================================================================
// Trigger: Militia Repeat C
//===========================================================================
function Trig_Militia_Repeat_C_Conditions takes nothing returns boolean
    if ( not ( udg_IntroCancelled == false ) ) then
        return false
    endif
    if ( not ( udg_MilitiaStop == false ) ) then
        return false
    endif
    if ( not ( GetTriggerUnit() == gg_unit_hrif_0116 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Militia_Repeat_C_Func010001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Militia_Repeat_C_Func011001 takes nothing returns boolean
    return ( udg_MilitiaStop == true )
endfunction

function Trig_Militia_Repeat_C_Func019001 takes nothing returns boolean
    return ( udg_IntroCancelled == true )
endfunction

function Trig_Militia_Repeat_C_Func020001 takes nothing returns boolean
    return ( udg_MilitiaStop == true )
endfunction

function Trig_Militia_Repeat_C_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call SetUnitAnimation(gg_unit_hrif_0116, "Spell")
    call SetUnitAnimation(gg_unit_hrif_0078, "Spell")
    // --------------------------------------------------------------------------------------------------------------------------
    call TriggerSleepAction(1.00)
    if ( Trig_Militia_Repeat_C_Func010001() ) then
        return
    else
        call DoNothing()
    endif
    if ( Trig_Militia_Repeat_C_Func011001() ) then
        return
    else
        call DoNothing()
    endif
    call SetUnitAnimation(gg_unit_hrif_0116, "Spell")
    call SetUnitAnimation(gg_unit_hrif_0078, "Spell")
    call AttachSoundToUnitBJ(gg_snd_RiflemanAttack2, gg_unit_hrif_0078)
    call SetSoundVolumeBJ(gg_snd_RiflemanAttack2, 50.00)
    call PlaySoundBJ(gg_snd_RiflemanAttack2)
    // --------------------------------------------------------------------------------------------------------------------------
    call TriggerSleepAction(1.00)
    if ( Trig_Militia_Repeat_C_Func019001() ) then
        return
    else
        call DoNothing()
    endif
    if ( Trig_Militia_Repeat_C_Func020001() ) then
        return
    else
        call DoNothing()
    endif
    call IssuePointOrderLocBJ(gg_unit_hrif_0116, "move", GetRectCenter(gg_rct_01Militia_Line_C_01a))
    call IssuePointOrderLocBJ(gg_unit_hrif_0078, "move", GetRectCenter(gg_rct_01Militia_Line_C_02a))
    call EnableTrigger(gg_trg_Militia_C)
endfunction

//===========================================================================
function InitTrig_Militia_Repeat_C takes nothing returns nothing
    set gg_trg_Militia_Repeat_C=CreateTrigger()
    call DisableTrigger(gg_trg_Militia_Repeat_C)
    call TriggerRegisterEnterRectSimple(gg_trg_Militia_Repeat_C, gg_rct_01Militia_Line_C_01b)
    call TriggerAddCondition(gg_trg_Militia_Repeat_C, Condition(function Trig_Militia_Repeat_C_Conditions))
    call TriggerAddAction(gg_trg_Militia_Repeat_C, function Trig_Militia_Repeat_C_Actions)
endfunction

//===========================================================================
// Trigger: Mission Begins
//
// ZOMBIES DEAD fires this trigger
// Quest Information / Start timer
//===========================================================================
function Trig_Mission_Begins_Func028001 takes nothing returns boolean
    return ( GetGameDifficulty() == MAP_DIFFICULTY_EASY )
endfunction

function Trig_Mission_Begins_Func029001 takes nothing returns boolean
    return ( GetGameDifficulty() == MAP_DIFFICULTY_NORMAL )
endfunction

function Trig_Mission_Begins_Func030001 takes nothing returns boolean
    return ( GetGameDifficulty() == MAP_DIFFICULTY_HARD )
endfunction

function Trig_Mission_Begins_Actions takes nothing returns nothing
    call ConditionalTriggerExecute(gg_trg_Jaina_Items_Drop)
    call SetPlayerStateBJ(Player(1), PLAYER_STATE_RESOURCE_GOLD, 500)
    call SetPlayerStateBJ(Player(1), PLAYER_STATE_RESOURCE_LUMBER, 200)
    call SetPlayerHandicapXPBJ(Player(1), 40.00)
    // ----------
    call CreateNUnitsAtLoc(1, 'hpea', Player(1), GetRandomLocInRect(gg_rct_02Harvest_Gold), 0.00)
    call IssueTargetOrderBJ(GetLastCreatedUnit(), "harvest", gg_unit_ngol_0011)
    call TriggerSleepAction(0.20)
    call CreateNUnitsAtLoc(1, 'hpea', Player(1), GetRandomLocInRect(gg_rct_02Harvest_Gold), 0.00)
    call IssueTargetOrderBJ(GetLastCreatedUnit(), "harvest", gg_unit_ngol_0011)
    call TriggerSleepAction(0.20)
    call CreateNUnitsAtLoc(1, 'hpea', Player(1), GetRandomLocInRect(gg_rct_02Harvest_Gold), 0.00)
    call IssueTargetOrderBJ(GetLastCreatedUnit(), "harvest", gg_unit_ngol_0011)
    call TriggerSleepAction(0.20)
    call CreateNUnitsAtLoc(1, 'hpea', Player(1), GetRandomLocInRect(gg_rct_02Harvest_Lumber), 0.00)
    call IssueTargetDestructableOrder(GetLastCreatedUnit(), "harvest", gg_dest_VTlt_2025)
    // -----Main Quest Timer-----
    call StartTimerBJ(udg_Timer30Minute, false, 1800.00)
    call CreateTimerDialogBJ(udg_Timer30Minute, "TRIGSTR_080")
    // -----Countdown Timer Warning-----
    call StartTimerBJ(udg_TimerWarning, false, 1200.00)
    // -------------------Countdown Timer Hopeless--------------------
    call StartTimerBJ(udg_HopelessTimer, false, 1770.00)
    call EnableTrigger(gg_trg_ArthasHopeless_QUE)
    // -------------------Countdown Caravan Quest--------------------
    call StartTimerBJ(udg_CaravanTown1Timer, false, 450.00)
    // -------------------Countdown Timer Suicide-----------------------
    if ( Trig_Mission_Begins_Func028001() ) then
        call StartTimerBJ(udg_SuicideTimer, false, 1755.00)
    else
        call DoNothing()
    endif
    if ( Trig_Mission_Begins_Func029001() ) then
        call StartTimerBJ(udg_SuicideTimer, false, 1740.00)
    else
        call DoNothing()
    endif
    if ( Trig_Mission_Begins_Func030001() ) then
        call StartTimerBJ(udg_SuicideTimer, false, 1680.00)
    else
        call DoNothing()
    endif
    // -----Countdown Orange AI Attack Wave-----
    call StartTimerBJ(udg_OrangeAIAttackWave, false, 1080.00)
    // ----------
    call EnableTrigger(gg_trg_Ending_Start)
    call EnableTrigger(gg_trg_Timer_Warning_10_QUE)
    call EnableTrigger(gg_trg_Villagers_Greeting_QUE)
    call TriggerExecute(gg_trg_Start_AI)
endfunction

//===========================================================================
function InitTrig_Mission_Begins takes nothing returns nothing
    set gg_trg_Mission_Begins=CreateTrigger()
    call TriggerAddAction(gg_trg_Mission_Begins, function Trig_Mission_Begins_Actions)
endfunction

//===========================================================================
// Trigger: Jaina Items Drop
//===========================================================================
function Trig_Jaina_Items_Drop_Actions takes nothing returns nothing
    call SetItemPositionLoc(UnitItemInSlotBJ(udg_Jaina, 1), GetRectCenter(gg_rct_Jaina_Item_Drop_01))
    call SetItemPositionLoc(UnitItemInSlotBJ(udg_Jaina, 2), GetRectCenter(gg_rct_Jaina_Item_Drop_02))
    call SetItemPositionLoc(UnitItemInSlotBJ(udg_Jaina, 3), GetRectCenter(gg_rct_Jaina_Item_Drop_03))
    call SetItemPositionLoc(UnitItemInSlotBJ(udg_Jaina, 4), GetRectCenter(gg_rct_Jaina_Item_Drop_04))
    call SetItemPositionLoc(UnitItemInSlotBJ(udg_Jaina, 5), GetRectCenter(gg_rct_Jaina_Item_Drop_05))
    call SetItemPositionLoc(UnitItemInSlotBJ(udg_Jaina, 6), GetRectCenter(gg_rct_Jaina_Item_Drop_06))
endfunction

//===========================================================================
function InitTrig_Jaina_Items_Drop takes nothing returns nothing
    set gg_trg_Jaina_Items_Drop=CreateTrigger()
    call TriggerAddAction(gg_trg_Jaina_Items_Drop, function Trig_Jaina_Items_Drop_Actions)
endfunction

//===========================================================================
// Trigger: Start AI
//
// This trigger is fired from either Intro Cancelled, or Cinematic F
// Start the AI
// Begin moving the Caravan
//===========================================================================
function Trig_Start_AI_Actions takes nothing returns nothing
    // Delay the AI start by 2 seconds, to distribute the perf spike
    call TriggerSleepAction(4.00)
    call StartCampaignAI(Player(6), "h05_green.ai")
    call TriggerSleepAction(2.00)
    call StartCampaignAI(Player(3), "h05_purple.ai")
    call CommandAI(Player(6), 0, 0)
    call CommandAI(Player(3), 0, 0)
    call RemoveAllGuardPositions(Player(4))
endfunction

//===========================================================================
function InitTrig_Start_AI takes nothing returns nothing
    set gg_trg_Start_AI=CreateTrigger()
    call TriggerAddAction(gg_trg_Start_AI, function Trig_Start_AI_Actions)
endfunction

//===========================================================================
// Trigger: Zombies are Dead
//===========================================================================
function Trig_Zombies_are_Dead_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetTriggerUnit(), udg_CorruptVillagerGroup1) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Zombies_are_Dead_Func002001 takes nothing returns boolean
    return ( CountUnitsInGroup(udg_CorruptVillagerGroup1) == 0 )
endfunction

function Trig_Zombies_are_Dead_Actions takes nothing returns nothing
    call GroupRemoveUnitSimple(GetTriggerUnit(), udg_CorruptVillagerGroup1)
    if ( Trig_Zombies_are_Dead_Func002001() ) then
        call QueuedTriggerAddBJ(gg_trg_Main_Quest_Discovered, true)
    else
        call DoNothing()
    endif
endfunction

//===========================================================================
function InitTrig_Zombies_are_Dead takes nothing returns nothing
    set gg_trg_Zombies_are_Dead=CreateTrigger()
    call TriggerRegisterPlayerUnitEventSimple(gg_trg_Zombies_are_Dead, Player(5), EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(gg_trg_Zombies_are_Dead, Condition(function Trig_Zombies_are_Dead_Conditions))
    call TriggerAddAction(gg_trg_Zombies_are_Dead, function Trig_Zombies_are_Dead_Actions)
endfunction

//===========================================================================
// Trigger: Main Quest Discovered
//===========================================================================
function Trig_Main_Quest_Discovered_Conditions takes nothing returns boolean
    if ( not ( udg_GAMEOVER == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Main_Quest_Discovered_Actions takes nothing returns nothing
    call TriggerSleepAction(2)
    call QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_026")
    call TriggerSleepAction(10.00)
    call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
    call TriggerSleepAction(10.00)
    call QueuedTriggerAddBJ(gg_trg_Sorceress_Available, true)
endfunction

//===========================================================================
function InitTrig_Main_Quest_Discovered takes nothing returns nothing
    set gg_trg_Main_Quest_Discovered=CreateTrigger()
    call TriggerAddCondition(gg_trg_Main_Quest_Discovered, Condition(function Trig_Main_Quest_Discovered_Conditions))
    call TriggerAddAction(gg_trg_Main_Quest_Discovered, function Trig_Main_Quest_Discovered_Actions)
endfunction

//===========================================================================
// Trigger: Sorceress Available
//===========================================================================
function Trig_Sorceress_Available_Actions takes nothing returns nothing
    call QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_UNITAVAILABLE, "TRIGSTR_296")
    call TriggerSleepAction(10.00)
    call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_Sorceress_Available takes nothing returns nothing
    set gg_trg_Sorceress_Available=CreateTrigger()
    call TriggerAddAction(gg_trg_Sorceress_Available, function Trig_Sorceress_Available_Actions)
endfunction

//===========================================================================
// Trigger: First Attack Wave 01 QUE
//
// Undead Reach Hearthglen
//===========================================================================
function Trig_First_Attack_Wave_01_QUE_Conditions takes nothing returns boolean
    if ( not ( IsUnitEnemy(GetTriggerUnit(), Player(1)) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_First_Attack_Wave_01_QUE_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call QueuedTriggerAddBJ(gg_trg_First_Attack_Wave_01, true)
endfunction

//===========================================================================
function InitTrig_First_Attack_Wave_01_QUE takes nothing returns nothing
    set gg_trg_First_Attack_Wave_01_QUE=CreateTrigger()
    call TriggerRegisterUnitInRangeSimple(gg_trg_First_Attack_Wave_01_QUE, 700.00, gg_unit_hgtw_0085)
    call TriggerRegisterUnitInRangeSimple(gg_trg_First_Attack_Wave_01_QUE, 700.00, gg_unit_hgtw_0066)
    call TriggerRegisterUnitInRangeSimple(gg_trg_First_Attack_Wave_01_QUE, 700.00, gg_unit_hgtw_0125)
    call TriggerAddCondition(gg_trg_First_Attack_Wave_01_QUE, Condition(function Trig_First_Attack_Wave_01_QUE_Conditions))
    call TriggerAddAction(gg_trg_First_Attack_Wave_01_QUE, function Trig_First_Attack_Wave_01_QUE_Actions)
endfunction

//===========================================================================
// Trigger: First Attack Wave 01
//
// Undead Reach Hearthglen
//===========================================================================
function Trig_First_Attack_Wave_01_Conditions takes nothing returns boolean
    if ( not ( udg_GAMEOVER == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_First_Attack_Wave_01_Func005001 takes nothing returns boolean
    return ( IsUnitAliveBJ(udg_Arthas) == true )
endfunction

function Trig_First_Attack_Wave_01_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call SetSpeechVolumeGroupsBJ()
    call TransmissionFromUnitTypeWithNameBJ(GetPlayersAll(), Player(1), 'hfoo', "TRIGSTR_286", GetRectCenter(gg_rct_02Hearthglen), gg_snd_H05Footman24, "TRIGSTR_285", bj_TIMETYPE_ADD, 0, true)
    if ( Trig_First_Attack_Wave_01_Func005001() ) then
        call TransmissionFromUnitWithNameBJ(GetPlayersAll(), udg_Arthas, "TRIGSTR_275", gg_snd_H05Arthas25, "TRIGSTR_276", bj_TIMETYPE_ADD, 0, true)
    else
        call DoNothing()
    endif
    call VolumeGroupResetBJ()
    call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_First_Attack_Wave_01 takes nothing returns nothing
    set gg_trg_First_Attack_Wave_01=CreateTrigger()
    call TriggerAddCondition(gg_trg_First_Attack_Wave_01, Condition(function Trig_First_Attack_Wave_01_Conditions))
    call TriggerAddAction(gg_trg_First_Attack_Wave_01, function Trig_First_Attack_Wave_01_Actions)
endfunction

//===========================================================================
// Trigger: City Building
//===========================================================================
function Trig_City_Building_Actions takes nothing returns nothing
    call CreateNUnitsAtLoc(1, 'nshe', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Sheep), 180.00)
    set udg_SheepItem=GetLastCreatedUnit()
    call AttachSoundToUnitBJ(gg_snd_Sheep1, udg_SheepItem)
    call PlaySoundBJ(gg_snd_Sheep1)
endfunction

//===========================================================================
function InitTrig_City_Building takes nothing returns nothing
    set gg_trg_City_Building=CreateTrigger()
    call TriggerRegisterDeathEvent(gg_trg_City_Building, gg_dest_LTcr_2867)
    call TriggerAddAction(gg_trg_City_Building, function Trig_City_Building_Actions)
endfunction

//===========================================================================
// Trigger: Sheep
//===========================================================================
function Trig_Sheep_Conditions takes nothing returns boolean
    if ( not ( GetTriggerUnit() == udg_SheepItem ) ) then
        return false
    endif
    return true
endfunction

function Trig_Sheep_Actions takes nothing returns nothing
    set udg_SheepPoint=GetUnitLoc(udg_SheepItem)
    call CreateItemLoc('I017', udg_SheepPoint)
endfunction

//===========================================================================
function InitTrig_Sheep takes nothing returns nothing
    set gg_trg_Sheep=CreateTrigger()
    call TriggerRegisterPlayerUnitEventSimple(gg_trg_Sheep, Player(PLAYER_NEUTRAL_PASSIVE), EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(gg_trg_Sheep, Condition(function Trig_Sheep_Conditions))
    call TriggerAddAction(gg_trg_Sheep, function Trig_Sheep_Actions)
endfunction

//===========================================================================
// Trigger: ArthasHopeless QUE
//===========================================================================
function Trig_ArthasHopeless_QUE_Actions takes nothing returns nothing
    call QueuedTriggerAddBJ(gg_trg_ArthasHopeless, true)
endfunction

//===========================================================================
function InitTrig_ArthasHopeless_QUE takes nothing returns nothing
    set gg_trg_ArthasHopeless_QUE=CreateTrigger()
    call DisableTrigger(gg_trg_ArthasHopeless_QUE)
    call TriggerRegisterTimerExpireEventBJ(gg_trg_ArthasHopeless_QUE, udg_HopelessTimer)
    call TriggerAddAction(gg_trg_ArthasHopeless_QUE, function Trig_ArthasHopeless_QUE_Actions)
endfunction

//===========================================================================
// Trigger: ArthasHopeless
//===========================================================================
function Trig_ArthasHopeless_Conditions takes nothing returns boolean
    if ( not ( udg_GAMEOVER == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_ArthasHopeless_Func003001 takes nothing returns boolean
    return ( IsUnitAliveBJ(udg_Arthas) == true )
endfunction

function Trig_ArthasHopeless_Actions takes nothing returns nothing
    call SetSpeechVolumeGroupsBJ()
    if ( Trig_ArthasHopeless_Func003001() ) then
        call TransmissionFromUnitWithNameBJ(GetPlayersAll(), udg_Arthas, "TRIGSTR_216", gg_snd_H05Arthas26, "TRIGSTR_217", bj_TIMETYPE_ADD, 0, true)
    else
        call TriggerSleepAction(0.10)
    endif
    call VolumeGroupResetBJ()
    call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_ArthasHopeless takes nothing returns nothing
    set gg_trg_ArthasHopeless=CreateTrigger()
    call TriggerAddCondition(gg_trg_ArthasHopeless, Condition(function Trig_ArthasHopeless_Conditions))
    call TriggerAddAction(gg_trg_ArthasHopeless, function Trig_ArthasHopeless_Actions)
endfunction

//===========================================================================
// Trigger: Timer Warning 10 QUE
//===========================================================================
function Trig_Timer_Warning_10_QUE_Actions takes nothing returns nothing
    call QueuedTriggerAddBJ(gg_trg_Timer_Warning_10, true)
endfunction

//===========================================================================
function InitTrig_Timer_Warning_10_QUE takes nothing returns nothing
    set gg_trg_Timer_Warning_10_QUE=CreateTrigger()
    call DisableTrigger(gg_trg_Timer_Warning_10_QUE)
    call TriggerRegisterTimerExpireEventBJ(gg_trg_Timer_Warning_10_QUE, udg_TimerWarning)
    call TriggerAddAction(gg_trg_Timer_Warning_10_QUE, function Trig_Timer_Warning_10_QUE_Actions)
endfunction

//===========================================================================
// Trigger: Timer Warning 10
//===========================================================================
function Trig_Timer_Warning_10_Conditions takes nothing returns boolean
    if ( not ( udg_GAMEOVER == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Timer_Warning_10_Actions takes nothing returns nothing
    call QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_HINT, "TRIGSTR_133")
    call TriggerSleepAction(bj_QUEUE_DELAY_HINT)
    call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_Timer_Warning_10 takes nothing returns nothing
    set gg_trg_Timer_Warning_10=CreateTrigger()
    call TriggerAddCondition(gg_trg_Timer_Warning_10, Condition(function Trig_Timer_Warning_10_Conditions))
    call TriggerAddAction(gg_trg_Timer_Warning_10, function Trig_Timer_Warning_10_Actions)
endfunction

//===========================================================================
// Trigger: Outside Farmer 01
//===========================================================================
function Trig_Outside_Farmer_01_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ(gg_unit_nvil_0141, "move", GetRandomLocInRect(gg_rct_02Outside_Farm))
endfunction

//===========================================================================
function InitTrig_Outside_Farmer_01 takes nothing returns nothing
    set gg_trg_Outside_Farmer_01=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_Outside_Farmer_01, 13.00)
    call TriggerAddAction(gg_trg_Outside_Farmer_01, function Trig_Outside_Farmer_01_Actions)
endfunction

//===========================================================================
// Trigger: Outside Farmer 02
//===========================================================================
function Trig_Outside_Farmer_02_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ(gg_unit_nvil_0143, "move", GetRandomLocInRect(gg_rct_02Outside_Farm))
endfunction

//===========================================================================
function InitTrig_Outside_Farmer_02 takes nothing returns nothing
    set gg_trg_Outside_Farmer_02=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_Outside_Farmer_02, 17.00)
    call TriggerAddAction(gg_trg_Outside_Farmer_02, function Trig_Outside_Farmer_02_Actions)
endfunction

//===========================================================================
// Trigger: Outside Farmer 03
//===========================================================================
function Trig_Outside_Farmer_03_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ(gg_unit_nvil_0142, "move", GetRandomLocInRect(gg_rct_02Outside_Farm))
endfunction

//===========================================================================
function InitTrig_Outside_Farmer_03 takes nothing returns nothing
    set gg_trg_Outside_Farmer_03=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_Outside_Farmer_03, 9.00)
    call TriggerAddAction(gg_trg_Outside_Farmer_03, function Trig_Outside_Farmer_03_Actions)
endfunction

//===========================================================================
// Trigger: Outside Famer 01 Zombie
//===========================================================================
function Trig_Outside_Famer_01_Zombie_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetTriggerUnit()) == Player(1) ) ) then
        return false
    endif
    return true
endfunction

function Trig_Outside_Famer_01_Zombie_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call DisableTrigger(gg_trg_Outside_Farmer_01)
    call DisableTrigger(gg_trg_Outside_Farmer_02)
    call DisableTrigger(gg_trg_Outside_Farmer_03)
    call ConditionalTriggerExecute(gg_trg_Malganis_Corruption)
endfunction

//===========================================================================
function InitTrig_Outside_Famer_01_Zombie takes nothing returns nothing
    set gg_trg_Outside_Famer_01_Zombie=CreateTrigger()
    call TriggerRegisterUnitInRangeSimple(gg_trg_Outside_Famer_01_Zombie, 600.00, gg_unit_nvil_0141)
    call TriggerAddCondition(gg_trg_Outside_Famer_01_Zombie, Condition(function Trig_Outside_Famer_01_Zombie_Conditions))
    call TriggerAddAction(gg_trg_Outside_Famer_01_Zombie, function Trig_Outside_Famer_01_Zombie_Actions)
endfunction

//===========================================================================
// Trigger: Malganis Corruption
//===========================================================================
function Trig_Malganis_Corruption_Actions takes nothing returns nothing
    call CreateNUnitsAtLoc(1, 'UC02', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Malganis_Corruption_08), bj_UNIT_FACING)
    set udg_MalGanisOutside01=GetLastCreatedUnit()
    call SetUnitManaPercentBJ(udg_MalGanisOutside01, 100)
    call ShowUnitHide(udg_MalGanisOutside01)
    call SetHeroLevelBJ(udg_MalGanisOutside01, 6, false)
    call SelectHeroSkill(udg_MalGanisOutside01, 'SNdc')
    call IssueTargetOrderBJ(udg_MalGanisOutside01, "darkconversion", gg_unit_nvil_0141)
    // ----------
    call CreateNUnitsAtLoc(1, 'UC02', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Malganis_Corruption_08), bj_UNIT_FACING)
    set udg_MalGanisOutside02=GetLastCreatedUnit()
    call SetUnitManaPercentBJ(udg_MalGanisOutside02, 100)
    call ShowUnitHide(udg_MalGanisOutside02)
    call SetHeroLevelBJ(udg_MalGanisOutside02, 6, false)
    call SelectHeroSkill(udg_MalGanisOutside02, 'SNdc')
    call IssueTargetOrderBJ(udg_MalGanisOutside02, "darkconversion", gg_unit_nvil_0143)
    // ----------
    call CreateNUnitsAtLoc(1, 'UC02', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Malganis_Corruption_08), bj_UNIT_FACING)
    set udg_MalGanisOutside03=GetLastCreatedUnit()
    call SetUnitManaPercentBJ(udg_MalGanisOutside03, 100)
    call ShowUnitHide(udg_MalGanisOutside03)
    call SetHeroLevelBJ(udg_MalGanisOutside03, 6, false)
    call SelectHeroSkill(udg_MalGanisOutside03, 'SNdc')
    call IssueTargetOrderBJ(udg_MalGanisOutside03, "darkconversion", gg_unit_nvil_0142)
endfunction

//===========================================================================
function InitTrig_Malganis_Corruption takes nothing returns nothing
    set gg_trg_Malganis_Corruption=CreateTrigger()
    call TriggerAddAction(gg_trg_Malganis_Corruption, function Trig_Malganis_Corruption_Actions)
endfunction

//===========================================================================
// Trigger: Dark Conversion Outside Farm
//===========================================================================
function Trig_Dark_Conversion_Outside_Farm_Conditions takes nothing returns boolean
    if ( not ( RectContainsUnit(gg_rct_02Outside_Farm, GetSummonedUnit()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Dark_Conversion_Outside_Farm_Actions takes nothing returns nothing
    call RemoveUnit(udg_MalGanis01)
    call RemoveUnit(udg_MalGanis02)
    call RemoveUnit(udg_MalGanis03)
    call SetUnitOwner(GetSummonedUnit(), Player(5), true)
    call ReplaceUnitBJ(GetSummonedUnit(), 'nzom', bj_UNIT_STATE_METHOD_RELATIVE)
    call GroupAddUnitSimple(GetLastReplacedUnitBJ(), udg_OutsideFarmGroup)
endfunction

//===========================================================================
function InitTrig_Dark_Conversion_Outside_Farm takes nothing returns nothing
    set gg_trg_Dark_Conversion_Outside_Farm=CreateTrigger()
    call TriggerRegisterPlayerUnitEventSimple(gg_trg_Dark_Conversion_Outside_Farm, Player(PLAYER_NEUTRAL_PASSIVE), EVENT_PLAYER_UNIT_SUMMON)
    call TriggerAddCondition(gg_trg_Dark_Conversion_Outside_Farm, Condition(function Trig_Dark_Conversion_Outside_Farm_Conditions))
    call TriggerAddAction(gg_trg_Dark_Conversion_Outside_Farm, function Trig_Dark_Conversion_Outside_Farm_Actions)
endfunction

//===========================================================================
// Trigger: Crate Item
//===========================================================================
function Trig_Crate_Item_Actions takes nothing returns nothing
    call CreateItemLoc('I018', GetDestructableLoc(gg_dest_LTcr_2633))
endfunction

//===========================================================================
function InitTrig_Crate_Item takes nothing returns nothing
    set gg_trg_Crate_Item=CreateTrigger()
    call TriggerRegisterDeathEvent(gg_trg_Crate_Item, gg_dest_LTcr_2633)
    call TriggerAddAction(gg_trg_Crate_Item, function Trig_Crate_Item_Actions)
endfunction

//===========================================================================
// Trigger: 01Roaming Villager A
//===========================================================================
function Trig_01Roaming_Villager_A_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ(gg_unit_nvil_0146, "move", GetRandomLocInRect(gg_rct_02_Roaming_Villager_A))
endfunction

//===========================================================================
function InitTrig_01Roaming_Villager_A takes nothing returns nothing
    set gg_trg_01Roaming_Villager_A=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_01Roaming_Villager_A, 8.00)
    call TriggerAddAction(gg_trg_01Roaming_Villager_A, function Trig_01Roaming_Villager_A_Actions)
endfunction

//===========================================================================
// Trigger: 01Roaming Villager Aa
//===========================================================================
function Trig_01Roaming_Villager_Aa_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ(gg_unit_nvlw_0152, "move", GetRandomLocInRect(gg_rct_02_Roaming_Villager_A))
endfunction

//===========================================================================
function InitTrig_01Roaming_Villager_Aa takes nothing returns nothing
    set gg_trg_01Roaming_Villager_Aa=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_01Roaming_Villager_Aa, 7.00)
    call TriggerAddAction(gg_trg_01Roaming_Villager_Aa, function Trig_01Roaming_Villager_Aa_Actions)
endfunction

//===========================================================================
// Trigger: 01Roaming Villager B
//===========================================================================
function Trig_01Roaming_Villager_B_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ(gg_unit_nvil_0150, "move", GetRandomLocInRect(gg_rct_02_Roaming_Villager_A))
endfunction

//===========================================================================
function InitTrig_01Roaming_Villager_B takes nothing returns nothing
    set gg_trg_01Roaming_Villager_B=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_01Roaming_Villager_B, 6.00)
    call TriggerAddAction(gg_trg_01Roaming_Villager_B, function Trig_01Roaming_Villager_B_Actions)
endfunction

//===========================================================================
// Trigger: 01Roaming Villager Bb
//===========================================================================
function Trig_01Roaming_Villager_Bb_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ(gg_unit_nvil_0148, "move", GetRandomLocInRect(gg_rct_02_Roaming_Villager_A))
endfunction

//===========================================================================
function InitTrig_01Roaming_Villager_Bb takes nothing returns nothing
    set gg_trg_01Roaming_Villager_Bb=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_01Roaming_Villager_Bb, 9.00)
    call TriggerAddAction(gg_trg_01Roaming_Villager_Bb, function Trig_01Roaming_Villager_Bb_Actions)
endfunction

//===========================================================================
// Trigger: 01Villager Retreat A
//===========================================================================
function Trig_01Villager_Retreat_A_Actions takes nothing returns nothing
    call DisableTrigger(gg_trg_01Roaming_Villager_A)
    call DisableTrigger(gg_trg_01Roaming_Villager_Aa)
    call SetUnitPathing(gg_unit_nvil_0146, false)
    call SetUnitPathing(gg_unit_nvlw_0152, false)
    call IssuePointOrderLocBJ(gg_unit_nvil_0146, "move", GetRectCenter(gg_rct_02_Villager_A_Retreat_A))
    call IssuePointOrderLocBJ(gg_unit_nvlw_0152, "move", GetRectCenter(gg_rct_02_Villager_A_Retreat_A))
endfunction

//===========================================================================
function InitTrig_01Villager_Retreat_A takes nothing returns nothing
    set gg_trg_01Villager_Retreat_A=CreateTrigger()
    call TriggerAddAction(gg_trg_01Villager_Retreat_A, function Trig_01Villager_Retreat_A_Actions)
endfunction

//===========================================================================
// Trigger: 01Villager Retreat B
//===========================================================================
function Trig_01Villager_Retreat_B_Actions takes nothing returns nothing
    call DisableTrigger(gg_trg_01Roaming_Villager_B)
    call DisableTrigger(gg_trg_01Roaming_Villager_Bb)
    call SetUnitPathing(gg_unit_nvil_0150, false)
    call SetUnitPathing(gg_unit_nvil_0148, false)
    call IssuePointOrderLocBJ(gg_unit_nvil_0150, "move", GetRectCenter(gg_rct_02_Villager_A_Retreat_B))
    call IssuePointOrderLocBJ(gg_unit_nvil_0148, "move", GetRectCenter(gg_rct_02_Villager_A_Retreat_B))
endfunction

//===========================================================================
function InitTrig_01Villager_Retreat_B takes nothing returns nothing
    set gg_trg_01Villager_Retreat_B=CreateTrigger()
    call TriggerAddAction(gg_trg_01Villager_Retreat_B, function Trig_01Villager_Retreat_B_Actions)
endfunction

//===========================================================================
// Trigger: 01Remove Villager 01
//===========================================================================
function Trig_01Remove_Villager_01_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetTriggerUnit(), udg_RoamingVillagersA) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_01Remove_Villager_01_Actions takes nothing returns nothing
    call RemoveUnit(GetTriggerUnit())
    call TriggerExecute(gg_trg_01Villager_Retreat_A)
    call TriggerExecute(gg_trg_01Villager_Retreat_B)
endfunction

//===========================================================================
function InitTrig_01Remove_Villager_01 takes nothing returns nothing
    set gg_trg_01Remove_Villager_01=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_01Remove_Villager_01, gg_rct_02_Villager_A_Retreat_A)
    call TriggerAddCondition(gg_trg_01Remove_Villager_01, Condition(function Trig_01Remove_Villager_01_Conditions))
    call TriggerAddAction(gg_trg_01Remove_Villager_01, function Trig_01Remove_Villager_01_Actions)
endfunction

//===========================================================================
// Trigger: 01Remove Villager 02
//===========================================================================
function Trig_01Remove_Villager_02_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetTriggerUnit(), udg_RoamingVillagersA) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_01Remove_Villager_02_Actions takes nothing returns nothing
    call RemoveUnit(GetTriggerUnit())
    call TriggerExecute(gg_trg_01Villager_Retreat_A)
    call TriggerExecute(gg_trg_01Villager_Retreat_B)
endfunction

//===========================================================================
function InitTrig_01Remove_Villager_02 takes nothing returns nothing
    set gg_trg_01Remove_Villager_02=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_01Remove_Villager_02, gg_rct_02_Villager_A_Retreat_B)
    call TriggerAddCondition(gg_trg_01Remove_Villager_02, Condition(function Trig_01Remove_Villager_02_Conditions))
    call TriggerAddAction(gg_trg_01Remove_Villager_02, function Trig_01Remove_Villager_02_Actions)
endfunction

//===========================================================================
// Trigger: 02Roaming Villager A
//===========================================================================
function Trig_02Roaming_Villager_A_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ(gg_unit_nvil_0161, "move", GetRandomLocInRect(gg_rct_02_Roaming_Villager_B))
endfunction

//===========================================================================
function InitTrig_02Roaming_Villager_A takes nothing returns nothing
    set gg_trg_02Roaming_Villager_A=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_02Roaming_Villager_A, 6.00)
    call TriggerAddAction(gg_trg_02Roaming_Villager_A, function Trig_02Roaming_Villager_A_Actions)
endfunction

//===========================================================================
// Trigger: 02Roaming Villager B
//===========================================================================
function Trig_02Roaming_Villager_B_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ(gg_unit_nvil_0159, "move", GetRandomLocInRect(gg_rct_02_Roaming_Villager_B))
endfunction

//===========================================================================
function InitTrig_02Roaming_Villager_B takes nothing returns nothing
    set gg_trg_02Roaming_Villager_B=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_02Roaming_Villager_B, 8.00)
    call TriggerAddAction(gg_trg_02Roaming_Villager_B, function Trig_02Roaming_Villager_B_Actions)
endfunction

//===========================================================================
// Trigger: 02Roaming Villager C
//===========================================================================
function Trig_02Roaming_Villager_C_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ(gg_unit_nvlw_0160, "move", GetRandomLocInRect(gg_rct_02_Roaming_Villager_B))
endfunction

//===========================================================================
function InitTrig_02Roaming_Villager_C takes nothing returns nothing
    set gg_trg_02Roaming_Villager_C=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_02Roaming_Villager_C, 9.00)
    call TriggerAddAction(gg_trg_02Roaming_Villager_C, function Trig_02Roaming_Villager_C_Actions)
endfunction

//===========================================================================
// Trigger: 02Villager Retreat A
//===========================================================================
function Trig_02Villager_Retreat_A_Actions takes nothing returns nothing
    call DisableTrigger(gg_trg_02Roaming_Villager_A)
    call DisableTrigger(gg_trg_02Roaming_Villager_B)
    call DisableTrigger(gg_trg_02Roaming_Villager_C)
    call SetUnitPathing(gg_unit_nvil_0159, false)
    call SetUnitPathing(gg_unit_nvlw_0160, false)
    call SetUnitPathing(gg_unit_nvil_0161, false)
    call IssuePointOrderLocBJ(gg_unit_nvil_0159, "move", GetRectCenter(gg_rct_02_Villager_B_Retreat_A))
    call IssuePointOrderLocBJ(gg_unit_nvlw_0160, "move", GetRectCenter(gg_rct_02_Villager_B_Retreat_A))
    call IssuePointOrderLocBJ(gg_unit_nvil_0161, "move", GetRectCenter(gg_rct_02_Villager_B_Retreat_A))
endfunction

//===========================================================================
function InitTrig_02Villager_Retreat_A takes nothing returns nothing
    set gg_trg_02Villager_Retreat_A=CreateTrigger()
    call TriggerAddAction(gg_trg_02Villager_Retreat_A, function Trig_02Villager_Retreat_A_Actions)
endfunction

//===========================================================================
// Trigger: 02Remove Villager 01
//===========================================================================
function Trig_02Remove_Villager_01_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetTriggerUnit(), udg_RoamingVillagersB) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_02Remove_Villager_01_Actions takes nothing returns nothing
    call RemoveUnit(GetTriggerUnit())
    call TriggerExecute(gg_trg_02Villager_Retreat_A)
endfunction

//===========================================================================
function InitTrig_02Remove_Villager_01 takes nothing returns nothing
    set gg_trg_02Remove_Villager_01=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_02Remove_Villager_01, gg_rct_02_Villager_B_Retreat_A)
    call TriggerAddCondition(gg_trg_02Remove_Villager_01, Condition(function Trig_02Remove_Villager_01_Conditions))
    call TriggerAddAction(gg_trg_02Remove_Villager_01, function Trig_02Remove_Villager_01_Actions)
endfunction

//===========================================================================
// Trigger: 03Roaming Villager A
//===========================================================================
function Trig_03Roaming_Villager_A_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ(gg_unit_nvil_0155, "move", GetRandomLocInRect(gg_rct_02_Roaming_Villager_C))
endfunction

//===========================================================================
function InitTrig_03Roaming_Villager_A takes nothing returns nothing
    set gg_trg_03Roaming_Villager_A=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_03Roaming_Villager_A, 10.00)
    call TriggerAddAction(gg_trg_03Roaming_Villager_A, function Trig_03Roaming_Villager_A_Actions)
endfunction

//===========================================================================
// Trigger: 03Roaming Villager B
//===========================================================================
function Trig_03Roaming_Villager_B_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ(gg_unit_nvlw_0153, "move", GetRandomLocInRect(gg_rct_02_Roaming_Villager_C))
endfunction

//===========================================================================
function InitTrig_03Roaming_Villager_B takes nothing returns nothing
    set gg_trg_03Roaming_Villager_B=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_03Roaming_Villager_B, 12.00)
    call TriggerAddAction(gg_trg_03Roaming_Villager_B, function Trig_03Roaming_Villager_B_Actions)
endfunction

//===========================================================================
// Trigger: 03Roaming Villager C
//===========================================================================
function Trig_03Roaming_Villager_C_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ(gg_unit_nvlw_0154, "move", GetRandomLocInRect(gg_rct_02_Roaming_Villager_C))
endfunction

//===========================================================================
function InitTrig_03Roaming_Villager_C takes nothing returns nothing
    set gg_trg_03Roaming_Villager_C=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_03Roaming_Villager_C, 7.00)
    call TriggerAddAction(gg_trg_03Roaming_Villager_C, function Trig_03Roaming_Villager_C_Actions)
endfunction

//===========================================================================
// Trigger: 03Villager Retreat A
//===========================================================================
function Trig_03Villager_Retreat_A_Actions takes nothing returns nothing
    call DisableTrigger(gg_trg_03Roaming_Villager_A)
    call DisableTrigger(gg_trg_03Roaming_Villager_B)
    call DisableTrigger(gg_trg_03Roaming_Villager_C)
    call SetUnitPathing(gg_unit_nvil_0155, false)
    call SetUnitPathing(gg_unit_nvlw_0153, false)
    call SetUnitPathing(gg_unit_nvlw_0154, false)
    call IssuePointOrderLocBJ(gg_unit_nvil_0155, "move", GetRectCenter(gg_rct_02_Villager_C_Retreat_A))
    call IssuePointOrderLocBJ(gg_unit_nvlw_0153, "move", GetRectCenter(gg_rct_02_Villager_C_Retreat_A))
    call IssuePointOrderLocBJ(gg_unit_nvlw_0154, "move", GetRectCenter(gg_rct_02_Villager_C_Retreat_A))
endfunction

//===========================================================================
function InitTrig_03Villager_Retreat_A takes nothing returns nothing
    set gg_trg_03Villager_Retreat_A=CreateTrigger()
    call TriggerAddAction(gg_trg_03Villager_Retreat_A, function Trig_03Villager_Retreat_A_Actions)
endfunction

//===========================================================================
// Trigger: 03Remove Villager 01
//===========================================================================
function Trig_03Remove_Villager_01_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetTriggerUnit(), udg_RoamingVillagersC) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_03Remove_Villager_01_Actions takes nothing returns nothing
    call TriggerExecute(gg_trg_03Villager_Retreat_A)
    call RemoveUnit(GetTriggerUnit())
endfunction

//===========================================================================
function InitTrig_03Remove_Villager_01 takes nothing returns nothing
    set gg_trg_03Remove_Villager_01=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_03Remove_Villager_01, gg_rct_02_Villager_C_Retreat_A)
    call TriggerAddCondition(gg_trg_03Remove_Villager_01, Condition(function Trig_03Remove_Villager_01_Conditions))
    call TriggerAddAction(gg_trg_03Remove_Villager_01, function Trig_03Remove_Villager_01_Actions)
endfunction

//===========================================================================
// Trigger: 04Roaming Villager A
//===========================================================================
function Trig_04Roaming_Villager_A_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ(gg_unit_nvil_0156, "move", GetRandomLocInRect(gg_rct_02_Roaming_Villager_D))
endfunction

//===========================================================================
function InitTrig_04Roaming_Villager_A takes nothing returns nothing
    set gg_trg_04Roaming_Villager_A=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_04Roaming_Villager_A, 5.00)
    call TriggerAddAction(gg_trg_04Roaming_Villager_A, function Trig_04Roaming_Villager_A_Actions)
endfunction

//===========================================================================
// Trigger: 04Roaming Villager B
//===========================================================================
function Trig_04Roaming_Villager_B_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ(gg_unit_nvlw_0157, "move", GetRandomLocInRect(gg_rct_02_Roaming_Villager_D))
endfunction

//===========================================================================
function InitTrig_04Roaming_Villager_B takes nothing returns nothing
    set gg_trg_04Roaming_Villager_B=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_04Roaming_Villager_B, 16.00)
    call TriggerAddAction(gg_trg_04Roaming_Villager_B, function Trig_04Roaming_Villager_B_Actions)
endfunction

//===========================================================================
// Trigger: 04Roaming Villager C
//===========================================================================
function Trig_04Roaming_Villager_C_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ(gg_unit_nvil_0013, "move", GetRandomLocInRect(gg_rct_02_Roaming_Villager_D))
endfunction

//===========================================================================
function InitTrig_04Roaming_Villager_C takes nothing returns nothing
    set gg_trg_04Roaming_Villager_C=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_04Roaming_Villager_C, 10.00)
    call TriggerAddAction(gg_trg_04Roaming_Villager_C, function Trig_04Roaming_Villager_C_Actions)
endfunction

//===========================================================================
// Trigger: 04Villager Retreat A
//===========================================================================
function Trig_04Villager_Retreat_A_Actions takes nothing returns nothing
    call DisableTrigger(gg_trg_04Roaming_Villager_A)
    call DisableTrigger(gg_trg_04Roaming_Villager_B)
    call DisableTrigger(gg_trg_04Roaming_Villager_C)
    call SetUnitPathing(gg_unit_nvil_0013, false)
    call SetUnitPathing(gg_unit_nvil_0156, false)
    call SetUnitPathing(gg_unit_nvlw_0157, false)
    call IssuePointOrderLocBJ(gg_unit_nvil_0013, "move", GetRectCenter(gg_rct_02_Villager_D_Retreat_A))
    call IssuePointOrderLocBJ(gg_unit_nvil_0156, "move", GetRectCenter(gg_rct_02_Villager_D_Retreat_A))
    call IssuePointOrderLocBJ(gg_unit_nvlw_0157, "move", GetRectCenter(gg_rct_02_Villager_D_Retreat_A))
endfunction

//===========================================================================
function InitTrig_04Villager_Retreat_A takes nothing returns nothing
    set gg_trg_04Villager_Retreat_A=CreateTrigger()
    call TriggerAddAction(gg_trg_04Villager_Retreat_A, function Trig_04Villager_Retreat_A_Actions)
endfunction

//===========================================================================
// Trigger: 04Remove Villager 01
//===========================================================================
function Trig_04Remove_Villager_01_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetTriggerUnit(), udg_RoamingVillagersD) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_04Remove_Villager_01_Actions takes nothing returns nothing
    call RemoveUnit(GetTriggerUnit())
    call TriggerExecute(gg_trg_04Villager_Retreat_A)
endfunction

//===========================================================================
function InitTrig_04Remove_Villager_01 takes nothing returns nothing
    set gg_trg_04Remove_Villager_01=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_04Remove_Villager_01, gg_rct_02_Villager_D_Retreat_A)
    call TriggerAddCondition(gg_trg_04Remove_Villager_01, Condition(function Trig_04Remove_Villager_01_Conditions))
    call TriggerAddAction(gg_trg_04Remove_Villager_01, function Trig_04Remove_Villager_01_Actions)
endfunction

//===========================================================================
// Trigger: 05Roaming Villager A
//===========================================================================
function Trig_05Roaming_Villager_A_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ(gg_unit_nvlw_0158, "move", GetRandomLocInRect(gg_rct_02_Roaming_Villager_E))
endfunction

//===========================================================================
function InitTrig_05Roaming_Villager_A takes nothing returns nothing
    set gg_trg_05Roaming_Villager_A=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_05Roaming_Villager_A, 10.00)
    call TriggerAddAction(gg_trg_05Roaming_Villager_A, function Trig_05Roaming_Villager_A_Actions)
endfunction

//===========================================================================
// Trigger: 05Roaming Villager B
//===========================================================================
function Trig_05Roaming_Villager_B_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ(gg_unit_nvlw_0169, "move", GetRandomLocInRect(gg_rct_02_Roaming_Villager_E))
endfunction

//===========================================================================
function InitTrig_05Roaming_Villager_B takes nothing returns nothing
    set gg_trg_05Roaming_Villager_B=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_05Roaming_Villager_B, 15.00)
    call TriggerAddAction(gg_trg_05Roaming_Villager_B, function Trig_05Roaming_Villager_B_Actions)
endfunction

//===========================================================================
// Trigger: 05Villager Retreat A
//===========================================================================
function Trig_05Villager_Retreat_A_Actions takes nothing returns nothing
    call DisableTrigger(gg_trg_05Roaming_Villager_A)
    call DisableTrigger(gg_trg_05Roaming_Villager_B)
    call SetUnitPathing(gg_unit_nvlw_0169, false)
    call SetUnitPathing(gg_unit_nvlw_0158, false)
    call IssuePointOrderLocBJ(gg_unit_nvlw_0169, "move", GetRectCenter(gg_rct_02_Villager_E_Retreat_A))
    call IssuePointOrderLocBJ(gg_unit_nvlw_0158, "move", GetRectCenter(gg_rct_02_Villager_E_Retreat_A))
endfunction

//===========================================================================
function InitTrig_05Villager_Retreat_A takes nothing returns nothing
    set gg_trg_05Villager_Retreat_A=CreateTrigger()
    call TriggerAddAction(gg_trg_05Villager_Retreat_A, function Trig_05Villager_Retreat_A_Actions)
endfunction

//===========================================================================
// Trigger: 05Remove Villager 01
//===========================================================================
function Trig_05Remove_Villager_01_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetTriggerUnit(), udg_RoamingVillagersE) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_05Remove_Villager_01_Actions takes nothing returns nothing
    call RemoveUnit(GetTriggerUnit())
    call TriggerExecute(gg_trg_05Villager_Retreat_A)
endfunction

//===========================================================================
function InitTrig_05Remove_Villager_01 takes nothing returns nothing
    set gg_trg_05Remove_Villager_01=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_05Remove_Villager_01, gg_rct_02_Villager_E_Retreat_A)
    call TriggerAddCondition(gg_trg_05Remove_Villager_01, Condition(function Trig_05Remove_Villager_01_Conditions))
    call TriggerAddAction(gg_trg_05Remove_Villager_01, function Trig_05Remove_Villager_01_Actions)
endfunction

//===========================================================================
// Trigger: 06Roaming Villager A
//===========================================================================
function Trig_06Roaming_Villager_A_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ(gg_unit_nvlw_0164, "move", GetRandomLocInRect(gg_rct_02_Roaming_Villager_F))
endfunction

//===========================================================================
function InitTrig_06Roaming_Villager_A takes nothing returns nothing
    set gg_trg_06Roaming_Villager_A=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_06Roaming_Villager_A, 13.00)
    call TriggerAddAction(gg_trg_06Roaming_Villager_A, function Trig_06Roaming_Villager_A_Actions)
endfunction

//===========================================================================
// Trigger: 06Roaming Villager B
//===========================================================================
function Trig_06Roaming_Villager_B_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ(gg_unit_nvil_0162, "move", GetRandomLocInRect(gg_rct_02_Roaming_Villager_F))
endfunction

//===========================================================================
function InitTrig_06Roaming_Villager_B takes nothing returns nothing
    set gg_trg_06Roaming_Villager_B=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_06Roaming_Villager_B, 10.00)
    call TriggerAddAction(gg_trg_06Roaming_Villager_B, function Trig_06Roaming_Villager_B_Actions)
endfunction

//===========================================================================
// Trigger: 06Roaming Villager C
//===========================================================================
function Trig_06Roaming_Villager_C_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ(gg_unit_nvlw_0165, "move", GetRandomLocInRect(gg_rct_02_Roaming_Villager_F))
endfunction

//===========================================================================
function InitTrig_06Roaming_Villager_C takes nothing returns nothing
    set gg_trg_06Roaming_Villager_C=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_06Roaming_Villager_C, 6.00)
    call TriggerAddAction(gg_trg_06Roaming_Villager_C, function Trig_06Roaming_Villager_C_Actions)
endfunction

//===========================================================================
// Trigger: 06Roaming Villager D
//===========================================================================
function Trig_06Roaming_Villager_D_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ(gg_unit_nvlw_0166, "move", GetRandomLocInRect(gg_rct_02_Roaming_Villager_F))
endfunction

//===========================================================================
function InitTrig_06Roaming_Villager_D takes nothing returns nothing
    set gg_trg_06Roaming_Villager_D=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_06Roaming_Villager_D, 9.00)
    call TriggerAddAction(gg_trg_06Roaming_Villager_D, function Trig_06Roaming_Villager_D_Actions)
endfunction

//===========================================================================
// Trigger: 06Roaming Villager E
//===========================================================================
function Trig_06Roaming_Villager_E_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ(gg_unit_nvil_0163, "move", GetRandomLocInRect(gg_rct_02_Roaming_Villager_F))
endfunction

//===========================================================================
function InitTrig_06Roaming_Villager_E takes nothing returns nothing
    set gg_trg_06Roaming_Villager_E=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_06Roaming_Villager_E, 7.00)
    call TriggerAddAction(gg_trg_06Roaming_Villager_E, function Trig_06Roaming_Villager_E_Actions)
endfunction

//===========================================================================
// Trigger: 06Villager Retreat A
//===========================================================================
function Trig_06Villager_Retreat_A_Actions takes nothing returns nothing
    call DisableTrigger(gg_trg_06Roaming_Villager_A)
    call DisableTrigger(gg_trg_06Roaming_Villager_B)
    call DisableTrigger(gg_trg_06Roaming_Villager_C)
    call SetUnitPathing(gg_unit_nvil_0162, false)
    call SetUnitPathing(gg_unit_nvlw_0164, false)
    call SetUnitPathing(gg_unit_nvlw_0165, false)
    call IssuePointOrderLocBJ(gg_unit_nvil_0162, "move", GetRectCenter(gg_rct_02_Villager_F_Retreat_A))
    call IssuePointOrderLocBJ(gg_unit_nvlw_0164, "move", GetRectCenter(gg_rct_02_Villager_F_Retreat_A))
    call IssuePointOrderLocBJ(gg_unit_nvlw_0165, "move", GetRectCenter(gg_rct_02_Villager_F_Retreat_A))
endfunction

//===========================================================================
function InitTrig_06Villager_Retreat_A takes nothing returns nothing
    set gg_trg_06Villager_Retreat_A=CreateTrigger()
    call TriggerAddAction(gg_trg_06Villager_Retreat_A, function Trig_06Villager_Retreat_A_Actions)
endfunction

//===========================================================================
// Trigger: 06Villager Retreat B
//===========================================================================
function Trig_06Villager_Retreat_B_Actions takes nothing returns nothing
    call DisableTrigger(gg_trg_06Roaming_Villager_D)
    call DisableTrigger(gg_trg_06Roaming_Villager_E)
    call SetUnitPathing(gg_unit_nvlw_0166, false)
    call SetUnitPathing(gg_unit_nvil_0163, false)
    call IssuePointOrderLocBJ(gg_unit_nvil_0163, "move", GetRectCenter(gg_rct_02_Villager_F_Retreat_B))
    call IssuePointOrderLocBJ(gg_unit_nvlw_0166, "move", GetRectCenter(gg_rct_02_Villager_F_Retreat_B))
endfunction

//===========================================================================
function InitTrig_06Villager_Retreat_B takes nothing returns nothing
    set gg_trg_06Villager_Retreat_B=CreateTrigger()
    call TriggerAddAction(gg_trg_06Villager_Retreat_B, function Trig_06Villager_Retreat_B_Actions)
endfunction

//===========================================================================
// Trigger: 06Remove Villager 01
//===========================================================================
function Trig_06Remove_Villager_01_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetTriggerUnit(), udg_RoamingVillagersF) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_06Remove_Villager_01_Actions takes nothing returns nothing
    call RemoveUnit(GetTriggerUnit())
    call TriggerExecute(gg_trg_06Villager_Retreat_A)
    call TriggerExecute(gg_trg_06Villager_Retreat_B)
endfunction

//===========================================================================
function InitTrig_06Remove_Villager_01 takes nothing returns nothing
    set gg_trg_06Remove_Villager_01=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_06Remove_Villager_01, gg_rct_02_Villager_F_Retreat_A)
    call TriggerAddCondition(gg_trg_06Remove_Villager_01, Condition(function Trig_06Remove_Villager_01_Conditions))
    call TriggerAddAction(gg_trg_06Remove_Villager_01, function Trig_06Remove_Villager_01_Actions)
endfunction

//===========================================================================
// Trigger: 06Remove Villager 02
//===========================================================================
function Trig_06Remove_Villager_02_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetTriggerUnit(), udg_RoamingVillagersF) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_06Remove_Villager_02_Actions takes nothing returns nothing
    call RemoveUnit(GetTriggerUnit())
    call TriggerExecute(gg_trg_06Villager_Retreat_A)
    call TriggerExecute(gg_trg_06Villager_Retreat_B)
endfunction

//===========================================================================
function InitTrig_06Remove_Villager_02 takes nothing returns nothing
    set gg_trg_06Remove_Villager_02=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_06Remove_Villager_02, gg_rct_02_Villager_F_Retreat_B)
    call TriggerAddCondition(gg_trg_06Remove_Villager_02, Condition(function Trig_06Remove_Villager_02_Conditions))
    call TriggerAddAction(gg_trg_06Remove_Villager_02, function Trig_06Remove_Villager_02_Actions)
endfunction

//===========================================================================
// Trigger: Reorient Formation
//
// This trigger repositions all of the CaravanRegions in formation (according to FormationAngles and FormationDistances), centered about ReorientTarget and rotated to ReorientAngle.
// Before running this trigger, set the following variables:  ReorientAngle, ReorientTarget
//===========================================================================
function Trig_Reorient_Formation_Actions takes nothing returns nothing
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=udg_FormationTotal
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call ConditionalTriggerExecute(gg_trg_Reorient_Formation_Single)
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_Reorient_Formation takes nothing returns nothing
    set gg_trg_Reorient_Formation=CreateTrigger()
    call TriggerAddAction(gg_trg_Reorient_Formation, function Trig_Reorient_Formation_Actions)
endfunction

//===========================================================================
// Trigger: Reorient Formation Single
//
// Perform a simple transform on the formation data to rotate it to ReorientAngle (with respect to the formation origin) and shift it over to ReorientTarget.
// The formation data is stored in polar notation to make this calculation easier.
//===========================================================================
function Trig_Reorient_Formation_Single_Actions takes nothing returns nothing
    set udg_TempAngle=( udg_ReorientAngle + udg_FormationAngleArray[GetForLoopIndexA()] )
    set udg_TempX=( udg_FormationDistanceArray[GetForLoopIndexA()] * CosBJ(udg_TempAngle) )
    set udg_TempY=( udg_FormationDistanceArray[GetForLoopIndexA()] * SinBJ(udg_TempAngle) )
    call MoveRectToLoc(udg_FormationRegionArray[GetForLoopIndexA()], OffsetLocation(udg_zReorientTarget, udg_TempX, udg_TempY))
endfunction

//===========================================================================
function InitTrig_Reorient_Formation_Single takes nothing returns nothing
    set gg_trg_Reorient_Formation_Single=CreateTrigger()
    call TriggerAddAction(gg_trg_Reorient_Formation_Single, function Trig_Reorient_Formation_Single_Actions)
endfunction

//===========================================================================
// Trigger: Caravan Orders Pause
//===========================================================================
function Trig_Caravan_Orders_Pause_Actions takes nothing returns nothing
    call PauseTimerBJ(true, udg_CaravanOrderPulse)
endfunction

//===========================================================================
function InitTrig_Caravan_Orders_Pause takes nothing returns nothing
    set gg_trg_Caravan_Orders_Pause=CreateTrigger()
    call TriggerAddAction(gg_trg_Caravan_Orders_Pause, function Trig_Caravan_Orders_Pause_Actions)
endfunction

//===========================================================================
// Trigger: Caravan Orders Resume
//===========================================================================
function Trig_Caravan_Orders_Resume_Actions takes nothing returns nothing
    call StartTimerBJ(udg_CaravanOrderPulse, true, 3.00)
endfunction

//===========================================================================
function InitTrig_Caravan_Orders_Resume takes nothing returns nothing
    set gg_trg_Caravan_Orders_Resume=CreateTrigger()
    call TriggerAddAction(gg_trg_Caravan_Orders_Resume, function Trig_Caravan_Orders_Resume_Actions)
endfunction

//===========================================================================
// Trigger: Caravan Orders
//===========================================================================
function Trig_Caravan_Orders_Actions takes nothing returns nothing
    set bj_forLoopAIndex=udg_CaravanWagonFirst
    set bj_forLoopAIndexEnd=udg_CaravanWagonLast
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call ConditionalTriggerExecute(gg_trg_Caravan_Orders_Single_Wagon)
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    set bj_forLoopAIndex=udg_CaravanGuardFirst
    set bj_forLoopAIndexEnd=udg_CaravanGuardLast
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call ConditionalTriggerExecute(gg_trg_Caravan_Orders_Single_Guard)
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_Caravan_Orders takes nothing returns nothing
    set gg_trg_Caravan_Orders=CreateTrigger()
    call TriggerRegisterTimerExpireEventBJ(gg_trg_Caravan_Orders, udg_CaravanOrderPulse)
    call TriggerAddAction(gg_trg_Caravan_Orders, function Trig_Caravan_Orders_Actions)
endfunction

//===========================================================================
// Trigger: Caravan Orders Single Wagon
//===========================================================================
function Trig_Caravan_Orders_Single_Wagon_Conditions takes nothing returns boolean
    if ( not ( udg_CaravanUnitArray[GetForLoopIndexA()] != null ) ) then
        return false
    endif
    return true
endfunction

function Trig_Caravan_Orders_Single_Wagon_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ(udg_CaravanUnitArray[GetForLoopIndexA()], "move", GetRectCenter(udg_FormationRegionArray[GetForLoopIndexA()]))
endfunction

//===========================================================================
function InitTrig_Caravan_Orders_Single_Wagon takes nothing returns nothing
    set gg_trg_Caravan_Orders_Single_Wagon=CreateTrigger()
    call TriggerAddCondition(gg_trg_Caravan_Orders_Single_Wagon, Condition(function Trig_Caravan_Orders_Single_Wagon_Conditions))
    call TriggerAddAction(gg_trg_Caravan_Orders_Single_Wagon, function Trig_Caravan_Orders_Single_Wagon_Actions)
endfunction

//===========================================================================
// Trigger: Caravan Orders Single Guard
//===========================================================================
function Trig_Caravan_Orders_Single_Guard_Conditions takes nothing returns boolean
    if ( not ( udg_CaravanUnitArray[GetForLoopIndexA()] != null ) ) then
        return false
    endif
    return true
endfunction

function Trig_Caravan_Orders_Single_Guard_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ(udg_CaravanUnitArray[GetForLoopIndexA()], "attack", GetRectCenter(udg_FormationRegionArray[GetForLoopIndexA()]))
endfunction

//===========================================================================
function InitTrig_Caravan_Orders_Single_Guard takes nothing returns nothing
    set gg_trg_Caravan_Orders_Single_Guard=CreateTrigger()
    call TriggerAddCondition(gg_trg_Caravan_Orders_Single_Guard, Condition(function Trig_Caravan_Orders_Single_Guard_Conditions))
    call TriggerAddAction(gg_trg_Caravan_Orders_Single_Guard, function Trig_Caravan_Orders_Single_Guard_Actions)
endfunction

//===========================================================================
// Trigger: Caravan Unit Dies
//===========================================================================
function Trig_Caravan_Unit_Dies_Func001003001 takes nothing returns boolean
    return ( GetDyingUnit() == udg_CaravanUnitArray[GetForLoopIndexA()] )
endfunction

function Trig_Caravan_Unit_Dies_Func002001 takes nothing returns boolean
    return ( IsUnitInGroup(GetDyingUnit(), udg_TheCaravanGuards) == true )
endfunction

function Trig_Caravan_Unit_Dies_Actions takes nothing returns nothing
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=udg_FormationTotal
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( Trig_Caravan_Unit_Dies_Func001003001() ) then
            set udg_CaravanUnitArray[GetForLoopIndexA()]=null
        else
            call DoNothing()
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    if ( Trig_Caravan_Unit_Dies_Func002001() ) then
        call GroupRemoveUnitSimple(GetDyingUnit(), udg_TheCaravanGuards)
    else
        call DoNothing()
    endif
endfunction

//===========================================================================
function InitTrig_Caravan_Unit_Dies takes nothing returns nothing
    set gg_trg_Caravan_Unit_Dies=CreateTrigger()
    call TriggerRegisterPlayerUnitEventSimple(gg_trg_Caravan_Unit_Dies, Player(4), EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddAction(gg_trg_Caravan_Unit_Dies, function Trig_Caravan_Unit_Dies_Actions)
endfunction

//===========================================================================
// Trigger: Guard Attacked
//
// If a nearby unit is attacked, reset the guards' move speeds to their natural speeds, so that they can respond effectively.
// The slow guard move speed is restored for each guard when he/she catches up with the group.
//===========================================================================
function Trig_Guard_Attacked_Func001003001 takes nothing returns boolean
    return ( DistanceBetweenPoints(GetUnitLoc(udg_CaravanUnitArray[GetForLoopIndexA()]), GetUnitLoc(GetAttackedUnitBJ())) < udg_GuardCallForHelpDist )
endfunction

function Trig_Guard_Attacked_Actions takes nothing returns nothing
    set bj_forLoopAIndex=udg_CaravanGuardFirst
    set bj_forLoopAIndexEnd=udg_CaravanGuardLast
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( Trig_Guard_Attacked_Func001003001() ) then
            call SetUnitMoveSpeed(udg_CaravanUnitArray[GetForLoopIndexA()], GetUnitDefaultMoveSpeed(udg_CaravanUnitArray[GetForLoopIndexA()]))
        else
            call DoNothing()
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_Guard_Attacked takes nothing returns nothing
    set gg_trg_Guard_Attacked=CreateTrigger()
    call TriggerRegisterPlayerUnitEventSimple(gg_trg_Guard_Attacked, Player(4), EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddAction(gg_trg_Guard_Attacked, function Trig_Guard_Attacked_Actions)
endfunction

//===========================================================================
// Trigger: Guard Catches Up
//===========================================================================
function Trig_Guard_Catches_Up_Actions takes nothing returns nothing
    set bj_forLoopAIndex=udg_CaravanGuardFirst
    set bj_forLoopAIndexEnd=udg_CaravanGuardLast
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call ConditionalTriggerExecute(gg_trg_Guard_Catches_Up_Single)
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_Guard_Catches_Up takes nothing returns nothing
    set gg_trg_Guard_Catches_Up=CreateTrigger()
    call TriggerRegisterTimerExpireEventBJ(gg_trg_Guard_Catches_Up, udg_CaravanTestPulse)
    call TriggerAddAction(gg_trg_Guard_Catches_Up, function Trig_Guard_Catches_Up_Actions)
endfunction

//===========================================================================
// Trigger: Guard Catches Up Single
//===========================================================================
function Trig_Guard_Catches_Up_Single_Conditions takes nothing returns boolean
    if ( not ( udg_CaravanUnitArray[GetForLoopIndexA()] != null ) ) then
        return false
    endif
    if ( not ( RectContainsUnit(udg_FormationRegionArray[GetForLoopIndexA()], udg_CaravanUnitArray[GetForLoopIndexA()]) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Guard_Catches_Up_Single_Actions takes nothing returns nothing
    call SetUnitMoveSpeed(udg_CaravanUnitArray[GetForLoopIndexA()], udg_SpeedOfGuards)
endfunction

//===========================================================================
function InitTrig_Guard_Catches_Up_Single takes nothing returns nothing
    set gg_trg_Guard_Catches_Up_Single=CreateTrigger()
    call TriggerAddCondition(gg_trg_Guard_Catches_Up_Single, Condition(function Trig_Guard_Catches_Up_Single_Conditions))
    call TriggerAddAction(gg_trg_Guard_Catches_Up_Single, function Trig_Guard_Catches_Up_Single_Actions)
endfunction

//===========================================================================
// Trigger: Wagons Reach Breadcrumb
//
// When all living wagons reach a breadcrumb, the formation regions are repositioned and reoriented around the next breadcrumb.
// The caravan is never allowed to progress past (zBreadcrumbAllowed).
//===========================================================================
function Trig_Wagons_Reach_Breadcrumb_Func003001 takes nothing returns boolean
    return ( udg_CaravanUnitArray[1] == null )
endfunction

function Trig_Wagons_Reach_Breadcrumb_Func003002 takes nothing returns boolean
    return ( RectContainsUnit(udg_FormationRegionArray[1], udg_CaravanUnitArray[1]) == true )
endfunction

function Trig_Wagons_Reach_Breadcrumb_Func004001 takes nothing returns boolean
    return ( udg_CaravanUnitArray[2] == null )
endfunction

function Trig_Wagons_Reach_Breadcrumb_Func004002 takes nothing returns boolean
    return ( RectContainsUnit(udg_FormationRegionArray[2], udg_CaravanUnitArray[2]) == true )
endfunction

function Trig_Wagons_Reach_Breadcrumb_Func005001 takes nothing returns boolean
    return ( udg_CaravanUnitArray[3] == null )
endfunction

function Trig_Wagons_Reach_Breadcrumb_Func005002 takes nothing returns boolean
    return ( RectContainsUnit(udg_FormationRegionArray[3], udg_CaravanUnitArray[3]) == true )
endfunction

function Trig_Wagons_Reach_Breadcrumb_Func006001 takes nothing returns boolean
    return ( udg_CaravanUnitArray[4] == null )
endfunction

function Trig_Wagons_Reach_Breadcrumb_Func006002 takes nothing returns boolean
    return ( RectContainsUnit(udg_FormationRegionArray[4], udg_CaravanUnitArray[4]) == true )
endfunction

function Trig_Wagons_Reach_Breadcrumb_Func007001 takes nothing returns boolean
    return ( udg_CaravanUnitArray[5] == null )
endfunction

function Trig_Wagons_Reach_Breadcrumb_Func007002 takes nothing returns boolean
    return ( RectContainsUnit(udg_FormationRegionArray[5], udg_CaravanUnitArray[5]) == true )
endfunction

function Trig_Wagons_Reach_Breadcrumb_Conditions takes nothing returns boolean
    if ( not GetBooleanOr(Trig_Wagons_Reach_Breadcrumb_Func003001(), Trig_Wagons_Reach_Breadcrumb_Func003002()) ) then
        return false
    endif
    if ( not GetBooleanOr(Trig_Wagons_Reach_Breadcrumb_Func004001(), Trig_Wagons_Reach_Breadcrumb_Func004002()) ) then
        return false
    endif
    if ( not GetBooleanOr(Trig_Wagons_Reach_Breadcrumb_Func005001(), Trig_Wagons_Reach_Breadcrumb_Func005002()) ) then
        return false
    endif
    if ( not GetBooleanOr(Trig_Wagons_Reach_Breadcrumb_Func006001(), Trig_Wagons_Reach_Breadcrumb_Func006002()) ) then
        return false
    endif
    if ( not GetBooleanOr(Trig_Wagons_Reach_Breadcrumb_Func007001(), Trig_Wagons_Reach_Breadcrumb_Func007002()) ) then
        return false
    endif
    if ( not ( CountUnitsInGroup(udg_TheCaravanWagons) > 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Wagons_Reach_Breadcrumb_Actions takes nothing returns nothing
    set udg_BreadcrumbReached=udg_BreadcrumbCurrent
    call ConditionalTriggerExecute(gg_trg_Target_Next_Breadcrumb)
endfunction

//===========================================================================
function InitTrig_Wagons_Reach_Breadcrumb takes nothing returns nothing
    set gg_trg_Wagons_Reach_Breadcrumb=CreateTrigger()
    call TriggerRegisterTimerExpireEventBJ(gg_trg_Wagons_Reach_Breadcrumb, udg_CaravanTestPulse)
    call TriggerAddCondition(gg_trg_Wagons_Reach_Breadcrumb, Condition(function Trig_Wagons_Reach_Breadcrumb_Conditions))
    call TriggerAddAction(gg_trg_Wagons_Reach_Breadcrumb, function Trig_Wagons_Reach_Breadcrumb_Actions)
endfunction

//===========================================================================
// Trigger: Target Next Breadcrumb
//===========================================================================
function Trig_Target_Next_Breadcrumb_Conditions takes nothing returns boolean
    if ( not ( udg_BreadcrumbCurrent < udg_BreadcrumbAllowed ) ) then
        return false
    endif
    return true
endfunction

function Trig_Target_Next_Breadcrumb_Actions takes nothing returns nothing
    // Calculate the next breadcrumb
    set udg_BreadcrumbCurrent=( udg_BreadcrumbCurrent + 1 )
    set udg_zReorientTarget=udg_zBreadcrumbArray[udg_BreadcrumbCurrent]
    set udg_ReorientAngle=udg_BreadcrumbAngleArray[udg_BreadcrumbCurrent]
    // Recalculate the caravan's targets and start them on their way
    call ConditionalTriggerExecute(gg_trg_Reorient_Formation)
    call ConditionalTriggerExecute(gg_trg_Caravan_Orders)
endfunction

//===========================================================================
function InitTrig_Target_Next_Breadcrumb takes nothing returns nothing
    set gg_trg_Target_Next_Breadcrumb=CreateTrigger()
    call TriggerAddCondition(gg_trg_Target_Next_Breadcrumb, Condition(function Trig_Target_Next_Breadcrumb_Conditions))
    call TriggerAddAction(gg_trg_Target_Next_Breadcrumb, function Trig_Target_Next_Breadcrumb_Actions)
endfunction

//===========================================================================
// Trigger: Caravan To Town1
//===========================================================================
function Trig_Caravan_To_Town1_Actions takes nothing returns nothing
    set udg_BreadcrumbAllowed=udg_BreadcrumbStopTown1
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=udg_FormationTotal
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call ShowUnitShow(udg_CaravanUnitArray[GetForLoopIndexA()])
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_Caravan_To_Town1 takes nothing returns nothing
    set gg_trg_Caravan_To_Town1=CreateTrigger()
    call TriggerRegisterTimerExpireEventBJ(gg_trg_Caravan_To_Town1, udg_CaravanTown1Timer)
    call TriggerAddAction(gg_trg_Caravan_To_Town1, function Trig_Caravan_To_Town1_Actions)
endfunction

//===========================================================================
// Trigger: Caravan To Town2
//===========================================================================
function Trig_Caravan_To_Town2_Actions takes nothing returns nothing
    set udg_BreadcrumbAllowed=udg_BreadcrumbStopTown2
endfunction

//===========================================================================
function InitTrig_Caravan_To_Town2 takes nothing returns nothing
    set gg_trg_Caravan_To_Town2=CreateTrigger()
    call TriggerRegisterTimerExpireEventBJ(gg_trg_Caravan_To_Town2, udg_CaravanTown2Timer)
    call TriggerAddAction(gg_trg_Caravan_To_Town2, function Trig_Caravan_To_Town2_Actions)
endfunction

//===========================================================================
// Trigger: Caravan To Town3
//===========================================================================
function Trig_Caravan_To_Town3_Actions takes nothing returns nothing
    set udg_BreadcrumbAllowed=udg_BreadcrumbStopTown3
endfunction

//===========================================================================
function InitTrig_Caravan_To_Town3 takes nothing returns nothing
    set gg_trg_Caravan_To_Town3=CreateTrigger()
    call TriggerRegisterTimerExpireEventBJ(gg_trg_Caravan_To_Town3, udg_CaravanTown3Timer)
    call TriggerAddAction(gg_trg_Caravan_To_Town3, function Trig_Caravan_To_Town3_Actions)
endfunction

//===========================================================================
// Trigger: Caravan To Town4
//===========================================================================
function Trig_Caravan_To_Town4_Actions takes nothing returns nothing
    set udg_BreadcrumbAllowed=udg_BreadcrumbStopTown4
endfunction

//===========================================================================
function InitTrig_Caravan_To_Town4 takes nothing returns nothing
    set gg_trg_Caravan_To_Town4=CreateTrigger()
    call TriggerRegisterTimerExpireEventBJ(gg_trg_Caravan_To_Town4, udg_CaravanTown4Timer)
    call TriggerAddAction(gg_trg_Caravan_To_Town4, function Trig_Caravan_To_Town4_Actions)
endfunction

//===========================================================================
// Trigger: Caravan Attacked QUE
//===========================================================================
function Trig_Caravan_Attacked_QUE_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetTriggerUnit(), udg_TheCaravanWagons) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Caravan_Attacked_QUE_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call QueuedTriggerAddBJ(gg_trg_Caravan_Attacked, true)
endfunction

//===========================================================================
function InitTrig_Caravan_Attacked_QUE takes nothing returns nothing
    set gg_trg_Caravan_Attacked_QUE=CreateTrigger()
    call TriggerRegisterPlayerUnitEventSimple(gg_trg_Caravan_Attacked_QUE, Player(4), EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg_Caravan_Attacked_QUE, Condition(function Trig_Caravan_Attacked_QUE_Conditions))
    call TriggerAddAction(gg_trg_Caravan_Attacked_QUE, function Trig_Caravan_Attacked_QUE_Actions)
endfunction

//===========================================================================
// Trigger: Caravan Attacked
//===========================================================================
function Trig_Caravan_Attacked_Conditions takes nothing returns boolean
    if ( not ( udg_GAMEOVER == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Caravan_Attacked_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call SetSpeechVolumeGroupsBJ()
    call TransmissionFromUnitTypeWithNameBJ(GetPlayersAll(), Player(4), 'uaco', "TRIGSTR_127", GetUnitLoc(GroupPickRandomUnit(udg_TheCaravanWagons)), gg_snd_H05Acolyte22, "TRIGSTR_128", bj_TIMETYPE_ADD, 0.00, true)
    call VolumeGroupResetBJ()
    call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_Caravan_Attacked takes nothing returns nothing
    set gg_trg_Caravan_Attacked=CreateTrigger()
    call TriggerAddCondition(gg_trg_Caravan_Attacked, Condition(function Trig_Caravan_Attacked_Conditions))
    call TriggerAddAction(gg_trg_Caravan_Attacked, function Trig_Caravan_Attacked_Actions)
endfunction

//===========================================================================
// Trigger: Caravan Wagon Dies QUE
//===========================================================================
function Trig_Caravan_Wagon_Dies_QUE_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetDyingUnit(), udg_TheCaravanWagons) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Caravan_Wagon_Dies_QUE_Func004001 takes nothing returns boolean
    return ( CountUnitsInGroup(udg_TheCaravanWagons) > 0 )
endfunction

function Trig_Caravan_Wagon_Dies_QUE_Actions takes nothing returns nothing
    set udg_LastCaravanDeath=GetUnitLoc(GetDyingUnit())
    call GroupRemoveUnitSimple(GetDyingUnit(), udg_TheCaravanWagons)
    if ( Trig_Caravan_Wagon_Dies_QUE_Func004001() ) then
        return
    else
        call DoNothing()
    endif
    // If that was the last wagon, complete the quest. (But only if discovered)
    call DisableTrigger(GetTriggeringTrigger())
    set udg_CARAVANISDEADBOOLEAN=true
    call QueuedTriggerAddBJ(gg_trg_Caravan_Wagon_Dies, true)
endfunction

//===========================================================================
function InitTrig_Caravan_Wagon_Dies_QUE takes nothing returns nothing
    set gg_trg_Caravan_Wagon_Dies_QUE=CreateTrigger()
    call TriggerRegisterPlayerUnitEventSimple(gg_trg_Caravan_Wagon_Dies_QUE, Player(4), EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(gg_trg_Caravan_Wagon_Dies_QUE, Condition(function Trig_Caravan_Wagon_Dies_QUE_Conditions))
    call TriggerAddAction(gg_trg_Caravan_Wagon_Dies_QUE, function Trig_Caravan_Wagon_Dies_QUE_Actions)
endfunction

//===========================================================================
// Trigger: Caravan Wagon Dies
//===========================================================================
function Trig_Caravan_Wagon_Dies_Conditions takes nothing returns boolean
    if ( not ( udg_GAMEOVER == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Caravan_Wagon_Dies_Func007001 takes nothing returns boolean
    return ( IsUnitAliveBJ(udg_Arthas) == true )
endfunction

function Trig_Caravan_Wagon_Dies_Func009002 takes nothing returns nothing
    call IssuePointOrderLocBJ(GetEnumUnit(), "attack", GetRectCenter(gg_rct_02Hearthglen))
endfunction

function Trig_Caravan_Wagon_Dies_Func011001 takes nothing returns boolean
    return ( udg_GAMEOVER == true )
endfunction

function Trig_Caravan_Wagon_Dies_Func012001 takes nothing returns boolean
    return ( udg_GAMEOVER == true )
endfunction

function Trig_Caravan_Wagon_Dies_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call CreateItemLoc('I014', udg_LastCaravanDeath)
    call CreateItemLoc('I015', udg_LastCaravanDeath)
    set udg_TownPortal=GetLastCreatedItem()
    call SetSpeechVolumeGroupsBJ()
    if ( Trig_Caravan_Wagon_Dies_Func007001() ) then
        call TransmissionFromUnitWithNameBJ(GetPlayersAll(), udg_Arthas, "TRIGSTR_265", gg_snd_H05Arthas23, "TRIGSTR_266", bj_TIMETYPE_ADD, 0, true)
    else
        call DoNothing()
    endif
    call VolumeGroupResetBJ()
    call ForGroupBJ(udg_TheCaravanGuards, function Trig_Caravan_Wagon_Dies_Func009002)
    // ----------
    if ( Trig_Caravan_Wagon_Dies_Func011001() ) then
        call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
    else
        call DoNothing()
    endif
    if ( Trig_Caravan_Wagon_Dies_Func012001() ) then
        return
    else
        call DoNothing()
    endif
    call QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_COMPLETED, "TRIGSTR_126")
    call QuestSetDiscoveredBJ(udg_GrainCaravanQuest, true)
    call QuestItemSetCompletedBJ(udg_REQCaravanquest, true)
    call QuestSetCompletedBJ(udg_GrainCaravanQuest, true)
    call TriggerSleepAction(bj_QUEUE_DELAY_QUEST)
    call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_Caravan_Wagon_Dies takes nothing returns nothing
    set gg_trg_Caravan_Wagon_Dies=CreateTrigger()
    call TriggerAddCondition(gg_trg_Caravan_Wagon_Dies, Condition(function Trig_Caravan_Wagon_Dies_Conditions))
    call TriggerAddAction(gg_trg_Caravan_Wagon_Dies, function Trig_Caravan_Wagon_Dies_Actions)
endfunction

//===========================================================================
// Trigger: Caravan Removal
//===========================================================================
function Trig_Caravan_Removal_Func001001 takes nothing returns boolean
    return ( IsUnitInGroup(GetEnteringUnit(), udg_TheCaravanWagons) == true )
endfunction

function Trig_Caravan_Removal_Func001002 takes nothing returns boolean
    return ( IsUnitInGroup(GetEnteringUnit(), udg_TheCaravanGuards) == true )
endfunction

function Trig_Caravan_Removal_Conditions takes nothing returns boolean
    if ( not GetBooleanOr(Trig_Caravan_Removal_Func001001(), Trig_Caravan_Removal_Func001002()) ) then
        return false
    endif
    return true
endfunction

function Trig_Caravan_Removal_Func002003001 takes nothing returns boolean
    return ( GetEnteringUnit() == udg_CaravanUnitArray[GetForLoopIndexA()] )
endfunction

function Trig_Caravan_Removal_Actions takes nothing returns nothing
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=udg_FormationTotal
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( Trig_Caravan_Removal_Func002003001() ) then
            set udg_CaravanUnitArray[GetForLoopIndexA()]=null
        else
            call DoNothing()
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    call ShowUnitHide(GetEnteringUnit())
    call RemoveUnit(GetEnteringUnit())
endfunction

//===========================================================================
function InitTrig_Caravan_Removal takes nothing returns nothing
    set gg_trg_Caravan_Removal=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_Caravan_Removal, gg_rct_03Caravan_Removal)
    call TriggerAddCondition(gg_trg_Caravan_Removal, Condition(function Trig_Caravan_Removal_Conditions))
    call TriggerAddAction(gg_trg_Caravan_Removal, function Trig_Caravan_Removal_Actions)
endfunction

//===========================================================================
// Trigger: Town Portal Hint QUE
//===========================================================================
function Trig_Town_Portal_Hint_QUE_Conditions takes nothing returns boolean
    if ( not ( GetTriggerUnit() == udg_Arthas ) ) then
        return false
    endif
    if ( not ( GetManipulatedItem() == udg_TownPortal ) ) then
        return false
    endif
    return true
endfunction

function Trig_Town_Portal_Hint_QUE_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call QueuedTriggerAddBJ(gg_trg_Town_Portal_Hint, true)
endfunction

//===========================================================================
function InitTrig_Town_Portal_Hint_QUE takes nothing returns nothing
    set gg_trg_Town_Portal_Hint_QUE=CreateTrigger()
    call TriggerRegisterPlayerUnitEventSimple(gg_trg_Town_Portal_Hint_QUE, Player(1), EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call TriggerAddCondition(gg_trg_Town_Portal_Hint_QUE, Condition(function Trig_Town_Portal_Hint_QUE_Conditions))
    call TriggerAddAction(gg_trg_Town_Portal_Hint_QUE, function Trig_Town_Portal_Hint_QUE_Actions)
endfunction

//===========================================================================
// Trigger: Town Portal Hint
//===========================================================================
function Trig_Town_Portal_Hint_Conditions takes nothing returns boolean
    if ( not ( udg_GAMEOVER == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Town_Portal_Hint_Actions takes nothing returns nothing
    call QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_HINT, "TRIGSTR_129")
    call TriggerSleepAction(bj_QUEUE_DELAY_HINT)
    call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_Town_Portal_Hint takes nothing returns nothing
    set gg_trg_Town_Portal_Hint=CreateTrigger()
    call TriggerAddCondition(gg_trg_Town_Portal_Hint, Condition(function Trig_Town_Portal_Hint_Conditions))
    call TriggerAddAction(gg_trg_Town_Portal_Hint, function Trig_Town_Portal_Hint_Actions)
endfunction

//===========================================================================
// Trigger: Corruption01 QUE
//
// SIDE QUEST ACTIVATED after the corruption of the first village.
//===========================================================================
function Trig_Corruption01_QUE_Conditions takes nothing returns boolean
    if ( not ( udg_BreadcrumbReached == udg_BreadcrumbStopTown1 ) ) then
        return false
    endif
    if ( not ( udg_CARAVANISDEADBOOLEAN == false ) ) then
        return false
    endif
    if ( not ( CountUnitsInGroup(GetUnitsInRectOfPlayer(gg_rct_Village_Check_01, Player(1))) == 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Corruption01_QUE_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call QueuedTriggerAddBJ(gg_trg_Corruption01, true)
endfunction

//===========================================================================
function InitTrig_Corruption01_QUE takes nothing returns nothing
    set gg_trg_Corruption01_QUE=CreateTrigger()
    call TriggerRegisterTimerExpireEventBJ(gg_trg_Corruption01_QUE, udg_CaravanCorruptionPulse)
    call TriggerAddCondition(gg_trg_Corruption01_QUE, Condition(function Trig_Corruption01_QUE_Conditions))
    call TriggerAddAction(gg_trg_Corruption01_QUE, function Trig_Corruption01_QUE_Actions)
endfunction

//===========================================================================
// Trigger: Corruption01
//
// SIDE QUEST ACTIVATED after the corruption of the first village.
//===========================================================================
function Trig_Corruption01_Conditions takes nothing returns boolean
    if ( not ( udg_CARAVANISDEADBOOLEAN == false ) ) then
        return false
    endif
    if ( not ( udg_GAMEOVER == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Corruption01_Func022001 takes nothing returns boolean
    return ( udg_GAMEOVER == true )
endfunction

function Trig_Corruption01_Func023001 takes nothing returns boolean
    return ( udg_GAMEOVER == true )
endfunction

function Trig_Corruption01_Func033001 takes nothing returns boolean
    return ( udg_GAMEOVER == true )
endfunction

function Trig_Corruption01_Func034001 takes nothing returns boolean
    return ( udg_GAMEOVER == true )
endfunction

function Trig_Corruption01_Func074001 takes nothing returns boolean
    return ( udg_GAMEOVER == true )
endfunction

function Trig_Corruption01_Func075001 takes nothing returns boolean
    return ( udg_GAMEOVER == true )
endfunction

function Trig_Corruption01_Func086001 takes nothing returns boolean
    return ( IsQuestFailed(udg_GrainCaravanQuest) == false )
endfunction

function Trig_Corruption01_Func087001 takes nothing returns boolean
    return ( IsQuestFailed(udg_GrainCaravanQuest) == false )
endfunction

function Trig_Corruption01_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call ConditionalTriggerExecute(gg_trg_Caravan_Orders_Pause)
    call ConditionalTriggerExecute(gg_trg_Caravan_Side_Quest)
    // -----Caravan Share Vision-----
    call UnitShareVisionBJ(true, gg_unit_uC00_0210, Player(1))
    call UnitShareVisionBJ(true, gg_unit_uC00_0216, Player(1))
    call UnitShareVisionBJ(true, gg_unit_uC00_0217, Player(1))
    call UnitShareVisionBJ(true, gg_unit_uC00_0218, Player(1))
    call UnitShareVisionBJ(true, gg_unit_uC00_0219, Player(1))
    // ---------
    call CreateFogModifierRadiusLocBJ(true, Player(1), FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_Village_Vis_01), 800.00)
    set udg_VillageVis=GetLastCreatedFogModifier()
    // ---------
    call IssuePointOrderLocBJ(udg_CaravanUnitArray[1], "attackground", GetRandomLocInRect(gg_rct_04Farm_01_Roaming_Units_A))
    call IssuePointOrderLocBJ(udg_CaravanUnitArray[2], "attackground", GetRandomLocInRect(gg_rct_04Farm_01_Roaming_Units_A))
    call IssuePointOrderLocBJ(udg_CaravanUnitArray[3], "attackground", GetRandomLocInRect(gg_rct_04Farm_01_Roaming_Units_A))
    call IssuePointOrderLocBJ(udg_CaravanUnitArray[4], "attackground", GetRandomLocInRect(gg_rct_04Farm_01_Roaming_Units_B))
    call IssuePointOrderLocBJ(udg_CaravanUnitArray[5], "attackground", GetRandomLocInRect(gg_rct_04Farm_01_Roaming_Units_B))
    call TriggerSleepAction(3.00)
    if ( Trig_Corruption01_Func022001() ) then
        call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
    else
        call DoNothing()
    endif
    if ( Trig_Corruption01_Func023001() ) then
        return
    else
        call DoNothing()
    endif
    call ConditionalTriggerExecute(gg_trg_Create_Plague_01)
    // ---------
    call IssueImmediateOrderBJ(udg_CaravanUnitArray[1], "holdposition")
    call IssueImmediateOrderBJ(udg_CaravanUnitArray[2], "holdposition")
    call IssueImmediateOrderBJ(udg_CaravanUnitArray[3], "holdposition")
    call IssueImmediateOrderBJ(udg_CaravanUnitArray[4], "holdposition")
    call IssueImmediateOrderBJ(udg_CaravanUnitArray[5], "holdposition")
    call ConditionalTriggerExecute(gg_trg_Caravan_Orders_Resume)
    call TriggerSleepAction(1.00)
    if ( Trig_Corruption01_Func033001() ) then
        call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
    else
        call DoNothing()
    endif
    if ( Trig_Corruption01_Func034001() ) then
        return
    else
        call DoNothing()
    endif
    // Villagers Come out
    call CreateNUnitsAtLoc(1, 'nvl2', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Farm_01_Create_B), bj_UNIT_FACING)
    set udg_Villager01=GetLastCreatedUnit()
    call IssuePointOrderLocBJ(udg_Villager01, "move", GetRectCenter(gg_rct_04Farm_01_Roaming_Units_B))
    // -
    call CreateNUnitsAtLoc(1, 'nvl2', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Farm_01_Create_B), bj_UNIT_FACING)
    set udg_Villager02=GetLastCreatedUnit()
    call IssuePointOrderLocBJ(udg_Villager02, "move", GetRectCenter(gg_rct_04Farm_01_Roaming_Units_B))
    // -
    call CreateNUnitsAtLoc(1, 'nvl2', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Farm_01_Create_A), bj_UNIT_FACING)
    set udg_Villager03=GetLastCreatedUnit()
    call IssuePointOrderLocBJ(udg_Villager03, "move", GetRectCenter(gg_rct_04Farm_01_Roaming_Units_A))
    // Malganis Corruption
    call CreateNUnitsAtLoc(1, 'UC02', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Malganis_Farm_01), bj_UNIT_FACING)
    set udg_MalGanis01=GetLastCreatedUnit()
    call SetUnitManaPercentBJ(udg_MalGanis01, 100)
    call ShowUnitHide(udg_MalGanis01)
    call SetHeroLevelBJ(udg_MalGanis01, 6, false)
    call SelectHeroSkill(udg_MalGanis01, 'SNdc')
    call IssueTargetOrderBJ(udg_MalGanis01, "darkconversion", udg_Villager01)
    // -
    call CreateNUnitsAtLoc(1, 'UC02', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Malganis_Farm_01), bj_UNIT_FACING)
    set udg_MalGanis02=GetLastCreatedUnit()
    call SetUnitManaPercentBJ(udg_MalGanis02, 100)
    call ShowUnitHide(udg_MalGanis02)
    call SetHeroLevelBJ(udg_MalGanis02, 6, false)
    call SelectHeroSkill(udg_MalGanis02, 'SNdc')
    call IssueTargetOrderBJ(udg_MalGanis02, "darkconversion", udg_Villager02)
    // ----------
    call CreateNUnitsAtLoc(1, 'UC02', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Malganis_Farm_01), bj_UNIT_FACING)
    set udg_MalGanis03=GetLastCreatedUnit()
    call SetUnitManaPercentBJ(udg_MalGanis03, 100)
    call ShowUnitHide(udg_MalGanis03)
    call SetHeroLevelBJ(udg_MalGanis03, 6, false)
    call SelectHeroSkill(udg_MalGanis03, 'SNdc')
    call IssueTargetOrderBJ(udg_MalGanis03, "darkconversion", udg_Villager03)
    // ---------
    call ConditionalTriggerExecute(gg_trg_Ghouls01)
    call TriggerSleepAction(15.00)
    if ( Trig_Corruption01_Func074001() ) then
        call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
    else
        call DoNothing()
    endif
    if ( Trig_Corruption01_Func075001() ) then
        return
    else
        call DoNothing()
    endif
    // ---------
    call DestroyFogModifier(udg_VillageVis)
    call UnitShareVisionBJ(false, gg_unit_uC00_0210, Player(1))
    call UnitShareVisionBJ(false, gg_unit_uC00_0216, Player(1))
    call UnitShareVisionBJ(false, gg_unit_uC00_0217, Player(1))
    call UnitShareVisionBJ(false, gg_unit_uC00_0218, Player(1))
    call UnitShareVisionBJ(false, gg_unit_uC00_0219, Player(1))
    call ConditionalTriggerExecute(gg_trg_Destroy_Plague_01)
    // -----Optional Quest Activated-----
    call ConditionalTriggerExecute(gg_trg_Share_Vision_Last_Town)
    if ( Trig_Corruption01_Func086001() ) then
        call QuestSetDiscoveredBJ(udg_GrainCaravanQuest, true)
    else
        call DoNothing()
    endif
    if ( Trig_Corruption01_Func087001() ) then
        call QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_303")
    else
        call DoNothing()
    endif
    // ---------
    call DestroyEffectBJ(GetLastCreatedEffectBJ())
    call StartTimerBJ(udg_CaravanTown2Timer, false, 130.00)
    // ---------
    call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_Corruption01 takes nothing returns nothing
    set gg_trg_Corruption01=CreateTrigger()
    call TriggerAddCondition(gg_trg_Corruption01, Condition(function Trig_Corruption01_Conditions))
    call TriggerAddAction(gg_trg_Corruption01, function Trig_Corruption01_Actions)
endfunction

//===========================================================================
// Trigger: Dark Conversion Farm 01
//===========================================================================
function Trig_Dark_Conversion_Farm_01_Conditions takes nothing returns boolean
    if ( not ( RectContainsUnit(gg_rct_Village_Check_01, GetSummonedUnit()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Dark_Conversion_Farm_01_Actions takes nothing returns nothing
    call SetUnitOwner(GetSummonedUnit(), Player(4), true)
    call ReplaceUnitBJ(GetSummonedUnit(), 'nzom', bj_UNIT_STATE_METHOD_RELATIVE)
    call GroupAddUnitSimple(GetLastReplacedUnitBJ(), udg_Farm01CorruptedGroup)
    // Need to wait for transformation finished
    call TriggerSleepAction(4.00)
    call RemoveUnit(udg_MalGanis01)
    call RemoveUnit(udg_MalGanis02)
    call RemoveUnit(udg_MalGanis03)
    call ConditionalTriggerExecute(gg_trg_Attack01)
endfunction

//===========================================================================
function InitTrig_Dark_Conversion_Farm_01 takes nothing returns nothing
    set gg_trg_Dark_Conversion_Farm_01=CreateTrigger()
    call TriggerRegisterPlayerUnitEventSimple(gg_trg_Dark_Conversion_Farm_01, Player(PLAYER_NEUTRAL_PASSIVE), EVENT_PLAYER_UNIT_SUMMON)
    call TriggerAddCondition(gg_trg_Dark_Conversion_Farm_01, Condition(function Trig_Dark_Conversion_Farm_01_Conditions))
    call TriggerAddAction(gg_trg_Dark_Conversion_Farm_01, function Trig_Dark_Conversion_Farm_01_Actions)
endfunction

//===========================================================================
// Trigger: Caravan Side Quest
//===========================================================================
function Trig_Caravan_Side_Quest_Conditions takes nothing returns boolean
    if ( not ( udg_GAMEOVER == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Caravan_Side_Quest_Func011001 takes nothing returns boolean
    return ( udg_GAMEOVER == true )
endfunction

function Trig_Caravan_Side_Quest_Func012001 takes nothing returns boolean
    return ( IsUnitAliveBJ(udg_Arthas) == true )
endfunction

function Trig_Caravan_Side_Quest_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    // ---------
    set udg_CameraPosition=GetCameraTargetPositionLoc()
    call CreateFogModifierRadiusLocBJ(true, Player(1), FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_Village_Check_01), 1024.00)
    call DestroyFogModifier(GetLastCreatedFogModifier())
    call PingMinimapLocForForce(GetPlayersAll(), GetRectCenter(gg_rct_Village_Check_01), 3.00)
    call CameraSetupApplyForPlayer(true, gg_cam_Caravan, Player(1), 0.00)
    call SetSpeechVolumeGroupsBJ()
    call TransmissionFromUnitTypeWithNameBJ(GetPlayersAll(), Player(1), 'hfoo', "TRIGSTR_053", GetUnitLoc(gg_unit_hkee_0043), gg_snd_H05Footman12, "TRIGSTR_054", bj_TIMETYPE_ADD, 0, true)
    if ( Trig_Caravan_Side_Quest_Func011001() ) then
        return
    else
        call DoNothing()
    endif
    if ( Trig_Caravan_Side_Quest_Func012001() ) then
        call TransmissionFromUnitWithNameBJ(GetPlayersAll(), udg_Arthas, "TRIGSTR_257", gg_snd_H05Arthas13, "TRIGSTR_258", bj_TIMETYPE_ADD, 0, true)
    else
        call DoNothing()
    endif
    call VolumeGroupResetBJ()
    set udg_ArthasPoint=GetUnitLoc(udg_Arthas)
    call SetCameraQuickPositionLocForPlayer(Player(1), udg_ArthasPoint)
endfunction

//===========================================================================
function InitTrig_Caravan_Side_Quest takes nothing returns nothing
    set gg_trg_Caravan_Side_Quest=CreateTrigger()
    call TriggerAddCondition(gg_trg_Caravan_Side_Quest, Condition(function Trig_Caravan_Side_Quest_Conditions))
    call TriggerAddAction(gg_trg_Caravan_Side_Quest, function Trig_Caravan_Side_Quest_Actions)
endfunction

//===========================================================================
// Trigger: Share Vision Last Town
//
// Vision shared with the last village after receiving the side quest
//===========================================================================
function Trig_Share_Vision_Last_Town_Actions takes nothing returns nothing
    // -----Show Vision With Last Town-----
    call CreateFogModifierRadiusLocBJ(true, Player(1), FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_Village_Check_04), 1500.00)
    call DestroyFogModifier(GetLastCreatedFogModifier())
    call PingMinimapLocForForce(GetPlayersAll(), GetRectCenter(gg_rct_Village_Check_04), 4.00)
endfunction

//===========================================================================
function InitTrig_Share_Vision_Last_Town takes nothing returns nothing
    set gg_trg_Share_Vision_Last_Town=CreateTrigger()
    call TriggerAddAction(gg_trg_Share_Vision_Last_Town, function Trig_Share_Vision_Last_Town_Actions)
endfunction

//===========================================================================
// Trigger: Ghouls01
//
// These units are only created on Hard Difficulty level.
//===========================================================================
function Trig_Ghouls01_Conditions takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_HARD ) ) then
        return false
    endif
    return true
endfunction

function Trig_Ghouls01_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call CreateNUnitsAtLoc(1, 'ugho', Player(4), GetRectCenter(gg_rct_03Village_Corruption_1_A), 0.00)
    call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Farm01CorruptedGroup)
    call IssuePointOrderLocBJ(GetLastCreatedUnit(), "move", GetRectCenter(gg_rct_Farm_01_Ghouls_Move))
    call TriggerSleepAction(0.20)
    // ---------
    call CreateNUnitsAtLoc(1, 'ugho', Player(4), GetRectCenter(gg_rct_03Village_Corruption_1_A), 0.00)
    call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Farm01CorruptedGroup)
    call IssuePointOrderLocBJ(GetLastCreatedUnit(), "move", GetRectCenter(gg_rct_Farm_01_Ghouls_Move))
    call TriggerSleepAction(0.20)
    // ---------
    call CreateNUnitsAtLoc(1, 'ugho', Player(4), GetRectCenter(gg_rct_03Village_Corruption_1_A), 0.00)
    call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Farm01CorruptedGroup)
    call IssuePointOrderLocBJ(GetLastCreatedUnit(), "move", GetRectCenter(gg_rct_Farm_01_Ghouls_Move))
    // ---------
endfunction

//===========================================================================
function InitTrig_Ghouls01 takes nothing returns nothing
    set gg_trg_Ghouls01=CreateTrigger()
    call TriggerAddCondition(gg_trg_Ghouls01, Condition(function Trig_Ghouls01_Conditions))
    call TriggerAddAction(gg_trg_Ghouls01, function Trig_Ghouls01_Actions)
endfunction

//===========================================================================
// Trigger: Attack01
//===========================================================================
function Trig_Attack01_Conditions takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_HARD ) ) then
        return false
    endif
    return true
endfunction

function Trig_Attack01_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call TriggerSleepAction(5.00)
    call GroupPointOrderLocBJ(udg_Farm01CorruptedGroup, "attack", GetRectCenter(gg_rct_02Hearthglen))
endfunction

//===========================================================================
function InitTrig_Attack01 takes nothing returns nothing
    set gg_trg_Attack01=CreateTrigger()
    call TriggerAddCondition(gg_trg_Attack01, Condition(function Trig_Attack01_Conditions))
    call TriggerAddAction(gg_trg_Attack01, function Trig_Attack01_Actions)
endfunction

//===========================================================================
// Trigger: Create Plague 01
//
// Create 40 Special Effects in Farm 01
//===========================================================================
function Trig_Create_Plague_01_Actions takes nothing returns nothing
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=7
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call ConditionalTriggerExecute(gg_trg_Create_Plague_One_01)
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_Create_Plague_01 takes nothing returns nothing
    set gg_trg_Create_Plague_01=CreateTrigger()
    call TriggerAddAction(gg_trg_Create_Plague_01, function Trig_Create_Plague_01_Actions)
endfunction

//===========================================================================
// Trigger: Create Plague One 01
//
// Playing the Plague cloud animation for farm 01
//===========================================================================
function Trig_Create_Plague_One_01_Actions takes nothing returns nothing
    call AddSpecialEffectLocBJ(GetRandomLocInRect(gg_rct_04Farm_01_Roaming_Units_A), "Units\\Undead\\PlagueCloud\\PlagueCloud.mdl")
    set udg_PlagueCloudsA[GetForLoopIndexA()]=GetLastCreatedEffectBJ()
    call AddSpecialEffectLocBJ(GetRandomLocInRect(gg_rct_04Farm_01_Roaming_Units_B), "Units\\Undead\\PlagueCloud\\PlagueCloud.mdl")
    set udg_PlagueCloudsB[GetForLoopIndexA()]=GetLastCreatedEffectBJ()
endfunction

//===========================================================================
function InitTrig_Create_Plague_One_01 takes nothing returns nothing
    set gg_trg_Create_Plague_One_01=CreateTrigger()
    call TriggerAddAction(gg_trg_Create_Plague_One_01, function Trig_Create_Plague_One_01_Actions)
endfunction

//===========================================================================
// Trigger: Destroy Plague 01
//===========================================================================
function Trig_Destroy_Plague_01_Actions takes nothing returns nothing
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=7
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call ConditionalTriggerExecute(gg_trg_Destroy_Plague_One_01)
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_Destroy_Plague_01 takes nothing returns nothing
    set gg_trg_Destroy_Plague_01=CreateTrigger()
    call TriggerAddAction(gg_trg_Destroy_Plague_01, function Trig_Destroy_Plague_01_Actions)
endfunction

//===========================================================================
// Trigger: Destroy Plague One 01
//===========================================================================
function Trig_Destroy_Plague_One_01_Actions takes nothing returns nothing
    call DestroyEffectBJ(udg_PlagueCloudsA[GetForLoopIndexA()])
    call DestroyEffectBJ(udg_PlagueCloudsB[GetForLoopIndexA()])
endfunction

//===========================================================================
function InitTrig_Destroy_Plague_One_01 takes nothing returns nothing
    set gg_trg_Destroy_Plague_One_01=CreateTrigger()
    call TriggerAddAction(gg_trg_Destroy_Plague_One_01, function Trig_Destroy_Plague_One_01_Actions)
endfunction

//===========================================================================
// Trigger: Corruption02 QUE
//===========================================================================
function Trig_Corruption02_QUE_Conditions takes nothing returns boolean
    if ( not ( udg_BreadcrumbReached == udg_BreadcrumbStopTown2 ) ) then
        return false
    endif
    if ( not ( udg_CARAVANISDEADBOOLEAN == false ) ) then
        return false
    endif
    if ( not ( CountUnitsInGroup(GetUnitsInRectOfPlayer(gg_rct_Village_Check_02, Player(1))) == 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Corruption02_QUE_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call QueuedTriggerAddBJ(gg_trg_Corruption02, true)
endfunction

//===========================================================================
function InitTrig_Corruption02_QUE takes nothing returns nothing
    set gg_trg_Corruption02_QUE=CreateTrigger()
    call TriggerRegisterTimerExpireEventBJ(gg_trg_Corruption02_QUE, udg_CaravanCorruptionPulse)
    call TriggerAddCondition(gg_trg_Corruption02_QUE, Condition(function Trig_Corruption02_QUE_Conditions))
    call TriggerAddAction(gg_trg_Corruption02_QUE, function Trig_Corruption02_QUE_Actions)
endfunction

//===========================================================================
// Trigger: Corruption02
//===========================================================================
function Trig_Corruption02_Conditions takes nothing returns boolean
    if ( not ( udg_GAMEOVER == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Corruption02_Func005001 takes nothing returns boolean
    return ( udg_GAMEOVER == true )
endfunction

function Trig_Corruption02_Func006001 takes nothing returns boolean
    return ( udg_GAMEOVER == true )
endfunction

function Trig_Corruption02_Func020001 takes nothing returns boolean
    return ( udg_GAMEOVER == true )
endfunction

function Trig_Corruption02_Func021001 takes nothing returns boolean
    return ( udg_GAMEOVER == true )
endfunction

function Trig_Corruption02_Func031001 takes nothing returns boolean
    return ( udg_GAMEOVER == true )
endfunction

function Trig_Corruption02_Func032001 takes nothing returns boolean
    return ( udg_GAMEOVER == true )
endfunction

function Trig_Corruption02_Func084001 takes nothing returns boolean
    return ( udg_GAMEOVER == true )
endfunction

function Trig_Corruption02_Func085001 takes nothing returns boolean
    return ( udg_GAMEOVER == true )
endfunction

function Trig_Corruption02_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call ConditionalTriggerExecute(gg_trg_Caravan_Orders_Pause)
    call ConditionalTriggerExecute(gg_trg_DialogueFarm02)
    if ( Trig_Corruption02_Func005001() ) then
        call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
    else
        call DoNothing()
    endif
    if ( Trig_Corruption02_Func006001() ) then
        return
    else
        call DoNothing()
    endif
    // ----------
    call UnitShareVisionBJ(true, gg_unit_uC00_0210, Player(1))
    call UnitShareVisionBJ(true, gg_unit_uC00_0216, Player(1))
    call UnitShareVisionBJ(true, gg_unit_uC00_0217, Player(1))
    call UnitShareVisionBJ(true, gg_unit_uC00_0218, Player(1))
    call UnitShareVisionBJ(true, gg_unit_uC00_0219, Player(1))
    call CreateFogModifierRadiusLocBJ(true, Player(1), FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_Village_Vis_02), 800.00)
    set udg_VillageVis=GetLastCreatedFogModifier()
    // -----Caravan Attack Ground-----
    call IssuePointOrderLocBJ(udg_CaravanUnitArray[2], "attackground", GetRandomLocInRect(gg_rct_04Farm_02_Roaming_Units_A))
    call IssuePointOrderLocBJ(udg_CaravanUnitArray[4], "attackground", GetRandomLocInRect(gg_rct_04Farm_02_Roaming_Units_A))
    call IssuePointOrderLocBJ(udg_CaravanUnitArray[5], "attackground", GetRandomLocInRect(gg_rct_04Farm_02_Roaming_Units_C))
    call TriggerSleepAction(3.00)
    if ( Trig_Corruption02_Func020001() ) then
        call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
    else
        call DoNothing()
    endif
    if ( Trig_Corruption02_Func021001() ) then
        return
    else
        call DoNothing()
    endif
    call ConditionalTriggerExecute(gg_trg_Create_Plague_02)
    // ---------
    call IssueImmediateOrderBJ(udg_CaravanUnitArray[1], "holdposition")
    call IssueImmediateOrderBJ(udg_CaravanUnitArray[2], "holdposition")
    call IssueImmediateOrderBJ(udg_CaravanUnitArray[3], "holdposition")
    call IssueImmediateOrderBJ(udg_CaravanUnitArray[4], "holdposition")
    call IssueImmediateOrderBJ(udg_CaravanUnitArray[5], "holdposition")
    call ConditionalTriggerExecute(gg_trg_Caravan_Orders_Resume)
    call TriggerSleepAction(2.00)
    if ( Trig_Corruption02_Func031001() ) then
        call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
    else
        call DoNothing()
    endif
    if ( Trig_Corruption02_Func032001() ) then
        return
    else
        call DoNothing()
    endif
    // Villagers Come out
    call CreateNUnitsAtLoc(1, 'nvl2', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Farm_02_Create_A), bj_UNIT_FACING)
    set udg_Villager04=GetLastCreatedUnit()
    call IssuePointOrderLocBJ(udg_Villager04, "move", GetRectCenter(gg_rct_04Farm_02_Roaming_Units_A))
    // -
    call CreateNUnitsAtLoc(1, 'nvl2', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Farm_02_Create_A), bj_UNIT_FACING)
    set udg_Villager05=GetLastCreatedUnit()
    call IssuePointOrderLocBJ(udg_Villager05, "move", GetRectCenter(gg_rct_04Farm_02_Roaming_Units_A))
    // -
    call CreateNUnitsAtLoc(1, 'nvl2', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Farm_02_Create_B), bj_UNIT_FACING)
    set udg_Villager06=GetLastCreatedUnit()
    call IssuePointOrderLocBJ(udg_Villager06, "move", GetRectCenter(gg_rct_04Farm_02_Roaming_Units_C))
    // -
    call CreateNUnitsAtLoc(1, 'nvl2', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Farm_02_Create_B), bj_UNIT_FACING)
    set udg_Villager07=GetLastCreatedUnit()
    call IssuePointOrderLocBJ(udg_Villager07, "move", GetRectCenter(gg_rct_04Farm_02_Roaming_Units_C))
    // Malganis Corruption
    call CreateNUnitsAtLoc(1, 'UC02', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Malganis_Farm_02__A), bj_UNIT_FACING)
    set udg_MalGanis01=GetLastCreatedUnit()
    call SetUnitManaPercentBJ(udg_MalGanis01, 100)
    call ShowUnitHide(udg_MalGanis01)
    call SetHeroLevelBJ(udg_MalGanis01, 6, false)
    call SelectHeroSkill(udg_MalGanis01, 'SNdc')
    call IssueTargetOrderBJ(udg_MalGanis01, "darkconversion", udg_Villager04)
    // -
    call CreateNUnitsAtLoc(1, 'UC02', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Malganis_Farm_02__A), bj_UNIT_FACING)
    set udg_MalGanis02=GetLastCreatedUnit()
    call SetUnitManaPercentBJ(udg_MalGanis02, 100)
    call ShowUnitHide(udg_MalGanis02)
    call SetHeroLevelBJ(udg_MalGanis02, 6, false)
    call SelectHeroSkill(udg_MalGanis02, 'SNdc')
    call IssueTargetOrderBJ(udg_MalGanis02, "darkconversion", udg_Villager05)
    // ----------
    call CreateNUnitsAtLoc(1, 'UC02', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Malganis_Farm_02__B), bj_UNIT_FACING)
    set udg_MalGanis03=GetLastCreatedUnit()
    call SetUnitManaPercentBJ(udg_MalGanis03, 100)
    call ShowUnitHide(udg_MalGanis03)
    call SetHeroLevelBJ(udg_MalGanis03, 6, false)
    call SelectHeroSkill(udg_MalGanis03, 'SNdc')
    call IssueTargetOrderBJ(udg_MalGanis03, "darkconversion", udg_Villager06)
    // ----------
    call CreateNUnitsAtLoc(1, 'UC02', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Malganis_Farm_02__B), bj_UNIT_FACING)
    set udg_MalGanis04=GetLastCreatedUnit()
    call SetUnitManaPercentBJ(udg_MalGanis04, 100)
    call ShowUnitHide(udg_MalGanis04)
    call SetHeroLevelBJ(udg_MalGanis04, 6, false)
    call SelectHeroSkill(udg_MalGanis04, 'SNdc')
    call IssueTargetOrderBJ(udg_MalGanis04, "darkconversion", udg_Villager07)
    // ---------
    call ConditionalTriggerExecute(gg_trg_Ghouls02)
    call TriggerSleepAction(15.00)
    if ( Trig_Corruption02_Func084001() ) then
        call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
    else
        call DoNothing()
    endif
    if ( Trig_Corruption02_Func085001() ) then
        return
    else
        call DoNothing()
    endif
    // -----Remove Caravan Vision-----
    call DestroyFogModifier(udg_VillageVis)
    call UnitShareVisionBJ(false, gg_unit_uC00_0210, Player(1))
    call UnitShareVisionBJ(false, gg_unit_uC00_0216, Player(1))
    call UnitShareVisionBJ(false, gg_unit_uC00_0217, Player(1))
    call UnitShareVisionBJ(false, gg_unit_uC00_0218, Player(1))
    call UnitShareVisionBJ(false, gg_unit_uC00_0219, Player(1))
    // ---------
    call ConditionalTriggerExecute(gg_trg_Destroy_Plague_02)
    call StartTimerBJ(udg_CaravanTown3Timer, false, 130.00)
    // ---------
    call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_Corruption02 takes nothing returns nothing
    set gg_trg_Corruption02=CreateTrigger()
    call TriggerAddCondition(gg_trg_Corruption02, Condition(function Trig_Corruption02_Conditions))
    call TriggerAddAction(gg_trg_Corruption02, function Trig_Corruption02_Actions)
endfunction

//===========================================================================
// Trigger: Dark Conversion Farm 02
//===========================================================================
function Trig_Dark_Conversion_Farm_02_Conditions takes nothing returns boolean
    if ( not ( RectContainsUnit(gg_rct_Village_Check_02, GetSummonedUnit()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Dark_Conversion_Farm_02_Actions takes nothing returns nothing
    call SetUnitOwner(GetSummonedUnit(), Player(4), true)
    call ReplaceUnitBJ(GetSummonedUnit(), 'nzom', bj_UNIT_STATE_METHOD_RELATIVE)
    call GroupAddUnitSimple(GetLastReplacedUnitBJ(), udg_Farm02CorruptedGroup)
    // Need to wait for transformation finished
    call TriggerSleepAction(4.00)
    call RemoveUnit(udg_MalGanis01)
    call RemoveUnit(udg_MalGanis02)
    call RemoveUnit(udg_MalGanis03)
    call RemoveUnit(udg_MalGanis04)
    call ConditionalTriggerExecute(gg_trg_Attack02)
endfunction

//===========================================================================
function InitTrig_Dark_Conversion_Farm_02 takes nothing returns nothing
    set gg_trg_Dark_Conversion_Farm_02=CreateTrigger()
    call TriggerRegisterPlayerUnitEventSimple(gg_trg_Dark_Conversion_Farm_02, Player(PLAYER_NEUTRAL_PASSIVE), EVENT_PLAYER_UNIT_SUMMON)
    call TriggerAddCondition(gg_trg_Dark_Conversion_Farm_02, Condition(function Trig_Dark_Conversion_Farm_02_Conditions))
    call TriggerAddAction(gg_trg_Dark_Conversion_Farm_02, function Trig_Dark_Conversion_Farm_02_Actions)
endfunction

//===========================================================================
// Trigger: DialogueFarm02
//===========================================================================
function Trig_DialogueFarm02_Conditions takes nothing returns boolean
    if ( not ( udg_GAMEOVER == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_DialogueFarm02_Actions takes nothing returns nothing
    call SetSpeechVolumeGroupsBJ()
    call TransmissionFromUnitTypeWithNameBJ(GetPlayersAll(), Player(1), 'hfoo', "TRIGSTR_116", GetUnitLoc(gg_unit_hkee_0043), gg_snd_H05Footman16, "TRIGSTR_117", bj_TIMETYPE_ADD, 0, true)
    call CreateFogModifierRadiusLocBJ(true, Player(1), FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_03Village_Corruption_2_A), 1024.00)
    call DestroyFogModifier(GetLastCreatedFogModifier())
    call PingMinimapLocForForce(GetPlayersAll(), GetRectCenter(gg_rct_03Village_Corruption_2_A), 4.00)
    call SetCameraQuickPositionLocForPlayer(Player(1), GetRectCenter(gg_rct_03Village_Corruption_2_A))
    call VolumeGroupResetBJ()
endfunction

//===========================================================================
function InitTrig_DialogueFarm02 takes nothing returns nothing
    set gg_trg_DialogueFarm02=CreateTrigger()
    call TriggerAddCondition(gg_trg_DialogueFarm02, Condition(function Trig_DialogueFarm02_Conditions))
    call TriggerAddAction(gg_trg_DialogueFarm02, function Trig_DialogueFarm02_Actions)
endfunction

//===========================================================================
// Trigger: Ghouls02
//===========================================================================
function Trig_Ghouls02_Conditions takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_HARD ) ) then
        return false
    endif
    return true
endfunction

function Trig_Ghouls02_Actions takes nothing returns nothing
    call CreateNUnitsAtLoc(1, 'ugho', Player(4), GetRectCenter(gg_rct_03Village_Corruption_2_A), 0.00)
    call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Farm02CorruptedGroup)
    call IssuePointOrderLocBJ(GetLastCreatedUnit(), "move", GetRectCenter(gg_rct_Farm_02_Ghouls_Move))
    call TriggerSleepAction(0.20)
    // ---------
    call CreateNUnitsAtLoc(1, 'ugho', Player(4), GetRectCenter(gg_rct_03Village_Corruption_2_A), 0.00)
    call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Farm02CorruptedGroup)
    call IssuePointOrderLocBJ(GetLastCreatedUnit(), "move", GetRectCenter(gg_rct_Farm_02_Ghouls_Move))
    call TriggerSleepAction(0.20)
    // ---------
    call CreateNUnitsAtLoc(1, 'ugho', Player(4), GetRectCenter(gg_rct_03Village_Corruption_2_A), 0.00)
    call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Farm02CorruptedGroup)
    call IssuePointOrderLocBJ(GetLastCreatedUnit(), "move", GetRectCenter(gg_rct_Farm_02_Ghouls_Move))
    call TriggerSleepAction(0.20)
    // ---------
    call CreateNUnitsAtLoc(1, 'ugho', Player(4), GetRectCenter(gg_rct_03Village_Corruption_2_A), 0.00)
    call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Farm02CorruptedGroup)
    call IssuePointOrderLocBJ(GetLastCreatedUnit(), "move", GetRectCenter(gg_rct_Farm_02_Ghouls_Move))
endfunction

//===========================================================================
function InitTrig_Ghouls02 takes nothing returns nothing
    set gg_trg_Ghouls02=CreateTrigger()
    call TriggerAddCondition(gg_trg_Ghouls02, Condition(function Trig_Ghouls02_Conditions))
    call TriggerAddAction(gg_trg_Ghouls02, function Trig_Ghouls02_Actions)
endfunction

//===========================================================================
// Trigger: Attack02
//===========================================================================
function Trig_Attack02_Conditions takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_HARD ) ) then
        return false
    endif
    return true
endfunction

function Trig_Attack02_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call TriggerSleepAction(5.00)
    call GroupPointOrderLocBJ(udg_Farm02CorruptedGroup, "attack", GetRectCenter(gg_rct_02Hearthglen))
endfunction

//===========================================================================
function InitTrig_Attack02 takes nothing returns nothing
    set gg_trg_Attack02=CreateTrigger()
    call TriggerAddCondition(gg_trg_Attack02, Condition(function Trig_Attack02_Conditions))
    call TriggerAddAction(gg_trg_Attack02, function Trig_Attack02_Actions)
endfunction

//===========================================================================
// Trigger: Create Plague 02
//
// Create 40 Special Effects in Farm 01
//===========================================================================
function Trig_Create_Plague_02_Actions takes nothing returns nothing
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=7
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call ConditionalTriggerExecute(gg_trg_Create_Plague_One_02)
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_Create_Plague_02 takes nothing returns nothing
    set gg_trg_Create_Plague_02=CreateTrigger()
    call TriggerAddAction(gg_trg_Create_Plague_02, function Trig_Create_Plague_02_Actions)
endfunction

//===========================================================================
// Trigger: Create Plague One 02
//
// Playing the Plague cloud animation for farm 01
//===========================================================================
function Trig_Create_Plague_One_02_Actions takes nothing returns nothing
    call AddSpecialEffectLocBJ(GetRandomLocInRect(gg_rct_04Farm_02_Roaming_Units_A), "Units\\Undead\\PlagueCloud\\PlagueCloud.mdl")
    set udg_PlagueCloudsA[GetForLoopIndexA()]=GetLastCreatedEffectBJ()
    call AddSpecialEffectLocBJ(GetRandomLocInRect(gg_rct_04Farm_02_Roaming_Units_C), "Units\\Undead\\PlagueCloud\\PlagueCloud.mdl")
    set udg_PlagueCloudsC[GetForLoopIndexA()]=GetLastCreatedEffectBJ()
endfunction

//===========================================================================
function InitTrig_Create_Plague_One_02 takes nothing returns nothing
    set gg_trg_Create_Plague_One_02=CreateTrigger()
    call TriggerAddAction(gg_trg_Create_Plague_One_02, function Trig_Create_Plague_One_02_Actions)
endfunction

//===========================================================================
// Trigger: Destroy Plague 02
//===========================================================================
function Trig_Destroy_Plague_02_Actions takes nothing returns nothing
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=7
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call ConditionalTriggerExecute(gg_trg_Destroy_Plague_One_02)
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_Destroy_Plague_02 takes nothing returns nothing
    set gg_trg_Destroy_Plague_02=CreateTrigger()
    call TriggerAddAction(gg_trg_Destroy_Plague_02, function Trig_Destroy_Plague_02_Actions)
endfunction

//===========================================================================
// Trigger: Destroy Plague One 02
//===========================================================================
function Trig_Destroy_Plague_One_02_Actions takes nothing returns nothing
    call DestroyEffectBJ(udg_PlagueCloudsA[GetForLoopIndexA()])
    call DestroyEffectBJ(udg_PlagueCloudsB[GetForLoopIndexA()])
    call DestroyEffectBJ(udg_PlagueCloudsC[GetForLoopIndexA()])
endfunction

//===========================================================================
function InitTrig_Destroy_Plague_One_02 takes nothing returns nothing
    set gg_trg_Destroy_Plague_One_02=CreateTrigger()
    call TriggerAddAction(gg_trg_Destroy_Plague_One_02, function Trig_Destroy_Plague_One_02_Actions)
endfunction

//===========================================================================
// Trigger: Corruption03 QUE
//
// 
// Create 4 Zombies, 4 Acolyte, and 4 Ghouls to attack Hearthglen
// Run Trigger Orange Town
//===========================================================================
function Trig_Corruption03_QUE_Conditions takes nothing returns boolean
    if ( not ( udg_BreadcrumbReached == udg_BreadcrumbStopTown3 ) ) then
        return false
    endif
    if ( not ( udg_CARAVANISDEADBOOLEAN == false ) ) then
        return false
    endif
    if ( not ( CountUnitsInGroup(GetUnitsInRectOfPlayer(gg_rct_Village_Check_03, Player(1))) == 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Corruption03_QUE_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call QueuedTriggerAddBJ(gg_trg_Corruption03, true)
endfunction

//===========================================================================
function InitTrig_Corruption03_QUE takes nothing returns nothing
    set gg_trg_Corruption03_QUE=CreateTrigger()
    call TriggerRegisterTimerExpireEventBJ(gg_trg_Corruption03_QUE, udg_CaravanCorruptionPulse)
    call TriggerAddCondition(gg_trg_Corruption03_QUE, Condition(function Trig_Corruption03_QUE_Conditions))
    call TriggerAddAction(gg_trg_Corruption03_QUE, function Trig_Corruption03_QUE_Actions)
endfunction

//===========================================================================
// Trigger: Corruption03
//
// 
// Create 4 Zombies, 4 Acolyte, and 4 Ghouls to attack Hearthglen
// Run Trigger Orange Town
//===========================================================================
function Trig_Corruption03_Conditions takes nothing returns boolean
    if ( not ( udg_GAMEOVER == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Corruption03_Func005001 takes nothing returns boolean
    return ( udg_GAMEOVER == true )
endfunction

function Trig_Corruption03_Func006001 takes nothing returns boolean
    return ( udg_GAMEOVER == true )
endfunction

function Trig_Corruption03_Func022001 takes nothing returns boolean
    return ( udg_GAMEOVER == true )
endfunction

function Trig_Corruption03_Func023001 takes nothing returns boolean
    return ( udg_GAMEOVER == true )
endfunction

function Trig_Corruption03_Func033001 takes nothing returns boolean
    return ( udg_GAMEOVER == true )
endfunction

function Trig_Corruption03_Func034001 takes nothing returns boolean
    return ( udg_GAMEOVER == true )
endfunction

function Trig_Corruption03_Func086001 takes nothing returns boolean
    return ( udg_GAMEOVER == true )
endfunction

function Trig_Corruption03_Func087001 takes nothing returns boolean
    return ( udg_GAMEOVER == true )
endfunction

function Trig_Corruption03_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call ConditionalTriggerExecute(gg_trg_Caravan_Orders_Pause)
    call ConditionalTriggerExecute(gg_trg_DialogueFarm03)
    if ( Trig_Corruption03_Func005001() ) then
        call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
    else
        call DoNothing()
    endif
    if ( Trig_Corruption03_Func006001() ) then
        return
    else
        call DoNothing()
    endif
    // ----------
    call UnitShareVisionBJ(true, gg_unit_uC00_0210, Player(1))
    call UnitShareVisionBJ(true, gg_unit_uC00_0216, Player(1))
    call UnitShareVisionBJ(true, gg_unit_uC00_0217, Player(1))
    call UnitShareVisionBJ(true, gg_unit_uC00_0218, Player(1))
    call UnitShareVisionBJ(true, gg_unit_uC00_0219, Player(1))
    call CreateFogModifierRadiusLocBJ(true, Player(1), FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_Village_Vis_03), 800.00)
    set udg_VillageVis=GetLastCreatedFogModifier()
    // -----Caravan Attack Ground-----
    call IssuePointOrderLocBJ(udg_CaravanUnitArray[1], "attackground", GetRandomLocInRect(gg_rct_04Farm_03_Roaming_Units_A))
    call IssuePointOrderLocBJ(udg_CaravanUnitArray[2], "attackground", GetRandomLocInRect(gg_rct_04Farm_03_Roaming_Units_A))
    call IssuePointOrderLocBJ(udg_CaravanUnitArray[3], "attackground", GetRandomLocInRect(gg_rct_04Farm_03_Roaming_Units_B))
    call IssuePointOrderLocBJ(udg_CaravanUnitArray[4], "attackground", GetRandomLocInRect(gg_rct_04Farm_03_Roaming_Units_B))
    call IssuePointOrderLocBJ(udg_CaravanUnitArray[5], "attackground", GetRandomLocInRect(gg_rct_04Farm_03_Roaming_Units_B))
    call TriggerSleepAction(2.00)
    if ( Trig_Corruption03_Func022001() ) then
        call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
    else
        call DoNothing()
    endif
    if ( Trig_Corruption03_Func023001() ) then
        return
    else
        call DoNothing()
    endif
    call ConditionalTriggerExecute(gg_trg_Create_Plague_03)
    // ---------
    call IssueImmediateOrderBJ(udg_CaravanUnitArray[1], "holdposition")
    call IssueImmediateOrderBJ(udg_CaravanUnitArray[2], "holdposition")
    call IssueImmediateOrderBJ(udg_CaravanUnitArray[3], "holdposition")
    call IssueImmediateOrderBJ(udg_CaravanUnitArray[4], "holdposition")
    call IssueImmediateOrderBJ(udg_CaravanUnitArray[5], "holdposition")
    call ConditionalTriggerExecute(gg_trg_Caravan_Orders_Resume)
    call TriggerSleepAction(2.00)
    if ( Trig_Corruption03_Func033001() ) then
        call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
    else
        call DoNothing()
    endif
    if ( Trig_Corruption03_Func034001() ) then
        return
    else
        call DoNothing()
    endif
    // Villagers Come out
    call CreateNUnitsAtLoc(1, 'nvl2', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Farm_03_Create_A), bj_UNIT_FACING)
    set udg_Villager08=GetLastCreatedUnit()
    call IssuePointOrderLocBJ(udg_Villager08, "move", GetRectCenter(gg_rct_04Farm_03_Roaming_Units_A))
    // -
    call CreateNUnitsAtLoc(1, 'nvl2', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Farm_03_Create_A), bj_UNIT_FACING)
    set udg_Villager09=GetLastCreatedUnit()
    call IssuePointOrderLocBJ(udg_Villager09, "move", GetRectCenter(gg_rct_04Farm_03_Roaming_Units_A))
    // -
    call CreateNUnitsAtLoc(1, 'nvil', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Farm_03_Create_B), bj_UNIT_FACING)
    set udg_Villager10=GetLastCreatedUnit()
    call IssuePointOrderLocBJ(udg_Villager10, "move", GetRectCenter(gg_rct_04Farm_03_Roaming_Units_B))
    // -
    call CreateNUnitsAtLoc(1, 'nvl2', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Farm_03_Create_B), bj_UNIT_FACING)
    set udg_Villager11=GetLastCreatedUnit()
    call IssuePointOrderLocBJ(udg_Villager11, "move", GetRectCenter(gg_rct_04Farm_03_Roaming_Units_B))
    // Malganis Corruption
    call CreateNUnitsAtLoc(1, 'UC02', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Malganis_Farm_03), bj_UNIT_FACING)
    set udg_MalGanis01=GetLastCreatedUnit()
    call SetUnitManaPercentBJ(udg_MalGanis01, 100)
    call ShowUnitHide(udg_MalGanis01)
    call SetHeroLevelBJ(udg_MalGanis01, 6, false)
    call SelectHeroSkill(udg_MalGanis01, 'SNdc')
    call IssueTargetOrderBJ(udg_MalGanis01, "darkconversion", udg_Villager08)
    // -
    call CreateNUnitsAtLoc(1, 'UC02', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Malganis_Farm_03), bj_UNIT_FACING)
    set udg_MalGanis02=GetLastCreatedUnit()
    call SetUnitManaPercentBJ(udg_MalGanis02, 100)
    call ShowUnitHide(udg_MalGanis02)
    call SetHeroLevelBJ(udg_MalGanis02, 6, false)
    call SelectHeroSkill(udg_MalGanis02, 'SNdc')
    call IssueTargetOrderBJ(udg_MalGanis02, "darkconversion", udg_Villager09)
    // ----------
    call CreateNUnitsAtLoc(1, 'UC02', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Malganis_Farm_03), bj_UNIT_FACING)
    set udg_MalGanis03=GetLastCreatedUnit()
    call SetUnitManaPercentBJ(udg_MalGanis03, 100)
    call ShowUnitHide(udg_MalGanis03)
    call SetHeroLevelBJ(udg_MalGanis03, 6, false)
    call SelectHeroSkill(udg_MalGanis03, 'SNdc')
    call IssueTargetOrderBJ(udg_MalGanis03, "darkconversion", udg_Villager10)
    // ----------
    call CreateNUnitsAtLoc(1, 'UC02', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Malganis_Farm_03), bj_UNIT_FACING)
    set udg_MalGanis04=GetLastCreatedUnit()
    call SetUnitManaPercentBJ(udg_MalGanis04, 100)
    call ShowUnitHide(udg_MalGanis04)
    call SetHeroLevelBJ(udg_MalGanis04, 6, false)
    call SelectHeroSkill(udg_MalGanis04, 'SNdc')
    call IssueTargetOrderBJ(udg_MalGanis04, "darkconversion", udg_Villager11)
    // ---------
    call ConditionalTriggerExecute(gg_trg_Ghouls03)
    call TriggerSleepAction(15.00)
    if ( Trig_Corruption03_Func086001() ) then
        call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
    else
        call DoNothing()
    endif
    if ( Trig_Corruption03_Func087001() ) then
        return
    else
        call DoNothing()
    endif
    // -----Remove Caravan Vision-----
    call DestroyFogModifier(udg_VillageVis)
    call UnitShareVisionBJ(false, gg_unit_uC00_0210, Player(1))
    call UnitShareVisionBJ(false, gg_unit_uC00_0216, Player(1))
    call UnitShareVisionBJ(false, gg_unit_uC00_0217, Player(1))
    call UnitShareVisionBJ(false, gg_unit_uC00_0218, Player(1))
    call UnitShareVisionBJ(false, gg_unit_uC00_0219, Player(1))
    call ConditionalTriggerExecute(gg_trg_Destroy_Plague_03)
    call StartTimerBJ(udg_CaravanTown4Timer, false, 130.00)
    // ----------
    call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_Corruption03 takes nothing returns nothing
    set gg_trg_Corruption03=CreateTrigger()
    call TriggerAddCondition(gg_trg_Corruption03, Condition(function Trig_Corruption03_Conditions))
    call TriggerAddAction(gg_trg_Corruption03, function Trig_Corruption03_Actions)
endfunction

//===========================================================================
// Trigger: Dark Conversion Farm 03
//===========================================================================
function Trig_Dark_Conversion_Farm_03_Conditions takes nothing returns boolean
    if ( not ( RectContainsUnit(gg_rct_Village_Check_03, GetSummonedUnit()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Dark_Conversion_Farm_03_Actions takes nothing returns nothing
    call SetUnitOwner(GetSummonedUnit(), Player(4), true)
    call ReplaceUnitBJ(GetSummonedUnit(), 'nzom', bj_UNIT_STATE_METHOD_RELATIVE)
    call GroupAddUnitSimple(GetLastReplacedUnitBJ(), udg_Farm03CorruptedGroup)
    // Need to wait for transformation finished
    call TriggerSleepAction(4.00)
    call RemoveUnit(udg_MalGanis01)
    call RemoveUnit(udg_MalGanis02)
    call RemoveUnit(udg_MalGanis03)
    call RemoveUnit(udg_MalGanis04)
    // ---------
    call ConditionalTriggerExecute(gg_trg_Attack03)
endfunction

//===========================================================================
function InitTrig_Dark_Conversion_Farm_03 takes nothing returns nothing
    set gg_trg_Dark_Conversion_Farm_03=CreateTrigger()
    call TriggerRegisterPlayerUnitEventSimple(gg_trg_Dark_Conversion_Farm_03, Player(PLAYER_NEUTRAL_PASSIVE), EVENT_PLAYER_UNIT_SUMMON)
    call TriggerAddCondition(gg_trg_Dark_Conversion_Farm_03, Condition(function Trig_Dark_Conversion_Farm_03_Conditions))
    call TriggerAddAction(gg_trg_Dark_Conversion_Farm_03, function Trig_Dark_Conversion_Farm_03_Actions)
endfunction

//===========================================================================
// Trigger: DialogueFarm03
//===========================================================================
function Trig_DialogueFarm03_Conditions takes nothing returns boolean
    if ( not ( udg_GAMEOVER == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_DialogueFarm03_Actions takes nothing returns nothing
    call SetSpeechVolumeGroupsBJ()
    call TransmissionFromUnitTypeWithNameBJ(GetPlayersAll(), Player(1), 'hfoo', "TRIGSTR_118", GetUnitLoc(gg_unit_hkee_0043), gg_snd_H05Footman18, "TRIGSTR_121", bj_TIMETYPE_ADD, 0, true)
    call CreateFogModifierRadiusLocBJ(true, Player(1), FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_03Village_Corruption_3_A), 1024.00)
    call DestroyFogModifier(GetLastCreatedFogModifier())
    call PingMinimapLocForForce(GetPlayersAll(), GetRectCenter(gg_rct_03Village_Corruption_3_A), 4.00)
    call SetCameraQuickPositionLocForPlayer(Player(1), GetRectCenter(gg_rct_03Village_Corruption_3_A))
    call VolumeGroupResetBJ()
endfunction

//===========================================================================
function InitTrig_DialogueFarm03 takes nothing returns nothing
    set gg_trg_DialogueFarm03=CreateTrigger()
    call TriggerAddCondition(gg_trg_DialogueFarm03, Condition(function Trig_DialogueFarm03_Conditions))
    call TriggerAddAction(gg_trg_DialogueFarm03, function Trig_DialogueFarm03_Actions)
endfunction

//===========================================================================
// Trigger: Ghouls03
//===========================================================================
function Trig_Ghouls03_Conditions takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_HARD ) ) then
        return false
    endif
    return true
endfunction

function Trig_Ghouls03_Actions takes nothing returns nothing
    call CreateNUnitsAtLoc(1, 'ugho', Player(4), GetRectCenter(gg_rct_03Village_Corruption_3_A), 0.00)
    call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Farm03CorruptedGroup)
    call IssuePointOrderLocBJ(GetLastCreatedUnit(), "move", GetRectCenter(gg_rct_Farm_03_Ghouls_Move))
    call TriggerSleepAction(0.20)
    // ---------
    call CreateNUnitsAtLoc(1, 'ugho', Player(4), GetRectCenter(gg_rct_03Village_Corruption_3_A), 0.00)
    call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Farm03CorruptedGroup)
    call IssuePointOrderLocBJ(GetLastCreatedUnit(), "move", GetRectCenter(gg_rct_Farm_03_Ghouls_Move))
    call TriggerSleepAction(0.20)
    // ---------
    call CreateNUnitsAtLoc(1, 'ugho', Player(4), GetRectCenter(gg_rct_03Village_Corruption_3_A), 0.00)
    call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Farm03CorruptedGroup)
    call IssuePointOrderLocBJ(GetLastCreatedUnit(), "move", GetRectCenter(gg_rct_Farm_03_Ghouls_Move))
    call TriggerSleepAction(0.20)
    // ---------
    call CreateNUnitsAtLoc(1, 'ugho', Player(4), GetRectCenter(gg_rct_03Village_Corruption_3_A), 0.00)
    call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Farm03CorruptedGroup)
    call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", GetRectCenter(gg_rct_Farm_03_Ghouls_Move))
endfunction

//===========================================================================
function InitTrig_Ghouls03 takes nothing returns nothing
    set gg_trg_Ghouls03=CreateTrigger()
    call TriggerAddCondition(gg_trg_Ghouls03, Condition(function Trig_Ghouls03_Conditions))
    call TriggerAddAction(gg_trg_Ghouls03, function Trig_Ghouls03_Actions)
endfunction

//===========================================================================
// Trigger: Attack03
//
// Issue attack wave from the Corrupted farm units
//===========================================================================
function Trig_Attack03_Conditions takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_HARD ) ) then
        return false
    endif
    return true
endfunction

function Trig_Attack03_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call TriggerSleepAction(5.00)
    call GroupPointOrderLocBJ(udg_Farm03CorruptedGroup, "attack", GetRectCenter(gg_rct_02Hearthglen))
endfunction

//===========================================================================
function InitTrig_Attack03 takes nothing returns nothing
    set gg_trg_Attack03=CreateTrigger()
    call TriggerAddCondition(gg_trg_Attack03, Condition(function Trig_Attack03_Conditions))
    call TriggerAddAction(gg_trg_Attack03, function Trig_Attack03_Actions)
endfunction

//===========================================================================
// Trigger: Create Plague 03
//
// Create 40 Special Effects in Farm 01
//===========================================================================
function Trig_Create_Plague_03_Actions takes nothing returns nothing
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=7
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call ConditionalTriggerExecute(gg_trg_Create_Plague_One_03)
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_Create_Plague_03 takes nothing returns nothing
    set gg_trg_Create_Plague_03=CreateTrigger()
    call TriggerAddAction(gg_trg_Create_Plague_03, function Trig_Create_Plague_03_Actions)
endfunction

//===========================================================================
// Trigger: Create Plague One 03
//
// Playing the Plague cloud animation for farm 01
//===========================================================================
function Trig_Create_Plague_One_03_Actions takes nothing returns nothing
    call AddSpecialEffectLocBJ(GetRandomLocInRect(gg_rct_04Farm_03_Roaming_Units_A), "Units\\Undead\\PlagueCloud\\PlagueCloud.mdl")
    set udg_PlagueCloudsA[GetForLoopIndexA()]=GetLastCreatedEffectBJ()
    call AddSpecialEffectLocBJ(GetRandomLocInRect(gg_rct_04Farm_03_Roaming_Units_B), "Units\\Undead\\PlagueCloud\\PlagueCloud.mdl")
    set udg_PlagueCloudsB[GetForLoopIndexA()]=GetLastCreatedEffectBJ()
endfunction

//===========================================================================
function InitTrig_Create_Plague_One_03 takes nothing returns nothing
    set gg_trg_Create_Plague_One_03=CreateTrigger()
    call TriggerAddAction(gg_trg_Create_Plague_One_03, function Trig_Create_Plague_One_03_Actions)
endfunction

//===========================================================================
// Trigger: Destroy Plague 03
//===========================================================================
function Trig_Destroy_Plague_03_Actions takes nothing returns nothing
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=7
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call ConditionalTriggerExecute(gg_trg_Destroy_Plague_One_03)
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_Destroy_Plague_03 takes nothing returns nothing
    set gg_trg_Destroy_Plague_03=CreateTrigger()
    call TriggerAddAction(gg_trg_Destroy_Plague_03, function Trig_Destroy_Plague_03_Actions)
endfunction

//===========================================================================
// Trigger: Destroy Plague One 03
//===========================================================================
function Trig_Destroy_Plague_One_03_Actions takes nothing returns nothing
    call DestroyEffectBJ(udg_PlagueCloudsA[GetForLoopIndexA()])
    call DestroyEffectBJ(udg_PlagueCloudsB[GetForLoopIndexA()])
endfunction

//===========================================================================
function InitTrig_Destroy_Plague_One_03 takes nothing returns nothing
    set gg_trg_Destroy_Plague_One_03=CreateTrigger()
    call TriggerAddAction(gg_trg_Destroy_Plague_One_03, function Trig_Destroy_Plague_One_03_Actions)
endfunction

//===========================================================================
// Trigger: Corruption04 QUE
//===========================================================================
function Trig_Corruption04_QUE_Conditions takes nothing returns boolean
    if ( not ( udg_BreadcrumbReached == udg_BreadcrumbStopTown4 ) ) then
        return false
    endif
    if ( not ( udg_CARAVANISDEADBOOLEAN == false ) ) then
        return false
    endif
    if ( not ( CountUnitsInGroup(GetUnitsInRectOfPlayer(gg_rct_Village_Check_04, Player(1))) == 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Corruption04_QUE_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call QueuedTriggerAddBJ(gg_trg_Corruption04, true)
endfunction

//===========================================================================
function InitTrig_Corruption04_QUE takes nothing returns nothing
    set gg_trg_Corruption04_QUE=CreateTrigger()
    call TriggerRegisterTimerExpireEventBJ(gg_trg_Corruption04_QUE, udg_CaravanCorruptionPulse)
    call TriggerAddCondition(gg_trg_Corruption04_QUE, Condition(function Trig_Corruption04_QUE_Conditions))
    call TriggerAddAction(gg_trg_Corruption04_QUE, function Trig_Corruption04_QUE_Actions)
endfunction

//===========================================================================
// Trigger: Corruption04
//===========================================================================
function Trig_Corruption04_Conditions takes nothing returns boolean
    if ( not ( udg_GAMEOVER == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Corruption04_Func005001 takes nothing returns boolean
    return ( udg_GAMEOVER == true )
endfunction

function Trig_Corruption04_Func006001 takes nothing returns boolean
    return ( udg_GAMEOVER == true )
endfunction

function Trig_Corruption04_Func020001 takes nothing returns boolean
    return ( udg_GAMEOVER == true )
endfunction

function Trig_Corruption04_Func021001 takes nothing returns boolean
    return ( udg_GAMEOVER == true )
endfunction

function Trig_Corruption04_Func142001 takes nothing returns boolean
    return ( udg_GAMEOVER == true )
endfunction

function Trig_Corruption04_Func143001 takes nothing returns boolean
    return ( udg_GAMEOVER == true )
endfunction

function Trig_Corruption04_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call ConditionalTriggerExecute(gg_trg_Caravan_Orders_Pause)
    call ConditionalTriggerExecute(gg_trg_DialogueFarm04)
    if ( Trig_Corruption04_Func005001() ) then
        call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
    else
        call DoNothing()
    endif
    if ( Trig_Corruption04_Func006001() ) then
        return
    else
        call DoNothing()
    endif
    // ----------
    call UnitShareVisionBJ(true, gg_unit_uC00_0210, Player(1))
    call UnitShareVisionBJ(true, gg_unit_uC00_0216, Player(1))
    call UnitShareVisionBJ(true, gg_unit_uC00_0217, Player(1))
    call UnitShareVisionBJ(true, gg_unit_uC00_0218, Player(1))
    call UnitShareVisionBJ(true, gg_unit_uC00_0219, Player(1))
    // -----Caravan Attack Ground-----
    call IssuePointOrderLocBJ(udg_CaravanUnitArray[1], "attackground", GetRandomLocInRect(gg_rct_04Farm_04_Roaming_Units_B))
    call IssuePointOrderLocBJ(udg_CaravanUnitArray[2], "attackground", GetRandomLocInRect(gg_rct_04Farm_04_Roaming_Units_D))
    call IssuePointOrderLocBJ(udg_CaravanUnitArray[3], "attackground", GetRandomLocInRect(gg_rct_04Farm_04_Roaming_Units_C))
    call IssuePointOrderLocBJ(udg_CaravanUnitArray[4], "attackground", GetRandomLocInRect(gg_rct_04Farm_04_Roaming_Units_A))
    call IssuePointOrderLocBJ(udg_CaravanUnitArray[5], "attackground", GetRandomLocInRect(gg_rct_04Farm_04_Roaming_Units_C))
    call TriggerSleepAction(2.00)
    if ( Trig_Corruption04_Func020001() ) then
        call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
    else
        call DoNothing()
    endif
    if ( Trig_Corruption04_Func021001() ) then
        return
    else
        call DoNothing()
    endif
    call ConditionalTriggerExecute(gg_trg_Create_Plague_04)
    // ---------
    call IssueImmediateOrderBJ(udg_CaravanUnitArray[1], "holdposition")
    call IssueImmediateOrderBJ(udg_CaravanUnitArray[2], "holdposition")
    call IssueImmediateOrderBJ(udg_CaravanUnitArray[3], "holdposition")
    call IssueImmediateOrderBJ(udg_CaravanUnitArray[4], "holdposition")
    call IssueImmediateOrderBJ(udg_CaravanUnitArray[5], "holdposition")
    call ConditionalTriggerExecute(gg_trg_Caravan_Orders_Resume)
    // Villagers Come out
    call CreateNUnitsAtLoc(1, 'nvil', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Farm_04_Create_A), bj_UNIT_FACING)
    set udg_Villager12=GetLastCreatedUnit()
    call IssuePointOrderLocBJ(udg_Villager12, "move", GetRectCenter(gg_rct_04Farm_04_Roaming_Units_B))
    // -
    call CreateNUnitsAtLoc(1, 'nvl2', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Farm_04_Create_A), bj_UNIT_FACING)
    set udg_Villager13=GetLastCreatedUnit()
    call IssuePointOrderLocBJ(udg_Villager13, "move", GetRectCenter(gg_rct_04Farm_04_Roaming_Units_B))
    // -
    call CreateNUnitsAtLoc(1, 'nvil', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Farm_04_Create_B), bj_UNIT_FACING)
    set udg_Villager14=GetLastCreatedUnit()
    call IssuePointOrderLocBJ(udg_Villager14, "move", GetRectCenter(gg_rct_04Farm_04_Roaming_Units_D))
    // -
    call CreateNUnitsAtLoc(1, 'nvl2', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Farm_04_Create_B), bj_UNIT_FACING)
    set udg_Villager15=GetLastCreatedUnit()
    call IssuePointOrderLocBJ(udg_Villager15, "move", GetRectCenter(gg_rct_04Farm_04_Roaming_Units_D))
    // -
    call CreateNUnitsAtLoc(1, 'nvl2', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Farm_04_Create_C), bj_UNIT_FACING)
    set udg_Villager16=GetLastCreatedUnit()
    call IssuePointOrderLocBJ(udg_Villager16, "move", GetRectCenter(gg_rct_04Farm_04_Roaming_Units_C))
    // -
    call CreateNUnitsAtLoc(1, 'nvl2', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Farm_04_Create_C), bj_UNIT_FACING)
    set udg_Villager17=GetLastCreatedUnit()
    call IssuePointOrderLocBJ(udg_Villager17, "move", GetRectCenter(gg_rct_04Farm_04_Roaming_Units_C))
    // -
    call CreateNUnitsAtLoc(1, 'nvl2', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Farm_04_Create_D), bj_UNIT_FACING)
    set udg_Villager18=GetLastCreatedUnit()
    call IssuePointOrderLocBJ(udg_Villager18, "move", GetRectCenter(gg_rct_04Farm_04_Roaming_Units_A))
    // -
    call CreateNUnitsAtLoc(1, 'nvl2', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Farm_04_Create_D), bj_UNIT_FACING)
    set udg_Villager19=GetLastCreatedUnit()
    call IssuePointOrderLocBJ(udg_Villager19, "move", GetRectCenter(gg_rct_04Farm_04_Roaming_Units_A))
    // Malganis Corruption
    call CreateNUnitsAtLoc(1, 'UC02', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Malganis_Farm_04_A), bj_UNIT_FACING)
    set udg_MalGanis01=GetLastCreatedUnit()
    call SetUnitManaPercentBJ(udg_MalGanis01, 100)
    call ShowUnitHide(udg_MalGanis01)
    call SetHeroLevelBJ(udg_MalGanis01, 6, false)
    call SelectHeroSkill(udg_MalGanis01, 'SNdc')
    call IssueTargetOrderBJ(udg_MalGanis01, "darkconversion", udg_Villager12)
    // -
    call CreateNUnitsAtLoc(1, 'UC02', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Malganis_Farm_04_A), bj_UNIT_FACING)
    set udg_MalGanis02=GetLastCreatedUnit()
    call SetUnitManaPercentBJ(udg_MalGanis02, 100)
    call ShowUnitHide(udg_MalGanis02)
    call SetHeroLevelBJ(udg_MalGanis02, 6, false)
    call SelectHeroSkill(udg_MalGanis02, 'SNdc')
    call IssueTargetOrderBJ(udg_MalGanis02, "darkconversion", udg_Villager13)
    // ----------
    call CreateNUnitsAtLoc(1, 'UC02', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Malganis_Farm_04_B), bj_UNIT_FACING)
    set udg_MalGanis03=GetLastCreatedUnit()
    call SetUnitManaPercentBJ(udg_MalGanis03, 100)
    call ShowUnitHide(udg_MalGanis03)
    call SetHeroLevelBJ(udg_MalGanis03, 6, false)
    call SelectHeroSkill(udg_MalGanis03, 'SNdc')
    call IssueTargetOrderBJ(udg_MalGanis03, "darkconversion", udg_Villager14)
    // ----------
    call CreateNUnitsAtLoc(1, 'UC02', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Malganis_Farm_04_B), bj_UNIT_FACING)
    set udg_MalGanis04=GetLastCreatedUnit()
    call SetUnitManaPercentBJ(udg_MalGanis04, 100)
    call ShowUnitHide(udg_MalGanis04)
    call SetHeroLevelBJ(udg_MalGanis04, 6, false)
    call SelectHeroSkill(udg_MalGanis04, 'SNdc')
    call IssueTargetOrderBJ(udg_MalGanis04, "darkconversion", udg_Villager15)
    // ----------
    call CreateNUnitsAtLoc(1, 'UC02', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Malganis_Farm_04_C), bj_UNIT_FACING)
    set udg_MalGanis05=GetLastCreatedUnit()
    call SetUnitManaPercentBJ(udg_MalGanis05, 100)
    call ShowUnitHide(udg_MalGanis05)
    call SetHeroLevelBJ(udg_MalGanis05, 6, false)
    call SelectHeroSkill(udg_MalGanis05, 'SNdc')
    call IssueTargetOrderBJ(udg_MalGanis05, "darkconversion", udg_Villager16)
    // -
    call CreateNUnitsAtLoc(1, 'UC02', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Malganis_Farm_04_C), bj_UNIT_FACING)
    set udg_MalGanis06=GetLastCreatedUnit()
    call SetUnitManaPercentBJ(udg_MalGanis06, 100)
    call ShowUnitHide(udg_MalGanis06)
    call SetHeroLevelBJ(udg_MalGanis06, 6, false)
    call SelectHeroSkill(udg_MalGanis06, 'SNdc')
    call IssueTargetOrderBJ(udg_MalGanis06, "darkconversion", udg_Villager17)
    // ----------
    call CreateNUnitsAtLoc(1, 'UC02', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Malganis_Farm_04_D), bj_UNIT_FACING)
    set udg_MalGanis07=GetLastCreatedUnit()
    call SetUnitManaPercentBJ(udg_MalGanis07, 100)
    call ShowUnitHide(udg_MalGanis07)
    call SetHeroLevelBJ(udg_MalGanis07, 6, false)
    call SelectHeroSkill(udg_MalGanis07, 'SNdc')
    call IssueTargetOrderBJ(udg_MalGanis07, "darkconversion", udg_Villager18)
    // ----------
    call CreateNUnitsAtLoc(1, 'UC02', Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Malganis_Farm_04_D), bj_UNIT_FACING)
    set udg_MalGanis08=GetLastCreatedUnit()
    call SetUnitManaPercentBJ(udg_MalGanis08, 100)
    call ShowUnitHide(udg_MalGanis08)
    call SetHeroLevelBJ(udg_MalGanis08, 6, false)
    call SelectHeroSkill(udg_MalGanis08, 'SNdc')
    call IssueTargetOrderBJ(udg_MalGanis08, "darkconversion", udg_Villager19)
    // ---------
    call CreateNUnitsAtLoc(1, 'uaco', Player(5), GetRectCenter(gg_rct_Acolyte_Appear), 160.00)
    call IssuePointOrderLocBJ(GetLastCreatedUnit(), "move", GetRectCenter(gg_rct_Acolyte_Move))
    // -
    call CreateNUnitsAtLoc(1, 'uaco', Player(5), GetRectCenter(gg_rct_Acolyte_Appear), 160.00)
    call IssuePointOrderLocBJ(GetLastCreatedUnit(), "move", GetRectCenter(gg_rct_Acolyte_Move))
    // -
    call CreateNUnitsAtLoc(1, 'uaco', Player(5), GetRectCenter(gg_rct_Acolyte_Appear), 160.00)
    call IssuePointOrderLocBJ(GetLastCreatedUnit(), "move", GetRectCenter(gg_rct_Acolyte_Move))
    // -
    call CreateNUnitsAtLoc(1, 'uaco', Player(5), GetRectCenter(gg_rct_Acolyte_Appear), 160.00)
    call IssuePointOrderLocBJ(GetLastCreatedUnit(), "move", GetRectCenter(gg_rct_Acolyte_Move))
    set udg_BreadcrumbAllowed=udg_BreadcrumbTotal
    call ConditionalTriggerExecute(gg_trg_OrangeTown)
    call ConditionalTriggerExecute(gg_trg_Ghouls04)
    call TriggerSleepAction(15.00)
    if ( Trig_Corruption04_Func142001() ) then
        call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
    else
        call DoNothing()
    endif
    if ( Trig_Corruption04_Func143001() ) then
        return
    else
        call DoNothing()
    endif
    // -----Remove Caravan Vision-----
    call UnitShareVisionBJ(false, gg_unit_uC00_0210, Player(1))
    call UnitShareVisionBJ(false, gg_unit_uC00_0216, Player(1))
    call UnitShareVisionBJ(false, gg_unit_uC00_0217, Player(1))
    call UnitShareVisionBJ(false, gg_unit_uC00_0218, Player(1))
    call UnitShareVisionBJ(false, gg_unit_uC00_0219, Player(1))
    call ConditionalTriggerExecute(gg_trg_Destroy_Plague_04)
    // ---------
    call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_Corruption04 takes nothing returns nothing
    set gg_trg_Corruption04=CreateTrigger()
    call TriggerAddCondition(gg_trg_Corruption04, Condition(function Trig_Corruption04_Conditions))
    call TriggerAddAction(gg_trg_Corruption04, function Trig_Corruption04_Actions)
endfunction

//===========================================================================
// Trigger: Dark Conversion Farm 04
//===========================================================================
function Trig_Dark_Conversion_Farm_04_Conditions takes nothing returns boolean
    if ( not ( RectContainsUnit(gg_rct_Village_Check_04, GetSummonedUnit()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Dark_Conversion_Farm_04_Actions takes nothing returns nothing
    call SetUnitOwner(GetSummonedUnit(), Player(4), true)
    call ReplaceUnitBJ(GetSummonedUnit(), 'nzom', bj_UNIT_STATE_METHOD_RELATIVE)
    call GroupAddUnitSimple(GetLastReplacedUnitBJ(), udg_Farm04CorruptedGroup)
    // Need to wait for transformation finished
    call TriggerSleepAction(4.00)
    call RemoveUnit(udg_MalGanis01)
    call RemoveUnit(udg_MalGanis02)
    call RemoveUnit(udg_MalGanis03)
    call RemoveUnit(udg_MalGanis04)
    call RemoveUnit(udg_MalGanis05)
    call RemoveUnit(udg_MalGanis06)
    call RemoveUnit(udg_MalGanis07)
    call RemoveUnit(udg_MalGanis08)
    // ---------
    call ConditionalTriggerExecute(gg_trg_Attack04)
endfunction

//===========================================================================
function InitTrig_Dark_Conversion_Farm_04 takes nothing returns nothing
    set gg_trg_Dark_Conversion_Farm_04=CreateTrigger()
    call TriggerRegisterPlayerUnitEventSimple(gg_trg_Dark_Conversion_Farm_04, Player(PLAYER_NEUTRAL_PASSIVE), EVENT_PLAYER_UNIT_SUMMON)
    call TriggerAddCondition(gg_trg_Dark_Conversion_Farm_04, Condition(function Trig_Dark_Conversion_Farm_04_Conditions))
    call TriggerAddAction(gg_trg_Dark_Conversion_Farm_04, function Trig_Dark_Conversion_Farm_04_Actions)
endfunction

//===========================================================================
// Trigger: DialogueFarm04
//===========================================================================
function Trig_DialogueFarm04_Conditions takes nothing returns boolean
    if ( not ( udg_GAMEOVER == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_DialogueFarm04_Func004001 takes nothing returns boolean
    return ( udg_GAMEOVER == true )
endfunction

function Trig_DialogueFarm04_Func005001 takes nothing returns boolean
    return ( IsUnitAliveBJ(udg_Arthas) == true )
endfunction

function Trig_DialogueFarm04_Func013001 takes nothing returns boolean
    return ( udg_GAMEOVER == true )
endfunction

function Trig_DialogueFarm04_Actions takes nothing returns nothing
    call SetSpeechVolumeGroupsBJ()
    call TransmissionFromUnitTypeWithNameBJ(GetPlayersAll(), Player(1), 'hfoo', "TRIGSTR_122", GetUnitLoc(gg_unit_hkee_0043), gg_snd_H05Footman20, "TRIGSTR_123", bj_TIMETYPE_ADD, 0, true)
    if ( Trig_DialogueFarm04_Func004001() ) then
        return
    else
        call DoNothing()
    endif
    if ( Trig_DialogueFarm04_Func005001() ) then
        call TransmissionFromUnitWithNameBJ(GetPlayersAll(), udg_Arthas, "TRIGSTR_180", gg_snd_H05Arthas21, "TRIGSTR_181", bj_TIMETYPE_ADD, 0, true)
    else
        call DoNothing()
    endif
    call CreateFogModifierRadiusLocBJ(true, Player(1), FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_03Village_Corruption_4_A), 1024.00)
    call DestroyFogModifier(GetLastCreatedFogModifier())
    call PingMinimapLocForForce(GetPlayersAll(), GetRectCenter(gg_rct_03Village_Corruption_4_A), 4.00)
    call SetCameraQuickPositionLocForPlayer(Player(1), GetRectCenter(gg_rct_03Village_Corruption_4_A))
    call VolumeGroupResetBJ()
    call DisableTrigger(gg_trg_Caravan_Wagon_Dies_QUE)
    call TriggerSleepAction(2.00)
    if ( Trig_DialogueFarm04_Func013001() ) then
        return
    else
        call DoNothing()
    endif
    call QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_FAILED, "TRIGSTR_090")
    call QuestSetFailedBJ(udg_GrainCaravanQuest, true)
endfunction

//===========================================================================
function InitTrig_DialogueFarm04 takes nothing returns nothing
    set gg_trg_DialogueFarm04=CreateTrigger()
    call TriggerAddCondition(gg_trg_DialogueFarm04, Condition(function Trig_DialogueFarm04_Conditions))
    call TriggerAddAction(gg_trg_DialogueFarm04, function Trig_DialogueFarm04_Actions)
endfunction

//===========================================================================
// Trigger: Ghouls04
//===========================================================================
function Trig_Ghouls04_Conditions takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_HARD ) ) then
        return false
    endif
    return true
endfunction

function Trig_Ghouls04_Actions takes nothing returns nothing
    call CreateNUnitsAtLoc(1, 'ugho', Player(4), GetRectCenter(gg_rct_03Village_Corruption_4_A), 0.00)
    call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Farm04CorruptedGroup)
    call IssuePointOrderLocBJ(GetLastCreatedUnit(), "move", GetRectCenter(gg_rct_Farm_04_Ghouls_Move))
    // ---------
    call TriggerSleepAction(0.20)
    call CreateNUnitsAtLoc(1, 'ugho', Player(4), GetRectCenter(gg_rct_03Village_Corruption_4_A), 0.00)
    call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Farm04CorruptedGroup)
    call IssuePointOrderLocBJ(GetLastCreatedUnit(), "move", GetRectCenter(gg_rct_Farm_04_Ghouls_Move))
    // ---------
    call TriggerSleepAction(0.20)
    call CreateNUnitsAtLoc(1, 'ugho', Player(4), GetRectCenter(gg_rct_03Village_Corruption_4_A), 0.00)
    call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Farm04CorruptedGroup)
    call IssuePointOrderLocBJ(GetLastCreatedUnit(), "move", GetRectCenter(gg_rct_Farm_04_Ghouls_Move))
    // ---------
    call TriggerSleepAction(0.20)
    call CreateNUnitsAtLoc(1, 'ugho', Player(4), GetRectCenter(gg_rct_03Village_Corruption_4_A), 0.00)
    call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Farm04CorruptedGroup)
    call IssuePointOrderLocBJ(GetLastCreatedUnit(), "move", GetRectCenter(gg_rct_Farm_04_Ghouls_Move))
    // ---------
    call TriggerSleepAction(0.20)
    call CreateNUnitsAtLoc(1, 'ugho', Player(4), GetRectCenter(gg_rct_03Village_Corruption_4_A), 0.00)
    call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Farm04CorruptedGroup)
    call IssuePointOrderLocBJ(GetLastCreatedUnit(), "move", GetRectCenter(gg_rct_Farm_04_Ghouls_Move))
endfunction

//===========================================================================
function InitTrig_Ghouls04 takes nothing returns nothing
    set gg_trg_Ghouls04=CreateTrigger()
    call TriggerAddCondition(gg_trg_Ghouls04, Condition(function Trig_Ghouls04_Conditions))
    call TriggerAddAction(gg_trg_Ghouls04, function Trig_Ghouls04_Actions)
endfunction

//===========================================================================
// Trigger: Attack04
//===========================================================================
function Trig_Attack04_Conditions takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_HARD ) ) then
        return false
    endif
    return true
endfunction

function Trig_Attack04_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call TriggerSleepAction(5.00)
    call GroupPointOrderLocBJ(udg_Farm04CorruptedGroup, "attack", GetRectCenter(gg_rct_02Hearthglen))
endfunction

//===========================================================================
function InitTrig_Attack04 takes nothing returns nothing
    set gg_trg_Attack04=CreateTrigger()
    call TriggerAddCondition(gg_trg_Attack04, Condition(function Trig_Attack04_Conditions))
    call TriggerAddAction(gg_trg_Attack04, function Trig_Attack04_Actions)
endfunction

//===========================================================================
// Trigger: Blight
//===========================================================================
function Trig_Blight_Actions takes nothing returns nothing
    call SetBlightRadiusLocBJ(true, Player(5), GetRectCenter(gg_rct_04Farm04_Visibility), 600.00)
    call DisableTrigger(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_Blight takes nothing returns nothing
    set gg_trg_Blight=CreateTrigger()
    call TriggerRegisterPlayerUnitEventSimple(gg_trg_Blight, Player(5), EVENT_PLAYER_UNIT_CONSTRUCT_START)
    call TriggerAddAction(gg_trg_Blight, function Trig_Blight_Actions)
endfunction

//===========================================================================
// Trigger: Create Plague 04
//
// Create 40 Special Effects in Farm 01
//===========================================================================
function Trig_Create_Plague_04_Actions takes nothing returns nothing
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=7
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call ConditionalTriggerExecute(gg_trg_Create_Plague_One_04)
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_Create_Plague_04 takes nothing returns nothing
    set gg_trg_Create_Plague_04=CreateTrigger()
    call TriggerAddAction(gg_trg_Create_Plague_04, function Trig_Create_Plague_04_Actions)
endfunction

//===========================================================================
// Trigger: Create Plague One 04
//
// Playing the Plague cloud animation for farm 01
//===========================================================================
function Trig_Create_Plague_One_04_Actions takes nothing returns nothing
    call AddSpecialEffectLocBJ(GetRandomLocInRect(gg_rct_04Farm_04_Roaming_Units_A), "Units\\Undead\\PlagueCloud\\PlagueCloud.mdl")
    set udg_PlagueCloudsA[GetForLoopIndexA()]=GetLastCreatedEffectBJ()
    call AddSpecialEffectLocBJ(GetRandomLocInRect(gg_rct_04Farm_04_Roaming_Units_B), "Units\\Undead\\PlagueCloud\\PlagueCloud.mdl")
    set udg_PlagueCloudsB[GetForLoopIndexA()]=GetLastCreatedEffectBJ()
    call AddSpecialEffectLocBJ(GetRandomLocInRect(gg_rct_04Farm_04_Roaming_Units_C), "Units\\Undead\\PlagueCloud\\PlagueCloud.mdl")
    set udg_PlagueCloudsC[GetForLoopIndexA()]=GetLastCreatedEffectBJ()
    call AddSpecialEffectLocBJ(GetRandomLocInRect(gg_rct_04Farm_04_Roaming_Units_D), "Units\\Undead\\PlagueCloud\\PlagueCloud.mdl")
    set udg_PlagueCloudsD[GetForLoopIndexA()]=GetLastCreatedEffectBJ()
endfunction

//===========================================================================
function InitTrig_Create_Plague_One_04 takes nothing returns nothing
    set gg_trg_Create_Plague_One_04=CreateTrigger()
    call TriggerAddAction(gg_trg_Create_Plague_One_04, function Trig_Create_Plague_One_04_Actions)
endfunction

//===========================================================================
// Trigger: Destroy Plague 04
//===========================================================================
function Trig_Destroy_Plague_04_Actions takes nothing returns nothing
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=7
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call ConditionalTriggerExecute(gg_trg_Destroy_Plague_One_04)
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_Destroy_Plague_04 takes nothing returns nothing
    set gg_trg_Destroy_Plague_04=CreateTrigger()
    call TriggerAddAction(gg_trg_Destroy_Plague_04, function Trig_Destroy_Plague_04_Actions)
endfunction

//===========================================================================
// Trigger: Destroy Plague One 04
//===========================================================================
function Trig_Destroy_Plague_One_04_Actions takes nothing returns nothing
    call DestroyEffectBJ(udg_PlagueCloudsA[GetForLoopIndexA()])
    call DestroyEffectBJ(udg_PlagueCloudsB[GetForLoopIndexA()])
    call DestroyEffectBJ(udg_PlagueCloudsC[GetForLoopIndexA()])
    call DestroyEffectBJ(udg_PlagueCloudsD[GetForLoopIndexA()])
endfunction

//===========================================================================
function InitTrig_Destroy_Plague_One_04 takes nothing returns nothing
    set gg_trg_Destroy_Plague_One_04=CreateTrigger()
    call TriggerAddAction(gg_trg_Destroy_Plague_One_04, function Trig_Destroy_Plague_One_04_Actions)
endfunction

//===========================================================================
// Trigger: Free Villager
//===========================================================================
function Trig_Free_Villager_Conditions takes nothing returns boolean
    if ( not ( udg_GAMEOVER == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Free_Villager_Func005001 takes nothing returns boolean
    return ( IsTriggerQueueEmptyBJ() == true )
endfunction

function Trig_Free_Villager_Func008001 takes nothing returns boolean
    return ( IsTriggerQueueEmptyBJ() == true )
endfunction

function Trig_Free_Villager_Func013001 takes nothing returns boolean
    return ( DistanceBetweenPoints(GetUnitLoc(udg_Arthas), GetUnitLoc(udg_FreeVillager)) > 1024.00 )
endfunction

function Trig_Free_Villager_Func015001 takes nothing returns boolean
    return ( udg_GAMEOVER == true )
endfunction

function Trig_Free_Villager_Actions takes nothing returns nothing
    call CreateNUnitsAtLoc(1, 'nC01', Player(11), GetRectCenter(gg_rct_Free_Villager), 285.00)
    set udg_FreeVillager=GetLastCreatedUnit()
    if ( Trig_Free_Villager_Func005001() ) then
        call QueuedTriggerAddBJ(gg_trg_Free_Vill_Dialogue01_Que, true)
    else
        call DoNothing()
    endif
    call WaitForSoundBJ(gg_snd_H05VillagerM49, 0)
    call TriggerSleepAction(1.00)
    if ( Trig_Free_Villager_Func008001() ) then
        call QueuedTriggerAddBJ(gg_trg_Free_Vill_Dialogue02_Que, true)
    else
        call DoNothing()
    endif
    call WaitForSoundBJ(gg_snd_H05VillagerM47, 0)
    set udg_ArthasPoint=GetUnitLoc(udg_Arthas)
    call CreateItemLoc('I019', GetRectCenter(gg_rct_Free_Villager))
    call IssuePointOrderLocBJ(udg_FreeVillager, "move", GetRectCenter(gg_rct_02_Villager_F_Retreat_B))
    if ( Trig_Free_Villager_Func013001() ) then
        return
    else
        call DoNothing()
    endif
    call UnitAddItemSwapped(GetLastCreatedItem(), udg_Arthas)
    if ( Trig_Free_Villager_Func015001() ) then
        return
    else
        call DoNothing()
    endif
    call QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_ITEMACQUIRED, "TRIGSTR_289")
endfunction

//===========================================================================
function InitTrig_Free_Villager takes nothing returns nothing
    set gg_trg_Free_Villager=CreateTrigger()
    call TriggerRegisterDeathEvent(gg_trg_Free_Villager, gg_dest_LOcg_1355)
    call TriggerAddCondition(gg_trg_Free_Villager, Condition(function Trig_Free_Villager_Conditions))
    call TriggerAddAction(gg_trg_Free_Villager, function Trig_Free_Villager_Actions)
endfunction

//===========================================================================
// Trigger: Free Vill Dialogue01 Que
//===========================================================================
function Trig_Free_Vill_Dialogue01_Que_Actions takes nothing returns nothing
    call SetSpeechVolumeGroupsBJ()
    call TransmissionFromUnitWithNameBJ(GetPlayersAll(), udg_FreeVillager, "TRIGSTR_297", gg_snd_H05VillagerM49, "TRIGSTR_298", bj_TIMETYPE_ADD, 0, true)
    call VolumeGroupResetBJ()
    call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_Free_Vill_Dialogue01_Que takes nothing returns nothing
    set gg_trg_Free_Vill_Dialogue01_Que=CreateTrigger()
    call TriggerAddAction(gg_trg_Free_Vill_Dialogue01_Que, function Trig_Free_Vill_Dialogue01_Que_Actions)
endfunction

//===========================================================================
// Trigger: Free Vill Dialogue02 Que
//===========================================================================
function Trig_Free_Vill_Dialogue02_Que_Actions takes nothing returns nothing
    call SetSpeechVolumeGroupsBJ()
    call TransmissionFromUnitWithNameBJ(GetPlayersAll(), udg_FreeVillager, "TRIGSTR_299", gg_snd_H05VillagerM47, "TRIGSTR_300", bj_TIMETYPE_ADD, 0, true)
    call VolumeGroupResetBJ()
    call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_Free_Vill_Dialogue02_Que takes nothing returns nothing
    set gg_trg_Free_Vill_Dialogue02_Que=CreateTrigger()
    call TriggerAddAction(gg_trg_Free_Vill_Dialogue02_Que, function Trig_Free_Vill_Dialogue02_Que_Actions)
endfunction

//===========================================================================
// Trigger: Free Villager Remove
//===========================================================================
function Trig_Free_Villager_Remove_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_FreeVillager ) ) then
        return false
    endif
    return true
endfunction

function Trig_Free_Villager_Remove_Actions takes nothing returns nothing
    call RemoveUnit(GetTriggerUnit())
endfunction

//===========================================================================
function InitTrig_Free_Villager_Remove takes nothing returns nothing
    set gg_trg_Free_Villager_Remove=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_Free_Villager_Remove, gg_rct_02_Villager_F_Retreat_B)
    call TriggerAddCondition(gg_trg_Free_Villager_Remove, Condition(function Trig_Free_Villager_Remove_Conditions))
    call TriggerAddAction(gg_trg_Free_Villager_Remove, function Trig_Free_Villager_Remove_Actions)
endfunction

//===========================================================================
// Trigger: Villagers Greeting QUE
//===========================================================================
function Trig_Villagers_Greeting_QUE_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetTriggerUnit()) == Player(1) ) ) then
        return false
    endif
    return true
endfunction

function Trig_Villagers_Greeting_QUE_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call status_check_location(22)
    call QueuedTriggerAddBJ(gg_trg_Villagers_Greeting, true)
endfunction

//===========================================================================
function InitTrig_Villagers_Greeting_QUE takes nothing returns nothing
    set gg_trg_Villagers_Greeting_QUE=CreateTrigger()
    call DisableTrigger(gg_trg_Villagers_Greeting_QUE)
    call TriggerRegisterUnitInRangeSimple(gg_trg_Villagers_Greeting_QUE, 500.00, gg_unit_nvil_0080)
    call TriggerAddCondition(gg_trg_Villagers_Greeting_QUE, Condition(function Trig_Villagers_Greeting_QUE_Conditions))
    call TriggerAddAction(gg_trg_Villagers_Greeting_QUE, function Trig_Villagers_Greeting_QUE_Actions)
endfunction

//===========================================================================
// Trigger: Villagers Greeting
//===========================================================================
function Trig_Villagers_Greeting_Conditions takes nothing returns boolean
    if ( not ( udg_GAMEOVER == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Villagers_Greeting_Func003001 takes nothing returns boolean
    return ( IsUnitDeadBJ(gg_unit_nvil_0080) == true )
endfunction

function Trig_Villagers_Greeting_Func004001 takes nothing returns boolean
    return ( IsUnitDeadBJ(gg_unit_nvil_0080) == true )
endfunction

function Trig_Villagers_Greeting_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    if ( Trig_Villagers_Greeting_Func003001() ) then
        call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
    else
        call DoNothing()
    endif
    if ( Trig_Villagers_Greeting_Func004001() ) then
        return
    else
        call DoNothing()
    endif
    call CreateFogModifierRadiusLocBJ(true, Player(1), FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_05Farm05_Visibility), 700.00)
    set udg_Farm05=GetLastCreatedFogModifier()
    call FogModifierStart(udg_Farm05)
    call PingMinimapLocForForce(bj_FORCE_PLAYER[1], GetRectCenter(gg_rct_05Farm05_Visibility), 1.00)
    call SetCameraQuickPositionLocForPlayer(Player(1), GetRectCenter(gg_rct_05Farm05_Visibility))
    call DestroyEffectBJ(udg_Farm05Quest)
    call IssuePointOrderLocBJ(gg_unit_nvil_0080, "move", GetRectCenter(gg_rct_05Farm05Greeting))
    call SetSpeechVolumeGroupsBJ()
    call TransmissionFromUnitWithNameBJ(GetPlayersAll(), gg_unit_nvil_0080, "TRIGSTR_134", gg_snd_H01VillagerM43, "TRIGSTR_135", bj_TIMETYPE_ADD, 0.00, true)
    call VolumeGroupResetBJ()
    call TriggerExecute(gg_trg_Villagers_in_House)
    call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_Villagers_Greeting takes nothing returns nothing
    set gg_trg_Villagers_Greeting=CreateTrigger()
    call TriggerAddCondition(gg_trg_Villagers_Greeting, Condition(function Trig_Villagers_Greeting_Conditions))
    call TriggerAddAction(gg_trg_Villagers_Greeting, function Trig_Villagers_Greeting_Actions)
endfunction

//===========================================================================
// Trigger: Villagers in House
//===========================================================================
function Trig_Villagers_in_House_Actions takes nothing returns nothing
    call SetUnitPathing(gg_unit_nvil_0079, false)
    call SetUnitPathing(gg_unit_nvil_0080, false)
    call SetUnitPathing(gg_unit_nvil_0067, false)
    call TriggerSleepAction(0.30)
    call IssuePointOrderLocBJ(gg_unit_nvil_0079, "move", GetRectCenter(gg_rct_05Farm05Troops_03))
    call TriggerSleepAction(0.30)
    call IssuePointOrderLocBJ(gg_unit_nvil_0067, "move", GetRectCenter(gg_rct_05Farm05Troops_01))
    call TriggerSleepAction(0.30)
    call IssuePointOrderLocBJ(gg_unit_nvil_0080, "move", GetRectCenter(gg_rct_05Farm05Troops_02))
endfunction

//===========================================================================
function InitTrig_Villagers_in_House takes nothing returns nothing
    set gg_trg_Villagers_in_House=CreateTrigger()
    call TriggerAddAction(gg_trg_Villagers_in_House, function Trig_Villagers_in_House_Actions)
endfunction

//===========================================================================
// Trigger: Remove Villager01
//===========================================================================
function Trig_Remove_Villager01_Conditions takes nothing returns boolean
    if ( not ( GetTriggerUnit() == gg_unit_nvil_0067 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Remove_Villager01_Actions takes nothing returns nothing
    call RemoveUnit(GetTriggerUnit())
    call GroupRemoveUnitSimple(gg_unit_nvil_0067, udg_Farm05Group1)
    call ConditionalTriggerExecute(gg_trg_Villager_Reinforcement01)
endfunction

//===========================================================================
function InitTrig_Remove_Villager01 takes nothing returns nothing
    set gg_trg_Remove_Villager01=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_Remove_Villager01, gg_rct_05Farm05Troops_01)
    call TriggerAddCondition(gg_trg_Remove_Villager01, Condition(function Trig_Remove_Villager01_Conditions))
    call TriggerAddAction(gg_trg_Remove_Villager01, function Trig_Remove_Villager01_Actions)
endfunction

//===========================================================================
// Trigger: Remove Villager02
//===========================================================================
function Trig_Remove_Villager02_Conditions takes nothing returns boolean
    if ( not ( GetTriggerUnit() == gg_unit_nvil_0080 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Remove_Villager02_Actions takes nothing returns nothing
    call RemoveUnit(GetTriggerUnit())
    call GroupRemoveUnitSimple(gg_unit_nvil_0080, udg_Farm05Group1)
    call ConditionalTriggerExecute(gg_trg_Villager_Reinforcement02)
endfunction

//===========================================================================
function InitTrig_Remove_Villager02 takes nothing returns nothing
    set gg_trg_Remove_Villager02=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_Remove_Villager02, gg_rct_05Farm05Troops_02)
    call TriggerAddCondition(gg_trg_Remove_Villager02, Condition(function Trig_Remove_Villager02_Conditions))
    call TriggerAddAction(gg_trg_Remove_Villager02, function Trig_Remove_Villager02_Actions)
endfunction

//===========================================================================
// Trigger: Remove Villager03
//===========================================================================
function Trig_Remove_Villager03_Conditions takes nothing returns boolean
    if ( not ( GetTriggerUnit() == gg_unit_nvil_0079 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Remove_Villager03_Actions takes nothing returns nothing
    call GroupRemoveUnitSimple(gg_unit_nvil_0079, udg_Farm05Group1)
    call RemoveUnit(GetTriggerUnit())
    call ConditionalTriggerExecute(gg_trg_Villager_Reinforcement03)
endfunction

//===========================================================================
function InitTrig_Remove_Villager03 takes nothing returns nothing
    set gg_trg_Remove_Villager03=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_Remove_Villager03, gg_rct_05Farm05Troops_03)
    call TriggerAddCondition(gg_trg_Remove_Villager03, Condition(function Trig_Remove_Villager03_Conditions))
    call TriggerAddAction(gg_trg_Remove_Villager03, function Trig_Remove_Villager03_Actions)
endfunction

//===========================================================================
// Trigger: Dead Villagers No Troops
//===========================================================================
function Trig_Dead_Villagers_No_Troops_Actions takes nothing returns nothing
    call DestroyEffectBJ(udg_Farm05Quest)
    call DestroyFogModifier(udg_Farm05)
    call StopSoundBJ(gg_snd_H01VillagerM43, false)
    call DisableTrigger(gg_trg_Villagers_Greeting_QUE)
    call QueuedTriggerRemoveBJ(gg_trg_Villagers_Greeting)
endfunction

//===========================================================================
function InitTrig_Dead_Villagers_No_Troops takes nothing returns nothing
    set gg_trg_Dead_Villagers_No_Troops=CreateTrigger()
    call TriggerRegisterUnitEvent(gg_trg_Dead_Villagers_No_Troops, gg_unit_nvil_0080, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(gg_trg_Dead_Villagers_No_Troops, gg_unit_nvil_0079, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(gg_trg_Dead_Villagers_No_Troops, gg_unit_nvil_0067, EVENT_UNIT_DEATH)
    call TriggerAddAction(gg_trg_Dead_Villagers_No_Troops, function Trig_Dead_Villagers_No_Troops_Actions)
endfunction

//===========================================================================
// Trigger: Villager Reinforcement01
//===========================================================================
function Trig_Villager_Reinforcement01_Actions takes nothing returns nothing
    call CreateNUnitsAtLoc(1, 'hfoo', Player(1), GetRandomLocInRect(gg_rct_05Farm05Troops_01), 0.00)
    call IssuePointOrderLocBJ(GetLastCreatedUnit(), "move", GetRectCenter(gg_rct_05Farm05_Visibility))
    call FogModifierStop(udg_Farm05)
endfunction

//===========================================================================
function InitTrig_Villager_Reinforcement01 takes nothing returns nothing
    set gg_trg_Villager_Reinforcement01=CreateTrigger()
    call TriggerAddAction(gg_trg_Villager_Reinforcement01, function Trig_Villager_Reinforcement01_Actions)
endfunction

//===========================================================================
// Trigger: Villager Reinforcement02
//===========================================================================
function Trig_Villager_Reinforcement02_Actions takes nothing returns nothing
    call CreateNUnitsAtLoc(1, 'hfoo', Player(1), GetRandomLocInRect(gg_rct_05Farm05Troops_02), 0.00)
    call IssuePointOrderLocBJ(GetLastCreatedUnit(), "move", GetRectCenter(gg_rct_05Troop_2))
    call FogModifierStop(udg_Farm05)
endfunction

//===========================================================================
function InitTrig_Villager_Reinforcement02 takes nothing returns nothing
    set gg_trg_Villager_Reinforcement02=CreateTrigger()
    call TriggerAddAction(gg_trg_Villager_Reinforcement02, function Trig_Villager_Reinforcement02_Actions)
endfunction

//===========================================================================
// Trigger: Villager Reinforcement03
//===========================================================================
function Trig_Villager_Reinforcement03_Actions takes nothing returns nothing
    call CreateNUnitsAtLoc(1, 'hfoo', Player(1), GetRandomLocInRect(gg_rct_05Farm05Troops_03), 0.00)
    call IssuePointOrderLocBJ(GetLastCreatedUnit(), "move", GetRectCenter(gg_rct_05Troop_3))
    call FogModifierStop(udg_Farm05)
endfunction

//===========================================================================
function InitTrig_Villager_Reinforcement03 takes nothing returns nothing
    set gg_trg_Villager_Reinforcement03=CreateTrigger()
    call TriggerAddAction(gg_trg_Villager_Reinforcement03, function Trig_Villager_Reinforcement03_Actions)
endfunction

//===========================================================================
// Trigger: Ogres QUE
//===========================================================================
function Trig_Ogres_QUE_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetTriggerUnit()) == Player(1) ) ) then
        return false
    endif
    if ( not ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_GROUND) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Ogres_QUE_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call QueuedTriggerAddBJ(gg_trg_Ogres, true)
endfunction

//===========================================================================
function InitTrig_Ogres_QUE takes nothing returns nothing
    set gg_trg_Ogres_QUE=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_Ogres_QUE, gg_rct_Fountain_of_Life)
    call TriggerAddCondition(gg_trg_Ogres_QUE, Condition(function Trig_Ogres_QUE_Conditions))
    call TriggerAddAction(gg_trg_Ogres_QUE, function Trig_Ogres_QUE_Actions)
endfunction

//===========================================================================
// Trigger: Ogres
//===========================================================================
function Trig_Ogres_Conditions takes nothing returns boolean
    if ( not ( udg_GAMEOVER == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Ogres_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call CreateFogModifierRadiusLocBJ(true, Player(1), FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_Fountain_of_Life), 750.00)
    set udg_FountainVisibility=GetLastCreatedFogModifier()
    call FogModifierStart(udg_FountainVisibility)
    call PingMinimapLocForForce(bj_FORCE_PLAYER[1], GetRectCenter(gg_rct_Fountain_of_Life), 4.00)
    call SetCameraQuickPositionLocForPlayer(Player(1), GetRectCenter(gg_rct_Fountain_of_Life))
    call SetSpeechVolumeGroupsBJ()
    call TransmissionFromUnitTypeWithNameBJ(GetPlayersAll(), Player(1), 'hfoo', "TRIGSTR_218", GetUnitLoc(gg_unit_hkee_0043), gg_snd_H05Footman51, "TRIGSTR_219", bj_TIMETYPE_ADD, 0, false)
    call IssuePointOrderLocBJ(gg_unit_nogr_0014, "attack", GetRectCenter(gg_rct_Fountain_of_Life))
    call IssuePointOrderLocBJ(gg_unit_nogr_0068, "attack", GetRectCenter(gg_rct_Fountain_of_Life))
    call IssuePointOrderLocBJ(gg_unit_nogl_0090, "attack", GetRectCenter(gg_rct_Fountain_of_Life))
    call IssuePointOrderLocBJ(gg_unit_nogr_0069, "attack", GetRectCenter(gg_rct_Fountain_of_Life))
    call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
    call WaitForSoundBJ(gg_snd_H05Footman51, 0)
    call VolumeGroupResetBJ()
    call FogModifierStop(udg_FountainVisibility)
endfunction

//===========================================================================
function InitTrig_Ogres takes nothing returns nothing
    set gg_trg_Ogres=CreateTrigger()
    call TriggerAddCondition(gg_trg_Ogres, Condition(function Trig_Ogres_Conditions))
    call TriggerAddAction(gg_trg_Ogres, function Trig_Ogres_Actions)
endfunction

//===========================================================================
// Trigger: Suicide AI
//===========================================================================
function Trig_Suicide_AI_Actions takes nothing returns nothing
    call CommandAI(Player(6), 0, 0)
    call CommandAI(Player(3), 0, 0)
    call CommandAI(Player(5), 0, 0)
endfunction

//===========================================================================
function InitTrig_Suicide_AI takes nothing returns nothing
    set gg_trg_Suicide_AI=CreateTrigger()
    call TriggerRegisterTimerExpireEventBJ(gg_trg_Suicide_AI, udg_SuicideTimer)
    call TriggerAddAction(gg_trg_Suicide_AI, function Trig_Suicide_AI_Actions)
endfunction

//===========================================================================
// Trigger: UnlimitedGoldGreen
//===========================================================================
function Trig_UnlimitedGoldGreen_Actions takes nothing returns nothing
    call AdjustPlayerStateBJ(1000, Player(6), PLAYER_STATE_RESOURCE_GOLD)
endfunction

//===========================================================================
function InitTrig_UnlimitedGoldGreen takes nothing returns nothing
    set gg_trg_UnlimitedGoldGreen=CreateTrigger()
    call TriggerRegisterPlayerStateEvent(gg_trg_UnlimitedGoldGreen, Player(6), PLAYER_STATE_RESOURCE_GOLD, LESS_THAN_OR_EQUAL, 500.00)
    call TriggerAddAction(gg_trg_UnlimitedGoldGreen, function Trig_UnlimitedGoldGreen_Actions)
endfunction

//===========================================================================
// Trigger: UnlimitedLumberGreen
//===========================================================================
function Trig_UnlimitedLumberGreen_Actions takes nothing returns nothing
    call AdjustPlayerStateBJ(1000, Player(6), PLAYER_STATE_RESOURCE_LUMBER)
endfunction

//===========================================================================
function InitTrig_UnlimitedLumberGreen takes nothing returns nothing
    set gg_trg_UnlimitedLumberGreen=CreateTrigger()
    call TriggerRegisterPlayerStateEvent(gg_trg_UnlimitedLumberGreen, Player(6), PLAYER_STATE_RESOURCE_LUMBER, LESS_THAN_OR_EQUAL, 500.00)
    call TriggerAddAction(gg_trg_UnlimitedLumberGreen, function Trig_UnlimitedLumberGreen_Actions)
endfunction

//===========================================================================
// Trigger: Orange AI Attack Wave
//
// Attack wave holds off for a bit after town is built (ASK ROB)
//===========================================================================
function Trig_Orange_AI_Attack_Wave_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call CommandAI(Player(5), 0, 0)
endfunction

//===========================================================================
function InitTrig_Orange_AI_Attack_Wave takes nothing returns nothing
    set gg_trg_Orange_AI_Attack_Wave=CreateTrigger()
    call TriggerRegisterTimerExpireEventBJ(gg_trg_Orange_AI_Attack_Wave, udg_OrangeAIAttackWave)
    call TriggerAddAction(gg_trg_Orange_AI_Attack_Wave, function Trig_Orange_AI_Attack_Wave_Actions)
endfunction

//===========================================================================
// Trigger: OrangeTown
//
// Trigger starts the Orange AI 
// Enable Victory Condition2
// Diable Victory Condition1
//===========================================================================
function Trig_OrangeTown_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call StartCampaignAI(Player(5), "h05_orange.ai")
    call EnableTrigger(gg_trg_Victory2)
    call DisableTrigger(gg_trg_Victory1)
    set udg_Reinforcement=true
    // -----Show Score Screen-----
    call SetPlayerOnScoreScreenBJ(true, Player(5))
endfunction

//===========================================================================
function InitTrig_OrangeTown takes nothing returns nothing
    set gg_trg_OrangeTown=CreateTrigger()
    call TriggerAddAction(gg_trg_OrangeTown, function Trig_OrangeTown_Actions)
endfunction

//===========================================================================
// Trigger: ResourcesOrange
//===========================================================================
function Trig_ResourcesOrange_Actions takes nothing returns nothing
    call SetPlayerStateBJ(Player(5), PLAYER_STATE_RESOURCE_LUMBER, 5000)
    call SetPlayerStateBJ(Player(5), PLAYER_STATE_RESOURCE_GOLD, 5000)
endfunction

//===========================================================================
function InitTrig_ResourcesOrange takes nothing returns nothing
    set gg_trg_ResourcesOrange=CreateTrigger()
    call TriggerAddAction(gg_trg_ResourcesOrange, function Trig_ResourcesOrange_Actions)
endfunction

//===========================================================================
// Trigger: UnlimitedGoldOrange
//===========================================================================
function Trig_UnlimitedGoldOrange_Actions takes nothing returns nothing
    call SetPlayerStateBJ(Player(5), PLAYER_STATE_RESOURCE_GOLD, 5000)
endfunction

//===========================================================================
function InitTrig_UnlimitedGoldOrange takes nothing returns nothing
    set gg_trg_UnlimitedGoldOrange=CreateTrigger()
    call TriggerRegisterPlayerStateEvent(gg_trg_UnlimitedGoldOrange, Player(5), PLAYER_STATE_RESOURCE_GOLD, LESS_THAN_OR_EQUAL, 4000.00)
    call TriggerAddAction(gg_trg_UnlimitedGoldOrange, function Trig_UnlimitedGoldOrange_Actions)
endfunction

//===========================================================================
// Trigger: UnlimitedLumberOrange
//===========================================================================
function Trig_UnlimitedLumberOrange_Actions takes nothing returns nothing
    call SetPlayerStateBJ(Player(5), PLAYER_STATE_RESOURCE_LUMBER, 5000)
endfunction

//===========================================================================
function InitTrig_UnlimitedLumberOrange takes nothing returns nothing
    set gg_trg_UnlimitedLumberOrange=CreateTrigger()
    call TriggerRegisterPlayerStateEvent(gg_trg_UnlimitedLumberOrange, Player(5), PLAYER_STATE_RESOURCE_LUMBER, LESS_THAN_OR_EQUAL, 4000.00)
    call TriggerAddAction(gg_trg_UnlimitedLumberOrange, function Trig_UnlimitedLumberOrange_Actions)
endfunction

//===========================================================================
// Trigger: UnlimitedGoldPurple
//===========================================================================
function Trig_UnlimitedGoldPurple_Actions takes nothing returns nothing
    call AdjustPlayerStateBJ(1000, Player(3), PLAYER_STATE_RESOURCE_GOLD)
endfunction

//===========================================================================
function InitTrig_UnlimitedGoldPurple takes nothing returns nothing
    set gg_trg_UnlimitedGoldPurple=CreateTrigger()
    call TriggerRegisterPlayerStateEvent(gg_trg_UnlimitedGoldPurple, Player(3), PLAYER_STATE_RESOURCE_GOLD, LESS_THAN_OR_EQUAL, 500.00)
    call TriggerAddAction(gg_trg_UnlimitedGoldPurple, function Trig_UnlimitedGoldPurple_Actions)
endfunction

//===========================================================================
// Trigger: UnlimitedLumberPurple
//===========================================================================
function Trig_UnlimitedLumberPurple_Actions takes nothing returns nothing
    call AdjustPlayerStateBJ(1000, Player(3), PLAYER_STATE_RESOURCE_LUMBER)
endfunction

//===========================================================================
function InitTrig_UnlimitedLumberPurple takes nothing returns nothing
    set gg_trg_UnlimitedLumberPurple=CreateTrigger()
    call TriggerRegisterPlayerStateEvent(gg_trg_UnlimitedLumberPurple, Player(3), PLAYER_STATE_RESOURCE_LUMBER, LESS_THAN_OR_EQUAL, 500.00)
    call TriggerAddAction(gg_trg_UnlimitedLumberPurple, function Trig_UnlimitedLumberPurple_Actions)
endfunction

//===========================================================================
// Trigger: Victory Cheat
//===========================================================================
function Trig_Victory_Cheat_Actions takes nothing returns nothing
    call TriggerExecute(gg_trg_Victory)
endfunction

//===========================================================================
function InitTrig_Victory_Cheat takes nothing returns nothing
    set gg_trg_Victory_Cheat=CreateTrigger()
    call TriggerRegisterPlayerEventVictory(gg_trg_Victory_Cheat, Player(1))
    call TriggerAddAction(gg_trg_Victory_Cheat, function Trig_Victory_Cheat_Actions)
endfunction

//===========================================================================
// Trigger: Victory1
//===========================================================================
function Trig_Victory1_Conditions takes nothing returns boolean
    if ( not ( udg_GAMEOVER == false ) ) then
        return false
    endif
    if ( not ( GetPlayerStructureCount(Player(6), true) <= 0 ) ) then
        return false
    endif
    if ( not ( GetPlayerStructureCount(Player(3), true) <= 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Victory1_Actions takes nothing returns nothing
    call DisableTrigger(gg_trg_Villagers_Greeting_QUE)
    call ConditionalTriggerExecute(gg_trg_Ending_Start)
endfunction

//===========================================================================
function InitTrig_Victory1 takes nothing returns nothing
    set gg_trg_Victory1=CreateTrigger()
    call TriggerRegisterPlayerUnitEventSimple(gg_trg_Victory1, Player(6), EVENT_PLAYER_UNIT_DEATH)
    call TriggerRegisterPlayerUnitEventSimple(gg_trg_Victory1, Player(3), EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(gg_trg_Victory1, Condition(function Trig_Victory1_Conditions))
    call TriggerAddAction(gg_trg_Victory1, function Trig_Victory1_Actions)
endfunction

//===========================================================================
// Trigger: Victory2
//===========================================================================
function Trig_Victory2_Conditions takes nothing returns boolean
    if ( not ( udg_GAMEOVER == false ) ) then
        return false
    endif
    if ( not ( GetPlayerStructureCount(Player(6), true) <= 0 ) ) then
        return false
    endif
    if ( not ( GetPlayerStructureCount(Player(5), true) <= 0 ) ) then
        return false
    endif
    if ( not ( GetPlayerStructureCount(Player(3), true) <= 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Victory2_Actions takes nothing returns nothing
    call DisableTrigger(gg_trg_Villagers_Greeting_QUE)
    call ConditionalTriggerExecute(gg_trg_Ending_Start)
endfunction

//===========================================================================
function InitTrig_Victory2 takes nothing returns nothing
    set gg_trg_Victory2=CreateTrigger()
    call DisableTrigger(gg_trg_Victory2)
    call TriggerRegisterPlayerUnitEventSimple(gg_trg_Victory2, Player(6), EVENT_PLAYER_UNIT_DEATH)
    call TriggerRegisterPlayerUnitEventSimple(gg_trg_Victory2, Player(5), EVENT_PLAYER_UNIT_DEATH)
    call TriggerRegisterPlayerUnitEventSimple(gg_trg_Victory2, Player(3), EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(gg_trg_Victory2, Condition(function Trig_Victory2_Conditions))
    call TriggerAddAction(gg_trg_Victory2, function Trig_Victory2_Actions)
endfunction

//===========================================================================
// Trigger: Victory
//===========================================================================
function Trig_Victory_Actions takes nothing returns nothing
    // Start the next level
    call status_check_location(0)
    call SetNextLevelBJ("Maps\\Archipelago\\Human06.w3x")
    call CustomVictoryBJ(Player(1), true, true)
endfunction

//===========================================================================
function InitTrig_Victory takes nothing returns nothing
    set gg_trg_Victory=CreateTrigger()
    call TriggerAddAction(gg_trg_Victory, function Trig_Victory_Actions)
endfunction

//===========================================================================
// Trigger: Defeat
//===========================================================================
function Trig_Defeat_Conditions takes nothing returns boolean
    if ( not ( GetPlayerStructureCount(Player(1), true) == 0 ) ) then
        return false
    endif
    if ( not ( udg_GAMEOVER == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Defeat_Actions takes nothing returns nothing
    call DisableTrigger(gg_trg_Ending_Start)
    set udg_GAMEOVER=true
    call PauseTimerBJ(true, udg_Timer30Minute)
    call DestroyTimerDialogBJ(GetLastCreatedTimerDialogBJ())
    // ----------
    call QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_MISSIONFAILED, "TRIGSTR_148")
    call TriggerSleepAction(bj_QUEUE_DELAY_QUEST)
    call CustomDefeatBJ(Player(1), "TRIGSTR_040")
endfunction

//===========================================================================
function InitTrig_Defeat takes nothing returns nothing
    set gg_trg_Defeat=CreateTrigger()
    call TriggerRegisterPlayerUnitEventSimple(gg_trg_Defeat, Player(1), EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(gg_trg_Defeat, Condition(function Trig_Defeat_Conditions))
    call TriggerAddAction(gg_trg_Defeat, function Trig_Defeat_Actions)
endfunction

//===========================================================================
// Trigger: Defeat Cheat
//===========================================================================
function Trig_Defeat_Cheat_Actions takes nothing returns nothing
    call CustomDefeatBJ(Player(1), "TRIGSTR_070")
endfunction

//===========================================================================
function InitTrig_Defeat_Cheat takes nothing returns nothing
    set gg_trg_Defeat_Cheat=CreateTrigger()
    call TriggerRegisterPlayerEventDefeat(gg_trg_Defeat_Cheat, Player(1))
    call TriggerAddAction(gg_trg_Defeat_Cheat, function Trig_Defeat_Cheat_Actions)
endfunction

//===========================================================================
// Trigger: Victory Cancel
//
// Note that the "Pan camera" has to occur after the "Reset camera".  This is because the pan would be ignored if the camera was already doing a higher-priority task at the time, such as applying a camera object.  By resetting the camera first, all such tasks are cleared.
//===========================================================================
function Trig_Victory_Cancel_Actions takes nothing returns nothing
    set udg_EndingCancelled=true
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT, 2, "ReplaceableTextures\\CameraMasks\\White_mask.blp", 0, 0, 0, 0)
    call TriggerSleepAction(2)
    // ---------
    call TriggerExecute(gg_trg_Victory)
endfunction

//===========================================================================
function InitTrig_Victory_Cancel takes nothing returns nothing
    set gg_trg_Victory_Cancel=CreateTrigger()
    call DisableTrigger(gg_trg_Victory_Cancel)
    call TriggerRegisterPlayerEventEndCinematic(gg_trg_Victory_Cancel, Player(1))
    call TriggerAddAction(gg_trg_Victory_Cancel, function Trig_Victory_Cancel_Actions)
endfunction

//===========================================================================
// Trigger: Ending Start
//===========================================================================
function Trig_Ending_Start_Conditions takes nothing returns boolean
    if ( not ( IsTriggerEnabled(gg_trg_Ending_Start) == true ) ) then
        return false
    endif
    if ( not ( udg_GAMEOVER == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Ending_Start_Actions takes nothing returns nothing
    set udg_GAMEOVER=true
    call status_check_location(0)
    call DisableTrigger(GetTriggeringTrigger())
    call DisableTrigger(gg_trg_Defeat)
    call DisableTrigger(gg_trg_Villagers_Greeting_QUE)
    call QueuedTriggerAddBJ(gg_trg_Ending_Cinematic_A, false)
endfunction

//===========================================================================
function InitTrig_Ending_Start takes nothing returns nothing
    set gg_trg_Ending_Start=CreateTrigger()
    call TriggerRegisterTimerExpireEventBJ(gg_trg_Ending_Start, udg_Timer30Minute)
    call TriggerAddCondition(gg_trg_Ending_Start, Condition(function Trig_Ending_Start_Conditions))
    call TriggerAddAction(gg_trg_Ending_Start, function Trig_Ending_Start_Actions)
endfunction

//===========================================================================
// Trigger: Ending Cinematic A
//
// Uther and Jaina Return
//===========================================================================
function Trig_Ending_Cinematic_A_Func024001 takes nothing returns boolean
    return ( IsUnitDeadBJ(udg_Arthas) == true )
endfunction

function Trig_Ending_Cinematic_A_Func171002 takes nothing returns nothing
    call SetUnitAnimation(GetEnumUnit(), "attack")
endfunction

function Trig_Ending_Cinematic_A_Func175002 takes nothing returns nothing
    call IssuePointOrderLocBJ(GetEnumUnit(), "move", GetRandomLocInRect(gg_rct_Undead_Mob_Attack))
endfunction

function Trig_Ending_Cinematic_A_Func176002 takes nothing returns nothing
    call SetUnitAnimation(GetEnumUnit(), "attack")
endfunction

function Trig_Ending_Cinematic_A_Func177002 takes nothing returns nothing
    call QueueUnitAnimationBJ(GetEnumUnit(), "attack")
endfunction

function Trig_Ending_Cinematic_A_Func178002 takes nothing returns nothing
    call QueueUnitAnimationBJ(GetEnumUnit(), "attack")
endfunction

function Trig_Ending_Cinematic_A_Func179002 takes nothing returns nothing
    call QueueUnitAnimationBJ(GetEnumUnit(), "attack")
endfunction

function Trig_Ending_Cinematic_A_Func180002 takes nothing returns nothing
    call QueueUnitAnimationBJ(GetEnumUnit(), "attack")
endfunction

function Trig_Ending_Cinematic_A_Func182001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_A_Func183002 takes nothing returns nothing
    call QueueUnitAnimationBJ(GetEnumUnit(), "attack")
endfunction

function Trig_Ending_Cinematic_A_Func184002 takes nothing returns nothing
    call QueueUnitAnimationBJ(GetEnumUnit(), "attack")
endfunction

function Trig_Ending_Cinematic_A_Func185002 takes nothing returns nothing
    call QueueUnitAnimationBJ(GetEnumUnit(), "attack")
endfunction

function Trig_Ending_Cinematic_A_Func186002 takes nothing returns nothing
    call QueueUnitAnimationBJ(GetEnumUnit(), "attack")
endfunction

function Trig_Ending_Cinematic_A_Func187002 takes nothing returns nothing
    call QueueUnitAnimationBJ(GetEnumUnit(), "attack")
endfunction

function Trig_Ending_Cinematic_A_Func188002 takes nothing returns nothing
    call QueueUnitAnimationBJ(GetEnumUnit(), "attack")
endfunction

function Trig_Ending_Cinematic_A_Func189002 takes nothing returns nothing
    call QueueUnitAnimationBJ(GetEnumUnit(), "attack")
endfunction

function Trig_Ending_Cinematic_A_Func190002 takes nothing returns nothing
    call QueueUnitAnimationBJ(GetEnumUnit(), "attack")
endfunction

function Trig_Ending_Cinematic_A_Func191002 takes nothing returns nothing
    call QueueUnitAnimationBJ(GetEnumUnit(), "attack")
endfunction

function Trig_Ending_Cinematic_A_Func192002 takes nothing returns nothing
    call QueueUnitAnimationBJ(GetEnumUnit(), "attack")
endfunction

function Trig_Ending_Cinematic_A_Func195001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_A_Func196002 takes nothing returns nothing
    call QueueUnitAnimationBJ(GetEnumUnit(), "attack")
endfunction

function Trig_Ending_Cinematic_A_Func197002 takes nothing returns nothing
    call QueueUnitAnimationBJ(GetEnumUnit(), "attack")
endfunction

function Trig_Ending_Cinematic_A_Func198002 takes nothing returns nothing
    call QueueUnitAnimationBJ(GetEnumUnit(), "attack")
endfunction

function Trig_Ending_Cinematic_A_Func199002 takes nothing returns nothing
    call QueueUnitAnimationBJ(GetEnumUnit(), "attack")
endfunction

function Trig_Ending_Cinematic_A_Func200002 takes nothing returns nothing
    call QueueUnitAnimationBJ(GetEnumUnit(), "attack")
endfunction

function Trig_Ending_Cinematic_A_Func201002 takes nothing returns nothing
    call QueueUnitAnimationBJ(GetEnumUnit(), "attack")
endfunction

function Trig_Ending_Cinematic_A_Func202002 takes nothing returns nothing
    call QueueUnitAnimationBJ(GetEnumUnit(), "attack")
endfunction

function Trig_Ending_Cinematic_A_Func203002 takes nothing returns nothing
    call QueueUnitAnimationBJ(GetEnumUnit(), "attack")
endfunction

function Trig_Ending_Cinematic_A_Func204002 takes nothing returns nothing
    call QueueUnitAnimationBJ(GetEnumUnit(), "attack")
endfunction

function Trig_Ending_Cinematic_A_Func205002 takes nothing returns nothing
    call QueueUnitAnimationBJ(GetEnumUnit(), "attack")
endfunction

function Trig_Ending_Cinematic_A_Func206002 takes nothing returns nothing
    call QueueUnitAnimationBJ(GetEnumUnit(), "attack")
endfunction

function Trig_Ending_Cinematic_A_Func207002 takes nothing returns nothing
    call QueueUnitAnimationBJ(GetEnumUnit(), "attack")
endfunction

function Trig_Ending_Cinematic_A_Func208002 takes nothing returns nothing
    call QueueUnitAnimationBJ(GetEnumUnit(), "attack")
endfunction

function Trig_Ending_Cinematic_A_Func209002 takes nothing returns nothing
    call QueueUnitAnimationBJ(GetEnumUnit(), "attack")
endfunction

function Trig_Ending_Cinematic_A_Func210002 takes nothing returns nothing
    call QueueUnitAnimationBJ(GetEnumUnit(), "attack")
endfunction

function Trig_Ending_Cinematic_A_Func211002 takes nothing returns nothing
    call QueueUnitAnimationBJ(GetEnumUnit(), "attack")
endfunction

function Trig_Ending_Cinematic_A_Func212002 takes nothing returns nothing
    call QueueUnitAnimationBJ(GetEnumUnit(), "attack")
endfunction

function Trig_Ending_Cinematic_A_Func213002 takes nothing returns nothing
    call QueueUnitAnimationBJ(GetEnumUnit(), "attack")
endfunction

function Trig_Ending_Cinematic_A_Func214002 takes nothing returns nothing
    call QueueUnitAnimationBJ(GetEnumUnit(), "attack")
endfunction

function Trig_Ending_Cinematic_A_Func217001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_A_Func241001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_A_Func271001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_A_Func282001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_A_Func283002 takes nothing returns nothing
    call IssuePointOrderLocBJ(GetEnumUnit(), "move", GetRandomLocInRect(gg_rct_Undead_Mob_Attack_B))
endfunction

function Trig_Ending_Cinematic_A_Func284002 takes nothing returns nothing
    call IssuePointOrderLocBJ(GetEnumUnit(), "move", GetRandomLocInRect(gg_rct_Advance_End))
endfunction

function Trig_Ending_Cinematic_A_Func287001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_A_Func292001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_A_Func298001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_A_Func301001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_A_Func305001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_A_Func308001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_A_Func311001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_A_Func315001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_A_Func322001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_A_Func325002 takes nothing returns nothing
    call IssuePointOrderLocBJ(GetEnumUnit(), "move", GetRandomLocInRect(gg_rct_Region_287))
endfunction

function Trig_Ending_Cinematic_A_Func339001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_A_Func343001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_A_Func373001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_A_Func379001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_A_Func383001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_A_Func385001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_A_Func390001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_A_Func397001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_A_Func401001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_A_Func411001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_A_Func418001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_A_Func422001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_A_Func431001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_A_Func442002 takes nothing returns nothing
    call IssuePointOrderLocBJ(GetEnumUnit(), "move", GetRandomLocInRect(gg_rct_02_Vis_Hearthglen_C))
endfunction

function Trig_Ending_Cinematic_A_Func443002 takes nothing returns nothing
    call IssuePointOrderLocBJ(GetEnumUnit(), "move", GetRandomLocInRect(gg_rct_Region_287))
endfunction

function Trig_Ending_Cinematic_A_Func445001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_A_Func447001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_A_Func455001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_A_Func458001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_A_Func461001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_A_Func463001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_A_Actions takes nothing returns nothing
    call DestroyTimerDialogBJ(GetLastCreatedTimerDialogBJ())
    call UseTimeOfDayBJ(false)
    call SetSkyModel("Environment\\Sky\\LordaeronSummerSky\\LordaeronSummerSky.mdl")
    call ClearSelection()
    call SetUnitInvulnerable(udg_Arthas, true)
    // ----------
    call DisableTrigger(gg_trg_Victory1)
    call DisableTrigger(gg_trg_Victory2)
    call DisableTrigger(gg_trg_Defeat)
    // ----------
    call QuestMessageBJ(bj_FORCE_PLAYER[1], bj_QUESTMESSAGE_COMPLETED, "TRIGSTR_252")
    call TriggerSleepAction(bj_QUEUE_DELAY_QUEST)
    call SetDoodadAnimationRectBJ("stand", 'YOtf', gg_rct_Fire1)
    call SetDoodadAnimationRectBJ("stand", 'YOtf', gg_rct_Fire2New)
    call SetDoodadAnimationRectBJ("stand", 'YOtf', gg_rct_Fire3)
    // Fade out
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT, 2.00, "ReplaceableTextures\\CameraMasks\\White_mask.blp", 0, 0, 0, 0)
    call TriggerSleepAction(2)
    call CinematicModeBJ(true, GetPlayersAll())
    // Cinematic Can Now Be Skipped
    call EnableTrigger(gg_trg_Victory_Cancel)
    // ----------
    call VolumeGroupResetBJ()
    if ( Trig_Ending_Cinematic_A_Func024001() ) then
        call ReviveHeroLoc(udg_Arthas, GetRectCenter(gg_rct_Arthas_Uh_Oh), false)
    else
        call SetUnitPositionLocFacingBJ(udg_Arthas, GetRectCenter(gg_rct_Arthas_Uh_Oh), 0.00)
    endif
    // ----------
    call SetPlayerAllianceStateBJ(Player(1), Player(3), bj_ALLIANCE_ALLIED)
    call SetPlayerAllianceStateBJ(Player(1), Player(5), bj_ALLIANCE_ALLIED)
    call SetPlayerAllianceStateBJ(Player(1), Player(6), bj_ALLIANCE_ALLIED)
    call SetPlayerAllianceStateBJ(Player(3), Player(1), bj_ALLIANCE_ALLIED)
    call SetPlayerAllianceStateBJ(Player(5), Player(1), bj_ALLIANCE_ALLIED)
    call SetPlayerAllianceStateBJ(Player(6), Player(1), bj_ALLIANCE_ALLIED)
    // ----------
    call SetPlayerAllianceStateBJ(Player(3), Player(9), bj_ALLIANCE_ALLIED)
    call SetPlayerAllianceStateBJ(Player(5), Player(9), bj_ALLIANCE_ALLIED)
    call SetPlayerAllianceStateBJ(Player(6), Player(9), bj_ALLIANCE_ALLIED)
    call SetPlayerAllianceStateBJ(Player(9), Player(3), bj_ALLIANCE_ALLIED)
    call SetPlayerAllianceStateBJ(Player(9), Player(5), bj_ALLIANCE_ALLIED)
    call SetPlayerAllianceStateBJ(Player(9), Player(6), bj_ALLIANCE_ALLIED)
    // ----------
    call SetUnitPositionLoc(udg_Jaina, GetRectCenter(gg_rct_06Jaina_Ending_A))
    call ShowUnitShow(udg_Jaina)
    call SetUnitOwner(udg_Jaina, Player(1), true)
    // ----------
    call CreateNUnitsAtLoc(1, 'Huth', Player(9), GetRectCenter(gg_rct_06Uther_Ending_A), 0.00)
    set udg_Uther=GetLastCreatedUnit()
    call SetUnitInvulnerable(udg_Uther, true)
    call SetHeroLevelBJ(udg_Uther, 10, false)
    call SuspendHeroXPBJ(false, udg_Uther)
    call SelectHeroSkill(udg_Uther, 'AHhb')
    call SelectHeroSkill(udg_Uther, 'AHad')
    call SelectHeroSkill(udg_Uther, 'AHhb')
    call SelectHeroSkill(udg_Uther, 'AHad')
    call SelectHeroSkill(udg_Uther, 'AHds')
    call SelectHeroSkill(udg_Uther, 'AHre')
    call SelectHeroSkill(udg_Uther, 'AHad')
    call SelectHeroSkill(udg_Uther, 'AHhb')
    call SelectHeroSkill(udg_Uther, 'AHds')
    call SelectHeroSkill(udg_Uther, 'AHds')
    // ----------
    call CreateNUnitsAtLoc(1, 'ugho', Player(0), GetRandomLocInRect(gg_rct_Undead_Mob_Start), 0.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(6)))
    call CreateNUnitsAtLoc(1, 'ugho', Player(0), GetRandomLocInRect(gg_rct_Undead_Mob_Start), 0.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(3)))
    call CreateNUnitsAtLoc(1, 'ugho', Player(0), GetRandomLocInRect(gg_rct_Undead_Mob_Start), 0.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(3)))
    call CreateNUnitsAtLoc(1, 'ugho', Player(0), GetRandomLocInRect(gg_rct_Undead_Mob_Start), 0.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(6)))
    call CreateNUnitsAtLoc(1, 'uabo', Player(0), GetRandomLocInRect(gg_rct_Undead_Mob_Start), 0.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(3)))
    set udg_AbominationFodderE=GetLastCreatedUnit()
    call CreateNUnitsAtLoc(1, 'ugho', Player(0), GetRandomLocInRect(gg_rct_Undead_Mob_Start), 0.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(6)))
    call CreateNUnitsAtLoc(1, 'ugho', Player(0), GetRandomLocInRect(gg_rct_Undead_Mob_Start), 0.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(6)))
    call CreateNUnitsAtLoc(1, 'ugho', Player(0), GetRandomLocInRect(gg_rct_Undead_Mob_Start), 0.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(3)))
    call CreateNUnitsAtLoc(1, 'ugho', Player(0), GetRandomLocInRect(gg_rct_Undead_Mob_Start), 0.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(6)))
    call CreateNUnitsAtLoc(1, 'ugho', Player(0), GetRandomLocInRect(gg_rct_Undead_Mob_Start), 0.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(6)))
    call CreateNUnitsAtLoc(1, 'ugho', Player(0), GetRandomLocInRect(gg_rct_Undead_Mob_Start), 0.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(6)))
    call CreateNUnitsAtLoc(1, 'uabo', Player(0), GetRandomLocInRect(gg_rct_Undead_Mob_Start), 0.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(6)))
    call CreateNUnitsAtLoc(1, 'uske', Player(0), GetRandomLocInRect(gg_rct_Undead_Mob_Start), 0.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(6)))
    call CreateNUnitsAtLoc(1, 'ugho', Player(0), GetRandomLocInRect(gg_rct_Undead_Mob_Start), 0.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(3)))
    call CreateNUnitsAtLoc(1, 'uske', Player(0), GetRandomLocInRect(gg_rct_Undead_Mob_Start), 0.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(3)))
    call CreateNUnitsAtLoc(1, 'uske', Player(0), GetRandomLocInRect(gg_rct_Undead_Mob_Start), 0.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(6)))
    call CreateNUnitsAtLoc(1, 'uabo', Player(0), GetRandomLocInRect(gg_rct_Undead_Mob_Start), 0.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(6)))
    call CreateNUnitsAtLoc(1, 'uabo', Player(0), GetRandomLocInRect(gg_rct_Undead_Mob_Start), 0.00)
    set udg_AbominationFodderD=GetLastCreatedUnit()
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(6)))
    set udg_AbominationFodderF=GetLastCreatedUnit()
    call CreateNUnitsAtLoc(1, 'umtw', Player(0), GetRectCenter(gg_rct_Meat), 90.00)
    call SetUnitAnimation(GetLastCreatedUnit(), "attack")
    call QueueUnitAnimationBJ(GetLastCreatedUnit(), "attack")
    call QueueUnitAnimationBJ(GetLastCreatedUnit(), "attack")
    call QueueUnitAnimationBJ(GetLastCreatedUnit(), "attack")
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(6)))
    // ----------
    call CreateNUnitsAtLoc(1, 'ugho', Player(0), GetRandomLocInRect(gg_rct_Undead_Mob_Start_B), 0.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(5)))
    call CreateNUnitsAtLoc(1, 'ugho', Player(0), GetRandomLocInRect(gg_rct_Undead_Mob_Start_B), 0.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(5)))
    call CreateNUnitsAtLoc(1, 'uabo', Player(0), GetRandomLocInRect(gg_rct_Undead_Mob_Start_B), 0.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(5)))
    set udg_AbominationFodderC=GetLastCreatedUnit()
    call CreateNUnitsAtLoc(1, 'uabo', Player(0), GetRandomLocInRect(gg_rct_Undead_Mob_Start_B), 0.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(5)))
    call CreateNUnitsAtLoc(1, 'ugho', Player(0), GetRandomLocInRect(gg_rct_Undead_Mob_Start_B), 0.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(6)))
    call CreateNUnitsAtLoc(1, 'uabo', Player(0), GetRandomLocInRect(gg_rct_Undead_Mob_Start_B), 0.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(6)))
    call CreateNUnitsAtLoc(1, 'umtw', Player(0), GetRandomLocInRect(gg_rct_Undead_Mob_Start_B), 0.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(5)))
    call CreateNUnitsAtLoc(1, 'ugho', Player(0), GetRandomLocInRect(gg_rct_Undead_Mob_Start_B), 0.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(6)))
    call CreateNUnitsAtLoc(1, 'ugho', Player(0), GetRandomLocInRect(gg_rct_Undead_Mob_Start_B), 0.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(6)))
    call CreateNUnitsAtLoc(1, 'uabo', Player(0), GetRandomLocInRect(gg_rct_Undead_Mob_Start_B), 0.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(5)))
    call CreateNUnitsAtLoc(1, 'ugho', Player(0), GetRandomLocInRect(gg_rct_Undead_Mob_Start_B), 0.00)
    call SetUnitColor(GetLastCreatedUnit(), PLAYER_COLOR_GREEN)
    // ----------
    call SetUnitPositionLoc(udg_Arthas, GetRectCenter(gg_rct_Arthas_Uh_Oh))
    call CreateNUnitsAtLoc(1, 'ugho', Player(0), GetRectCenter(gg_rct_Ghoul_Face_Footman), 90.00)
    call SetUnitColor(GetLastCreatedUnit(), PLAYER_COLOR_GREEN)
    call CreateNUnitsAtLoc(1, 'ugho', Player(0), GetRectCenter(gg_rct_Ghoul_Face_Footman_B), 92.00)
    call SetUnitColor(GetLastCreatedUnit(), PLAYER_COLOR_PURPLE)
    call CreateNUnitsAtLoc(1, 'ugho', Player(0), GetRectCenter(gg_rct_Ghoul_Face_Footman_C), 89.00)
    call SetUnitColor(GetLastCreatedUnit(), PLAYER_COLOR_PURPLE)
    set udg_GhoulAttackArthas=GetLastCreatedUnit()
    call CreateNUnitsAtLoc(1, 'ugho', Player(0), GetRectCenter(gg_rct_Ghoul_Face_Footman_D), 93.00)
    call SetUnitColor(GetLastCreatedUnit(), PLAYER_COLOR_GREEN)
    call CreateNUnitsAtLoc(1, 'ugho', Player(0), GetRectCenter(gg_rct_Ghoul_Face_Footman_E), 90.00)
    call SetUnitColor(GetLastCreatedUnit(), PLAYER_COLOR_GREEN)
    call CreateNUnitsAtLoc(1, 'uabo', Player(0), GetRectCenter(gg_rct_Abomination_Face_Footman), 94.00)
    set udg_AbominationFodder=GetLastCreatedUnit()
    call SetUnitColor(GetLastCreatedUnit(), PLAYER_COLOR_GREEN)
    call CreateNUnitsAtLoc(1, 'uabo', Player(0), GetRectCenter(gg_rct_Abomination_Face_Footman_B), 94.00)
    set udg_AbominationFodderB=GetLastCreatedUnit()
    call SetUnitTimeScalePercent(udg_AbominationFodderB, 85.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(3)))
    call CreateNUnitsAtLoc(1, 'hfoo', Player(1), GetRectCenter(gg_rct_Footman_Face_Ghoul), 300.00)
    set udg_Foot1=GetLastCreatedUnit()
    call CreateNUnitsAtLoc(1, 'hfoo', Player(1), GetRectCenter(gg_rct_Footman_Face_Ghoul_B), 310.00)
    set udg_Foot2=GetLastCreatedUnit()
    call CreateNUnitsAtLoc(1, 'hfoo', Player(1), GetRectCenter(gg_rct_Footman_Face_Ghoul_C), 305.00)
    set udg_Foot3=GetLastCreatedUnit()
    call CreateNUnitsAtLoc(1, 'hfoo', Player(1), GetRectCenter(gg_rct_Footman_Face_Ghoul_D), 300.00)
    set udg_Foot4=GetLastCreatedUnit()
    call CreateNUnitsAtLoc(1, 'hfoo', Player(1), GetRectCenter(gg_rct_Footman_Face_Ghoul_E), 302.00)
    set udg_Foot5=GetLastCreatedUnit()
    call CreateNUnitsAtLoc(1, 'hfoo', Player(1), GetRectCenter(gg_rct_Footman_Face_Abomination), 306.00)
    set udg_Foot6=GetLastCreatedUnit()
    call CreateNUnitsAtLoc(1, 'hfoo', Player(1), GetRectCenter(gg_rct_Footman_Face_Abomination_B), 240.00)
    set udg_Foot7=GetLastCreatedUnit()
    call SetUnitTimeScalePercent(udg_Foot7, 80.00)
    call CreateNUnitsAtLoc(1, 'hrif', Player(1), GetRectCenter(gg_rct_Rifleman_Fire), 305.00)
    set udg_Rifle1=GetLastCreatedUnit()
    call CreateNUnitsAtLoc(1, 'hrif', Player(1), GetRectCenter(gg_rct_Rifleman_Fire_B), 290.00)
    set udg_Rifle2=GetLastCreatedUnit()
    call CreateNUnitsAtLoc(1, 'hrif', Player(1), GetRectCenter(gg_rct_Rifleman_Fire_C), 280.00)
    set udg_Rifle3=GetLastCreatedUnit()
    // ----------
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_All_Attack), function Trig_Ending_Cinematic_A_Func171002)
    call SetTerrainFogExBJ(0, 900.00, 4500.00, 0, 0.00, 40.00, 60.00)
    call CameraSetupApplyForPlayer(true, gg_cam_Mob_Attack_A_Alternate, Player(1), 0.00)
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEIN, 2.00, "ReplaceableTextures\\CameraMasks\\Black_mask.blp", 0, 0, 0, 0)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_Undead_Mob_Start), function Trig_Ending_Cinematic_A_Func175002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_All_Attack), function Trig_Ending_Cinematic_A_Func176002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_All_Attack), function Trig_Ending_Cinematic_A_Func177002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_All_Attack), function Trig_Ending_Cinematic_A_Func178002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_All_Attack), function Trig_Ending_Cinematic_A_Func179002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_All_Attack), function Trig_Ending_Cinematic_A_Func180002)
    call TriggerSleepAction(0.50)
    if ( Trig_Ending_Cinematic_A_Func182001() ) then
        return
    else
        call DoNothing()
    endif
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_All_Attack_Other), function Trig_Ending_Cinematic_A_Func183002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_All_Attack), function Trig_Ending_Cinematic_A_Func184002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_All_Attack_Other), function Trig_Ending_Cinematic_A_Func185002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_All_Attack), function Trig_Ending_Cinematic_A_Func186002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_All_Attack_Other), function Trig_Ending_Cinematic_A_Func187002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_All_Attack_Other), function Trig_Ending_Cinematic_A_Func188002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_All_Attack_Other), function Trig_Ending_Cinematic_A_Func189002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_All_Attack), function Trig_Ending_Cinematic_A_Func190002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_All_Attack), function Trig_Ending_Cinematic_A_Func191002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_All_Attack), function Trig_Ending_Cinematic_A_Func192002)
    call ConditionalTriggerExecute(gg_trg_FootmanFightSounds)
    call TriggerSleepAction(4.00)
    if ( Trig_Ending_Cinematic_A_Func195001() ) then
        return
    else
        call DoNothing()
    endif
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_All_Attack_Other), function Trig_Ending_Cinematic_A_Func196002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_All_Attack), function Trig_Ending_Cinematic_A_Func197002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_All_Attack), function Trig_Ending_Cinematic_A_Func198002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_All_Attack), function Trig_Ending_Cinematic_A_Func199002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_All_Attack_Other), function Trig_Ending_Cinematic_A_Func200002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_All_Attack_Other), function Trig_Ending_Cinematic_A_Func201002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_All_Attack_Other), function Trig_Ending_Cinematic_A_Func202002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_All_Attack), function Trig_Ending_Cinematic_A_Func203002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_All_Attack_Other), function Trig_Ending_Cinematic_A_Func204002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_All_Attack), function Trig_Ending_Cinematic_A_Func205002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_All_Attack_Other), function Trig_Ending_Cinematic_A_Func206002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_All_Attack), function Trig_Ending_Cinematic_A_Func207002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_All_Attack), function Trig_Ending_Cinematic_A_Func208002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_All_Attack_Other), function Trig_Ending_Cinematic_A_Func209002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_All_Attack_Other), function Trig_Ending_Cinematic_A_Func210002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_All_Attack_Other), function Trig_Ending_Cinematic_A_Func211002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_All_Attack_Other), function Trig_Ending_Cinematic_A_Func212002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_All_Attack_Other), function Trig_Ending_Cinematic_A_Func213002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_All_Attack_Other), function Trig_Ending_Cinematic_A_Func214002)
    call SetUnitAnimation(udg_Foot4, "attack")
    call TriggerSleepAction(0.30)
    if ( Trig_Ending_Cinematic_A_Func217001() ) then
        return
    else
        call DoNothing()
    endif
    call SetUnitAnimation(udg_Foot2, "attack")
    call QueueUnitAnimationBJ(udg_Foot4, "attack")
    call QueueUnitAnimationBJ(udg_Foot2, "attack")
    call QueueUnitAnimationBJ(udg_Foot4, "attack")
    call QueueUnitAnimationBJ(udg_Foot2, "attack")
    call QueueUnitAnimationBJ(udg_Foot4, "attack")
    call QueueUnitAnimationBJ(udg_Foot2, "attack")
    call QueueUnitAnimationBJ(udg_Foot4, "attack")
    call QueueUnitAnimationBJ(udg_Foot2, "attack")
    call QueueUnitAnimationBJ(udg_Foot4, "attack")
    call QueueUnitAnimationBJ(udg_Foot2, "attack")
    call QueueUnitAnimationBJ(udg_Foot4, "attack")
    call QueueUnitAnimationBJ(udg_Foot2, "attack")
    call QueueUnitAnimationBJ(udg_Foot4, "attack")
    call QueueUnitAnimationBJ(udg_Foot2, "attack")
    call QueueUnitAnimationBJ(udg_Foot4, "attack")
    call QueueUnitAnimationBJ(udg_Foot2, "attack")
    call QueueUnitAnimationBJ(udg_Foot4, "attack")
    call QueueUnitAnimationBJ(udg_Foot2, "attack")
    call QueueUnitAnimationBJ(udg_Foot4, "attack")
    call QueueUnitAnimationBJ(udg_Foot2, "attack")
    call CameraSetupApplyForPlayer(true, gg_cam_Undead_Mob_Attack_B, Player(1), 7.00)
    call TriggerSleepAction(1.00)
    if ( Trig_Ending_Cinematic_A_Func241001() ) then
        return
    else
        call DoNothing()
    endif
    call QueueUnitAnimationBJ(udg_Rifle1, "attack")
    call QueueUnitAnimationBJ(udg_Rifle1, "attack")
    call QueueUnitAnimationBJ(udg_Rifle1, "attack")
    call QueueUnitAnimationBJ(udg_Rifle1, "attack")
    call QueueUnitAnimationBJ(udg_Rifle1, "attack")
    call QueueUnitAnimationBJ(udg_Rifle1, "attack")
    call QueueUnitAnimationBJ(udg_Rifle1, "attack")
    call QueueUnitAnimationBJ(udg_Rifle1, "attack")
    // ----------
    call QueueUnitAnimationBJ(udg_Rifle2, "attack")
    call QueueUnitAnimationBJ(udg_Rifle2, "attack")
    call QueueUnitAnimationBJ(udg_Rifle2, "attack")
    call QueueUnitAnimationBJ(udg_Rifle2, "attack")
    call QueueUnitAnimationBJ(udg_Rifle2, "attack")
    call QueueUnitAnimationBJ(udg_Rifle2, "attack")
    call QueueUnitAnimationBJ(udg_Rifle2, "attack")
    call QueueUnitAnimationBJ(udg_Rifle2, "attack")
    // ----------
    call QueueUnitAnimationBJ(udg_Rifle3, "attack")
    call QueueUnitAnimationBJ(udg_Rifle3, "attack")
    call QueueUnitAnimationBJ(udg_Rifle3, "attack")
    call QueueUnitAnimationBJ(udg_Rifle3, "attack")
    call QueueUnitAnimationBJ(udg_Rifle3, "attack")
    call QueueUnitAnimationBJ(udg_Rifle3, "attack")
    call QueueUnitAnimationBJ(udg_Rifle3, "attack")
    call QueueUnitAnimationBJ(udg_Rifle3, "attack")
    call QueueUnitAnimationBJ(udg_Rifle3, "attack")
    // ----------
    call TriggerSleepAction(3.00)
    if ( Trig_Ending_Cinematic_A_Func271001() ) then
        return
    else
        call DoNothing()
    endif
    // ----------
    call QueueUnitAnimationBJ(udg_Rifle1, "attack")
    call QueueUnitAnimationBJ(udg_Rifle1, "attack")
    call QueueUnitAnimationBJ(udg_Rifle2, "attack")
    call QueueUnitAnimationBJ(udg_Rifle2, "attack")
    call QueueUnitAnimationBJ(udg_Rifle3, "attack")
    call QueueUnitAnimationBJ(udg_Rifle3, "attack")
    call SetUnitFacingToFaceUnitTimed(udg_Arthas, udg_AbominationFodder, 0)
    // ----------
    call TriggerSleepAction(1.50)
    if ( Trig_Ending_Cinematic_A_Func282001() ) then
        return
    else
        call DoNothing()
    endif
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_Undead_Mob_Start_B), function Trig_Ending_Cinematic_A_Func283002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_Advance), function Trig_Ending_Cinematic_A_Func284002)
    call KillUnit(udg_Foot3)
    call TriggerSleepAction(0.50)
    if ( Trig_Ending_Cinematic_A_Func287001() ) then
        return
    else
        call DoNothing()
    endif
    call SetUnitAnimation(udg_Arthas, "spell")
    call QueueUnitAnimationBJ(udg_Arthas, "spell")
    call SetUnitLookAt(udg_Arthas, "bone_head", udg_AbominationFodderC, 0, 0, 90)
    call TriggerSleepAction(0.20)
    if ( Trig_Ending_Cinematic_A_Func292001() ) then
        return
    else
        call DoNothing()
    endif
    call ResetUnitLookAt(udg_Arthas)
    call SetUnitLookAt(udg_Arthas, "bone_head", udg_AbominationFodder, 0, 0, 90)
    call KillUnit(udg_Foot6)
    call AddSpecialEffectTargetUnitBJ("origin", udg_Foot5, "Abilities\\Spells\\Human\\Heal\\Heal.mdl")
    call TriggerSleepAction(1.00)
    if ( Trig_Ending_Cinematic_A_Func298001() ) then
        return
    else
        call DoNothing()
    endif
    call KillUnit(udg_Foot1)
    call TriggerSleepAction(0.50)
    if ( Trig_Ending_Cinematic_A_Func301001() ) then
        return
    else
        call DoNothing()
    endif
    call KillUnit(udg_Foot5)
    call KillUnit(udg_Foot7)
    call TriggerSleepAction(0.40)
    if ( Trig_Ending_Cinematic_A_Func305001() ) then
        return
    else
        call DoNothing()
    endif
    call KillUnit(udg_Foot2)
    call TriggerSleepAction(0.50)
    if ( Trig_Ending_Cinematic_A_Func308001() ) then
        return
    else
        call DoNothing()
    endif
    call CameraSetupApplyForPlayer(true, gg_cam_Oh_Crap, Player(1), 0.00)
    call TriggerSleepAction(0.50)
    if ( Trig_Ending_Cinematic_A_Func311001() ) then
        return
    else
        call DoNothing()
    endif
    call IssuePointOrderLocBJ(udg_Uther, "move", GetRectCenter(gg_rct_Uther_Attack_Abomination))
    call CreateNUnitsAtLoc(1, 'hkni', Player(9), GetRectCenter(gg_rct_07Reinforcement_3_A), 180.00)
    call TriggerSleepAction(1.00)
    if ( Trig_Ending_Cinematic_A_Func315001() ) then
        return
    else
        call DoNothing()
    endif
    call IssuePointOrderLocBJ(GetLastCreatedUnit(), "move", GetRectCenter(gg_rct_Abomination_Take_It))
    call CreateNUnitsAtLoc(1, 'hkni', Player(9), GetRectCenter(gg_rct_07Reinforcement_3_A), 180.00)
    call IssuePointOrderLocBJ(GetLastCreatedUnit(), "move", GetRectCenter(gg_rct_Abomination_Take_It))
    call IssuePointOrderLocBJ(udg_GhoulAttackArthas, "move", GetRectCenter(gg_rct_GhoulMakesBadChoice))
    call CameraSetupApplyForPlayer(true, gg_cam_Arthas_Defiant_A, Player(1), 0.00)
    call TriggerSleepAction(0.20)
    if ( Trig_Ending_Cinematic_A_Func322001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSpeechVolumeGroupsBJ()
    call CameraSetupApplyForPlayer(true, gg_cam_Arthas_Defiant_B, Player(1), 2.00)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_02_Roaming_Villager_F), function Trig_Ending_Cinematic_A_Func325002)
    call AttachSoundToUnitBJ(gg_snd_ArthasPissed4, udg_Arthas)
    call QueueUnitAnimationBJ(udg_Rifle1, "attack")
    call QueueUnitAnimationBJ(udg_Rifle1, "attack")
    call QueueUnitAnimationBJ(udg_Rifle1, "attack")
    call QueueUnitAnimationBJ(udg_Rifle2, "attack")
    call QueueUnitAnimationBJ(udg_Rifle2, "attack")
    call QueueUnitAnimationBJ(udg_Rifle2, "attack")
    call QueueUnitAnimationBJ(udg_Rifle3, "attack")
    call QueueUnitAnimationBJ(udg_Rifle3, "attack")
    call QueueUnitAnimationBJ(udg_Rifle3, "attack")
    call SetUnitAnimation(udg_GhoulAttackArthas, "attack")
    call SetSpeechVolumeGroupsBJ()
    call TransmissionFromUnitWithNameBJ(GetPlayersAll(), udg_Arthas, "TRIGSTR_293", gg_snd_ArthasPissed4, "TRIGSTR_294", bj_TIMETYPE_ADD, 0.00, true)
    if ( Trig_Ending_Cinematic_A_Func339001() ) then
        return
    else
        call DoNothing()
    endif
    call VolumeGroupResetBJ()
    call SetUnitAnimation(udg_Arthas, "attack")
    call TriggerSleepAction(0.30)
    if ( Trig_Ending_Cinematic_A_Func343001() ) then
        return
    else
        call DoNothing()
    endif
    call AttachSoundToUnitBJ(gg_snd_MetalHeavyBashFlesh1, udg_Arthas)
    call PlaySoundBJ(gg_snd_MetalHeavyBashFlesh1)
    call KillUnit(udg_GhoulAttackArthas)
    // ----------
    call CreateNUnitsAtLoc(1, 'hkni', Player(9), GetRectCenter(gg_rct_07Reinforcement_3_A), 180.00)
    call GroupAddUnitSimple(GetLastCreatedUnit(), udg_UtherKnights1)
    call CreateNUnitsAtLoc(1, 'hkni', Player(9), GetRectCenter(gg_rct_07Reinforcement_3_A), 180.00)
    call GroupAddUnitSimple(GetLastCreatedUnit(), udg_UtherKnights1)
    call CreateNUnitsAtLoc(1, 'hkni', Player(9), GetRectCenter(gg_rct_07Reinforcement_3_B), 180.00)
    call GroupAddUnitSimple(GetLastCreatedUnit(), udg_UtherKnights1)
    call CreateNUnitsAtLoc(1, 'hkni', Player(9), GetRectCenter(gg_rct_07Reinforcement_3_B), 180.00)
    call GroupAddUnitSimple(GetLastCreatedUnit(), udg_UtherKnights1)
    call CreateNUnitsAtLoc(1, 'hkni', Player(9), GetRectCenter(gg_rct_07Reinforcement_3_B), 180.00)
    call GroupAddUnitSimple(GetLastCreatedUnit(), udg_UtherKnights1)
    call CreateNUnitsAtLoc(1, 'hkni', Player(9), GetRectCenter(gg_rct_07Reinforcement_3_B), 180.00)
    call GroupAddUnitSimple(GetLastCreatedUnit(), udg_UtherKnights1)
    call CreateNUnitsAtLoc(1, 'hsor', Player(9), GetRectCenter(gg_rct_07Reinforcement_3_C), 180.00)
    call GroupAddUnitSimple(GetLastCreatedUnit(), udg_UtherKnights1)
    call CreateNUnitsAtLoc(1, 'hsor', Player(9), GetRectCenter(gg_rct_07Reinforcement_3_C), 180.00)
    call GroupAddUnitSimple(GetLastCreatedUnit(), udg_UtherKnights1)
    call CreateNUnitsAtLoc(1, 'hmpr', Player(9), GetRectCenter(gg_rct_07Reinforcement_3_C), 180.00)
    call GroupAddUnitSimple(GetLastCreatedUnit(), udg_UtherKnights1)
    call CreateNUnitsAtLoc(1, 'hmpr', Player(9), GetRectCenter(gg_rct_07Reinforcement_3_C), 180.00)
    call GroupAddUnitSimple(GetLastCreatedUnit(), udg_UtherKnights1)
    // ----------
    call GroupPointOrderLocBJ(udg_UtherKnights1, "move", GetRandomLocInRect(gg_rct_Undead_Mob_Attack))
    call PlaySoundBJ(gg_snd_HorseLoop3)
    call PlaySoundBJ(gg_snd_HorseLoop2)
    call TriggerSleepAction(1.20)
    if ( Trig_Ending_Cinematic_A_Func373001() ) then
        return
    else
        call DoNothing()
    endif
    call PlaySoundBJ(gg_snd_HorseLoop3)
    call PlaySoundBJ(gg_snd_HorseLoop2)
    call CameraSetupApplyForPlayer(true, gg_cam_Uther_Arrives_A, Player(1), 0.00)
    call CameraSetupApplyForPlayer(true, gg_cam_Uther_Arrives_B, Player(1), 2.00)
    call TriggerSleepAction(0.60)
    if ( Trig_Ending_Cinematic_A_Func379001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundVolumeBJ(gg_snd_UtherReturns, 80.00)
    call PlaySoundBJ(gg_snd_UtherReturns)
    call TransmissionFromUnitWithNameBJ(GetPlayersAll(), udg_Uther, "TRIGSTR_063", gg_snd_H05Uther27, "TRIGSTR_064", bj_TIMETYPE_ADD, 0.00, true)
    if ( Trig_Ending_Cinematic_A_Func383001() ) then
        return
    else
        call DoNothing()
    endif
    call TriggerSleepAction(0.65)
    if ( Trig_Ending_Cinematic_A_Func385001() ) then
        return
    else
        call DoNothing()
    endif
    // ----------
    call SetPlayerAllianceStateBJ(Player(0), Player(9), bj_ALLIANCE_UNALLIED)
    call SetPlayerAllianceStateBJ(Player(9), Player(0), bj_ALLIANCE_UNALLIED)
    call TriggerSleepAction(0.50)
    if ( Trig_Ending_Cinematic_A_Func390001() ) then
        return
    else
        call DoNothing()
    endif
    // ----------
    call IssuePointOrderLocBJ(udg_AbominationFodderB, "move", GetRectCenter(gg_rct_Abomination_Take_It))
    call SetUnitFacingToFaceUnitTimed(udg_AbominationFodderB, udg_Uther, 0.20)
    call SetUnitFacingToFaceUnitTimed(udg_AbominationFodderD, udg_Uther, 0.20)
    call SetUnitAnimation(udg_Uther, "attack")
    call TriggerSleepAction(0.50)
    if ( Trig_Ending_Cinematic_A_Func397001() ) then
        return
    else
        call DoNothing()
    endif
    call KillUnit(udg_AbominationFodderB)
    call SetUnitFacingToFaceUnitTimed(udg_AbominationFodderE, udg_Uther, 0.20)
    call TriggerSleepAction(0.50)
    if ( Trig_Ending_Cinematic_A_Func401001() ) then
        return
    else
        call DoNothing()
    endif
    call IssuePointOrderLocBJ(udg_Jaina, "move", GetRectCenter(gg_rct_06Jaina_Ending_B))
    call SetUnitFacingToFaceUnitTimed(udg_AbominationFodder, udg_Uther, 0.20)
    call SetUnitFacingToFaceUnitTimed(udg_Uther, udg_AbominationFodder, 0.20)
    call SetUnitAnimation(udg_Uther, "attack")
    call KillUnit(udg_AbominationFodder)
    call IssuePointOrderLocBJ(udg_AbominationFodderC, "move", GetRectCenter(gg_rct_Abomination_Face_Footman))
    call IssuePointOrderLocBJ(udg_AbominationFodderD, "move", GetRectCenter(gg_rct_Abomination_Face_Footman))
    // ----------
    call TriggerSleepAction(1.00)
    if ( Trig_Ending_Cinematic_A_Func411001() ) then
        return
    else
        call DoNothing()
    endif
    call KillUnit(udg_AbominationFodderE)
    call SetUnitFacingToFaceUnitTimed(udg_AbominationFodderC, udg_Uther, 0.20)
    call SetUnitFacingToFaceUnitTimed(udg_Uther, udg_AbominationFodderC, 0.20)
    // ----------
    call IssuePointOrderLocBJ(udg_Jaina, "move", GetRectCenter(gg_rct_07Uther_Knights_Attack_02))
    call TriggerSleepAction(1.00)
    if ( Trig_Ending_Cinematic_A_Func418001() ) then
        return
    else
        call DoNothing()
    endif
    call SetUnitAnimation(udg_Uther, "spell")
    call KillUnit(udg_AbominationFodderC)
    call TriggerSleepAction(0.40)
    if ( Trig_Ending_Cinematic_A_Func422001() ) then
        return
    else
        call DoNothing()
    endif
    call KillUnit(udg_AbominationFodderD)
    // ----------
    call CameraSetupApplyForPlayer(true, gg_cam_Arthas_Defiant_B, Player(1), 0.00)
    call SetUnitAnimation(udg_Arthas, "spell")
    call GroupPointOrderLocBJ(udg_UtherKnights1, "move", GetRandomLocInRect(gg_rct_Knights_Charge_Again))
    call SetSpeechVolumeGroupsBJ()
    call TransmissionFromUnitWithNameBJ(GetPlayersAll(), udg_Arthas, "TRIGSTR_098", gg_snd_H05Arthas28, "TRIGSTR_099", bj_TIMETYPE_ADD, 0.00, false)
    call TriggerSleepAction(2.00)
    if ( Trig_Ending_Cinematic_A_Func431001() ) then
        return
    else
        call DoNothing()
    endif
    call CameraSetupApplyForPlayer(true, gg_cam_Your_Timing, Player(1), 0.00)
    call KillUnit(udg_AbominationFodderF)
    call ResetUnitLookAt(udg_Arthas)
    call QueueUnitAnimationBJ(udg_Uther, "attack")
    call QueueUnitAnimationBJ(udg_Uther, "attack")
    call QueueUnitAnimationBJ(udg_Uther, "attack")
    call QueueUnitAnimationBJ(udg_Uther, "attack")
    call QueueUnitAnimationBJ(udg_Uther, "attack")
    call CameraSetupApplyForPlayer(true, gg_cam_Dont_Celebrate_Yet, Player(1), 0.00)
    call CameraSetupApplyForPlayer(true, gg_cam_Dont_Celebrate_Yet_B, Player(1), 4.00)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_Clear_OUt), function Trig_Ending_Cinematic_A_Func442002)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_02_Roaming_Villager_F), function Trig_Ending_Cinematic_A_Func443002)
    call TriggerSleepAction(0.50)
    if ( Trig_Ending_Cinematic_A_Func445001() ) then
        return
    else
        call DoNothing()
    endif
    call WaitForSoundBJ(gg_snd_H05Arthas28, 0)
    if ( Trig_Ending_Cinematic_A_Func447001() ) then
        return
    else
        call DoNothing()
    endif
    call TransmissionFromUnitWithNameBJ(GetPlayersAll(), udg_Uther, "TRIGSTR_100", gg_snd_H05Uther29, "TRIGSTR_102", bj_TIMETYPE_ADD, 0.00, false)
    call QueueUnitAnimationBJ(udg_Uther, "attack")
    call QueueUnitAnimationBJ(udg_Uther, "attack")
    call QueueUnitAnimationBJ(udg_Uther, "attack")
    call QueueUnitAnimationBJ(udg_Uther, "attack")
    // ----------
    call TriggerSleepAction(1.00)
    if ( Trig_Ending_Cinematic_A_Func455001() ) then
        return
    else
        call DoNothing()
    endif
    // ----------
    call TriggerSleepAction(2.00)
    if ( Trig_Ending_Cinematic_A_Func458001() ) then
        return
    else
        call DoNothing()
    endif
    call VolumeGroupResetBJ()
    call TriggerSleepAction(2.50)
    if ( Trig_Ending_Cinematic_A_Func461001() ) then
        return
    else
        call DoNothing()
    endif
    call WaitForSoundBJ(gg_snd_H05Uther29, 0)
    if ( Trig_Ending_Cinematic_A_Func463001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSpeechVolumeGroupsBJ()
    // ----------
    call ConditionalTriggerExecute(gg_trg_Ending_Cinematic_C)
endfunction

//===========================================================================
function InitTrig_Ending_Cinematic_A takes nothing returns nothing
    set gg_trg_Ending_Cinematic_A=CreateTrigger()
    call TriggerAddAction(gg_trg_Ending_Cinematic_A, function Trig_Ending_Cinematic_A_Actions)
endfunction

//===========================================================================
// Trigger: FootmanFightSounds
//===========================================================================
function Trig_FootmanFightSounds_Func005001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func010001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func015001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func020001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func025001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func030001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func035001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func040001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func045001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func050001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func055001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func060001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func065001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func070001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func075001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func080001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func085001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func090001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func094001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func098001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func102001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func106001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func110001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func114001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func118001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func122001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func126001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func130001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func134001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func138001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func142001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func146001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func150001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func154001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func158001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func162001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func166001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func170001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Func174001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_FootmanFightSounds_Actions takes nothing returns nothing
    call SetSoundPositionLocBJ(gg_snd_MetalMediumBashFlesh1, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call SetSoundVolumeBJ(gg_snd_MetalMediumBashFlesh1, 70.00)
    call PlaySoundBJ(gg_snd_MetalMediumBashFlesh1)
    call TriggerSleepAction(0.20)
    if ( Trig_FootmanFightSounds_Func005001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_WoodMediumBashMetal2, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call SetSoundVolumeBJ(gg_snd_WoodMediumBashMetal2, 70.00)
    call PlaySoundBJ(gg_snd_WoodMediumBashMetal2)
    call TriggerSleepAction(0.30)
    if ( Trig_FootmanFightSounds_Func010001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_WoodMediumBashMetal3, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call SetSoundVolumeBJ(gg_snd_WoodMediumBashMetal3, 70.00)
    call PlaySoundBJ(gg_snd_WoodMediumBashMetal3)
    call TriggerSleepAction(0.10)
    if ( Trig_FootmanFightSounds_Func015001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_MetalMediumChopFlesh1, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call SetSoundVolumeBJ(gg_snd_MetalMediumChopFlesh1, 70.00)
    call PlaySoundBJ(gg_snd_MetalMediumChopFlesh1)
    call TriggerSleepAction(0.30)
    if ( Trig_FootmanFightSounds_Func020001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_MetalMediumBashFlesh1, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call SetSoundVolumeBJ(gg_snd_MetalMediumBashFlesh1, 70.00)
    call PlaySoundBJ(gg_snd_MetalMediumBashFlesh1)
    call TriggerSleepAction(0.20)
    if ( Trig_FootmanFightSounds_Func025001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_MetalMediumSliceFlesh1, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call SetSoundVolumeBJ(gg_snd_MetalMediumSliceFlesh1, 70.00)
    call PlaySoundBJ(gg_snd_MetalMediumSliceFlesh1)
    call TriggerSleepAction(0.20)
    if ( Trig_FootmanFightSounds_Func030001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_MetalMediumBashFlesh3, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call SetSoundVolumeBJ(gg_snd_MetalMediumBashFlesh3, 70.00)
    call PlaySoundBJ(gg_snd_MetalMediumBashFlesh3)
    call TriggerSleepAction(0.30)
    if ( Trig_FootmanFightSounds_Func035001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_WoodMediumBashMetal2, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call SetSoundVolumeBJ(gg_snd_WoodMediumBashMetal2, 70.00)
    call PlaySoundBJ(gg_snd_WoodMediumBashMetal2)
    call TriggerSleepAction(0.20)
    if ( Trig_FootmanFightSounds_Func040001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_MetalMediumBashFlesh1, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call SetSoundVolumeBJ(gg_snd_MetalMediumBashFlesh1, 70.00)
    call PlaySoundBJ(gg_snd_MetalMediumBashFlesh1)
    call TriggerSleepAction(0.30)
    if ( Trig_FootmanFightSounds_Func045001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_MetalMediumChopFlesh1, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call SetSoundVolumeBJ(gg_snd_MetalMediumChopFlesh1, 70.00)
    call PlaySoundBJ(gg_snd_MetalMediumChopFlesh1)
    call TriggerSleepAction(0.20)
    if ( Trig_FootmanFightSounds_Func050001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_WoodMediumBashMetal3, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call SetSoundVolumeBJ(gg_snd_WoodMediumBashMetal3, 70.00)
    call PlaySoundBJ(gg_snd_WoodMediumBashMetal3)
    call TriggerSleepAction(0.30)
    if ( Trig_FootmanFightSounds_Func055001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_MetalMediumChopFlesh2, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call SetSoundVolumeBJ(gg_snd_MetalMediumChopFlesh2, 70.00)
    call PlaySoundBJ(gg_snd_MetalMediumChopFlesh2)
    call TriggerSleepAction(0.50)
    if ( Trig_FootmanFightSounds_Func060001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_MetalMediumSliceFlesh3, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call SetSoundVolumeBJ(gg_snd_MetalMediumSliceFlesh3, 70.00)
    call PlaySoundBJ(gg_snd_MetalMediumSliceFlesh3)
    call TriggerSleepAction(0.20)
    if ( Trig_FootmanFightSounds_Func065001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_MetalMediumChopFlesh3, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call SetSoundVolumeBJ(gg_snd_MetalMediumChopFlesh3, 70.00)
    call PlaySoundBJ(gg_snd_MetalMediumChopFlesh3)
    call TriggerSleepAction(0.50)
    if ( Trig_FootmanFightSounds_Func070001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_WoodMediumBashMetal3, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call SetSoundVolumeBJ(gg_snd_WoodMediumBashMetal3, 70.00)
    call PlaySoundBJ(gg_snd_WoodMediumBashMetal3)
    call TriggerSleepAction(0.30)
    if ( Trig_FootmanFightSounds_Func075001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_MetalMediumBashFlesh2, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call SetSoundVolumeBJ(gg_snd_MetalMediumBashFlesh2, 70.00)
    call PlaySoundBJ(gg_snd_MetalMediumBashFlesh2)
    call TriggerSleepAction(0.50)
    if ( Trig_FootmanFightSounds_Func080001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_MetalMediumSliceFlesh2, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call SetSoundVolumeBJ(gg_snd_MetalMediumSliceFlesh2, 70.00)
    call PlaySoundBJ(gg_snd_MetalMediumSliceFlesh2)
    call TriggerSleepAction(0.30)
    if ( Trig_FootmanFightSounds_Func085001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_WoodMediumBashMetal1, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call SetSoundVolumeBJ(gg_snd_WoodMediumBashMetal1, 70.00)
    call PlaySoundBJ(gg_snd_WoodMediumBashMetal1)
    call TriggerSleepAction(0.50)
    if ( Trig_FootmanFightSounds_Func090001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_MetalMediumBashFlesh1, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call PlaySoundBJ(gg_snd_MetalMediumBashFlesh1)
    call TriggerSleepAction(0.20)
    if ( Trig_FootmanFightSounds_Func094001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_WoodMediumBashMetal3, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call PlaySoundBJ(gg_snd_WoodMediumBashMetal3)
    call TriggerSleepAction(0.50)
    if ( Trig_FootmanFightSounds_Func098001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_MetalMediumSliceFlesh1, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call PlaySoundBJ(gg_snd_MetalMediumSliceFlesh1)
    call TriggerSleepAction(0.10)
    if ( Trig_FootmanFightSounds_Func102001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_MetalMediumBashFlesh3, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call PlaySoundBJ(gg_snd_MetalMediumBashFlesh3)
    call TriggerSleepAction(0.30)
    if ( Trig_FootmanFightSounds_Func106001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_WoodMediumBashMetal2, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call PlaySoundBJ(gg_snd_WoodMediumBashMetal2)
    call TriggerSleepAction(0.50)
    if ( Trig_FootmanFightSounds_Func110001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_MetalMediumChopFlesh1, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call PlaySoundBJ(gg_snd_MetalMediumChopFlesh1)
    call TriggerSleepAction(0.20)
    if ( Trig_FootmanFightSounds_Func114001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_WoodMediumBashMetal3, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call PlaySoundBJ(gg_snd_WoodMediumBashMetal3)
    call TriggerSleepAction(0.50)
    if ( Trig_FootmanFightSounds_Func118001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_MetalMediumChopFlesh2, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call PlaySoundBJ(gg_snd_MetalMediumChopFlesh2)
    call TriggerSleepAction(0.30)
    if ( Trig_FootmanFightSounds_Func122001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_MetalMediumSliceFlesh3, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call PlaySoundBJ(gg_snd_MetalMediumSliceFlesh3)
    call TriggerSleepAction(0.20)
    if ( Trig_FootmanFightSounds_Func126001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_MetalMediumChopFlesh3, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call PlaySoundBJ(gg_snd_MetalMediumChopFlesh3)
    call TriggerSleepAction(0.50)
    if ( Trig_FootmanFightSounds_Func130001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_WoodMediumBashMetal3, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call PlaySoundBJ(gg_snd_WoodMediumBashMetal3)
    call TriggerSleepAction(0.10)
    if ( Trig_FootmanFightSounds_Func134001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_MetalMediumBashFlesh2, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call PlaySoundBJ(gg_snd_MetalMediumBashFlesh2)
    call TriggerSleepAction(0.30)
    if ( Trig_FootmanFightSounds_Func138001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_MetalMediumSliceFlesh2, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call PlaySoundBJ(gg_snd_MetalMediumSliceFlesh2)
    call TriggerSleepAction(0.50)
    if ( Trig_FootmanFightSounds_Func142001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_WoodMediumBashMetal1, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call PlaySoundBJ(gg_snd_WoodMediumBashMetal1)
    call TriggerSleepAction(0.20)
    if ( Trig_FootmanFightSounds_Func146001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_MetalMediumChopFlesh2, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call PlaySoundBJ(gg_snd_MetalMediumChopFlesh2)
    call TriggerSleepAction(0.30)
    if ( Trig_FootmanFightSounds_Func150001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_MetalMediumSliceFlesh3, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call PlaySoundBJ(gg_snd_MetalMediumSliceFlesh3)
    call TriggerSleepAction(3.00)
    if ( Trig_FootmanFightSounds_Func154001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_MetalMediumChopFlesh3, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call PlaySoundBJ(gg_snd_MetalMediumChopFlesh3)
    call TriggerSleepAction(0.30)
    if ( Trig_FootmanFightSounds_Func158001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_MetalMediumChopFlesh2, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call PlaySoundBJ(gg_snd_MetalMediumChopFlesh2)
    call TriggerSleepAction(0.20)
    if ( Trig_FootmanFightSounds_Func162001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_MetalMediumChopFlesh2, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call PlaySoundBJ(gg_snd_MetalMediumChopFlesh2)
    call TriggerSleepAction(0.10)
    if ( Trig_FootmanFightSounds_Func166001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_MetalMediumChopFlesh3, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call PlaySoundBJ(gg_snd_MetalMediumChopFlesh3)
    call TriggerSleepAction(0.20)
    if ( Trig_FootmanFightSounds_Func170001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_MetalMediumChopFlesh2, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call PlaySoundBJ(gg_snd_MetalMediumChopFlesh2)
    call TriggerSleepAction(0.20)
    if ( Trig_FootmanFightSounds_Func174001() ) then
        return
    else
        call DoNothing()
    endif
    call SetSoundPositionLocBJ(gg_snd_MetalMediumSliceFlesh3, GetRectCenter(gg_rct_BattleSoundArea), 0)
    call PlaySoundBJ(gg_snd_MetalMediumSliceFlesh3)
endfunction

//===========================================================================
function InitTrig_FootmanFightSounds takes nothing returns nothing
    set gg_trg_FootmanFightSounds=CreateTrigger()
    call TriggerAddAction(gg_trg_FootmanFightSounds, function Trig_FootmanFightSounds_Actions)
endfunction

//===========================================================================
// Trigger: Ending Cinematic C
//===========================================================================
function Trig_Ending_Cinematic_C_Conditions takes nothing returns boolean
    if ( not ( udg_EndingCancelled == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Ending_Cinematic_C_Func003001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_C_Func006002 takes nothing returns nothing
    call ShowUnitHide(GetEnumUnit())
endfunction

function Trig_Ending_Cinematic_C_Func095002 takes nothing returns nothing
    call ShowUnitHide(GetEnumUnit())
endfunction

function Trig_Ending_Cinematic_C_Func096002 takes nothing returns nothing
    call ShowUnitHide(GetEnumUnit())
endfunction

function Trig_Ending_Cinematic_C_Func097002 takes nothing returns nothing
    call ShowUnitHide(GetEnumUnit())
endfunction

function Trig_Ending_Cinematic_C_Func103001 takes nothing returns boolean
    return ( IsUnitDeadBJ(udg_Arthas) == true )
endfunction

function Trig_Ending_Cinematic_C_Actions takes nothing returns nothing
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.blp", 0, 0, 0, 0)
    call TriggerSleepAction(0.60)
    if ( Trig_Ending_Cinematic_C_Func003001() ) then
        return
    else
        call DoNothing()
    endif
    call PauseAllUnitsBJ(true)
    call SetUnitInvulnerable(udg_Jaina, true)
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_Kill_Em_All), function Trig_Ending_Cinematic_C_Func006002)
    call SetPlayerAllianceStateBJ(Player(0), Player(9), bj_ALLIANCE_NEUTRAL)
    call SetPlayerAllianceStateBJ(Player(9), Player(0), bj_ALLIANCE_NEUTRAL)
    // ----------
    call CreateNUnitsAtLoc(1, 'hfoo', Player(0), GetRectCenter(gg_rct_Rifleman_Fire_B), 0.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(1)))
    call SetUnitPathing(GetLastCreatedUnit(), false)
    call SetUnitBlendTimeBJ(GetLastCreatedUnit(), 0.00)
    call SetUnitAnimation(GetLastCreatedUnit(), "decay flesh")
    call SetUnitTimeScalePercent(GetLastCreatedUnit(), 10.00)
    call CreateNUnitsAtLoc(1, 'uabo', Player(0), GetRectCenter(gg_rct_Abomination_Dead), 0.40)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(6)))
    call SetUnitPathing(GetLastCreatedUnit(), false)
    call SetUnitBlendTimeBJ(GetLastCreatedUnit(), 0.00)
    call SetUnitAnimation(GetLastCreatedUnit(), "decay flesh")
    call SetUnitTimeScalePercent(GetLastCreatedUnit(), 10.00)
    call CreateNUnitsAtLoc(1, 'ugho', Player(0), GetRectCenter(gg_rct_01Jaina_A), 60.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(6)))
    call SetUnitPathing(GetLastCreatedUnit(), false)
    call SetUnitBlendTimeBJ(GetLastCreatedUnit(), 0.00)
    call SetUnitAnimation(GetLastCreatedUnit(), "decay flesh")
    call SetUnitTimeScalePercent(GetLastCreatedUnit(), 10.00)
    call CreateNUnitsAtLoc(1, 'uabo', Player(0), GetRectCenter(gg_rct_Abomination_Dead_B), 95.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(5)))
    call SetUnitPathing(GetLastCreatedUnit(), false)
    call SetUnitBlendTimeBJ(GetLastCreatedUnit(), 0.00)
    call SetUnitAnimation(GetLastCreatedUnit(), "decay flesh")
    call SetUnitTimeScalePercent(GetLastCreatedUnit(), 10.00)
    call CreateNUnitsAtLoc(1, 'hfoo', Player(0), GetRectCenter(gg_rct_Rifleman_Fire_C), 0.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(1)))
    call SetUnitPathing(GetLastCreatedUnit(), false)
    call SetUnitBlendTimeBJ(GetLastCreatedUnit(), 0.00)
    call SetUnitAnimation(GetLastCreatedUnit(), "decay flesh")
    call SetUnitTimeScalePercent(GetLastCreatedUnit(), 10.00)
    call CreateNUnitsAtLoc(1, 'umtw', Player(0), GetRectCenter(gg_rct_Conversion_07), 0.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(6)))
    call SetUnitPathing(GetLastCreatedUnit(), false)
    call SetUnitBlendTimeBJ(GetLastCreatedUnit(), 0.00)
    call SetUnitAnimation(GetLastCreatedUnit(), "decay flesh")
    call SetUnitTimeScalePercent(GetLastCreatedUnit(), 10.00)
    call CreateNUnitsAtLoc(1, 'hsor', Player(0), GetRectCenter(gg_rct_01Jaina_B), 43.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(9)))
    call SetUnitPathing(GetLastCreatedUnit(), false)
    call SetUnitBlendTimeBJ(GetLastCreatedUnit(), 0.00)
    call SetUnitAnimation(GetLastCreatedUnit(), "decay flesh")
    call SetUnitTimeScalePercent(GetLastCreatedUnit(), 10.00)
    call CreateNUnitsAtLoc(1, 'ugho', Player(0), GetRectCenter(gg_rct_Skeleton), 23.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(3)))
    call SetUnitPathing(GetLastCreatedUnit(), false)
    call SetUnitBlendTimeBJ(GetLastCreatedUnit(), 0.00)
    call SetUnitAnimation(GetLastCreatedUnit(), "decay flesh")
    call SetUnitTimeScalePercent(GetLastCreatedUnit(), 10.00)
    call CreateNUnitsAtLoc(1, 'hrif', Player(0), GetRectCenter(gg_rct_Rifleman_Dead), 87.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(1)))
    call SetUnitPathing(GetLastCreatedUnit(), false)
    call SetUnitBlendTimeBJ(GetLastCreatedUnit(), 0.00)
    call SetUnitAnimation(GetLastCreatedUnit(), "decay flesh")
    call SetUnitTimeScalePercent(GetLastCreatedUnit(), 10.00)
    call CreateNUnitsAtLoc(1, 'ugho', Player(0), GetRectCenter(gg_rct_01Jaina_A), 77.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(3)))
    call SetUnitPathing(GetLastCreatedUnit(), false)
    call SetUnitBlendTimeBJ(GetLastCreatedUnit(), 0.00)
    call SetUnitAnimation(GetLastCreatedUnit(), "decay flesh")
    call SetUnitTimeScalePercent(GetLastCreatedUnit(), 10.00)
    call CreateNUnitsAtLoc(1, 'hmpr', Player(0), GetRectCenter(gg_rct_Unlucky_Priest), 77.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(9)))
    call SetUnitPathing(GetLastCreatedUnit(), false)
    call SetUnitBlendTimeBJ(GetLastCreatedUnit(), 0.00)
    call SetUnitAnimation(GetLastCreatedUnit(), "decay flesh")
    call SetUnitTimeScalePercent(GetLastCreatedUnit(), 10.00)
    call CreateNUnitsAtLoc(1, 'ugho', Player(0), GetRectCenter(gg_rct_Dead_Ghoul_Other), 27.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(6)))
    call SetUnitPathing(GetLastCreatedUnit(), false)
    call SetUnitBlendTimeBJ(GetLastCreatedUnit(), 0.00)
    call SetUnitAnimation(GetLastCreatedUnit(), "decay flesh")
    call SetUnitTimeScalePercent(GetLastCreatedUnit(), 10.00)
    call CreateNUnitsAtLoc(1, 'uabo', Player(0), GetRectCenter(gg_rct_Conversion_02), 234.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(5)))
    call SetUnitPathing(GetLastCreatedUnit(), false)
    call SetUnitBlendTimeBJ(GetLastCreatedUnit(), 0.00)
    call SetUnitAnimation(GetLastCreatedUnit(), "decay flesh")
    call SetUnitTimeScalePercent(GetLastCreatedUnit(), 10.00)
    call CreateNUnitsAtLoc(1, 'unec', Player(0), GetRectCenter(gg_rct_Necro_Dead), 34.00)
    call SetUnitColor(GetLastCreatedUnit(), GetPlayerColor(Player(6)))
    call SetUnitPathing(GetLastCreatedUnit(), false)
    call SetUnitBlendTimeBJ(GetLastCreatedUnit(), 0.00)
    call SetUnitAnimation(GetLastCreatedUnit(), "decay flesh")
    call SetUnitTimeScalePercent(GetLastCreatedUnit(), 10.00)
    // ----------
    call ForGroupBJ(GetUnitsOfPlayerAll(Player(3)), function Trig_Ending_Cinematic_C_Func095002)
    call ForGroupBJ(GetUnitsOfPlayerAll(Player(5)), function Trig_Ending_Cinematic_C_Func096002)
    call ForGroupBJ(GetUnitsOfPlayerAll(Player(6)), function Trig_Ending_Cinematic_C_Func097002)
    // ----------
    call PauseUnitBJ(false, udg_Arthas)
    call PauseUnitBJ(false, udg_Jaina)
    call PauseUnitBJ(false, udg_Uther)
    if ( Trig_Ending_Cinematic_C_Func103001() ) then
        call ReviveHeroLoc(udg_Arthas, GetRectCenter(gg_rct_06Arthas_Ending_A), false)
    else
        call SetUnitPositionLocFacingBJ(udg_Arthas, GetRectCenter(gg_rct_06Arthas_Ending_A), 300.00)
    endif
    call SetUnitPositionLoc(udg_Jaina, GetRectCenter(gg_rct_Jaina_Stands_Around))
    call ShowUnitShow(udg_Jaina)
    call SetUnitPositionLoc(udg_Uther, GetRectCenter(gg_rct_Uther_Talks_To_Arthas))
    call ShowUnitShow(udg_Uther)
    call SetUnitPositionLoc(udg_Arthas, GetRectCenter(gg_rct_Arthas_Talks_To_Uther))
    call ShowUnitShow(udg_Arthas)
    call SetUnitFacingToFaceUnitTimed(udg_Uther, udg_Arthas, 0.25)
    call SetUnitFacingToFaceUnitTimed(udg_Jaina, udg_Arthas, 0.25)
    call SetUnitFacingToFaceUnitTimed(udg_Arthas, udg_Uther, 0.25)
    // ----------
    call UnitRemoveBuffsBJ(bj_REMOVEBUFFS_ALL, udg_Arthas)
    call UnitRemoveBuffsBJ(bj_REMOVEBUFFS_ALL, udg_Uther)
    call SetStackedSoundBJ(false, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop01)
    call SetStackedSoundBJ(false, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop02)
    call SetStackedSoundBJ(false, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop03)
    call SetStackedSoundBJ(false, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop04)
    call SetStackedSoundBJ(false, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop05)
    call SetStackedSoundBJ(false, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop06)
    call SetStackedSoundBJ(false, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop07)
    call SetStackedSoundBJ(false, gg_snd_WaterLakeLoop1, gg_rct_LakeLoop08)
    // ----------
    call CameraSetupApplyForPlayer(true, gg_cam_Surprised_A, Player(1), 0)
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEIN, 2.00, "ReplaceableTextures\\CameraMasks\\White_mask.blp", 0, 0, 0, 0)
    call ConditionalTriggerExecute(gg_trg_Ending_Cinematic_D)
endfunction

//===========================================================================
function InitTrig_Ending_Cinematic_C takes nothing returns nothing
    set gg_trg_Ending_Cinematic_C=CreateTrigger()
    call TriggerAddCondition(gg_trg_Ending_Cinematic_C, Condition(function Trig_Ending_Cinematic_C_Conditions))
    call TriggerAddAction(gg_trg_Ending_Cinematic_C, function Trig_Ending_Cinematic_C_Actions)
endfunction

//===========================================================================
// Trigger: Ending Cinematic D
//===========================================================================
function Trig_Ending_Cinematic_D_Func002001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_D_Func009001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_D_Func019001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_D_Func022001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_D_Func025001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_D_Func028001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_D_Func031001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_D_Func036001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_D_Func040001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_D_Func045001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_D_Func047001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_D_Func050001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_D_Func054001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_D_Func059001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_D_Func061001 takes nothing returns boolean
    return ( udg_EndingCancelled == true )
endfunction

function Trig_Ending_Cinematic_D_Actions takes nothing returns nothing
    call TriggerSleepAction(0.50)
    if ( Trig_Ending_Cinematic_D_Func002001() ) then
        return
    else
        call DoNothing()
    endif
    call IssueImmediateOrderBJ(udg_Arthas, "stop")
    call SetUnitFacingToFaceUnitTimed(udg_Uther, udg_Arthas, 0.25)
    call SetUnitFacingToFaceUnitTimed(udg_Jaina, udg_Arthas, 0.25)
    call SetUnitFacingToFaceUnitTimed(udg_Arthas, udg_Uther, 0.25)
    // ----------
    call TriggerSleepAction(0.50)
    if ( Trig_Ending_Cinematic_D_Func009001() ) then
        return
    else
        call DoNothing()
    endif
    call SetUnitAnimation(udg_Arthas, "stand")
    call SetUnitAnimation(udg_Jaina, "stand")
    call SetUnitAnimation(udg_Uther, "stand")
    // ----------
    call PlayThematicMusicBJ("Sound\\Music\\mp3Music\\SadMystery.mp3")
    // ----------
    call CameraSetupApplyForPlayer(true, gg_cam_Surprised_A, Player(1), 0)
    call CameraSetupApplyForPlayer(true, gg_cam_Surprised_B, Player(1), 4.00)
    call TriggerSleepAction(3.00)
    if ( Trig_Ending_Cinematic_D_Func019001() ) then
        return
    else
        call DoNothing()
    endif
    call TransmissionFromUnitWithNameBJ(GetPlayersAll(), udg_Uther, "TRIGSTR_092", gg_snd_H05Uther30, "TRIGSTR_093", bj_TIMETYPE_ADD, 0.00, false)
    call WaitForSoundBJ(gg_snd_H05Uther30, 1.10)
    if ( Trig_Ending_Cinematic_D_Func022001() ) then
        return
    else
        call DoNothing()
    endif
    call TransmissionFromUnitWithNameBJ(GetPlayersAll(), udg_Arthas, "TRIGSTR_094", gg_snd_H05Arthas31, "TRIGSTR_095", bj_TIMETYPE_ADD, 0.00, false)
    call WaitForSoundBJ(gg_snd_H05Arthas31, 0.55)
    if ( Trig_Ending_Cinematic_D_Func025001() ) then
        return
    else
        call DoNothing()
    endif
    call CameraSetupApplyForPlayer(true, gg_cam_Nows_Not_The_Time, Player(1), 0.00)
    call TransmissionFromUnitWithNameBJ(GetPlayersAll(), udg_Uther, "TRIGSTR_096", gg_snd_H05Uther32, "TRIGSTR_097", bj_TIMETYPE_ADD, 0.00, true)
    if ( Trig_Ending_Cinematic_D_Func028001() ) then
        return
    else
        call DoNothing()
    endif
    // ----------
    call TriggerSleepAction(0.50)
    if ( Trig_Ending_Cinematic_D_Func031001() ) then
        return
    else
        call DoNothing()
    endif
    // ----------
    call CameraSetupApplyForPlayer(true, gg_cam_Surprised_B, Player(1), 0.00)
    call TransmissionFromUnitWithNameBJ(GetPlayersAll(), udg_Arthas, "TRIGSTR_103", gg_snd_H05Arthas33, "TRIGSTR_104", bj_TIMETYPE_ADD, 0.00, false)
    call TriggerSleepAction(2.00)
    if ( Trig_Ending_Cinematic_D_Func036001() ) then
        return
    else
        call DoNothing()
    endif
    call IssuePointOrderLocBJ(udg_Arthas, "move", GetRectCenter(gg_rct_Arthas_Moves_A_little))
    call SetUnitFacingToFaceLocTimed(udg_Arthas, GetRectCenter(gg_rct_01Militia_Line_C_02a), 0.30)
    call TriggerSleepAction(4.00)
    if ( Trig_Ending_Cinematic_D_Func040001() ) then
        return
    else
        call DoNothing()
    endif
    call CameraSetupApplyForPlayer(true, gg_cam_Nows_Not_The_Time, Player(1), 0.00)
    call CameraSetupApplyForPlayer(true, gg_cam_Easy_Lad, Player(1), 3.00)
    call IssuePointOrderLocBJ(udg_Uther, "move", GetRectCenter(gg_rct_Easy_Lad))
    call TriggerSleepAction(1.50)
    if ( Trig_Ending_Cinematic_D_Func045001() ) then
        return
    else
        call DoNothing()
    endif
    call WaitForSoundBJ(gg_snd_H05Arthas33, 0)
    if ( Trig_Ending_Cinematic_D_Func047001() ) then
        return
    else
        call DoNothing()
    endif
    call SetUnitFacingToFaceLocTimed(udg_Uther, GetRectCenter(gg_rct_01Militia_Line_B_01a), 0.30)
    call TransmissionFromUnitWithNameBJ(GetPlayersAll(), udg_Uther, "TRIGSTR_105", gg_snd_H05Uther34, "TRIGSTR_106", bj_TIMETYPE_ADD, 0.00, true)
    if ( Trig_Ending_Cinematic_D_Func050001() ) then
        return
    else
        call DoNothing()
    endif
    call TransmissionFromUnitWithNameBJ(GetPlayersAll(), udg_Arthas, "TRIGSTR_107", gg_snd_H05Arthas35, "TRIGSTR_108", bj_TIMETYPE_ADD, 0.00, false)
    call SetUnitLookAt(udg_Arthas, "bone_head", udg_Uther, 0, 0, 90)
    call TriggerSleepAction(3.75)
    if ( Trig_Ending_Cinematic_D_Func054001() ) then
        return
    else
        call DoNothing()
    endif
    call ResetUnitLookAt(udg_Arthas)
    call IssuePointOrderLocBJ(udg_Arthas, "move", GetRectCenter(gg_rct_Conversion_02))
    call SetUnitLookAt(udg_Uther, "bone_head", udg_Arthas, 0, 0, 90)
    call TriggerSleepAction(2.50)
    if ( Trig_Ending_Cinematic_D_Func059001() ) then
        return
    else
        call DoNothing()
    endif
    call WaitForSoundBJ(gg_snd_H05Arthas35, 0)
    if ( Trig_Ending_Cinematic_D_Func061001() ) then
        return
    else
        call DoNothing()
    endif
    // Cinematic Can No Longer Be Skipped
    call DisableTrigger(gg_trg_Victory_Cancel)
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.blp", 0, 0, 0, 0)
    call TriggerSleepAction(2.00)
    call TriggerExecute(gg_trg_Victory)
endfunction

//===========================================================================
function InitTrig_Ending_Cinematic_D takes nothing returns nothing
    set gg_trg_Ending_Cinematic_D=CreateTrigger()
    call TriggerAddAction(gg_trg_Ending_Cinematic_D, function Trig_Ending_Cinematic_D_Actions)
endfunction

//===========================================================================
// Trigger: AP mercenaries
//===========================================================================

function mercenaries_create_camp takes nothing returns nothing
    if mercenary_camp != null then
        return
    endif
    // grid hexes are multiples of 64
    set mercenary_camp=CreateUnit(Player(PLAYER_NEUTRAL_PASSIVE), 'nmrd', 4864.0, - 1984.0, 270.0)
    call SetUnitColor(mercenary_camp, ConvertPlayerColor(5))
    call CreateUnit(Player(PLAYER_NEUTRAL_AGGRESSIVE), 'nbrg', 5101.7, - 1992.0, 88.0)
    call CreateUnit(Player(PLAYER_NEUTRAL_AGGRESSIVE), 'nogr', 4944.0, - 1788.0, 79.0)
endfunction

function mercenaries_apply takes nothing returns nothing
    local integer index= 0
    local integer mask= 536870912
    local integer scanned= 0
    local integer signal= 'ncrb'
    local unit target_camp= mercenary_camp
    local integer u
    loop
        exitwhen mask == 0
        if mask == 524288 then // 1 << 19
            set signal='ndog'
            set index=0
            set target_camp=null
        elseif mask == 512 then // 1 << 9
            set signal='ndwm'
            set index=0
            set target_camp=null
        endif
        set u=GetPlayerTechMaxAllowed(Player(index), signal)
        if units_added - scanned >= mask then
            // already added
            set scanned=scanned + mask
        elseif u > 0 then
            // add the unit
            call AddUnitToStock(target_camp, u, 0, 2)
            set scanned=scanned + mask
            set units_added=units_added + mask
        endif
        set mask=mask / 2
        set index=index + 1
    endloop
endfunction

function InitTrig_AP_mercenaries takes nothing returns nothing
    set t_create_mercenary_camps=CreateTrigger()
    call TriggerAddAction(t_create_mercenary_camps, function mercenaries_create_camp)
    set t_apply_mercenaries=CreateTrigger()
    call TriggerAddAction(t_apply_mercenaries, function mercenaries_apply)
endfunction
//===========================================================================
function InitCustomTriggers takes nothing returns nothing
    call InitTrig_fileio()
    call InitTrig_map_config()
    call InitTrig_status()
    call InitTrig_heroes()
    call InitTrig_item_locations()
    call InitTrig_debug()
    call InitTrig_zoom()
    call InitTrig_irregulars()
    call InitTrig_AP_Load_Arthas()
    call InitTrig_AP_Load_Jaina()
    call InitTrig_Shop_Locations()
    call InitTrig_Purple_Lich_Location()
    call InitTrig_Green_Lich_Location()
    call InitTrig_Purple_Base_Location()
    call InitTrig_Green_Base_Location()
    call InitTrig_Map_Initilization()
    call InitTrig_Load_Heroes()
    call InitTrig_SetupHereos()
    call InitTrig_SetupBreadcrumbs()
    call InitTrig_SetupBreadcrumbs_Single()
    call InitTrig_SetupFormations()
    call InitTrig_SetupCaravan()
    call InitTrig_SetupCaravan_Single_Wagon()
    call InitTrig_SetupCaravan_Single_Guard()
    call InitTrig_SetupHerathglenVillagers()
    call InitTrig_SetupPlayers()
    call InitTrig_Setup_Sounds()
    call InitTrig_SetupQuest()
    call InitTrig_Difficulty_Easy()
    call InitTrig_Difficulty_Normal()
    call InitTrig_Difficulty_Hard()
    call InitTrig_Remove_AI_Units()
    call InitTrig_Intro_Cancelled()
    call InitTrig_Cinematic_A()
    call InitTrig_Cinematic_B()
    call InitTrig_Sergeant_Move()
    call InitTrig_Cinematic_C()
    call InitTrig_Cinematic_D()
    call InitTrig_Cinematic_E()
    call InitTrig_Cinematic_F()
    call InitTrig_Dark_Conversion_01()
    call InitTrig_Dark_Conversion_02()
    call InitTrig_Dark_Conversion_03()
    call InitTrig_Dark_Conversion_04()
    call InitTrig_Dark_Conversion_05()
    call InitTrig_Dark_Conversion_06()
    call InitTrig_Dark_Conversion_07()
    call InitTrig_Troop_Facing()
    call InitTrig_Militia_Line_A()
    call InitTrig_Militia_Line_B()
    call InitTrig_Militia_Line_C()
    call InitTrig_Militia_A()
    call InitTrig_Militia_B()
    call InitTrig_Militia_C()
    call InitTrig_Militia_Repeat_A()
    call InitTrig_Militia_Repeat_B()
    call InitTrig_Militia_Repeat_C()
    call InitTrig_Mission_Begins()
    call InitTrig_Jaina_Items_Drop()
    call InitTrig_Start_AI()
    call InitTrig_Zombies_are_Dead()
    call InitTrig_Main_Quest_Discovered()
    call InitTrig_Sorceress_Available()
    call InitTrig_First_Attack_Wave_01_QUE()
    call InitTrig_First_Attack_Wave_01()
    call InitTrig_City_Building()
    call InitTrig_Sheep()
    call InitTrig_ArthasHopeless_QUE()
    call InitTrig_ArthasHopeless()
    call InitTrig_Timer_Warning_10_QUE()
    call InitTrig_Timer_Warning_10()
    call InitTrig_Outside_Farmer_01()
    call InitTrig_Outside_Farmer_02()
    call InitTrig_Outside_Farmer_03()
    call InitTrig_Outside_Famer_01_Zombie()
    call InitTrig_Malganis_Corruption()
    call InitTrig_Dark_Conversion_Outside_Farm()
    call InitTrig_Crate_Item()
    call InitTrig_01Roaming_Villager_A()
    call InitTrig_01Roaming_Villager_Aa()
    call InitTrig_01Roaming_Villager_B()
    call InitTrig_01Roaming_Villager_Bb()
    call InitTrig_01Villager_Retreat_A()
    call InitTrig_01Villager_Retreat_B()
    call InitTrig_01Remove_Villager_01()
    call InitTrig_01Remove_Villager_02()
    call InitTrig_02Roaming_Villager_A()
    call InitTrig_02Roaming_Villager_B()
    call InitTrig_02Roaming_Villager_C()
    call InitTrig_02Villager_Retreat_A()
    call InitTrig_02Remove_Villager_01()
    call InitTrig_03Roaming_Villager_A()
    call InitTrig_03Roaming_Villager_B()
    call InitTrig_03Roaming_Villager_C()
    call InitTrig_03Villager_Retreat_A()
    call InitTrig_03Remove_Villager_01()
    call InitTrig_04Roaming_Villager_A()
    call InitTrig_04Roaming_Villager_B()
    call InitTrig_04Roaming_Villager_C()
    call InitTrig_04Villager_Retreat_A()
    call InitTrig_04Remove_Villager_01()
    call InitTrig_05Roaming_Villager_A()
    call InitTrig_05Roaming_Villager_B()
    call InitTrig_05Villager_Retreat_A()
    call InitTrig_05Remove_Villager_01()
    call InitTrig_06Roaming_Villager_A()
    call InitTrig_06Roaming_Villager_B()
    call InitTrig_06Roaming_Villager_C()
    call InitTrig_06Roaming_Villager_D()
    call InitTrig_06Roaming_Villager_E()
    call InitTrig_06Villager_Retreat_A()
    call InitTrig_06Villager_Retreat_B()
    call InitTrig_06Remove_Villager_01()
    call InitTrig_06Remove_Villager_02()
    call InitTrig_Reorient_Formation()
    call InitTrig_Reorient_Formation_Single()
    call InitTrig_Caravan_Orders_Pause()
    call InitTrig_Caravan_Orders_Resume()
    call InitTrig_Caravan_Orders()
    call InitTrig_Caravan_Orders_Single_Wagon()
    call InitTrig_Caravan_Orders_Single_Guard()
    call InitTrig_Caravan_Unit_Dies()
    call InitTrig_Guard_Attacked()
    call InitTrig_Guard_Catches_Up()
    call InitTrig_Guard_Catches_Up_Single()
    call InitTrig_Wagons_Reach_Breadcrumb()
    call InitTrig_Target_Next_Breadcrumb()
    call InitTrig_Caravan_To_Town1()
    call InitTrig_Caravan_To_Town2()
    call InitTrig_Caravan_To_Town3()
    call InitTrig_Caravan_To_Town4()
    call InitTrig_Caravan_Attacked_QUE()
    call InitTrig_Caravan_Attacked()
    call InitTrig_Caravan_Wagon_Dies_QUE()
    call InitTrig_Caravan_Wagon_Dies()
    call InitTrig_Caravan_Removal()
    call InitTrig_Town_Portal_Hint_QUE()
    call InitTrig_Town_Portal_Hint()
    call InitTrig_Corruption01_QUE()
    call InitTrig_Corruption01()
    call InitTrig_Dark_Conversion_Farm_01()
    call InitTrig_Caravan_Side_Quest()
    call InitTrig_Share_Vision_Last_Town()
    call InitTrig_Ghouls01()
    call InitTrig_Attack01()
    call InitTrig_Create_Plague_01()
    call InitTrig_Create_Plague_One_01()
    call InitTrig_Destroy_Plague_01()
    call InitTrig_Destroy_Plague_One_01()
    call InitTrig_Corruption02_QUE()
    call InitTrig_Corruption02()
    call InitTrig_Dark_Conversion_Farm_02()
    call InitTrig_DialogueFarm02()
    call InitTrig_Ghouls02()
    call InitTrig_Attack02()
    call InitTrig_Create_Plague_02()
    call InitTrig_Create_Plague_One_02()
    call InitTrig_Destroy_Plague_02()
    call InitTrig_Destroy_Plague_One_02()
    call InitTrig_Corruption03_QUE()
    call InitTrig_Corruption03()
    call InitTrig_Dark_Conversion_Farm_03()
    call InitTrig_DialogueFarm03()
    call InitTrig_Ghouls03()
    call InitTrig_Attack03()
    call InitTrig_Create_Plague_03()
    call InitTrig_Create_Plague_One_03()
    call InitTrig_Destroy_Plague_03()
    call InitTrig_Destroy_Plague_One_03()
    call InitTrig_Corruption04_QUE()
    call InitTrig_Corruption04()
    call InitTrig_Dark_Conversion_Farm_04()
    call InitTrig_DialogueFarm04()
    call InitTrig_Ghouls04()
    call InitTrig_Attack04()
    call InitTrig_Blight()
    call InitTrig_Create_Plague_04()
    call InitTrig_Create_Plague_One_04()
    call InitTrig_Destroy_Plague_04()
    call InitTrig_Destroy_Plague_One_04()
    call InitTrig_Free_Villager()
    call InitTrig_Free_Vill_Dialogue01_Que()
    call InitTrig_Free_Vill_Dialogue02_Que()
    call InitTrig_Free_Villager_Remove()
    call InitTrig_Villagers_Greeting_QUE()
    call InitTrig_Villagers_Greeting()
    call InitTrig_Villagers_in_House()
    call InitTrig_Remove_Villager01()
    call InitTrig_Remove_Villager02()
    call InitTrig_Remove_Villager03()
    call InitTrig_Dead_Villagers_No_Troops()
    call InitTrig_Villager_Reinforcement01()
    call InitTrig_Villager_Reinforcement02()
    call InitTrig_Villager_Reinforcement03()
    call InitTrig_Ogres_QUE()
    call InitTrig_Ogres()
    call InitTrig_Suicide_AI()
    call InitTrig_UnlimitedGoldGreen()
    call InitTrig_UnlimitedLumberGreen()
    call InitTrig_Orange_AI_Attack_Wave()
    call InitTrig_OrangeTown()
    call InitTrig_ResourcesOrange()
    call InitTrig_UnlimitedGoldOrange()
    call InitTrig_UnlimitedLumberOrange()
    call InitTrig_UnlimitedGoldPurple()
    call InitTrig_UnlimitedLumberPurple()
    call InitTrig_Victory_Cheat()
    call InitTrig_Victory1()
    call InitTrig_Victory2()
    call InitTrig_Victory()
    call InitTrig_Defeat()
    call InitTrig_Defeat_Cheat()
    call InitTrig_Victory_Cancel()
    call InitTrig_Ending_Start()
    call InitTrig_Ending_Cinematic_A()
    call InitTrig_FootmanFightSounds()
    call InitTrig_Ending_Cinematic_C()
    call InitTrig_Ending_Cinematic_D()
    call InitTrig_AP_mercenaries()
endfunction

//===========================================================================
function RunInitializationTriggers takes nothing returns nothing
    call ConditionalTriggerExecute(gg_trg_Shop_Locations)
    call ConditionalTriggerExecute(gg_trg_Map_Initilization)
    call ConditionalTriggerExecute(gg_trg_ResourcesOrange)
endfunction

//***************************************************************************
//*
//*  Upgrades
//*
//***************************************************************************

function InitUpgrades_Player1 takes nothing returns nothing
    call SetPlayerTechMaxAllowed(Player(1), 'Rhme', 1)
    call SetPlayerTechMaxAllowed(Player(1), 'Rhra', 1)
    call SetPlayerTechMaxAllowed(Player(1), 'Rhaa', 1)
    call SetPlayerTechMaxAllowed(Player(1), 'Rhar', 1)
    call SetPlayerTechMaxAllowed(Player(1), 'Rhac', 1)
    call SetPlayerTechMaxAllowed(Player(1), 'Rhmi', 1)
    call SetPlayerTechMaxAllowed(Player(1), 'Rhss', 0)
    call SetPlayerTechMaxAllowed(Player(1), 'Rhan', 0)
    call SetPlayerTechMaxAllowed(Player(1), 'Rhst', 1)
    call SetPlayerTechMaxAllowed(Player(1), 'Rhla', 1)
    call SetPlayerTechMaxAllowed(Player(1), 'Rhlh', 1)
    call SetPlayerTechMaxAllowed(Player(1), 'Rhse', 0)
    call SetPlayerTechMaxAllowed(Player(1), 'Rhpt', 1)
    call SetPlayerTechMaxAllowed(Player(1), 'Rhgb', 0)
endfunction

function InitUpgrades_Player6 takes nothing returns nothing
    call SetPlayerTechResearched(Player(6), 'Rump', 1)
endfunction

function InitUpgrades_Player9 takes nothing returns nothing
    call SetPlayerTechResearched(Player(9), 'Rhme', 3)
    call SetPlayerTechResearched(Player(9), 'Rhar', 3)
    call SetPlayerTechResearched(Player(9), 'Rhpt', 2)
    call SetPlayerTechResearched(Player(9), 'Rhst', 2)
    call SetPlayerTechResearched(Player(9), 'Rhan', 1)
endfunction

function InitUpgrades takes nothing returns nothing
    call InitUpgrades_Player1()
    call InitUpgrades_Player6()
    call InitUpgrades_Player9()
endfunction

//***************************************************************************
//*
//*  TechTree
//*
//***************************************************************************

function InitTechTree_Player0 takes nothing returns nothing
    call SetPlayerTechMaxAllowed(Player(0), 'Hblm', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'Oshd', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'Ucrl', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'Ewar', 0)
endfunction

function InitTechTree_Player1 takes nothing returns nothing
    call SetPlayerAbilityAvailable(Player(1), 'Atdp', false)
    call SetPlayerAbilityAvailable(Player(1), 'Atlp', false)
    call SetPlayerTechMaxAllowed(Player(1), 'Stpr', 0)
    call SetPlayerTechMaxAllowed(Player(1), 'Stpm', 0)
    call SetPlayerTechMaxAllowed(Player(1), 'hkni', 0)
    call SetPlayerTechMaxAllowed(Player(1), 'hgyr', 0)
    call SetPlayerTechMaxAllowed(Player(1), 'hgry', 0)
    call SetPlayerTechMaxAllowed(Player(1), 'Hamg', 0)
    call SetPlayerTechMaxAllowed(Player(1), 'Hmkg', 0)
    call SetPlayerTechMaxAllowed(Player(1), 'Hpal', 0)
    call SetPlayerTechMaxAllowed(Player(1), 'hcas', 0)
    call SetPlayerTechMaxAllowed(Player(1), 'hgra', 0)
    call SetPlayerTechMaxAllowed(Player(1), 'hmtt', 0)
    call SetPlayerTechMaxAllowed(Player(1), 'hstt', 0)
    call SetPlayerTechMaxAllowed(Player(1), 'Hblm', 0)
    call SetPlayerTechMaxAllowed(Player(1), 'Oshd', 0)
    call SetPlayerTechMaxAllowed(Player(1), 'Ucrl', 0)
    call SetPlayerTechMaxAllowed(Player(1), 'Ewar', 0)
endfunction

function InitTechTree_Player3 takes nothing returns nothing
    call SetPlayerTechMaxAllowed(Player(3), 'Udea', 0)
    call SetPlayerTechMaxAllowed(Player(3), 'Ulic', 0)
    call SetPlayerTechMaxAllowed(Player(3), 'Udre', 0)
    call SetPlayerTechMaxAllowed(Player(3), 'Hblm', 0)
    call SetPlayerTechMaxAllowed(Player(3), 'Oshd', 0)
    call SetPlayerTechMaxAllowed(Player(3), 'Ucrl', 0)
    call SetPlayerTechMaxAllowed(Player(3), 'Ewar', 0)
endfunction

function InitTechTree_Player5 takes nothing returns nothing
    call SetPlayerTechMaxAllowed(Player(5), 'Udea', 0)
    call SetPlayerTechMaxAllowed(Player(5), 'Ulic', 0)
    call SetPlayerTechMaxAllowed(Player(5), 'Udre', 0)
endfunction

function InitTechTree_Player6 takes nothing returns nothing
    call SetPlayerTechMaxAllowed(Player(6), 'Udea', 0)
    call SetPlayerTechMaxAllowed(Player(6), 'Ulic', 0)
    call SetPlayerTechMaxAllowed(Player(6), 'Udre', 0)
endfunction

function InitTechTree takes nothing returns nothing
    call InitTechTree_Player0()
    call InitTechTree_Player1()
    call InitTechTree_Player3()
    call InitTechTree_Player5()
    call InitTechTree_Player6()
endfunction

//***************************************************************************
//*
//*  Players
//*
//***************************************************************************

function InitCustomPlayerSlots takes nothing returns nothing

    // Player 0
    call SetPlayerStartLocation(Player(0), 0)
    call ForcePlayerStartLocation(Player(0), 0)
    call SetPlayerColor(Player(0), ConvertPlayerColor(0))
    call SetPlayerRacePreference(Player(0), RACE_PREF_UNDEAD)
    call SetPlayerRaceSelectable(Player(0), false)
    call SetPlayerController(Player(0), MAP_CONTROL_NEUTRAL)

    // Player 1
    call SetPlayerStartLocation(Player(1), 1)
    call ForcePlayerStartLocation(Player(1), 1)
    call SetPlayerColor(Player(1), ConvertPlayerColor(1))
    call SetPlayerRacePreference(Player(1), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(1), false)
    call SetPlayerController(Player(1), MAP_CONTROL_USER)

    // Player 3
    call SetPlayerStartLocation(Player(3), 2)
    call ForcePlayerStartLocation(Player(3), 2)
    call SetPlayerColor(Player(3), ConvertPlayerColor(3))
    call SetPlayerRacePreference(Player(3), RACE_PREF_UNDEAD)
    call SetPlayerRaceSelectable(Player(3), false)
    call SetPlayerController(Player(3), MAP_CONTROL_COMPUTER)

    // Player 4
    call SetPlayerStartLocation(Player(4), 3)
    call ForcePlayerStartLocation(Player(4), 3)
    call SetPlayerColor(Player(4), ConvertPlayerColor(4))
    call SetPlayerRacePreference(Player(4), RACE_PREF_UNDEAD)
    call SetPlayerRaceSelectable(Player(4), false)
    call SetPlayerController(Player(4), MAP_CONTROL_COMPUTER)

    // Player 5
    call SetPlayerStartLocation(Player(5), 4)
    call ForcePlayerStartLocation(Player(5), 4)
    call SetPlayerColor(Player(5), ConvertPlayerColor(5))
    call SetPlayerRacePreference(Player(5), RACE_PREF_UNDEAD)
    call SetPlayerRaceSelectable(Player(5), false)
    call SetPlayerController(Player(5), MAP_CONTROL_COMPUTER)

    // Player 6
    call SetPlayerStartLocation(Player(6), 5)
    call ForcePlayerStartLocation(Player(6), 5)
    call SetPlayerColor(Player(6), ConvertPlayerColor(6))
    call SetPlayerRacePreference(Player(6), RACE_PREF_UNDEAD)
    call SetPlayerRaceSelectable(Player(6), false)
    call SetPlayerController(Player(6), MAP_CONTROL_COMPUTER)

    // Player 8
    call SetPlayerStartLocation(Player(8), 6)
    call ForcePlayerStartLocation(Player(8), 6)
    call SetPlayerColor(Player(8), ConvertPlayerColor(8))
    call SetPlayerRacePreference(Player(8), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(8), false)
    call SetPlayerController(Player(8), MAP_CONTROL_NEUTRAL)

    // Player 9
    call SetPlayerStartLocation(Player(9), 7)
    call ForcePlayerStartLocation(Player(9), 7)
    call SetPlayerColor(Player(9), ConvertPlayerColor(9))
    call SetPlayerRacePreference(Player(9), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(9), false)
    call SetPlayerController(Player(9), MAP_CONTROL_NEUTRAL)

    // Player 11
    call SetPlayerStartLocation(Player(11), 8)
    call ForcePlayerStartLocation(Player(11), 8)
    call SetPlayerColor(Player(11), ConvertPlayerColor(11))
    call SetPlayerRacePreference(Player(11), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(11), false)
    call SetPlayerController(Player(11), MAP_CONTROL_NEUTRAL)

endfunction

function InitCustomTeams takes nothing returns nothing
    // Force: TRIGSTR_279
    call SetPlayerTeam(Player(0), 0)
    call SetPlayerTeam(Player(1), 0)
    call SetPlayerTeam(Player(8), 0)
    call SetPlayerTeam(Player(9), 0)
    call SetPlayerTeam(Player(11), 0)

    //   Allied
    call SetPlayerAllianceStateAllyBJ(Player(0), Player(1), true)
    call SetPlayerAllianceStateAllyBJ(Player(0), Player(8), true)
    call SetPlayerAllianceStateAllyBJ(Player(0), Player(9), true)
    call SetPlayerAllianceStateAllyBJ(Player(0), Player(11), true)
    call SetPlayerAllianceStateAllyBJ(Player(1), Player(0), true)
    call SetPlayerAllianceStateAllyBJ(Player(1), Player(8), true)
    call SetPlayerAllianceStateAllyBJ(Player(1), Player(9), true)
    call SetPlayerAllianceStateAllyBJ(Player(1), Player(11), true)
    call SetPlayerAllianceStateAllyBJ(Player(8), Player(0), true)
    call SetPlayerAllianceStateAllyBJ(Player(8), Player(1), true)
    call SetPlayerAllianceStateAllyBJ(Player(8), Player(9), true)
    call SetPlayerAllianceStateAllyBJ(Player(8), Player(11), true)
    call SetPlayerAllianceStateAllyBJ(Player(9), Player(0), true)
    call SetPlayerAllianceStateAllyBJ(Player(9), Player(1), true)
    call SetPlayerAllianceStateAllyBJ(Player(9), Player(8), true)
    call SetPlayerAllianceStateAllyBJ(Player(9), Player(11), true)
    call SetPlayerAllianceStateAllyBJ(Player(11), Player(0), true)
    call SetPlayerAllianceStateAllyBJ(Player(11), Player(1), true)
    call SetPlayerAllianceStateAllyBJ(Player(11), Player(8), true)
    call SetPlayerAllianceStateAllyBJ(Player(11), Player(9), true)

    // Force: TRIGSTR_012
    call SetPlayerTeam(Player(3), 1)
    call SetPlayerTeam(Player(4), 1)
    call SetPlayerTeam(Player(5), 1)
    call SetPlayerTeam(Player(6), 1)

    //   Allied
    call SetPlayerAllianceStateAllyBJ(Player(3), Player(4), true)
    call SetPlayerAllianceStateAllyBJ(Player(3), Player(5), true)
    call SetPlayerAllianceStateAllyBJ(Player(3), Player(6), true)
    call SetPlayerAllianceStateAllyBJ(Player(4), Player(3), true)
    call SetPlayerAllianceStateAllyBJ(Player(4), Player(5), true)
    call SetPlayerAllianceStateAllyBJ(Player(4), Player(6), true)
    call SetPlayerAllianceStateAllyBJ(Player(5), Player(3), true)
    call SetPlayerAllianceStateAllyBJ(Player(5), Player(4), true)
    call SetPlayerAllianceStateAllyBJ(Player(5), Player(6), true)
    call SetPlayerAllianceStateAllyBJ(Player(6), Player(3), true)
    call SetPlayerAllianceStateAllyBJ(Player(6), Player(4), true)
    call SetPlayerAllianceStateAllyBJ(Player(6), Player(5), true)

    //   Shared Vision
    call SetPlayerAllianceStateVisionBJ(Player(3), Player(4), true)
    call SetPlayerAllianceStateVisionBJ(Player(3), Player(5), true)
    call SetPlayerAllianceStateVisionBJ(Player(3), Player(6), true)
    call SetPlayerAllianceStateVisionBJ(Player(4), Player(3), true)
    call SetPlayerAllianceStateVisionBJ(Player(4), Player(5), true)
    call SetPlayerAllianceStateVisionBJ(Player(4), Player(6), true)
    call SetPlayerAllianceStateVisionBJ(Player(5), Player(3), true)
    call SetPlayerAllianceStateVisionBJ(Player(5), Player(4), true)
    call SetPlayerAllianceStateVisionBJ(Player(5), Player(6), true)
    call SetPlayerAllianceStateVisionBJ(Player(6), Player(3), true)
    call SetPlayerAllianceStateVisionBJ(Player(6), Player(4), true)
    call SetPlayerAllianceStateVisionBJ(Player(6), Player(5), true)

endfunction

function InitAllyPriorities takes nothing returns nothing

    call SetStartLocPrioCount(0, 6)
    call SetStartLocPrio(0, 0, 1, MAP_LOC_PRIO_LOW)
    call SetStartLocPrio(0, 1, 2, MAP_LOC_PRIO_LOW)
    call SetStartLocPrio(0, 2, 4, MAP_LOC_PRIO_LOW)
    call SetStartLocPrio(0, 3, 5, MAP_LOC_PRIO_LOW)
    call SetStartLocPrio(0, 4, 7, MAP_LOC_PRIO_LOW)
    call SetStartLocPrio(0, 5, 8, MAP_LOC_PRIO_LOW)
endfunction

//***************************************************************************
//*
//*  Main Initialization
//*
//***************************************************************************

//===========================================================================
function main takes nothing returns nothing
    call SetCameraBounds(- 8448.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), - 8192.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM), 7936.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), 4096.0 - GetCameraMargin(CAMERA_MARGIN_TOP), - 8448.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), 4096.0 - GetCameraMargin(CAMERA_MARGIN_TOP), 7936.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), - 8192.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM))
    call SetDayNightModels("Environment\\DNC\\DNCLordaeron\\DNCLordaeronTerrain\\DNCLordaeronTerrain.mdl", "Environment\\DNC\\DNCLordaeron\\DNCLordaeronUnit\\DNCLordaeronUnit.mdl")
    call NewSoundEnvironment("Default")
    call SetAmbientDaySound("VillageDay")
    call SetAmbientNightSound("VillageNight")
    call SetMapMusic("Music", true, 0)
    call InitSounds()
    call CreateRegions()
    call CreateCameras()
    call InitUpgrades()
    call InitTechTree()
    call CreateAllDestructables()
    call CreateAllUnits()
    call InitBlizzard()


    call InitGlobals()
    call InitCustomTriggers()
    call RunInitializationTriggers()

endfunction

//***************************************************************************
//*
//*  Map Configuration
//*
//***************************************************************************

function config takes nothing returns nothing
    call SetMapName("TRIGSTR_109")
    call SetMapDescription("TRIGSTR_111")
    call SetPlayers(9)
    call SetTeams(9)
    call SetGamePlacement(MAP_PLACEMENT_USE_MAP_SETTINGS)

    call DefineStartLocation(0, 6208.0, 2880.0)
    call DefineStartLocation(1, 6080.0, - 5376.0)
    call DefineStartLocation(2, - 1024.0, - 1152.0)
    call DefineStartLocation(3, 7680.0, 2752.0)
    call DefineStartLocation(4, 7488.0, 2752.0)
    call DefineStartLocation(5, - 5056.0, - 6336.0)
    call DefineStartLocation(6, 5952.0, - 5376.0)
    call DefineStartLocation(7, 6016.0, - 5440.0)
    call DefineStartLocation(8, - 7296.0, - 1408.0)

    // Player setup
    call InitCustomPlayerSlots()
    call InitCustomTeams()
    call InitAllyPriorities()
endfunction




//Struct method generated initializers/callers:

